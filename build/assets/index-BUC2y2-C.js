(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function sv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fx={exports:{}},Ed={},px={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function mj(){if(Fw)return Gt;Fw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(se){return se===null||typeof se!="object"?null:(se=g&&se[g]||se["@@iterator"],typeof se=="function"?se:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function E(se,U,re){this.props=se,this.context=U,this.refs=w,this.updater=re||v}E.prototype.isReactComponent={},E.prototype.setState=function(se,U){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,U,"setState")},E.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function O(){}O.prototype=E.prototype;function j(se,U,re){this.props=se,this.context=U,this.refs=w,this.updater=re||v}var z=j.prototype=new O;z.constructor=j,_(z,E.prototype),z.isPureReactComponent=!0;var L=Array.isArray,Y=Object.prototype.hasOwnProperty,H={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(se,U,re){var ne,ae={},J=null,De=null;if(U!=null)for(ne in U.ref!==void 0&&(De=U.ref),U.key!==void 0&&(J=""+U.key),U)Y.call(U,ne)&&!S.hasOwnProperty(ne)&&(ae[ne]=U[ne]);var Ve=arguments.length-2;if(Ve===1)ae.children=re;else if(1<Ve){for(var Ce=Array(Ve),Me=0;Me<Ve;Me++)Ce[Me]=arguments[Me+2];ae.children=Ce}if(se&&se.defaultProps)for(ne in Ve=se.defaultProps,Ve)ae[ne]===void 0&&(ae[ne]=Ve[ne]);return{$$typeof:t,type:se,key:J,ref:De,props:ae,_owner:H.current}}function I(se,U){return{$$typeof:t,type:se.type,key:U,ref:se.ref,props:se.props,_owner:se._owner}}function P(se){return typeof se=="object"&&se!==null&&se.$$typeof===t}function M(se){var U={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(re){return U[re]})}var R=/\/+/g;function F(se,U){return typeof se=="object"&&se!==null&&se.key!=null?M(""+se.key):U.toString(36)}function me(se,U,re,ne,ae){var J=typeof se;(J==="undefined"||J==="boolean")&&(se=null);var De=!1;if(se===null)De=!0;else switch(J){case"string":case"number":De=!0;break;case"object":switch(se.$$typeof){case t:case e:De=!0}}if(De)return De=se,ae=ae(De),se=ne===""?"."+F(De,0):ne,L(ae)?(re="",se!=null&&(re=se.replace(R,"$&/")+"/"),me(ae,U,re,"",function(Me){return Me})):ae!=null&&(P(ae)&&(ae=I(ae,re+(!ae.key||De&&De.key===ae.key?"":(""+ae.key).replace(R,"$&/")+"/")+se)),U.push(ae)),1;if(De=0,ne=ne===""?".":ne+":",L(se))for(var Ve=0;Ve<se.length;Ve++){J=se[Ve];var Ce=ne+F(J,Ve);De+=me(J,U,re,Ce,ae)}else if(Ce=y(se),typeof Ce=="function")for(se=Ce.call(se),Ve=0;!(J=se.next()).done;)J=J.value,Ce=ne+F(J,Ve++),De+=me(J,U,re,Ce,ae);else if(J==="object")throw U=String(se),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return De}function Te(se,U,re){if(se==null)return se;var ne=[],ae=0;return me(se,ne,"","",function(J){return U.call(re,J,ae++)}),ne}function je(se){if(se._status===-1){var U=se._result;U=U(),U.then(function(re){(se._status===0||se._status===-1)&&(se._status=1,se._result=re)},function(re){(se._status===0||se._status===-1)&&(se._status=2,se._result=re)}),se._status===-1&&(se._status=0,se._result=U)}if(se._status===1)return se._result.default;throw se._result}var Ie={current:null},_e={transition:null},oe={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:_e,ReactCurrentOwner:H};function xe(){throw Error("act(...) is not supported in production builds of React.")}return Gt.Children={map:Te,forEach:function(se,U,re){Te(se,function(){U.apply(this,arguments)},re)},count:function(se){var U=0;return Te(se,function(){U++}),U},toArray:function(se){return Te(se,function(U){return U})||[]},only:function(se){if(!P(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},Gt.Component=E,Gt.Fragment=r,Gt.Profiler=s,Gt.PureComponent=j,Gt.StrictMode=n,Gt.Suspense=d,Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Gt.act=xe,Gt.cloneElement=function(se,U,re){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var ne=_({},se.props),ae=se.key,J=se.ref,De=se._owner;if(U!=null){if(U.ref!==void 0&&(J=U.ref,De=H.current),U.key!==void 0&&(ae=""+U.key),se.type&&se.type.defaultProps)var Ve=se.type.defaultProps;for(Ce in U)Y.call(U,Ce)&&!S.hasOwnProperty(Ce)&&(ne[Ce]=U[Ce]===void 0&&Ve!==void 0?Ve[Ce]:U[Ce])}var Ce=arguments.length-2;if(Ce===1)ne.children=re;else if(1<Ce){Ve=Array(Ce);for(var Me=0;Me<Ce;Me++)Ve[Me]=arguments[Me+2];ne.children=Ve}return{$$typeof:t,type:se.type,key:ae,ref:J,props:ne,_owner:De}},Gt.createContext=function(se){return se={$$typeof:l,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:a,_context:se},se.Consumer=se},Gt.createElement=A,Gt.createFactory=function(se){var U=A.bind(null,se);return U.type=se,U},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(se){return{$$typeof:u,render:se}},Gt.isValidElement=P,Gt.lazy=function(se){return{$$typeof:p,_payload:{_status:-1,_result:se},_init:je}},Gt.memo=function(se,U){return{$$typeof:h,type:se,compare:U===void 0?null:U}},Gt.startTransition=function(se){var U=_e.transition;_e.transition={};try{se()}finally{_e.transition=U}},Gt.unstable_act=xe,Gt.useCallback=function(se,U){return Ie.current.useCallback(se,U)},Gt.useContext=function(se){return Ie.current.useContext(se)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(se){return Ie.current.useDeferredValue(se)},Gt.useEffect=function(se,U){return Ie.current.useEffect(se,U)},Gt.useId=function(){return Ie.current.useId()},Gt.useImperativeHandle=function(se,U,re){return Ie.current.useImperativeHandle(se,U,re)},Gt.useInsertionEffect=function(se,U){return Ie.current.useInsertionEffect(se,U)},Gt.useLayoutEffect=function(se,U){return Ie.current.useLayoutEffect(se,U)},Gt.useMemo=function(se,U){return Ie.current.useMemo(se,U)},Gt.useReducer=function(se,U,re){return Ie.current.useReducer(se,U,re)},Gt.useRef=function(se){return Ie.current.useRef(se)},Gt.useState=function(se){return Ie.current.useState(se)},Gt.useSyncExternalStore=function(se,U,re){return Ie.current.useSyncExternalStore(se,U,re)},Gt.useTransition=function(){return Ie.current.useTransition()},Gt.version="18.3.1",Gt}var Lw;function av(){return Lw||(Lw=1,px.exports=mj()),px.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function gj(){if(Mw)return Ed;Mw=1;var t=av(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var p,g={},y=null,v=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!a.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:v,props:g,_owner:s.current}}return Ed.Fragment=r,Ed.jsx=l,Ed.jsxs=l,Ed}var Vw;function xj(){return Vw||(Vw=1,fx.exports=gj()),fx.exports}var i=xj(),N=av();const ja=sv(N);var ff={},mx={exports:{}},bs={},gx={exports:{}},xx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function yj(){return $w||($w=1,(function(t){function e(_e,oe){var xe=_e.length;_e.push(oe);e:for(;0<xe;){var se=xe-1>>>1,U=_e[se];if(0<s(U,oe))_e[se]=oe,_e[xe]=U,xe=se;else break e}}function r(_e){return _e.length===0?null:_e[0]}function n(_e){if(_e.length===0)return null;var oe=_e[0],xe=_e.pop();if(xe!==oe){_e[0]=xe;e:for(var se=0,U=_e.length,re=U>>>1;se<re;){var ne=2*(se+1)-1,ae=_e[ne],J=ne+1,De=_e[J];if(0>s(ae,xe))J<U&&0>s(De,ae)?(_e[se]=De,_e[J]=xe,se=J):(_e[se]=ae,_e[ne]=xe,se=ne);else if(J<U&&0>s(De,xe))_e[se]=De,_e[J]=xe,se=J;else break e}}return oe}function s(_e,oe){var xe=_e.sortIndex-oe.sortIndex;return xe!==0?xe:_e.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,g=null,y=3,v=!1,_=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(_e){for(var oe=r(h);oe!==null;){if(oe.callback===null)n(h);else if(oe.startTime<=_e)n(h),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=r(h)}}function L(_e){if(w=!1,z(_e),!_)if(r(d)!==null)_=!0,je(Y);else{var oe=r(h);oe!==null&&Ie(L,oe.startTime-_e)}}function Y(_e,oe){_=!1,w&&(w=!1,O(A),A=-1),v=!0;var xe=y;try{for(z(oe),g=r(d);g!==null&&(!(g.expirationTime>oe)||_e&&!M());){var se=g.callback;if(typeof se=="function"){g.callback=null,y=g.priorityLevel;var U=se(g.expirationTime<=oe);oe=t.unstable_now(),typeof U=="function"?g.callback=U:g===r(d)&&n(d),z(oe)}else n(d);g=r(d)}if(g!==null)var re=!0;else{var ne=r(h);ne!==null&&Ie(L,ne.startTime-oe),re=!1}return re}finally{g=null,y=xe,v=!1}}var H=!1,S=null,A=-1,I=5,P=-1;function M(){return!(t.unstable_now()-P<I)}function R(){if(S!==null){var _e=t.unstable_now();P=_e;var oe=!0;try{oe=S(!0,_e)}finally{oe?F():(H=!1,S=null)}}else H=!1}var F;if(typeof j=="function")F=function(){j(R)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Te=me.port2;me.port1.onmessage=R,F=function(){Te.postMessage(null)}}else F=function(){E(R,0)};function je(_e){S=_e,H||(H=!0,F())}function Ie(_e,oe){A=E(function(){_e(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_e){_e.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,je(Y))},t.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<_e?Math.floor(1e3/_e):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(_e){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var xe=y;y=oe;try{return _e()}finally{y=xe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_e,oe){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var xe=y;y=_e;try{return oe()}finally{y=xe}},t.unstable_scheduleCallback=function(_e,oe,xe){var se=t.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?se+xe:se):xe=se,_e){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=xe+U,_e={id:p++,callback:oe,priorityLevel:_e,startTime:xe,expirationTime:U,sortIndex:-1},xe>se?(_e.sortIndex=xe,e(h,_e),r(d)===null&&_e===r(h)&&(w?(O(A),A=-1):w=!0,Ie(L,xe-se))):(_e.sortIndex=U,e(d,_e),_||v||(_=!0,je(Y))),_e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(_e){var oe=y;return function(){var xe=y;y=oe;try{return _e.apply(this,arguments)}finally{y=xe}}}})(xx)),xx}var Bw;function vj(){return Bw||(Bw=1,gx.exports=yj()),gx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function bj(){if(Uw)return bs;Uw=1;var t=av(),e=vj();function r(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(s[o]=c,o=0;o<c.length;o++)n.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(o){return d.call(g,o)?!0:d.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function v(o,c,f,x){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,c,f,x){if(c===null||typeof c>"u"||v(o,c,f,x))return!0;if(x)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(o,c,f,x,b,k,V){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=o,this.type=c,this.sanitizeURL=k,this.removeEmptyString=V}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){E[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];E[c]=new w(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){E[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){E[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){E[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){E[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){E[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){E[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){E[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function j(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(O,j);E[c]=new w(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(O,j);E[c]=new w(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(O,j);E[c]=new w(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){E[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),E.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){E[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function z(o,c,f,x){var b=E.hasOwnProperty(c)?E[c]:null;(b!==null?b.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(_(c,f,b,x)&&(f=null),x||b===null?y(c)&&(f===null?o.removeAttribute(c):o.setAttribute(c,""+f)):b.mustUseProperty?o[b.propertyName]=f===null?b.type===3?!1:"":f:(c=b.attributeName,x=b.attributeNamespace,f===null?o.removeAttribute(c):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,x?o.setAttributeNS(x,c,f):o.setAttribute(c,f))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),H=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),M=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),_e=Symbol.iterator;function oe(o){return o===null||typeof o!="object"?null:(o=_e&&o[_e]||o["@@iterator"],typeof o=="function"?o:null)}var xe=Object.assign,se;function U(o){if(se===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);se=c&&c[1]||""}return`
`+se+o}var re=!1;function ne(o,c){if(!o||re)return"";re=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(we){var x=we}Reflect.construct(o,[],c)}else{try{c.call()}catch(we){x=we}o.call(c.prototype)}else{try{throw Error()}catch(we){x=we}o()}}catch(we){if(we&&x&&typeof we.stack=="string"){for(var b=we.stack.split(`
`),k=x.stack.split(`
`),V=b.length-1,ie=k.length-1;1<=V&&0<=ie&&b[V]!==k[ie];)ie--;for(;1<=V&&0<=ie;V--,ie--)if(b[V]!==k[ie]){if(V!==1||ie!==1)do if(V--,ie--,0>ie||b[V]!==k[ie]){var ue=`
`+b[V].replace(" at new "," at ");return o.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",o.displayName)),ue}while(1<=V&&0<=ie);break}}}finally{re=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?U(o):""}function ae(o){switch(o.tag){case 5:return U(o.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return o=ne(o.type,!1),o;case 11:return o=ne(o.type.render,!1),o;case 1:return o=ne(o.type,!0),o;default:return""}}function J(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case H:return"Portal";case I:return"Profiler";case A:return"StrictMode";case F:return"Suspense";case me:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case P:return(o._context.displayName||"Context")+".Provider";case R:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Te:return c=o.displayName||null,c!==null?c:J(o.type)||"Memo";case je:c=o._payload,o=o._init;try{return J(o(c))}catch{}}return null}function De(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(c);case 8:return c===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Ve(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ce(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Me(o){var c=Ce(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,k=f.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return b.call(this)},set:function(V){x=""+V,k.call(this,V)}}),Object.defineProperty(o,c,{enumerable:f.enumerable}),{getValue:function(){return x},setValue:function(V){x=""+V},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function nt(o){o._valueTracker||(o._valueTracker=Me(o))}function mt(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),x="";return o&&(x=Ce(o)?o.checked?"true":"false":o.value),o=x,o!==f?(c.setValue(o),!0):!1}function Wt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function vt(o,c){var f=c.checked;return xe({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function rr(o,c){var f=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;f=Ve(c.value!=null?c.value:f),o._wrapperState={initialChecked:x,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Dt(o,c){c=c.checked,c!=null&&z(o,"checked",c,!1)}function Re(o,c){Dt(o,c);var f=Ve(c.value),x=c.type;if(f!=null)x==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?Mt(o,c.type,f):c.hasOwnProperty("defaultValue")&&Mt(o,c.type,Ve(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function dr(o,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,f||c===o.value||(o.value=c),o.defaultValue=c}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function Mt(o,c,f){(c!=="number"||Wt(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var He=Array.isArray;function he(o,c,f,x){if(o=o.options,c){c={};for(var b=0;b<f.length;b++)c["$"+f[b]]=!0;for(f=0;f<o.length;f++)b=c.hasOwnProperty("$"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&x&&(o[f].defaultSelected=!0)}else{for(f=""+Ve(f),c=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,x&&(o[b].defaultSelected=!0);return}c!==null||o[b].disabled||(c=o[b])}c!==null&&(c.selected=!0)}}function Je(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return xe({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function lt(o,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(r(92));if(He(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),f=c}o._wrapperState={initialValue:Ve(f)}}function ft(o,c){var f=Ve(c.value),x=Ve(c.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),c.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),x!=null&&(o.defaultValue=""+x)}function Tt(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function dt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?dt(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ct,wr=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,x,b){MSApp.execUnsafeLocalFunction(function(){return o(c,f,x,b)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ct.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function Q(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var Ne={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ht=["Webkit","ms","Moz","O"];Object.keys(Ne).forEach(function(o){ht.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Ne[c]=Ne[o]})});function pe(o,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||Ne.hasOwnProperty(o)&&Ne[o]?(""+c).trim():c+"px"}function ke(o,c){o=o.style;for(var f in c)if(c.hasOwnProperty(f)){var x=f.indexOf("--")===0,b=pe(f,c[f],x);f==="float"&&(f="cssFloat"),x?o.setProperty(f,b):o[f]=b}}var Pe=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qe(o,c){if(c){if(Pe[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function xt(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=null;function st(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var it=null,Ze=null,Et=null;function $t(o){if(o=ld(o)){if(typeof it!="function")throw Error(r(280));var c=o.stateNode;c&&(c=Ah(c),it(o.stateNode,o.type,c))}}function qt(o){Ze?Et?Et.push(o):Et=[o]:Ze=o}function Pr(){if(Ze){var o=Ze,c=Et;if(Et=Ze=null,$t(o),c)for(o=0;o<c.length;o++)$t(c[o])}}function Rr(o,c){return o(c)}function mn(){}var hr=!1;function zn(o,c,f){if(hr)return o(c,f);hr=!0;try{return Rr(o,c,f)}finally{hr=!1,(Ze!==null||Et!==null)&&(mn(),Pr())}}function lr(o,c){var f=o.stateNode;if(f===null)return null;var x=Ah(f);if(x===null)return null;f=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var kn=!1;if(u)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){kn=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{kn=!1}function gn(o,c,f,x,b,k,V,ie,ue){var we=Array.prototype.slice.call(arguments,3);try{c.apply(f,we)}catch(Ge){this.onError(Ge)}}var Zr=!1,ln=null,B=!1,Z=null,q={onError:function(o){Zr=!0,ln=o}};function K(o,c,f,x,b,k,V,ie,ue){Zr=!1,ln=null,gn.apply(q,arguments)}function te(o,c,f,x,b,k,V,ie,ue){if(K.apply(this,arguments),Zr){if(Zr){var we=ln;Zr=!1,ln=null}else throw Error(r(198));B||(B=!0,Z=we)}}function D(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function X(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function ce(o){if(D(o)!==o)throw Error(r(188))}function le(o){var c=o.alternate;if(!c){if(c=D(o),c===null)throw Error(r(188));return c!==o?null:o}for(var f=o,x=c;;){var b=f.return;if(b===null)break;var k=b.alternate;if(k===null){if(x=b.return,x!==null){f=x;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===f)return ce(b),o;if(k===x)return ce(b),c;k=k.sibling}throw Error(r(188))}if(f.return!==x.return)f=b,x=k;else{for(var V=!1,ie=b.child;ie;){if(ie===f){V=!0,f=b,x=k;break}if(ie===x){V=!0,x=b,f=k;break}ie=ie.sibling}if(!V){for(ie=k.child;ie;){if(ie===f){V=!0,f=k,x=b;break}if(ie===x){V=!0,x=k,f=b;break}ie=ie.sibling}if(!V)throw Error(r(189))}}if(f.alternate!==x)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:c}function de(o){return o=le(o),o!==null?ge(o):null}function ge(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=ge(o);if(c!==null)return c;o=o.sibling}return null}var Le=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,Ye=e.unstable_shouldYield,Oe=e.unstable_requestPaint,Be=e.unstable_now,kt=e.unstable_getCurrentPriorityLevel,Ut=e.unstable_ImmediatePriority,Bt=e.unstable_UserBlockingPriority,nr=e.unstable_NormalPriority,ns=e.unstable_LowPriority,Hn=e.unstable_IdlePriority,Wn=null,Lr=null;function Va(o){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(Wn,o,void 0,(o.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:dc,gi=Math.log,uc=Math.LN2;function dc(o){return o>>>=0,o===0?32:31-(gi(o)/uc|0)|0}var Ji=64,Zi=4194304;function eo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function sl(o,c){var f=o.pendingLanes;if(f===0)return 0;var x=0,b=o.suspendedLanes,k=o.pingedLanes,V=f&268435455;if(V!==0){var ie=V&~b;ie!==0?x=eo(ie):(k&=V,k!==0&&(x=eo(k)))}else V=f&~b,V!==0?x=eo(V):k!==0&&(x=eo(k));if(x===0)return 0;if(c!==0&&c!==x&&(c&b)===0&&(b=x&-x,k=c&-c,b>=k||b===16&&(k&4194240)!==0))return c;if((x&4)!==0&&(x|=f&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=x;0<c;)f=31-Er(c),b=1<<f,x|=o[f],c&=~b;return x}function zm(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xi(o,c){for(var f=o.suspendedLanes,x=o.pingedLanes,b=o.expirationTimes,k=o.pendingLanes;0<k;){var V=31-Er(k),ie=1<<V,ue=b[V];ue===-1?((ie&f)===0||(ie&x)!==0)&&(b[V]=zm(ie,c)):ue<=c&&(o.expiredLanes|=ie),k&=~ie}}function js(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function al(){var o=Ji;return Ji<<=1,(Ji&4194240)===0&&(Ji=64),o}function to(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function ro(o,c,f){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-Er(c),o[c]=f}function Tr(o,c){var f=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<f;){var b=31-Er(f),k=1<<b;c[b]=0,x[b]=-1,o[b]=-1,f&=~k}}function no(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var x=31-Er(f),b=1<<x;b&c|o[x]&c&&(o[x]|=c),f&=~b}}var Xt=0;function so(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var ih,hc,oh,lh,ch,qu=!1,$a=[],An=null,da=null,ha=null,ao=new Map,qs=new Map,Ba=[],Hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uh(o,c){switch(o){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":ao.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(c.pointerId)}}function fs(o,c,f,x,b,k){return o===null||o.nativeEvent!==k?(o={blockedOn:c,domEventName:f,eventSystemFlags:x,nativeEvent:k,targetContainers:[b]},c!==null&&(c=ld(c),c!==null&&hc(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),o)}function Wm(o,c,f,x,b){switch(c){case"focusin":return An=fs(An,o,c,f,x,b),!0;case"dragenter":return da=fs(da,o,c,f,x,b),!0;case"mouseover":return ha=fs(ha,o,c,f,x,b),!0;case"pointerover":var k=b.pointerId;return ao.set(k,fs(ao.get(k)||null,o,c,f,x,b)),!0;case"gotpointercapture":return k=b.pointerId,qs.set(k,fs(qs.get(k)||null,o,c,f,x,b)),!0}return!1}function dh(o){var c=ul(o.target);if(c!==null){var f=D(c);if(f!==null){if(c=f.tag,c===13){if(c=X(f),c!==null){o.blockedOn=c,ch(o.priority,function(){oh(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function yi(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=fc(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var x=new f.constructor(f.type,f);Nt=x,f.target.dispatchEvent(x),Nt=null}else return c=ld(f),c!==null&&hc(c),o.blockedOn=f,!1;c.shift()}return!0}function il(o,c,f){yi(o)&&f.delete(c)}function hh(){qu=!1,An!==null&&yi(An)&&(An=null),da!==null&&yi(da)&&(da=null),ha!==null&&yi(ha)&&(ha=null),ao.forEach(il),qs.forEach(il)}function fa(o,c){o.blockedOn===c&&(o.blockedOn=null,qu||(qu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hh)))}function pa(o){function c(b){return fa(b,o)}if(0<$a.length){fa($a[0],o);for(var f=1;f<$a.length;f++){var x=$a[f];x.blockedOn===o&&(x.blockedOn=null)}}for(An!==null&&fa(An,o),da!==null&&fa(da,o),ha!==null&&fa(ha,o),ao.forEach(c),qs.forEach(c),f=0;f<Ba.length;f++)x=Ba[f],x.blockedOn===o&&(x.blockedOn=null);for(;0<Ba.length&&(f=Ba[0],f.blockedOn===null);)dh(f),f.blockedOn===null&&Ba.shift()}var vi=L.ReactCurrentBatchConfig,io=!0;function Dr(o,c,f,x){var b=Xt,k=vi.transition;vi.transition=null;try{Xt=1,Ku(o,c,f,x)}finally{Xt=b,vi.transition=k}}function Gm(o,c,f,x){var b=Xt,k=vi.transition;vi.transition=null;try{Xt=4,Ku(o,c,f,x)}finally{Xt=b,vi.transition=k}}function Ku(o,c,f,x){if(io){var b=fc(o,c,f,x);if(b===null)ng(o,c,x,ol,f),uh(o,x);else if(Wm(b,o,c,f,x))x.stopPropagation();else if(uh(o,x),c&4&&-1<Hm.indexOf(o)){for(;b!==null;){var k=ld(b);if(k!==null&&ih(k),k=fc(o,c,f,x),k===null&&ng(o,c,x,ol,f),k===b)break;b=k}b!==null&&x.stopPropagation()}else ng(o,c,x,null,f)}}var ol=null;function fc(o,c,f,x){if(ol=null,o=st(x),o=ul(o),o!==null)if(c=D(o),c===null)o=null;else if(f=c.tag,f===13){if(o=X(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return ol=o,null}function Yu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kt()){case Ut:return 1;case Bt:return 4;case nr:case ns:return 16;case Hn:return 536870912;default:return 16}default:return 16}}var Is=null,pc=null,ps=null;function Xu(){if(ps)return ps;var o,c=pc,f=c.length,x,b="value"in Is?Is.value:Is.textContent,k=b.length;for(o=0;o<f&&c[o]===b[o];o++);var V=f-o;for(x=1;x<=V&&c[f-x]===b[k-x];x++);return ps=b.slice(o,1<x?1-x:void 0)}function mc(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Ua(){return!0}function Qu(){return!1}function Sn(o){function c(f,x,b,k,V){this._reactName=f,this._targetInst=b,this.type=x,this.nativeEvent=k,this.target=V,this.currentTarget=null;for(var ie in o)o.hasOwnProperty(ie)&&(f=o[ie],this[ie]=f?f(k):k[ie]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Ua:Qu,this.isPropagationStopped=Qu,this}return xe(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),c}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gc=Sn(ma),za=xe({},ma,{view:0,detail:0}),qm=Sn(za),xc,bi,oo,ll=xe({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==oo&&(oo&&o.type==="mousemove"?(xc=o.screenX-oo.screenX,bi=o.screenY-oo.screenY):bi=xc=0,oo=o),xc)},movementY:function(o){return"movementY"in o?o.movementY:bi}}),yc=Sn(ll),Ju=xe({},ll,{dataTransfer:0}),fh=Sn(Ju),vc=xe({},za,{relatedTarget:0}),bc=Sn(vc),ph=xe({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),wi=Sn(ph),mh=xe({},ma,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),gh=Sn(mh),xh=xe({},ma,{data:0}),Zu=Sn(xh),wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ss={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=yh[o])?!!c[o]:!1}function Ha(){return vh}var m=xe({},za,{key:function(o){if(o.key){var c=wc[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=mc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?ss[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(o){return o.type==="keypress"?mc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?mc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),T=Sn(m),C=xe({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G=Sn(C),ye=xe({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),Ee=Sn(ye),rt=xe({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),fr=Sn(rt),cn=xe({},ll,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Qt=Sn(cn),xn=[9,13,27,32],en=u&&"CompositionEvent"in window,Ks=null;u&&"documentMode"in document&&(Ks=document.documentMode);var Ps=u&&"TextEvent"in window&&!Ks,cl=u&&(!en||Ks&&8<Ks&&11>=Ks),_c=" ",jb=!1;function Ib(o,c){switch(o){case"keyup":return xn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pb(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ec=!1;function hC(o,c){switch(o){case"compositionend":return Pb(c);case"keypress":return c.which!==32?null:(jb=!0,_c);case"textInput":return o=c.data,o===_c&&jb?null:o;default:return null}}function fC(o,c){if(Ec)return o==="compositionend"||!en&&Ib(o,c)?(o=Xu(),ps=pc=Is=null,Ec=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return cl&&c.locale!=="ko"?null:c.data;default:return null}}var pC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rb(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!pC[o.type]:c==="textarea"}function Db(o,c,f,x){qt(x),c=Th(c,"onChange"),0<c.length&&(f=new gc("onChange","change",null,f,x),o.push({event:f,listeners:c}))}var ed=null,td=null;function mC(o){Jb(o,0)}function bh(o){var c=Sc(o);if(mt(c))return o}function gC(o,c){if(o==="change")return c}var Ob=!1;if(u){var Km;if(u){var Ym="oninput"in document;if(!Ym){var Fb=document.createElement("div");Fb.setAttribute("oninput","return;"),Ym=typeof Fb.oninput=="function"}Km=Ym}else Km=!1;Ob=Km&&(!document.documentMode||9<document.documentMode)}function Lb(){ed&&(ed.detachEvent("onpropertychange",Mb),td=ed=null)}function Mb(o){if(o.propertyName==="value"&&bh(td)){var c=[];Db(c,td,o,st(o)),zn(mC,c)}}function xC(o,c,f){o==="focusin"?(Lb(),ed=c,td=f,ed.attachEvent("onpropertychange",Mb)):o==="focusout"&&Lb()}function yC(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return bh(td)}function vC(o,c){if(o==="click")return bh(c)}function bC(o,c){if(o==="input"||o==="change")return bh(c)}function wC(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ga=typeof Object.is=="function"?Object.is:wC;function rd(o,c){if(ga(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),x=Object.keys(c);if(f.length!==x.length)return!1;for(x=0;x<f.length;x++){var b=f[x];if(!d.call(c,b)||!ga(o[b],c[b]))return!1}return!0}function Vb(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function $b(o,c){var f=Vb(o);o=0;for(var x;f;){if(f.nodeType===3){if(x=o+f.textContent.length,o<=c&&x>=c)return{node:f,offset:c-o};o=x}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Vb(f)}}function Bb(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Bb(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Ub(){for(var o=window,c=Wt();c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=Wt(o.document)}return c}function Xm(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function _C(o){var c=Ub(),f=o.focusedElem,x=o.selectionRange;if(c!==f&&f&&f.ownerDocument&&Bb(f.ownerDocument.documentElement,f)){if(x!==null&&Xm(f)){if(c=x.start,o=x.end,o===void 0&&(o=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(o,f.value.length);else if(o=(c=f.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var b=f.textContent.length,k=Math.min(x.start,b);x=x.end===void 0?k:Math.min(x.end,b),!o.extend&&k>x&&(b=x,x=k,k=b),b=$b(f,k);var V=$b(f,x);b&&V&&(o.rangeCount!==1||o.anchorNode!==b.node||o.anchorOffset!==b.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(c=c.createRange(),c.setStart(b.node,b.offset),o.removeAllRanges(),k>x?(o.addRange(c),o.extend(V.node,V.offset)):(c.setEnd(V.node,V.offset),o.addRange(c)))}}for(c=[],o=f;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)o=c[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var EC=u&&"documentMode"in document&&11>=document.documentMode,Tc=null,Qm=null,nd=null,Jm=!1;function zb(o,c,f){var x=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Jm||Tc==null||Tc!==Wt(x)||(x=Tc,"selectionStart"in x&&Xm(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),nd&&rd(nd,x)||(nd=x,x=Th(Qm,"onSelect"),0<x.length&&(c=new gc("onSelect","select",null,c,f),o.push({event:c,listeners:x}),c.target=Tc)))}function wh(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var Nc={animationend:wh("Animation","AnimationEnd"),animationiteration:wh("Animation","AnimationIteration"),animationstart:wh("Animation","AnimationStart"),transitionend:wh("Transition","TransitionEnd")},Zm={},Hb={};u&&(Hb=document.createElement("div").style,"AnimationEvent"in window||(delete Nc.animationend.animation,delete Nc.animationiteration.animation,delete Nc.animationstart.animation),"TransitionEvent"in window||delete Nc.transitionend.transition);function _h(o){if(Zm[o])return Zm[o];if(!Nc[o])return o;var c=Nc[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in Hb)return Zm[o]=c[f];return o}var Wb=_h("animationend"),Gb=_h("animationiteration"),qb=_h("animationstart"),Kb=_h("transitionend"),Yb=new Map,Xb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(o,c){Yb.set(o,c),a(c,[o])}for(var eg=0;eg<Xb.length;eg++){var tg=Xb[eg],TC=tg.toLowerCase(),NC=tg[0].toUpperCase()+tg.slice(1);lo(TC,"on"+NC)}lo(Wb,"onAnimationEnd"),lo(Gb,"onAnimationIteration"),lo(qb,"onAnimationStart"),lo("dblclick","onDoubleClick"),lo("focusin","onFocus"),lo("focusout","onBlur"),lo(Kb,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kC=new Set("cancel close invalid load scroll toggle".split(" ").concat(sd));function Qb(o,c,f){var x=o.type||"unknown-event";o.currentTarget=f,te(x,c,void 0,o),o.currentTarget=null}function Jb(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var x=o[f],b=x.event;x=x.listeners;e:{var k=void 0;if(c)for(var V=x.length-1;0<=V;V--){var ie=x[V],ue=ie.instance,we=ie.currentTarget;if(ie=ie.listener,ue!==k&&b.isPropagationStopped())break e;Qb(b,ie,we),k=ue}else for(V=0;V<x.length;V++){if(ie=x[V],ue=ie.instance,we=ie.currentTarget,ie=ie.listener,ue!==k&&b.isPropagationStopped())break e;Qb(b,ie,we),k=ue}}}if(B)throw o=Z,B=!1,Z=null,o}function Sr(o,c){var f=c[cg];f===void 0&&(f=c[cg]=new Set);var x=o+"__bubble";f.has(x)||(Zb(c,o,2,!1),f.add(x))}function rg(o,c,f){var x=0;c&&(x|=4),Zb(f,o,x,c)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function ad(o){if(!o[Eh]){o[Eh]=!0,n.forEach(function(f){f!=="selectionchange"&&(kC.has(f)||rg(f,!1,o),rg(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Eh]||(c[Eh]=!0,rg("selectionchange",!1,c))}}function Zb(o,c,f,x){switch(Yu(c)){case 1:var b=Dr;break;case 4:b=Gm;break;default:b=Ku}f=b.bind(null,c,f,o),b=void 0,!kn||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),x?b!==void 0?o.addEventListener(c,f,{capture:!0,passive:b}):o.addEventListener(c,f,!0):b!==void 0?o.addEventListener(c,f,{passive:b}):o.addEventListener(c,f,!1)}function ng(o,c,f,x,b){var k=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var V=x.tag;if(V===3||V===4){var ie=x.stateNode.containerInfo;if(ie===b||ie.nodeType===8&&ie.parentNode===b)break;if(V===4)for(V=x.return;V!==null;){var ue=V.tag;if((ue===3||ue===4)&&(ue=V.stateNode.containerInfo,ue===b||ue.nodeType===8&&ue.parentNode===b))return;V=V.return}for(;ie!==null;){if(V=ul(ie),V===null)return;if(ue=V.tag,ue===5||ue===6){x=k=V;continue e}ie=ie.parentNode}}x=x.return}zn(function(){var we=k,Ge=st(f),Ke=[];e:{var We=Yb.get(o);if(We!==void 0){var ut=gc,yt=o;switch(o){case"keypress":if(mc(f)===0)break e;case"keydown":case"keyup":ut=T;break;case"focusin":yt="focus",ut=bc;break;case"focusout":yt="blur",ut=bc;break;case"beforeblur":case"afterblur":ut=bc;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Ee;break;case Wb:case Gb:case qb:ut=wi;break;case Kb:ut=fr;break;case"scroll":ut=qm;break;case"wheel":ut=Qt;break;case"copy":case"cut":case"paste":ut=gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=G}var bt=(c&4)!==0,Yr=!bt&&o==="scroll",ve=bt?We!==null?We+"Capture":null:We;bt=[];for(var fe=we,be;fe!==null;){be=fe;var Xe=be.stateNode;if(be.tag===5&&Xe!==null&&(be=Xe,ve!==null&&(Xe=lr(fe,ve),Xe!=null&&bt.push(id(fe,Xe,be)))),Yr)break;fe=fe.return}0<bt.length&&(We=new ut(We,yt,null,f,Ge),Ke.push({event:We,listeners:bt}))}}if((c&7)===0){e:{if(We=o==="mouseover"||o==="pointerover",ut=o==="mouseout"||o==="pointerout",We&&f!==Nt&&(yt=f.relatedTarget||f.fromElement)&&(ul(yt)||yt[_i]))break e;if((ut||We)&&(We=Ge.window===Ge?Ge:(We=Ge.ownerDocument)?We.defaultView||We.parentWindow:window,ut?(yt=f.relatedTarget||f.toElement,ut=we,yt=yt?ul(yt):null,yt!==null&&(Yr=D(yt),yt!==Yr||yt.tag!==5&&yt.tag!==6)&&(yt=null)):(ut=null,yt=we),ut!==yt)){if(bt=yc,Xe="onMouseLeave",ve="onMouseEnter",fe="mouse",(o==="pointerout"||o==="pointerover")&&(bt=G,Xe="onPointerLeave",ve="onPointerEnter",fe="pointer"),Yr=ut==null?We:Sc(ut),be=yt==null?We:Sc(yt),We=new bt(Xe,fe+"leave",ut,f,Ge),We.target=Yr,We.relatedTarget=be,Xe=null,ul(Ge)===we&&(bt=new bt(ve,fe+"enter",yt,f,Ge),bt.target=be,bt.relatedTarget=Yr,Xe=bt),Yr=Xe,ut&&yt)t:{for(bt=ut,ve=yt,fe=0,be=bt;be;be=kc(be))fe++;for(be=0,Xe=ve;Xe;Xe=kc(Xe))be++;for(;0<fe-be;)bt=kc(bt),fe--;for(;0<be-fe;)ve=kc(ve),be--;for(;fe--;){if(bt===ve||ve!==null&&bt===ve.alternate)break t;bt=kc(bt),ve=kc(ve)}bt=null}else bt=null;ut!==null&&e2(Ke,We,ut,bt,!1),yt!==null&&Yr!==null&&e2(Ke,Yr,yt,bt,!0)}}e:{if(We=we?Sc(we):window,ut=We.nodeName&&We.nodeName.toLowerCase(),ut==="select"||ut==="input"&&We.type==="file")var wt=gC;else if(Rb(We))if(Ob)wt=bC;else{wt=yC;var Ct=xC}else(ut=We.nodeName)&&ut.toLowerCase()==="input"&&(We.type==="checkbox"||We.type==="radio")&&(wt=vC);if(wt&&(wt=wt(o,we))){Db(Ke,wt,f,Ge);break e}Ct&&Ct(o,We,we),o==="focusout"&&(Ct=We._wrapperState)&&Ct.controlled&&We.type==="number"&&Mt(We,"number",We.value)}switch(Ct=we?Sc(we):window,o){case"focusin":(Rb(Ct)||Ct.contentEditable==="true")&&(Tc=Ct,Qm=we,nd=null);break;case"focusout":nd=Qm=Tc=null;break;case"mousedown":Jm=!0;break;case"contextmenu":case"mouseup":case"dragend":Jm=!1,zb(Ke,f,Ge);break;case"selectionchange":if(EC)break;case"keydown":case"keyup":zb(Ke,f,Ge)}var jt;if(en)e:{switch(o){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else Ec?Ib(o,f)&&(Ft="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Ft="onCompositionStart");Ft&&(cl&&f.locale!=="ko"&&(Ec||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Ec&&(jt=Xu()):(Is=Ge,pc="value"in Is?Is.value:Is.textContent,Ec=!0)),Ct=Th(we,Ft),0<Ct.length&&(Ft=new Zu(Ft,o,null,f,Ge),Ke.push({event:Ft,listeners:Ct}),jt?Ft.data=jt:(jt=Pb(f),jt!==null&&(Ft.data=jt)))),(jt=Ps?hC(o,f):fC(o,f))&&(we=Th(we,"onBeforeInput"),0<we.length&&(Ge=new Zu("onBeforeInput","beforeinput",null,f,Ge),Ke.push({event:Ge,listeners:we}),Ge.data=jt))}Jb(Ke,c)})}function id(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Th(o,c){for(var f=c+"Capture",x=[];o!==null;){var b=o,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=lr(o,f),k!=null&&x.unshift(id(o,k,b)),k=lr(o,c),k!=null&&x.push(id(o,k,b))),o=o.return}return x}function kc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function e2(o,c,f,x,b){for(var k=c._reactName,V=[];f!==null&&f!==x;){var ie=f,ue=ie.alternate,we=ie.stateNode;if(ue!==null&&ue===x)break;ie.tag===5&&we!==null&&(ie=we,b?(ue=lr(f,k),ue!=null&&V.unshift(id(f,ue,ie))):b||(ue=lr(f,k),ue!=null&&V.push(id(f,ue,ie)))),f=f.return}V.length!==0&&o.push({event:c,listeners:V})}var AC=/\r\n?/g,SC=/\u0000|\uFFFD/g;function t2(o){return(typeof o=="string"?o:""+o).replace(AC,`
`).replace(SC,"")}function Nh(o,c,f){if(c=t2(c),t2(o)!==c&&f)throw Error(r(425))}function kh(){}var sg=null,ag=null;function ig(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var og=typeof setTimeout=="function"?setTimeout:void 0,CC=typeof clearTimeout=="function"?clearTimeout:void 0,r2=typeof Promise=="function"?Promise:void 0,jC=typeof queueMicrotask=="function"?queueMicrotask:typeof r2<"u"?function(o){return r2.resolve(null).then(o).catch(IC)}:og;function IC(o){setTimeout(function(){throw o})}function lg(o,c){var f=c,x=0;do{var b=f.nextSibling;if(o.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(x===0){o.removeChild(b),pa(c);return}x--}else f!=="$"&&f!=="$?"&&f!=="$!"||x++;f=b}while(f);pa(c)}function co(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function n2(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return o;c--}else f==="/$"&&c++}o=o.previousSibling}return null}var Ac=Math.random().toString(36).slice(2),Wa="__reactFiber$"+Ac,od="__reactProps$"+Ac,_i="__reactContainer$"+Ac,cg="__reactEvents$"+Ac,PC="__reactListeners$"+Ac,RC="__reactHandles$"+Ac;function ul(o){var c=o[Wa];if(c)return c;for(var f=o.parentNode;f;){if(c=f[_i]||f[Wa]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=n2(o);o!==null;){if(f=o[Wa])return f;o=n2(o)}return c}o=f,f=o.parentNode}return null}function ld(o){return o=o[Wa]||o[_i],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Sc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Ah(o){return o[od]||null}var ug=[],Cc=-1;function uo(o){return{current:o}}function Cr(o){0>Cc||(o.current=ug[Cc],ug[Cc]=null,Cc--)}function Ar(o,c){Cc++,ug[Cc]=o.current,o.current=c}var ho={},Gn=uo(ho),ms=uo(!1),dl=ho;function jc(o,c){var f=o.type.contextTypes;if(!f)return ho;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in f)b[k]=c[k];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=b),b}function gs(o){return o=o.childContextTypes,o!=null}function Sh(){Cr(ms),Cr(Gn)}function s2(o,c,f){if(Gn.current!==ho)throw Error(r(168));Ar(Gn,c),Ar(ms,f)}function a2(o,c,f){var x=o.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return f;x=x.getChildContext();for(var b in x)if(!(b in c))throw Error(r(108,De(o)||"Unknown",b));return xe({},f,x)}function Ch(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ho,dl=Gn.current,Ar(Gn,o),Ar(ms,ms.current),!0}function i2(o,c,f){var x=o.stateNode;if(!x)throw Error(r(169));f?(o=a2(o,c,dl),x.__reactInternalMemoizedMergedChildContext=o,Cr(ms),Cr(Gn),Ar(Gn,o)):Cr(ms),Ar(ms,f)}var Ei=null,jh=!1,dg=!1;function o2(o){Ei===null?Ei=[o]:Ei.push(o)}function DC(o){jh=!0,o2(o)}function fo(){if(!dg&&Ei!==null){dg=!0;var o=0,c=Xt;try{var f=Ei;for(Xt=1;o<f.length;o++){var x=f[o];do x=x(!0);while(x!==null)}Ei=null,jh=!1}catch(b){throw Ei!==null&&(Ei=Ei.slice(o+1)),Le(Ut,fo),b}finally{Xt=c,dg=!1}}return null}var Ic=[],Pc=0,Ih=null,Ph=0,Ys=[],Xs=0,hl=null,Ti=1,Ni="";function fl(o,c){Ic[Pc++]=Ph,Ic[Pc++]=Ih,Ih=o,Ph=c}function l2(o,c,f){Ys[Xs++]=Ti,Ys[Xs++]=Ni,Ys[Xs++]=hl,hl=o;var x=Ti;o=Ni;var b=32-Er(x)-1;x&=~(1<<b),f+=1;var k=32-Er(c)+b;if(30<k){var V=b-b%5;k=(x&(1<<V)-1).toString(32),x>>=V,b-=V,Ti=1<<32-Er(c)+b|f<<b|x,Ni=k+o}else Ti=1<<k|f<<b|x,Ni=o}function hg(o){o.return!==null&&(fl(o,1),l2(o,1,0))}function fg(o){for(;o===Ih;)Ih=Ic[--Pc],Ic[Pc]=null,Ph=Ic[--Pc],Ic[Pc]=null;for(;o===hl;)hl=Ys[--Xs],Ys[Xs]=null,Ni=Ys[--Xs],Ys[Xs]=null,Ti=Ys[--Xs],Ys[Xs]=null}var Rs=null,Ds=null,Or=!1,xa=null;function c2(o,c){var f=ea(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=o,c=o.deletions,c===null?(o.deletions=[f],o.flags|=16):c.push(f)}function u2(o,c){switch(o.tag){case 5:var f=o.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Rs=o,Ds=co(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Rs=o,Ds=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=hl!==null?{id:Ti,overflow:Ni}:null,o.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=ea(18,null,null,0),f.stateNode=c,f.return=o,o.child=f,Rs=o,Ds=null,!0):!1;default:return!1}}function pg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function mg(o){if(Or){var c=Ds;if(c){var f=c;if(!u2(o,c)){if(pg(o))throw Error(r(418));c=co(f.nextSibling);var x=Rs;c&&u2(o,c)?c2(x,f):(o.flags=o.flags&-4097|2,Or=!1,Rs=o)}}else{if(pg(o))throw Error(r(418));o.flags=o.flags&-4097|2,Or=!1,Rs=o}}}function d2(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Rs=o}function Rh(o){if(o!==Rs)return!1;if(!Or)return d2(o),Or=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!ig(o.type,o.memoizedProps)),c&&(c=Ds)){if(pg(o))throw h2(),Error(r(418));for(;c;)c2(o,c),c=co(c.nextSibling)}if(d2(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(c===0){Ds=co(o.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}o=o.nextSibling}Ds=null}}else Ds=Rs?co(o.stateNode.nextSibling):null;return!0}function h2(){for(var o=Ds;o;)o=co(o.nextSibling)}function Rc(){Ds=Rs=null,Or=!1}function gg(o){xa===null?xa=[o]:xa.push(o)}var OC=L.ReactCurrentBatchConfig;function cd(o,c,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var x=f.stateNode}if(!x)throw Error(r(147,o));var b=x,k=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===k?c.ref:(c=function(V){var ie=b.refs;V===null?delete ie[k]:ie[k]=V},c._stringRef=k,c)}if(typeof o!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,o))}return o}function Dh(o,c){throw o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function f2(o){var c=o._init;return c(o._payload)}function p2(o){function c(ve,fe){if(o){var be=ve.deletions;be===null?(ve.deletions=[fe],ve.flags|=16):be.push(fe)}}function f(ve,fe){if(!o)return null;for(;fe!==null;)c(ve,fe),fe=fe.sibling;return null}function x(ve,fe){for(ve=new Map;fe!==null;)fe.key!==null?ve.set(fe.key,fe):ve.set(fe.index,fe),fe=fe.sibling;return ve}function b(ve,fe){return ve=wo(ve,fe),ve.index=0,ve.sibling=null,ve}function k(ve,fe,be){return ve.index=be,o?(be=ve.alternate,be!==null?(be=be.index,be<fe?(ve.flags|=2,fe):be):(ve.flags|=2,fe)):(ve.flags|=1048576,fe)}function V(ve){return o&&ve.alternate===null&&(ve.flags|=2),ve}function ie(ve,fe,be,Xe){return fe===null||fe.tag!==6?(fe=ox(be,ve.mode,Xe),fe.return=ve,fe):(fe=b(fe,be),fe.return=ve,fe)}function ue(ve,fe,be,Xe){var wt=be.type;return wt===S?Ge(ve,fe,be.props.children,Xe,be.key):fe!==null&&(fe.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===je&&f2(wt)===fe.type)?(Xe=b(fe,be.props),Xe.ref=cd(ve,fe,be),Xe.return=ve,Xe):(Xe=sf(be.type,be.key,be.props,null,ve.mode,Xe),Xe.ref=cd(ve,fe,be),Xe.return=ve,Xe)}function we(ve,fe,be,Xe){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==be.containerInfo||fe.stateNode.implementation!==be.implementation?(fe=lx(be,ve.mode,Xe),fe.return=ve,fe):(fe=b(fe,be.children||[]),fe.return=ve,fe)}function Ge(ve,fe,be,Xe,wt){return fe===null||fe.tag!==7?(fe=wl(be,ve.mode,Xe,wt),fe.return=ve,fe):(fe=b(fe,be),fe.return=ve,fe)}function Ke(ve,fe,be){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=ox(""+fe,ve.mode,be),fe.return=ve,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case Y:return be=sf(fe.type,fe.key,fe.props,null,ve.mode,be),be.ref=cd(ve,null,fe),be.return=ve,be;case H:return fe=lx(fe,ve.mode,be),fe.return=ve,fe;case je:var Xe=fe._init;return Ke(ve,Xe(fe._payload),be)}if(He(fe)||oe(fe))return fe=wl(fe,ve.mode,be,null),fe.return=ve,fe;Dh(ve,fe)}return null}function We(ve,fe,be,Xe){var wt=fe!==null?fe.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return wt!==null?null:ie(ve,fe,""+be,Xe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case Y:return be.key===wt?ue(ve,fe,be,Xe):null;case H:return be.key===wt?we(ve,fe,be,Xe):null;case je:return wt=be._init,We(ve,fe,wt(be._payload),Xe)}if(He(be)||oe(be))return wt!==null?null:Ge(ve,fe,be,Xe,null);Dh(ve,be)}return null}function ut(ve,fe,be,Xe,wt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return ve=ve.get(be)||null,ie(fe,ve,""+Xe,wt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case Y:return ve=ve.get(Xe.key===null?be:Xe.key)||null,ue(fe,ve,Xe,wt);case H:return ve=ve.get(Xe.key===null?be:Xe.key)||null,we(fe,ve,Xe,wt);case je:var Ct=Xe._init;return ut(ve,fe,be,Ct(Xe._payload),wt)}if(He(Xe)||oe(Xe))return ve=ve.get(be)||null,Ge(fe,ve,Xe,wt,null);Dh(fe,Xe)}return null}function yt(ve,fe,be,Xe){for(var wt=null,Ct=null,jt=fe,Ft=fe=0,bn=null;jt!==null&&Ft<be.length;Ft++){jt.index>Ft?(bn=jt,jt=null):bn=jt.sibling;var sr=We(ve,jt,be[Ft],Xe);if(sr===null){jt===null&&(jt=bn);break}o&&jt&&sr.alternate===null&&c(ve,jt),fe=k(sr,fe,Ft),Ct===null?wt=sr:Ct.sibling=sr,Ct=sr,jt=bn}if(Ft===be.length)return f(ve,jt),Or&&fl(ve,Ft),wt;if(jt===null){for(;Ft<be.length;Ft++)jt=Ke(ve,be[Ft],Xe),jt!==null&&(fe=k(jt,fe,Ft),Ct===null?wt=jt:Ct.sibling=jt,Ct=jt);return Or&&fl(ve,Ft),wt}for(jt=x(ve,jt);Ft<be.length;Ft++)bn=ut(jt,ve,Ft,be[Ft],Xe),bn!==null&&(o&&bn.alternate!==null&&jt.delete(bn.key===null?Ft:bn.key),fe=k(bn,fe,Ft),Ct===null?wt=bn:Ct.sibling=bn,Ct=bn);return o&&jt.forEach(function(_o){return c(ve,_o)}),Or&&fl(ve,Ft),wt}function bt(ve,fe,be,Xe){var wt=oe(be);if(typeof wt!="function")throw Error(r(150));if(be=wt.call(be),be==null)throw Error(r(151));for(var Ct=wt=null,jt=fe,Ft=fe=0,bn=null,sr=be.next();jt!==null&&!sr.done;Ft++,sr=be.next()){jt.index>Ft?(bn=jt,jt=null):bn=jt.sibling;var _o=We(ve,jt,sr.value,Xe);if(_o===null){jt===null&&(jt=bn);break}o&&jt&&_o.alternate===null&&c(ve,jt),fe=k(_o,fe,Ft),Ct===null?wt=_o:Ct.sibling=_o,Ct=_o,jt=bn}if(sr.done)return f(ve,jt),Or&&fl(ve,Ft),wt;if(jt===null){for(;!sr.done;Ft++,sr=be.next())sr=Ke(ve,sr.value,Xe),sr!==null&&(fe=k(sr,fe,Ft),Ct===null?wt=sr:Ct.sibling=sr,Ct=sr);return Or&&fl(ve,Ft),wt}for(jt=x(ve,jt);!sr.done;Ft++,sr=be.next())sr=ut(jt,ve,Ft,sr.value,Xe),sr!==null&&(o&&sr.alternate!==null&&jt.delete(sr.key===null?Ft:sr.key),fe=k(sr,fe,Ft),Ct===null?wt=sr:Ct.sibling=sr,Ct=sr);return o&&jt.forEach(function(pj){return c(ve,pj)}),Or&&fl(ve,Ft),wt}function Yr(ve,fe,be,Xe){if(typeof be=="object"&&be!==null&&be.type===S&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case Y:e:{for(var wt=be.key,Ct=fe;Ct!==null;){if(Ct.key===wt){if(wt=be.type,wt===S){if(Ct.tag===7){f(ve,Ct.sibling),fe=b(Ct,be.props.children),fe.return=ve,ve=fe;break e}}else if(Ct.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===je&&f2(wt)===Ct.type){f(ve,Ct.sibling),fe=b(Ct,be.props),fe.ref=cd(ve,Ct,be),fe.return=ve,ve=fe;break e}f(ve,Ct);break}else c(ve,Ct);Ct=Ct.sibling}be.type===S?(fe=wl(be.props.children,ve.mode,Xe,be.key),fe.return=ve,ve=fe):(Xe=sf(be.type,be.key,be.props,null,ve.mode,Xe),Xe.ref=cd(ve,fe,be),Xe.return=ve,ve=Xe)}return V(ve);case H:e:{for(Ct=be.key;fe!==null;){if(fe.key===Ct)if(fe.tag===4&&fe.stateNode.containerInfo===be.containerInfo&&fe.stateNode.implementation===be.implementation){f(ve,fe.sibling),fe=b(fe,be.children||[]),fe.return=ve,ve=fe;break e}else{f(ve,fe);break}else c(ve,fe);fe=fe.sibling}fe=lx(be,ve.mode,Xe),fe.return=ve,ve=fe}return V(ve);case je:return Ct=be._init,Yr(ve,fe,Ct(be._payload),Xe)}if(He(be))return yt(ve,fe,be,Xe);if(oe(be))return bt(ve,fe,be,Xe);Dh(ve,be)}return typeof be=="string"&&be!==""||typeof be=="number"?(be=""+be,fe!==null&&fe.tag===6?(f(ve,fe.sibling),fe=b(fe,be),fe.return=ve,ve=fe):(f(ve,fe),fe=ox(be,ve.mode,Xe),fe.return=ve,ve=fe),V(ve)):f(ve,fe)}return Yr}var Dc=p2(!0),m2=p2(!1),Oh=uo(null),Fh=null,Oc=null,xg=null;function yg(){xg=Oc=Fh=null}function vg(o){var c=Oh.current;Cr(Oh),o._currentValue=c}function bg(o,c,f){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===f)break;o=o.return}}function Fc(o,c){Fh=o,xg=Oc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(xs=!0),o.firstContext=null)}function Qs(o){var c=o._currentValue;if(xg!==o)if(o={context:o,memoizedValue:c,next:null},Oc===null){if(Fh===null)throw Error(r(308));Oc=o,Fh.dependencies={lanes:0,firstContext:o}}else Oc=Oc.next=o;return c}var pl=null;function wg(o){pl===null?pl=[o]:pl.push(o)}function g2(o,c,f,x){var b=c.interleaved;return b===null?(f.next=f,wg(c)):(f.next=b.next,b.next=f),c.interleaved=f,ki(o,x)}function ki(o,c){o.lanes|=c;var f=o.alternate;for(f!==null&&(f.lanes|=c),f=o,o=o.return;o!==null;)o.childLanes|=c,f=o.alternate,f!==null&&(f.childLanes|=c),f=o,o=o.return;return f.tag===3?f.stateNode:null}var po=!1;function _g(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x2(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ai(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function mo(o,c,f){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(tr&2)!==0){var b=x.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),x.pending=c,ki(o,f)}return b=x.interleaved,b===null?(c.next=c,wg(x)):(c.next=b.next,b.next=c),x.interleaved=c,ki(o,f)}function Lh(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var x=c.lanes;x&=o.pendingLanes,f|=x,c.lanes=f,no(o,f)}}function y2(o,c){var f=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,f===x)){var b=null,k=null;if(f=f.firstBaseUpdate,f!==null){do{var V={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};k===null?b=k=V:k=k.next=V,f=f.next}while(f!==null);k===null?b=k=c:k=k.next=c}else b=k=c;f={baseState:x.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:x.shared,effects:x.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}function Mh(o,c,f,x){var b=o.updateQueue;po=!1;var k=b.firstBaseUpdate,V=b.lastBaseUpdate,ie=b.shared.pending;if(ie!==null){b.shared.pending=null;var ue=ie,we=ue.next;ue.next=null,V===null?k=we:V.next=we,V=ue;var Ge=o.alternate;Ge!==null&&(Ge=Ge.updateQueue,ie=Ge.lastBaseUpdate,ie!==V&&(ie===null?Ge.firstBaseUpdate=we:ie.next=we,Ge.lastBaseUpdate=ue))}if(k!==null){var Ke=b.baseState;V=0,Ge=we=ue=null,ie=k;do{var We=ie.lane,ut=ie.eventTime;if((x&We)===We){Ge!==null&&(Ge=Ge.next={eventTime:ut,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var yt=o,bt=ie;switch(We=c,ut=f,bt.tag){case 1:if(yt=bt.payload,typeof yt=="function"){Ke=yt.call(ut,Ke,We);break e}Ke=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=bt.payload,We=typeof yt=="function"?yt.call(ut,Ke,We):yt,We==null)break e;Ke=xe({},Ke,We);break e;case 2:po=!0}}ie.callback!==null&&ie.lane!==0&&(o.flags|=64,We=b.effects,We===null?b.effects=[ie]:We.push(ie))}else ut={eventTime:ut,lane:We,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},Ge===null?(we=Ge=ut,ue=Ke):Ge=Ge.next=ut,V|=We;if(ie=ie.next,ie===null){if(ie=b.shared.pending,ie===null)break;We=ie,ie=We.next,We.next=null,b.lastBaseUpdate=We,b.shared.pending=null}}while(!0);if(Ge===null&&(ue=Ke),b.baseState=ue,b.firstBaseUpdate=we,b.lastBaseUpdate=Ge,c=b.shared.interleaved,c!==null){b=c;do V|=b.lane,b=b.next;while(b!==c)}else k===null&&(b.shared.lanes=0);xl|=V,o.lanes=V,o.memoizedState=Ke}}function v2(o,c,f){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var x=o[c],b=x.callback;if(b!==null){if(x.callback=null,x=f,typeof b!="function")throw Error(r(191,b));b.call(x)}}}var ud={},Ga=uo(ud),dd=uo(ud),hd=uo(ud);function ml(o){if(o===ud)throw Error(r(174));return o}function Eg(o,c){switch(Ar(hd,c),Ar(dd,o),Ar(Ga,ud),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:St(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=St(c,o)}Cr(Ga),Ar(Ga,c)}function Lc(){Cr(Ga),Cr(dd),Cr(hd)}function b2(o){ml(hd.current);var c=ml(Ga.current),f=St(c,o.type);c!==f&&(Ar(dd,o),Ar(Ga,f))}function Tg(o){dd.current===o&&(Cr(Ga),Cr(dd))}var Mr=uo(0);function Vh(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ng=[];function kg(){for(var o=0;o<Ng.length;o++)Ng[o]._workInProgressVersionPrimary=null;Ng.length=0}var $h=L.ReactCurrentDispatcher,Ag=L.ReactCurrentBatchConfig,gl=0,Vr=null,un=null,yn=null,Bh=!1,fd=!1,pd=0,FC=0;function qn(){throw Error(r(321))}function Sg(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!ga(o[f],c[f]))return!1;return!0}function Cg(o,c,f,x,b,k){if(gl=k,Vr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,$h.current=o===null||o.memoizedState===null?$C:BC,o=f(x,b),fd){k=0;do{if(fd=!1,pd=0,25<=k)throw Error(r(301));k+=1,yn=un=null,c.updateQueue=null,$h.current=UC,o=f(x,b)}while(fd)}if($h.current=Hh,c=un!==null&&un.next!==null,gl=0,yn=un=Vr=null,Bh=!1,c)throw Error(r(300));return o}function jg(){var o=pd!==0;return pd=0,o}function qa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Vr.memoizedState=yn=o:yn=yn.next=o,yn}function Js(){if(un===null){var o=Vr.alternate;o=o!==null?o.memoizedState:null}else o=un.next;var c=yn===null?Vr.memoizedState:yn.next;if(c!==null)yn=c,un=o;else{if(o===null)throw Error(r(310));un=o,o={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},yn===null?Vr.memoizedState=yn=o:yn=yn.next=o}return yn}function md(o,c){return typeof c=="function"?c(o):c}function Ig(o){var c=Js(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var x=un,b=x.baseQueue,k=f.pending;if(k!==null){if(b!==null){var V=b.next;b.next=k.next,k.next=V}x.baseQueue=b=k,f.pending=null}if(b!==null){k=b.next,x=x.baseState;var ie=V=null,ue=null,we=k;do{var Ge=we.lane;if((gl&Ge)===Ge)ue!==null&&(ue=ue.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),x=we.hasEagerState?we.eagerState:o(x,we.action);else{var Ke={lane:Ge,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};ue===null?(ie=ue=Ke,V=x):ue=ue.next=Ke,Vr.lanes|=Ge,xl|=Ge}we=we.next}while(we!==null&&we!==k);ue===null?V=x:ue.next=ie,ga(x,c.memoizedState)||(xs=!0),c.memoizedState=x,c.baseState=V,c.baseQueue=ue,f.lastRenderedState=x}if(o=f.interleaved,o!==null){b=o;do k=b.lane,Vr.lanes|=k,xl|=k,b=b.next;while(b!==o)}else b===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function Pg(o){var c=Js(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var x=f.dispatch,b=f.pending,k=c.memoizedState;if(b!==null){f.pending=null;var V=b=b.next;do k=o(k,V.action),V=V.next;while(V!==b);ga(k,c.memoizedState)||(xs=!0),c.memoizedState=k,c.baseQueue===null&&(c.baseState=k),f.lastRenderedState=k}return[k,x]}function w2(){}function _2(o,c){var f=Vr,x=Js(),b=c(),k=!ga(x.memoizedState,b);if(k&&(x.memoizedState=b,xs=!0),x=x.queue,Rg(N2.bind(null,f,x,o),[o]),x.getSnapshot!==c||k||yn!==null&&yn.memoizedState.tag&1){if(f.flags|=2048,gd(9,T2.bind(null,f,x,b,c),void 0,null),vn===null)throw Error(r(349));(gl&30)!==0||E2(f,c,b)}return b}function E2(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=Vr.updateQueue,c===null?(c={lastEffect:null,stores:null},Vr.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function T2(o,c,f,x){c.value=f,c.getSnapshot=x,k2(c)&&A2(o)}function N2(o,c,f){return f(function(){k2(c)&&A2(o)})}function k2(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!ga(o,f)}catch{return!0}}function A2(o){var c=ki(o,1);c!==null&&wa(c,o,1,-1)}function S2(o){var c=qa();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:o},c.queue=o,o=o.dispatch=VC.bind(null,Vr,o),[c.memoizedState,o]}function gd(o,c,f,x){return o={tag:o,create:c,destroy:f,deps:x,next:null},c=Vr.updateQueue,c===null?(c={lastEffect:null,stores:null},Vr.updateQueue=c,c.lastEffect=o.next=o):(f=c.lastEffect,f===null?c.lastEffect=o.next=o:(x=f.next,f.next=o,o.next=x,c.lastEffect=o)),o}function C2(){return Js().memoizedState}function Uh(o,c,f,x){var b=qa();Vr.flags|=o,b.memoizedState=gd(1|c,f,void 0,x===void 0?null:x)}function zh(o,c,f,x){var b=Js();x=x===void 0?null:x;var k=void 0;if(un!==null){var V=un.memoizedState;if(k=V.destroy,x!==null&&Sg(x,V.deps)){b.memoizedState=gd(c,f,k,x);return}}Vr.flags|=o,b.memoizedState=gd(1|c,f,k,x)}function j2(o,c){return Uh(8390656,8,o,c)}function Rg(o,c){return zh(2048,8,o,c)}function I2(o,c){return zh(4,2,o,c)}function P2(o,c){return zh(4,4,o,c)}function R2(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function D2(o,c,f){return f=f!=null?f.concat([o]):null,zh(4,4,R2.bind(null,c,o),f)}function Dg(){}function O2(o,c){var f=Js();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&Sg(c,x[1])?x[0]:(f.memoizedState=[o,c],o)}function F2(o,c){var f=Js();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&Sg(c,x[1])?x[0]:(o=o(),f.memoizedState=[o,c],o)}function L2(o,c,f){return(gl&21)===0?(o.baseState&&(o.baseState=!1,xs=!0),o.memoizedState=f):(ga(f,c)||(f=al(),Vr.lanes|=f,xl|=f,o.baseState=!0),c)}function LC(o,c){var f=Xt;Xt=f!==0&&4>f?f:4,o(!0);var x=Ag.transition;Ag.transition={};try{o(!1),c()}finally{Xt=f,Ag.transition=x}}function M2(){return Js().memoizedState}function MC(o,c,f){var x=vo(o);if(f={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null},V2(o))$2(c,f);else if(f=g2(o,c,f,x),f!==null){var b=is();wa(f,o,x,b),B2(f,c,x)}}function VC(o,c,f){var x=vo(o),b={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null};if(V2(o))$2(c,b);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=c.lastRenderedReducer,k!==null))try{var V=c.lastRenderedState,ie=k(V,f);if(b.hasEagerState=!0,b.eagerState=ie,ga(ie,V)){var ue=c.interleaved;ue===null?(b.next=b,wg(c)):(b.next=ue.next,ue.next=b),c.interleaved=b;return}}catch{}finally{}f=g2(o,c,b,x),f!==null&&(b=is(),wa(f,o,x,b),B2(f,c,x))}}function V2(o){var c=o.alternate;return o===Vr||c!==null&&c===Vr}function $2(o,c){fd=Bh=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function B2(o,c,f){if((f&4194240)!==0){var x=c.lanes;x&=o.pendingLanes,f|=x,c.lanes=f,no(o,f)}}var Hh={readContext:Qs,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},$C={readContext:Qs,useCallback:function(o,c){return qa().memoizedState=[o,c===void 0?null:c],o},useContext:Qs,useEffect:j2,useImperativeHandle:function(o,c,f){return f=f!=null?f.concat([o]):null,Uh(4194308,4,R2.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Uh(4194308,4,o,c)},useInsertionEffect:function(o,c){return Uh(4,2,o,c)},useMemo:function(o,c){var f=qa();return c=c===void 0?null:c,o=o(),f.memoizedState=[o,c],o},useReducer:function(o,c,f){var x=qa();return c=f!==void 0?f(c):c,x.memoizedState=x.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},x.queue=o,o=o.dispatch=MC.bind(null,Vr,o),[x.memoizedState,o]},useRef:function(o){var c=qa();return o={current:o},c.memoizedState=o},useState:S2,useDebugValue:Dg,useDeferredValue:function(o){return qa().memoizedState=o},useTransition:function(){var o=S2(!1),c=o[0];return o=LC.bind(null,o[1]),qa().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,f){var x=Vr,b=qa();if(Or){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),vn===null)throw Error(r(349));(gl&30)!==0||E2(x,c,f)}b.memoizedState=f;var k={value:f,getSnapshot:c};return b.queue=k,j2(N2.bind(null,x,k,o),[o]),x.flags|=2048,gd(9,T2.bind(null,x,k,f,c),void 0,null),f},useId:function(){var o=qa(),c=vn.identifierPrefix;if(Or){var f=Ni,x=Ti;f=(x&~(1<<32-Er(x)-1)).toString(32)+f,c=":"+c+"R"+f,f=pd++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=FC++,c=":"+c+"r"+f.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},BC={readContext:Qs,useCallback:O2,useContext:Qs,useEffect:Rg,useImperativeHandle:D2,useInsertionEffect:I2,useLayoutEffect:P2,useMemo:F2,useReducer:Ig,useRef:C2,useState:function(){return Ig(md)},useDebugValue:Dg,useDeferredValue:function(o){var c=Js();return L2(c,un.memoizedState,o)},useTransition:function(){var o=Ig(md)[0],c=Js().memoizedState;return[o,c]},useMutableSource:w2,useSyncExternalStore:_2,useId:M2,unstable_isNewReconciler:!1},UC={readContext:Qs,useCallback:O2,useContext:Qs,useEffect:Rg,useImperativeHandle:D2,useInsertionEffect:I2,useLayoutEffect:P2,useMemo:F2,useReducer:Pg,useRef:C2,useState:function(){return Pg(md)},useDebugValue:Dg,useDeferredValue:function(o){var c=Js();return un===null?c.memoizedState=o:L2(c,un.memoizedState,o)},useTransition:function(){var o=Pg(md)[0],c=Js().memoizedState;return[o,c]},useMutableSource:w2,useSyncExternalStore:_2,useId:M2,unstable_isNewReconciler:!1};function ya(o,c){if(o&&o.defaultProps){c=xe({},c),o=o.defaultProps;for(var f in o)c[f]===void 0&&(c[f]=o[f]);return c}return c}function Og(o,c,f,x){c=o.memoizedState,f=f(x,c),f=f==null?c:xe({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Wh={isMounted:function(o){return(o=o._reactInternals)?D(o)===o:!1},enqueueSetState:function(o,c,f){o=o._reactInternals;var x=is(),b=vo(o),k=Ai(x,b);k.payload=c,f!=null&&(k.callback=f),c=mo(o,k,b),c!==null&&(wa(c,o,b,x),Lh(c,o,b))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var x=is(),b=vo(o),k=Ai(x,b);k.tag=1,k.payload=c,f!=null&&(k.callback=f),c=mo(o,k,b),c!==null&&(wa(c,o,b,x),Lh(c,o,b))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=is(),x=vo(o),b=Ai(f,x);b.tag=2,c!=null&&(b.callback=c),c=mo(o,b,x),c!==null&&(wa(c,o,x,f),Lh(c,o,x))}};function U2(o,c,f,x,b,k,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,k,V):c.prototype&&c.prototype.isPureReactComponent?!rd(f,x)||!rd(b,k):!0}function z2(o,c,f){var x=!1,b=ho,k=c.contextType;return typeof k=="object"&&k!==null?k=Qs(k):(b=gs(c)?dl:Gn.current,x=c.contextTypes,k=(x=x!=null)?jc(o,b):ho),c=new c(f,k),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Wh,o.stateNode=c,c._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=b,o.__reactInternalMemoizedMaskedChildContext=k),c}function H2(o,c,f,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,x),c.state!==o&&Wh.enqueueReplaceState(c,c.state,null)}function Fg(o,c,f,x){var b=o.stateNode;b.props=f,b.state=o.memoizedState,b.refs={},_g(o);var k=c.contextType;typeof k=="object"&&k!==null?b.context=Qs(k):(k=gs(c)?dl:Gn.current,b.context=jc(o,k)),b.state=o.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(Og(o,c,k,f),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(c=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),c!==b.state&&Wh.enqueueReplaceState(b,b.state,null),Mh(o,f,b,x),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308)}function Mc(o,c){try{var f="",x=c;do f+=ae(x),x=x.return;while(x);var b=f}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:o,source:c,stack:b,digest:null}}function Lg(o,c,f){return{value:o,source:null,stack:f??null,digest:c??null}}function Mg(o,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var zC=typeof WeakMap=="function"?WeakMap:Map;function W2(o,c,f){f=Ai(-1,f),f.tag=3,f.payload={element:null};var x=c.value;return f.callback=function(){Jh||(Jh=!0,Zg=x),Mg(o,c)},f}function G2(o,c,f){f=Ai(-1,f),f.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var b=c.value;f.payload=function(){return x(b)},f.callback=function(){Mg(o,c)}}var k=o.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(f.callback=function(){Mg(o,c),typeof x!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var V=c.stack;this.componentDidCatch(c.value,{componentStack:V!==null?V:""})}),f}function q2(o,c,f){var x=o.pingCache;if(x===null){x=o.pingCache=new zC;var b=new Set;x.set(c,b)}else b=x.get(c),b===void 0&&(b=new Set,x.set(c,b));b.has(f)||(b.add(f),o=nj.bind(null,o,c,f),c.then(o,o))}function K2(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function Y2(o,c,f,x,b){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=Ai(-1,1),c.tag=2,mo(f,c,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=b,o)}var HC=L.ReactCurrentOwner,xs=!1;function as(o,c,f,x){c.child=o===null?m2(c,null,f,x):Dc(c,o.child,f,x)}function X2(o,c,f,x,b){f=f.render;var k=c.ref;return Fc(c,b),x=Cg(o,c,f,x,k,b),f=jg(),o!==null&&!xs?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~b,Si(o,c,b)):(Or&&f&&hg(c),c.flags|=1,as(o,c,x,b),c.child)}function Q2(o,c,f,x,b){if(o===null){var k=f.type;return typeof k=="function"&&!ix(k)&&k.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=k,J2(o,c,k,x,b)):(o=sf(f.type,null,x,c,c.mode,b),o.ref=c.ref,o.return=c,c.child=o)}if(k=o.child,(o.lanes&b)===0){var V=k.memoizedProps;if(f=f.compare,f=f!==null?f:rd,f(V,x)&&o.ref===c.ref)return Si(o,c,b)}return c.flags|=1,o=wo(k,x),o.ref=c.ref,o.return=c,c.child=o}function J2(o,c,f,x,b){if(o!==null){var k=o.memoizedProps;if(rd(k,x)&&o.ref===c.ref)if(xs=!1,c.pendingProps=x=k,(o.lanes&b)!==0)(o.flags&131072)!==0&&(xs=!0);else return c.lanes=o.lanes,Si(o,c,b)}return Vg(o,c,f,x,b)}function Z2(o,c,f){var x=c.pendingProps,b=x.children,k=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar($c,Os),Os|=f;else{if((f&1073741824)===0)return o=k!==null?k.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,Ar($c,Os),Os|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=k!==null?k.baseLanes:f,Ar($c,Os),Os|=x}else k!==null?(x=k.baseLanes|f,c.memoizedState=null):x=f,Ar($c,Os),Os|=x;return as(o,c,b,f),c.child}function ew(o,c){var f=c.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function Vg(o,c,f,x,b){var k=gs(f)?dl:Gn.current;return k=jc(c,k),Fc(c,b),f=Cg(o,c,f,x,k,b),x=jg(),o!==null&&!xs?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~b,Si(o,c,b)):(Or&&x&&hg(c),c.flags|=1,as(o,c,f,b),c.child)}function tw(o,c,f,x,b){if(gs(f)){var k=!0;Ch(c)}else k=!1;if(Fc(c,b),c.stateNode===null)qh(o,c),z2(c,f,x),Fg(c,f,x,b),x=!0;else if(o===null){var V=c.stateNode,ie=c.memoizedProps;V.props=ie;var ue=V.context,we=f.contextType;typeof we=="object"&&we!==null?we=Qs(we):(we=gs(f)?dl:Gn.current,we=jc(c,we));var Ge=f.getDerivedStateFromProps,Ke=typeof Ge=="function"||typeof V.getSnapshotBeforeUpdate=="function";Ke||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ie!==x||ue!==we)&&H2(c,V,x,we),po=!1;var We=c.memoizedState;V.state=We,Mh(c,x,V,b),ue=c.memoizedState,ie!==x||We!==ue||ms.current||po?(typeof Ge=="function"&&(Og(c,f,Ge,x),ue=c.memoizedState),(ie=po||U2(c,f,ie,x,We,ue,we))?(Ke||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(c.flags|=4194308)):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=ue),V.props=x,V.state=ue,V.context=we,x=ie):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{V=c.stateNode,x2(o,c),ie=c.memoizedProps,we=c.type===c.elementType?ie:ya(c.type,ie),V.props=we,Ke=c.pendingProps,We=V.context,ue=f.contextType,typeof ue=="object"&&ue!==null?ue=Qs(ue):(ue=gs(f)?dl:Gn.current,ue=jc(c,ue));var ut=f.getDerivedStateFromProps;(Ge=typeof ut=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ie!==Ke||We!==ue)&&H2(c,V,x,ue),po=!1,We=c.memoizedState,V.state=We,Mh(c,x,V,b);var yt=c.memoizedState;ie!==Ke||We!==yt||ms.current||po?(typeof ut=="function"&&(Og(c,f,ut,x),yt=c.memoizedState),(we=po||U2(c,f,we,x,We,yt,ue)||!1)?(Ge||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(x,yt,ue),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(x,yt,ue)),typeof V.componentDidUpdate=="function"&&(c.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof V.componentDidUpdate!="function"||ie===o.memoizedProps&&We===o.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ie===o.memoizedProps&&We===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=yt),V.props=x,V.state=yt,V.context=ue,x=we):(typeof V.componentDidUpdate!="function"||ie===o.memoizedProps&&We===o.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ie===o.memoizedProps&&We===o.memoizedState||(c.flags|=1024),x=!1)}return $g(o,c,f,x,k,b)}function $g(o,c,f,x,b,k){ew(o,c);var V=(c.flags&128)!==0;if(!x&&!V)return b&&i2(c,f,!1),Si(o,c,k);x=c.stateNode,HC.current=c;var ie=V&&typeof f.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,o!==null&&V?(c.child=Dc(c,o.child,null,k),c.child=Dc(c,null,ie,k)):as(o,c,ie,k),c.memoizedState=x.state,b&&i2(c,f,!0),c.child}function rw(o){var c=o.stateNode;c.pendingContext?s2(o,c.pendingContext,c.pendingContext!==c.context):c.context&&s2(o,c.context,!1),Eg(o,c.containerInfo)}function nw(o,c,f,x,b){return Rc(),gg(b),c.flags|=256,as(o,c,f,x),c.child}var Bg={dehydrated:null,treeContext:null,retryLane:0};function Ug(o){return{baseLanes:o,cachePool:null,transitions:null}}function sw(o,c,f){var x=c.pendingProps,b=Mr.current,k=!1,V=(c.flags&128)!==0,ie;if((ie=V)||(ie=o!==null&&o.memoizedState===null?!1:(b&2)!==0),ie?(k=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(b|=1),Ar(Mr,b&1),o===null)return mg(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(V=x.children,o=x.fallback,k?(x=c.mode,k=c.child,V={mode:"hidden",children:V},(x&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=V):k=af(V,x,0,null),o=wl(o,x,f,null),k.return=c,o.return=c,k.sibling=o,c.child=k,c.child.memoizedState=Ug(f),c.memoizedState=Bg,o):zg(c,V));if(b=o.memoizedState,b!==null&&(ie=b.dehydrated,ie!==null))return WC(o,c,V,x,ie,b,f);if(k){k=x.fallback,V=c.mode,b=o.child,ie=b.sibling;var ue={mode:"hidden",children:x.children};return(V&1)===0&&c.child!==b?(x=c.child,x.childLanes=0,x.pendingProps=ue,c.deletions=null):(x=wo(b,ue),x.subtreeFlags=b.subtreeFlags&14680064),ie!==null?k=wo(ie,k):(k=wl(k,V,f,null),k.flags|=2),k.return=c,x.return=c,x.sibling=k,c.child=x,x=k,k=c.child,V=o.child.memoizedState,V=V===null?Ug(f):{baseLanes:V.baseLanes|f,cachePool:null,transitions:V.transitions},k.memoizedState=V,k.childLanes=o.childLanes&~f,c.memoizedState=Bg,x}return k=o.child,o=k.sibling,x=wo(k,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=f),x.return=c,x.sibling=null,o!==null&&(f=c.deletions,f===null?(c.deletions=[o],c.flags|=16):f.push(o)),c.child=x,c.memoizedState=null,x}function zg(o,c){return c=af({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Gh(o,c,f,x){return x!==null&&gg(x),Dc(c,o.child,null,f),o=zg(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function WC(o,c,f,x,b,k,V){if(f)return c.flags&256?(c.flags&=-257,x=Lg(Error(r(422))),Gh(o,c,V,x)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(k=x.fallback,b=c.mode,x=af({mode:"visible",children:x.children},b,0,null),k=wl(k,b,V,null),k.flags|=2,x.return=c,k.return=c,x.sibling=k,c.child=x,(c.mode&1)!==0&&Dc(c,o.child,null,V),c.child.memoizedState=Ug(V),c.memoizedState=Bg,k);if((c.mode&1)===0)return Gh(o,c,V,null);if(b.data==="$!"){if(x=b.nextSibling&&b.nextSibling.dataset,x)var ie=x.dgst;return x=ie,k=Error(r(419)),x=Lg(k,x,void 0),Gh(o,c,V,x)}if(ie=(V&o.childLanes)!==0,xs||ie){if(x=vn,x!==null){switch(V&-V){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(x.suspendedLanes|V))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,ki(o,b),wa(x,o,b,-1))}return ax(),x=Lg(Error(r(421))),Gh(o,c,V,x)}return b.data==="$?"?(c.flags|=128,c.child=o.child,c=sj.bind(null,o),b._reactRetry=c,null):(o=k.treeContext,Ds=co(b.nextSibling),Rs=c,Or=!0,xa=null,o!==null&&(Ys[Xs++]=Ti,Ys[Xs++]=Ni,Ys[Xs++]=hl,Ti=o.id,Ni=o.overflow,hl=c),c=zg(c,x.children),c.flags|=4096,c)}function aw(o,c,f){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),bg(o.return,c,f)}function Hg(o,c,f,x,b){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:f,tailMode:b}:(k.isBackwards=c,k.rendering=null,k.renderingStartTime=0,k.last=x,k.tail=f,k.tailMode=b)}function iw(o,c,f){var x=c.pendingProps,b=x.revealOrder,k=x.tail;if(as(o,c,x.children,f),x=Mr.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&aw(o,f,c);else if(o.tag===19)aw(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(Ar(Mr,x),(c.mode&1)===0)c.memoizedState=null;else switch(b){case"forwards":for(f=c.child,b=null;f!==null;)o=f.alternate,o!==null&&Vh(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=c.child,c.child=null):(b=f.sibling,f.sibling=null),Hg(c,!1,b,f,k);break;case"backwards":for(f=null,b=c.child,c.child=null;b!==null;){if(o=b.alternate,o!==null&&Vh(o)===null){c.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}Hg(c,!0,f,null,k);break;case"together":Hg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function qh(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Si(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),xl|=c.lanes,(f&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,f=wo(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=wo(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function GC(o,c,f){switch(c.tag){case 3:rw(c),Rc();break;case 5:b2(c);break;case 1:gs(c.type)&&Ch(c);break;case 4:Eg(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,b=c.memoizedProps.value;Ar(Oh,x._currentValue),x._currentValue=b;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(Ar(Mr,Mr.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?sw(o,c,f):(Ar(Mr,Mr.current&1),o=Si(o,c,f),o!==null?o.sibling:null);Ar(Mr,Mr.current&1);break;case 19:if(x=(f&c.childLanes)!==0,(o.flags&128)!==0){if(x)return iw(o,c,f);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Ar(Mr,Mr.current),x)break;return null;case 22:case 23:return c.lanes=0,Z2(o,c,f)}return Si(o,c,f)}var ow,Wg,lw,cw;ow=function(o,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Wg=function(){},lw=function(o,c,f,x){var b=o.memoizedProps;if(b!==x){o=c.stateNode,ml(Ga.current);var k=null;switch(f){case"input":b=vt(o,b),x=vt(o,x),k=[];break;case"select":b=xe({},b,{value:void 0}),x=xe({},x,{value:void 0}),k=[];break;case"textarea":b=Je(o,b),x=Je(o,x),k=[];break;default:typeof b.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=kh)}Qe(f,x);var V;f=null;for(we in b)if(!x.hasOwnProperty(we)&&b.hasOwnProperty(we)&&b[we]!=null)if(we==="style"){var ie=b[we];for(V in ie)ie.hasOwnProperty(V)&&(f||(f={}),f[V]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(s.hasOwnProperty(we)?k||(k=[]):(k=k||[]).push(we,null));for(we in x){var ue=x[we];if(ie=b?.[we],x.hasOwnProperty(we)&&ue!==ie&&(ue!=null||ie!=null))if(we==="style")if(ie){for(V in ie)!ie.hasOwnProperty(V)||ue&&ue.hasOwnProperty(V)||(f||(f={}),f[V]="");for(V in ue)ue.hasOwnProperty(V)&&ie[V]!==ue[V]&&(f||(f={}),f[V]=ue[V])}else f||(k||(k=[]),k.push(we,f)),f=ue;else we==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ie=ie?ie.__html:void 0,ue!=null&&ie!==ue&&(k=k||[]).push(we,ue)):we==="children"?typeof ue!="string"&&typeof ue!="number"||(k=k||[]).push(we,""+ue):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(s.hasOwnProperty(we)?(ue!=null&&we==="onScroll"&&Sr("scroll",o),k||ie===ue||(k=[])):(k=k||[]).push(we,ue))}f&&(k=k||[]).push("style",f);var we=k;(c.updateQueue=we)&&(c.flags|=4)}},cw=function(o,c,f,x){f!==x&&(c.flags|=4)};function xd(o,c){if(!Or)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Kn(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,x=0;if(c)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,x|=b.subtreeFlags&14680064,x|=b.flags&14680064,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,x|=b.subtreeFlags,x|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=x,o.childLanes=f,c}function qC(o,c,f){var x=c.pendingProps;switch(fg(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(c),null;case 1:return gs(c.type)&&Sh(),Kn(c),null;case 3:return x=c.stateNode,Lc(),Cr(ms),Cr(Gn),kg(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Rh(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,xa!==null&&(rx(xa),xa=null))),Wg(o,c),Kn(c),null;case 5:Tg(c);var b=ml(hd.current);if(f=c.type,o!==null&&c.stateNode!=null)lw(o,c,f,x,b),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Kn(c),null}if(o=ml(Ga.current),Rh(c)){x=c.stateNode,f=c.type;var k=c.memoizedProps;switch(x[Wa]=c,x[od]=k,o=(c.mode&1)!==0,f){case"dialog":Sr("cancel",x),Sr("close",x);break;case"iframe":case"object":case"embed":Sr("load",x);break;case"video":case"audio":for(b=0;b<sd.length;b++)Sr(sd[b],x);break;case"source":Sr("error",x);break;case"img":case"image":case"link":Sr("error",x),Sr("load",x);break;case"details":Sr("toggle",x);break;case"input":rr(x,k),Sr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!k.multiple},Sr("invalid",x);break;case"textarea":lt(x,k),Sr("invalid",x)}Qe(f,k),b=null;for(var V in k)if(k.hasOwnProperty(V)){var ie=k[V];V==="children"?typeof ie=="string"?x.textContent!==ie&&(k.suppressHydrationWarning!==!0&&Nh(x.textContent,ie,o),b=["children",ie]):typeof ie=="number"&&x.textContent!==""+ie&&(k.suppressHydrationWarning!==!0&&Nh(x.textContent,ie,o),b=["children",""+ie]):s.hasOwnProperty(V)&&ie!=null&&V==="onScroll"&&Sr("scroll",x)}switch(f){case"input":nt(x),dr(x,k,!0);break;case"textarea":nt(x),Tt(x);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(x.onclick=kh)}x=b,c.updateQueue=x,x!==null&&(c.flags|=4)}else{V=b.nodeType===9?b:b.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=dt(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=V.createElement(f,{is:x.is}):(o=V.createElement(f),f==="select"&&(V=o,x.multiple?V.multiple=!0:x.size&&(V.size=x.size))):o=V.createElementNS(o,f),o[Wa]=c,o[od]=x,ow(o,c,!1,!1),c.stateNode=o;e:{switch(V=xt(f,x),f){case"dialog":Sr("cancel",o),Sr("close",o),b=x;break;case"iframe":case"object":case"embed":Sr("load",o),b=x;break;case"video":case"audio":for(b=0;b<sd.length;b++)Sr(sd[b],o);b=x;break;case"source":Sr("error",o),b=x;break;case"img":case"image":case"link":Sr("error",o),Sr("load",o),b=x;break;case"details":Sr("toggle",o),b=x;break;case"input":rr(o,x),b=vt(o,x),Sr("invalid",o);break;case"option":b=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},b=xe({},x,{value:void 0}),Sr("invalid",o);break;case"textarea":lt(o,x),b=Je(o,x),Sr("invalid",o);break;default:b=x}Qe(f,b),ie=b;for(k in ie)if(ie.hasOwnProperty(k)){var ue=ie[k];k==="style"?ke(o,ue):k==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&wr(o,ue)):k==="children"?typeof ue=="string"?(f!=="textarea"||ue!=="")&&Q(o,ue):typeof ue=="number"&&Q(o,""+ue):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(s.hasOwnProperty(k)?ue!=null&&k==="onScroll"&&Sr("scroll",o):ue!=null&&z(o,k,ue,V))}switch(f){case"input":nt(o),dr(o,x,!1);break;case"textarea":nt(o),Tt(o);break;case"option":x.value!=null&&o.setAttribute("value",""+Ve(x.value));break;case"select":o.multiple=!!x.multiple,k=x.value,k!=null?he(o,!!x.multiple,k,!1):x.defaultValue!=null&&he(o,!!x.multiple,x.defaultValue,!0);break;default:typeof b.onClick=="function"&&(o.onclick=kh)}switch(f){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Kn(c),null;case 6:if(o&&c.stateNode!=null)cw(o,c,o.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(f=ml(hd.current),ml(Ga.current),Rh(c)){if(x=c.stateNode,f=c.memoizedProps,x[Wa]=c,(k=x.nodeValue!==f)&&(o=Rs,o!==null))switch(o.tag){case 3:Nh(x.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Nh(x.nodeValue,f,(o.mode&1)!==0)}k&&(c.flags|=4)}else x=(f.nodeType===9?f:f.ownerDocument).createTextNode(x),x[Wa]=c,c.stateNode=x}return Kn(c),null;case 13:if(Cr(Mr),x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Or&&Ds!==null&&(c.mode&1)!==0&&(c.flags&128)===0)h2(),Rc(),c.flags|=98560,k=!1;else if(k=Rh(c),x!==null&&x.dehydrated!==null){if(o===null){if(!k)throw Error(r(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[Wa]=c}else Rc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Kn(c),k=!1}else xa!==null&&(rx(xa),xa=null),k=!0;if(!k)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(Mr.current&1)!==0?dn===0&&(dn=3):ax())),c.updateQueue!==null&&(c.flags|=4),Kn(c),null);case 4:return Lc(),Wg(o,c),o===null&&ad(c.stateNode.containerInfo),Kn(c),null;case 10:return vg(c.type._context),Kn(c),null;case 17:return gs(c.type)&&Sh(),Kn(c),null;case 19:if(Cr(Mr),k=c.memoizedState,k===null)return Kn(c),null;if(x=(c.flags&128)!==0,V=k.rendering,V===null)if(x)xd(k,!1);else{if(dn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(V=Vh(o),V!==null){for(c.flags|=128,xd(k,!1),x=V.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=f,f=c.child;f!==null;)k=f,o=x,k.flags&=14680066,V=k.alternate,V===null?(k.childLanes=0,k.lanes=o,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=V.childLanes,k.lanes=V.lanes,k.child=V.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=V.memoizedProps,k.memoizedState=V.memoizedState,k.updateQueue=V.updateQueue,k.type=V.type,o=V.dependencies,k.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return Ar(Mr,Mr.current&1|2),c.child}o=o.sibling}k.tail!==null&&Be()>Bc&&(c.flags|=128,x=!0,xd(k,!1),c.lanes=4194304)}else{if(!x)if(o=Vh(V),o!==null){if(c.flags|=128,x=!0,f=o.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),xd(k,!0),k.tail===null&&k.tailMode==="hidden"&&!V.alternate&&!Or)return Kn(c),null}else 2*Be()-k.renderingStartTime>Bc&&f!==1073741824&&(c.flags|=128,x=!0,xd(k,!1),c.lanes=4194304);k.isBackwards?(V.sibling=c.child,c.child=V):(f=k.last,f!==null?f.sibling=V:c.child=V,k.last=V)}return k.tail!==null?(c=k.tail,k.rendering=c,k.tail=c.sibling,k.renderingStartTime=Be(),c.sibling=null,f=Mr.current,Ar(Mr,x?f&1|2:f&1),c):(Kn(c),null);case 22:case 23:return sx(),x=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(Os&1073741824)!==0&&(Kn(c),c.subtreeFlags&6&&(c.flags|=8192)):Kn(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function KC(o,c){switch(fg(c),c.tag){case 1:return gs(c.type)&&Sh(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Lc(),Cr(ms),Cr(Gn),kg(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return Tg(c),null;case 13:if(Cr(Mr),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Rc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Cr(Mr),null;case 4:return Lc(),null;case 10:return vg(c.type._context),null;case 22:case 23:return sx(),null;case 24:return null;default:return null}}var Kh=!1,Yn=!1,YC=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Vc(o,c){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(x){Hr(o,c,x)}else f.current=null}function Gg(o,c,f){try{f()}catch(x){Hr(o,c,x)}}var uw=!1;function XC(o,c){if(sg=io,o=Ub(),Xm(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var x=f.getSelection&&f.getSelection();if(x&&x.rangeCount!==0){f=x.anchorNode;var b=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{f.nodeType,k.nodeType}catch{f=null;break e}var V=0,ie=-1,ue=-1,we=0,Ge=0,Ke=o,We=null;t:for(;;){for(var ut;Ke!==f||b!==0&&Ke.nodeType!==3||(ie=V+b),Ke!==k||x!==0&&Ke.nodeType!==3||(ue=V+x),Ke.nodeType===3&&(V+=Ke.nodeValue.length),(ut=Ke.firstChild)!==null;)We=Ke,Ke=ut;for(;;){if(Ke===o)break t;if(We===f&&++we===b&&(ie=V),We===k&&++Ge===x&&(ue=V),(ut=Ke.nextSibling)!==null)break;Ke=We,We=Ke.parentNode}Ke=ut}f=ie===-1||ue===-1?null:{start:ie,end:ue}}else f=null}f=f||{start:0,end:0}}else f=null;for(ag={focusedElem:o,selectionRange:f},io=!1,gt=c;gt!==null;)if(c=gt,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,gt=o;else for(;gt!==null;){c=gt;try{var yt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(yt!==null){var bt=yt.memoizedProps,Yr=yt.memoizedState,ve=c.stateNode,fe=ve.getSnapshotBeforeUpdate(c.elementType===c.type?bt:ya(c.type,bt),Yr);ve.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var be=c.stateNode.containerInfo;be.nodeType===1?be.textContent="":be.nodeType===9&&be.documentElement&&be.removeChild(be.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Xe){Hr(c,c.return,Xe)}if(o=c.sibling,o!==null){o.return=c.return,gt=o;break}gt=c.return}return yt=uw,uw=!1,yt}function yd(o,c,f){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var b=x=x.next;do{if((b.tag&o)===o){var k=b.destroy;b.destroy=void 0,k!==void 0&&Gg(c,f,k)}b=b.next}while(b!==x)}}function Yh(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&o)===o){var x=f.create;f.destroy=x()}f=f.next}while(f!==c)}}function qg(o){var c=o.ref;if(c!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof c=="function"?c(o):c.current=o}}function dw(o){var c=o.alternate;c!==null&&(o.alternate=null,dw(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[Wa],delete c[od],delete c[cg],delete c[PC],delete c[RC])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function hw(o){return o.tag===5||o.tag===3||o.tag===4}function fw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||hw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Kg(o,c,f){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(o,c):f.insertBefore(o,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(o,f)):(c=f,c.appendChild(o)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=kh));else if(x!==4&&(o=o.child,o!==null))for(Kg(o,c,f),o=o.sibling;o!==null;)Kg(o,c,f),o=o.sibling}function Yg(o,c,f){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Yg(o,c,f),o=o.sibling;o!==null;)Yg(o,c,f),o=o.sibling}var Cn=null,va=!1;function go(o,c,f){for(f=f.child;f!==null;)pw(o,c,f),f=f.sibling}function pw(o,c,f){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(Wn,f)}catch{}switch(f.tag){case 5:Yn||Vc(f,c);case 6:var x=Cn,b=va;Cn=null,go(o,c,f),Cn=x,va=b,Cn!==null&&(va?(o=Cn,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):Cn.removeChild(f.stateNode));break;case 18:Cn!==null&&(va?(o=Cn,f=f.stateNode,o.nodeType===8?lg(o.parentNode,f):o.nodeType===1&&lg(o,f),pa(o)):lg(Cn,f.stateNode));break;case 4:x=Cn,b=va,Cn=f.stateNode.containerInfo,va=!0,go(o,c,f),Cn=x,va=b;break;case 0:case 11:case 14:case 15:if(!Yn&&(x=f.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){b=x=x.next;do{var k=b,V=k.destroy;k=k.tag,V!==void 0&&((k&2)!==0||(k&4)!==0)&&Gg(f,c,V),b=b.next}while(b!==x)}go(o,c,f);break;case 1:if(!Yn&&(Vc(f,c),x=f.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=f.memoizedProps,x.state=f.memoizedState,x.componentWillUnmount()}catch(ie){Hr(f,c,ie)}go(o,c,f);break;case 21:go(o,c,f);break;case 22:f.mode&1?(Yn=(x=Yn)||f.memoizedState!==null,go(o,c,f),Yn=x):go(o,c,f);break;default:go(o,c,f)}}function mw(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new YC),c.forEach(function(x){var b=aj.bind(null,o,x);f.has(x)||(f.add(x),x.then(b,b))})}}function ba(o,c){var f=c.deletions;if(f!==null)for(var x=0;x<f.length;x++){var b=f[x];try{var k=o,V=c,ie=V;e:for(;ie!==null;){switch(ie.tag){case 5:Cn=ie.stateNode,va=!1;break e;case 3:Cn=ie.stateNode.containerInfo,va=!0;break e;case 4:Cn=ie.stateNode.containerInfo,va=!0;break e}ie=ie.return}if(Cn===null)throw Error(r(160));pw(k,V,b),Cn=null,va=!1;var ue=b.alternate;ue!==null&&(ue.return=null),b.return=null}catch(we){Hr(b,c,we)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)gw(c,o),c=c.sibling}function gw(o,c){var f=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ba(c,o),Ka(o),x&4){try{yd(3,o,o.return),Yh(3,o)}catch(bt){Hr(o,o.return,bt)}try{yd(5,o,o.return)}catch(bt){Hr(o,o.return,bt)}}break;case 1:ba(c,o),Ka(o),x&512&&f!==null&&Vc(f,f.return);break;case 5:if(ba(c,o),Ka(o),x&512&&f!==null&&Vc(f,f.return),o.flags&32){var b=o.stateNode;try{Q(b,"")}catch(bt){Hr(o,o.return,bt)}}if(x&4&&(b=o.stateNode,b!=null)){var k=o.memoizedProps,V=f!==null?f.memoizedProps:k,ie=o.type,ue=o.updateQueue;if(o.updateQueue=null,ue!==null)try{ie==="input"&&k.type==="radio"&&k.name!=null&&Dt(b,k),xt(ie,V);var we=xt(ie,k);for(V=0;V<ue.length;V+=2){var Ge=ue[V],Ke=ue[V+1];Ge==="style"?ke(b,Ke):Ge==="dangerouslySetInnerHTML"?wr(b,Ke):Ge==="children"?Q(b,Ke):z(b,Ge,Ke,we)}switch(ie){case"input":Re(b,k);break;case"textarea":ft(b,k);break;case"select":var We=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var ut=k.value;ut!=null?he(b,!!k.multiple,ut,!1):We!==!!k.multiple&&(k.defaultValue!=null?he(b,!!k.multiple,k.defaultValue,!0):he(b,!!k.multiple,k.multiple?[]:"",!1))}b[od]=k}catch(bt){Hr(o,o.return,bt)}}break;case 6:if(ba(c,o),Ka(o),x&4){if(o.stateNode===null)throw Error(r(162));b=o.stateNode,k=o.memoizedProps;try{b.nodeValue=k}catch(bt){Hr(o,o.return,bt)}}break;case 3:if(ba(c,o),Ka(o),x&4&&f!==null&&f.memoizedState.isDehydrated)try{pa(c.containerInfo)}catch(bt){Hr(o,o.return,bt)}break;case 4:ba(c,o),Ka(o);break;case 13:ba(c,o),Ka(o),b=o.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(Jg=Be())),x&4&&mw(o);break;case 22:if(Ge=f!==null&&f.memoizedState!==null,o.mode&1?(Yn=(we=Yn)||Ge,ba(c,o),Yn=we):ba(c,o),Ka(o),x&8192){if(we=o.memoizedState!==null,(o.stateNode.isHidden=we)&&!Ge&&(o.mode&1)!==0)for(gt=o,Ge=o.child;Ge!==null;){for(Ke=gt=Ge;gt!==null;){switch(We=gt,ut=We.child,We.tag){case 0:case 11:case 14:case 15:yd(4,We,We.return);break;case 1:Vc(We,We.return);var yt=We.stateNode;if(typeof yt.componentWillUnmount=="function"){x=We,f=We.return;try{c=x,yt.props=c.memoizedProps,yt.state=c.memoizedState,yt.componentWillUnmount()}catch(bt){Hr(x,f,bt)}}break;case 5:Vc(We,We.return);break;case 22:if(We.memoizedState!==null){vw(Ke);continue}}ut!==null?(ut.return=We,gt=ut):vw(Ke)}Ge=Ge.sibling}e:for(Ge=null,Ke=o;;){if(Ke.tag===5){if(Ge===null){Ge=Ke;try{b=Ke.stateNode,we?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(ie=Ke.stateNode,ue=Ke.memoizedProps.style,V=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,ie.style.display=pe("display",V))}catch(bt){Hr(o,o.return,bt)}}}else if(Ke.tag===6){if(Ge===null)try{Ke.stateNode.nodeValue=we?"":Ke.memoizedProps}catch(bt){Hr(o,o.return,bt)}}else if((Ke.tag!==22&&Ke.tag!==23||Ke.memoizedState===null||Ke===o)&&Ke.child!==null){Ke.child.return=Ke,Ke=Ke.child;continue}if(Ke===o)break e;for(;Ke.sibling===null;){if(Ke.return===null||Ke.return===o)break e;Ge===Ke&&(Ge=null),Ke=Ke.return}Ge===Ke&&(Ge=null),Ke.sibling.return=Ke.return,Ke=Ke.sibling}}break;case 19:ba(c,o),Ka(o),x&4&&mw(o);break;case 21:break;default:ba(c,o),Ka(o)}}function Ka(o){var c=o.flags;if(c&2){try{e:{for(var f=o.return;f!==null;){if(hw(f)){var x=f;break e}f=f.return}throw Error(r(160))}switch(x.tag){case 5:var b=x.stateNode;x.flags&32&&(Q(b,""),x.flags&=-33);var k=fw(o);Yg(o,k,b);break;case 3:case 4:var V=x.stateNode.containerInfo,ie=fw(o);Kg(o,ie,V);break;default:throw Error(r(161))}}catch(ue){Hr(o,o.return,ue)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function QC(o,c,f){gt=o,xw(o)}function xw(o,c,f){for(var x=(o.mode&1)!==0;gt!==null;){var b=gt,k=b.child;if(b.tag===22&&x){var V=b.memoizedState!==null||Kh;if(!V){var ie=b.alternate,ue=ie!==null&&ie.memoizedState!==null||Yn;ie=Kh;var we=Yn;if(Kh=V,(Yn=ue)&&!we)for(gt=b;gt!==null;)V=gt,ue=V.child,V.tag===22&&V.memoizedState!==null?bw(b):ue!==null?(ue.return=V,gt=ue):bw(b);for(;k!==null;)gt=k,xw(k),k=k.sibling;gt=b,Kh=ie,Yn=we}yw(o)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,gt=k):yw(o)}}function yw(o){for(;gt!==null;){var c=gt;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Yn||Yh(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Yn)if(f===null)x.componentDidMount();else{var b=c.elementType===c.type?f.memoizedProps:ya(c.type,f.memoizedProps);x.componentDidUpdate(b,f.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var k=c.updateQueue;k!==null&&v2(c,k,x);break;case 3:var V=c.updateQueue;if(V!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}v2(c,V,f)}break;case 5:var ie=c.stateNode;if(f===null&&c.flags&4){f=ie;var ue=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&f.focus();break;case"img":ue.src&&(f.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var we=c.alternate;if(we!==null){var Ge=we.memoizedState;if(Ge!==null){var Ke=Ge.dehydrated;Ke!==null&&pa(Ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yn||c.flags&512&&qg(c)}catch(We){Hr(c,c.return,We)}}if(c===o){gt=null;break}if(f=c.sibling,f!==null){f.return=c.return,gt=f;break}gt=c.return}}function vw(o){for(;gt!==null;){var c=gt;if(c===o){gt=null;break}var f=c.sibling;if(f!==null){f.return=c.return,gt=f;break}gt=c.return}}function bw(o){for(;gt!==null;){var c=gt;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Yh(4,c)}catch(ue){Hr(c,f,ue)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var b=c.return;try{x.componentDidMount()}catch(ue){Hr(c,b,ue)}}var k=c.return;try{qg(c)}catch(ue){Hr(c,k,ue)}break;case 5:var V=c.return;try{qg(c)}catch(ue){Hr(c,V,ue)}}}catch(ue){Hr(c,c.return,ue)}if(c===o){gt=null;break}var ie=c.sibling;if(ie!==null){ie.return=c.return,gt=ie;break}gt=c.return}}var JC=Math.ceil,Xh=L.ReactCurrentDispatcher,Xg=L.ReactCurrentOwner,Zs=L.ReactCurrentBatchConfig,tr=0,vn=null,tn=null,jn=0,Os=0,$c=uo(0),dn=0,vd=null,xl=0,Qh=0,Qg=0,bd=null,ys=null,Jg=0,Bc=1/0,Ci=null,Jh=!1,Zg=null,xo=null,Zh=!1,yo=null,ef=0,wd=0,ex=null,tf=-1,rf=0;function is(){return(tr&6)!==0?Be():tf!==-1?tf:tf=Be()}function vo(o){return(o.mode&1)===0?1:(tr&2)!==0&&jn!==0?jn&-jn:OC.transition!==null?(rf===0&&(rf=al()),rf):(o=Xt,o!==0||(o=window.event,o=o===void 0?16:Yu(o.type)),o)}function wa(o,c,f,x){if(50<wd)throw wd=0,ex=null,Error(r(185));ro(o,f,x),((tr&2)===0||o!==vn)&&(o===vn&&((tr&2)===0&&(Qh|=f),dn===4&&bo(o,jn)),vs(o,x),f===1&&tr===0&&(c.mode&1)===0&&(Bc=Be()+500,jh&&fo()))}function vs(o,c){var f=o.callbackNode;xi(o,c);var x=sl(o,o===vn?jn:0);if(x===0)f!==null&&ze(f),o.callbackNode=null,o.callbackPriority=0;else if(c=x&-x,o.callbackPriority!==c){if(f!=null&&ze(f),c===1)o.tag===0?DC(_w.bind(null,o)):o2(_w.bind(null,o)),jC(function(){(tr&6)===0&&fo()}),f=null;else{switch(so(x)){case 1:f=Ut;break;case 4:f=Bt;break;case 16:f=nr;break;case 536870912:f=Hn;break;default:f=nr}f=jw(f,ww.bind(null,o))}o.callbackPriority=c,o.callbackNode=f}}function ww(o,c){if(tf=-1,rf=0,(tr&6)!==0)throw Error(r(327));var f=o.callbackNode;if(Uc()&&o.callbackNode!==f)return null;var x=sl(o,o===vn?jn:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||c)c=nf(o,x);else{c=x;var b=tr;tr|=2;var k=Tw();(vn!==o||jn!==c)&&(Ci=null,Bc=Be()+500,vl(o,c));do try{tj();break}catch(ie){Ew(o,ie)}while(!0);yg(),Xh.current=k,tr=b,tn!==null?c=0:(vn=null,jn=0,c=dn)}if(c!==0){if(c===2&&(b=js(o),b!==0&&(x=b,c=tx(o,b))),c===1)throw f=vd,vl(o,0),bo(o,x),vs(o,Be()),f;if(c===6)bo(o,x);else{if(b=o.current.alternate,(x&30)===0&&!ZC(b)&&(c=nf(o,x),c===2&&(k=js(o),k!==0&&(x=k,c=tx(o,k))),c===1))throw f=vd,vl(o,0),bo(o,x),vs(o,Be()),f;switch(o.finishedWork=b,o.finishedLanes=x,c){case 0:case 1:throw Error(r(345));case 2:bl(o,ys,Ci);break;case 3:if(bo(o,x),(x&130023424)===x&&(c=Jg+500-Be(),10<c)){if(sl(o,0)!==0)break;if(b=o.suspendedLanes,(b&x)!==x){is(),o.pingedLanes|=o.suspendedLanes&b;break}o.timeoutHandle=og(bl.bind(null,o,ys,Ci),c);break}bl(o,ys,Ci);break;case 4:if(bo(o,x),(x&4194240)===x)break;for(c=o.eventTimes,b=-1;0<x;){var V=31-Er(x);k=1<<V,V=c[V],V>b&&(b=V),x&=~k}if(x=b,x=Be()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*JC(x/1960))-x,10<x){o.timeoutHandle=og(bl.bind(null,o,ys,Ci),x);break}bl(o,ys,Ci);break;case 5:bl(o,ys,Ci);break;default:throw Error(r(329))}}}return vs(o,Be()),o.callbackNode===f?ww.bind(null,o):null}function tx(o,c){var f=bd;return o.current.memoizedState.isDehydrated&&(vl(o,c).flags|=256),o=nf(o,c),o!==2&&(c=ys,ys=f,c!==null&&rx(c)),o}function rx(o){ys===null?ys=o:ys.push.apply(ys,o)}function ZC(o){for(var c=o;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var x=0;x<f.length;x++){var b=f[x],k=b.getSnapshot;b=b.value;try{if(!ga(k(),b))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function bo(o,c){for(c&=~Qg,c&=~Qh,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var f=31-Er(c),x=1<<f;o[f]=-1,c&=~x}}function _w(o){if((tr&6)!==0)throw Error(r(327));Uc();var c=sl(o,0);if((c&1)===0)return vs(o,Be()),null;var f=nf(o,c);if(o.tag!==0&&f===2){var x=js(o);x!==0&&(c=x,f=tx(o,x))}if(f===1)throw f=vd,vl(o,0),bo(o,c),vs(o,Be()),f;if(f===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,bl(o,ys,Ci),vs(o,Be()),null}function nx(o,c){var f=tr;tr|=1;try{return o(c)}finally{tr=f,tr===0&&(Bc=Be()+500,jh&&fo())}}function yl(o){yo!==null&&yo.tag===0&&(tr&6)===0&&Uc();var c=tr;tr|=1;var f=Zs.transition,x=Xt;try{if(Zs.transition=null,Xt=1,o)return o()}finally{Xt=x,Zs.transition=f,tr=c,(tr&6)===0&&fo()}}function sx(){Os=$c.current,Cr($c)}function vl(o,c){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,CC(f)),tn!==null)for(f=tn.return;f!==null;){var x=f;switch(fg(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Sh();break;case 3:Lc(),Cr(ms),Cr(Gn),kg();break;case 5:Tg(x);break;case 4:Lc();break;case 13:Cr(Mr);break;case 19:Cr(Mr);break;case 10:vg(x.type._context);break;case 22:case 23:sx()}f=f.return}if(vn=o,tn=o=wo(o.current,null),jn=Os=c,dn=0,vd=null,Qg=Qh=xl=0,ys=bd=null,pl!==null){for(c=0;c<pl.length;c++)if(f=pl[c],x=f.interleaved,x!==null){f.interleaved=null;var b=x.next,k=f.pending;if(k!==null){var V=k.next;k.next=b,x.next=V}f.pending=x}pl=null}return o}function Ew(o,c){do{var f=tn;try{if(yg(),$h.current=Hh,Bh){for(var x=Vr.memoizedState;x!==null;){var b=x.queue;b!==null&&(b.pending=null),x=x.next}Bh=!1}if(gl=0,yn=un=Vr=null,fd=!1,pd=0,Xg.current=null,f===null||f.return===null){dn=1,vd=c,tn=null;break}e:{var k=o,V=f.return,ie=f,ue=c;if(c=jn,ie.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var we=ue,Ge=ie,Ke=Ge.tag;if((Ge.mode&1)===0&&(Ke===0||Ke===11||Ke===15)){var We=Ge.alternate;We?(Ge.updateQueue=We.updateQueue,Ge.memoizedState=We.memoizedState,Ge.lanes=We.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var ut=K2(V);if(ut!==null){ut.flags&=-257,Y2(ut,V,ie,k,c),ut.mode&1&&q2(k,we,c),c=ut,ue=we;var yt=c.updateQueue;if(yt===null){var bt=new Set;bt.add(ue),c.updateQueue=bt}else yt.add(ue);break e}else{if((c&1)===0){q2(k,we,c),ax();break e}ue=Error(r(426))}}else if(Or&&ie.mode&1){var Yr=K2(V);if(Yr!==null){(Yr.flags&65536)===0&&(Yr.flags|=256),Y2(Yr,V,ie,k,c),gg(Mc(ue,ie));break e}}k=ue=Mc(ue,ie),dn!==4&&(dn=2),bd===null?bd=[k]:bd.push(k),k=V;do{switch(k.tag){case 3:k.flags|=65536,c&=-c,k.lanes|=c;var ve=W2(k,ue,c);y2(k,ve);break e;case 1:ie=ue;var fe=k.type,be=k.stateNode;if((k.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(xo===null||!xo.has(be)))){k.flags|=65536,c&=-c,k.lanes|=c;var Xe=G2(k,ie,c);y2(k,Xe);break e}}k=k.return}while(k!==null)}kw(f)}catch(wt){c=wt,tn===f&&f!==null&&(tn=f=f.return);continue}break}while(!0)}function Tw(){var o=Xh.current;return Xh.current=Hh,o===null?Hh:o}function ax(){(dn===0||dn===3||dn===2)&&(dn=4),vn===null||(xl&268435455)===0&&(Qh&268435455)===0||bo(vn,jn)}function nf(o,c){var f=tr;tr|=2;var x=Tw();(vn!==o||jn!==c)&&(Ci=null,vl(o,c));do try{ej();break}catch(b){Ew(o,b)}while(!0);if(yg(),tr=f,Xh.current=x,tn!==null)throw Error(r(261));return vn=null,jn=0,dn}function ej(){for(;tn!==null;)Nw(tn)}function tj(){for(;tn!==null&&!Ye();)Nw(tn)}function Nw(o){var c=Cw(o.alternate,o,Os);o.memoizedProps=o.pendingProps,c===null?kw(o):tn=c,Xg.current=null}function kw(o){var c=o;do{var f=c.alternate;if(o=c.return,(c.flags&32768)===0){if(f=qC(f,c,Os),f!==null){tn=f;return}}else{if(f=KC(f,c),f!==null){f.flags&=32767,tn=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{dn=6,tn=null;return}}if(c=c.sibling,c!==null){tn=c;return}tn=c=o}while(c!==null);dn===0&&(dn=5)}function bl(o,c,f){var x=Xt,b=Zs.transition;try{Zs.transition=null,Xt=1,rj(o,c,f,x)}finally{Zs.transition=b,Xt=x}return null}function rj(o,c,f,x){do Uc();while(yo!==null);if((tr&6)!==0)throw Error(r(327));f=o.finishedWork;var b=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var k=f.lanes|f.childLanes;if(Tr(o,k),o===vn&&(tn=vn=null,jn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Zh||(Zh=!0,jw(nr,function(){return Uc(),null})),k=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||k){k=Zs.transition,Zs.transition=null;var V=Xt;Xt=1;var ie=tr;tr|=4,Xg.current=null,XC(o,f),gw(f,o),_C(ag),io=!!sg,ag=sg=null,o.current=f,QC(f),Oe(),tr=ie,Xt=V,Zs.transition=k}else o.current=f;if(Zh&&(Zh=!1,yo=o,ef=b),k=o.pendingLanes,k===0&&(xo=null),Va(f.stateNode),vs(o,Be()),c!==null)for(x=o.onRecoverableError,f=0;f<c.length;f++)b=c[f],x(b.value,{componentStack:b.stack,digest:b.digest});if(Jh)throw Jh=!1,o=Zg,Zg=null,o;return(ef&1)!==0&&o.tag!==0&&Uc(),k=o.pendingLanes,(k&1)!==0?o===ex?wd++:(wd=0,ex=o):wd=0,fo(),null}function Uc(){if(yo!==null){var o=so(ef),c=Zs.transition,f=Xt;try{if(Zs.transition=null,Xt=16>o?16:o,yo===null)var x=!1;else{if(o=yo,yo=null,ef=0,(tr&6)!==0)throw Error(r(331));var b=tr;for(tr|=4,gt=o.current;gt!==null;){var k=gt,V=k.child;if((gt.flags&16)!==0){var ie=k.deletions;if(ie!==null){for(var ue=0;ue<ie.length;ue++){var we=ie[ue];for(gt=we;gt!==null;){var Ge=gt;switch(Ge.tag){case 0:case 11:case 15:yd(8,Ge,k)}var Ke=Ge.child;if(Ke!==null)Ke.return=Ge,gt=Ke;else for(;gt!==null;){Ge=gt;var We=Ge.sibling,ut=Ge.return;if(dw(Ge),Ge===we){gt=null;break}if(We!==null){We.return=ut,gt=We;break}gt=ut}}}var yt=k.alternate;if(yt!==null){var bt=yt.child;if(bt!==null){yt.child=null;do{var Yr=bt.sibling;bt.sibling=null,bt=Yr}while(bt!==null)}}gt=k}}if((k.subtreeFlags&2064)!==0&&V!==null)V.return=k,gt=V;else e:for(;gt!==null;){if(k=gt,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:yd(9,k,k.return)}var ve=k.sibling;if(ve!==null){ve.return=k.return,gt=ve;break e}gt=k.return}}var fe=o.current;for(gt=fe;gt!==null;){V=gt;var be=V.child;if((V.subtreeFlags&2064)!==0&&be!==null)be.return=V,gt=be;else e:for(V=fe;gt!==null;){if(ie=gt,(ie.flags&2048)!==0)try{switch(ie.tag){case 0:case 11:case 15:Yh(9,ie)}}catch(wt){Hr(ie,ie.return,wt)}if(ie===V){gt=null;break e}var Xe=ie.sibling;if(Xe!==null){Xe.return=ie.return,gt=Xe;break e}gt=ie.return}}if(tr=b,fo(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(Wn,o)}catch{}x=!0}return x}finally{Xt=f,Zs.transition=c}}return!1}function Aw(o,c,f){c=Mc(f,c),c=W2(o,c,1),o=mo(o,c,1),c=is(),o!==null&&(ro(o,1,c),vs(o,c))}function Hr(o,c,f){if(o.tag===3)Aw(o,o,f);else for(;c!==null;){if(c.tag===3){Aw(c,o,f);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(xo===null||!xo.has(x))){o=Mc(f,o),o=G2(c,o,1),c=mo(c,o,1),o=is(),c!==null&&(ro(c,1,o),vs(c,o));break}}c=c.return}}function nj(o,c,f){var x=o.pingCache;x!==null&&x.delete(c),c=is(),o.pingedLanes|=o.suspendedLanes&f,vn===o&&(jn&f)===f&&(dn===4||dn===3&&(jn&130023424)===jn&&500>Be()-Jg?vl(o,0):Qg|=f),vs(o,c)}function Sw(o,c){c===0&&((o.mode&1)===0?c=1:(c=Zi,Zi<<=1,(Zi&130023424)===0&&(Zi=4194304)));var f=is();o=ki(o,c),o!==null&&(ro(o,c,f),vs(o,f))}function sj(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),Sw(o,f)}function aj(o,c){var f=0;switch(o.tag){case 13:var x=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(c),Sw(o,f)}var Cw;Cw=function(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps||ms.current)xs=!0;else{if((o.lanes&f)===0&&(c.flags&128)===0)return xs=!1,GC(o,c,f);xs=(o.flags&131072)!==0}else xs=!1,Or&&(c.flags&1048576)!==0&&l2(c,Ph,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;qh(o,c),o=c.pendingProps;var b=jc(c,Gn.current);Fc(c,f),b=Cg(null,c,x,o,b,f);var k=jg();return c.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,gs(x)?(k=!0,Ch(c)):k=!1,c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,_g(c),b.updater=Wh,c.stateNode=b,b._reactInternals=c,Fg(c,x,o,f),c=$g(null,c,x,!0,k,f)):(c.tag=0,Or&&k&&hg(c),as(null,c,b,f),c=c.child),c;case 16:x=c.elementType;e:{switch(qh(o,c),o=c.pendingProps,b=x._init,x=b(x._payload),c.type=x,b=c.tag=oj(x),o=ya(x,o),b){case 0:c=Vg(null,c,x,o,f);break e;case 1:c=tw(null,c,x,o,f);break e;case 11:c=X2(null,c,x,o,f);break e;case 14:c=Q2(null,c,x,ya(x.type,o),f);break e}throw Error(r(306,x,""))}return c;case 0:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:ya(x,b),Vg(o,c,x,b,f);case 1:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:ya(x,b),tw(o,c,x,b,f);case 3:e:{if(rw(c),o===null)throw Error(r(387));x=c.pendingProps,k=c.memoizedState,b=k.element,x2(o,c),Mh(c,x,null,f);var V=c.memoizedState;if(x=V.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},c.updateQueue.baseState=k,c.memoizedState=k,c.flags&256){b=Mc(Error(r(423)),c),c=nw(o,c,x,f,b);break e}else if(x!==b){b=Mc(Error(r(424)),c),c=nw(o,c,x,f,b);break e}else for(Ds=co(c.stateNode.containerInfo.firstChild),Rs=c,Or=!0,xa=null,f=m2(c,null,x,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Rc(),x===b){c=Si(o,c,f);break e}as(o,c,x,f)}c=c.child}return c;case 5:return b2(c),o===null&&mg(c),x=c.type,b=c.pendingProps,k=o!==null?o.memoizedProps:null,V=b.children,ig(x,b)?V=null:k!==null&&ig(x,k)&&(c.flags|=32),ew(o,c),as(o,c,V,f),c.child;case 6:return o===null&&mg(c),null;case 13:return sw(o,c,f);case 4:return Eg(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=Dc(c,null,x,f):as(o,c,x,f),c.child;case 11:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:ya(x,b),X2(o,c,x,b,f);case 7:return as(o,c,c.pendingProps,f),c.child;case 8:return as(o,c,c.pendingProps.children,f),c.child;case 12:return as(o,c,c.pendingProps.children,f),c.child;case 10:e:{if(x=c.type._context,b=c.pendingProps,k=c.memoizedProps,V=b.value,Ar(Oh,x._currentValue),x._currentValue=V,k!==null)if(ga(k.value,V)){if(k.children===b.children&&!ms.current){c=Si(o,c,f);break e}}else for(k=c.child,k!==null&&(k.return=c);k!==null;){var ie=k.dependencies;if(ie!==null){V=k.child;for(var ue=ie.firstContext;ue!==null;){if(ue.context===x){if(k.tag===1){ue=Ai(-1,f&-f),ue.tag=2;var we=k.updateQueue;if(we!==null){we=we.shared;var Ge=we.pending;Ge===null?ue.next=ue:(ue.next=Ge.next,Ge.next=ue),we.pending=ue}}k.lanes|=f,ue=k.alternate,ue!==null&&(ue.lanes|=f),bg(k.return,f,c),ie.lanes|=f;break}ue=ue.next}}else if(k.tag===10)V=k.type===c.type?null:k.child;else if(k.tag===18){if(V=k.return,V===null)throw Error(r(341));V.lanes|=f,ie=V.alternate,ie!==null&&(ie.lanes|=f),bg(V,f,c),V=k.sibling}else V=k.child;if(V!==null)V.return=k;else for(V=k;V!==null;){if(V===c){V=null;break}if(k=V.sibling,k!==null){k.return=V.return,V=k;break}V=V.return}k=V}as(o,c,b.children,f),c=c.child}return c;case 9:return b=c.type,x=c.pendingProps.children,Fc(c,f),b=Qs(b),x=x(b),c.flags|=1,as(o,c,x,f),c.child;case 14:return x=c.type,b=ya(x,c.pendingProps),b=ya(x.type,b),Q2(o,c,x,b,f);case 15:return J2(o,c,c.type,c.pendingProps,f);case 17:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:ya(x,b),qh(o,c),c.tag=1,gs(x)?(o=!0,Ch(c)):o=!1,Fc(c,f),z2(c,x,b),Fg(c,x,b,f),$g(null,c,x,!0,o,f);case 19:return iw(o,c,f);case 22:return Z2(o,c,f)}throw Error(r(156,c.tag))};function jw(o,c){return Le(o,c)}function ij(o,c,f,x){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(o,c,f,x){return new ij(o,c,f,x)}function ix(o){return o=o.prototype,!(!o||!o.isReactComponent)}function oj(o){if(typeof o=="function")return ix(o)?1:0;if(o!=null){if(o=o.$$typeof,o===R)return 11;if(o===Te)return 14}return 2}function wo(o,c){var f=o.alternate;return f===null?(f=ea(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function sf(o,c,f,x,b,k){var V=2;if(x=o,typeof o=="function")ix(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case S:return wl(f.children,b,k,c);case A:V=8,b|=8;break;case I:return o=ea(12,f,c,b|2),o.elementType=I,o.lanes=k,o;case F:return o=ea(13,f,c,b),o.elementType=F,o.lanes=k,o;case me:return o=ea(19,f,c,b),o.elementType=me,o.lanes=k,o;case Ie:return af(f,b,k,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:V=10;break e;case M:V=9;break e;case R:V=11;break e;case Te:V=14;break e;case je:V=16,x=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return c=ea(V,f,c,b),c.elementType=o,c.type=x,c.lanes=k,c}function wl(o,c,f,x){return o=ea(7,o,x,c),o.lanes=f,o}function af(o,c,f,x){return o=ea(22,o,x,c),o.elementType=Ie,o.lanes=f,o.stateNode={isHidden:!1},o}function ox(o,c,f){return o=ea(6,o,null,c),o.lanes=f,o}function lx(o,c,f){return c=ea(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function lj(o,c,f,x,b){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=to(0),this.expirationTimes=to(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.identifierPrefix=x,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function cx(o,c,f,x,b,k,V,ie,ue){return o=new lj(o,c,f,ie,ue),c===1?(c=1,k===!0&&(c|=8)):c=0,k=ea(3,null,null,c),o.current=k,k.stateNode=o,k.memoizedState={element:x,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},_g(k),o}function cj(o,c,f){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:x==null?null:""+x,children:o,containerInfo:c,implementation:f}}function Iw(o){if(!o)return ho;o=o._reactInternals;e:{if(D(o)!==o||o.tag!==1)throw Error(r(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(gs(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(o.tag===1){var f=o.type;if(gs(f))return a2(o,f,c)}return c}function Pw(o,c,f,x,b,k,V,ie,ue){return o=cx(f,x,!0,o,b,k,V,ie,ue),o.context=Iw(null),f=o.current,x=is(),b=vo(f),k=Ai(x,b),k.callback=c??null,mo(f,k,b),o.current.lanes=b,ro(o,b,x),vs(o,x),o}function of(o,c,f,x){var b=c.current,k=is(),V=vo(b);return f=Iw(f),c.context===null?c.context=f:c.pendingContext=f,c=Ai(k,V),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=mo(b,c,V),o!==null&&(wa(o,b,V,k),Lh(o,b,V)),V}function lf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Rw(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function ux(o,c){Rw(o,c),(o=o.alternate)&&Rw(o,c)}function uj(){return null}var Dw=typeof reportError=="function"?reportError:function(o){console.error(o)};function dx(o){this._internalRoot=o}cf.prototype.render=dx.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));of(o,c,null,null)},cf.prototype.unmount=dx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;yl(function(){of(null,o,null,null)}),c[_i]=null}};function cf(o){this._internalRoot=o}cf.prototype.unstable_scheduleHydration=function(o){if(o){var c=lh();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Ba.length&&c!==0&&c<Ba[f].priority;f++);Ba.splice(f,0,o),f===0&&dh(o)}};function hx(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function uf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Ow(){}function dj(o,c,f,x,b){if(b){if(typeof x=="function"){var k=x;x=function(){var we=lf(V);k.call(we)}}var V=Pw(c,x,o,0,null,!1,!1,"",Ow);return o._reactRootContainer=V,o[_i]=V.current,ad(o.nodeType===8?o.parentNode:o),yl(),V}for(;b=o.lastChild;)o.removeChild(b);if(typeof x=="function"){var ie=x;x=function(){var we=lf(ue);ie.call(we)}}var ue=cx(o,0,!1,null,null,!1,!1,"",Ow);return o._reactRootContainer=ue,o[_i]=ue.current,ad(o.nodeType===8?o.parentNode:o),yl(function(){of(c,ue,f,x)}),ue}function df(o,c,f,x,b){var k=f._reactRootContainer;if(k){var V=k;if(typeof b=="function"){var ie=b;b=function(){var ue=lf(V);ie.call(ue)}}of(c,V,o,b)}else V=dj(f,c,o,b,x);return lf(V)}ih=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var f=eo(c.pendingLanes);f!==0&&(no(c,f|1),vs(c,Be()),(tr&6)===0&&(Bc=Be()+500,fo()))}break;case 13:yl(function(){var x=ki(o,1);if(x!==null){var b=is();wa(x,o,1,b)}}),ux(o,1)}},hc=function(o){if(o.tag===13){var c=ki(o,134217728);if(c!==null){var f=is();wa(c,o,134217728,f)}ux(o,134217728)}},oh=function(o){if(o.tag===13){var c=vo(o),f=ki(o,c);if(f!==null){var x=is();wa(f,o,c,x)}ux(o,c)}},lh=function(){return Xt},ch=function(o,c){var f=Xt;try{return Xt=o,c()}finally{Xt=f}},it=function(o,c,f){switch(c){case"input":if(Re(o,f),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var x=f[c];if(x!==o&&x.form===o.form){var b=Ah(x);if(!b)throw Error(r(90));mt(x),Re(x,b)}}}break;case"textarea":ft(o,f);break;case"select":c=f.value,c!=null&&he(o,!!f.multiple,c,!1)}},Rr=nx,mn=yl;var hj={usingClientEntryPoint:!1,Events:[ld,Sc,Ah,qt,Pr,nx]},_d={findFiberByHostInstance:ul,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fj={bundleType:_d.bundleType,version:_d.version,rendererPackageName:_d.rendererPackageName,rendererConfig:_d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=de(o),o===null?null:o.stateNode},findFiberByHostInstance:_d.findFiberByHostInstance||uj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{Wn=hf.inject(fj),Lr=hf}catch{}}return bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hj,bs.createPortal=function(o,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hx(c))throw Error(r(200));return cj(o,c,null,f)},bs.createRoot=function(o,c){if(!hx(o))throw Error(r(299));var f=!1,x="",b=Dw;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),c=cx(o,1,!1,null,null,f,!1,x,b),o[_i]=c.current,ad(o.nodeType===8?o.parentNode:o),new dx(c)},bs.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=de(c),o=o===null?null:o.stateNode,o},bs.flushSync=function(o){return yl(o)},bs.hydrate=function(o,c,f){if(!uf(c))throw Error(r(200));return df(null,o,c,!0,f)},bs.hydrateRoot=function(o,c,f){if(!hx(o))throw Error(r(405));var x=f!=null&&f.hydratedSources||null,b=!1,k="",V=Dw;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(k=f.identifierPrefix),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),c=Pw(c,null,o,1,f??null,b,!1,k,V),o[_i]=c.current,ad(o),x)for(o=0;o<x.length;o++)f=x[o],b=f._getVersion,b=b(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,b]:c.mutableSourceEagerHydrationData.push(f,b);return new cf(c)},bs.render=function(o,c,f){if(!uf(c))throw Error(r(200));return df(null,o,c,!1,f)},bs.unmountComponentAtNode=function(o){if(!uf(o))throw Error(r(40));return o._reactRootContainer?(yl(function(){df(null,null,o,!1,function(){o._reactRootContainer=null,o[_i]=null})}),!0):!1},bs.unstable_batchedUpdates=nx,bs.unstable_renderSubtreeIntoContainer=function(o,c,f,x){if(!uf(f))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return df(o,c,f,!1,x)},bs.version="18.3.1-next-f1338f8080-20240426",bs}var zw;function wj(){if(zw)return mx.exports;zw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mx.exports=bj(),mx.exports}var Hw;function _j(){if(Hw)return ff;Hw=1;var t=wj();return ff.createRoot=t.createRoot,ff.hydrateRoot=t.hydrateRoot,ff}var Ej=_j();const Tj=sv(Ej);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ww="popstate";function Nj(t={}){function e(n,s){let{pathname:a,search:l,hash:u}=n.location;return sy("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:t0(s)}return Aj(e,r,null,t)}function Fr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kj(){return Math.random().toString(36).substring(2,10)}function Gw(t,e){return{usr:t.state,key:t.key,idx:e}}function sy(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ju(e):e,state:r,key:e&&e.key||n||kj()}}function t0({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ju(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Aj(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let E=p(),O=E==null?null:E-h;h=E,d&&d({action:u,location:w.location,delta:O})}function y(E,O){u="PUSH";let j=sy(w.location,E,O);h=p()+1;let z=Gw(j,h),L=w.createHref(j);try{l.pushState(z,"",L)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(L)}a&&d&&d({action:u,location:w.location,delta:1})}function v(E,O){u="REPLACE";let j=sy(w.location,E,O);h=p();let z=Gw(j,h),L=w.createHref(j);l.replaceState(z,"",L),a&&d&&d({action:u,location:w.location,delta:0})}function _(E){return Sj(E)}let w={get action(){return u},get location(){return t(s,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Ww,g),d=E,()=>{s.removeEventListener(Ww,g),d=null}},createHref(E){return e(s,E)},createURL:_,encodeLocation(E){let O=_(E);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:v,go(E){return l.go(E)}};return w}function Sj(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Fr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:t0(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function qT(t,e,r="/"){return Cj(t,e,r,!1)}function Cj(t,e,r,n){let s=typeof e=="string"?ju(e):e,a=$i(s.pathname||"/",r);if(a==null)return null;let l=KT(t);jj(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=Bj(a);u=Vj(l[d],h,n)}return u}function KT(t,e=[],r=[],n="",s=!1){let a=(l,u,d=s,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;Fr(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=Di([n,p.relativePath]),y=r.concat(p);l.children&&l.children.length>0&&(Fr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),KT(l.children,e,y,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:Lj(g,l.index),routesMeta:y})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let d of YT(l.path))a(l,u,!0,d)}),e}function YT(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=YT(n.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function jj(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Mj(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Ij=/^:[\w-]+$/,Pj=3,Rj=2,Dj=1,Oj=10,Fj=-2,qw=t=>t==="*";function Lj(t,e){let r=t.split("/"),n=r.length;return r.some(qw)&&(n+=Fj),e&&(n+=Rj),r.filter(s=>!qw(s)).reduce((s,a)=>s+(Ij.test(a)?Pj:a===""?Dj:Oj),n)}function Mj(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Vj(t,e,r=!1){let{routesMeta:n}=t,s={},a="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=Xf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=Xf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Di([a,g.pathname]),pathnameBase:Wj(Di([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=Di([a,g.pathnameBase]))}return l}function Xf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=$j(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let _=u[y]||"";l=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const v=u[y];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function $j(t,e=!1,r=!0){Pa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Bj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $i(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Uj(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?ju(t):t;return{pathname:r?r.startsWith("/")?r:zj(r,e):e,search:Gj(n),hash:qj(s)}}function zj(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function yx(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hj(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function iv(t){let e=Hj(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function ov(t,e,r,n=!1){let s;typeof t=="string"?s=ju(t):(s={...t},Fr(!s.pathname||!s.pathname.includes("?"),yx("?","pathname","search",s)),Fr(!s.pathname||!s.pathname.includes("#"),yx("#","pathname","hash",s)),Fr(!s.search||!s.search.includes("#"),yx("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=r;else{let g=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}u=g>=0?e[g]:"/"}let d=Uj(s,u),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Di=t=>t.join("/").replace(/\/\/+/g,"/"),Wj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Gj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var XT=["POST","PUT","PATCH","DELETE"];new Set(XT);var Yj=["GET",...XT];new Set(Yj);var Iu=N.createContext(null);Iu.displayName="DataRouter";var Xp=N.createContext(null);Xp.displayName="DataRouterState";N.createContext(!1);var QT=N.createContext({isTransitioning:!1});QT.displayName="ViewTransition";var Xj=N.createContext(new Map);Xj.displayName="Fetchers";var Qj=N.createContext(null);Qj.displayName="Await";var Fa=N.createContext(null);Fa.displayName="Navigation";var C0=N.createContext(null);C0.displayName="Location";var pi=N.createContext({outlet:null,matches:[],isDataRoute:!1});pi.displayName="Route";var lv=N.createContext(null);lv.displayName="RouteError";function Jj(t,{relative:e}={}){Fr(Pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=N.useContext(Fa),{hash:s,pathname:a,search:l}=j0(t,{relative:e}),u=a;return r!=="/"&&(u=a==="/"?r:Di([r,a])),n.createHref({pathname:u,search:l,hash:s})}function Pu(){return N.useContext(C0)!=null}function Qo(){return Fr(Pu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(C0).location}var JT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZT(t){N.useContext(Fa).static||N.useLayoutEffect(t)}function La(){let{isDataRoute:t}=N.useContext(pi);return t?dI():Zj()}function Zj(){Fr(Pu(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Iu),{basename:e,navigator:r}=N.useContext(Fa),{matches:n}=N.useContext(pi),{pathname:s}=Qo(),a=JSON.stringify(iv(n)),l=N.useRef(!1);return ZT(()=>{l.current=!0}),N.useCallback((d,h={})=>{if(Pa(l.current,JT),!l.current)return;if(typeof d=="number"){r.go(d);return}let p=ov(d,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Di([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,a,s,t])}N.createContext(null);function j0(t,{relative:e}={}){let{matches:r}=N.useContext(pi),{pathname:n}=Qo(),s=JSON.stringify(iv(r));return N.useMemo(()=>ov(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function eI(t,e){return eN(t,e)}function eN(t,e,r,n,s){Fr(Pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=N.useContext(Fa),{matches:l}=N.useContext(pi),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let j=g&&g.path||"";tN(h,!g||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let y=Qo(),v;if(e){let j=typeof e=="string"?ju(e):e;Fr(p==="/"||j.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),v=j}else v=y;let _=v.pathname||"/",w=_;if(p!=="/"){let j=p.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(j.length).join("/")}let E=qT(t,{pathname:w});Pa(g||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Pa(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=aI(E&&E.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Di([p,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Di([p,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,r,n,s);return e&&O?N.createElement(C0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},O):O}function tI(){let t=uI(),e=Kj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:s},r):null,l)}var rI=N.createElement(tI,null),nI=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(pi.Provider,{value:this.props.routeContext},N.createElement(lv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sI({routeContext:t,match:e,children:r}){let n=N.useContext(Iu);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(pi.Provider,{value:t},r)}function aI(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=r?.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Fr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(r)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:y}=r,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let y,v=!1,_=null,w=null;r&&(y=l&&p.route.id?l[p.route.id]:void 0,_=p.route.errorElement||rI,u&&(d<0&&g===0?(tN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):d===g&&(v=!0,w=p.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,g+1)),O=()=>{let j;return y?j=_:v?j=w:p.route.Component?j=N.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,N.createElement(sI,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:r!=null},children:j})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?N.createElement(nI,{location:r.location,revalidation:r.revalidation,component:_,error:y,children:O(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:n}):O()},null)}function cv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iI(t){let e=N.useContext(Iu);return Fr(e,cv(t)),e}function oI(t){let e=N.useContext(Xp);return Fr(e,cv(t)),e}function lI(t){let e=N.useContext(pi);return Fr(e,cv(t)),e}function uv(t){let e=lI(t),r=e.matches[e.matches.length-1];return Fr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function cI(){return uv("useRouteId")}function uI(){let t=N.useContext(lv),e=oI("useRouteError"),r=uv("useRouteError");return t!==void 0?t:e.errors?.[r]}function dI(){let{router:t}=iI("useNavigate"),e=uv("useNavigate"),r=N.useRef(!1);return ZT(()=>{r.current=!0}),N.useCallback(async(s,a={})=>{Pa(r.current,JT),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Kw={};function tN(t,e,r){!e&&!Kw[t]&&(Kw[t]=!0,Pa(!1,r))}N.memo(hI);function hI({routes:t,future:e,state:r,unstable_onError:n}){return eN(t,void 0,r,n,e)}function I0({to:t,replace:e,state:r,relative:n}){Fr(Pu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=N.useContext(Fa);Pa(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=N.useContext(pi),{pathname:l}=Qo(),u=La(),d=ov(t,iv(a),l,n==="path"),h=JSON.stringify(d);return N.useEffect(()=>{u(JSON.parse(h),{replace:e,state:r,relative:n})},[u,h,n,e,r]),null}function Ta(t){Fr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fI({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:a=!1}){Fr(!Pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof r=="string"&&(r=ju(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:y="default"}=r,v=N.useMemo(()=>{let _=$i(d,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:y},navigationType:n}},[l,d,h,p,g,y,n]);return Pa(v!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:N.createElement(Fa.Provider,{value:u},N.createElement(C0.Provider,{children:e,value:v}))}function pI({children:t,location:e}){return eI(ay(t),e)}function ay(t,e=[]){let r=[];return N.Children.forEach(t,(n,s)=>{if(!N.isValidElement(n))return;let a=[...e,s];if(n.type===N.Fragment){r.push.apply(r,ay(n.props.children,a));return}Fr(n.type===Ta,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=ay(n.props.children,a)),r.push(l)}),r}var Df="get",Of="application/x-www-form-urlencoded";function Qp(t){return t!=null&&typeof t.tagName=="string"}function mI(t){return Qp(t)&&t.tagName.toLowerCase()==="button"}function gI(t){return Qp(t)&&t.tagName.toLowerCase()==="form"}function xI(t){return Qp(t)&&t.tagName.toLowerCase()==="input"}function yI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vI(t,e){return t.button===0&&(!e||e==="_self")&&!yI(t)}var pf=null;function bI(){if(pf===null)try{new FormData(document.createElement("form"),0),pf=!1}catch{pf=!0}return pf}var wI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vx(t){return t!=null&&!wI.has(t)?(Pa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):t}function _I(t,e){let r,n,s,a,l;if(gI(t)){let u=t.getAttribute("action");n=u?$i(u,e):null,r=t.getAttribute("method")||Df,s=vx(t.getAttribute("enctype"))||Of,a=new FormData(t)}else if(mI(t)||xI(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(n=d?$i(d,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||Df,s=vx(t.getAttribute("formenctype"))||vx(u.getAttribute("enctype"))||Of,a=new FormData(u,t),!bI()){let{name:h,type:p,value:g}=t;if(p==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,g)}}else{if(Qp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Df,n=null,s=Of,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EI(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&$i(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function TI(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kI(t,e,r){let n=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await TI(a,r);return l.links?l.links():[]}return[]}));return jI(n.flat(1).filter(NI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Yw(t,e,r,n,s,a){let l=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,u=(d,h)=>r[h].pathname!==d.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):a==="data"?e.filter((d,h)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function AI(t,e,{includeHydrateFallback:r}={}){return SI(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function SI(t){return[...new Set(t)]}function CI(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function jI(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let a=JSON.stringify(CI(s));return r.has(a)||(r.add(a),n.push({key:a,link:s})),n},[])}function rN(){let t=N.useContext(Iu);return dv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function II(){let t=N.useContext(Xp);return dv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var hv=N.createContext(void 0);hv.displayName="FrameworkContext";function nN(){let t=N.useContext(hv);return dv(t,"You must render this element inside a <HydratedRouter> element"),t}function PI(t,e){let r=N.useContext(hv),[n,s]=N.useState(!1),[a,l]=N.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,y=N.useRef(null);N.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=O=>{O.forEach(j=>{l(j.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[t]),N.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{s(!0)},_=()=>{s(!1),l(!1)};return r?t!=="intent"?[a,y,{}]:[a,y,{onFocus:Td(u,v),onBlur:Td(d,_),onMouseEnter:Td(h,v),onMouseLeave:Td(p,_),onTouchStart:Td(g,v)}]:[!1,y,{}]}function Td(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function RI({page:t,...e}){let{router:r}=rN(),n=N.useMemo(()=>qT(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?N.createElement(OI,{page:t,matches:n,...e}):null}function DI(t){let{manifest:e,routeModules:r}=nN(),[n,s]=N.useState([]);return N.useEffect(()=>{let a=!1;return kI(t,e,r).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,r]),n}function OI({page:t,matches:e,...r}){let n=Qo(),{manifest:s,routeModules:a}=nN(),{basename:l}=rN(),{loaderData:u,matches:d}=II(),h=N.useMemo(()=>Yw(t,e,d,s,n,"data"),[t,e,d,s,n]),p=N.useMemo(()=>Yw(t,e,d,s,n,"assets"),[t,e,d,s,n]),g=N.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let _=new Set,w=!1;if(e.forEach(O=>{let j=s.routes[O.route.id];!j||!j.hasLoader||(!h.some(z=>z.route.id===O.route.id)&&O.route.id in u&&a[O.route.id]?.shouldRevalidate||j.hasClientLoader?w=!0:_.add(O.route.id))}),_.size===0)return[];let E=EI(t,l,"data");return w&&_.size>0&&E.searchParams.set("_routes",e.filter(O=>_.has(O.route.id)).map(O=>O.route.id).join(",")),[E.pathname+E.search]},[l,u,n,s,h,e,t,a]),y=N.useMemo(()=>AI(p,s),[p,s]),v=DI(p);return N.createElement(N.Fragment,null,g.map(_=>N.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),y.map(_=>N.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),v.map(({key:_,link:w})=>N.createElement("link",{key:_,nonce:r.nonce,...w})))}function FI(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var sN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sN&&(window.__reactRouterVersion="7.8.2")}catch{}function LI({basename:t,children:e,window:r}){let n=N.useRef();n.current==null&&(n.current=Nj({window:r,v5Compat:!0}));let s=n.current,[a,l]=N.useState({action:s.action,location:s.location}),u=N.useCallback(d=>{N.startTransition(()=>l(d))},[l]);return N.useLayoutEffect(()=>s.listen(u),[s,u]),N.createElement(fI,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var aN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_s=N.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:a,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:g,...y},v){let{basename:_}=N.useContext(Fa),w=typeof h=="string"&&aN.test(h),E,O=!1;if(typeof h=="string"&&w&&(E=h,sN))try{let I=new URL(window.location.href),P=h.startsWith("//")?new URL(I.protocol+h):new URL(h),M=$i(P.pathname,_);P.origin===I.origin&&M!=null?h=M+P.search+P.hash:O=!0}catch{Pa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=Jj(h,{relative:s}),[z,L,Y]=PI(n,y),H=BI(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:g});function S(I){e&&e(I),I.defaultPrevented||H(I)}let A=N.createElement("a",{...y,...Y,href:E||j,onClick:O||a?e:S,ref:FI(v,L),target:d,"data-discover":!w&&r==="render"?"true":void 0});return z&&!w?N.createElement(N.Fragment,null,A,N.createElement(RI,{page:j})):A});_s.displayName="Link";var MI=N.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:a,to:l,viewTransition:u,children:d,...h},p){let g=j0(l,{relative:h.relative}),y=Qo(),v=N.useContext(Xp),{navigator:_,basename:w}=N.useContext(Fa),E=v!=null&&GI(g)&&u===!0,O=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,j=y.pathname,z=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(j=j.toLowerCase(),z=z?z.toLowerCase():null,O=O.toLowerCase()),z&&w&&(z=$i(z,w)||z);const L=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Y=j===O||!s&&j.startsWith(O)&&j.charAt(L)==="/",H=z!=null&&(z===O||!s&&z.startsWith(O)&&z.charAt(O.length)==="/"),S={isActive:Y,isPending:H,isTransitioning:E},A=Y?e:void 0,I;typeof n=="function"?I=n(S):I=[n,Y?"active":null,H?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(S):a;return N.createElement(_s,{...h,"aria-current":A,className:I,ref:p,style:P,to:l,viewTransition:u},typeof d=="function"?d(S):d)});MI.displayName="NavLink";var VI=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:a,method:l=Df,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...y},v)=>{let _=HI(),w=WI(u,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&aN.test(u),j=z=>{if(d&&d(z),z.defaultPrevented)return;z.preventDefault();let L=z.nativeEvent.submitter,Y=L?.getAttribute("formmethod")||l;_(L||z.currentTarget,{fetcherKey:e,method:Y,navigate:r,replace:s,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return N.createElement("form",{ref:v,method:E,action:w,onSubmit:n?d:j,...y,"data-discover":!O&&t==="render"?"true":void 0})});VI.displayName="Form";function $I(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iN(t){let e=N.useContext(Iu);return Fr(e,$I(t)),e}function BI(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=La(),d=Qo(),h=j0(t,{relative:a});return N.useCallback(p=>{if(vI(p,e)){p.preventDefault();let g=r!==void 0?r:t0(d)===t0(h);u(t,{replace:g,state:n,preventScrollReset:s,relative:a,viewTransition:l})}},[d,u,h,r,n,e,t,s,a,l])}var UI=0,zI=()=>`__${String(++UI)}__`;function HI(){let{router:t}=iN("useSubmit"),{basename:e}=N.useContext(Fa),r=cI();return N.useCallback(async(n,s={})=>{let{action:a,method:l,encType:u,formData:d,body:h}=_I(n,e);if(s.navigate===!1){let p=s.fetcherKey||zI();await t.fetch(p,r,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function WI(t,{relative:e}={}){let{basename:r}=N.useContext(Fa),n=N.useContext(pi);Fr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...j0(t||".",{relative:e})},l=Qo();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Di([r,a.pathname])),t0(a)}function GI(t,{relative:e}={}){let r=N.useContext(QT);Fr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=iN("useViewTransitionState"),s=j0(t,{relative:e});if(!r.isTransitioning)return!1;let a=$i(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=$i(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Xf(s.pathname,l)!=null||Xf(s.pathname,a)!=null}const qI=()=>{};var Xw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},KI=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[r++];e[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[r++],l=t[r++],u=t[r++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[r++],l=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},lN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,u=l?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,p=a>>2,g=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,v=h&63;d||(v=64,l||(y=64)),n.push(r[p],r[g],r[y],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const a=r[t.charAt(s++)],u=s<t.length?r[t.charAt(s)]:0;++s;const h=s<t.length?r[t.charAt(s)]:64;++s;const g=s<t.length?r[t.charAt(s)]:64;if(++s,a==null||u==null||h==null||g==null)throw new YI;const y=a<<2|u>>4;if(n.push(y),h!==64){const v=u<<4&240|h>>2;if(n.push(v),g!==64){const _=h<<6&192|g;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XI=function(t){const e=oN(t);return lN.encodeByteArray(e,!0)},Qf=function(t){return XI(t).replace(/\./g,"")},cN=function(t){try{return lN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=()=>QI().__FIREBASE_DEFAULTS__,ZI=()=>{if(typeof process>"u"||typeof Xw>"u")return;const t=Xw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cN(t[1]);return e&&JSON.parse(e)},Jp=()=>{try{return qI()||JI()||ZI()||eP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uN=t=>{var e,r;return(r=(e=Jp())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},dN=t=>{const e=uN(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},hN=()=>{var t;return(t=Jp())===null||t===void 0?void 0:t.config},fN=t=>{var e;return(e=Jp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qf(JSON.stringify(r)),Qf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rs())}function nP(){var t;const e=(t=Jp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iP(){const t=rs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oP(){return!nP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gN(){try{return typeof indexedDB=="object"}catch{return!1}}function xN(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function lP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="FirebaseError";class ca extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=cP,Object.setPrototypeOf(this,ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?uP(a,n):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new ca(s,u,n)}}function uP(t,e){return t.replace(dP,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const dP=/\{\$([^}]+)}/g;function hP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mo(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const a=t[s],l=e[s];if(Qw(a)&&Qw(l)){if(!Mo(a,l))return!1}else if(a!==l)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function Qw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ad(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,a]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Sd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function fP(t,e){const r=new pP(t,e);return r.subscribe.bind(r)}class pP{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");mP(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=bx),s.error===void 0&&(s.error=bx),s.complete===void 0&&(s.complete=bx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mP(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function bx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=1e3,xP=2,yP=14400*1e3,vP=.5;function Jw(t,e=gP,r=xP){const n=e*Math.pow(r,t),s=Math.round(vP*n*(Math.random()-.5)*2);return Math.min(yP,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t){return t&&t._delegate?t._delegate:t}class la{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new tP;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),s=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_P(e))try{this.getOrInitializeService({instanceIdentifier:El})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(e=El){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=El){return this.instances.has(e)}getOptions(e=El){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&l.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:wP(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=El){return this.component?this.component.multipleInstances?e:El:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wP(t){return t===El?void 0:t}function _P(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new bP(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Kt||(Kt={}));const TP={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},NP=Kt.INFO,kP={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},AP=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=kP[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zp{constructor(e){this.name=e,this._logLevel=NP,this._logHandler=AP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const SP=(t,e)=>e.some(r=>t instanceof r);let Zw,e4;function CP(){return Zw||(Zw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jP(){return e4||(e4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yN=new WeakMap,iy=new WeakMap,vN=new WeakMap,wx=new WeakMap,fv=new WeakMap;function IP(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{r(Ro(t.result)),s()},l=()=>{n(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&yN.set(r,t)}).catch(()=>{}),fv.set(e,t),e}function PP(t){if(iy.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{r(),s()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});iy.set(t,e)}let oy={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return iy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vN.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ro(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RP(t){oy=t(oy)}function DP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(_x(this),e,...r);return vN.set(n,e.sort?e.sort():[e]),Ro(n)}:jP().includes(t)?function(...e){return t.apply(_x(this),e),Ro(yN.get(this))}:function(...e){return Ro(t.apply(_x(this),e))}}function OP(t){return typeof t=="function"?DP(t):(t instanceof IDBTransaction&&PP(t),SP(t,CP())?new Proxy(t,oy):t)}function Ro(t){if(t instanceof IDBRequest)return IP(t);if(wx.has(t))return wx.get(t);const e=OP(t);return e!==t&&(wx.set(t,e),fv.set(e,t)),e}const _x=t=>fv.get(t);function bN(t,e,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),u=Ro(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Ro(l.result),d.oldVersion,d.newVersion,Ro(l.transaction),d)}),r&&l.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const FP=["get","getKey","getAll","getAllKeys","count"],LP=["put","add","delete","clear"],Ex=new Map;function t4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ex.get(e))return Ex.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=LP.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||FP.includes(r)))return;const a=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[r](...u),s&&d.done]))[0]};return Ex.set(e,a),a}RP(t=>({...t,get:(e,r,n)=>t4(e,r)||t.get(e,r,n),has:(e,r)=>!!t4(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(VP(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function VP(t){const e=t.getComponent();return e?.type==="VERSION"}const ly="@firebase/app",r4="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Zp("@firebase/app"),$P="@firebase/app-compat",BP="@firebase/analytics-compat",UP="@firebase/analytics",zP="@firebase/app-check-compat",HP="@firebase/app-check",WP="@firebase/auth",GP="@firebase/auth-compat",qP="@firebase/database",KP="@firebase/data-connect",YP="@firebase/database-compat",XP="@firebase/functions",QP="@firebase/functions-compat",JP="@firebase/installations",ZP="@firebase/installations-compat",eR="@firebase/messaging",tR="@firebase/messaging-compat",rR="@firebase/performance",nR="@firebase/performance-compat",sR="@firebase/remote-config",aR="@firebase/remote-config-compat",iR="@firebase/storage",oR="@firebase/storage-compat",lR="@firebase/firestore",cR="@firebase/vertexai",uR="@firebase/firestore-compat",dR="firebase",hR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="[DEFAULT]",fR={[ly]:"fire-core",[$P]:"fire-core-compat",[UP]:"fire-analytics",[BP]:"fire-analytics-compat",[HP]:"fire-app-check",[zP]:"fire-app-check-compat",[WP]:"fire-auth",[GP]:"fire-auth-compat",[qP]:"fire-rtdb",[KP]:"fire-data-connect",[YP]:"fire-rtdb-compat",[XP]:"fire-fn",[QP]:"fire-fn-compat",[JP]:"fire-iid",[ZP]:"fire-iid-compat",[eR]:"fire-fcm",[tR]:"fire-fcm-compat",[rR]:"fire-perf",[nR]:"fire-perf-compat",[sR]:"fire-rc",[aR]:"fire-rc-compat",[iR]:"fire-gcs",[oR]:"fire-gcs-compat",[lR]:"fire-fst",[uR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[dR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new Map,pR=new Map,uy=new Map;function n4(t,e){try{t.container.addComponent(e)}catch(r){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ra(t){const e=t.name;if(uy.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;uy.set(e,t);for(const r of Jf.values())n4(r,t);for(const r of pR.values())n4(r,t);return!0}function Jo(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function $s(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Do=new ql("app","Firebase",mR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Do.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=hR;function wN(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:cy,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Do.create("bad-app-name",{appName:String(s)});if(r||(r=hN()),!r)throw Do.create("no-options");const a=Jf.get(s);if(a){if(Mo(r,a.options)&&Mo(n,a.config))return a;throw Do.create("duplicate-app",{appName:s})}const l=new EP(s);for(const d of uy.values())l.addComponent(d);const u=new gR(r,n,l);return Jf.set(s,u),u}function em(t=cy){const e=Jf.get(t);if(!e&&t===cy&&hN())return wN();if(!e)throw Do.create("no-app",{appName:t});return e}function Ts(t,e,r){var n;let s=(n=fR[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(u.join(" "));return}Ra(new la(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firebase-heartbeat-database",yR=1,r0="firebase-heartbeat-store";let Tx=null;function _N(){return Tx||(Tx=bN(xR,yR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(r0)}catch(r){console.warn(r)}}}}).catch(t=>{throw Do.create("idb-open",{originalErrorMessage:t.message})})),Tx}async function vR(t){try{const r=(await _N()).transaction(r0),n=await r.objectStore(r0).get(EN(t));return await r.done,n}catch(e){if(e instanceof ca)Bi.warn(e.message);else{const r=Do.create("idb-get",{originalErrorMessage:e?.message});Bi.warn(r.message)}}}async function s4(t,e){try{const n=(await _N()).transaction(r0,"readwrite");await n.objectStore(r0).put(e,EN(t)),await n.done}catch(r){if(r instanceof ca)Bi.warn(r.message);else{const n=Do.create("idb-set",{originalErrorMessage:r?.message});Bi.warn(n.message)}}}function EN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1024,wR=30;class _R{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new TR(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=a4();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>wR){const l=NR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Bi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=a4(),{heartbeatsToSend:n,unsentEntries:s}=ER(this._heartbeatsCache.heartbeats),a=Qf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Bi.warn(r),""}}}function a4(){return new Date().toISOString().substring(0,10)}function ER(t,e=bR){const r=[];let n=t.slice();for(const s of t){const a=r.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),i4(r)>e){a.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),i4(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class TR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gN()?xN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await vR(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return s4(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return s4(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function i4(t){return Qf(JSON.stringify({version:2,heartbeats:t})).length}function NR(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){Ra(new la("platform-logger",e=>new MP(e),"PRIVATE")),Ra(new la("heartbeat",e=>new _R(e),"PRIVATE")),Ts(ly,r4,t),Ts(ly,r4,"esm2017"),Ts("fire-js","")}kR("");function pv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function TN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AR=TN,NN=new ql("auth","Firebase",TN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Zp("@firebase/auth");function SR(t,...e){Zf.logLevel<=Kt.WARN&&Zf.warn(`Auth (${Kl}): ${t}`,...e)}function Ff(t,...e){Zf.logLevel<=Kt.ERROR&&Zf.error(`Auth (${Kl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t,...e){throw mv(t,...e)}function Ja(t,...e){return mv(t,...e)}function kN(t,e,r){const n=Object.assign(Object.assign({},AR()),{[e]:r});return new ql("auth","Firebase",n).create(e,{appName:t.name})}function Oi(t){return kN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mv(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return NN.create(t,...e)}function Rt(t,e,...r){if(!t)throw mv(e,...r)}function Ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ff(e),new Error(e)}function Ui(t,e){t||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CR(){return o4()==="http:"||o4()==="https:"}function o4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CR()||mN()||"connection"in navigator)?navigator.onLine:!0}function IR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ui(r>e,"Short delay should be less than long delay!"),this.isMobile=rP()||aP()}get(){return jR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DR=new R0(3e4,6e4);function Yi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ma(t,e,r,n,s={}){return SN(t,s,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const u=P0(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},a);return sP()||(h.referrerPolicy="no-referrer"),AN.fetch()(await CN(t,t.config.apiHost,r,u),h)})}async function SN(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},PR),e);try{const s=new FR(t),a=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw mf(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw mf(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw mf(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw mf(t,"user-disabled",l);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw kN(t,p,h);Da(t,p)}}catch(s){if(s instanceof ca)throw s;Da(t,"network-request-failed",{message:String(s)})}}async function D0(t,e,r,n,s={}){const a=await Ma(t,e,r,n,s);return"mfaPendingCredential"in a&&Da(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function CN(t,e,r,n){const s=`${e}${r}?${n}`,a=t,l=a.config.emulator?gv(t.config,s):`${t.config.apiScheme}://${s}`;return RR.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function OR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ja(this.auth,"network-request-failed")),DR.get())})}}function mf(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Ja(t,e,n);return s.customData._tokenResponse=r,s}function l4(t){return t!==void 0&&t.enterprise!==void 0}class LR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return OR(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MR(t,e){return Ma(t,"GET","/v2/recaptchaConfig",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(t,e){return Ma(t,"POST","/v1/accounts:delete",e)}async function ep(t,e){return Ma(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $R(t,e=!1){const r=kr(t),n=await r.getIdToken(e),s=xv(n);Rt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:n,authTime:Fd(Nx(s.auth_time)),issuedAtTime:Fd(Nx(s.iat)),expirationTime:Fd(Nx(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Nx(t){return Number(t)*1e3}function xv(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const s=cN(r);return s?JSON.parse(s):(Ff("Failed to decode base64 JWT payload"),null)}catch(s){return Ff("Caught error parsing JWT payload as JSON",s?.toString()),null}}function c4(t){const e=xv(t);return Rt(e,"internal-error"),Rt(typeof e.exp<"u","internal-error"),Rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ca&&BR(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function BR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fd(this.lastLoginAt),this.creationTime=Fd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Rl(t,ep(r,{idToken:n}));Rt(s?.users.length,r,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?jN(a.providerUserInfo):[],u=HR(t.providerData,l),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!u?.length,p=d?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new hy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function zR(t){const e=kr(t);await tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HR(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function jN(t){return t.map(e=>{var{providerId:r}=e,n=pv(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(t,e){const r=await SN(t,{},async()=>{const n=P0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await CN(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",AN.fetch()(l,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function GR(t,e){return Ma(t,"POST","/v2/accounts:revokeToken",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Rt(e.idToken,"internal-error"),Rt(typeof e.idToken<"u","internal-error"),Rt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Rt(e.length!==0,"internal-error");const r=c4(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:a}=await WR(e,r);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:a}=r,l=new iu;return n&&(Rt(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),s&&(Rt(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Rt(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new iu,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,e){Rt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Aa{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,a=pv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new hy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return Rt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return $R(this,e)}reload(){return zR(this)}_assign(e){this!==e&&(Rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Aa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await tp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($s(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await Rl(this,VR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,a,l,u,d,h,p;const g=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(s=r.email)!==null&&s!==void 0?s:void 0,v=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,_=(l=r.photoURL)!==null&&l!==void 0?l:void 0,w=(u=r.tenantId)!==null&&u!==void 0?u:void 0,E=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,O=(h=r.createdAt)!==null&&h!==void 0?h:void 0,j=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:z,emailVerified:L,isAnonymous:Y,providerData:H,stsTokenManager:S}=r;Rt(z&&S,e,"internal-error");const A=iu.fromJSON(this.name,S);Rt(typeof z=="string",e,"internal-error"),Eo(g,e.name),Eo(y,e.name),Rt(typeof L=="boolean",e,"internal-error"),Rt(typeof Y=="boolean",e,"internal-error"),Eo(v,e.name),Eo(_,e.name),Eo(w,e.name),Eo(E,e.name),Eo(O,e.name),Eo(j,e.name);const I=new Aa({uid:z,auth:e,email:y,emailVerified:L,displayName:g,isAnonymous:Y,photoURL:_,phoneNumber:v,tenantId:w,stsTokenManager:A,createdAt:O,lastLoginAt:j});return H&&Array.isArray(H)&&(I.providerData=H.map(P=>Object.assign({},P))),E&&(I._redirectEventId=E),I}static async _fromIdTokenResponse(e,r,n=!1){const s=new iu;s.updateFromServerResponse(r);const a=new Aa({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await tp(a),a}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Rt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?jN(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,u=new iu;u.updateFromIdToken(n);const d=new Aa({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new hy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new Map;function Pi(t){Ui(t instanceof Function,"Expected a class definition");let e=u4.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,u4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}IN.type="NONE";const d4=IN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t,e,r){return`firebase:${t}:${e}:${r}`}class ou{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=Lf(this.userKey,s.apiKey,a),this.fullPersistenceKey=Lf("persistence",s.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await ep(this.auth,{idToken:e}).catch(()=>{});return r?Aa._fromGetAccountInfoResponse(this.auth,r,e):null}return Aa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new ou(Pi(d4),e,n);const s=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=s[0]||Pi(d4);const l=Lf(n,e.config.apiKey,e.name);let u=null;for(const h of r)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const y=await ep(e,{idToken:p}).catch(()=>{});if(!y)break;g=await Aa._fromGetAccountInfoResponse(e,y,p)}else g=Aa._fromJSON(e,p);h!==a&&(u=g),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new ou(a,e,n):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(r.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new ou(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ON(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LN(e))return"Blackberry";if(MN(e))return"Webos";if(RN(e))return"Safari";if((e.includes("chrome/")||DN(e))&&!e.includes("edge/"))return"Chrome";if(FN(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function PN(t=rs()){return/firefox\//i.test(t)}function RN(t=rs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DN(t=rs()){return/crios\//i.test(t)}function ON(t=rs()){return/iemobile/i.test(t)}function FN(t=rs()){return/android/i.test(t)}function LN(t=rs()){return/blackberry/i.test(t)}function MN(t=rs()){return/webos/i.test(t)}function yv(t=rs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qR(t=rs()){var e;return yv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KR(){return iP()&&document.documentMode===10}function VN(t=rs()){return yv(t)||FN(t)||MN(t)||LN(t)||/windows phone/i.test(t)||ON(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e=[]){let r;switch(t){case"Browser":r=h4(rs());break;case"Worker":r=`${h4(rs())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Kl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t,e={}){return Ma(t,"GET","/v2/passwordPolicy",Yi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=6;class JR{constructor(e){var r,n,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:QR,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,a,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f4(this),this.idTokenSubscription=new f4(this),this.beforeStateQueue=new YR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Pi(r)),this._initializationPromise=this.queue(async()=>{var n,s,a;if(!this._deleted&&(this.persistenceManager=await ou.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await ep(this,{idToken:e}),n=await Aa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if($s(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await tp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($s(this.app))return Promise.reject(Oi(this));const r=e?kr(e):null;return r&&Rt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $s(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $s(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XR(this),r=new JR(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await GR(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Pi(e)||this._popupRedirectResolver;Rt(r,this,"argument-error"),this.redirectPersistenceManager=await ou.create(this,[Pi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Rt(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,s);return()=>{l=!0,d()}}else{const d=e.addObserver(r);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$N(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;if($s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&SR(`Error while retrieving App Check token: ${r.error}`),r?.token}}function Zo(t){return kr(t)}class f4{constructor(e){this.auth=e,this.observer=null,this.addObserver=fP(r=>this.observer=r)}get next(){return Rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e8(t){tm=t}function BN(t){return tm.loadJS(t)}function t8(){return tm.recaptchaEnterpriseScript}function r8(){return tm.gapiScript}function n8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class s8{constructor(){this.enterprise=new a8}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class a8{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const i8="recaptcha-enterprise",UN="NO_RECAPTCHA";class o8{constructor(e){this.type=i8,this.auth=Zo(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{MR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new LR(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function s(a,l,u){const d=window.grecaptcha;l4(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{l(h)}).catch(()=>{l(UN)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s8().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{n(this.auth).then(u=>{if(!r&&l4(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=t8();d.length!==0&&(d+=u),BN(d).then(()=>{s(u,a,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function p4(t,e,r,n=!1,s=!1){const a=new o8(t);let l;if(s)l=UN;else try{l=await a.verify(r)}catch{l=await a.verify(r,!0)}const u=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function rp(t,e,r,n,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await p4(t,e,r,r==="getOobCode");return n(t,l)}else return n(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await p4(t,e,r,r==="getOobCode");return n(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t,e){const r=Jo(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),a=r.getOptions();if(Mo(a,e??{}))return s;Da(s,"already-initialized")}return r.initialize({options:e})}function c8(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Pi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function u8(t,e,r){const n=Zo(t);Rt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,a=zN(e),{host:l,port:u}=d8(e),d=u===null?"":`:${u}`,h={url:`${a}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Rt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Rt(Mo(h,n.config.emulator)&&Mo(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,h8()}function zN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function d8(t){const e=zN(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:m4(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:m4(l)}}}function m4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function h8(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,r){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function f8(t,e){return Ma(t,"POST","/v1/accounts:update",e)}async function p8(t,e){return Ma(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(t,e){return D0(t,"POST","/v1/accounts:signInWithPassword",Yi(t,e))}async function g8(t,e){return Ma(t,"POST","/v1/accounts:sendOobCode",Yi(t,e))}async function x8(t,e){return g8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y8(t,e){return D0(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}async function v8(t,e){return D0(t,"POST","/v1/accounts:signInWithEmailLink",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends vv{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new n0(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new n0(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rp(e,r,"signInWithPassword",m8);case"emailLink":return y8(e,{email:this._email,oobCode:this._password});default:Da(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rp(e,n,"signUpPassword",p8);case"emailLink":return v8(e,{idToken:r,email:this._email,oobCode:this._password});default:Da(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t,e){return D0(t,"POST","/v1/accounts:signInWithIdp",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="http://localhost";class Dl extends vv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Dl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Da("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,a=pv(r,["providerId","signInMethod"]);if(!n||!s)return null;const l=new Dl(n,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const r=this.buildRequest();return lu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,lu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,lu(e,r)}buildRequest(){const e={requestUri:b8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=P0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _8(t){const e=Ad(Sd(t)).link,r=e?Ad(Sd(e)).deep_link_id:null,n=Ad(Sd(t)).deep_link_id;return(n?Ad(Sd(n)).link:null)||n||r||e||t}class bv{constructor(e){var r,n,s,a,l,u;const d=Ad(Sd(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,g=w8((s=d.mode)!==null&&s!==void 0?s:null);Rt(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=_8(e);try{return new bv(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.providerId=Ru.PROVIDER_ID}static credential(e,r){return n0._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=bv.parseLink(r);return Rt(n,"argument-error"),n0._fromEmailAndCode(e,n.code,n.tenantId)}}Ru.PROVIDER_ID="password";Ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0 extends HN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends O0{constructor(){super("facebook.com")}static credential(e){return Dl._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends O0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Dl._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ao.credential(r,n)}catch{return null}}}Ao.GOOGLE_SIGN_IN_METHOD="google.com";Ao.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends O0{constructor(){super("github.com")}static credential(e){return Dl._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return So.credential(e.oauthAccessToken)}catch{return null}}}So.GITHUB_SIGN_IN_METHOD="github.com";So.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends O0{constructor(){super("twitter.com")}static credential(e,r){return Dl._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Co.credential(r,n)}catch{return null}}}Co.TWITTER_SIGN_IN_METHOD="twitter.com";Co.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E8(t,e){return D0(t,"POST","/v1/accounts:signUp",Yi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const a=await Aa._fromIdTokenResponse(e,n,s),l=g4(n);return new Ol({user:a,providerId:l,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=g4(n);return new Ol({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function g4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends ca{constructor(e,r,n,s){var a;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,np.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new np(e,r,n,s)}}function WN(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?np._fromErrorAndOperation(t,a,e,n):a})}async function T8(t,e,r=!1){const n=await Rl(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ol._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(t,e,r=!1){const{auth:n}=t;if($s(n.app))return Promise.reject(Oi(n));const s="reauthenticate";try{const a=await Rl(t,WN(n,s,e,t),r);Rt(a.idToken,n,"internal-error");const l=xv(a.idToken);Rt(l,n,"internal-error");const{sub:u}=l;return Rt(t.uid===u,n,"user-mismatch"),Ol._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Da(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e,r=!1){if($s(t.app))return Promise.reject(Oi(t));const n="signIn",s=await WN(t,n,e),a=await Ol._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(a.user),a}async function k8(t,e){return GN(Zo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t){const e=Zo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A8(t,e,r){const n=Zo(t);await rp(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",x8)}async function S8(t,e,r){if($s(t.app))return Promise.reject(Oi(t));const n=Zo(t),l=await rp(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E8).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&qN(t),d}),u=await Ol._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(u.user),u}function C8(t,e,r){return $s(t.app)?Promise.reject(Oi(t)):k8(kr(t),Ru.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&qN(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j8(t,e){return Ma(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I8(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=kr(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},l=await Rl(n,j8(n.auth,a));n.displayName=l.displayName||null,n.photoURL=l.photoUrl||null;const u=n.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=n.displayName,u.photoURL=n.photoURL),await n._updateTokensIfNecessary(l)}function wv(t,e){return P8(kr(t),null,e)}async function P8(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(a.password=r);const l=await Rl(t,f8(n,a));await t._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t,e){return kr(t).setPersistence(e)}function D8(t,e,r,n){return kr(t).onIdTokenChanged(e,r,n)}function O8(t,e,r){return kr(t).beforeAuthStateChanged(e,r)}function Yl(t,e,r,n){return kr(t).onAuthStateChanged(e,r,n)}function F0(t){return kr(t).signOut()}const sp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=1e3,L8=10;class YN extends KN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(n);!r&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);KR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,L8):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},F8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}YN.type="LOCAL";const XN=YN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN extends KN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}QN.type="SESSION";const JN=QN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new rm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:a}=r.data,l=this.handlersMap[s];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const u=Array.from(l).map(async h=>h(r.origin,a)),d=await M8(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const h=_v("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:s,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(){return window}function $8(t){Za().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(){return typeof Za().WorkerGlobalScope<"u"&&typeof Za().importScripts=="function"}async function B8(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U8(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function z8(){return ZN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="firebaseLocalStorageDb",H8=1,ap="firebaseLocalStorage",tk="fbase_key";class L0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function nm(t,e){return t.transaction([ap],e?"readwrite":"readonly").objectStore(ap)}function W8(){const t=indexedDB.deleteDatabase(ek);return new L0(t).toPromise()}function fy(){const t=indexedDB.open(ek,H8);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(ap,{keyPath:tk})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(ap)?e(n):(n.close(),await W8(),e(await fy()))})})}async function x4(t,e,r){const n=nm(t,!0).put({[tk]:e,value:r});return new L0(n).toPromise()}async function G8(t,e){const r=nm(t,!1).get(e),n=await new L0(r).toPromise();return n===void 0?null:n.value}function y4(t,e){const r=nm(t,!0).delete(e);return new L0(r).toPromise()}const q8=800,K8=3;class rk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fy(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>K8)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rm._getInstance(z8()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await B8(),!this.activeServiceWorker)return;this.sender=new V8(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fy();return await x4(e,sp,"1"),await y4(e,sp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>x4(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>G8(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>y4(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=nm(s,!1).getAll();return new L0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rk.type="LOCAL";const Y8=rk;new R0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t,e){return e?Pi(e):(Rt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends vv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return lu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return lu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Q8(t){return GN(t.auth,new Ev(t),t.bypassAuthState)}function J8(t){const{auth:e,user:r}=t;return Rt(r,e,"internal-error"),N8(r,new Ev(t),t.bypassAuthState)}async function Z8(t){const{auth:e,user:r}=t;return Rt(r,e,"internal-error"),T8(r,new Ev(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,r,n,s,a=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q8;case"linkViaPopup":case"linkViaRedirect":return Z8;case"reauthViaPopup":case"reauthViaRedirect":return J8;default:Da(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new R0(2e3,1e4);class Jc extends nk{constructor(e,r,n,s,a){super(e,r,s,a),this.provider=n,this.authWindow=null,this.pollId=null,Jc.currentPopupAction&&Jc.currentPopupAction.cancel(),Jc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Rt(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=_v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ja(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ja(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ja(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eD.get())};e()}}Jc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="pendingRedirect",Mf=new Map;class rD extends nk{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Mf.get(this.auth._key());if(!e){try{const n=await nD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Mf.set(this.auth._key(),e)}return this.bypassAuthState||Mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nD(t,e){const r=iD(e),n=aD(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function sD(t,e){Mf.set(t._key(),e)}function aD(t){return Pi(t._redirectPersistence)}function iD(t){return Lf(tD,t.config.apiKey,t.name)}async function oD(t,e,r=!1){if($s(t.app))return Promise.reject(Oi(t));const n=Zo(t),s=X8(n,e),l=await new rD(n,s,r).execute();return l&&!r&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=600*1e3;class cD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uD(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!sk(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ja(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lD&&this.cachedEventUids.clear(),this.cachedEventUids.has(v4(e))}saveEventToCache(e){this.cachedEventUids.add(v4(e)),this.lastProcessedEventTime=Date.now()}}function v4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sk({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function uD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e={}){return Ma(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fD=/^https?/;async function pD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dD(t);for(const r of e)try{if(mD(r))return}catch{}Da(t,"unauthorized-domain")}function mD(t){const e=dy(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===n}if(!fD.test(r))return!1;if(hD.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new R0(3e4,6e4);function b4(){const t=Za().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function xD(t){return new Promise((e,r)=>{var n,s,a;function l(){b4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b4(),r(Ja(t,"network-request-failed"))},timeout:gD.get()})}if(!((s=(n=Za().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Za().gapi)===null||a===void 0)&&a.load)l();else{const u=n8("iframefcb");return Za()[u]=()=>{gapi.load?l():r(Ja(t,"network-request-failed"))},BN(`${r8()}?onload=${u}`).catch(d=>r(d))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function yD(t){return Vf=Vf||xD(t),Vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new R0(5e3,15e3),bD="__/auth/iframe",wD="emulator/auth/iframe",_D={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ED=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TD(t){const e=t.config;Rt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?gv(e,wD):`https://${t.config.authDomain}/${bD}`,n={apiKey:e.apiKey,appName:t.name,v:Kl},s=ED.get(t.config.apiHost);s&&(n.eid=s);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${P0(n).slice(1)}`}async function ND(t){const e=await yD(t),r=Za().gapi;return Rt(r,t,"internal-error"),e.open({where:document.body,url:TD(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_D,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const l=Ja(t,"network-request-failed"),u=Za().setTimeout(()=>{a(l)},vD.get());function d(){Za().clearTimeout(u),s(n)}n.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AD=500,SD=600,CD="_blank",jD="http://localhost";class w4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ID(t,e,r,n=AD,s=SD){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},kD),{width:n.toString(),height:s.toString(),top:a,left:l}),h=rs().toLowerCase();r&&(u=DN(h)?CD:r),PN(h)&&(e=e||jD,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[v,_])=>`${y}${v}=${_},`,"");if(qR(h)&&u!=="_self")return PD(e||"",u),new w4(null);const g=window.open(e||"",u,p);Rt(g,t,"popup-blocked");try{g.focus()}catch{}return new w4(g)}function PD(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="__/auth/handler",DD="emulator/auth/handler",OD=encodeURIComponent("fac");async function _4(t,e,r,n,s,a){Rt(t.config.authDomain,t,"auth-domain-config-required"),Rt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Kl,eventId:s};if(e instanceof HN){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",hP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof O0){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${OD}=${encodeURIComponent(d)}`:"";return`${FD(t)}?${P0(u).slice(1)}${h}`}function FD({config:t}){return t.emulator?gv(t,DD):`https://${t.authDomain}/${RD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="webStorageSupport";class LD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JN,this._completeRedirectFn=oD,this._overrideRedirectResult=sD}async _openPopup(e,r,n,s){var a;Ui((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await _4(e,r,n,dy(),s);return ID(e,l,_v())}async _openRedirect(e,r,n,s){await this._originValidation(e);const a=await _4(e,r,n,dy(),s);return $8(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:a}=this.eventManagers[r];return s?Promise.resolve(s):(Ui(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await ND(e),n=new cD(e);return r.register("authEvent",s=>(Rt(s?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(kx,{type:kx},s=>{var a;const l=(a=s?.[0])===null||a===void 0?void 0:a[kx];l!==void 0&&r(!!l),Da(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=pD(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return VN()||RN()||yv()}}const MD=LD;var E4="@firebase/auth",T4="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BD(t){Ra(new la("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=n.options;Rt(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$N(t)},h=new ZR(n,s,a,d);return c8(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ra(new la("auth-internal",e=>{const r=Zo(e.getProvider("auth").getImmediate());return(n=>new VD(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(E4,T4,$D(t)),Ts(E4,T4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=300,zD=fN("authIdTokenMaxAge")||UD;let N4=null;const HD=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>zD)return;const s=r?.token;N4!==s&&(N4=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Tv(t=em()){const e=Jo(t,"auth");if(e.isInitialized())return e.getImmediate();const r=l8(t,{popupRedirectResolver:MD,persistence:[Y8,XN,JN]}),n=fN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=HD(a.toString());O8(r,l,()=>l(r.currentUser)),D8(r,u=>l(u))}}const s=uN("auth");return s&&u8(r,`http://${s}`),r}function WD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}e8({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const a=Ja("internal-error");a.customData=s,r(a)},n.type="text/javascript",n.charset="UTF-8",WD().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BD("Browser");var k4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oo,ak;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function I(){}I.prototype=A.prototype,S.D=A.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(P,M,R){for(var F=Array(arguments.length-2),me=2;me<arguments.length;me++)F[me-2]=arguments[me];return A.prototype[M].apply(P,F)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,A,I){I||(I=0);var P=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)P[M]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(M=0;16>M;++M)P[M]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=S.g[0],I=S.g[1],M=S.g[2];var R=S.g[3],F=A+(R^I&(M^R))+P[0]+3614090360&4294967295;A=I+(F<<7&4294967295|F>>>25),F=R+(M^A&(I^M))+P[1]+3905402710&4294967295,R=A+(F<<12&4294967295|F>>>20),F=M+(I^R&(A^I))+P[2]+606105819&4294967295,M=R+(F<<17&4294967295|F>>>15),F=I+(A^M&(R^A))+P[3]+3250441966&4294967295,I=M+(F<<22&4294967295|F>>>10),F=A+(R^I&(M^R))+P[4]+4118548399&4294967295,A=I+(F<<7&4294967295|F>>>25),F=R+(M^A&(I^M))+P[5]+1200080426&4294967295,R=A+(F<<12&4294967295|F>>>20),F=M+(I^R&(A^I))+P[6]+2821735955&4294967295,M=R+(F<<17&4294967295|F>>>15),F=I+(A^M&(R^A))+P[7]+4249261313&4294967295,I=M+(F<<22&4294967295|F>>>10),F=A+(R^I&(M^R))+P[8]+1770035416&4294967295,A=I+(F<<7&4294967295|F>>>25),F=R+(M^A&(I^M))+P[9]+2336552879&4294967295,R=A+(F<<12&4294967295|F>>>20),F=M+(I^R&(A^I))+P[10]+4294925233&4294967295,M=R+(F<<17&4294967295|F>>>15),F=I+(A^M&(R^A))+P[11]+2304563134&4294967295,I=M+(F<<22&4294967295|F>>>10),F=A+(R^I&(M^R))+P[12]+1804603682&4294967295,A=I+(F<<7&4294967295|F>>>25),F=R+(M^A&(I^M))+P[13]+4254626195&4294967295,R=A+(F<<12&4294967295|F>>>20),F=M+(I^R&(A^I))+P[14]+2792965006&4294967295,M=R+(F<<17&4294967295|F>>>15),F=I+(A^M&(R^A))+P[15]+1236535329&4294967295,I=M+(F<<22&4294967295|F>>>10),F=A+(M^R&(I^M))+P[1]+4129170786&4294967295,A=I+(F<<5&4294967295|F>>>27),F=R+(I^M&(A^I))+P[6]+3225465664&4294967295,R=A+(F<<9&4294967295|F>>>23),F=M+(A^I&(R^A))+P[11]+643717713&4294967295,M=R+(F<<14&4294967295|F>>>18),F=I+(R^A&(M^R))+P[0]+3921069994&4294967295,I=M+(F<<20&4294967295|F>>>12),F=A+(M^R&(I^M))+P[5]+3593408605&4294967295,A=I+(F<<5&4294967295|F>>>27),F=R+(I^M&(A^I))+P[10]+38016083&4294967295,R=A+(F<<9&4294967295|F>>>23),F=M+(A^I&(R^A))+P[15]+3634488961&4294967295,M=R+(F<<14&4294967295|F>>>18),F=I+(R^A&(M^R))+P[4]+3889429448&4294967295,I=M+(F<<20&4294967295|F>>>12),F=A+(M^R&(I^M))+P[9]+568446438&4294967295,A=I+(F<<5&4294967295|F>>>27),F=R+(I^M&(A^I))+P[14]+3275163606&4294967295,R=A+(F<<9&4294967295|F>>>23),F=M+(A^I&(R^A))+P[3]+4107603335&4294967295,M=R+(F<<14&4294967295|F>>>18),F=I+(R^A&(M^R))+P[8]+1163531501&4294967295,I=M+(F<<20&4294967295|F>>>12),F=A+(M^R&(I^M))+P[13]+2850285829&4294967295,A=I+(F<<5&4294967295|F>>>27),F=R+(I^M&(A^I))+P[2]+4243563512&4294967295,R=A+(F<<9&4294967295|F>>>23),F=M+(A^I&(R^A))+P[7]+1735328473&4294967295,M=R+(F<<14&4294967295|F>>>18),F=I+(R^A&(M^R))+P[12]+2368359562&4294967295,I=M+(F<<20&4294967295|F>>>12),F=A+(I^M^R)+P[5]+4294588738&4294967295,A=I+(F<<4&4294967295|F>>>28),F=R+(A^I^M)+P[8]+2272392833&4294967295,R=A+(F<<11&4294967295|F>>>21),F=M+(R^A^I)+P[11]+1839030562&4294967295,M=R+(F<<16&4294967295|F>>>16),F=I+(M^R^A)+P[14]+4259657740&4294967295,I=M+(F<<23&4294967295|F>>>9),F=A+(I^M^R)+P[1]+2763975236&4294967295,A=I+(F<<4&4294967295|F>>>28),F=R+(A^I^M)+P[4]+1272893353&4294967295,R=A+(F<<11&4294967295|F>>>21),F=M+(R^A^I)+P[7]+4139469664&4294967295,M=R+(F<<16&4294967295|F>>>16),F=I+(M^R^A)+P[10]+3200236656&4294967295,I=M+(F<<23&4294967295|F>>>9),F=A+(I^M^R)+P[13]+681279174&4294967295,A=I+(F<<4&4294967295|F>>>28),F=R+(A^I^M)+P[0]+3936430074&4294967295,R=A+(F<<11&4294967295|F>>>21),F=M+(R^A^I)+P[3]+3572445317&4294967295,M=R+(F<<16&4294967295|F>>>16),F=I+(M^R^A)+P[6]+76029189&4294967295,I=M+(F<<23&4294967295|F>>>9),F=A+(I^M^R)+P[9]+3654602809&4294967295,A=I+(F<<4&4294967295|F>>>28),F=R+(A^I^M)+P[12]+3873151461&4294967295,R=A+(F<<11&4294967295|F>>>21),F=M+(R^A^I)+P[15]+530742520&4294967295,M=R+(F<<16&4294967295|F>>>16),F=I+(M^R^A)+P[2]+3299628645&4294967295,I=M+(F<<23&4294967295|F>>>9),F=A+(M^(I|~R))+P[0]+4096336452&4294967295,A=I+(F<<6&4294967295|F>>>26),F=R+(I^(A|~M))+P[7]+1126891415&4294967295,R=A+(F<<10&4294967295|F>>>22),F=M+(A^(R|~I))+P[14]+2878612391&4294967295,M=R+(F<<15&4294967295|F>>>17),F=I+(R^(M|~A))+P[5]+4237533241&4294967295,I=M+(F<<21&4294967295|F>>>11),F=A+(M^(I|~R))+P[12]+1700485571&4294967295,A=I+(F<<6&4294967295|F>>>26),F=R+(I^(A|~M))+P[3]+2399980690&4294967295,R=A+(F<<10&4294967295|F>>>22),F=M+(A^(R|~I))+P[10]+4293915773&4294967295,M=R+(F<<15&4294967295|F>>>17),F=I+(R^(M|~A))+P[1]+2240044497&4294967295,I=M+(F<<21&4294967295|F>>>11),F=A+(M^(I|~R))+P[8]+1873313359&4294967295,A=I+(F<<6&4294967295|F>>>26),F=R+(I^(A|~M))+P[15]+4264355552&4294967295,R=A+(F<<10&4294967295|F>>>22),F=M+(A^(R|~I))+P[6]+2734768916&4294967295,M=R+(F<<15&4294967295|F>>>17),F=I+(R^(M|~A))+P[13]+1309151649&4294967295,I=M+(F<<21&4294967295|F>>>11),F=A+(M^(I|~R))+P[4]+4149444226&4294967295,A=I+(F<<6&4294967295|F>>>26),F=R+(I^(A|~M))+P[11]+3174756917&4294967295,R=A+(F<<10&4294967295|F>>>22),F=M+(A^(R|~I))+P[2]+718787259&4294967295,M=R+(F<<15&4294967295|F>>>17),F=I+(R^(M|~A))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(M+(F<<21&4294967295|F>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+R&4294967295}n.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var I=A-this.blockSize,P=this.B,M=this.h,R=0;R<A;){if(M==0)for(;R<=I;)s(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<A;)if(P[M++]=S.charCodeAt(R++),M==this.blockSize){s(this,P),M=0;break}}else for(;R<A;)if(P[M++]=S[R++],M==this.blockSize){s(this,P),M=0;break}}this.h=M,this.o+=A},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var I=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=I&255,I/=256;for(this.u(S),S=Array(16),A=I=0;4>A;++A)for(var P=0;32>P;P+=8)S[I++]=this.g[A]>>>P&255;return S};function a(S,A){var I=u;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=A(S)}function l(S,A){this.h=A;for(var I=[],P=!0,M=S.length-1;0<=M;M--){var R=S[M]|0;P&&R==A||(I[M]=R,P=!1)}this.g=I}var u={};function d(S){return-128<=S&&128>S?a(S,function(A){return new l([A|0],0>A?-1:0)}):new l([S|0],0>S?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return g;if(0>S)return E(h(-S));for(var A=[],I=1,P=0;S>=I;P++)A[P]=S/I|0,I*=4294967296;return new l(A,0)}function p(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return E(p(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=h(Math.pow(A,8)),P=g,M=0;M<S.length;M+=8){var R=Math.min(8,S.length-M),F=parseInt(S.substring(M,M+R),A);8>R?(R=h(Math.pow(A,R)),P=P.j(R).add(h(F))):(P=P.j(I),P=P.add(h(F)))}return P}var g=d(0),y=d(1),v=d(16777216);t=l.prototype,t.m=function(){if(w(this))return-E(this).m();for(var S=0,A=1,I=0;I<this.g.length;I++){var P=this.i(I);S+=(0<=P?P:4294967296+P)*A,A*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(w(this))return"-"+E(this).toString(S);for(var A=h(Math.pow(S,6)),I=this,P="";;){var M=L(I,A).g;I=O(I,M.j(A));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=M,_(I))return R+P;for(;6>R.length;)R="0"+R;P=R+P}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=O(this,S),w(S)?-1:_(S)?0:1};function E(S){for(var A=S.g.length,I=[],P=0;P<A;P++)I[P]=~S.g[P];return new l(I,~S.h).add(y)}t.abs=function(){return w(this)?E(this):this},t.add=function(S){for(var A=Math.max(this.g.length,S.g.length),I=[],P=0,M=0;M<=A;M++){var R=P+(this.i(M)&65535)+(S.i(M)&65535),F=(R>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);P=F>>>16,R&=65535,F&=65535,I[M]=F<<16|R}return new l(I,I[I.length-1]&-2147483648?-1:0)};function O(S,A){return S.add(E(A))}t.j=function(S){if(_(this)||_(S))return g;if(w(this))return w(S)?E(this).j(E(S)):E(E(this).j(S));if(w(S))return E(this.j(E(S)));if(0>this.l(v)&&0>S.l(v))return h(this.m()*S.m());for(var A=this.g.length+S.g.length,I=[],P=0;P<2*A;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<S.g.length;M++){var R=this.i(P)>>>16,F=this.i(P)&65535,me=S.i(M)>>>16,Te=S.i(M)&65535;I[2*P+2*M]+=F*Te,j(I,2*P+2*M),I[2*P+2*M+1]+=R*Te,j(I,2*P+2*M+1),I[2*P+2*M+1]+=F*me,j(I,2*P+2*M+1),I[2*P+2*M+2]+=R*me,j(I,2*P+2*M+2)}for(P=0;P<A;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=A;P<2*A;P++)I[P]=0;return new l(I,0)};function j(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function z(S,A){this.g=S,this.h=A}function L(S,A){if(_(A))throw Error("division by zero");if(_(S))return new z(g,g);if(w(S))return A=L(E(S),A),new z(E(A.g),E(A.h));if(w(A))return A=L(S,E(A)),new z(E(A.g),A.h);if(30<S.g.length){if(w(S)||w(A))throw Error("slowDivide_ only works with positive integers.");for(var I=y,P=A;0>=P.l(S);)I=Y(I),P=Y(P);var M=H(I,1),R=H(P,1);for(P=H(P,2),I=H(I,2);!_(P);){var F=R.add(P);0>=F.l(S)&&(M=M.add(I),R=F),P=H(P,1),I=H(I,1)}return A=O(S,M.j(A)),new z(M,A)}for(M=g;0<=S.l(A);){for(I=Math.max(1,Math.floor(S.m()/A.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),R=h(I),F=R.j(A);w(F)||0<F.l(S);)I-=P,R=h(I),F=R.j(A);_(R)&&(R=y),M=M.add(R),S=O(S,F)}return new z(M,S)}t.A=function(S){return L(this,S).h},t.and=function(S){for(var A=Math.max(this.g.length,S.g.length),I=[],P=0;P<A;P++)I[P]=this.i(P)&S.i(P);return new l(I,this.h&S.h)},t.or=function(S){for(var A=Math.max(this.g.length,S.g.length),I=[],P=0;P<A;P++)I[P]=this.i(P)|S.i(P);return new l(I,this.h|S.h)},t.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),I=[],P=0;P<A;P++)I[P]=this.i(P)^S.i(P);return new l(I,this.h^S.h)};function Y(S){for(var A=S.g.length+1,I=[],P=0;P<A;P++)I[P]=S.i(P)<<1|S.i(P-1)>>>31;return new l(I,S.h)}function H(S,A){var I=A>>5;A%=32;for(var P=S.g.length-I,M=[],R=0;R<P;R++)M[R]=0<A?S.i(R+I)>>>A|S.i(R+I+1)<<32-A:S.i(R+I);return new l(M,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,ak=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Oo=l}).apply(typeof k4<"u"?k4:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ik,Cd,ok,$f,py,lk,ck,uk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,T,C){return m==Array.prototype||m==Object.prototype||(m[T]=C.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var T=0;T<m.length;++T){var C=m[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var n=r(this);function s(m,T){if(T)e:{var C=n;m=m.split(".");for(var G=0;G<m.length-1;G++){var ye=m[G];if(!(ye in C))break e;C=C[ye]}m=m[m.length-1],G=C[m],T=T(G),T!=G&&T!=null&&e(C,m,{configurable:!0,writable:!0,value:T})}}function a(m,T){m instanceof String&&(m+="");var C=0,G=!1,ye={next:function(){if(!G&&C<m.length){var Ee=C++;return{value:T(Ee,m[Ee]),done:!1}}return G=!0,{done:!0,value:void 0}}};return ye[Symbol.iterator]=function(){return ye},ye}s("Array.prototype.values",function(m){return m||function(){return a(this,function(T,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(m){var T=typeof m;return T=T!="object"?T:m?Array.isArray(m)?"array":T:"null",T=="array"||T=="object"&&typeof m.length=="number"}function h(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function p(m,T,C){return m.call.apply(m.bind,arguments)}function g(m,T,C){if(!m)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ye,G),m.apply(T,ye)}}return function(){return m.apply(T,arguments)}}function y(m,T,C){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function v(m,T){var C=Array.prototype.slice.call(arguments,1);return function(){var G=C.slice();return G.push.apply(G,arguments),m.apply(this,G)}}function _(m,T){function C(){}C.prototype=T.prototype,m.aa=T.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(G,ye,Ee){for(var rt=Array(arguments.length-2),fr=2;fr<arguments.length;fr++)rt[fr-2]=arguments[fr];return T.prototype[ye].apply(G,rt)}}function w(m){const T=m.length;if(0<T){const C=Array(T);for(let G=0;G<T;G++)C[G]=m[G];return C}return[]}function E(m,T){for(let C=1;C<arguments.length;C++){const G=arguments[C];if(d(G)){const ye=m.length||0,Ee=G.length||0;m.length=ye+Ee;for(let rt=0;rt<Ee;rt++)m[ye+rt]=G[rt]}else m.push(G)}}class O{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function j(m){return/^[\s\xa0]*$/.test(m)}function z(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function L(m){return L[" "](m),m}L[" "]=function(){};var Y=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function H(m,T,C){for(const G in m)T.call(C,m[G],G,m)}function S(m,T){for(const C in m)T.call(void 0,m[C],C,m)}function A(m){const T={};for(const C in m)T[C]=m[C];return T}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(m,T){let C,G;for(let ye=1;ye<arguments.length;ye++){G=arguments[ye];for(C in G)m[C]=G[C];for(let Ee=0;Ee<I.length;Ee++)C=I[Ee],Object.prototype.hasOwnProperty.call(G,C)&&(m[C]=G[C])}}function M(m){var T=1;m=m.split(":");const C=[];for(;0<T&&m.length;)C.push(m.shift()),T--;return m.length&&C.push(m.join(":")),C}function R(m){u.setTimeout(()=>{throw m},0)}function F(){var m=oe;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class me{constructor(){this.h=this.g=null}add(T,C){const G=Te.get();G.set(T,C),this.h?this.h.next=G:this.g=G,this.h=G}}var Te=new O(()=>new je,m=>m.reset());class je{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,_e=!1,oe=new me,xe=()=>{const m=u.Promise.resolve(void 0);Ie=()=>{m.then(se)}};var se=()=>{for(var m;m=F();){try{m.h.call(m.g)}catch(C){R(C)}var T=Te;T.j(m),100>T.h&&(T.h++,m.next=T.g,T.g=m)}_e=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ne=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};u.addEventListener("test",C,T),u.removeEventListener("test",C,T)}catch{}return m})();function ae(m,T){if(re.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,G=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget){if(Y){e:{try{L(T.nodeName);var ye=!0;break e}catch{}ye=!1}ye||(T=null)}}else C=="mouseover"?T=m.fromElement:C=="mouseout"&&(T=m.toElement);this.relatedTarget=T,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:J[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ae.aa.h.call(this)}}_(ae,re);var J={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Ce(m,T,C,G,ye){this.listener=m,this.proxy=null,this.src=T,this.type=C,this.capture=!!G,this.ha=ye,this.key=++Ve,this.da=this.fa=!1}function Me(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function nt(m){this.src=m,this.g={},this.h=0}nt.prototype.add=function(m,T,C,G,ye){var Ee=m.toString();m=this.g[Ee],m||(m=this.g[Ee]=[],this.h++);var rt=Wt(m,T,G,ye);return-1<rt?(T=m[rt],C||(T.fa=!1)):(T=new Ce(T,this.src,Ee,!!G,ye),T.fa=C,m.push(T)),T};function mt(m,T){var C=T.type;if(C in m.g){var G=m.g[C],ye=Array.prototype.indexOf.call(G,T,void 0),Ee;(Ee=0<=ye)&&Array.prototype.splice.call(G,ye,1),Ee&&(Me(T),m.g[C].length==0&&(delete m.g[C],m.h--))}}function Wt(m,T,C,G){for(var ye=0;ye<m.length;++ye){var Ee=m[ye];if(!Ee.da&&Ee.listener==T&&Ee.capture==!!C&&Ee.ha==G)return ye}return-1}var vt="closure_lm_"+(1e6*Math.random()|0),rr={};function Dt(m,T,C,G,ye){if(Array.isArray(T)){for(var Ee=0;Ee<T.length;Ee++)Dt(m,T[Ee],C,G,ye);return null}return C=Tt(C),m&&m[De]?m.K(T,C,h(G)?!!G.capture:!1,ye):Re(m,T,C,!1,G,ye)}function Re(m,T,C,G,ye,Ee){if(!T)throw Error("Invalid event type");var rt=h(ye)?!!ye.capture:!!ye,fr=lt(m);if(fr||(m[vt]=fr=new nt(m)),C=fr.add(T,C,G,rt,Ee),C.proxy)return C;if(G=dr(),C.proxy=G,G.src=m,G.listener=C,m.addEventListener)ne||(ye=rt),ye===void 0&&(ye=!1),m.addEventListener(T.toString(),G,ye);else if(m.attachEvent)m.attachEvent(he(T.toString()),G);else if(m.addListener&&m.removeListener)m.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return C}function dr(){function m(C){return T.call(m.src,m.listener,C)}const T=Je;return m}function Mt(m,T,C,G,ye){if(Array.isArray(T))for(var Ee=0;Ee<T.length;Ee++)Mt(m,T[Ee],C,G,ye);else G=h(G)?!!G.capture:!!G,C=Tt(C),m&&m[De]?(m=m.i,T=String(T).toString(),T in m.g&&(Ee=m.g[T],C=Wt(Ee,C,G,ye),-1<C&&(Me(Ee[C]),Array.prototype.splice.call(Ee,C,1),Ee.length==0&&(delete m.g[T],m.h--)))):m&&(m=lt(m))&&(T=m.g[T.toString()],m=-1,T&&(m=Wt(T,C,G,ye)),(C=-1<m?T[m]:null)&&He(C))}function He(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[De])mt(T.i,m);else{var C=m.type,G=m.proxy;T.removeEventListener?T.removeEventListener(C,G,m.capture):T.detachEvent?T.detachEvent(he(C),G):T.addListener&&T.removeListener&&T.removeListener(G),(C=lt(T))?(mt(C,m),C.h==0&&(C.src=null,T[vt]=null)):Me(m)}}}function he(m){return m in rr?rr[m]:rr[m]="on"+m}function Je(m,T){if(m.da)m=!0;else{T=new ae(T,this);var C=m.listener,G=m.ha||m.src;m.fa&&He(m),m=C.call(G,T)}return m}function lt(m){return m=m[vt],m instanceof nt?m:null}var ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(m){return typeof m=="function"?m:(m[ft]||(m[ft]=function(T){return m.handleEvent(T)}),m[ft])}function dt(){U.call(this),this.i=new nt(this),this.M=this,this.F=null}_(dt,U),dt.prototype[De]=!0,dt.prototype.removeEventListener=function(m,T,C,G){Mt(this,m,T,C,G)};function St(m,T){var C,G=m.F;if(G)for(C=[];G;G=G.F)C.push(G);if(m=m.M,G=T.type||T,typeof T=="string")T=new re(T,m);else if(T instanceof re)T.target=T.target||m;else{var ye=T;T=new re(G,m),P(T,ye)}if(ye=!0,C)for(var Ee=C.length-1;0<=Ee;Ee--){var rt=T.g=C[Ee];ye=ct(rt,G,!0,T)&&ye}if(rt=T.g=m,ye=ct(rt,G,!0,T)&&ye,ye=ct(rt,G,!1,T)&&ye,C)for(Ee=0;Ee<C.length;Ee++)rt=T.g=C[Ee],ye=ct(rt,G,!1,T)&&ye}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var m=this.i,T;for(T in m.g){for(var C=m.g[T],G=0;G<C.length;G++)Me(C[G]);delete m.g[T],m.h--}}this.F=null},dt.prototype.K=function(m,T,C,G){return this.i.add(String(m),T,!1,C,G)},dt.prototype.L=function(m,T,C,G){return this.i.add(String(m),T,!0,C,G)};function ct(m,T,C,G){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();for(var ye=!0,Ee=0;Ee<T.length;++Ee){var rt=T[Ee];if(rt&&!rt.da&&rt.capture==C){var fr=rt.listener,cn=rt.ha||rt.src;rt.fa&&mt(m.i,rt),ye=fr.call(cn,G)!==!1&&ye}}return ye&&!G.defaultPrevented}function wr(m,T,C){if(typeof m=="function")C&&(m=y(m,C));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:u.setTimeout(m,T||0)}function Q(m){m.g=wr(()=>{m.g=null,m.i&&(m.i=!1,Q(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Ne extends U{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ht(m){U.call(this),this.h=m,this.g={}}_(ht,U);var pe=[];function ke(m){H(m.g,function(T,C){this.g.hasOwnProperty(C)&&He(T)},m),m.g={}}ht.prototype.N=function(){ht.aa.N.call(this),ke(this)},ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pe=u.JSON.stringify,Qe=u.JSON.parse,xt=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function Nt(){}Nt.prototype.h=null;function st(m){return m.h||(m.h=m.i())}function it(){}var Ze={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Et(){re.call(this,"d")}_(Et,re);function $t(){re.call(this,"c")}_($t,re);var qt={},Pr=null;function Rr(){return Pr=Pr||new dt}qt.La="serverreachability";function mn(m){re.call(this,qt.La,m)}_(mn,re);function hr(m){const T=Rr();St(T,new mn(T))}qt.STAT_EVENT="statevent";function zn(m,T){re.call(this,qt.STAT_EVENT,m),this.stat=T}_(zn,re);function lr(m){const T=Rr();St(T,new zn(T,m))}qt.Ma="timingevent";function kn(m,T){re.call(this,qt.Ma,m),this.size=T}_(kn,re);function _r(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},T)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function Zr(m,T,C,G,ye,Ee){m.info(function(){if(m.g)if(Ee)for(var rt="",fr=Ee.split("&"),cn=0;cn<fr.length;cn++){var Qt=fr[cn].split("=");if(1<Qt.length){var xn=Qt[0];Qt=Qt[1];var en=xn.split("_");rt=2<=en.length&&en[1]=="type"?rt+(xn+"="+Qt+"&"):rt+(xn+"=redacted&")}}else rt=null;else rt=Ee;return"XMLHTTP REQ ("+G+") [attempt "+ye+"]: "+T+`
`+C+`
`+rt})}function ln(m,T,C,G,ye,Ee,rt){m.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ye+"]: "+T+`
`+C+`
`+Ee+" "+rt})}function B(m,T,C,G){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+q(m,C)+(G?" "+G:"")})}function Z(m,T){m.info(function(){return"TIMEOUT: "+T})}gn.prototype.info=function(){};function q(m,T){if(!m.g)return T;if(!T)return null;try{var C=JSON.parse(T);if(C){for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var G=C[m];if(!(2>G.length)){var ye=G[1];if(Array.isArray(ye)&&!(1>ye.length)){var Ee=ye[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(var rt=1;rt<ye.length;rt++)ye[rt]=""}}}}return Pe(C)}catch{return T}}var K={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},te={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},D;function X(){}_(X,Nt),X.prototype.g=function(){return new XMLHttpRequest},X.prototype.i=function(){return{}},D=new X;function ce(m,T,C,G){this.j=m,this.i=T,this.l=C,this.R=G||1,this.U=new ht(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var de={},ge={};function Le(m,T,C){m.L=1,m.v=no(js(T)),m.m=C,m.P=!0,ze(m,null)}function ze(m,T){m.F=Date.now(),Be(m),m.A=js(m.v);var C=m.A,G=m.R;Array.isArray(G)||(G=[String(G)]),ao(C.i,"t",G),m.C=0,C=m.j.J,m.h=new le,m.g=xh(m.j,C?T:null,!m.m),0<m.O&&(m.M=new Ne(y(m.Y,m,m.g),m.O)),T=m.U,C=m.g,G=m.ca;var ye="readystatechange";Array.isArray(ye)||(ye&&(pe[0]=ye.toString()),ye=pe);for(var Ee=0;Ee<ye.length;Ee++){var rt=Dt(C,ye[Ee],G||T.handleEvent,!1,T.h||T);if(!rt)break;T.g[rt.key]=rt}T=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,T)):(m.u="GET",m.g.ea(m.A,m.u,null,T)),hr(),Zr(m.i,m.u,m.A,m.l,m.R,m.m)}ce.prototype.ca=function(m){m=m.target;const T=this.M;T&&ps(m)==3?T.j():this.Y(m)},ce.prototype.Y=function(m){try{if(m==this.g)e:{const en=ps(this.g);var T=this.g.Ba();const Ks=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||Xu(this.g)))){this.J||en!=4||T==7||(T==8||0>=Ks?hr(3):hr(2)),Ut(this);var C=this.g.Z();this.X=C;t:if(Ye(this)){var G=Xu(this.g);m="";var ye=G.length,Ee=ps(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),Bt(this);var rt="";break t}this.h.i=new u.TextDecoder}for(T=0;T<ye;T++)this.h.h=!0,m+=this.h.i.decode(G[T],{stream:!(Ee&&T==ye-1)});G.length=0,this.h.g+=m,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=C==200,ln(this.i,this.u,this.A,this.l,this.R,en,C),this.o){if(this.T&&!this.K){t:{if(this.g){var fr,cn=this.g;if((fr=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(fr)){var Qt=fr;break t}}Qt=null}if(C=Qt)B(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ns(this,C);else{this.o=!1,this.s=3,lr(12),nr(this),Bt(this);break e}}if(this.P){C=!0;let Ps;for(;!this.J&&this.C<rt.length;)if(Ps=Oe(this,rt),Ps==ge){en==4&&(this.s=4,lr(14),C=!1),B(this.i,this.l,null,"[Incomplete Response]");break}else if(Ps==de){this.s=4,lr(15),B(this.i,this.l,rt,"[Invalid Chunk]"),C=!1;break}else B(this.i,this.l,Ps,null),ns(this,Ps);if(Ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||rt.length!=0||this.h.h||(this.s=1,lr(16),C=!1),this.o=this.o&&C,!C)B(this.i,this.l,rt,"[Invalid Chunked Response]"),nr(this),Bt(this);else if(0<rt.length&&!this.W){this.W=!0;var xn=this.j;xn.g==this&&xn.ba&&!xn.M&&(xn.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),Ju(xn),xn.M=!0,lr(11))}}else B(this.i,this.l,rt,null),ns(this,rt);en==4&&nr(this),this.o&&!this.J&&(en==4?bc(this.j,this):(this.o=!1,Be(this)))}else mc(this.g),C==400&&0<rt.indexOf("Unknown SID")?(this.s=3,lr(12)):(this.s=0,lr(13)),nr(this),Bt(this)}}}catch{}finally{}};function Ye(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Oe(m,T){var C=m.C,G=T.indexOf(`
`,C);return G==-1?ge:(C=Number(T.substring(C,G)),isNaN(C)?de:(G+=1,G+C>T.length?ge:(T=T.slice(G,G+C),m.C=G+C,T)))}ce.prototype.cancel=function(){this.J=!0,nr(this)};function Be(m){m.S=Date.now()+m.I,kt(m,m.I)}function kt(m,T){if(m.B!=null)throw Error("WatchDog timer not null");m.B=_r(y(m.ba,m),T)}function Ut(m){m.B&&(u.clearTimeout(m.B),m.B=null)}ce.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Z(this.i,this.A),this.L!=2&&(hr(),lr(17)),nr(this),this.s=2,Bt(this)):kt(this,this.S-m)};function Bt(m){m.j.G==0||m.J||bc(m.j,m)}function nr(m){Ut(m);var T=m.M;T&&typeof T.ma=="function"&&T.ma(),m.M=null,ke(m.U),m.g&&(T=m.g,m.g=null,T.abort(),T.ma())}function ns(m,T){try{var C=m.j;if(C.G!=0&&(C.g==m||Er(C.h,m))){if(!m.K&&Er(C.h,m)&&C.G==3){try{var G=C.Da.g.parse(T)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ye=G;if(ye[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<m.F)vc(C),ma(C);else break e;yc(C),lr(18)}}else C.za=ye[1],0<C.za-C.T&&37500>ye[2]&&C.F&&C.v==0&&!C.C&&(C.C=_r(y(C.Za,C),6e3));if(1>=Va(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else wi(C,11)}else if((m.K||C.g==m)&&vc(C),!j(T))for(ye=C.Da.g.parse(T),T=0;T<ye.length;T++){let Qt=ye[T];if(C.T=Qt[0],Qt=Qt[1],C.G==2)if(Qt[0]=="c"){C.K=Qt[1],C.ia=Qt[2];const xn=Qt[3];xn!=null&&(C.la=xn,C.j.info("VER="+C.la));const en=Qt[4];en!=null&&(C.Aa=en,C.j.info("SVER="+C.Aa));const Ks=Qt[5];Ks!=null&&typeof Ks=="number"&&0<Ks&&(G=1.5*Ks,C.L=G,C.j.info("backChannelRequestTimeoutMs_="+G)),G=C;const Ps=m.g;if(Ps){const cl=Ps.g?Ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cl){var Ee=G.h;Ee.g||cl.indexOf("spdy")==-1&&cl.indexOf("quic")==-1&&cl.indexOf("h2")==-1||(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(gi(Ee,Ee.h),Ee.h=null))}if(G.D){const _c=Ps.g?Ps.g.getResponseHeader("X-HTTP-Session-Id"):null;_c&&(G.ya=_c,Tr(G.I,G.D,_c))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms")),G=C;var rt=m;if(G.qa=gh(G,G.J?G.ia:null,G.W),rt.K){uc(G.h,rt);var fr=rt,cn=G.L;cn&&(fr.I=cn),fr.B&&(Ut(fr),Be(fr)),G.g=rt}else ll(G);0<C.i.length&&za(C)}else Qt[0]!="stop"&&Qt[0]!="close"||wi(C,7);else C.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?wi(C,7):Sn(C):Qt[0]!="noop"&&C.l&&C.l.ta(Qt),C.v=0)}}hr(4)}catch{}}var Hn=class{constructor(m,T){this.g=m,this.map=T}};function Wn(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Va(m){return m.h?1:m.g?m.g.size:0}function Er(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function gi(m,T){m.g?m.g.add(T):m.h=T}function uc(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}Wn.prototype.cancel=function(){if(this.i=dc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function dc(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const C of m.g.values())T=T.concat(C.D);return T}return w(m.i)}function Ji(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var T=[],C=m.length,G=0;G<C;G++)T.push(m[G]);return T}T=[],C=0;for(G in m)T[C++]=m[G];return T}function Zi(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var T=[];m=m.length;for(var C=0;C<m;C++)T.push(C);return T}T=[],C=0;for(const G in m)T[C++]=G;return T}}}function eo(m,T){if(m.forEach&&typeof m.forEach=="function")m.forEach(T,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,T,void 0);else for(var C=Zi(m),G=Ji(m),ye=G.length,Ee=0;Ee<ye;Ee++)T.call(void 0,G[Ee],C&&C[Ee],m)}var sl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zm(m,T){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var G=m[C].indexOf("="),ye=null;if(0<=G){var Ee=m[C].substring(0,G);ye=m[C].substring(G+1)}else Ee=m[C];T(Ee,ye?decodeURIComponent(ye.replace(/\+/g," ")):"")}}}function xi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof xi){this.h=m.h,al(this,m.j),this.o=m.o,this.g=m.g,to(this,m.s),this.l=m.l;var T=m.i,C=new $a;C.i=T.i,T.g&&(C.g=new Map(T.g),C.h=T.h),ro(this,C),this.m=m.m}else m&&(T=String(m).match(sl))?(this.h=!1,al(this,T[1]||"",!0),this.o=Xt(T[2]||""),this.g=Xt(T[3]||"",!0),to(this,T[4]),this.l=Xt(T[5]||"",!0),ro(this,T[6]||"",!0),this.m=Xt(T[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}xi.prototype.toString=function(){var m=[],T=this.j;T&&m.push(so(T,hc,!0),":");var C=this.g;return(C||T=="file")&&(m.push("//"),(T=this.o)&&m.push(so(T,hc,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&m.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(so(C,C.charAt(0)=="/"?lh:oh,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",so(C,qu)),m.join("")};function js(m){return new xi(m)}function al(m,T,C){m.j=C?Xt(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function to(m,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);m.s=T}else m.s=null}function ro(m,T,C){T instanceof $a?(m.i=T,Ba(m.i,m.h)):(C||(T=so(T,ch)),m.i=new $a(T,m.h))}function Tr(m,T,C){m.i.set(T,C)}function no(m){return Tr(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Xt(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function so(m,T,C){return typeof m=="string"?(m=encodeURI(m).replace(T,ih),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ih(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var hc=/[#\/\?@]/g,oh=/[#\?:]/g,lh=/[#\?]/g,ch=/[#\?@]/g,qu=/#/g;function $a(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function An(m){m.g||(m.g=new Map,m.h=0,m.i&&zm(m.i,function(T,C){m.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}t=$a.prototype,t.add=function(m,T){An(this),this.i=null,m=qs(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(T),this.h+=1,this};function da(m,T){An(m),T=qs(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function ha(m,T){return An(m),T=qs(m,T),m.g.has(T)}t.forEach=function(m,T){An(this),this.g.forEach(function(C,G){C.forEach(function(ye){m.call(T,ye,G,this)},this)},this)},t.na=function(){An(this);const m=Array.from(this.g.values()),T=Array.from(this.g.keys()),C=[];for(let G=0;G<T.length;G++){const ye=m[G];for(let Ee=0;Ee<ye.length;Ee++)C.push(T[G])}return C},t.V=function(m){An(this);let T=[];if(typeof m=="string")ha(this,m)&&(T=T.concat(this.g.get(qs(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)T=T.concat(m[C])}return T},t.set=function(m,T){return An(this),this.i=null,m=qs(this,m),ha(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=this.V(m),0<m.length?String(m[0]):T):T};function ao(m,T,C){da(m,T),0<C.length&&(m.i=null,m.g.set(qs(m,T),w(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(var C=0;C<T.length;C++){var G=T[C];const Ee=encodeURIComponent(String(G)),rt=this.V(G);for(G=0;G<rt.length;G++){var ye=Ee;rt[G]!==""&&(ye+="="+encodeURIComponent(String(rt[G]))),m.push(ye)}}return this.i=m.join("&")};function qs(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function Ba(m,T){T&&!m.j&&(An(m),m.i=null,m.g.forEach(function(C,G){var ye=G.toLowerCase();G!=ye&&(da(this,G),ao(this,ye,C))},m)),m.j=T}function Hm(m,T){const C=new gn;if(u.Image){const G=new Image;G.onload=v(fs,C,"TestLoadImage: loaded",!0,T,G),G.onerror=v(fs,C,"TestLoadImage: error",!1,T,G),G.onabort=v(fs,C,"TestLoadImage: abort",!1,T,G),G.ontimeout=v(fs,C,"TestLoadImage: timeout",!1,T,G),u.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=m}else T(!1)}function uh(m,T){const C=new gn,G=new AbortController,ye=setTimeout(()=>{G.abort(),fs(C,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:G.signal}).then(Ee=>{clearTimeout(ye),Ee.ok?fs(C,"TestPingServer: ok",!0,T):fs(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ye),fs(C,"TestPingServer: error",!1,T)})}function fs(m,T,C,G,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),G(C)}catch{}}function Wm(){this.g=new xt}function dh(m,T,C){const G=C||"";try{eo(m,function(ye,Ee){let rt=ye;h(ye)&&(rt=Pe(ye)),T.push(G+Ee+"="+encodeURIComponent(rt))})}catch(ye){throw T.push(G+"type="+encodeURIComponent("_badmap")),ye}}function yi(m){this.l=m.Ub||null,this.j=m.eb||!1}_(yi,Nt),yi.prototype.g=function(){return new il(this.l,this.j)},yi.prototype.i=(function(m){return function(){return m}})({});function il(m,T){dt.call(this),this.D=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(il,dt),t=il.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=T,this.readyState=1,pa(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(T.body=m),(this.D||u).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fa(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,pa(this)),this.g&&(this.readyState=3,pa(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function hh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?fa(this):pa(this),this.readyState==3&&hh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,fa(this))},t.Qa=function(m){this.g&&(this.response=m,fa(this))},t.ga=function(){this.g&&fa(this)};function fa(m){m.readyState=4,m.l=null,m.j=null,m.v=null,pa(m)}t.setRequestHeader=function(m,T){this.u.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=T.next();return m.join(`\r
`)};function pa(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function vi(m){let T="";return H(m,function(C,G){T+=G,T+=":",T+=C,T+=`\r
`}),T}function io(m,T,C){e:{for(G in C){var G=!1;break e}G=!0}G||(C=vi(C),typeof m=="string"?C!=null&&encodeURIComponent(String(C)):Tr(m,T,C))}function Dr(m){dt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Dr,dt);var Gm=/^https?$/i,Ku=["POST","PUT"];t=Dr.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,T,C,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():D.g(),this.v=this.o?st(this.o):st(D),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(Ee){ol(this,Ee);return}if(m=C||"",C=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ye in G)C.set(ye,G[ye]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const Ee of G.keys())C.set(Ee,G.get(Ee));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(C.keys()).find(Ee=>Ee.toLowerCase()=="content-type"),ye=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ku,T,void 0))||G||ye||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ee,rt]of C)this.g.setRequestHeader(Ee,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pc(this),this.u=!0,this.g.send(m),this.u=!1}catch(Ee){ol(this,Ee)}};function ol(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.m=5,fc(m),Is(m)}function fc(m){m.A||(m.A=!0,St(m,"complete"),St(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,St(this,"complete"),St(this,"abort"),Is(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Is(this,!0)),Dr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Yu(this):this.bb())},t.bb=function(){Yu(this)};function Yu(m){if(m.h&&typeof l<"u"&&(!m.v[1]||ps(m)!=4||m.Z()!=2)){if(m.u&&ps(m)==4)wr(m.Ea,0,m);else if(St(m,"readystatechange"),ps(m)==4){m.h=!1;try{const rt=m.Z();e:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var C;if(!(C=T)){var G;if(G=rt===0){var ye=String(m.D).match(sl)[1]||null;!ye&&u.self&&u.self.location&&(ye=u.self.location.protocol.slice(0,-1)),G=!Gm.test(ye?ye.toLowerCase():"")}C=G}if(C)St(m,"complete"),St(m,"success");else{m.m=6;try{var Ee=2<ps(m)?m.g.statusText:""}catch{Ee=""}m.l=Ee+" ["+m.Z()+"]",fc(m)}}finally{Is(m)}}}}function Is(m,T){if(m.g){pc(m);const C=m.g,G=m.v[0]?()=>{}:null;m.g=null,m.v=null,T||St(m,"ready");try{C.onreadystatechange=G}catch{}}}function pc(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ps(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ps(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Qe(T)}};function Xu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function mc(m){const T={};m=(m.g&&2<=ps(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<m.length;G++){if(j(m[G]))continue;var C=M(m[G]);const ye=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const Ee=T[ye]||[];T[ye]=Ee,Ee.push(C)}S(T,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(m,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||T}function Qu(m){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,m),this.cb=Ua("retryDelaySeedMs",1e4,m),this.Wa=Ua("forwardChannelMaxRetries",2,m),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Wn(m&&m.concurrentRequestLimit),this.Da=new Wm,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qu.prototype,t.la=8,t.G=1,t.connect=function(m,T,C,G){lr(0),this.W=m,this.H=T||{},C&&G!==void 0&&(this.H.OSID=C,this.H.OAID=G),this.F=this.X,this.I=gh(this,null,this.W),za(this)};function Sn(m){if(gc(m),m.G==3){var T=m.U++,C=js(m.I);if(Tr(C,"SID",m.K),Tr(C,"RID",T),Tr(C,"TYPE","terminate"),bi(m,C),T=new ce(m,m.j,T),T.L=2,T.v=no(js(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(T.v.toString(),"")}catch{}!C&&u.Image&&(new Image().src=T.v,C=!0),C||(T.g=xh(T.j,null),T.g.ea(T.v)),T.F=Date.now(),Be(T)}mh(m)}function ma(m){m.g&&(Ju(m),m.g.cancel(),m.g=null)}function gc(m){ma(m),m.u&&(u.clearTimeout(m.u),m.u=null),vc(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function za(m){if(!Lr(m.h)&&!m.s){m.s=!0;var T=m.Ga;Ie||xe(),_e||(Ie(),_e=!0),oe.add(T,m),m.B=0}}function qm(m,T){return Va(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=T.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=_r(y(m.Ga,m,T),ph(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ye=new ce(this,this.j,m);let Ee=this.o;if(this.S&&(Ee?(Ee=A(Ee),P(Ee,this.S)):Ee=this.S),this.m!==null||this.O||(ye.H=Ee,Ee=null),this.P)e:{for(var T=0,C=0;C<this.i.length;C++){t:{var G=this.i[C];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(T+=G,4096<T){T=C;break e}if(T===4096||C===this.i.length-1){T=C+1;break e}}T=1e3}else T=1e3;T=oo(this,ye,T),C=js(this.I),Tr(C,"RID",m),Tr(C,"CVER",22),this.D&&Tr(C,"X-HTTP-Session-Id",this.D),bi(this,C),Ee&&(this.O?T="headers="+encodeURIComponent(String(vi(Ee)))+"&"+T:this.m&&io(C,this.m,Ee)),gi(this.h,ye),this.Ua&&Tr(C,"TYPE","init"),this.P?(Tr(C,"$req",T),Tr(C,"SID","null"),ye.T=!0,Le(ye,C,null)):Le(ye,C,T),this.G=2}}else this.G==3&&(m?xc(this,m):this.i.length==0||Lr(this.h)||xc(this))};function xc(m,T){var C;T?C=T.l:C=m.U++;const G=js(m.I);Tr(G,"SID",m.K),Tr(G,"RID",C),Tr(G,"AID",m.T),bi(m,G),m.m&&m.o&&io(G,m.m,m.o),C=new ce(m,m.j,C,m.B+1),m.m===null&&(C.H=m.o),T&&(m.i=T.D.concat(m.i)),T=oo(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),gi(m.h,C),Le(C,G,T)}function bi(m,T){m.H&&H(m.H,function(C,G){Tr(T,G,C)}),m.l&&eo({},function(C,G){Tr(T,G,C)})}function oo(m,T,C){C=Math.min(m.i.length,C);var G=m.l?y(m.l.Na,m.l,m):null;e:{var ye=m.i;let Ee=-1;for(;;){const rt=["count="+C];Ee==-1?0<C?(Ee=ye[0].g,rt.push("ofs="+Ee)):Ee=0:rt.push("ofs="+Ee);let fr=!0;for(let cn=0;cn<C;cn++){let Qt=ye[cn].g;const xn=ye[cn].map;if(Qt-=Ee,0>Qt)Ee=Math.max(0,ye[cn].g-100),fr=!1;else try{dh(xn,rt,"req"+Qt+"_")}catch{G&&G(xn)}}if(fr){G=rt.join("&");break e}}}return m=m.i.splice(0,C),T.D=m,G}function ll(m){if(!m.g&&!m.u){m.Y=1;var T=m.Fa;Ie||xe(),_e||(Ie(),_e=!0),oe.add(T,m),m.v=0}}function yc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=_r(y(m.Fa,m),ph(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,fh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=_r(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lr(10),ma(this),fh(this))};function Ju(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function fh(m){m.g=new ce(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var T=js(m.qa);Tr(T,"RID","rpc"),Tr(T,"SID",m.K),Tr(T,"AID",m.T),Tr(T,"CI",m.F?"0":"1"),!m.F&&m.ja&&Tr(T,"TO",m.ja),Tr(T,"TYPE","xmlhttp"),bi(m,T),m.m&&m.o&&io(T,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=no(js(T)),C.m=null,C.P=!0,ze(C,m)}t.Za=function(){this.C!=null&&(this.C=null,ma(this),yc(this),lr(19))};function vc(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function bc(m,T){var C=null;if(m.g==T){vc(m),Ju(m),m.g=null;var G=2}else if(Er(m.h,T))C=T.D,uc(m.h,T),G=1;else return;if(m.G!=0){if(T.o)if(G==1){C=T.m?T.m.length:0,T=Date.now()-T.F;var ye=m.B;G=Rr(),St(G,new kn(G,C)),za(m)}else ll(m);else if(ye=T.s,ye==3||ye==0&&0<T.X||!(G==1&&qm(m,T)||G==2&&yc(m)))switch(C&&0<C.length&&(T=m.h,T.i=T.i.concat(C)),ye){case 1:wi(m,5);break;case 4:wi(m,10);break;case 3:wi(m,6);break;default:wi(m,2)}}}function ph(m,T){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*T}function wi(m,T){if(m.j.info("Error code "+T),T==2){var C=y(m.fb,m),G=m.Xa;const ye=!G;G=new xi(G||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||al(G,"https"),no(G),ye?Hm(G.toString(),C):uh(G.toString(),C)}else lr(2);m.G=0,m.l&&m.l.sa(T),mh(m),gc(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),lr(2)):(this.j.info("Failed to ping google.com"),lr(1))};function mh(m){if(m.G=0,m.ka=[],m.l){const T=dc(m.h);(T.length!=0||m.i.length!=0)&&(E(m.ka,T),E(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function gh(m,T,C){var G=C instanceof xi?js(C):new xi(C);if(G.g!="")T&&(G.g=T+"."+G.g),to(G,G.s);else{var ye=u.location;G=ye.protocol,T=T?T+"."+ye.hostname:ye.hostname,ye=+ye.port;var Ee=new xi(null);G&&al(Ee,G),T&&(Ee.g=T),ye&&to(Ee,ye),C&&(Ee.l=C),G=Ee}return C=m.D,T=m.ya,C&&T&&Tr(G,C,T),Tr(G,"VER",m.la),bi(m,G),G}function xh(m,T,C){if(T&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Ca&&!m.pa?new Dr(new yi({eb:C})):new Dr(m.pa),T.Ha(m.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}t=Zu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wc(){}wc.prototype.g=function(m,T){return new ss(m,T)};function ss(m,T){dt.call(this),this.g=new Qu(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(m?m["X-WebChannel-Client-Profile"]=T.va:m={"X-WebChannel-Client-Profile":T.va}),this.g.S=m,(m=T&&T.Sb)&&!j(m)&&(this.g.m=m),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!j(T)&&(this.g.D=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Ha(this)}_(ss,dt),ss.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ss.prototype.close=function(){Sn(this.g)},ss.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.u&&(C={},C.__data__=Pe(m),m=C);T.i.push(new Hn(T.Ya++,m)),T.G==3&&za(T)},ss.prototype.N=function(){this.g.l=null,delete this.j,Sn(this.g),delete this.g,ss.aa.N.call(this)};function yh(m){Et.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const C in T){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}_(yh,Et);function vh(){$t.call(this),this.status=1}_(vh,$t);function Ha(m){this.g=m}_(Ha,Zu),Ha.prototype.ua=function(){St(this.g,"a")},Ha.prototype.ta=function(m){St(this.g,new yh(m))},Ha.prototype.sa=function(m){St(this.g,new vh)},Ha.prototype.ra=function(){St(this.g,"b")},wc.prototype.createWebChannel=wc.prototype.g,ss.prototype.send=ss.prototype.o,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,uk=function(){return new wc},ck=function(){return Rr()},lk=qt,py={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,$f=K,te.COMPLETE="complete",ok=te,it.EventType=Ze,Ze.OPEN="a",Ze.CLOSE="b",Ze.ERROR="c",Ze.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Cd=it,Dr.prototype.listenOnce=Dr.prototype.L,Dr.prototype.getLastError=Dr.prototype.Ka,Dr.prototype.getLastErrorCode=Dr.prototype.Ba,Dr.prototype.getStatus=Dr.prototype.Z,Dr.prototype.getResponseJson=Dr.prototype.Oa,Dr.prototype.getResponseText=Dr.prototype.oa,Dr.prototype.send=Dr.prototype.ea,Dr.prototype.setWithCredentials=Dr.prototype.Ha,ik=Dr}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});const A4="@firebase/firestore",S4="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Zp("@firebase/firestore");function qc(){return Fl.logLevel}function pt(t,...e){if(Fl.logLevel<=Kt.DEBUG){const r=e.map(Nv);Fl.debug(`Firestore (${Du}): ${t}`,...r)}}function zi(t,...e){if(Fl.logLevel<=Kt.ERROR){const r=e.map(Nv);Fl.error(`Firestore (${Du}): ${t}`,...r)}}function pu(t,...e){if(Fl.logLevel<=Kt.WARN){const r=e.map(Nv);Fl.warn(`Firestore (${Du}): ${t}`,...r)}}function Nv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t="Unexpected state"){const e=`FIRESTORE (${Du}) INTERNAL ASSERTION FAILED: `+t;throw zi(e),new Error(e)}function er(t,e){t||It()}function Lt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ca{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Jn.UNAUTHENTICATED)))}shutdown(){}}class qD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class KD{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){er(this.o===void 0);let n=this.i;const s=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let a=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ei,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ei)}}),0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(er(typeof n.accessToken=="string"),new dk(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return er(e===null||typeof e=="string"),new Jn(e)}}class YD{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class XD{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new YD(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(Jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QD{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,$s(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){er(this.o===void 0);const n=a=>{a.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,pt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const s=a=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new C4(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(er(typeof r.token=="string"),this.R=r.token,new C4(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=JD(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<r&&(n+=e.charAt(s[a]%62))}return n}}function Ht(t,e){return t<e?-1:t>e?1:0}function my(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),s=e.codePointAt(r);if(n!==s){if(n<128&&s<128)return Ht(n,s);{const a=hk(),l=ZD(a.encode(j4(t,r)),a.encode(j4(e,r)));return l!==0?l:Ht(n,s)}}r+=n>65535?2:1}return Ht(t.length,e.length)}function j4(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ZD(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Ht(t[r],e[r]);return Ht(t.length,e.length)}function mu(t,e,r){return t.length===e.length&&t.every(((n,s)=>r(n,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=-62135596800,P4=1e6;class br{static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*P4);return new br(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ot(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ot(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<I4)throw new ot(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P4}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-I4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new br(0,0))}static max(){return new Pt(new br(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="__name__";class Qa{constructor(e,r,n){r===void 0?r=0:r>e.length&&It(),n===void 0?n=e.length-r:n>e.length-r&&It(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Qa.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Qa?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const a=Qa.compareSegments(e.get(s),r.get(s));if(a!==0)return a}return Ht(e.length,r.length)}static compareSegments(e,r){const n=Qa.isNumericId(e),s=Qa.isNumericId(r);return n&&!s?-1:!n&&s?1:n&&s?Qa.extractNumericId(e).compare(Qa.extractNumericId(r)):my(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oo.fromString(e.substring(4,e.length-2))}}class Nr extends Qa{construct(e,r,n){return new Nr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ot(Fe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((s=>s.length>0)))}return new Nr(r)}static emptyPath(){return new Nr([])}}const e9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends Qa{construct(e,r,n){return new On(e,r,n)}static isValidIdentifier(e){return e9.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R4}static keyField(){return new On([R4])}static fromServerFormat(e){const r=[];let n="",s=0;const a=()=>{if(n.length===0)throw new ot(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ot(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ot(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(n+=u,s++):(a(),s++)}if(a(),l)throw new ot(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new On(r)}static emptyPath(){return new On([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.path=e}static fromPath(e){return new At(Nr.fromString(e))}static fromName(e){return new At(Nr.fromString(e).popFirst(5))}static empty(){return new At(Nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Nr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new Nr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=-1;function t9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Pt.fromTimestamp(n===1e9?new br(r+1,0):new br(r,n));return new Vo(s,At.empty(),e)}function r9(t){return new Vo(t.readTime,t.key,s0)}class Vo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Vo(Pt.min(),At.empty(),s0)}static max(){return new Vo(Pt.max(),At.empty(),s0)}}function n9(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=At.comparator(t.documentKey,e.documentKey),r!==0?r:Ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(t){if(t.code!==Fe.FAILED_PRECONDITION||t.message!==s9)throw t;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new $e(((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,s)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof $e?r:$e.resolve(r)}catch(r){return $e.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):$e.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):$e.reject(r)}static resolve(e){return new $e(((r,n)=>{r(e)}))}static reject(e){return new $e(((r,n)=>{n(e)}))}static waitFor(e){return new $e(((r,n)=>{let s=0,a=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++a,l&&a===s&&r()}),(d=>n(d)))})),l=!0,a===s&&r()}))}static or(e){let r=$e.resolve(!1);for(const n of e)r=r.next((s=>s?$e.resolve(s):n()));return r}static forEach(e,r){const n=[];return e.forEach(((s,a)=>{n.push(r.call(this,s,a))})),this.waitFor(n)}static mapArray(e,r){return new $e(((n,s)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const h=d;r(e[h]).next((p=>{l[h]=p,++u,u===a&&n(l)}),(p=>s(p)))}}))}static doWhile(e,r){return new $e(((n,s)=>{const a=()=>{e()===!0?r().next((()=>{a()}),s):n()};a()}))}}function i9(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Fu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}sm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=-1;function M0(t){return t==null}function ip(t){return t===0&&1/t==-1/0}function o9(t){return typeof t=="number"&&Number.isInteger(t)&&!ip(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="";function l9(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=D4(e)),e=c9(t.get(r),e);return D4(e)}function c9(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const a=t.charAt(s);switch(a){case"\0":r+="";break;case pk:r+="";break;default:r+=a}}return r}function D4(t){return t+pk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function el(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function mk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,r){this.comparator=e,this.root=r||Dn.EMPTY}insert(e,r){return new zr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xf(this.root,e,this.comparator,!0)}}class xf{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,r,n,s,a){this.key=e,this.value=r,this.color=n??Dn.RED,this.left=s??Dn.EMPTY,this.right=a??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,a){return new Dn(e??this.key,r??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const a=n(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,r,n),null):a===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return Dn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(e,r,n,s,a){return this}insert(e,r,n){return new Dn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new F4(this.data.getIterator())}getIteratorFrom(e){return new F4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new fn(this.comparator);return r.data=e,r}}class F4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new Bs([])}unionWith(e){let r=new fn(On.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Bs(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return mu(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new gk("Invalid base64 string: "+a):a}})(e);return new Bn(r)}static fromUint8Array(e){const r=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new Bn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const u9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $o(t){if(er(!!t),typeof t=="string"){let e=0;const r=u9.exec(t);if(er(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Qr(t.seconds),nanos:Qr(t.nanos)}}function Qr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bo(t){return typeof t=="string"?Bn.fromBase64String(t):Bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="server_timestamp",yk="__type__",vk="__previous_value__",bk="__local_write_time__";function Av(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[yk])===null||r===void 0?void 0:r.stringValue)===xk}function am(t){const e=t.mapValue.fields[vk];return Av(e)?am(e):e}function a0(t){const e=$o(t.mapValue.fields[bk].timestampValue);return new br(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,r,n,s,a,l,u,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const op="(default)";class i0{constructor(e,r){this.projectId=e,this.database=r||op}static empty(){return new i0("","")}get isDefaultDatabase(){return this.database===op}isEqual(e){return e instanceof i0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="__type__",h9="__max__",yf={mapValue:{}},_k="__vector__",lp="value";function Uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Av(t)?4:p9(t)?9007199254740991:f9(t)?10:11:It()}function li(t,e){if(t===e)return!0;const r=Uo(t);if(r!==Uo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return a0(t).isEqual(a0(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=$o(s.timestampValue),u=$o(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return Bo(s.bytesValue).isEqual(Bo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return Qr(s.geoPointValue.latitude)===Qr(a.geoPointValue.latitude)&&Qr(s.geoPointValue.longitude)===Qr(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Qr(s.integerValue)===Qr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Qr(s.doubleValue),u=Qr(a.doubleValue);return l===u?ip(l)===ip(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return mu(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(O4(l)!==O4(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!li(l[d],u[d])))return!1;return!0})(t,e);default:return It()}}function o0(t,e){return(t.values||[]).find((r=>li(r,e)))!==void 0}function gu(t,e){if(t===e)return 0;const r=Uo(t),n=Uo(e);if(r!==n)return Ht(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ht(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=Qr(a.integerValue||a.doubleValue),d=Qr(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return L4(t.timestampValue,e.timestampValue);case 4:return L4(a0(t),a0(e));case 5:return my(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=Bo(a),d=Bo(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=Ht(u[h],d[h]);if(p!==0)return p}return Ht(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Ht(Qr(a.latitude),Qr(l.latitude));return u!==0?u:Ht(Qr(a.longitude),Qr(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return M4(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var u,d,h,p;const g=a.fields||{},y=l.fields||{},v=(u=g[lp])===null||u===void 0?void 0:u.arrayValue,_=(d=y[lp])===null||d===void 0?void 0:d.arrayValue,w=Ht(((h=v?.values)===null||h===void 0?void 0:h.length)||0,((p=_?.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:M4(v,_)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===yf.mapValue&&l===yf.mapValue)return 0;if(a===yf.mapValue)return 1;if(l===yf.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const y=my(d[g],p[g]);if(y!==0)return y;const v=gu(u[d[g]],h[p[g]]);if(v!==0)return v}return Ht(d.length,p.length)})(t.mapValue,e.mapValue);default:throw It()}}function L4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ht(t,e);const r=$o(t),n=$o(e),s=Ht(r.seconds,n.seconds);return s!==0?s:Ht(r.nanos,n.nanos)}function M4(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const a=gu(r[s],n[s]);if(a)return a}return Ht(r.length,n.length)}function xu(t){return gy(t)}function gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=$o(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Bo(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return At.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",s=!0;for(const a of r.values||[])s?s=!1:n+=",",n+=gy(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const l of n)a?a=!1:s+=",",s+=`${l}:${gy(r.fields[l])}`;return s+"}"})(t.mapValue):It()}function Bf(t){switch(Uo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=am(t);return e?16+Bf(e):16;case 5:return 2*t.stringValue.length;case 6:return Bo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,a)=>s+Bf(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let s=0;return el(n.fields,((a,l)=>{s+=a.length+Bf(l)})),s})(t.mapValue);default:throw It()}}function V4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xy(t){return!!t&&"integerValue"in t}function Sv(t){return!!t&&"arrayValue"in t}function $4(t){return!!t&&"nullValue"in t}function B4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uf(t){return!!t&&"mapValue"in t}function f9(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[wk])===null||r===void 0?void 0:r.stringValue)===_k}function Ld(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return el(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Ld(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ld(t.arrayValue.values[r]);return e}return Object.assign({},t)}function p9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.value=e}static empty(){return new cs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Uf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ld(r)}setAll(e){let r=On.emptyPath(),n={},s=[];e.forEach(((l,u)=>{if(!r.isImmediateParentOf(u)){const d=this.getFieldsMap(r);this.applyChanges(d,n,s),n={},s=[],r=u.popLast()}l?n[u.lastSegment()]=Ld(l):s.push(u.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,s)}delete(e){const r=this.field(e.popLast());Uf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];Uf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){el(r,((s,a)=>e[s]=a));for(const s of n)delete e[s]}clone(){return new cs(Ld(this.value))}}function Ek(t){const e=[];return el(t.fields,((r,n)=>{const s=new On([r]);if(Uf(n)){const a=Ek(n.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new Bs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,r,n,s,a,l,u){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new _n(e,0,Pt.min(),Pt.min(),Pt.min(),cs.empty(),0)}static newFoundDocument(e,r,n,s){return new _n(e,1,r,Pt.min(),n,s,0)}static newNoDocument(e,r){return new _n(e,2,r,Pt.min(),Pt.min(),cs.empty(),0)}static newUnknownDocument(e,r){return new _n(e,3,r,Pt.min(),Pt.min(),cs.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,r){this.position=e,this.inclusive=r}}function U4(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?n=At.comparator(At.fromName(l.referenceValue),r.key):n=gu(l,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function z4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!li(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,r="asc"){this.field=e,this.dir=r}}function m9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{}class sn extends Tk{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new x9(e,r,n):r==="array-contains"?new b9(e,n):r==="in"?new w9(e,n):r==="not-in"?new _9(e,n):r==="array-contains-any"?new E9(e,n):new sn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new y9(e,n):new v9(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(gu(r,this.value)):r!==null&&Uo(this.value)===Uo(r)&&this.matchesComparison(gu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oa extends Tk{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new Oa(e,r)}matches(e){return Nk(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Nk(t){return t.op==="and"}function kk(t){return g9(t)&&Nk(t)}function g9(t){for(const e of t.filters)if(e instanceof Oa)return!1;return!0}function yy(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+xu(t.value);if(kk(t))return t.filters.map((e=>yy(e))).join(",");{const e=t.filters.map((r=>yy(r))).join(",");return`${t.op}(${e})`}}function Ak(t,e){return t instanceof sn?(function(n,s){return s instanceof sn&&n.op===s.op&&n.field.isEqual(s.field)&&li(n.value,s.value)})(t,e):t instanceof Oa?(function(n,s){return s instanceof Oa&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((a,l,u)=>a&&Ak(l,s.filters[u])),!0):!1})(t,e):void It()}function Sk(t){return t instanceof sn?(function(r){return`${r.field.canonicalString()} ${r.op} ${xu(r.value)}`})(t):t instanceof Oa?(function(r){return r.op.toString()+" {"+r.getFilters().map(Sk).join(" ,")+"}"})(t):"Filter"}class x9 extends sn{constructor(e,r,n){super(e,r,n),this.key=At.fromName(n.referenceValue)}matches(e){const r=At.comparator(e.key,this.key);return this.matchesComparison(r)}}class y9 extends sn{constructor(e,r){super(e,"in",r),this.keys=Ck("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class v9 extends sn{constructor(e,r){super(e,"not-in",r),this.keys=Ck("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function Ck(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>At.fromName(n.referenceValue)))}class b9 extends sn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Sv(r)&&o0(r.arrayValue,this.value)}}class w9 extends sn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&o0(this.value.arrayValue,r)}}class _9 extends sn{constructor(e,r){super(e,"not-in",r)}matches(e){if(o0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!o0(this.value.arrayValue,r)}}class E9 extends sn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Sv(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>o0(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,r=null,n=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.le=null}}function H4(t,e=null,r=[],n=[],s=null,a=null,l=null){return new T9(t,e,r,n,s,a,l)}function Cv(t){const e=Lt(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>yy(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),M0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>xu(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>xu(n))).join(",")),e.le=r}return e.le}function jv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!m9(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Ak(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z4(t.startAt,e.startAt)&&z4(t.endAt,e.endAt)}function vy(t){return At.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,r=null,n=[],s=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function N9(t,e,r,n,s,a,l,u){return new Lu(t,e,r,n,s,a,l,u)}function im(t){return new Lu(t)}function W4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jk(t){return t.collectionGroup!==null}function Md(t){const e=Lt(t);if(e.he===null){e.he=[];const r=new Set;for(const a of e.explicitOrderBy)e.he.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new fn(On.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.he.push(new l0(a,n))})),r.has(On.keyField().canonicalString())||e.he.push(new l0(On.keyField(),n))}return e.he}function ti(t){const e=Lt(t);return e.Pe||(e.Pe=k9(e,Md(t))),e.Pe}function k9(t,e){if(t.limitType==="F")return H4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new l0(s.field,a)}));const r=t.endAt?new cp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new cp(t.startAt.position,t.startAt.inclusive):null;return H4(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function by(t,e){const r=t.filters.concat([e]);return new Lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function up(t,e,r){return new Lu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function om(t,e){return jv(ti(t),ti(e))&&t.limitType===e.limitType}function Ik(t){return`${Cv(ti(t))}|lt:${t.limitType}`}function Kc(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((s=>Sk(s))).join(", ")}]`),M0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((s=>xu(s))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((s=>xu(s))).join(",")),`Target(${n})`})(ti(t))}; limitType=${t.limitType})`}function lm(t,e){return e.isFoundDocument()&&(function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):At.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,s){for(const a of Md(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(n,s){return!(n.startAt&&!(function(l,u,d){const h=U4(l,u,d);return l.inclusive?h<=0:h<0})(n.startAt,Md(n),s)||n.endAt&&!(function(l,u,d){const h=U4(l,u,d);return l.inclusive?h>=0:h>0})(n.endAt,Md(n),s))})(t,e)}function A9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Pk(t){return(e,r)=>{let n=!1;for(const s of Md(t)){const a=S9(s,e,r);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function S9(t,e,r){const n=t.field.isKeyField()?At.comparator(e.key,r.key):(function(a,l,u){const d=l.data.field(a),h=u.data.field(a);return d!==null&&h!==null?gu(d,h):It()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return It()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){el(this.inner,((r,n)=>{for(const[s,a]of n)e(s,a)}))}isEmpty(){return mk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=new zr(At.comparator);function Hi(){return C9}const Rk=new zr(At.comparator);function jd(...t){let e=Rk;for(const r of t)e=e.insert(r.key,r);return e}function Dk(t){let e=Rk;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function kl(){return Vd()}function Ok(){return Vd()}function Vd(){return new Xl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const j9=new zr(At.comparator),I9=new fn(At.comparator);function Yt(...t){let e=I9;for(const r of t)e=e.add(r);return e}const P9=new fn(Ht);function R9(){return P9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ip(e)?"-0":e}}function Fk(t){return{integerValue:""+t}}function Lk(t,e){return o9(e)?Fk(e):Iv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this._=void 0}}function D9(t,e,r){return t instanceof c0?(function(s,a){const l={fields:{[yk]:{stringValue:xk},[bk]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Av(a)&&(a=am(a)),a&&(l.fields[vk]=a),{mapValue:l}})(r,e):t instanceof u0?Vk(t,e):t instanceof d0?$k(t,e):(function(s,a){const l=Mk(s,a),u=G4(l)+G4(s.Ie);return xy(l)&&xy(s.Ie)?Fk(u):Iv(s.serializer,u)})(t,e)}function O9(t,e,r){return t instanceof u0?Vk(t,e):t instanceof d0?$k(t,e):r}function Mk(t,e){return t instanceof h0?(function(n){return xy(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class c0 extends cm{}class u0 extends cm{constructor(e){super(),this.elements=e}}function Vk(t,e){const r=Bk(e);for(const n of t.elements)r.some((s=>li(s,n)))||r.push(n);return{arrayValue:{values:r}}}class d0 extends cm{constructor(e){super(),this.elements=e}}function $k(t,e){let r=Bk(e);for(const n of t.elements)r=r.filter((s=>!li(s,n)));return{arrayValue:{values:r}}}class h0 extends cm{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function G4(t){return Qr(t.integerValue||t.doubleValue)}function Bk(t){return Sv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,r){this.field=e,this.transform=r}}function F9(t,e){return t.field.isEqual(e.field)&&(function(n,s){return n instanceof u0&&s instanceof u0||n instanceof d0&&s instanceof d0?mu(n.elements,s.elements,li):n instanceof h0&&s instanceof h0?li(n.Ie,s.Ie):n instanceof c0&&s instanceof c0})(t.transform,e.transform)}class L9{constructor(e,r){this.version=e,this.transformResults=r}}class Fn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class um{}function zk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dm(t.key,Fn.none()):new V0(t.key,t.data,Fn.none());{const r=t.data,n=cs.empty();let s=new fn(On.comparator);for(let a of e.fields)if(!s.has(a)){let l=r.field(a);l===null&&a.length>1&&(a=a.popLast(),l=r.field(a)),l===null?n.delete(a):n.set(a,l),s=s.add(a)}return new tl(t.key,n,new Bs(s.toArray()),Fn.none())}}function M9(t,e,r){t instanceof V0?(function(s,a,l){const u=s.value.clone(),d=K4(s.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,r):t instanceof tl?(function(s,a,l){if(!zf(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=K4(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(Hk(s)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,r):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,r)}function $d(t,e,r,n){return t instanceof V0?(function(a,l,u,d){if(!zf(a.precondition,l))return u;const h=a.value.clone(),p=Y4(a.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,r,n):t instanceof tl?(function(a,l,u,d){if(!zf(a.precondition,l))return u;const h=Y4(a.fieldTransforms,d,l),p=l.data;return p.setAll(Hk(a)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,r,n):(function(a,l,u){return zf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,r)}function V9(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),a=Mk(n.transform,s||null);a!=null&&(r===null&&(r=cs.empty()),r.set(n.field,a))}return r||null}function q4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&mu(n,s,((a,l)=>F9(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class V0 extends um{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class tl extends um{constructor(e,r,n,s,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Hk(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function K4(t,e,r){const n=new Map;er(t.length===r.length);for(let s=0;s<r.length;s++){const a=t[s],l=a.transform,u=e.data.field(a.field);n.set(a.field,O9(l,u,r[s]))}return n}function Y4(t,e,r){const n=new Map;for(const s of t){const a=s.transform,l=r.data.field(s.field);n.set(s.field,D9(a,l,e))}return n}class dm extends um{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wk extends um{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&M9(a,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=$d(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=$d(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=Ok();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=r.has(s.key)?null:u;const d=zk(l,u);d!==null&&n.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Pt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Yt())}isEqual(e){return this.batchId===e.batchId&&mu(this.mutations,e.mutations,((r,n)=>q4(r,n)))&&mu(this.baseMutations,e.baseMutations,((r,n)=>q4(r,n)))}}class Pv{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){er(e.mutations.length===n.length);let s=(function(){return j9})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,n[l].version);return new Pv(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,Jt;function Gk(t){switch(t){case Fe.OK:return It();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0;default:return It()}}function qk(t){if(t===void 0)return zi("GRPC error has no .code"),Fe.UNKNOWN;switch(t){case nn.OK:return Fe.OK;case nn.CANCELLED:return Fe.CANCELLED;case nn.UNKNOWN:return Fe.UNKNOWN;case nn.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case nn.INTERNAL:return Fe.INTERNAL;case nn.UNAVAILABLE:return Fe.UNAVAILABLE;case nn.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case nn.NOT_FOUND:return Fe.NOT_FOUND;case nn.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case nn.ABORTED:return Fe.ABORTED;case nn.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case nn.DATA_LOSS:return Fe.DATA_LOSS;default:return It()}}(Jt=nn||(nn={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=new Oo([4294967295,4294967295],0);function X4(t){const e=hk().encode(t),r=new ak;return r.update(e),new Uint8Array(r.digest())}function Q4(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Oo([r,n],0),new Oo([s,a],0)]}class Rv{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Id(`Invalid padding: ${r}`);if(n<0)throw new Id(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Id(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Id(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=Oo.fromNumber(this.Ee)}Ae(e,r,n){let s=e.add(r.multiply(Oo.fromNumber(n)));return s.compare(z9)===1&&(s=new Oo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=X4(e),[n,s]=Q4(r);for(let a=0;a<this.hashCount;a++){const l=this.Ae(n,s,a);if(!this.Re(l))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Rv(a,s,r);return n.forEach((u=>l.insert(u))),l}insert(e){if(this.Ee===0)return;const r=X4(e),[n,s]=Q4(r);for(let a=0;a<this.hashCount;a++){const l=this.Ae(n,s,a);this.Ve(l)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Id extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,r,n,s,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,$0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new hm(Pt.min(),s,new zr(Ht),Hi(),Yt())}}class $0{constructor(e,r,n,s,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new $0(n,r,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,r,n,s){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=s}}class Kk{constructor(e,r){this.targetId=e,this.ge=r}}class Yk{constructor(e,r,n=Bn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class J4{constructor(){this.pe=0,this.ye=Z4(),this.we=Bn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Yt(),r=Yt(),n=Yt();return this.ye.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:It()}})),new $0(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=Z4()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,er(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class H9{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Hi(),this.$e=vf(),this.Ue=vf(),this.Ke=new zr(Ht)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,(r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:It()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach(((n,s)=>{this.Je(s)&&r(s)}))}Ze(e){const r=e.targetId,n=e.ge.count,s=this.Xe(r);if(s){const a=s.target;if(vy(a))if(n===0){const l=new At(a.path);this.ze(r,l,_n.newNoDocument(l,Pt.min()))}else er(n===1);else{const l=this.et(r);if(l!==n){const u=this.tt(e),d=u?this.nt(u,e,l):1;if(d!==0){this.Ye(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,h)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=Bo(n).toUint8Array()}catch(d){if(d instanceof gk)return pu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Rv(l,s,a)}catch(d){return pu(d instanceof Id?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let s=0;return n.forEach((a=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.ze(r,a,null),s++)})),s}ot(e){const r=new Map;this.qe.forEach(((a,l)=>{const u=this.Xe(l);if(u){if(a.current&&vy(u.target)){const d=new At(u.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,_n.newNoDocument(d,e))}a.ve&&(r.set(l,a.Fe()),a.Me())}}));let n=Yt();this.Ue.forEach(((a,l)=>{let u=!0;l.forEachWhile((d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(n=n.add(a))})),this.Qe.forEach(((a,l)=>l.setReadTime(e)));const s=new hm(e,r,this.Ke,this.Qe,n);return this.Qe=Hi(),this.$e=vf(),this.Ue=vf(),this.Ke=new zr(Ht),s}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const s=this.He(e);this.ut(e,r)?s.xe(r,1):s.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new J4,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new fn(Ht),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new fn(Ht),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||pt("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new J4),this.ke.getRemoteKeysForTarget(e).forEach((r=>{this.ze(e,r,null)}))}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function vf(){return new zr(At.comparator)}function Z4(){return new zr(At.comparator)}const W9={asc:"ASCENDING",desc:"DESCENDING"},G9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q9={and:"AND",or:"OR"};class K9{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function wy(t,e){return t.useProto3Json||M0(e)?e:{value:e}}function dp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Y9(t,e){return dp(t,e.toTimestamp())}function zs(t){return er(!!t),Pt.fromTimestamp((function(r){const n=$o(r);return new br(n.seconds,n.nanos)})(t))}function Dv(t,e){return _y(t,e).canonicalString()}function _y(t,e){const r=(function(s){return new Nr(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?r:r.child(e)}function Qk(t){const e=Nr.fromString(t);return er(nA(e)),e}function hp(t,e){return Dv(t.databaseId,e.path)}function Bd(t,e){const r=Qk(e);if(r.get(1)!==t.databaseId.projectId)throw new ot(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ot(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new At(Zk(r))}function Jk(t,e){return Dv(t.databaseId,e)}function X9(t){const e=Qk(t);return e.length===4?Nr.emptyPath():Zk(e)}function Ey(t){return new Nr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zk(t){return er(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function e_(t,e,r){return{name:hp(t,e),fields:r.value.mapValue.fields}}function Q9(t,e){return"found"in e?(function(n,s){er(!!s.found),s.found.name,s.found.updateTime;const a=Bd(n,s.found.name),l=zs(s.found.updateTime),u=s.found.createTime?zs(s.found.createTime):Pt.min(),d=new cs({mapValue:{fields:s.found.fields}});return _n.newFoundDocument(a,l,u,d)})(t,e):"missing"in e?(function(n,s){er(!!s.missing),er(!!s.readTime);const a=Bd(n,s.missing),l=zs(s.readTime);return _n.newNoDocument(a,l)})(t,e):It()}function J9(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:It()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(h,p){return h.useProto3Json?(er(p===void 0||typeof p=="string"),Bn.fromBase64String(p||"")):(er(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Bn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const p=h.code===void 0?Fe.UNKNOWN:qk(h.code);return new ot(p,h.message||"")})(l);r=new Yk(n,s,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Bd(t,n.document.name),a=zs(n.document.updateTime),l=n.document.createTime?zs(n.document.createTime):Pt.min(),u=new cs({mapValue:{fields:n.document.fields}}),d=_n.newFoundDocument(s,a,l,u),h=n.targetIds||[],p=n.removedTargetIds||[];r=new Hf(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Bd(t,n.document),a=n.readTime?zs(n.readTime):Pt.min(),l=_n.newNoDocument(s,a),u=n.removedTargetIds||[];r=new Hf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Bd(t,n.document),a=n.removedTargetIds||[];r=new Hf([],a,s,null)}else{if(!("filter"in e))return It();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:a}=n,l=new U9(s,a),u=n.targetId;r=new Kk(u,l)}}return r}function eA(t,e){let r;if(e instanceof V0)r={update:e_(t,e.key,e.value)};else if(e instanceof dm)r={delete:hp(t,e.key)};else if(e instanceof tl)r={update:e_(t,e.key,e.data),updateMask:o7(e.fieldMask)};else{if(!(e instanceof Wk))return It();r={verify:hp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,l){const u=l.transform;if(u instanceof c0)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof u0)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof d0)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof h0)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw It()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:Y9(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:It()})(t,e.precondition)),r}function Z9(t,e){return t&&t.length>0?(er(e!==void 0),t.map((r=>(function(s,a){let l=s.updateTime?zs(s.updateTime):zs(a);return l.isEqual(Pt.min())&&(l=zs(a)),new L9(l,s.transformResults||[])})(r,e)))):[]}function e7(t,e){return{documents:[Jk(t,e.path)]}}function t7(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Jk(t,s);const a=(function(h){if(h.length!==0)return rA(Oa.create(h,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:Yc(y.field),direction:s7(y.dir)}})(p)))})(e.orderBy);l&&(r.structuredQuery.orderBy=l);const u=wy(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ht:r,parent:s}}function r7(t){let e=X9(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){er(n===1);const p=r.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=(function(g){const y=tA(g);return y instanceof Oa&&kk(y)?y.getFilters():[y]})(r.where));let l=[];r.orderBy&&(l=(function(g){return g.map((y=>(function(_){return new l0(Xc(_.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(y)))})(r.orderBy));let u=null;r.limit&&(u=(function(g){let y;return y=typeof g=="object"?g.value:g,M0(y)?null:y})(r.limit));let d=null;r.startAt&&(d=(function(g){const y=!!g.before,v=g.values||[];return new cp(v,y)})(r.startAt));let h=null;return r.endAt&&(h=(function(g){const y=!g.before,v=g.values||[];return new cp(v,y)})(r.endAt)),N9(e,s,l,a,u,"F",d,h)}function n7(t,e){const r=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function tA(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Xc(r.unaryFilter.field);return sn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Xc(r.unaryFilter.field);return sn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xc(r.unaryFilter.field);return sn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Xc(r.unaryFilter.field);return sn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return It()}})(t):t.fieldFilter!==void 0?(function(r){return sn.create(Xc(r.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Oa.create(r.compositeFilter.filters.map((n=>tA(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return It()}})(r.compositeFilter.op))})(t):It()}function s7(t){return W9[t]}function a7(t){return G9[t]}function i7(t){return q9[t]}function Yc(t){return{fieldPath:t.canonicalString()}}function Xc(t){return On.fromServerFormat(t.fieldPath)}function rA(t){return t instanceof sn?(function(r){if(r.op==="=="){if(B4(r.value))return{unaryFilter:{field:Yc(r.field),op:"IS_NAN"}};if($4(r.value))return{unaryFilter:{field:Yc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(B4(r.value))return{unaryFilter:{field:Yc(r.field),op:"IS_NOT_NAN"}};if($4(r.value))return{unaryFilter:{field:Yc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yc(r.field),op:a7(r.op),value:r.value}}})(t):t instanceof Oa?(function(r){const n=r.getFilters().map((s=>rA(s)));return n.length===1?n[0]:{compositeFilter:{op:i7(r.op),filters:n}}})(t):It()}function o7(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function nA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,r,n,s,a=Pt.min(),l=Pt.min(),u=Bn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e){this.Tt=e}}function c7(t){const e=r7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(){this.Tn=new d7}addToCollectionParentIndex(e,r){return this.Tn.add(r),$e.resolve()}getCollectionParents(e,r){return $e.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return $e.resolve()}deleteFieldIndex(e,r){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,r){return $e.resolve()}getDocumentsMatchingTarget(e,r){return $e.resolve(null)}getIndexType(e,r){return $e.resolve(0)}getFieldIndexes(e,r){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,r){return $e.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,r){return $e.resolve(Vo.min())}updateCollectionGroup(e,r,n){return $e.resolve()}updateIndexEntries(e,r){return $e.resolve()}}class d7{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new fn(Nr.comparator),a=!s.has(n);return this.index[r]=s.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new fn(Nr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sA=41943040;class ws{static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(sA,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new yu(0)}static Kn(){return new yu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="LruGarbageCollector",h7=1048576;function n_([t,e],[r,n]){const s=Ht(t,r);return s===0?Ht(e,n):s}class f7{constructor(e){this.Hn=e,this.buffer=new fn(n_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();n_(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class p7{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pt(r_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Fu(r)?pt(r_,"Ignoring IndexedDB error during garbage collection: ",r):await Ou(r)}await this.er(3e5)}))}}class m7{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return $e.resolve(sm.ae);const n=new f7(r);return this.tr.forEachTarget(e,(s=>n.Zn(s.sequenceNumber))).next((()=>this.tr.rr(e,(s=>n.Zn(s))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(t_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.ir(e,r)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,s,a,l,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(n=g,u=Date.now(),this.removeTargets(e,n,r)))).next((g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,n)))).next((g=>(h=Date.now(),qc()<=Kt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:g}))))}}function g7(t,e){return new m7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(){this.changes=new Xl((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?$e.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,r)))).next((s=>(n!==null&&$d(n.mutation,s,Bs.empty(),br.now()),s)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Yt()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Yt()){const s=kl();return this.populateOverlays(e,s,r).next((()=>this.computeViews(e,r,s,n).next((a=>{let l=jd();return a.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,r){const n=kl();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Yt())))}populateOverlays(e,r,n){const s=[];return n.forEach((a=>{r.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,u)=>{r.set(l,u)}))}))}computeViews(e,r,n,s){let a=Hi();const l=Vd(),u=(function(){return Vd()})();return r.forEach(((d,h)=>{const p=n.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof tl)?a=a.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),$d(p.mutation,h,p.mutation.getFieldMask(),br.now())):l.set(h.key,Bs.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((h,p)=>l.set(h,p))),r.forEach(((h,p)=>{var g;return u.set(h,new y7(p,(g=l.get(h))!==null&&g!==void 0?g:null))})),u)))}recalculateAndSaveOverlays(e,r){const n=Vd();let s=new zr(((l,u)=>l-u)),a=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((l=>{for(const u of l)u.keys().forEach((d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||Bs.empty();p=u.applyToLocalView(h,p),n.set(d,p);const g=(s.get(u.batchId)||Yt()).add(d);s=s.insert(u.batchId,g)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,g=Ok();p.forEach((y=>{if(!a.has(y)){const v=zk(r.get(y),n.get(y));v!==null&&g.set(y,v),a=a.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return $e.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,s){return(function(l){return At.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):jk(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-a.size):$e.resolve(kl());let u=s0,d=a;return l.next((h=>$e.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(p)?$e.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{d=d.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,d,h,Yt()))).next((p=>({batchId:u,changes:Dk(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new At(r)).next((n=>{let s=jd();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const a=r.collectionGroup;let l=jd();return this.indexManager.getCollectionParents(e,a).next((u=>$e.forEach(u,(d=>{const h=(function(g,y){return new Lu(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(r,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,n,s).next((p=>{p.forEach(((g,y)=>{l=l.insert(g,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,r,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,s)))).next((l=>{a.forEach(((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,_n.newInvalidDocument(p)))}));let u=jd();return l.forEach(((d,h)=>{const p=a.get(d);p!==void 0&&$d(p.mutation,h,Bs.empty(),br.now()),lm(r,h)&&(u=u.insert(d,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return $e.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,(function(s){return{id:s.id,version:s.version,createTime:zs(s.createTime)}})(r)),$e.resolve()}getNamedQuery(e,r){return $e.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,(function(s){return{name:s.name,query:c7(s.bundledQuery),readTime:zs(s.readTime)}})(r)),$e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this.overlays=new zr(At.comparator),this.Rr=new Map}getOverlay(e,r){return $e.resolve(this.overlays.get(r))}getOverlays(e,r){const n=kl();return $e.forEach(r,(s=>this.getOverlay(e,s).next((a=>{a!==null&&n.set(s,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((s,a)=>{this.Et(e,r,a)})),$e.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Rr.get(n);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Rr.delete(n)),$e.resolve()}getOverlaysForCollection(e,r,n){const s=kl(),a=r.length+1,l=new At(r.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>n&&s.set(d.getKey(),d)}return $e.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let a=new zr(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=a.get(h.largestBatchId);p===null&&(p=kl(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=kl(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=s)););return $e.resolve(u)}Et(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(n.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new B9(r,n));let a=this.Rr.get(r);a===void 0&&(a=Yt(),this.Rr.set(r,a)),this.Rr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return $e.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,$e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.Vr=new fn(wn.mr),this.gr=new fn(wn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new wn(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.wr(new wn(e,r))}Sr(e,r){e.forEach((n=>this.removeReference(n,r)))}br(e){const r=new At(new Nr([])),n=new wn(r,e),s=new wn(r,e+1),a=[];return this.gr.forEachInRange([n,s],(l=>{this.wr(l),a.push(l.key)})),a}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new At(new Nr([])),n=new wn(r,e),s=new wn(r,e+1);let a=Yt();return this.gr.forEachInRange([n,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const r=new wn(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class wn{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return At.comparator(e.key,r.key)||Ht(e.Cr,r.Cr)}static pr(e,r){return Ht(e.Cr,r.Cr)||At.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new fn(wn.mr)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new $9(a,r,n,s);this.mutationQueue.push(l);for(const u of s)this.Mr=this.Mr.add(new wn(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return $e.resolve(l)}lookupMutationBatch(e,r){return $e.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.Nr(n),a=s<0?0:s;return $e.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?kv:this.Fr-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new wn(r,0),s=new wn(r,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([n,s],(l=>{const u=this.Or(l.Cr);a.push(u)})),$e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new fn(Ht);return r.forEach((s=>{const a=new wn(s,0),l=new wn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],(u=>{n=n.add(u.Cr)}))})),$e.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let a=n;At.isDocumentKey(a)||(a=a.child(""));const l=new wn(new At(a),0);let u=new fn(Ht);return this.Mr.forEachWhile((d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===s&&(u=u.add(d.Cr)),!0)}),l),$e.resolve(this.Br(u))}Br(e){const r=[];return e.forEach((n=>{const s=this.Or(n);s!==null&&r.push(s)})),r}removeMutationBatch(e,r){er(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return $e.forEach(r.mutations,(s=>{const a=new wn(s.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,r){const n=new wn(r,0),s=this.Mr.firstAfterOrEqual(n);return $e.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.kr=e,this.docs=(function(){return new zr(At.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),a=s?s.size:0,l=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return $e.resolve(n?n.document.mutableCopy():_n.newInvalidDocument(r))}getEntries(e,r){let n=Hi();return r.forEach((s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():_n.newInvalidDocument(s))})),$e.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let a=Hi();const l=r.path,u=new At(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||n9(r9(p),n)<=0||(s.has(p.key)||lm(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return $e.resolve(a)}getAllFromCollectionGroup(e,r,n,s){It()}qr(e,r){return $e.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new N7(this)}getSize(e){return $e.resolve(this.size)}}class N7 extends x7{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?r.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(n)})),$e.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e){this.persistence=e,this.Qr=new Xl((r=>Cv(r)),jv),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Ov,this.targetCount=0,this.Kr=yu.Un()}forEachTarget(e,r){return this.Qr.forEach(((n,s)=>r(s))),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),$e.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new yu(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,$e.resolve()}updateTargetData(e,r){return this.zn(r),$e.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,r,n){let s=0;const a=[];return this.Qr.forEach(((l,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),$e.waitFor(a).next((()=>s))}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return $e.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),$e.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const s=this.persistence.referenceDelegate,a=[];return s&&r.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),$e.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),$e.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return $e.resolve(n)}containsKey(e,r){return $e.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new sm(0),this.zr=!1,this.zr=!0,this.jr=new _7,this.referenceDelegate=e(this),this.Hr=new k7(this),this.indexManager=new u7,this.remoteDocumentCache=(function(s){return new T7(s)})((n=>this.referenceDelegate.Jr(n))),this.serializer=new l7(r),this.Yr=new b7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new w7,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new E7(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){pt("MemoryPersistence","Starting transaction:",e);const s=new A7(this.Gr.next());return this.referenceDelegate.Zr(),n(s).next((a=>this.referenceDelegate.Xr(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}ei(e,r){return $e.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,r))))}}class A7 extends a9{constructor(e){super(),this.currentSequenceNumber=e}}class Fv{constructor(e){this.persistence=e,this.ti=new Ov,this.ni=null}static ri(e){return new Fv(e)}get ii(){if(this.ni)return this.ni;throw It()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),$e.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),$e.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),$e.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach((s=>this.ii.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((s=>{s.forEach((a=>this.ii.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.ii,(n=>{const s=At.fromPath(n);return this.si(e,s).next((a=>{a||r.removeEntry(s,Pt.min())}))})).next((()=>(this.ni=null,r.apply(e))))}updateLimboDocument(e,r){return this.si(e,r).next((n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())}))}Jr(e){return 0}si(e,r){return $e.or([()=>$e.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class fp{constructor(e,r){this.persistence=e,this.oi=new Xl((n=>l9(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=g7(this,r)}static ri(e,r){return new fp(e,r)}Zr(){}Xr(e){return $e.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((s=>n+s))))}sr(e){let r=0;return this.rr(e,(n=>{r++})).next((()=>r))}rr(e,r){return $e.forEach(this.oi,((n,s)=>this.ar(e,n,s).next((a=>a?$e.resolve():r(s)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,(l=>this.ar(e,l,r).next((u=>{u||(n++,a.removeEntry(l,Pt.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),$e.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),$e.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),$e.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),$e.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Bf(e.data.value)),r}ar(e,r,n){return $e.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.oi.get(r);return $e.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=s}static Yi(e,r){let n=Yt(),s=Yt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Lv(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(function(){return oP()?8:i9(rs())>0?6:4})()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,s){const a={result:null};return this.rs(e,r).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ss(e,r,s,n).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new S7;return this._s(e,r,l).next((u=>{if(a.result=u,this.Xi)return this.us(e,r,l,u.size)}))})).next((()=>a.result))}us(e,r,n,s){return n.documentReadCount<this.es?(qc()<=Kt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Kc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$e.resolve()):(qc()<=Kt.DEBUG&&pt("QueryEngine","Query:",Kc(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ts*s?(qc()<=Kt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Kc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(r))):$e.resolve())}rs(e,r){if(W4(r))return $e.resolve(null);let n=ti(r);return this.indexManager.getIndexType(e,n).next((s=>s===0?null:(r.limit!==null&&s===1&&(r=up(r,null,"F"),n=ti(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const l=Yt(...a);return this.ns.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,n).next((d=>{const h=this.cs(r,u);return this.ls(r,h,l,d.readTime)?this.rs(e,up(r,null,"F")):this.hs(e,h,r,d)}))))})))))}ss(e,r,n,s){return W4(r)||s.isEqual(Pt.min())?$e.resolve(null):this.ns.getDocuments(e,n).next((a=>{const l=this.cs(r,a);return this.ls(r,l,n,s)?$e.resolve(null):(qc()<=Kt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Kc(r)),this.hs(e,l,r,t9(s,s0)).next((u=>u)))}))}cs(e,r){let n=new fn(Pk(e));return r.forEach(((s,a)=>{lm(e,a)&&(n=n.add(a))})),n}ls(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,r,n){return qc()<=Kt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Kc(r)),this.ns.getDocumentsMatchingQuery(e,r,Vo.min(),n)}hs(e,r,n,s){return this.ns.getDocumentsMatchingQuery(e,n,s).next((a=>(r.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LocalStore",j7=3e8;class I7{constructor(e,r,n,s){this.persistence=e,this.Ps=r,this.serializer=s,this.Ts=new zr(Ht),this.Is=new Xl((a=>Cv(a)),jv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v7(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ts)))}}function P7(t,e,r,n){return new I7(t,e,r,n)}async function iA(t,e){const r=Lt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next((a=>(s=a,r.As(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const l=[],u=[];let d=Yt();for(const h of s){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of a){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next((h=>({Rs:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function R7(t,e){const r=Lt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=e.batch.keys(),a=r.ds.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,p){const g=h.batch,y=g.keys();let v=$e.resolve();return y.forEach((_=>{v=v.next((()=>p.getEntry(d,_))).next((w=>{const E=h.docVersions.get(_);er(E!==null),w.version.compareTo(E)<0&&(g.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),p.addEntry(w)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let d=Yt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>r.localDocuments.getDocuments(n,s)))}))}function oA(t){const e=Lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Hr.getLastRemoteSnapshotVersion(r)))}function D7(t,e){const r=Lt(t),n=e.snapshotVersion;let s=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=r.ds.newChangeBuffer({trackRemovals:!0});s=r.Ts;const u=[];e.targetChanges.forEach(((p,g)=>{const y=s.get(g);if(!y)return;u.push(r.Hr.removeMatchingKeys(a,p.removedDocuments,g).next((()=>r.Hr.addMatchingKeys(a,p.addedDocuments,g))));let v=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(Bn.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,n)),s=s.insert(g,v),(function(w,E,O){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=j7?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(y,v,p)&&u.push(r.Hr.updateTargetData(a,v))}));let d=Hi(),h=Yt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))})),u.push(O7(a,l,e.documentUpdates).next((p=>{d=p.Vs,h=p.fs}))),!n.isEqual(Pt.min())){const p=r.Hr.getLastRemoteSnapshotVersion(a).next((g=>r.Hr.setTargetsMetadata(a,a.currentSequenceNumber,n)));u.push(p)}return $e.waitFor(u).next((()=>l.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,d,h))).next((()=>d))})).then((a=>(r.Ts=s,a)))}function O7(t,e,r){let n=Yt(),s=Yt();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let l=Hi();return r.forEach(((u,d)=>{const h=a.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Pt.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):pt(Mv,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{Vs:l,fs:s}}))}function F7(t,e){const r=Lt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=kv),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function L7(t,e){const r=Lt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return r.Hr.getTargetData(n,e).next((a=>a?(s=a,$e.resolve(s)):r.Hr.allocateTargetId(n).next((l=>(s=new jo(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=r.Ts.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n}))}async function Ty(t,e,r){const n=Lt(t),s=n.Ts.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(l=>n.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Fu(l))throw l;pt(Mv,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ts=n.Ts.remove(e),n.Is.delete(s.target)}function s_(t,e,r){const n=Lt(t);let s=Pt.min(),a=Yt();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,p){const g=Lt(d),y=g.Is.get(p);return y!==void 0?$e.resolve(g.Ts.get(y)):g.Hr.getTargetData(h,p)})(n,l,ti(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(l,u.targetId).next((d=>{a=d}))})).next((()=>n.Ps.getDocumentsMatchingQuery(l,e,r?s:Pt.min(),r?a:Yt()))).next((u=>(M7(n,A9(e),u),{documents:u,gs:a})))))}function M7(t,e,r){let n=t.Es.get(e)||Pt.min();r.forEach(((s,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Es.set(e,n)}class a_{constructor(){this.activeTargetIds=R9()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V7{constructor(){this.ho=new a_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new a_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="ConnectivityMonitor";class o_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pt(i_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pt(i_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf=null;function Ny(){return bf===null?bf=(function(){return 268435456+Math.round(2147483648*Math.random())})():bf++,"0x"+bf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="RestConnection",B7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U7{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${s}`,this.wo=this.databaseId.database===op?`project_id=${n}`:`project_id=${n}&database_id=${s}`}So(e,r,n,s,a){const l=Ny(),u=this.bo(e,r.toUriEncodedString());pt(Ax,`Sending RPC '${e}' ${l}:`,u,n);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,a),this.vo(e,u,d,n).then((h=>(pt(Ax,`Received RPC '${e}' ${l}: `,h),h)),(h=>{throw pu(Ax,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",n),h}))}Co(e,r,n,s,a,l){return this.So(e,r,n,s,a)}Do(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Du})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((s,a)=>e[a]=s)),n&&n.headers.forEach(((s,a)=>e[a]=s))}bo(e,r){const n=B7[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="WebChannelConnection";class H7 extends U7{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,s){const a=Ny();return new Promise(((l,u)=>{const d=new ik;d.setWithCredentials(!0),d.listenOnce(ok.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case $f.NO_ERROR:const p=d.getResponseJson();pt(Xn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case $f.TIMEOUT:pt(Xn,`RPC '${e}' ${a} timed out`),u(new ot(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:const g=d.getStatus();if(pt(Xn,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y?.error;if(v&&v.status&&v.message){const _=(function(E){const O=E.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(O)>=0?O:Fe.UNKNOWN})(v.status);u(new ot(_,v.message))}else u(new ot(Fe.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ot(Fe.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{pt(Xn,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(s);pt(Xn,`RPC '${e}' ${a} sending request:`,s),d.send(r,"POST",h,n,15)}))}Wo(e,r,n){const s=Ny(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=uk(),u=ck(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=a.join("");pt(Xn,`Creating RPC '${e}' stream ${s}: ${p}`,d);const g=l.createWebChannel(p,d);let y=!1,v=!1;const _=new z7({Fo:E=>{v?pt(Xn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(y||(pt(Xn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),pt(Xn,`RPC '${e}' stream ${s} sending:`,E),g.send(E))},Mo:()=>g.close()}),w=(E,O,j)=>{E.listen(O,(z=>{try{j(z)}catch(L){setTimeout((()=>{throw L}),0)}}))};return w(g,Cd.EventType.OPEN,(()=>{v||(pt(Xn,`RPC '${e}' stream ${s} transport opened.`),_.Qo())})),w(g,Cd.EventType.CLOSE,(()=>{v||(v=!0,pt(Xn,`RPC '${e}' stream ${s} transport closed`),_.Uo())})),w(g,Cd.EventType.ERROR,(E=>{v||(v=!0,pu(Xn,`RPC '${e}' stream ${s} transport errored:`,E),_.Uo(new ot(Fe.UNAVAILABLE,"The operation could not be completed")))})),w(g,Cd.EventType.MESSAGE,(E=>{var O;if(!v){const j=E.data[0];er(!!j);const z=j,L=z?.error||((O=z[0])===null||O===void 0?void 0:O.error);if(L){pt(Xn,`RPC '${e}' stream ${s} received error:`,L);const Y=L.status;let H=(function(I){const P=nn[I];if(P!==void 0)return qk(P)})(Y),S=L.message;H===void 0&&(H=Fe.INTERNAL,S="Unknown error status: "+Y+" with message "+L.message),v=!0,_.Uo(new ot(H,S)),g.close()}else pt(Xn,`RPC '${e}' stream ${s} received:`,j),_.Ko(j)}})),w(u,lk.STAT_EVENT,(E=>{E.stat===py.PROXY?pt(Xn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===py.NOPROXY&&pt(Xn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{_.$o()}),0),_}}function Sx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t){return new K9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,r,n=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),s=Math.max(0,r-n);s>0&&pt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class lA{constructor(e,r,n,s,a,l,u,d){this.Ti=e,this.n_=n,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Vv(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===Fe.RESOURCE_EXHAUSTED?(zi(r.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.i_===r&&this.V_(n,s)}),(n=>{e((()=>{const s=new ot(Fe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(s)}))}))}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((s=>{n((()=>this.m_(s)))})),this.stream.onMessage((s=>{n((()=>++this.__==1?this.g_(s):this.onNext(s)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return pt(l_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget((()=>this.i_===e?r():(pt(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class W7 extends lA{constructor(e,r,n,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,l),this.serializer=a}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=J9(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Pt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Pt.min():l.readTime?zs(l.readTime):Pt.min()})(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=Ey(this.serializer),r.addTarget=(function(a,l){let u;const d=l.target;if(u=vy(d)?{documents:e7(a,d)}:{query:t7(a,d).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Xk(a,l.resumeToken);const h=wy(a,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Pt.min())>0){u.readTime=dp(a,l.snapshotVersion.toTimestamp());const h=wy(a,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const n=n7(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=Ey(this.serializer),r.removeTarget=e,this.I_(r)}}class G7 extends lA{constructor(e,r,n,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return er(!!e.streamToken),this.lastStreamToken=e.streamToken,er(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){er(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=Z9(e.writeResults,e.commitTime),n=zs(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=Ey(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>eA(this.serializer,n)))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{}class K7 extends q7{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ot(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.So(e,_y(r,n),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ot(Fe.UNKNOWN,a.toString())}))}Co(e,r,n,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Co(e,_y(r,n),s,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ot(Fe.UNKNOWN,l.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Y7{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(zi(r),this.N_=!1):pt("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll="RemoteStore";class X7{constructor(e,r,n,s,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To((l=>{n.enqueueAndForget((async()=>{Ql(this)&&(pt(Ll,"Restarting streams for network reachability change."),await(async function(d){const h=Lt(d);h.W_.add(4),await B0(h),h.j_.set("Unknown"),h.W_.delete(4),await pm(h)})(this))}))})),this.j_=new Y7(n,s)}}async function pm(t){if(Ql(t))for(const e of t.G_)await e(!0)}async function B0(t){for(const e of t.G_)await e(!1)}function cA(t,e){const r=Lt(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),zv(r)?Uv(r):Mu(r).c_()&&Bv(r,e))}function $v(t,e){const r=Lt(t),n=Mu(r);r.K_.delete(e),n.c_()&&uA(r,e),r.K_.size===0&&(n.c_()?n.P_():Ql(r)&&r.j_.set("Unknown"))}function Bv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Mu(t).y_(e)}function uA(t,e){t.H_.Ne(e),Mu(t).w_(e)}function Uv(t){t.H_=new H9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Mu(t).start(),t.j_.B_()}function zv(t){return Ql(t)&&!Mu(t).u_()&&t.K_.size>0}function Ql(t){return Lt(t).W_.size===0}function dA(t){t.H_=void 0}async function Q7(t){t.j_.set("Online")}async function J7(t){t.K_.forEach(((e,r)=>{Bv(t,e)}))}async function Z7(t,e){dA(t),zv(t)?(t.j_.q_(e),Uv(t)):t.j_.set("Unknown")}async function eO(t,e,r){if(t.j_.set("Online"),e instanceof Yk&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const u of a.targetIds)s.K_.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.K_.delete(u),s.H_.removeTarget(u))})(t,e)}catch(n){pt(Ll,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await pp(t,n)}else if(e instanceof Hf?t.H_.We(e):e instanceof Kk?t.H_.Ze(e):t.H_.je(e),!r.isEqual(Pt.min()))try{const n=await oA(t.localStore);r.compareTo(n)>=0&&await(function(a,l){const u=a.H_.ot(l);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.K_.get(h);p&&a.K_.set(h,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,h)=>{const p=a.K_.get(d);if(!p)return;a.K_.set(d,p.withResumeToken(Bn.EMPTY_BYTE_STRING,p.snapshotVersion)),uA(a,d);const g=new jo(p.target,d,h,p.sequenceNumber);Bv(a,g)})),a.remoteSyncer.applyRemoteEvent(u)})(t,r)}catch(n){pt(Ll,"Failed to raise snapshot:",n),await pp(t,n)}}async function pp(t,e,r){if(!Fu(e))throw e;t.W_.add(1),await B0(t),t.j_.set("Offline"),r||(r=()=>oA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pt(Ll,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await pm(t)}))}function hA(t,e){return e().catch((r=>pp(t,r,e)))}async function mm(t){const e=Lt(t),r=zo(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:kv;for(;tO(e);)try{const s=await F7(e.localStore,n);if(s===null){e.U_.length===0&&r.P_();break}n=s.batchId,rO(e,s)}catch(s){await pp(e,s)}fA(e)&&pA(e)}function tO(t){return Ql(t)&&t.U_.length<10}function rO(t,e){t.U_.push(e);const r=zo(t);r.c_()&&r.S_&&r.b_(e.mutations)}function fA(t){return Ql(t)&&!zo(t).u_()&&t.U_.length>0}function pA(t){zo(t).start()}async function nO(t){zo(t).C_()}async function sO(t){const e=zo(t);for(const r of t.U_)e.b_(r.mutations)}async function aO(t,e,r){const n=t.U_.shift(),s=Pv.from(n,e,r);await hA(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await mm(t)}async function iO(t,e){e&&zo(t).S_&&await(async function(n,s){if((function(l){return Gk(l)&&l!==Fe.ABORTED})(s.code)){const a=n.U_.shift();zo(n).h_(),await hA(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,s))),await mm(n)}})(t,e),fA(t)&&pA(t)}async function c_(t,e){const r=Lt(t);r.asyncQueue.verifyOperationInProgress(),pt(Ll,"RemoteStore received new credentials");const n=Ql(r);r.W_.add(3),await B0(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await pm(r)}async function oO(t,e){const r=Lt(t);e?(r.W_.delete(2),await pm(r)):e||(r.W_.add(2),await B0(r),r.j_.set("Unknown"))}function Mu(t){return t.J_||(t.J_=(function(r,n,s){const a=Lt(r);return a.M_(),new W7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{xo:Q7.bind(null,t),No:J7.bind(null,t),Lo:Z7.bind(null,t),p_:eO.bind(null,t)}),t.G_.push((async e=>{e?(t.J_.h_(),zv(t)?Uv(t):t.j_.set("Unknown")):(await t.J_.stop(),dA(t))}))),t.J_}function zo(t){return t.Y_||(t.Y_=(function(r,n,s){const a=Lt(r);return a.M_(),new G7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:nO.bind(null,t),Lo:iO.bind(null,t),D_:sO.bind(null,t),v_:aO.bind(null,t)}),t.G_.push((async e=>{e?(t.Y_.h_(),await mm(t)):(await t.Y_.stop(),t.U_.length>0&&(pt(Ll,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))}))),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,r,n,s,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,a){const l=Date.now()+n,u=new Hv(e,r,l,s,a);return u.start(n),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wv(t,e){if(zi("AsyncQueue",`${e}: ${t}`),Fu(t))return new ot(Fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{static emptySet(e){return new cu(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||At.comparator(r.key,n.key):(r,n)=>At.comparator(r.key,n.key),this.keyedMap=jd(),this.sortedSet=new zr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof cu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new cu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.Z_=new zr(At.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):It():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class vu{constructor(e,r,n,s,a,l,u,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,s,a){const l=[];return r.forEach((u=>{l.push({type:0,doc:u})})),new vu(e,r,cu.emptySet(r),l,n,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class cO{constructor(){this.queries=d_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const s=Lt(r),a=s.queries;s.queries=d_(),a.forEach(((l,u)=>{for(const d of u.ta)d.onError(n)}))})(this,new ot(Fe.ABORTED,"Firestore shutting down"))}}function d_(){return new Xl((t=>Ik(t)),om)}async function Gv(t,e){const r=Lt(t);let n=3;const s=e.query;let a=r.queries.get(s);a?!a.na()&&e.ra()&&(n=2):(a=new lO,n=e.ra()?0:1);try{switch(n){case 0:a.ea=await r.onListen(s,!0);break;case 1:a.ea=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(l){const u=Wv(l,`Initialization of query '${Kc(e.query)}' failed`);return void e.onError(u)}r.queries.set(s,a),a.ta.push(e),e.sa(r.onlineState),a.ea&&e.oa(a.ea)&&Kv(r)}async function qv(t,e){const r=Lt(t),n=e.query;let s=3;const a=r.queries.get(n);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function uO(t,e){const r=Lt(t);let n=!1;for(const s of e){const a=s.query,l=r.queries.get(a);if(l){for(const u of l.ta)u.oa(s)&&(n=!0);l.ea=s}}n&&Kv(r)}function dO(t,e,r){const n=Lt(t),s=n.queries.get(e);if(s)for(const a of s.ta)a.onError(r);n.queries.delete(e)}function Kv(t){t.ia.forEach((e=>{e.next()}))}var ky,h_;(h_=ky||(ky={}))._a="default",h_.Cache="cache";class Yv{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new vu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ky.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.key=e}}class gA{constructor(e){this.key=e}}class hO{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Yt(),this.mutatedKeys=Yt(),this.ya=Pk(e),this.wa=new cu(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new u_,s=r?r.wa:this.wa;let a=r?r.mutatedKeys:this.mutatedKeys,l=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const y=s.get(p),v=lm(this.query,g)?g:null,_=!!y&&this.mutatedKeys.has(y.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;y&&v?y.data.isEqual(v.data)?_!==w&&(n.track({type:3,doc:v}),E=!0):this.va(y,v)||(n.track({type:2,doc:v}),E=!0,(d&&this.ya(v,d)>0||h&&this.ya(v,h)<0)&&(u=!0)):!y&&v?(n.track({type:0,doc:v}),E=!0):y&&!v&&(n.track({type:1,doc:y}),E=!0,(d||h)&&(u=!0)),E&&(v?(l=l.add(v),a=w?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{wa:l,Da:n,ls:u,mutatedKeys:a}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort(((p,g)=>(function(v,_){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return w(v)-w(_)})(p.type,g.type)||this.ya(p.doc,g.doc))),this.Ca(n),s=s!=null&&s;const u=r&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,h=d!==this.ga;return this.ga=d,l.length!==0||h?{snapshot:new vu(this.query,e.wa,a,l,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new u_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((r=>this.fa=this.fa.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.fa=this.fa.delete(r))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Yt(),this.wa.forEach((n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))}));const r=[];return e.forEach((n=>{this.pa.has(n)||r.push(new gA(n))})),this.pa.forEach((n=>{e.has(n)||r.push(new mA(n))})),r}Oa(e){this.fa=e.gs,this.pa=Yt();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return vu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Xv="SyncEngine";class fO{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class pO{constructor(e){this.key=e,this.Ba=!1}}class mO{constructor(e,r,n,s,a,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Xl((u=>Ik(u)),om),this.qa=new Map,this.Qa=new Set,this.$a=new zr(At.comparator),this.Ua=new Map,this.Ka=new Ov,this.Wa={},this.Ga=new Map,this.za=yu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function gO(t,e,r=!0){const n=_A(t);let s;const a=n.ka.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await xA(n,e,r,!0),s}async function xO(t,e){const r=_A(t);await xA(r,e,!0,!1)}async function xA(t,e,r,n){const s=await L7(t.localStore,ti(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await yO(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&r&&cA(t.remoteStore,s),u}async function yO(t,e,r,n,s){t.Ha=(g,y,v)=>(async function(w,E,O,j){let z=E.view.ba(O);z.ls&&(z=await s_(w.localStore,E.query,!1).then((({documents:S})=>E.view.ba(S,z))));const L=j&&j.targetChanges.get(E.targetId),Y=j&&j.targetMismatches.get(E.targetId)!=null,H=E.view.applyChanges(z,w.isPrimaryClient,L,Y);return p_(w,E.targetId,H.Ma),H.snapshot})(t,g,y,v);const a=await s_(t.localStore,e,!0),l=new hO(e,a.gs),u=l.ba(a.documents),d=$0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),h=l.applyChanges(u,t.isPrimaryClient,d);p_(t,r,h.Ma);const p=new fO(e,r,l);return t.ka.set(e,p),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),h.snapshot}async function vO(t,e,r){const n=Lt(t),s=n.ka.get(e),a=n.qa.get(s.targetId);if(a.length>1)return n.qa.set(s.targetId,a.filter((l=>!om(l,e)))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Ty(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),r&&$v(n.remoteStore,s.targetId),Ay(n,s.targetId)})).catch(Ou)):(Ay(n,s.targetId),await Ty(n.localStore,s.targetId,!0))}async function bO(t,e){const r=Lt(t),n=r.ka.get(e),s=r.qa.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),$v(r.remoteStore,n.targetId))}async function wO(t,e,r){const n=SO(t);try{const s=await(function(l,u){const d=Lt(l),h=br.now(),p=u.reduce(((v,_)=>v.add(_.key)),Yt());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let _=Hi(),w=Yt();return d.ds.getEntries(v,p).next((E=>{_=E,_.forEach(((O,j)=>{j.isValidDocument()||(w=w.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(v,_))).next((E=>{g=E;const O=[];for(const j of u){const z=V9(j,g.get(j.key).overlayedDocument);z!=null&&O.push(new tl(j.key,z,Ek(z.value.mapValue),Fn.exists(!0)))}return d.mutationQueue.addMutationBatch(v,h,O,u)})).next((E=>{y=E;const O=E.applyToLocalDocumentSet(g,w);return d.documentOverlayCache.saveOverlays(v,E.batchId,O)}))})).then((()=>({batchId:y.batchId,changes:Dk(g)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),(function(l,u,d){let h=l.Wa[l.currentUser.toKey()];h||(h=new zr(Ht)),h=h.insert(u,d),l.Wa[l.currentUser.toKey()]=h})(n,s.batchId,r),await U0(n,s.changes),await mm(n.remoteStore)}catch(s){const a=Wv(s,"Failed to persist write");r.reject(a)}}async function yA(t,e){const r=Lt(t);try{const n=await D7(r.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=r.Ua.get(a);l&&(er(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?er(l.Ba):s.removedDocuments.size>0&&(er(l.Ba),l.Ba=!1))})),await U0(r,n,e)}catch(n){await Ou(n)}}function f_(t,e,r){const n=Lt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.ka.forEach(((a,l)=>{const u=l.view.sa(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const d=Lt(l);d.onlineState=u;let h=!1;d.queries.forEach(((p,g)=>{for(const y of g.ta)y.sa(u)&&(h=!0)})),h&&Kv(d)})(n.eventManager,e),s.length&&n.La.p_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function _O(t,e,r){const n=Lt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Ua.get(e),a=s&&s.key;if(a){let l=new zr(At.comparator);l=l.insert(a,_n.newNoDocument(a,Pt.min()));const u=Yt().add(a),d=new hm(Pt.min(),new Map,new zr(Ht),l,u);await yA(n,d),n.$a=n.$a.remove(a),n.Ua.delete(e),Qv(n)}else await Ty(n.localStore,e,!1).then((()=>Ay(n,e,r))).catch(Ou)}async function EO(t,e){const r=Lt(t),n=e.batch.batchId;try{const s=await R7(r.localStore,e);bA(r,n,null),vA(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await U0(r,s)}catch(s){await Ou(s)}}async function TO(t,e,r){const n=Lt(t);try{const s=await(function(l,u){const d=Lt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(er(g!==null),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>d.localDocuments.getDocuments(h,p)))}))})(n.localStore,e);bA(n,e,r),vA(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await U0(n,s)}catch(s){await Ou(s)}}function vA(t,e){(t.Ga.get(e)||[]).forEach((r=>{r.resolve()})),t.Ga.delete(e)}function bA(t,e,r){const n=Lt(t);let s=n.Wa[n.currentUser.toKey()];if(s){const a=s.get(e);a&&(r?a.reject(r):a.resolve(),s=s.remove(e)),n.Wa[n.currentUser.toKey()]=s}}function Ay(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach((n=>{t.Ka.containsKey(n)||wA(t,n)}))}function wA(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&($v(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),Qv(t))}function p_(t,e,r){for(const n of r)n instanceof mA?(t.Ka.addReference(n.key,e),NO(t,n)):n instanceof gA?(pt(Xv,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||wA(t,n.key)):It()}function NO(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(pt(Xv,"New document in limbo: "+r),t.Qa.add(n),Qv(t))}function Qv(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new At(Nr.fromString(e)),n=t.za.next();t.Ua.set(n,new pO(r)),t.$a=t.$a.insert(r,n),cA(t.remoteStore,new jo(ti(im(r.path)),n,"TargetPurposeLimboResolution",sm.ae))}}async function U0(t,e,r){const n=Lt(t),s=[],a=[],l=[];n.ka.isEmpty()||(n.ka.forEach(((u,d)=>{l.push(n.Ha(d,e,r).then((h=>{var p;if((h||r)&&n.isPrimaryClient){const g=h?!h.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){s.push(h);const g=Lv.Yi(d.targetId,h);a.push(g)}})))})),await Promise.all(l),n.La.p_(s),await(async function(d,h){const p=Lt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>$e.forEach(h,(y=>$e.forEach(y.Hi,(v=>p.persistence.referenceDelegate.addReference(g,y.targetId,v))).next((()=>$e.forEach(y.Ji,(v=>p.persistence.referenceDelegate.removeReference(g,y.targetId,v)))))))))}catch(g){if(!Fu(g))throw g;pt(Mv,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const v=p.Ts.get(y),_=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(_);p.Ts=p.Ts.insert(y,w)}}})(n.localStore,a))}async function kO(t,e){const r=Lt(t);if(!r.currentUser.isEqual(e)){pt(Xv,"User change. New user:",e.toKey());const n=await iA(r.localStore,e);r.currentUser=e,(function(a,l){a.Ga.forEach((u=>{u.forEach((d=>{d.reject(new ot(Fe.CANCELLED,l))}))})),a.Ga.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await U0(r,n.Rs)}}function AO(t,e){const r=Lt(t),n=r.Ua.get(e);if(n&&n.Ba)return Yt().add(n.key);{let s=Yt();const a=r.qa.get(e);if(!a)return s;for(const l of a){const u=r.ka.get(l);s=s.unionWith(u.view.Sa)}return s}}function _A(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_O.bind(null,e),e.La.p_=uO.bind(null,e.eventManager),e.La.Ja=dO.bind(null,e.eventManager),e}function SO(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TO.bind(null,e),e}class mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return P7(this.persistence,new C7,e.initialUser,this.serializer)}Xa(e){return new aA(Fv.ri,this.serializer)}Za(e){return new V7}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mp.provider={build:()=>new mp};class CO extends mp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){er(this.persistence.referenceDelegate instanceof fp);const n=this.persistence.referenceDelegate.garbageCollector;return new p7(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new aA((n=>fp.ri(n,r)),this.serializer)}}class Sy{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>f_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=kO.bind(null,this.syncEngine),await oO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cO})()}createDatastore(e){const r=fm(e.databaseInfo.databaseId),n=(function(a){return new H7(a)})(e.databaseInfo);return(function(a,l,u,d){return new K7(a,l,u,d)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,s,a,l,u){return new X7(n,s,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(r=>f_(this.syncEngine,r,0)),(function(){return o_.D()?new o_:new $7})())}createSyncEngine(e,r){return(function(s,a,l,u,d,h,p){const g=new mO(s,a,l,u,d,h);return p&&(g.ja=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(s){const a=Lt(s);pt(Ll,"RemoteStore shutting down."),a.W_.add(5),await B0(a),a.z_.shutdown(),a.j_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Sy.provider={build:()=>new Sy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ot(Fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await(async function(s,a){const l=Lt(s),u={documents:a.map((g=>hp(l.serializer,g)))},d=await l.Co("BatchGetDocuments",l.serializer.databaseId,Nr.emptyPath(),u,a.length),h=new Map;d.forEach((g=>{const y=Q9(l.serializer,g);h.set(y.key.toString(),y)}));const p=[];return a.forEach((g=>{const y=h.get(g.toString());er(!!y),p.push(y)})),p})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new dm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{const s=At.fromPath(n);this.mutations.push(new Wk(s,this.precondition(s)))})),await(async function(n,s){const a=Lt(n),l={writes:s.map((u=>eA(a.serializer,u)))};await a.So("Commit",a.serializer.databaseId,Nr.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw It();r=Pt.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new ot(Fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Pt.min())?Fn.exists(!1):Fn.updateTime(r):Fn.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Pt.min()))throw new ot(Fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(r)}return Fn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,r,n,s,a){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=s,this.deferred=a,this.Tu=n.maxAttempts,this.a_=new Vv(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo((async()=>{const e=new jO(this.datastore),r=this.du(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((s=>{this.Au(s)}))))})).catch((n=>{this.Au(n)}))}))}du(e){try{const r=this.updateFunction(e);return!M0(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Eu(),Promise.resolve())))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!Gk(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="FirestoreClient";class PO{constructor(e,r,n,s,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Jn.UNAUTHENTICATED,this.clientId=fk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async l=>{pt(Ho,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(pt(Ho,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Wv(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Cx(t,e){t.asyncQueue.verifyOperationInProgress(),pt(Ho,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async s=>{n.isEqual(s)||(await iA(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function m_(t,e){t.asyncQueue.verifyOperationInProgress();const r=await RO(t);pt(Ho,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>c_(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,s)=>c_(e.remoteStore,s))),t._onlineComponents=e}async function RO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pt(Ho,"Using user provided OfflineComponentProvider");try{await Cx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Fe.FAILED_PRECONDITION||s.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(r))throw r;pu("Error using user provided cache. Falling back to memory cache: "+r),await Cx(t,new mp)}}else pt(Ho,"Using default OfflineComponentProvider"),await Cx(t,new CO(void 0));return t._offlineComponents}async function Zv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pt(Ho,"Using user provided OnlineComponentProvider"),await m_(t,t._uninitializedComponentsProvider._online)):(pt(Ho,"Using default OnlineComponentProvider"),await m_(t,new Sy))),t._onlineComponents}function DO(t){return Zv(t).then((e=>e.syncEngine))}function OO(t){return Zv(t).then((e=>e.datastore))}async function gp(t){const e=await Zv(t),r=e.eventManager;return r.onListen=gO.bind(null,e.syncEngine),r.onUnlisten=vO.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=xO.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=bO.bind(null,e.syncEngine),r}function FO(t,e,r={}){const n=new ei;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,h){const p=new Jv({next:y=>{p.su(),l.enqueueAndForget((()=>qv(a,g)));const v=y.docs.has(u);!v&&y.fromCache?h.reject(new ot(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&d&&d.source==="server"?h.reject(new ot(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Yv(im(u.path),p,{includeMetadataChanges:!0,Ta:!0});return Gv(a,g)})(await gp(t),t.asyncQueue,e,r,n))),n.promise}function LO(t,e,r={}){const n=new ei;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,h){const p=new Jv({next:y=>{p.su(),l.enqueueAndForget((()=>qv(a,g))),y.fromCache&&d.source==="server"?h.reject(new ot(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Yv(u,p,{includeMetadataChanges:!0,Ta:!0});return Gv(a,g)})(await gp(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t,e,r){if(!r)throw new ot(Fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MO(t,e,r,n){if(e===!0&&n===!0)throw new ot(Fe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function x_(t){if(!At.isDocumentKey(t))throw new ot(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function y_(t){if(At.isDocumentKey(t))throw new ot(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":It()}function ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ot(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=gm(t);throw new ot(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function VO(t,e){if(e<=0)throw new ot(Fe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="firestore.googleapis.com",v_=!0;class b_{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NA,this.ssl=v_}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:v_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h7)throw new ot(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EA((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xm{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new GD;switch(n.type){case"firstParty":return new XD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ot(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=g_.get(r);n&&(pt("ComponentProvider","Removing Datastore"),g_.delete(r),n.terminate())})(this),Promise.resolve()}}function $O(t,e,r,n={}){var s;const a=(t=ds(t,xm))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${r}`;a.host!==NA&&a.host!==u&&pu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:u,ssl:!1,emulatorOptions:n});if(!Mo(d,l)&&(t._setSettings(d),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=Jn.MOCK_USER;else{h=pN(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new ot(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Jn(g)}t._authCredentials=new qD(new dk(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class Vn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Fo extends Xi{constructor(e,r,n){super(e,r,im(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new At(e))}withConverter(e){return new Fo(this.firestore,e,this._path)}}function _t(t,e,...r){if(t=kr(t),TA("collection","path",e),t instanceof xm){const n=Nr.fromString(e,...r);return y_(n),new Fo(t,null,n)}{if(!(t instanceof Vn||t instanceof Fo))throw new ot(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nr.fromString(e,...r));return y_(n),new Fo(t.firestore,null,n)}}function at(t,e,...r){if(t=kr(t),arguments.length===1&&(e=fk.newId()),TA("doc","path",e),t instanceof xm){const n=Nr.fromString(e,...r);return x_(n),new Vn(t,null,new At(n))}{if(!(t instanceof Vn||t instanceof Fo))throw new ot(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nr.fromString(e,...r));return x_(n),new Vn(t.firestore,t instanceof Fo?t.converter:null,new At(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="AsyncQueue";class __{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Vv(this,"async_queue_retry"),this.Su=()=>{const n=Sx();n&&pt(w_,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=Sx();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=Sx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const r=new ei;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Fu(e))throw e;pt(w_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const r=this.bu.then((()=>(this.pu=!0,e().catch((n=>{this.gu=n,this.pu=!1;const s=(function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u})(n);throw zi("INTERNAL UNHANDLED ERROR: ",s),n})).then((n=>(this.pu=!1,n))))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const s=Hv.createAndSchedule(this,e,r,n,(a=>this.Fu(a)));return this.fu.push(s),s}Du(){this.gu&&It()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function E_(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const a of n)if(a in s&&typeof s[a]=="function")return!0;return!1})(t,["next","error","complete"])}class ci extends xm{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new __,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __(e),this._firestoreClient=void 0,await e}}}function BO(t,e){const r=typeof t=="object"?t:em(),n=typeof t=="string"?t:op,s=Jo(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const a=dN("firestore");a&&$O(s,...a)}return s}function z0(t){if(t._terminated)throw new ot(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UO(t),t._firestoreClient}function UO(t){var e,r,n;const s=t._freezeSettings(),a=(function(u,d,h,p){return new d9(u,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,EA(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new PO(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(u){const d=u?._online.build();return{_offline:u?._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ml(Bn.fromBase64String(e))}catch(r){throw new ot(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ml(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ot(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ot(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ot(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==s[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=/^__.*__$/;class HO{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new tl(e,this.data,this.fieldMask,r,this.fieldTransforms):new V0(e,this.data,r,this.fieldTransforms)}}class kA{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new tl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function AA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class r1{constructor(e,r,n,s,a,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new r1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.$u(e),s}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return xp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(AA(this.Lu)&&zO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class WO{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||fm(e)}ju(e,r,n,s=!1){return new r1({Lu:e,methodName:r,zu:n,path:On.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G0(t){const e=t._freezeSettings(),r=fm(t._databaseId);return new WO(t._databaseId,!!e.ignoreUndefinedProperties,r)}function n1(t,e,r,n,s,a={}){const l=t.ju(a.merge||a.mergeFields?2:0,e,r,s);i1("Data must be an object, but it was:",l,n);const u=jA(n,l);let d,h;if(a.merge)d=new Bs(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const y=Cy(e,g,r);if(!l.contains(y))throw new ot(Fe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);PA(p,y)||p.push(y)}d=new Bs(p),h=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=l.fieldTransforms;return new HO(new cs(u),d,h)}class ym extends W0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ym}}class s1 extends W0{_toFieldTransform(e){return new Uk(e.path,new c0)}isEqual(e){return e instanceof s1}}class a1 extends W0{constructor(e,r){super(e),this.Ju=r}_toFieldTransform(e){const r=new h0(e.serializer,Lk(e.serializer,this.Ju));return new Uk(e.path,r)}isEqual(e){return e instanceof a1&&this.Ju===e.Ju}}function SA(t,e,r,n){const s=t.ju(1,e,r);i1("Data must be an object, but it was:",s,n);const a=[],l=cs.empty();el(n,((d,h)=>{const p=o1(e,d,r);h=kr(h);const g=s.Uu(p);if(h instanceof ym)a.push(p);else{const y=q0(h,g);y!=null&&(a.push(p),l.set(p,y))}}));const u=new Bs(a);return new kA(l,u,s.fieldTransforms)}function CA(t,e,r,n,s,a){const l=t.ju(1,e,r),u=[Cy(e,n,r)],d=[s];if(a.length%2!=0)throw new ot(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(Cy(e,a[y])),d.push(a[y+1]);const h=[],p=cs.empty();for(let y=u.length-1;y>=0;--y)if(!PA(h,u[y])){const v=u[y];let _=d[y];_=kr(_);const w=l.Uu(v);if(_ instanceof ym)h.push(v);else{const E=q0(_,w);E!=null&&(h.push(v),p.set(v,E))}}const g=new Bs(h);return new kA(p,g,l.fieldTransforms)}function GO(t,e,r,n=!1){return q0(r,t.ju(n?4:3,e))}function q0(t,e){if(IA(t=kr(t)))return i1("Unsupported field value:",e,t),jA(t,e);if(t instanceof W0)return(function(n,s){if(!AA(s.Lu))throw s.Wu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return(function(n,s){const a=[];let l=0;for(const u of n){let d=q0(u,s.Ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(t,e)}return(function(n,s){if((n=kr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Lk(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=br.fromDate(n);return{timestampValue:dp(s.serializer,a)}}if(n instanceof br){const a=new br(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:dp(s.serializer,a)}}if(n instanceof e1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ml)return{bytesValue:Xk(s.serializer,n._byteString)};if(n instanceof Vn){const a=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Dv(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof t1)return(function(l,u){return{mapValue:{fields:{[wk]:{stringValue:_k},[lp]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return Iv(u.serializer,h)}))}}}}}})(n,s);throw s.Wu(`Unsupported field value: ${gm(n)}`)})(t,e)}function jA(t,e){const r={};return mk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):el(t,((n,s)=>{const a=q0(s,e.qu(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function IA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof br||t instanceof e1||t instanceof Ml||t instanceof Vn||t instanceof W0||t instanceof t1)}function i1(t,e,r){if(!IA(r)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(r)){const n=gm(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function Cy(t,e,r){if((e=kr(e))instanceof H0)return e._internalPath;if(typeof e=="string")return o1(t,e);throw xp("Field path arguments must be of type string or ",t,!1,void 0,r)}const qO=new RegExp("[~\\*/\\[\\]]");function o1(t,e,r){if(e.search(qO)>=0)throw xp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new H0(...e.split("."))._internalPath}catch{throw xp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function xp(t,e,r,n,s){const a=n&&!n.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${n}`),l&&(d+=` in document ${s}`),d+=")"),new ot(Fe.INVALID_ARGUMENT,u+t+d)}function PA(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,r,n,s,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(vm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class KO extends yp{data(){return super.data()}}function vm(t,e){return typeof e=="string"?o1(t,e):e instanceof H0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ot(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l1{}class c1 extends l1{}function Zt(t,e,...r){let n=[];e instanceof l1&&n.push(e),n=n.concat(r),(function(a){const l=a.filter((d=>d instanceof u1)).length,u=a.filter((d=>d instanceof bm)).length;if(l>1||l>0&&u>0)throw new ot(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)t=s._apply(t);return t}class bm extends c1{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new bm(e,r,n)}_apply(e){const r=this._parse(e);return OA(e._query,r),new Xi(e.firestore,e.converter,by(e._query,r))}_parse(e){const r=G0(e.firestore);return(function(a,l,u,d,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ot(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){N_(g,p);const _=[];for(const w of g)_.push(T_(d,a,w));y={arrayValue:{values:_}}}else y=T_(d,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||N_(g,p),y=GO(u,l,g,p==="in"||p==="not-in");return sn.create(h,p,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function gr(t,e,r){const n=e,s=vm("where",t);return bm._create(s,n,r)}class u1 extends l1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new u1(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Oa.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(s,a){let l=s;const u=a.getFlattenedFilters();for(const d of u)OA(l,d),l=by(l,d)})(e._query,r),new Xi(e.firestore,e.converter,by(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class d1 extends c1{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new d1(e,r)}_apply(e){const r=(function(s,a,l){if(s.startAt!==null)throw new ot(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ot(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new l0(a,l)})(e._query,this._field,this._direction);return new Xi(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new Lu(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,r))}}function h1(t,e="asc"){const r=e,n=vm("orderBy",t);return d1._create(n,r)}class f1 extends c1{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new f1(e,r,n)}_apply(e){return new Xi(e.firestore,e.converter,up(e._query,this._limit,this._limitType))}}function DA(t){return VO("limit",t),f1._create("limit",t,"F")}function T_(t,e,r){if(typeof(r=kr(r))=="string"){if(r==="")throw new ot(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jk(e)&&r.indexOf("/")!==-1)throw new ot(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Nr.fromString(r));if(!At.isDocumentKey(n))throw new ot(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return V4(t,new At(n))}if(r instanceof Vn)return V4(t,r._key);throw new ot(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gm(r)}.`)}function N_(t,e){if(!Array.isArray(t)||t.length===0)throw new ot(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OA(t,e){const r=(function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new ot(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class FA{convertValue(e,r="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw It()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return el(e,((s,a)=>{n[s]=this.convertValue(a,r)})),n}convertVectorValue(e){var r,n,s;const a=(s=(n=(r=e.fields)===null||r===void 0?void 0:r[lp].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map((l=>Qr(l.doubleValue)));return new t1(a)}convertGeoPoint(e){return new e1(Qr(e.latitude),Qr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=am(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(a0(e));default:return null}}convertTimestamp(e){const r=$o(e);return new br(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Nr.fromString(e);er(nA(n));const s=new i0(n.get(1),n.get(3)),a=new At(n.popFirst(5));return s.isEqual(r)||zi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class YO extends FA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ml(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class m1 extends yp{constructor(e,r,n,s,a,l){super(e,r,n,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(vm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Wf extends m1{data(e={}){return super.data(e)}}class LA{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Zc(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Wf(this._firestore,this._userDataWriter,n.key,n,new Zc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ot(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const d=new Wf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Zc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const d=new Wf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Zc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:XO(u.type),doc:d,oldIndex:h,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function XO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t){t=ds(t,Vn);const e=ds(t.firestore,ci);return FO(z0(e),t._key).then((r=>MA(e,t,r)))}class wm extends FA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ml(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,r)}}function Jr(t){t=ds(t,Xi);const e=ds(t.firestore,ci),r=z0(e),n=new wm(e);return RA(t._query),LO(r,t._query).then((s=>new LA(e,n,t,s)))}function ui(t,e,r){t=ds(t,Vn);const n=ds(t.firestore,ci),s=p1(t.converter,e,r);return _m(n,[n1(G0(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Fn.none())])}function jr(t,e,r,...n){t=ds(t,Vn);const s=ds(t.firestore,ci),a=G0(s);let l;return l=typeof(e=kr(e))=="string"||e instanceof H0?CA(a,"updateDoc",t._key,e,r,n):SA(a,"updateDoc",t._key,e),_m(s,[l.toMutation(t._key,Fn.exists(!0))])}function Ri(t){return _m(ds(t.firestore,ci),[new dm(t._key,Fn.none())])}function Lo(t,e){const r=ds(t.firestore,ci),n=at(t),s=p1(t.converter,e);return _m(r,[n1(G0(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Fn.exists(!1))]).then((()=>n))}function or(t,...e){var r,n,s;t=kr(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||E_(e[l])||(a=e[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(E_(e[l])){const g=e[l];e[l]=(r=g.next)===null||r===void 0?void 0:r.bind(g),e[l+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),e[l+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let d,h,p;if(t instanceof Vn)h=ds(t.firestore,ci),p=im(t._key.path),d={next:g=>{e[l]&&e[l](MA(h,t,g))},error:e[l+1],complete:e[l+2]};else{const g=ds(t,Xi);h=ds(g.firestore,ci),p=g._query;const y=new wm(h);d={next:v=>{e[l]&&e[l](new LA(h,y,g,v))},error:e[l+1],complete:e[l+2]},RA(t._query)}return(function(y,v,_,w){const E=new Jv(w),O=new Yv(v,E,_);return y.asyncQueue.enqueueAndForget((async()=>Gv(await gp(y),O))),()=>{E.su(),y.asyncQueue.enqueueAndForget((async()=>qv(await gp(y),O)))}})(z0(h),p,u,d)}function _m(t,e){return(function(n,s){const a=new ei;return n.asyncQueue.enqueueAndForget((async()=>wO(await DO(n),s,a))),a.promise})(z0(t),e)}function MA(t,e,r){const n=r.docs.get(e._key),s=new wm(t);return new m1(t,s,e._key,n,new Zc(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO={maxAttempts:5};function Pd(t,e){if((t=kr(t)).firestore!==e)throw new ot(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=G0(e)}get(e){const r=Pd(e,this._firestore),n=new YO(this._firestore);return this._transaction.lookup([r._key]).then((s=>{if(!s||s.length!==1)return It();const a=s[0];if(a.isFoundDocument())return new yp(this._firestore,n,a.key,a,r.converter);if(a.isNoDocument())return new yp(this._firestore,n,r._key,null,r.converter);throw It()}))}set(e,r,n){const s=Pd(e,this._firestore),a=p1(s.converter,r,n),l=n1(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,n);return this._transaction.set(s._key,l),this}update(e,r,n,...s){const a=Pd(e,this._firestore);let l;return l=typeof(r=kr(r))=="string"||r instanceof H0?CA(this._dataReader,"Transaction.update",a._key,r,n,s):SA(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,l),this}delete(e){const r=Pd(e,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO extends JO{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Pd(e,this._firestore),n=new wm(this._firestore);return super.get(e).then((s=>new m1(this._firestore,n,r._key,s._document,new Zc(!1,!1),r.converter)))}}function vp(t,e,r){t=ds(t,ci);const n=Object.assign(Object.assign({},QO),r);return(function(a){if(a.maxAttempts<1)throw new ot(Fe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(a,l,u){const d=new ei;return a.asyncQueue.enqueueAndForget((async()=>{const h=await OO(a);new IO(a.asyncQueue,h,u,l,d).Iu()})),d.promise})(z0(t),(s=>e(new ZO(t,s))),n)}function ir(){return new s1("serverTimestamp")}function eF(t){return new a1("increment",t)}(function(e,r=!0){(function(s){Du=s})(Kl),Ra(new la("firestore",((n,{instanceIdentifier:s,options:a})=>{const l=n.getProvider("app").getImmediate(),u=new ci(new KD(n.getProvider("auth-internal")),new QD(l,n.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ot(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new i0(h.options.projectId,p)})(l,s),l);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Ts(A4,S4,e),Ts(A4,S4,"esm2017")})();var tF="firebase",rF="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(tF,rF,"app");const VA="@firebase/installations",g1="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=1e4,BA=`w:${g1}`,UA="FIS_v2",nF="https://firebaseinstallations.googleapis.com/v1",sF=3600*1e3,aF="installations",iF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vl=new ql(aF,iF,oF);function zA(t){return t instanceof ca&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA({projectId:t}){return`${nF}/projects/${t}/installations`}function WA(t){return{token:t.token,requestStatus:2,expiresIn:cF(t.expiresIn),creationTime:Date.now()}}async function GA(t,e){const n=(await e.json()).error;return Vl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function qA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function lF(t,{refreshToken:e}){const r=qA(t);return r.append("Authorization",uF(e)),r}async function KA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function cF(t){return Number(t.replace("s","000"))}function uF(t){return`${UA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=HA(t),s=qA(t),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const l={fid:r,authVersion:UA,appId:t.appId,sdkVersion:BA},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await KA(()=>fetch(n,u));if(d.ok){const h=await d.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:WA(h.authToken)}}else throw await GA("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=/^[cdef][\w-]{21}$/,jy="";function pF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=mF(t);return fF.test(r)?r:jy}catch{return jy}}function mF(t){return hF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new Map;function QA(t,e){const r=Em(t);JA(r,e),gF(r,e)}function JA(t,e){const r=XA.get(t);if(r)for(const n of r)n(e)}function gF(t,e){const r=xF();r&&r.postMessage({key:t,fid:e}),yF()}let Al=null;function xF(){return!Al&&"BroadcastChannel"in self&&(Al=new BroadcastChannel("[Firebase] FID Change"),Al.onmessage=t=>{JA(t.data.key,t.data.fid)}),Al}function yF(){XA.size===0&&Al&&(Al.close(),Al=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="firebase-installations-database",bF=1,$l="firebase-installations-store";let jx=null;function x1(){return jx||(jx=bN(vF,bF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($l)}}})),jx}async function bp(t,e){const r=Em(t),s=(await x1()).transaction($l,"readwrite"),a=s.objectStore($l),l=await a.get(r);return await a.put(e,r),await s.done,(!l||l.fid!==e.fid)&&QA(t,e.fid),e}async function ZA(t){const e=Em(t),n=(await x1()).transaction($l,"readwrite");await n.objectStore($l).delete(e),await n.done}async function Tm(t,e){const r=Em(t),s=(await x1()).transaction($l,"readwrite"),a=s.objectStore($l),l=await a.get(r),u=e(l);return u===void 0?await a.delete(r):await a.put(u,r),await s.done,u&&(!l||l.fid!==u.fid)&&QA(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(t){let e;const r=await Tm(t.appConfig,n=>{const s=wF(n),a=_F(t,s);return e=a.registrationPromise,a.installationEntry});return r.fid===jy?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function wF(t){const e=t||{fid:pF(),registrationStatus:0};return e3(e)}function _F(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Vl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=EF(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TF(t)}:{installationEntry:e}}async function EF(t,e){try{const r=await dF(t,e);return bp(t.appConfig,r)}catch(r){throw zA(r)&&r.customData.serverCode===409?await ZA(t.appConfig):await bp(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function TF(t){let e=await k_(t.appConfig);for(;e.registrationStatus===1;)await YA(100),e=await k_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await y1(t);return n||r}return e}function k_(t){return Tm(t,e=>{if(!e)throw Vl.create("installation-not-found");return e3(e)})}function e3(t){return NF(t)?{fid:t.fid,registrationStatus:0}:t}function NF(t){return t.registrationStatus===1&&t.registrationTime+$A<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kF({appConfig:t,heartbeatServiceProvider:e},r){const n=AF(t,r),s=lF(t,r),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const l={installation:{sdkVersion:BA,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await KA(()=>fetch(n,u));if(d.ok){const h=await d.json();return WA(h)}else throw await GA("Generate Auth Token",d)}function AF(t,{fid:e}){return`${HA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(t,e=!1){let r;const n=await Tm(t.appConfig,a=>{if(!t3(a))throw Vl.create("not-registered");const l=a.authToken;if(!e&&jF(l))return a;if(l.requestStatus===1)return r=SF(t,e),a;{if(!navigator.onLine)throw Vl.create("app-offline");const u=PF(a);return r=CF(t,u),u}});return r?await r:n.authToken}async function SF(t,e){let r=await A_(t.appConfig);for(;r.authToken.requestStatus===1;)await YA(100),r=await A_(t.appConfig);const n=r.authToken;return n.requestStatus===0?v1(t,e):n}function A_(t){return Tm(t,e=>{if(!t3(e))throw Vl.create("not-registered");const r=e.authToken;return RF(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function CF(t,e){try{const r=await kF(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await bp(t.appConfig,n),r}catch(r){if(zA(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await ZA(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await bp(t.appConfig,n)}throw r}}function t3(t){return t!==void 0&&t.registrationStatus===2}function jF(t){return t.requestStatus===2&&!IF(t)}function IF(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+sF}function PF(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function RF(t){return t.requestStatus===1&&t.requestTime+$A<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(t){const e=t,{installationEntry:r,registrationPromise:n}=await y1(e);return n?n.catch(console.error):v1(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t,e=!1){const r=t;return await FF(r),(await v1(r,e)).token}async function FF(t){const{registrationPromise:e}=await y1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){if(!t||!t.options)throw Ix("App Configuration");if(!t.name)throw Ix("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Ix(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ix(t){return Vl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="installations",MF="installations-internal",VF=t=>{const e=t.getProvider("app").getImmediate(),r=LF(e),n=Jo(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},$F=t=>{const e=t.getProvider("app").getImmediate(),r=Jo(e,r3).getImmediate();return{getId:()=>DF(r),getToken:s=>OF(r,s)}};function BF(){Ra(new la(r3,VF,"PUBLIC")),Ra(new la(MF,$F,"PRIVATE"))}BF();Ts(VA,g1);Ts(VA,g1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="analytics",UF="firebase_id",zF="origin",HF=60*1e3,WF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",b1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Zp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Hs=new ql("analytics","Analytics",GF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t){if(!t.startsWith(b1)){const e=Hs.create("invalid-gtag-resource",{gtagURL:t});return Ns.warn(e.message),""}return t}function n3(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function KF(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function YF(t,e){const r=KF("firebase-js-sdk-policy",{createScriptURL:qF}),n=document.createElement("script"),s=`${b1}?l=${t}&id=${e}`;n.src=r?r?.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function XF(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function QF(t,e,r,n,s,a){const l=n[s];try{if(l)await e[l];else{const d=(await n3(r)).find(h=>h.measurementId===s);d&&await e[d.appId]}}catch(u){Ns.error(u)}t("config",s,a)}async function JF(t,e,r,n,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await n3(r);for(const d of l){const h=u.find(g=>g.measurementId===d),p=h&&e[h.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,s||{})}catch(a){Ns.error(a)}}function ZF(t,e,r,n){async function s(a,...l){try{if(a==="event"){const[u,d]=l;await JF(t,e,r,u,d)}else if(a==="config"){const[u,d]=l;await QF(t,e,r,n,u,d)}else if(a==="consent"){const[u,d]=l;t("consent",u,d)}else if(a==="get"){const[u,d,h]=l;t("get",u,d,h)}else if(a==="set"){const[u]=l;t("set",u)}else t(a,...l)}catch(u){Ns.error(u)}}return s}function eL(t,e,r,n,s){let a=function(...l){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=ZF(a,t,e,r),{gtagCore:a,wrappedGtag:window[s]}}function tL(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(b1)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=30,nL=1e3;class sL{constructor(e={},r=nL){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const s3=new sL;function aL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function iL(t){var e;const{appId:r,apiKey:n}=t,s={method:"GET",headers:aL(n)},a=WF.replace("{app-id}",r),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const d=await l.json();!((e=d.error)===null||e===void 0)&&e.message&&(u=d.error.message)}catch{}throw Hs.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function oL(t,e=s3,r){const{appId:n,apiKey:s,measurementId:a}=t.options;if(!n)throw Hs.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:n};throw Hs.create("no-api-key")}const l=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new uL;return setTimeout(async()=>{u.abort()},HF),a3({appId:n,apiKey:s,measurementId:a},l,u,e)}async function a3(t,{throttleEndTimeMillis:e,backoffCount:r},n,s=s3){var a;const{appId:l,measurementId:u}=t;try{await lL(n,e)}catch(d){if(u)return Ns.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw d}try{const d=await iL(t);return s.deleteThrottleMetadata(l),d}catch(d){const h=d;if(!cL(h)){if(s.deleteThrottleMetadata(l),u)return Ns.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw d}const p=Number((a=h?.customData)===null||a===void 0?void 0:a.httpStatus)===503?Jw(r,s.intervalMillis,rL):Jw(r,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:r+1};return s.setThrottleMetadata(l,g),Ns.debug(`Calling attemptFetch again in ${p} millis`),a3(t,g,n,s)}}function lL(t,e){return new Promise((r,n)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(r,s);t.addEventListener(()=>{clearTimeout(a),n(Hs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cL(t){if(!(t instanceof ca)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class uL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function dL(t,e,r,n,s){if(s&&s.global){t("event",r,n);return}else{const a=await e,l=Object.assign(Object.assign({},n),{send_to:a});t("event",r,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(){if(gN())try{await xN()}catch(t){return Ns.warn(Hs.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Ns.warn(Hs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fL(t,e,r,n,s,a,l){var u;const d=oL(t);d.then(v=>{r[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Ns.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Ns.error(v)),e.push(d);const h=hL().then(v=>{if(v)return n.getId()}),[p,g]=await Promise.all([d,h]);tL(a)||YF(a,p.measurementId),s("js",new Date);const y=(u=l?.config)!==null&&u!==void 0?u:{};return y[zF]="firebase",y.update=!0,g!=null&&(y[UF]=g),s("config",p.measurementId,y),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.app=e}_delete(){return delete Ud[this.app.options.appId],Promise.resolve()}}let Ud={},S_=[];const C_={};let Px="dataLayer",mL="gtag",j_,i3,I_=!1;function gL(){const t=[];if(mN()&&t.push("This is a browser extension environment."),lP()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=Hs.create("invalid-analytics-context",{errorInfo:e});Ns.warn(r.message)}}function xL(t,e,r){gL();const n=t.options.appId;if(!n)throw Hs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ns.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Hs.create("no-api-key");if(Ud[n]!=null)throw Hs.create("already-exists",{id:n});if(!I_){XF(Px);const{wrappedGtag:a,gtagCore:l}=eL(Ud,S_,C_,Px,mL);i3=a,j_=l,I_=!0}return Ud[n]=fL(t,S_,C_,e,j_,Px,r),new pL(t)}function yL(t=em()){t=kr(t);const e=Jo(t,wp);return e.isInitialized()?e.getImmediate():vL(t)}function vL(t,e={}){const r=Jo(t,wp);if(r.isInitialized()){const s=r.getImmediate();if(Mo(e,r.getOptions()))return s;throw Hs.create("already-initialized")}return r.initialize({options:e})}function bL(t,e,r,n){t=kr(t),dL(i3,Ud[t.app.options.appId],e,r,n).catch(s=>Ns.error(s))}const P_="@firebase/analytics",R_="0.10.12";function wL(){Ra(new la(wp,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return xL(n,s,r)},"PUBLIC")),Ra(new la("analytics-internal",t,"PRIVATE")),Ts(P_,R_),Ts(P_,R_,"esm2017");function t(e){try{const r=e.getProvider(wp).getImmediate();return{logEvent:(n,s,a)=>bL(r,n,s,a)}}catch(r){throw Hs.create("interop-component-reg-failed",{reason:r})}}}wL();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="firebasestorage.googleapis.com",_L="storageBucket",EL=120*1e3,TL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends ca{constructor(e,r,n=0){super(Rx(e),`Firebase Storage: ${r} (${Rx(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var di;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(di||(di={}));function Rx(t){return"storage/"+t}function NL(){const t="An unknown error occurred, please check the error payload for server response.";return new mi(di.UNKNOWN,t)}function kL(){return new mi(di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AL(){return new mi(di.CANCELED,"User canceled the upload/download.")}function SL(t){return new mi(di.INVALID_URL,"Invalid URL '"+t+"'.")}function CL(t){return new mi(di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function D_(t){return new mi(di.INVALID_ARGUMENT,t)}function l3(){return new mi(di.APP_DELETED,"The Firebase app was deleted.")}function jL(t){return new mi(di.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Sa.makeFromUrl(e,r)}catch{return new Sa(e,"")}if(n.path==="")return n;throw CL(e)}static makeFromUrl(e,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function a(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function h(L){L.path_=decodeURIComponent(L.path)}const p="v[A-Za-z0-9_]+",g=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${p}/b/${s}/o${y}`,"i"),_={bucket:1,path:3},w=r===o3?"(?:storage.googleapis.com|storage.cloud.google.com)":r,E="([^?#]*)",O=new RegExp(`^https?://${w}/${s}/${E}`,"i"),z=[{regex:u,indices:d,postModify:a},{regex:v,indices:_,postModify:h},{regex:O,indices:{bucket:1,path:2},postModify:h}];for(let L=0;L<z.length;L++){const Y=z[L],H=Y.regex.exec(e);if(H){const S=H[Y.indices.bucket];let A=H[Y.indices.path];A||(A=""),n=new Sa(S,A),Y.postModify(n);break}}if(n==null)throw SL(e);return n}}class IL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e,r){let n=1,s=null,a=null,l=!1,u=0;function d(){return u===2}let h=!1;function p(...E){h||(h=!0,e.apply(null,E))}function g(E){s=setTimeout(()=>{s=null,t(v,d())},E)}function y(){a&&clearTimeout(a)}function v(E,...O){if(h){y();return}if(E){y(),p.call(null,E,...O);return}if(d()||l){y(),p.call(null,E,...O);return}n<64&&(n*=2);let z;u===1?(u=2,z=0):z=(n+Math.random())*1e3,g(z)}let _=!1;function w(E){_||(_=!0,y(),!h&&(s!==null?(E||(u=2),clearTimeout(s),g(0)):E||(u=1)))}return g(0),a=setTimeout(()=>{l=!0,w(!0)},r),w}function RL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){return t!==void 0}function O_(t,e,r,n){if(n<e)throw D_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw D_(`Invalid value for '${t}'. Expected ${r} or less.`)}function OL(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const s=e(n)+"="+e(t[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var _p;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_p||(_p={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){const r=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,r,n,s,a,l,u,d,h,p,g,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,_)=>{this.resolve_=v,this.reject_=_,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new wf(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const d=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===_p.NO_ERROR,d=a.getStatus();if(!u||FL(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===_p.ABORT;n(!1,new wf(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new wf(h,a))})},r=(n,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());DL(d)?a(d):a()}catch(d){l(d)}else if(u!==null){const d=NL();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(s.canceled){const d=this.appDelete_?l3():AL();l(d)}else{const d=kL();l(d)}};this.canceled_?r(!1,new wf(!1,null,!0)):this.backoffId_=PL(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wf{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function ML(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function VL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $L(t,e){e&&(t["X-Firebase-GMPID"]=e)}function BL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function UL(t,e,r,n,s,a,l=!0){const u=OL(t.urlParams),d=t.url+u,h=Object.assign({},t.headers);return $L(h,e),ML(h,r),VL(h,a),BL(h,n),new LL(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function HL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,r){this._service=e,r instanceof Sa?this._location=r:this._location=Sa.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Ep(e,r)}get root(){const e=new Sa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HL(this._location.path)}get storage(){return this._service}get parent(){const e=zL(this._location.path);if(e===null)return null;const r=new Sa(this._location.bucket,e);return new Ep(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw jL(e)}}function F_(t,e){const r=e?.[_L];return r==null?null:Sa.makeFromBucketSpec(r,t)}function WL(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:pN(s,t.app.options.projectId))}class GL{constructor(e,r,n,s,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=o3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EL,this._maxUploadRetryTime=TL,this._requests=new Set,s!=null?this._bucket=Sa.makeFromBucketSpec(s,this._host):this._bucket=F_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sa.makeFromBucketSpec(this._url,e):this._bucket=F_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){O_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){O_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if($s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ep(this,e)}_makeRequest(e,r,n,s,a=!0){if(this._deleted)return new IL(l3());{const l=UL(e,this._appId,n,s,r,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,s).getPromise()}}const L_="@firebase/storage",M_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="storage";function qL(t=em(),e){t=kr(t);const n=Jo(t,c3).getImmediate({identifier:e}),s=dN("storage");return s&&KL(n,...s),n}function KL(t,e,r,n={}){WL(t,e,r,n)}function YL(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new GL(r,n,s,e,Kl)}function XL(){Ra(new la(c3,YL,"PUBLIC").setMultipleInstances(!0)),Ts(L_,M_,""),Ts(L_,M_,"esm2017")}XL();const QL={apiKey:"AIzaSyDYacL_WIzZUSP-Tjl3794P_jHocMDqN9g",authDomain:"blackkstreaming-55f0e.firebaseapp.com",projectId:"blackkstreaming-55f0e",storageBucket:"blackkstreaming-55f0e.firebasestorage.app",messagingSenderId:"998157647233",appId:"1:998157647233:web:3e5b8128a0275ae4553c80",measurementId:"G-GFM50WNMSP"},K0=wN(QL);yL(K0);const Ae=BO(K0);qL(K0);const qr=Tv(K0);R8(qr,XN);const u3=N.createContext(),JL=({children:t})=>{const e=Tv(K0),[r,n]=N.useState(null),[s,a]=N.useState(null),[l,u]=N.useState(!0);return N.useEffect(()=>{const d=Yl(e,async h=>{if(h){n(h);try{const p=await ri(at(Ae,"users",h.uid));p.exists()?a(p.data().role):a("user")}catch(p){console.error("Error fetching role:",p),a("user")}}else n(null),a(null);u(!1)});return()=>d()},[]),i.jsx(u3.Provider,{value:{user:r,role:s,loading:l},children:!l&&t})},Y0=()=>{const t=N.useContext(u3);if(t===void 0)throw new Error("useAuth debe usarse dentro de un AuthProvider");return t},ZL="modulepreload",eM=function(t){return"/"+t},V_={},cr=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let d=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=d(r.map(h=>{if(h=eM(h),h in V_)return;V_[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":ZL,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((v,_)=>{y.addEventListener("load",v),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},w1=N.createContext({});function _1(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const E1=typeof window<"u",d3=E1?N.useLayoutEffect:N.useEffect,Nm=N.createContext(null);function T1(t,e){t.indexOf(e)===-1&&t.push(e)}function N1(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Wi=(t,e,r)=>r>e?e:r<t?t:r;let k1=()=>{};const Gi={},h3=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function f3(t){return typeof t=="object"&&t!==null}const p3=t=>/^0[^.\s]+$/u.test(t);function A1(t){let e;return()=>(e===void 0&&(e=t()),e)}const aa=t=>t,tM=(t,e)=>r=>e(t(r)),X0=(...t)=>t.reduce(tM),f0=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class S1{constructor(){this.subscriptions=[]}add(e){return T1(this.subscriptions,e),()=>N1(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ni=t=>t*1e3,si=t=>t/1e3;function m3(t,e){return e?t*(1e3/e):0}const g3=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,rM=1e-7,nM=12;function sM(t,e,r,n,s){let a,l,u=0;do l=e+(r-e)/2,a=g3(l,n,s)-t,a>0?r=l:e=l;while(Math.abs(a)>rM&&++u<nM);return l}function Q0(t,e,r,n){if(t===e&&r===n)return aa;const s=a=>sM(a,0,1,t,r);return a=>a===0||a===1?a:g3(s(a),e,n)}const x3=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,y3=t=>e=>1-t(1-e),v3=Q0(.33,1.53,.69,.99),C1=y3(v3),b3=x3(C1),w3=t=>(t*=2)<1?.5*C1(t):.5*(2-Math.pow(2,-10*(t-1))),j1=t=>1-Math.sin(Math.acos(t)),_3=y3(j1),E3=x3(j1),aM=Q0(.42,0,1,1),iM=Q0(0,0,.58,1),T3=Q0(.42,0,.58,1),oM=t=>Array.isArray(t)&&typeof t[0]!="number",N3=t=>Array.isArray(t)&&typeof t[0]=="number",lM={linear:aa,easeIn:aM,easeInOut:T3,easeOut:iM,circIn:j1,circInOut:E3,circOut:_3,backIn:C1,backInOut:b3,backOut:v3,anticipate:w3},cM=t=>typeof t=="string",$_=t=>{if(N3(t)){k1(t.length===4);const[e,r,n,s]=t;return Q0(e,r,n,s)}else if(cM(t))return lM[t];return t},_f=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],B_={value:null};function uM(t,e){let r=new Set,n=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function h(g){l.has(g)&&(p.schedule(g),t()),d++,g(u)}const p={schedule:(g,y=!1,v=!1)=>{const w=v&&s?r:n;return y&&l.add(g),w.has(g)||w.add(g),g},cancel:g=>{n.delete(g),l.delete(g)},process:g=>{if(u=g,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(h),e&&B_.value&&B_.value.frameloop[e].push(d),d=0,r.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const dM=40;function k3(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,l=_f.reduce((z,L)=>(z[L]=uM(a,e?L:void 0),z),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:p,update:g,preRender:y,render:v,postRender:_}=l,w=()=>{const z=Gi.useManualTiming?s.timestamp:performance.now();r=!1,Gi.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(z-s.timestamp,dM),1)),s.timestamp=z,s.isProcessing=!0,u.process(s),d.process(s),h.process(s),p.process(s),g.process(s),y.process(s),v.process(s),_.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(w))},E=()=>{r=!0,n=!0,s.isProcessing||t(w)};return{schedule:_f.reduce((z,L)=>{const Y=l[L];return z[L]=(H,S=!1,A=!1)=>(r||E(),Y.schedule(H,S,A)),z},{}),cancel:z=>{for(let L=0;L<_f.length;L++)l[_f[L]].cancel(z)},state:s,steps:l}}const{schedule:Ur,cancel:Wo,state:Pn,steps:Dx}=k3(typeof requestAnimationFrame<"u"?requestAnimationFrame:aa,!0);let Gf;function hM(){Gf=void 0}const Es={now:()=>(Gf===void 0&&Es.set(Pn.isProcessing||Gi.useManualTiming?Pn.timestamp:performance.now()),Gf),set:t=>{Gf=t,queueMicrotask(hM)}},A3=t=>e=>typeof e=="string"&&e.startsWith(t),I1=A3("--"),fM=A3("var(--"),P1=t=>fM(t)?pM.test(t.split("/*")[0].trim()):!1,pM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},p0={...Vu,transform:t=>Wi(0,1,t)},Ef={...Vu,default:1},zd=t=>Math.round(t*1e5)/1e5,R1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mM(t){return t==null}const gM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,D1=(t,e)=>r=>!!(typeof r=="string"&&gM.test(r)&&r.startsWith(t)||e&&!mM(r)&&Object.prototype.hasOwnProperty.call(r,e)),S3=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,a,l,u]=n.match(R1);return{[t]:parseFloat(s),[e]:parseFloat(a),[r]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},xM=t=>Wi(0,255,t),Ox={...Vu,transform:t=>Math.round(xM(t))},Sl={test:D1("rgb","red"),parse:S3("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Ox.transform(t)+", "+Ox.transform(e)+", "+Ox.transform(r)+", "+zd(p0.transform(n))+")"};function yM(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Iy={test:D1("#"),parse:yM,transform:Sl.transform},J0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),No=J0("deg"),ai=J0("%"),Ot=J0("px"),vM=J0("vh"),bM=J0("vw"),U_={...ai,parse:t=>ai.parse(t)/100,transform:t=>ai.transform(t*100)},eu={test:D1("hsl","hue"),parse:S3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ai.transform(zd(e))+", "+ai.transform(zd(r))+", "+zd(p0.transform(n))+")"},Qn={test:t=>Sl.test(t)||Iy.test(t)||eu.test(t),parse:t=>Sl.test(t)?Sl.parse(t):eu.test(t)?eu.parse(t):Iy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Sl.transform(t):eu.transform(t)},wM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _M(t){return isNaN(t)&&typeof t=="string"&&(t.match(R1)?.length||0)+(t.match(wM)?.length||0)>0}const C3="number",j3="color",EM="var",TM="var(",z_="${}",NM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function m0(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(NM,d=>(Qn.test(d)?(n.color.push(a),s.push(j3),r.push(Qn.parse(d))):d.startsWith(TM)?(n.var.push(a),s.push(EM),r.push(d)):(n.number.push(a),s.push(C3),r.push(parseFloat(d))),++a,z_)).split(z_);return{values:r,split:u,indexes:n,types:s}}function I3(t){return m0(t).values}function P3(t){const{split:e,types:r}=m0(t),n=e.length;return s=>{let a="";for(let l=0;l<n;l++)if(a+=e[l],s[l]!==void 0){const u=r[l];u===C3?a+=zd(s[l]):u===j3?a+=Qn.transform(s[l]):a+=s[l]}return a}}const kM=t=>typeof t=="number"?0:t;function AM(t){const e=I3(t);return P3(t)(e.map(kM))}const Go={test:_M,parse:I3,createTransformer:P3,getAnimatableNone:AM};function Fx(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function SM({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,a=0,l=0;if(!e)s=a=l=r;else{const u=r<.5?r*(1+e):r+e-r*e,d=2*r-u;s=Fx(d,u,t+1/3),a=Fx(d,u,t),l=Fx(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:n}}function Tp(t,e){return r=>r>0?e:t}const Br=(t,e,r)=>t+(e-t)*r,Lx=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},CM=[Iy,Sl,eu],jM=t=>CM.find(e=>e.test(t));function H_(t){const e=jM(t);if(!e)return!1;let r=e.parse(t);return e===eu&&(r=SM(r)),r}const W_=(t,e)=>{const r=H_(t),n=H_(e);if(!r||!n)return Tp(t,e);const s={...r};return a=>(s.red=Lx(r.red,n.red,a),s.green=Lx(r.green,n.green,a),s.blue=Lx(r.blue,n.blue,a),s.alpha=Br(r.alpha,n.alpha,a),Sl.transform(s))},Py=new Set(["none","hidden"]);function IM(t,e){return Py.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function PM(t,e){return r=>Br(t,e,r)}function O1(t){return typeof t=="number"?PM:typeof t=="string"?P1(t)?Tp:Qn.test(t)?W_:OM:Array.isArray(t)?R3:typeof t=="object"?Qn.test(t)?W_:RM:Tp}function R3(t,e){const r=[...t],n=r.length,s=t.map((a,l)=>O1(a)(a,e[l]));return a=>{for(let l=0;l<n;l++)r[l]=s[l](a);return r}}function RM(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=O1(t[s])(t[s],e[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function DM(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][n[a]],u=t.values[l]??0;r[s]=u,n[a]++}return r}const OM=(t,e)=>{const r=Go.createTransformer(e),n=m0(t),s=m0(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Py.has(t)&&!s.values.length||Py.has(e)&&!n.values.length?IM(t,e):X0(R3(DM(n,s),s.values),r):Tp(t,e)};function D3(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Br(t,e,r):O1(t)(t,e)}const FM=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Ur.update(e,r),stop:()=>Wo(e),now:()=>Pn.isProcessing?Pn.timestamp:Es.now()}},O3=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let a=0;a<s;a++)n+=t(a/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Np=2e4;function F1(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Np;)e+=r,n=t.next(e);return e>=Np?1/0:e}function LM(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(F1(n),Np);return{type:"keyframes",ease:a=>n.next(s*a).value/e,duration:si(s)}}const MM=5;function F3(t,e,r){const n=Math.max(e-MM,0);return m3(r-t(n),e-n)}const Wr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mx=.001;function VM({duration:t=Wr.duration,bounce:e=Wr.bounce,velocity:r=Wr.velocity,mass:n=Wr.mass}){let s,a,l=1-e;l=Wi(Wr.minDamping,Wr.maxDamping,l),t=Wi(Wr.minDuration,Wr.maxDuration,si(t)),l<1?(s=h=>{const p=h*l,g=p*t,y=p-r,v=Ry(h,l),_=Math.exp(-g);return Mx-y/v*_},a=h=>{const g=h*l*t,y=g*r+r,v=Math.pow(l,2)*Math.pow(h,2)*t,_=Math.exp(-g),w=Ry(Math.pow(h,2),l);return(-s(h)+Mx>0?-1:1)*((y-v)*_)/w}):(s=h=>{const p=Math.exp(-h*t),g=(h-r)*t+1;return-Mx+p*g},a=h=>{const p=Math.exp(-h*t),g=(r-h)*(t*t);return p*g});const u=5/t,d=BM(s,a,u);if(t=ni(t),isNaN(d))return{stiffness:Wr.stiffness,damping:Wr.damping,duration:t};{const h=Math.pow(d,2)*n;return{stiffness:h,damping:l*2*Math.sqrt(n*h),duration:t}}}const $M=12;function BM(t,e,r){let n=r;for(let s=1;s<$M;s++)n=n-t(n)/e(n);return n}function Ry(t,e){return t*Math.sqrt(1-e*e)}const UM=["duration","bounce"],zM=["stiffness","damping","mass"];function G_(t,e){return e.some(r=>t[r]!==void 0)}function HM(t){let e={velocity:Wr.velocity,stiffness:Wr.stiffness,damping:Wr.damping,mass:Wr.mass,isResolvedFromDuration:!1,...t};if(!G_(t,zM)&&G_(t,UM))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*Wi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Wr.mass,stiffness:s,damping:a}}else{const r=VM(t);e={...e,...r,mass:Wr.mass},e.isResolvedFromDuration=!0}return e}function kp(t=Wr.visualDuration,e=Wr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],u={done:!1,value:a},{stiffness:d,damping:h,mass:p,duration:g,velocity:y,isResolvedFromDuration:v}=HM({...r,velocity:-si(r.velocity||0)}),_=y||0,w=h/(2*Math.sqrt(d*p)),E=l-a,O=si(Math.sqrt(d/p)),j=Math.abs(E)<5;n||(n=j?Wr.restSpeed.granular:Wr.restSpeed.default),s||(s=j?Wr.restDelta.granular:Wr.restDelta.default);let z;if(w<1){const Y=Ry(O,w);z=H=>{const S=Math.exp(-w*O*H);return l-S*((_+w*O*E)/Y*Math.sin(Y*H)+E*Math.cos(Y*H))}}else if(w===1)z=Y=>l-Math.exp(-O*Y)*(E+(_+O*E)*Y);else{const Y=O*Math.sqrt(w*w-1);z=H=>{const S=Math.exp(-w*O*H),A=Math.min(Y*H,300);return l-S*((_+w*O*E)*Math.sinh(A)+Y*E*Math.cosh(A))/Y}}const L={calculatedDuration:v&&g||null,next:Y=>{const H=z(Y);if(v)u.done=Y>=g;else{let S=Y===0?_:0;w<1&&(S=Y===0?ni(_):F3(z,Y,H));const A=Math.abs(S)<=n,I=Math.abs(l-H)<=s;u.done=A&&I}return u.value=u.done?l:H,u},toString:()=>{const Y=Math.min(F1(L),Np),H=O3(S=>L.next(Y*S).value,Y,30);return Y+"ms "+H},toTransition:()=>{}};return L}kp.applyToOptions=t=>{const e=LM(t,100,kp);return t.ease=e.ease,t.duration=ni(e.duration),t.type="keyframes",t};function Dy({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:d,restDelta:h=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},v=A=>u!==void 0&&A<u||d!==void 0&&A>d,_=A=>u===void 0?d:d===void 0||Math.abs(u-A)<Math.abs(d-A)?u:d;let w=r*e;const E=g+w,O=l===void 0?E:l(E);O!==E&&(w=O-g);const j=A=>-w*Math.exp(-A/n),z=A=>O+j(A),L=A=>{const I=j(A),P=z(A);y.done=Math.abs(I)<=h,y.value=y.done?O:P};let Y,H;const S=A=>{v(y.value)&&(Y=A,H=kp({keyframes:[y.value,_(y.value)],velocity:F3(z,A,y.value),damping:s,stiffness:a,restDelta:h,restSpeed:p}))};return S(0),{calculatedDuration:null,next:A=>{let I=!1;return!H&&Y===void 0&&(I=!0,L(A),S(A)),Y!==void 0&&A>=Y?H.next(A-Y):(!I&&L(A),y)}}}function WM(t,e,r){const n=[],s=r||Gi.mix||D3,a=t.length-1;for(let l=0;l<a;l++){let u=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||aa:e;u=X0(d,u)}n.push(u)}return n}function GM(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const a=t.length;if(k1(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=WM(e,n,s),d=u.length,h=p=>{if(l&&p<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=f0(t[g],t[g+1],p);return u[g](y)};return r?p=>h(Wi(t[0],t[a-1],p)):h}function qM(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=f0(0,e,n);t.push(Br(r,1,s))}}function KM(t){const e=[0];return qM(e,t.length-1),e}function YM(t,e){return t.map(r=>r*e)}function XM(t,e){return t.map(()=>e||T3).splice(0,t.length-1)}function Hd({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=oM(n)?n.map($_):$_(n),a={done:!1,value:e[0]},l=YM(r&&r.length===e.length?r:KM(e),t),u=GM(l,e,{ease:Array.isArray(s)?s:XM(e,s)});return{calculatedDuration:t,next:d=>(a.value=u(d),a.done=d>=t,a)}}const QM=t=>t!==null;function L1(t,{repeat:e,repeatType:r="loop"},n,s=1){const a=t.filter(QM),u=s<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!u||n===void 0?a[u]:n}const JM={decay:Dy,inertia:Dy,tween:Hd,keyframes:Hd,spring:kp};function L3(t){typeof t.type=="string"&&(t.type=JM[t.type])}class M1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const ZM=t=>t/100;class V1 extends M1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{if(r){const{motionValue:n}=this.options;n&&n.updatedAt!==Es.now()&&this.tick(Es.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;L3(e);const{type:r=Hd,repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const d=r||Hd;d!==Hd&&typeof u[0]!="number"&&(this.mixKeyframes=X0(ZM,D3(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=F1(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=h}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:v,type:_,onUpdate:w,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const O=this.currentTime-h*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?O<0:O>s;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let z=this.currentTime,L=n;if(g){const A=Math.min(this.currentTime,s)/u;let I=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(y==="reverse"?(P=1-P,v&&(P-=v/u)):y==="mirror"&&(L=l)),z=Wi(0,1,P)*u}const Y=j?{done:!1,value:p[0]}:L.next(z);a&&(Y.value=a(Y.value));let{done:H}=Y;!j&&d!==null&&(H=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return S&&_!==Dy&&(Y.value=L1(p,this.options,E,this.speed)),w&&w(Y.value),S&&this.finish(),Y}then(e,r){return this.finished.then(e,r)}get duration(){return si(this.calculatedDuration)}get time(){return si(this.currentTime)}set time(e){e=ni(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Es.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=si(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=FM,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Es.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function eV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Cl=t=>t*180/Math.PI,Oy=t=>{const e=Cl(Math.atan2(t[1],t[0]));return Fy(e)},tV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Oy,rotateZ:Oy,skewX:t=>Cl(Math.atan(t[1])),skewY:t=>Cl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Fy=t=>(t=t%360,t<0&&(t+=360),t),q_=Oy,K_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Y_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),rV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:K_,scaleY:Y_,scale:t=>(K_(t)+Y_(t))/2,rotateX:t=>Fy(Cl(Math.atan2(t[6],t[5]))),rotateY:t=>Fy(Cl(Math.atan2(-t[2],t[0]))),rotateZ:q_,rotate:q_,skewX:t=>Cl(Math.atan(t[4])),skewY:t=>Cl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ly(t){return t.includes("scale")?1:0}function My(t,e){if(!t||t==="none")return Ly(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=rV,s=r;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=tV,s=u}if(!s)return Ly(e);const a=n[e],l=s[1].split(",").map(sV);return typeof a=="function"?a(l):l[a]}const nV=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return My(r,e)};function sV(t){return parseFloat(t.trim())}const $u=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bu=new Set($u),X_=t=>t===Vu||t===Ot,aV=new Set(["x","y","z"]),iV=$u.filter(t=>!aV.has(t));function oV(t){const e=[];return iV.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const jl={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>My(e,"x"),y:(t,{transform:e})=>My(e,"y")};jl.translateX=jl.x;jl.translateY=jl.y;const Il=new Set;let Vy=!1,$y=!1,By=!1;function M3(){if($y){const t=Array.from(Il).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=oV(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,l])=>{n.getValue(a)?.set(l)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}$y=!1,Vy=!1,Il.forEach(t=>t.complete(By)),Il.clear()}function V3(){Il.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($y=!0)})}function lV(){By=!0,V3(),M3(),By=!1}class $1{constructor(e,r,n,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Il.add(this),Vy||(Vy=!0,Ur.read(V3),Ur.resolveKeyframes(M3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const u=n.readValue(r,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}eV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Il.delete(this)}cancel(){this.state==="scheduled"&&(Il.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cV=t=>t.startsWith("--");function uV(t,e,r){cV(e)?t.style.setProperty(e,r):t.style[e]=r}const dV=A1(()=>window.ScrollTimeline!==void 0),hV={};function fV(t,e){const r=A1(t);return()=>hV[e]??r()}const $3=fV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rd=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,Q_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rd([0,.65,.55,1]),circOut:Rd([.55,0,1,.45]),backIn:Rd([.31,.01,.66,-.59]),backOut:Rd([.33,1.53,.69,.99])};function B3(t,e){if(t)return typeof t=="function"?$3()?O3(t,e):"ease-out":N3(t)?Rd(t):Array.isArray(t)?t.map(r=>B3(r,e)||Q_.easeOut):Q_[t]}function pV(t,e,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:d}={},h=void 0){const p={[e]:r};d&&(p.offset=d);const g=B3(u,s);Array.isArray(g)&&(p.easing=g);const y={delay:n,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(p,y)}function U3(t){return typeof t=="function"&&"applyToOptions"in t}function mV({type:t,...e}){return U3(t)&&$3()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class gV extends M1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,k1(typeof e.type!="string");const h=mV(e);this.animation=pV(r,n,s,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=L1(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):uV(r,n,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return si(Number(e))}get time(){return si(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ni(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&dV()?(this.animation.timeline=e,aa):r(this)}}const z3={anticipate:w3,backInOut:b3,circInOut:E3};function xV(t){return t in z3}function yV(t){typeof t.ease=="string"&&xV(t.ease)&&(t.ease=z3[t.ease])}const J_=10;class vV extends gV{constructor(e){yV(e),L3(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:a,...l}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const u=new V1({...l,autoplay:!1}),d=ni(this.finishedTime??this.time);r.setWithVelocity(u.sample(d-J_).value,u.sample(d).value,J_),u.stop()}}const Z_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Go.test(t)||t==="0")&&!t.startsWith("url("));function bV(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function wV(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Z_(s,e),u=Z_(a,e);return!l||!u?!1:bV(t)||(r==="spring"||U3(r))&&n}function B1(t){return f3(t)&&"offsetHeight"in t}const _V=new Set(["opacity","clipPath","filter","transform"]),EV=A1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TV(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:a,type:l}=t;if(!B1(e?.owner?.current))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return EV()&&r&&_V.has(r)&&(r!=="transform"||!d)&&!u&&!n&&s!=="mirror"&&a!==0&&l!=="inertia"}const NV=40;class kV extends M1{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:d,motionValue:h,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Es.now();const y={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:l,name:d,motionValue:h,element:p,...g},v=p?.KeyframeResolver||$1;this.keyframeResolver=new v(u,(_,w,E)=>this.onKeyframesResolved(_,w,y,!E),d,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:d,isHandoff:h,onUpdate:p}=n;this.resolvedAt=Es.now(),wV(e,a,l,u)||((Gi.instantAnimations||!d)&&p?.(L1(e,n,r)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>NV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!h&&TV(y)?new vV({...y,element:y.motionValue.owner.current}):new V1(y);v.finished.then(()=>this.notifyFinished()).catch(aa),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),lV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const AV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SV(t){const e=AV.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function H3(t,e,r=1){const[n,s]=SV(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const l=a.trim();return h3(l)?parseFloat(l):l}return P1(s)?H3(s,e,r+1):s}function U1(t,e){return t?.[e]??t?.default??t}const W3=new Set(["width","height","top","left","right","bottom",...$u]),CV={test:t=>t==="auto",parse:t=>t},G3=t=>e=>e.test(t),q3=[Vu,Ot,ai,No,bM,vM,CV],eE=t=>q3.find(G3(t));function jV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||p3(t):!0}const IV=new Set(["brightness","contrast","saturate","opacity"]);function PV(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(R1)||[];if(!n)return t;const s=r.replace(n,"");let a=IV.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+s+")"}const RV=/\b([a-z-]*)\(.*?\)/gu,Uy={...Go,getAnimatableNone:t=>{const e=t.match(RV);return e?e.map(PV).join(" "):t}},tE={...Vu,transform:Math.round},DV={rotate:No,rotateX:No,rotateY:No,rotateZ:No,scale:Ef,scaleX:Ef,scaleY:Ef,scaleZ:Ef,skew:No,skewX:No,skewY:No,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:p0,originX:U_,originY:U_,originZ:Ot},z1={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...DV,zIndex:tE,fillOpacity:p0,strokeOpacity:p0,numOctaves:tE},OV={...z1,color:Qn,backgroundColor:Qn,outlineColor:Qn,fill:Qn,stroke:Qn,borderColor:Qn,borderTopColor:Qn,borderRightColor:Qn,borderBottomColor:Qn,borderLeftColor:Qn,filter:Uy,WebkitFilter:Uy},K3=t=>OV[t];function Y3(t,e){let r=K3(t);return r!==Uy&&(r=Go),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const FV=new Set(["auto","none","0"]);function LV(t,e,r){let n=0,s;for(;n<t.length&&!s;){const a=t[n];typeof a=="string"&&!FV.has(a)&&m0(a).values.length&&(s=t[n]),n++}if(s&&r)for(const a of e)t[a]=Y3(r,s)}class MV extends $1{constructor(e,r,n,s,a){super(e,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),P1(h))){const p=H3(h,r.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!W3.has(n)||e.length!==2)return;const[s,a]=e,l=eE(s),u=eE(a);if(l!==u)if(X_(l)&&X_(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else jl[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||jV(e[s]))&&n.push(s);n.length&&LV(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,l=n[a];n[a]=jl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function VV(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=r?.[t]??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const rE=30,$V=t=>!isNaN(parseFloat(t));class BV{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const a=Es.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Es.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$V(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new S1);const n=this.events[e].add(r);return e==="change"?()=>{n(),Ur.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Es.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rE)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,rE);return m3(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bu(t,e){return new BV(t,e)}const X3=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:H1}=k3(queueMicrotask,!1),Na={x:!1,y:!1};function Q3(){return Na.x||Na.y}function UV(t){return t==="x"||t==="y"?Na[t]?null:(Na[t]=!0,()=>{Na[t]=!1}):Na.x||Na.y?null:(Na.x=Na.y=!0,()=>{Na.x=Na.y=!1})}function J3(t,e){const r=VV(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function nE(t){return!(t.pointerType==="touch"||Q3())}function zV(t,e,r={}){const[n,s,a]=J3(t,r),l=u=>{if(!nE(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const p=g=>{nE(g)&&(h(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return n.forEach(u=>{u.addEventListener("pointerenter",l,s)}),a}const Z3=(t,e)=>e?t===e?!0:Z3(t,e.parentElement):!1,W1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,HV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WV(t){return HV.has(t.tagName)||t.tabIndex!==-1}const qf=new WeakSet;function sE(t){return e=>{e.key==="Enter"&&t(e)}}function Vx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const GV=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=sE(()=>{if(qf.has(r))return;Vx(r,"down");const s=sE(()=>{Vx(r,"up")}),a=()=>Vx(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function aE(t){return W1(t)&&!Q3()}function qV(t,e,r={}){const[n,s,a]=J3(t,r),l=u=>{const d=u.currentTarget;if(!aE(u))return;qf.add(d);const h=e(d,u),p=(v,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),qf.has(d)&&qf.delete(d),aE(v)&&typeof h=="function"&&h(v,{success:_})},g=v=>{p(v,d===window||d===document||r.useGlobalTarget||Z3(d,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),B1(u)&&(u.addEventListener("focus",h=>GV(h,s)),!WV(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function eS(t){return f3(t)&&"ownerSVGElement"in t}function KV(t){return eS(t)&&t.tagName==="svg"}const Zn=t=>!!(t&&t.getVelocity),YV=[...q3,Qn,Go],XV=t=>YV.find(G3(t)),G1=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class QV extends N.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=B1(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function JV({children:t,isPresent:e,anchorX:r}){const n=N.useId(),s=N.useRef(null),a=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=N.useContext(G1);return N.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:p,right:g}=a.current;if(e||!s.current||!u||!d)return;const y=r==="left"?`left: ${p}`:`right: ${g}`;s.current.dataset.motionPopId=n;const v=document.createElement("style");return l&&(v.nonce=l),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(v)&&document.head.removeChild(v)}},[e]),i.jsx(QV,{isPresent:e,childRef:s,sizeRef:a,children:N.cloneElement(t,{ref:s})})}const ZV=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:l,anchorX:u})=>{const d=_1(e$),h=N.useId();let p=!0,g=N.useMemo(()=>(p=!1,{id:h,initial:e,isPresent:r,custom:s,onExitComplete:y=>{d.set(y,!0);for(const v of d.values())if(!v)return;n&&n()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[r,d,n]);return a&&p&&(g={...g}),N.useMemo(()=>{d.forEach((y,v)=>d.set(v,!1))},[r]),N.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),l==="popLayout"&&(t=i.jsx(JV,{isPresent:r,anchorX:u,children:t})),i.jsx(Nm.Provider,{value:g,children:t})};function e$(){return new Map}function tS(t=!0){const e=N.useContext(Nm);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,a=N.useId();N.useEffect(()=>{if(t)return s(a)},[t]);const l=N.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,l]:[!0]}const Tf=t=>t.key||"";function iE(t){const e=[];return N.Children.forEach(t,r=>{N.isValidElement(r)&&e.push(r)}),e}const Vt=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:u="left"})=>{const[d,h]=tS(l),p=N.useMemo(()=>iE(t),[t]),g=l&&!d?[]:p.map(Tf),y=N.useRef(!0),v=N.useRef(p),_=_1(()=>new Map),[w,E]=N.useState(p),[O,j]=N.useState(p);d3(()=>{y.current=!1,v.current=p;for(let Y=0;Y<O.length;Y++){const H=Tf(O[Y]);g.includes(H)?_.delete(H):_.get(H)!==!0&&_.set(H,!1)}},[O,g.length,g.join("-")]);const z=[];if(p!==w){let Y=[...p];for(let H=0;H<O.length;H++){const S=O[H],A=Tf(S);g.includes(A)||(Y.splice(H,0,S),z.push(S))}return a==="wait"&&z.length&&(Y=z),j(iE(Y)),E(p),null}const{forceRender:L}=N.useContext(w1);return i.jsx(i.Fragment,{children:O.map(Y=>{const H=Tf(Y),S=l&&!d?!1:p===O||g.includes(H),A=()=>{if(_.has(H))_.set(H,!0);else return;let I=!0;_.forEach(P=>{P||(I=!1)}),I&&(L?.(),j(v.current),l&&h?.(),n&&n())};return i.jsx(ZV,{isPresent:S,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,onExitComplete:S?void 0:A,anchorX:u,children:Y},H)})})},rS=N.createContext({strict:!1}),oE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wu={};for(const t in oE)wu[t]={isEnabled:e=>oE[t].some(r=>!!e[r])};function t$(t){for(const e in t)wu[e]={...wu[e],...t[e]}}const r$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ap(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||r$.has(t)}let nS=t=>!Ap(t);function n$(t){t&&(nS=e=>e.startsWith("on")?!Ap(e):t(e))}try{n$(require("@emotion/is-prop-valid").default)}catch{}function s$(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(nS(s)||r===!0&&Ap(s)||!e&&!Ap(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function a$(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const km=N.createContext({});function Am(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function g0(t){return typeof t=="string"||Array.isArray(t)}const q1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],K1=["initial",...q1];function Sm(t){return Am(t.animate)||K1.some(e=>g0(t[e]))}function sS(t){return!!(Sm(t)||t.variants)}function i$(t,e){if(Sm(t)){const{initial:r,animate:n}=t;return{initial:r===!1||g0(r)?r:void 0,animate:g0(n)?n:void 0}}return t.inherit!==!1?e:{}}function o$(t){const{initial:e,animate:r}=i$(t,N.useContext(km));return N.useMemo(()=>({initial:e,animate:r}),[lE(e),lE(r)])}function lE(t){return Array.isArray(t)?t.join(" "):t}const l$=Symbol.for("motionComponentSymbol");function tu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function c$(t,e,r){return N.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):tu(r)&&(r.current=n))},[e])}const Y1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),u$="framerAppearId",aS="data-"+Y1(u$),iS=N.createContext({});function d$(t,e,r,n,s){const{visualElement:a}=N.useContext(km),l=N.useContext(rS),u=N.useContext(Nm),d=N.useContext(G1).reducedMotion,h=N.useRef(null);n=n||l.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:a,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,g=N.useContext(iS);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&h$(h.current,r,s,g);const y=N.useRef(!1);N.useInsertionEffect(()=>{p&&y.current&&p.update(r,u)});const v=r[aS],_=N.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return d3(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),H1.render(p.render),_.current&&p.animationState&&p.animationState.animateChanges())}),N.useEffect(()=>{p&&(!_.current&&p.animationState&&p.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),_.current=!1))}),p}function h$(t,e,r,n){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:oS(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&tu(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:d,layoutRoot:h})}function oS(t){if(t)return t.options.allowProjection!==!1?t.projection:oS(t.parent)}function f$({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&t$(t);function a(u,d){let h;const p={...N.useContext(G1),...u,layoutId:p$(u)},{isStatic:g}=p,y=o$(u),v=n(u,g);if(!g&&E1){m$();const _=g$(p);h=_.MeasureLayout,y.visualElement=d$(s,v,p,e,_.ProjectionNode)}return i.jsxs(km.Provider,{value:y,children:[h&&y.visualElement?i.jsx(h,{visualElement:y.visualElement,...p}):null,r(s,u,c$(v,y.visualElement,d),v,g,y.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=N.forwardRef(a);return l[l$]=s,l}function p$({layoutId:t}){const e=N.useContext(w1).id;return e&&t!==void 0?e+"-"+t:t}function m$(t,e){N.useContext(rS).strict}function g$(t){const{drag:e,layout:r}=wu;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const x0={};function x$(t){for(const e in t)x0[e]=t[e],I1(e)&&(x0[e].isCSSVariable=!0)}function lS(t,{layout:e,layoutId:r}){return Bu.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!x0[t]||t==="opacity")}const y$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},v$=$u.length;function b$(t,e,r){let n="",s=!0;for(let a=0;a<v$;a++){const l=$u[a],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||r){const h=X3(u,z1[l]);if(!d){s=!1;const p=y$[l]||l;n+=`${p}(${h}) `}r&&(e[l]=h)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function X1(t,e,r){const{style:n,vars:s,transformOrigin:a}=t;let l=!1,u=!1;for(const d in e){const h=e[d];if(Bu.has(d)){l=!0;continue}else if(I1(d)){s[d]=h;continue}else{const p=X3(h,z1[d]);d.startsWith("origin")?(u=!0,a[d]=p):n[d]=p}}if(e.transform||(l||r?n.transform=b$(e,t.transform,r):n.transform&&(n.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=a;n.transformOrigin=`${d} ${h} ${p}`}}const Q1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cS(t,e,r){for(const n in e)!Zn(e[n])&&!lS(n,r)&&(t[n]=e[n])}function w$({transformTemplate:t},e){return N.useMemo(()=>{const r=Q1();return X1(r,e,t),Object.assign({},r.vars,r.style)},[e])}function _$(t,e){const r=t.style||{},n={};return cS(n,r,t),Object.assign(n,w$(t,e)),n}function E$(t,e){const r={},n=_$(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const T$={offset:"stroke-dashoffset",array:"stroke-dasharray"},N$={offset:"strokeDashoffset",array:"strokeDasharray"};function k$(t,e,r=1,n=0,s=!0){t.pathLength=1;const a=s?T$:N$;t[a.offset]=Ot.transform(-n);const l=Ot.transform(e),u=Ot.transform(r);t[a.array]=`${l} ${u}`}function uS(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},d,h,p){if(X1(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),s!==void 0&&k$(g,s,a,l,!1)}const dS=()=>({...Q1(),attrs:{}}),hS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function A$(t,e,r,n){const s=N.useMemo(()=>{const a=dS();return uS(a,e,hS(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};cS(a,t.style,t),s.style={...a,...s.style}}return s}const S$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function J1(t){return typeof t!="string"||t.includes("-")?!1:!!(S$.indexOf(t)>-1||/[A-Z]/u.test(t))}function C$(t=!1){return(r,n,s,{latestValues:a},l)=>{const d=(J1(r)?A$:E$)(n,a,l,r),h=s$(n,typeof r=="string",t),p=r!==N.Fragment?{...h,...d,ref:s}:{},{children:g}=n,y=N.useMemo(()=>Zn(g)?g.get():g,[g]);return N.createElement(r,{...p,children:y})}}function cE(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Z1(t,e,r,n){if(typeof e=="function"){const[s,a]=cE(n);e=e(r!==void 0?r:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=cE(n);e=e(r!==void 0?r:t.custom,s,a)}return e}function Kf(t){return Zn(t)?t.get():t}function j$({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:I$(r,n,s,t),renderState:e()}}const fS=t=>(e,r)=>{const n=N.useContext(km),s=N.useContext(Nm),a=()=>j$(t,e,n,s);return r?a():_1(a)};function I$(t,e,r,n){const s={},a=n(t,{});for(const y in a)s[y]=Kf(a[y]);let{initial:l,animate:u}=t;const d=Sm(t),h=sS(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=r?r.initial===!1:!1;p=p||l===!1;const g=p?u:l;if(g&&typeof g!="boolean"&&!Am(g)){const y=Array.isArray(g)?g:[g];for(let v=0;v<y.length;v++){const _=Z1(t,y[v]);if(_){const{transitionEnd:w,transition:E,...O}=_;for(const j in O){let z=O[j];if(Array.isArray(z)){const L=p?z.length-1:0;z=z[L]}z!==null&&(s[j]=z)}for(const j in w)s[j]=w[j]}}}return s}function eb(t,e,r){const{style:n}=t,s={};for(const a in n)(Zn(n[a])||e.style&&Zn(e.style[a])||lS(a,t)||r?.getValue(a)?.liveStyle!==void 0)&&(s[a]=n[a]);return s}const P$={useVisualState:fS({scrapeMotionValuesFromProps:eb,createRenderState:Q1})};function pS(t,e,r){const n=eb(t,e,r);for(const s in t)if(Zn(t[s])||Zn(e[s])){const a=$u.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=t[s]}return n}const R$={useVisualState:fS({scrapeMotionValuesFromProps:pS,createRenderState:dS})};function D$(t,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...J1(n)?R$:P$,preloadedFeatures:t,useRender:C$(s),createVisualElement:e,Component:n};return f$(l)}}function y0(t,e,r){const n=t.getProps();return Z1(n,e,r!==void 0?r:n.custom,t)}const zy=t=>Array.isArray(t);function O$(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,bu(r))}function F$(t){return zy(t)?t[t.length-1]||0:t}function L$(t,e){const r=y0(t,e);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const l in a){const u=F$(a[l]);O$(t,l,u)}}function M$(t){return!!(Zn(t)&&t.add)}function Hy(t,e){const r=t.getValue("willChange");if(M$(r))return r.add(e);if(!r&&Gi.WillChange){const n=new Gi.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function mS(t){return t.props[aS]}const V$=t=>t!==null;function $$(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(V$),a=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[a]}const B$={type:"spring",stiffness:500,damping:25,restSpeed:10},U$=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),z$={type:"keyframes",duration:.8},H$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},W$=(t,{keyframes:e})=>e.length>2?z$:Bu.has(t)?t.startsWith("scale")?U$(e[1]):B$:H$;function G$({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const tb=(t,e,r,n={},s,a)=>l=>{const u=U1(n,t)||{},d=u.delay||n.delay||0;let{elapsed:h=0}=n;h=h-ni(d);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};G$(u)||Object.assign(p,W$(t,p)),p.duration&&(p.duration=ni(p.duration)),p.repeatDelay&&(p.repeatDelay=ni(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),(Gi.instantAnimations||Gi.skipAnimations)&&(g=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!a&&e.get()!==void 0){const y=$$(p.keyframes,u);if(y!==void 0){Ur.update(()=>{p.onUpdate(y),p.onComplete()});return}}return u.isSync?new V1(p):new kV(p)};function q$({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function gS(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;n&&(a=n);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),y=u[p];if(y===void 0||h&&q$(h,p))continue;const v={delay:r,...U1(a||{},p)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===_&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const O=mS(t);if(O){const j=window.MotionHandoffAnimation(O,p,Ur);j!==null&&(v.startTime=j,w=!0)}}Hy(t,p),g.start(tb(p,g,y,t.shouldReduceMotion&&W3.has(p)?{type:!1}:v,t,w));const E=g.animation;E&&d.push(E)}return l&&Promise.all(d).then(()=>{Ur.update(()=>{l&&L$(t,l)})}),d}function Wy(t,e,r={}){const n=y0(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(gS(t,n,r)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=s;return K$(t,e,h+d,p,g,r)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,h]=u==="beforeChildren"?[a,l]:[l,a];return d().then(()=>h())}else return Promise.all([a(),l(r.delay)])}function K$(t,e,r=0,n=0,s=1,a){const l=[],u=(t.variantChildren.size-1)*n,d=s===1?(h=0)=>h*n:(h=0)=>u-h*n;return Array.from(t.variantChildren).sort(Y$).forEach((h,p)=>{h.notify("AnimationStart",e),l.push(Wy(h,e,{...a,delay:r+d(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function Y$(t,e){return t.sortNodePosition(e)}function X$(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(a=>Wy(t,a,r));n=Promise.all(s)}else if(typeof e=="string")n=Wy(t,e,r);else{const s=typeof e=="function"?y0(t,e,r.custom):e;n=Promise.all(gS(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function xS(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Q$=K1.length;function yS(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?yS(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Q$;r++){const n=K1[r],s=t.props[n];(g0(s)||s===!1)&&(e[n]=s)}return e}const J$=[...q1].reverse(),Z$=q1.length;function eB(t){return e=>Promise.all(e.map(({animation:r,options:n})=>X$(t,r,n)))}function tB(t){let e=eB(t),r=uE(),n=!0;const s=d=>(h,p)=>{const g=y0(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:v,..._}=g;h={...h,..._,...v}}return h};function a(d){e=d(t)}function l(d){const{props:h}=t,p=yS(t.parent)||{},g=[],y=new Set;let v={},_=1/0;for(let E=0;E<Z$;E++){const O=J$[E],j=r[O],z=h[O]!==void 0?h[O]:p[O],L=g0(z),Y=O===d?j.isActive:null;Y===!1&&(_=E);let H=z===p[O]&&z!==h[O]&&L;if(H&&n&&t.manuallyAnimateOnMount&&(H=!1),j.protectedKeys={...v},!j.isActive&&Y===null||!z&&!j.prevProp||Am(z)||typeof z=="boolean")continue;const S=rB(j.prevProp,z);let A=S||O===d&&j.isActive&&!H&&L||E>_&&L,I=!1;const P=Array.isArray(z)?z:[z];let M=P.reduce(s(O),{});Y===!1&&(M={});const{prevResolvedValues:R={}}=j,F={...R,...M},me=Ie=>{A=!0,y.has(Ie)&&(I=!0,y.delete(Ie)),j.needsAnimating[Ie]=!0;const _e=t.getValue(Ie);_e&&(_e.liveStyle=!1)};for(const Ie in F){const _e=M[Ie],oe=R[Ie];if(v.hasOwnProperty(Ie))continue;let xe=!1;zy(_e)&&zy(oe)?xe=!xS(_e,oe):xe=_e!==oe,xe?_e!=null?me(Ie):y.add(Ie):_e!==void 0&&y.has(Ie)?me(Ie):j.protectedKeys[Ie]=!0}j.prevProp=z,j.prevResolvedValues=M,j.isActive&&(v={...v,...M}),n&&t.blockInitialAnimation&&(A=!1),A&&(!(H&&S)||I)&&g.push(...P.map(Ie=>({animation:Ie,options:{type:O}})))}if(y.size){const E={};if(typeof h.initial!="boolean"){const O=y0(t,Array.isArray(h.initial)?h.initial[0]:h.initial);O&&O.transition&&(E.transition=O.transition)}y.forEach(O=>{const j=t.getBaseTarget(O),z=t.getValue(O);z&&(z.liveStyle=!0),E[O]=j??null}),g.push({animation:E})}let w=!!g.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(g):Promise.resolve()}function u(d,h){if(r[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,h)),r[d].isActive=h;const p=l(d);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>r,reset:()=>{r=uE(),n=!0}}}function rB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xS(e,t):!1}function _l(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uE(){return{animate:_l(!0),whileInView:_l(),whileHover:_l(),whileTap:_l(),whileDrag:_l(),whileFocus:_l(),exit:_l()}}class rl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nB extends rl{constructor(e){super(e),e.animationState||(e.animationState=tB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Am(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let sB=0;class aB extends rl{constructor(){super(...arguments),this.id=sB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const iB={animation:{Feature:nB},exit:{Feature:aB}};function v0(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Z0(t){return{point:{x:t.pageX,y:t.pageY}}}const oB=t=>e=>W1(e)&&t(e,Z0(e));function Wd(t,e,r,n){return v0(t,e,oB(r),n)}function vS({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function lB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function cB(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const bS=1e-4,uB=1-bS,dB=1+bS,wS=.01,hB=0-wS,fB=0+wS;function us(t){return t.max-t.min}function pB(t,e,r){return Math.abs(t-e)<=r}function dE(t,e,r,n=.5){t.origin=n,t.originPoint=Br(e.min,e.max,t.origin),t.scale=us(r)/us(e),t.translate=Br(r.min,r.max,t.origin)-t.originPoint,(t.scale>=uB&&t.scale<=dB||isNaN(t.scale))&&(t.scale=1),(t.translate>=hB&&t.translate<=fB||isNaN(t.translate))&&(t.translate=0)}function Gd(t,e,r,n){dE(t.x,e.x,r.x,n?n.originX:void 0),dE(t.y,e.y,r.y,n?n.originY:void 0)}function hE(t,e,r){t.min=r.min+e.min,t.max=t.min+us(e)}function mB(t,e,r){hE(t.x,e.x,r.x),hE(t.y,e.y,r.y)}function fE(t,e,r){t.min=e.min-r.min,t.max=t.min+us(e)}function qd(t,e,r){fE(t.x,e.x,r.x),fE(t.y,e.y,r.y)}const pE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ru=()=>({x:pE(),y:pE()}),mE=()=>({min:0,max:0}),Xr=()=>({x:mE(),y:mE()});function na(t){return[t("x"),t("y")]}function $x(t){return t===void 0||t===1}function Gy({scale:t,scaleX:e,scaleY:r}){return!$x(t)||!$x(e)||!$x(r)}function Tl(t){return Gy(t)||_S(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _S(t){return gE(t.x)||gE(t.y)}function gE(t){return t&&t!=="0%"}function Sp(t,e,r){const n=t-r,s=e*n;return r+s}function xE(t,e,r,n,s){return s!==void 0&&(t=Sp(t,s,n)),Sp(t,r,n)+e}function qy(t,e=0,r=1,n,s){t.min=xE(t.min,e,r,n,s),t.max=xE(t.max,e,r,n,s)}function ES(t,{x:e,y:r}){qy(t.x,e.translate,e.scale,e.originPoint),qy(t.y,r.translate,r.scale,r.originPoint)}const yE=.999999999999,vE=1.0000000000001;function gB(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=r[u],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&su(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,ES(t,l)),n&&Tl(a.latestValues)&&su(t,a.latestValues))}e.x<vE&&e.x>yE&&(e.x=1),e.y<vE&&e.y>yE&&(e.y=1)}function nu(t,e){t.min=t.min+e,t.max=t.max+e}function bE(t,e,r,n,s=.5){const a=Br(t.min,t.max,s);qy(t,e,r,a,n)}function su(t,e){bE(t.x,e.x,e.scaleX,e.scale,e.originX),bE(t.y,e.y,e.scaleY,e.scale,e.originY)}function TS(t,e){return vS(cB(t.getBoundingClientRect(),e))}function xB(t,e,r){const n=TS(t,r),{scroll:s}=e;return s&&(nu(n.x,s.offset.x),nu(n.y,s.offset.y)),n}const NS=({current:t})=>t?t.ownerDocument.defaultView:null,wE=(t,e)=>Math.abs(t-e);function yB(t,e){const r=wE(t.x,e.x),n=wE(t.y,e.y);return Math.sqrt(r**2+n**2)}class kS{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ux(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=yB(g.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:_}=g,{timestamp:w}=Pn;this.history.push({..._,timestamp:w});const{onStart:E,onMove:O}=this.handlers;y||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Bx(y,this.transformPagePoint),Ur.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:v,onSessionEnd:_,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Ux(g.type==="pointercancel"?this.lastMoveEventInfo:Bx(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,E),_&&_(g,E)},!W1(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const l=Z0(e),u=Bx(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=Pn;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=r;p&&p(e,Ux(u,this.history)),this.removeListeners=X0(Wd(this.contextWindow,"pointermove",this.handlePointerMove),Wd(this.contextWindow,"pointerup",this.handlePointerUp),Wd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wo(this.updatePoint)}}function Bx(t,e){return e?{point:e(t.point)}:t}function _E(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ux({point:t},e){return{point:t,delta:_E(t,AS(e)),offset:_E(t,vB(e)),velocity:bB(e,.1)}}function vB(t){return t[0]}function AS(t){return t[t.length-1]}function bB(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=AS(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>ni(e)));)r--;if(!n)return{x:0,y:0};const a=si(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function wB(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Br(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Br(r,t,n.max):Math.min(t,r)),t}function EE(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function _B(t,{top:e,left:r,bottom:n,right:s}){return{x:EE(t.x,r,s),y:EE(t.y,e,n)}}function TE(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function EB(t,e){return{x:TE(t.x,e.x),y:TE(t.y,e.y)}}function TB(t,e){let r=.5;const n=us(t),s=us(e);return s>n?r=f0(e.min,e.max-n,t.min):n>s&&(r=f0(t.min,t.max-s,e.min)),Wi(0,1,r)}function NB(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Ky=.35;function kB(t=Ky){return t===!1?t=0:t===!0&&(t=Ky),{x:NE(t,"left","right"),y:NE(t,"top","bottom")}}function NE(t,e,r){return{min:kE(t,e),max:kE(t,r)}}function kE(t,e){return typeof t=="number"?t:t[e]||0}const AB=new WeakMap;class SB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Z0(p).point)},a=(p,g)=>{const{drag:y,dragPropagation:v,onDragStart:_}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UV(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),na(E=>{let O=this.getAxisMotionValue(E).get()||0;if(ai.test(O)){const{projection:j}=this.visualElement;if(j&&j.layout){const z=j.layout.layoutBox[E];z&&(O=us(z)*(parseFloat(O)/100))}}this.originPoint[E]=O}),_&&Ur.postRender(()=>_(p,g)),Hy(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(p,g)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:_,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:E}=g;if(v&&this.currentDirection===null){this.currentDirection=CB(E),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),w&&w(p,g)},u=(p,g)=>this.stop(p,g),d=()=>na(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new kS(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:NS(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ur.postRender(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!Nf(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(l=wB(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&tu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=_B(n.layoutBox,e):this.constraints=!1,this.elastic=kB(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&na(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=NB(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!tu(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=xB(n,s.root,this.visualElement.getTransformPagePoint());let l=EB(s.layout.layoutBox,a);if(r){const u=r(lB(l));this.hasMutatedConstraints=!!u,u&&(l=vS(u))}return l}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=na(p=>{if(!Nf(p,r,this.currentDirection))return;let g=d&&d[p]||{};l&&(g={min:0,max:0});const y=s?200:1e6,v=s?40:1e7,_={type:"inertia",velocity:n?e[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,_)});return Promise.all(h).then(u)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Hy(this.visualElement,e),n.start(tb(e,n,0,r,this.visualElement,!1))}stopAnimation(){na(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){na(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){na(r=>{const{drag:n}=this.getProps();if(!Nf(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[r];a.set(e[r]-Br(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!tu(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};na(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();s[l]=TB({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),na(l=>{if(!Nf(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];u.set(Br(d,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;AB.set(this.visualElement,this);const e=this.visualElement.current,r=Wd(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();tu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ur.read(n);const l=v0(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(na(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),r(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Ky,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Nf(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function CB(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class jB extends rl{constructor(e){super(e),this.removeGroupControls=aa,this.removeListeners=aa,this.controls=new SB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||aa}unmount(){this.removeGroupControls(),this.removeListeners()}}const AE=t=>(e,r)=>{t&&Ur.postRender(()=>t(e,r))};class IB extends rl{constructor(){super(...arguments),this.removePointerDownListener=aa}onPointerDown(e){this.session=new kS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:AE(e),onStart:AE(r),onMove:n,onEnd:(a,l)=>{delete this.session,s&&Ur.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Wd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function SE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ot.test(t))t=parseFloat(t);else return t;const r=SE(t,e.target.x),n=SE(t,e.target.y);return`${r}% ${n}%`}},PB={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=Go.parse(t);if(s.length>5)return n;const a=Go.createTransformer(t),l=typeof s[0]!="number"?1:0,u=r.x.scale*e.x,d=r.y.scale*e.y;s[0+l]/=u,s[1+l]/=d;const h=Br(u,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),a(s)}};class RB extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=e;x$(DB),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,{projection:l}=n;return l&&(l.isPresent=a,s||e.layoutDependency!==r||r===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ur.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),H1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SS(t){const[e,r]=tS(),n=N.useContext(w1);return i.jsx(RB,{...t,layoutGroup:n,switchLayoutGroup:N.useContext(iS),isPresent:e,safeToRemove:r})}const DB={borderRadius:{...Nd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nd,borderTopRightRadius:Nd,borderBottomLeftRadius:Nd,borderBottomRightRadius:Nd,boxShadow:PB};function OB(t,e,r){const n=Zn(t)?t:bu(t);return n.start(tb("",n,e,r)),n.animation}const FB=(t,e)=>t.depth-e.depth;class LB{constructor(){this.children=[],this.isDirty=!1}add(e){T1(this.children,e),this.isDirty=!0}remove(e){N1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(FB),this.isDirty=!1,this.children.forEach(e)}}function MB(t,e){const r=Es.now(),n=({timestamp:s})=>{const a=s-r;a>=e&&(Wo(n),t(a-e))};return Ur.setup(n,!0),()=>Wo(n)}const CS=["TopLeft","TopRight","BottomLeft","BottomRight"],VB=CS.length,CE=t=>typeof t=="string"?parseFloat(t):t,jE=t=>typeof t=="number"||Ot.test(t);function $B(t,e,r,n,s,a){s?(t.opacity=Br(0,r.opacity??1,BB(n)),t.opacityExit=Br(e.opacity??1,0,UB(n))):a&&(t.opacity=Br(e.opacity??1,r.opacity??1,n));for(let l=0;l<VB;l++){const u=`border${CS[l]}Radius`;let d=IE(e,u),h=IE(r,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||jE(d)===jE(h)?(t[u]=Math.max(Br(CE(d),CE(h),n),0),(ai.test(h)||ai.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||r.rotate)&&(t.rotate=Br(e.rotate||0,r.rotate||0,n))}function IE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const BB=jS(0,.5,_3),UB=jS(.5,.95,aa);function jS(t,e,r){return n=>n<t?0:n>e?1:r(f0(t,e,n))}function PE(t,e){t.min=e.min,t.max=e.max}function ta(t,e){PE(t.x,e.x),PE(t.y,e.y)}function RE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function DE(t,e,r,n,s){return t-=e,t=Sp(t,1/r,n),s!==void 0&&(t=Sp(t,1/s,n)),t}function zB(t,e=0,r=1,n=.5,s,a=t,l=t){if(ai.test(e)&&(e=parseFloat(e),e=Br(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Br(a.min,a.max,n);t===a&&(u-=e),t.min=DE(t.min,e,r,u,s),t.max=DE(t.max,e,r,u,s)}function OE(t,e,[r,n,s],a,l){zB(t,e[r],e[n],e[s],e.scale,a,l)}const HB=["x","scaleX","originX"],WB=["y","scaleY","originY"];function FE(t,e,r,n){OE(t.x,e,HB,r?r.x:void 0,n?n.x:void 0),OE(t.y,e,WB,r?r.y:void 0,n?n.y:void 0)}function LE(t){return t.translate===0&&t.scale===1}function IS(t){return LE(t.x)&&LE(t.y)}function ME(t,e){return t.min===e.min&&t.max===e.max}function GB(t,e){return ME(t.x,e.x)&&ME(t.y,e.y)}function VE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PS(t,e){return VE(t.x,e.x)&&VE(t.y,e.y)}function $E(t){return us(t.x)/us(t.y)}function BE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class qB{constructor(){this.members=[]}add(e){T1(this.members,e),e.scheduleRender()}remove(e){if(N1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KB(t,e,r){let n="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=r?.z||0;if((s||a||l)&&(n=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:y,skewX:v,skewY:_}=r;h&&(n=`perspective(${h}px) ${n}`),p&&(n+=`rotate(${p}deg) `),g&&(n+=`rotateX(${g}deg) `),y&&(n+=`rotateY(${y}deg) `),v&&(n+=`skewX(${v}deg) `),_&&(n+=`skewY(${_}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(n+=`scale(${u}, ${d})`),n||"none"}const zx=["","X","Y","Z"],YB={visibility:"hidden"},XB=1e3;let QB=0;function Hx(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function RS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=mS(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Ur,!(s||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&RS(n)}function DS({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=QB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eU),this.nodes.forEach(aU),this.nodes.forEach(iU),this.nodes.forEach(tU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new LB)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new S1),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=eS(l)&&!KV(l),this.instance=l;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=MB(g,250),Yf.hasAnimatedSinceResize&&(Yf.hasAnimatedSinceResize=!1,this.nodes.forEach(zE))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||dU,{onLayoutAnimationStart:w,onLayoutAnimationComplete:E}=h.getProps(),O=!this.targetLayout||!PS(this.targetLayout,v),j=!g&&y;if(this.options.layoutRoot||this.resumeFrom||j||g&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,j);const z={...U1(_,"layout"),onPlay:w,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z)}else g||zE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oU),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UE);return}this.isUpdating||this.nodes.forEach(nU),this.isUpdating=!1,this.nodes.forEach(sU),this.nodes.forEach(JB),this.nodes.forEach(ZB),this.clearAllSnapshots();const u=Es.now();Pn.delta=Wi(0,1e3/60,u-Pn.timestamp),Pn.timestamp=u,Pn.isProcessing=!0,Dx.update.process(Pn),Dx.preRender.process(Pn),Dx.render.process(Pn),Pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,H1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rU),this.sharedNodes.forEach(lU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ur.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ur.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!us(this.snapshot.measuredBox.x)&&!us(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!IS(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(u||Tl(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),hU(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Xr();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(fU))){const{scroll:h}=this.root;h&&(nu(u.x,h.offset.x),nu(u.y,h.offset.y))}return u}removeElementScroll(l){const u=Xr();if(ta(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&ta(u,l),nu(u.x,p.offset.x),nu(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const d=Xr();ta(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&su(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Tl(p.latestValues)&&su(d,p.latestValues)}return Tl(this.latestValues)&&su(d,this.latestValues),d}removeTransform(l){const u=Xr();ta(u,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Tl(h.latestValues))continue;Gy(h.latestValues)&&h.updateSnapshot();const p=Xr(),g=h.measurePageBox();ta(p,g),FE(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Tl(this.latestValues)&&FE(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Pn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xr(),this.relativeTargetOrigin=Xr(),qd(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ta(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xr(),this.targetWithTransforms=Xr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ta(this.target,this.layout.layoutBox),ES(this.target,this.targetDelta)):ta(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xr(),this.relativeTargetOrigin=Xr(),qd(this.relativeTargetOrigin,this.target,y.target),ta(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gy(this.parent.latestValues)||_S(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Pn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;ta(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;gB(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Xr());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(RE(this.prevProjectionDelta.x,this.projectionDelta.x),RE(this.prevProjectionDelta.y,this.projectionDelta.y)),Gd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!BE(this.projectionDelta.x,this.prevProjectionDelta.x)||!BE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ru(),this.projectionDelta=ru(),this.projectionDeltaWithTransform=ru()}setAnimationOrigin(l,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},g=ru();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=Xr(),v=d?d.source:void 0,_=this.layout?this.layout.source:void 0,w=v!==_,E=this.getStack(),O=!E||E.members.length<=1,j=!!(w&&!O&&this.options.crossfade===!0&&!this.path.some(uU));this.animationProgress=0;let z;this.mixTargetDelta=L=>{const Y=L/1e3;HE(g.x,l.x,Y),HE(g.y,l.y,Y),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cU(this.relativeTarget,this.relativeTargetOrigin,y,Y),z&&GB(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Xr()),ta(z,this.relativeTarget)),w&&(this.animationValues=p,$B(p,h,this.latestValues,Y,j,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(Wo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ur.update(()=>{Yf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bu(0)),this.currentAnimation=OB(this.motionValue,[0,1e3],{...l,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(XB),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=l;if(!(!u||!d||!h)){if(this!==l&&this.layout&&h&&OS(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Xr();const g=us(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const y=us(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+y}ta(u,d),su(u,p),Gd(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new qB),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&Hx("z",l,h,this.animationValues);for(let p=0;p<zx.length;p++)Hx(`rotate${zx[p]}`,l,h,this.animationValues),Hx(`skew${zx[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return YB;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Kf(l?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Kf(l?.pointerEvents)||""),this.hasProjected&&!Tl(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=KB(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in x0){if(p[v]===void 0)continue;const{correct:_,applyTo:w,isCSSVariable:E}=x0[v],O=u.transform==="none"?p[v]:_(p[v],h);if(w){const j=w.length;for(let z=0;z<j;z++)u[w[z]]=O}else E?this.options.visualElement.renderState.vars[v]=O:u[v]=O}return this.options.layoutId&&(u.pointerEvents=h===this?Kf(l?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop(!1)),this.root.nodes.forEach(UE),this.root.sharedNodes.clear()}}}function JB(t){t.updateLayout()}function ZB(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?na(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=us(g);g.min=r[p].min,g.max=g.min+y}):OS(s,e.layoutBox,r)&&na(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=us(r[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const l=ru();Gd(l,r,e.layoutBox);const u=ru();a?Gd(u,t.applyTransform(n,!0),e.measuredBox):Gd(u,r,e.layoutBox);const d=!IS(l);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const v=Xr();qd(v,e.layoutBox,g.layoutBox);const _=Xr();qd(_,r,y.layoutBox),PS(v,_)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function eU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rU(t){t.clearSnapshot()}function UE(t){t.clearMeasurements()}function nU(t){t.isLayoutDirty=!1}function sU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aU(t){t.resolveTargetDelta()}function iU(t){t.calcProjection()}function oU(t){t.resetSkewAndRotation()}function lU(t){t.removeLeadSnapshot()}function HE(t,e,r){t.translate=Br(e.translate,0,r),t.scale=Br(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function WE(t,e,r,n){t.min=Br(e.min,r.min,n),t.max=Br(e.max,r.max,n)}function cU(t,e,r,n){WE(t.x,e.x,r.x,n),WE(t.y,e.y,r.y,n)}function uU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dU={duration:.45,ease:[.4,0,.1,1]},GE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qE=GE("applewebkit/")&&!GE("chrome/")?Math.round:aa;function KE(t){t.min=qE(t.min),t.max=qE(t.max)}function hU(t){KE(t.x),KE(t.y)}function OS(t,e,r){return t==="position"||t==="preserve-aspect"&&!pB($E(e),$E(r),.2)}function fU(t){return t!==t.root&&t.scroll?.wasRoot}const pU=DS({attachResizeListener:(t,e)=>v0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wx={current:void 0},FS=DS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wx.current){const t=new pU({});t.mount(window),t.setOptions({layoutScroll:!0}),Wx.current=t}return Wx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mU={pan:{Feature:IB},drag:{Feature:jB,ProjectionNode:FS,MeasureLayout:SS}};function YE(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&Ur.postRender(()=>a(e,Z0(e)))}class gU extends rl{mount(){const{current:e}=this.node;e&&(this.unmount=zV(e,(r,n)=>(YE(this.node,n,"Start"),s=>YE(this.node,s,"End"))))}unmount(){}}class xU extends rl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=X0(v0(this.node.current,"focus",()=>this.onFocus()),v0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function XE(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&Ur.postRender(()=>a(e,Z0(e)))}class yU extends rl{mount(){const{current:e}=this.node;e&&(this.unmount=qV(e,(r,n)=>(XE(this.node,n,"Start"),(s,{success:a})=>XE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yy=new WeakMap,Gx=new WeakMap,vU=t=>{const e=Yy.get(t.target);e&&e(t)},bU=t=>{t.forEach(vU)};function wU({root:t,...e}){const r=t||document;Gx.has(r)||Gx.set(r,{});const n=Gx.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(bU,{root:t,...e})),n[s]}function _U(t,e,r){const n=wU(e);return Yy.set(t,r),n.observe(t),()=>{Yy.delete(t),n.unobserve(t)}}const EU={some:0,all:1};class TU extends rl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=e,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:EU[s]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=h?p:g;y&&y(d)};return _U(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(NU(e,r))&&this.startObserver()}unmount(){}}function NU({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const kU={inView:{Feature:TU},tap:{Feature:yU},focus:{Feature:xU},hover:{Feature:gU}},AU={layout:{ProjectionNode:FS,MeasureLayout:SS}},Xy={current:null},LS={current:!1};function SU(){if(LS.current=!0,!!E1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xy.current=t.matches;t.addListener(e),e()}else Xy.current=!1}const CU=new WeakMap;function jU(t,e,r){for(const n in e){const s=e[n],a=r[n];if(Zn(s))t.addValue(n,s);else if(Zn(a))t.addValue(n,bu(s,{owner:t}));else if(a!==s)if(t.hasValue(n)){const l=t.getValue(n);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(n);t.addValue(n,bu(l!==void 0?l:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const QE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IU{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Es.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ur.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Sm(r),this.isVariantNode=sS(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in g){const v=g[y];d[y]!==void 0&&Zn(v)&&v.set(d[y],!1)}}mount(e){this.current=e,CU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),LS.current||SU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Wo(this.notifyUpdate),Wo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Bu.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ur.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wu){const r=wu[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<QE.length;n++){const s=QE[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=jU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=bu(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(h3(n)||p3(n))?n=parseFloat(n):!XV(n)&&Go.test(r)&&(n=Y3(e,r)),this.setBaseTarget(e,Zn(n)?n.get():n)),Zn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=Z1(this.props,r,this.presenceContext?.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Zn(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new S1),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class MS extends IU{constructor(){super(...arguments),this.KeyframeResolver=MV}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function VS(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const a in r)t.style.setProperty(a,r[a])}function PU(t){return window.getComputedStyle(t)}class RU extends MS{constructor(){super(...arguments),this.type="html",this.renderInstance=VS}readValueFromInstance(e,r){if(Bu.has(r))return this.projection?.isProjecting?Ly(r):nV(e,r);{const n=PU(e),s=(I1(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return TS(e,r)}build(e,r,n){X1(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return eb(e,r,n)}}const $S=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DU(t,e,r,n){VS(t,e,void 0,n);for(const s in e.attrs)t.setAttribute($S.has(s)?s:Y1(s),e.attrs[s])}class OU extends MS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Bu.has(r)){const n=K3(r);return n&&n.default||0}return r=$S.has(r)?r:Y1(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return pS(e,r,n)}build(e,r,n){uS(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){DU(e,r,n,s)}mount(e){this.isSVGTag=hS(e.tagName),super.mount(e)}}const FU=(t,e)=>J1(t)?new OU(e):new RU(e,{allowProjection:t!==N.Fragment}),LU=D$({...iB,...kU,...mU,...AU},FU),ee=a$(LU),JE=(t,e,r,n)=>{t.style.transition=`${e} ${r}ms ${n}`},ji=(t,e,r)=>Math.min(Math.max(t,e),r);class MU{constructor(e,r){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=l=>{const{width:u,height:d}=l,h=Math.sqrt(u**2+d**2);return{width:h,height:h}},this.setSize=l=>{const u=this.calculateGlareSize(l);this.glareEl.style.width=`${u.width}px`,this.glareEl.style.height=`${u.height}px`},this.update=(l,u,d,h)=>{this.updateAngle(l,u.glareReverse),this.updateOpacity(l,u,d,h)},this.updateAngle=(l,u)=>{const{xPercentage:d,yPercentage:h}=l,p=180/Math.PI,g=d?Math.atan2(h,-d)*p:0;this.glareAngle=g-(u?180:0)},this.updateOpacity=(l,u,d,h)=>{const{xPercentage:p,yPercentage:g}=l,{glarePosition:y,glareReverse:v,glareMaxOpacity:_}=u,w=d?-1:1,E=h?-1:1,O=v?-1:1;let j=0;switch(y){case"top":j=-p*w*O;break;case"right":j=g*E*O;break;case"bottom":case void 0:j=p*w*O;break;case"left":j=-g*E*O;break;case"all":j=Math.hypot(p,g)}const z=ji(j,0,100);this.glareOpacity=z*_/100},this.render=l=>{const{glareColor:u}=l;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${u} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const n={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:r,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},s=this.calculateGlareSize(e),a={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${s.width}px`,height:`${s.height}px`};Object.assign(this.glareWrapperEl.style,n),Object.assign(this.glareEl.style,a)}}class VU{constructor(){this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,r)=>{this.updateTilt(e,r),this.updateTiltManualInput(e,r),this.updateTiltReverse(r),this.updateTiltLimits(r)},this.updateTilt=(e,r)=>{const{xPercentage:n,yPercentage:s}=e,{tiltMaxAngleX:a,tiltMaxAngleY:l}=r;this.tiltAngleX=n*a/100,this.tiltAngleY=s*l/100*-1},this.updateTiltManualInput=(e,r)=>{const{tiltAngleXManual:n,tiltAngleYManual:s,tiltMaxAngleX:a,tiltMaxAngleY:l}=r;(n!==null||s!==null)&&(this.tiltAngleX=n!==null?n:0,this.tiltAngleY=s!==null?s:0,e.xPercentage=100*this.tiltAngleX/a,e.yPercentage=100*this.tiltAngleY/l)},this.updateTiltReverse=e=>{const r=e.tiltReverse?-1:1;this.tiltAngleX=r*this.tiltAngleX,this.tiltAngleY=r*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:r}=e;this.tiltAngleX=ji(this.tiltAngleX,-90,90),this.tiltAngleY=ji(this.tiltAngleY,-90,90),r&&(this.tiltAngleX=r==="x"?this.tiltAngleX:0,this.tiltAngleY=r==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:r,tiltMaxAngleY:n}=e;this.tiltAngleXPercentage=this.tiltAngleX/r*100,this.tiltAngleYPercentage=this.tiltAngleY/n*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const $U={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class BS extends N.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?await e()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:r}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),r&&r({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:r}=this.props;if(this.setTransitions(),r&&r({event:e}),this.props.reset){const n=new CustomEvent("autoreset");this.onMove(n)}},this.processInput=e=>{const{scale:r}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=r;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=r;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=r;break;case"autoreset":{const{tiltAngleXInitial:n,tiltAngleYInitial:s,tiltMaxAngleX:a,tiltMaxAngleY:l}=this.props,u=s/l*100;this.wrapperEl.clientPosition.xPercentage=ji(n/a*100,-100,100),this.wrapperEl.clientPosition.yPercentage=ji(u,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:r,tiltMaxAngleY:n}=this.props,s=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/r*100,this.wrapperEl.clientPosition.yPercentage=s/n*100,this.wrapperEl.clientPosition.xPercentage=ji(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=ji(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:r,flipVertically:n,flipHorizontally:s}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),r&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,n,s)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let r,n;if(e){const{x:s,y:a}=this.wrapperEl.clientPosition;r=a/window.innerHeight*200-100,n=s/window.innerWidth*200-100}else{const{size:{width:s,height:a,left:l,top:u},clientPosition:{x:d,y:h}}=this.wrapperEl;r=(h-u)/a*200-100,n=(d-l)/s*200-100}this.wrapperEl.clientPosition.xPercentage=ji(r,-100,100),this.wrapperEl.clientPosition.yPercentage=ji(n,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:r}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),r&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new VU,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const r=new CustomEvent("initial");this.emitOnMove(r)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),r&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),r&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:r}=this.props;e&&(this.glare=new MU(this.wrapperEl.size,r),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:r}=this.props;if(!r)return;let n=0,s=0;this.glare&&(n=this.glare.glareAngle,s=this.glare.glareOpacity),r({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:n,glareOpacity:s,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:r}=this.props;JE(this.wrapperEl.node,"all",e,r),this.glare&&JE(this.glare.glareEl,"opacity",e,r)}render(){const{children:e,className:r,style:n}=this.props;return i.jsx("div",{ref:s=>{this.wrapperEl.node=s},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:r,style:n,children:e})}}BS.defaultProps=$U;var qx={exports:{}},Kx,ZE;function BU(){if(ZE)return Kx;ZE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Kx=t,Kx}var Yx,eT;function UU(){if(eT)return Yx;eT=1;var t=BU();function e(){}function r(){}return r.resetWarningCache=e,Yx=function(){function n(l,u,d,h,p,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function s(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},Yx}var tT;function zU(){return tT||(tT=1,qx.exports=UU()()),qx.exports}var HU=zU();const W=sv(HU);var US={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rT=ja.createContext&&ja.createContext(US),WU=["attr","size","title"];function GU(t,e){if(t==null)return{};var r=qU(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cp.apply(this,arguments)}function nT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(r),!0).forEach(function(n){KU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KU(t,e,r){return e=YU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YU(t){var e=XU(t,"string");return typeof e=="symbol"?e:e+""}function XU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zS(t){return t&&t.map((e,r)=>ja.createElement(e.tag,jp({key:r},e.attr),zS(e.child)))}function qe(t){return e=>ja.createElement(QU,Cp({attr:jp({},t.attr)},e),zS(t.child))}function QU(t){var e=r=>{var{attr:n,size:s,title:a}=t,l=GU(t,WU),u=s||r.size||"1em",d;return r.className&&(d=r.className),t.className&&(d=(d?d+" ":"")+t.className),ja.createElement("svg",Cp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,l,{className:d,style:jp(jp({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&ja.createElement("title",null,a),t.children)};return rT!==void 0?ja.createElement(rT.Consumer,null,r=>e(r)):e(US)}function Jl(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function Zl(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function ec(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Cm(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function JU(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(t)}function jm(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Bl(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function ZU(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function ez(t){return qe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(t)}function Dd(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function tz(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function rz(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function nz(t){return qe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function sz(t){return qe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function az(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function ii(t){return qe({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function Kd(t){return qe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function _u(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Ul(t){return qe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function HS(t){return qe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function WS(t){return qe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function rb(t){return qe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function nb(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function tc(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function iz(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function oz(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function lz(t){return qe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(t)}function Eu(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Qy(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(t)}function Tu(t){return qe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function Jy(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function Nu(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function rc(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function pn(t){return qe({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function sb(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function cz(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Ip(t){return qe({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function Zy(t){return qe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function zl(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function hi(t){return qe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function uz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function ia(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function b0(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function IJ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function ab(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function dz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function ku(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function hz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function Im(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Pm(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function nc(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function GS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function sT(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function Us(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function Rm(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function qS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function fz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function pz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function ib(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function PJ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(t)}function RJ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function Fi(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function mz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function KS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function gz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function xz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function YS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(t)}function yz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function Pp(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function Rp(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function ob(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function vz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function $r(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(t)}function DJ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function OJ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(t)}function bz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function FJ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(t)}function w0(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function LJ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(t)}function aT(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function XS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function QS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 1 21 5 17 9"},child:[]},{tag:"path",attr:{d:"M3 11V9a4 4 0 0 1 4-4h14"},child:[]},{tag:"polyline",attr:{points:"7 23 3 19 7 15"},child:[]},{tag:"path",attr:{d:"M21 13v2a4 4 0 0 1-4 4H3"},child:[]}]})(t)}function oi(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function JS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function qo(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function Au(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function ZS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function MJ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function lb(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function iT(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function VJ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(t)}function Dp(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function wz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function ks(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Su(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function $J(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(t)}function _z(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function Ws(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const sc="/assets/logo-IHyrTBgF.png",Ez="/assets/brooklyn99-JZ2MWN0w.png",Tz="/assets/stranger-things-D5-0lMAO.png",Nz="/assets/breaking-bad-Bpn3wVPd.png",kz="/assets/naruto-39Z-HkPE.png",Az="/assets/alice-Cq40FnIV.png",Sz="/assets/netflix-BLpv_VXG.png",Cz="/assets/spotify-CUJiurFO.png",jz="/assets/disney-BRimCQHx.png",Iz="/assets/max-aXt83Sjr.png",Pz="/assets/prime-video-BMlPKM2C.png",Rz="/assets/vix-C-6nU-w7.png",Dz="/assets/Canva-BX7ku0VE.png",Oz="/assets/ChatGPT-C1qHuj3X.png",Fz="/assets/crunchyroll-Cuo8hoUb.png",Lz="/assets/redessociales-DoJo_LR2.png",Mz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAC1CAMAAABGd1nPAAAASFBMVEVHcEz9ggQLp+j9ggT9ggSSk4IKqen9ggT9ggT9ggQQqecSnuAFre39ggQAre79ggQlqeEmodsnkdAoiMonmdUof8MqdbwSmtxXpu9oAAAADnRSTlMAWUCm6xLHMcZ8daTqkBOCNdsAAA4mSURBVHja7Z3peusqDEXjAYPtup7d93/TazvxPCCQwKe90J7v/EsaFltbEgS/Xi+WRtojTfrh+/7LDbKRFDfj6xs4vno2PnOziR/sAkVZlNMovuFYHBXsSItrIhOTpinLHzCVKHURDDEiKY6yef80cChfaeKEQgvkTaRYkLyHilCcTkg9fYBRbBXyGQo6cUzUh3/FY23rC4+q/2kUZJK4GVYdUoWM9tFMSHoi/VCQiXMTeldfFFK9f5SQfDsk+Ly3XBPZekg1D6cSi5XhuUBGjXwkooTk23kJ1kRWae9KIdVaIcOAF/Eu48LErHLTPGm2WdakkLrufxt4xuXiFipmbdKsJctacAy/AxIXt2zkWTd1yGwhbx69Tlz1bqE2vKrUF0d/AxmROJHQjq+7NKvZCmT2kHqRSD/g5u6cRKefdV2H7BUyDYWixE24hkQ2dcimLlwhqVdMWnjYSt2Ea7jIof1e7srCequQuq1dAmwu0bqsQ/Zp1gdJ2//UrasSDdYiSx3SlNtKvalOJdK2CmHLEVH19XUdciWQja23o0xc/mswaJXXMWuBseYxjMoRMRS0SpCHbEx9kIgCEZdsKWRaxzrkkGVNHrK4eluracQRUbCR7X7IfS9rlkg7InFEzBEpznYMT7OsdubhiNCN9OIs6fl2SLVx9TlkOWc3QaQ8trLKO4FMll47Isai1jrvPev27l1kpZC2c/UINZFS3u2tj3XhjKRzNTt19nt17ATiIW3XKnRRXKdRUiFGS+ekOKtDPkDqk4BVzzw6eKcxMvZReD9i+fA47QT27+r1Lzu8O2HYKm9OnVz3shaFdPWTyS+PMxHm0BESTVzPQYjda4uAAPggksvT79W2mbXp9i4e0nbdU6kWj0WuOGIKGMH1CggDDxmY/ajYbRmeKWSJWu1GId0byRPGzoMwVx9YIAywBkTMkEjKqyyrudgx3Aikl4h1G+GxDg00EA+qyMBDIzmefr/wkHaTZX2CVms1aPEg1x0xRhwqiyDEyYQl0eHkYrVNs+oziXwE0inUh+igxUWuPzw7OAiQvJifHptZJ6XhTiHdBwrcRh5TxzC4LRxvJCggI5QkjaLj90P2FrJSyEijF4mdoMViFI481PSOUPf9aAufnYIGWkvMWlWGIxN40NJXMg9xPPLAuigD0+0J349O0qxhGM+0WJZjh2dTHuZFMkNJ9wIZmNSGfR0tD62IxQL0u2ZWOpPrpPczzPq6h+ehkfSiUrq5UrTSVWXpzkQUJKLh6wHBxITsiVVgKWx9kHR6EmH2A4eOQLycaISeFSAvtipEOoP1OqMIHLlQ/YBxTjesEHl7iXmJ0PBQjhtBnv9CIiztVmHLiERoeCjPCC0Pe0ReyaIQIxJ5iEec57+VCFtFLQMSCR6ZDS/PfzURc7VI8EiWww3wsJX9DiOdgJDXIiQrVajOBA9zI0SYfSLEHS2KlarRBRe5mSFe1onUpE1fRtC/0tgnynJTI7ZPhPRMENZAQq3NbZ6bG/Zs5GXA1hUMRAhBdS5OQZahEFkcCIWTYRaDFusU+yc+0cyEGe2JxAwovnj9rjwObAWt4Wzge2QxZ3IidDErA9GgDgKggHUaCr3AeNA6ng0U8fUL+rQxCzAzJrqoApEn8Cw0GbQuzoUJ79bYyWKWeAIHwLdu0zbARoGuRG42Z65mglHGLKlAMiNllmyJS4tM6SajnkQkL3vxZ/mEMUs80ofwCDxZ5n06wo41s4WILGbxZ/apQ4pVINn5VZcIqON9OiWMrOUr6A9YoQUC7olJemGcNlzdLpeUqJ/FH+FxvwwUVHlPRPHPB7c6z4gwIhPJHuHByXq195PIjfA4J5LSmEj4SPshoMsiOFW5rrRjerJoGMnpE++ZXYXQ0p5jSBVFIYs1pahEgkcaph7pgVCaz6C6t5+d1SI/aFcPH9lSCEjD5F1vNCOJfEDWKl/LVV+qoTked8uA0wpOmAlY5xOU4g/CZ4/s8HDqvE6gP4bOkYL4aOvoNEs8ssETUy8Djk4RtL5Jx44xC5lmMZJch3nDZp50cICF6BY+AvmKemduvGPMQqZZHO8gDHzLQwxYjtodc6TS9U6/HCYpwaZZMTbFUvlaYCBfBsJAmmAmxbpYP1gg19MJqwnVvuIvX876mXaGEp3u+eJDUo3NewVqqaqezpZ/fP3MjqPMUPe83iFmtUggqKWqfAyUy3SJKX1CxEdhZKe/Utz5RY5ZqurHcrlsPWKay5gX1T+wt5dfgitEOMIJNY5JxwSLWd0GhDkLOf7FpoCE5P6x/uuNNAc8BBD9g7T7F2c4IIhVleUGgGDa/Ri1CzIgL0NAAiNRN5ABQfVjHgGSWwISG/kIQpbTPAUk/PVAOEbf3Ew/EwEkpwPSPQMk+FtAfr9CciNAQuchmkA8XEryh0zdVpYl6HNeSNprZhfyF9UhutFcGALCTQABBEL9Sj37N1onyMuVQ6oTWVStE/3v6NtqnUjWKrITJ0z0sgIEEP3mIqLbqzazngkg0m4vJu8NMSeztG+npd4PCfV6J5p/PpOGbBOeTvHNH/A0wYF8qblzaAAIYAvXo7cQUKbAkUF4OZiF3FPP9KYGmSJy8lNAd4kffxmLWfSnTjy9qdFTeAYAysgjFqz818uzYsS5rERVqncLS+/uUg+wnHXzrAwpOvaPnFy8kapm9PAgiDPkelaZzxjrQQoC8fFne4McF3sVCIcgajGxpYM/RkggkFQBCFNe0AHxzGSgYzda39riOV5yHJ1i9Ulvh8x67/8MDYncHUXxYM2wjDTFUlhWqpnK8ZVJvkElSBerAC7VmHQdeErLmOgczcns1BQ3B8Q5YdACvxjPCdfBnSxVXkzppNnJV4WZys0Bvlbo9MhC+f61hMqmD2JlB1RkAVOj9D11prc545F9nlChEFNTZpCTxT84kZOJUbrJIdKsUVW+w3//aWKVLDOg4hESRr/1y54t1FQFSKqbgMOJKF4DE+c0RAK10k36KYSef6jeBuTr16geCY9AMe0HPnNNkhlp5ImArtD531Z3NBYib+OACgNZ54GrHiwAXdAkizBaZb/kDq6LS/6SjshCAJMpnxvpsgrUK2PAveWyP1zzrpbbp41e3AP5fkzCD7oKAXY6JZeIy79pyHXO3kgWgjzca2/RXyG5viU1UrsEk2E3A+7udQc8YC3T7HgH10gAX/9FXWbkHZ4if3ebekJ81zggtQjPrxEGPUz4YmYgHe8LJKDnrWPvtuVx8LnaPBRBfCdXv+0IIxa403m42pnDbpi+DB2gpD/MdhPLjouX/AiLYoSrO9KIpdDpDIdb0McRx+CL8QW6490vUG981+EOD/1mkykeleLTEQBPdGFmHnQjmxlzjw+x+QCRSPVxFZBnHvFHZoYJY+8qrPMAV4WwB+fFpmYmIOt4I3crDPOg6WOplAWaK5UZOH4jH7YMhM08aPpYxsOH1FqzX20gk58TW7rB8MEfUWZgiYe/8CAXiBki3iPKtMUjrbv50as1WZVuMqB7j8RKwSzZx/r53WYeqO49wIOciCUeST3yaA0KBNYoJOdBTMQOD78an2/fmhUIrY+oXGtKRySwwcOP6olHa1QghETUniPGgl/k5x8ca4UYSLGIV6vyY6Nj26rUtfKk6XEMY6TRGqpBqGs1jcBBYF/GG7wsiaq2nXi0k0Jawr67kbkJtQplLv5p+2B+GlW9OOqFyOQh1F0s6pAudBdqHFozrSt7OB9JGjVVXbfD70ohn4hV07Z5qUUSIvpICJHg5MH8JIqKn7J8/zY/TTP+G0dV9zDG0S4KeZv6+GvS0RU3y+njhuZCEBj38NOvoocw/HwIDD/vMbCYcIxAthGrNe/oSuc6aCdGGwkmWvlRD6NnscYx0XgDmZG0G4lMaZaVgKWJJKDJchSRYHAkgzbKD5EJSTVLpJ6IHEPWrBA7AUsjcFE+b90TNhYBSz80RiKzQpolYG15HDzdToZ1mBzQoZuAuCTjoJUgYsQiSIp+lAuTyUSqDZKNibQHFwEHrIgyJ5cwCQPPRAXAJU+KQdF4+V9vGsWWxlshE496p5BNljX8wA82+NSz42Xi4sSUwfKYeeenv0KBfdc+Wo1AjgL5uHpTHZlsYtYI5cdUkxdIhcdxNj1RKohjbuUoAeNeHK/e1eNoPQ7yKAAK+bj6YuqLREaF2DeQvzlG9yg+GlkLpJwVcuIh7U4hHfxurMjN+X24KgqYQrYesq/UnzH0vzeiYgXkykOa6ugh2xyrNd7j/b/x2Lh6c16pbwWylkj3XIL1V/WxFchNM6uqzqoQx4Oax4dIIaFx6C2+kTyc8P45P3+HrAXH1tYv272zQr4dD8J8d0aypFnnCtnWIe1ShzgeJMPf8SjOs6wdkmOlXv84/yAZX8WeyK4OKXc8Tj1EYQfE8QAbyEmataoMt72szf5U7XgYClhndUg57Yacp1lqPFx9rhiwrgr1my2qHkfleJjJsE7rkPIUxurMSe3KD7JxguNQqc+9k2bTgF+GS6/MOfpGIW95zET27d6Pq7twZVIgux31TZ3eNGcO4sKVNQfZHMyqFolsjgG5cGU0xdpXhvte1n7HEByuUheuNGqQg0QOjZNmU4dUUHlETh6gERWXRMpbhbx5gKOVcw+EpZerkHVsZa08pHHRykrEuullrT2k+XG5rpUiZOJxVqmvPMSZh70cqzicy9orpHE47FaFu/2QnYdAcXw576CxkEOWtVFIA86sHA4aCzl6yKIQuDhcrCKrQq6bWaWj8VxZOAtk+nXaeCxkHSt1MAznG6jBbnjMWVYBy2+jxHcwjKVZA43hP7kmoihNHApCjfjJcQyXZripeWD8B6SgAXPEt0svAAAAAElFTkSuQmCC",Vz="/assets/ligamax-DgTpYWb1.png",$z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAB4BAMAAAApuvLdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACRQTFRFR3BMAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngKvPEeAAAAAt0Uk5TAIJCvOknEM9gcJ/H0hQxAAAE20lEQVRo3u2Zv2/TQBTHnZSkDVkSwk9lSS0KqFkaBRBVlooKhPBiEENRl1SqVCEWJCSE8BKJXxIspVKnLGXpkoU2Dmm5f47Y59j3zu98juM0y3231kk+vnfvx917mqakpKSkpKSkpKR0scr9ajZq84IvWYQQ+/p84FmDOLLnsvp8i1CdzYO+R8bqzGHplk8fzHPpxG5fOL0X0ElpVhG9XD7AHZ6Bz8r0O05Q9bGQ2mXp/2YCz9CI7iP7WmXppD1Lt34SfmQA+v4M6K98pzb5RwUAJxtRBiyXzSRLD9YXWvwlSI9yuyIhSXLxIhPR/Nv/hPQT5tFymeqKORWddayn3LMWpNvY1+xHU9BBRPe5NEA4mehLP0tOXwA/D9PZZZ6+j5vsYWJ6PcKvdnn6Gk7vJ6bDrR2CZ12evgHoDu3lD4OaLBGd31pgeoOnD0L0UZqm3pqIzm/tqcgh+ac+3QnLk4R0Lp8A04ecjg34gL7gfisRvU7Epn8bovcxes6tP4no1YitDTkda5mA7rhHLRndilheyOkIQektQM/qywcrMUtMGNAROx2b7Bh61dkvj7583/3cZscrBjf9snBTkme5XB84Xf/Oa88ONRl9vJP08lH1TVnls7hblYnYs7bZBLs3IZ2Gh4S+QMSm93/oLDBSSbbvgRfX5PRLCP0JnwU7QUZG6RZDrzQOdP3eVW8HJfQiQvfOGIvwKNsV0vNIvHepxST0OkInj93f7EE3rAvpGffYAekF6j9J6OR49OQu5wfbXIkN6LtYnjfcg5CE3kXpZF2/wcdAUUR3DuSDEL3qZiYJvUqkOo2m57/Qf3P0bkr0d0L6b+dM2/L8lKPXU6J3hHRgninom5YQbmtSuptVGbo+0gSW/9fOGiL6Cci7KP2YPVFnK0w9jEXfYC5zonqPxLsXE4fsbWLJIJPSR1VkSeJ0GP3AMfEKuMfle2Riei18aQrVHHGuY+m0ajWbTSs+3dTEpm/zVoqkj863w6+xfb7u0zM4vB+2UhTdGL/gBPSa4BTHdihbceg5v7kTi74d/CZecP5CuhZNz/gxEoteDHxpAaWvgcOvLaf/gXRbfrJaQy/r8IQrvk1E0kkU/TJzNe1FubzGd+zi0s0IeoHJZ7sIPLi8uH+eS+gFvyBTet3PECg9yzg2FnPnkH6qSX1+6F9sqVPTM2rWwuhgOw1xlvc+uKHJ4/2Bc+T4TuNjkY5U8qsGQektxpXr4izvvdqRJs91pHGvbHnR6VaP900D6UiFUhgScyXQKrdNLVaeD26cLWE/jOkHljRBzJkgL51pMrrf831P6ePhgo3ve5Hdz57oYOMZsSOlj/vdHwuUnqe2HX5Dfd4z1UDQIWMiTFttXmO/+FLXQcM86/39ZnSF3jzU8rpO7Tk66tjrJh5xXsCfoy3pcOc0uXB6DiQVK6p/NgO6B2zzV/a0p1A9nN5li0lGUNynVwun0+UeoX3To/ToBj5TWgQpdA+UmPQMn4OjBRDHfl0MZr6OPqQ49oI9WG4sc4q0kU5SnDxti0ZKVVg6b/t5uZYe3Bk3lsQDMaY/+pnCn6cErzTK5Yo4egv8pG2r0mw2DtMLdNGoMYiyWUwZwW3TFo0Kd9J1MHykdyz8wNYtc3b0F07b+NM3TUlJSUlJSUlJSUlJSWkK/Qcev3qFGKNRGAAAAABJRU5ErkJggg==",Bz="/assets/youtube-CD7XciPM.png",Uz="/assets/deezer-TJoTtW9z.png",zz="/assets/tidal-COk9MJGt.png",Hz="/assets/vpn-CDKQc9_0.png",Wz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIABAMAAAAGVsnJAAAGqmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDEgNzkuYThkNDc1MywgMjAyMy8wMy8yMy0wODo1NjozNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NzdlMDM2NWMtMzUyYi1kOTQyLWI4ODItOGEzNmJiZGFjYWViIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjc2MkZGQjQ4Q0M5MTExRUQ4QkI0QTYxNjlCODA0QUI2IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhlODdmOWFhLTU4NDktNTc0Yi1hMjkxLWNhNzk3OWQ1YWMzZiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIzLTAzLTI3VDA1OjQzOjI4KzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMy0wNy0yOFQxMTowMToyMiswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMy0wNy0yOFQxMTowMToyMiswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3NzVlODFjNi02YjkyLWY1NDYtOTgyYS1lOTI1YWJhYTIwYmIiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjN2YxMzFkMS0xM2EyLWI0NDItYmE1ZS05MGI3ZTA3MGRlZWIiLz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MWRiNzcwZGEtNmJlMC02YzQ2LWEyZTItZDBlZjVhYWQxZmI3IiBzdEV2dDp3aGVuPSIyMDIzLTA2LTE2VDE1OjU1OjUyKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjQuNSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjhlODdmOWFhLTU4NDktNTc0Yi1hMjkxLWNhNzk3OWQ1YWMzZiIgc3RFdnQ6d2hlbj0iMjAyMy0wNy0yOFQxMTowMToyMiswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjYgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pk0jO8IAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAeUExURf9aCv///zAdGf/x6rpFD/9+QP+ofv/RunMwFN5QDMJRIhAAAAe3SURBVHja7d29T+NIGMdxE3DidIwQpF1FFNARrdhtkau9zhEC2lgIaIlOu7RRdAXXIXTF3n97y1tiT+Z5TMiML9l8P92RbMC/PJ5nPH65KAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACw3JpD8zVb5+3vGWN21jiBoXmy+8F/vdV9dvDX6haAeZEtFEC3u7+qAfRfAzhaMIDu3yu9Bxizt2gA3YeV3P74dfvNzsIBjFZ6CDBm4QD2VzyAbNEAVnMfaHkM4GTdK2C05mNA99Oad4Hu4ZrPA1Y0AG8zwRXvgx89HFz9Cojy5wCOo3WtgNcSyKK1rYDnYfCjywG/QwU8l0AWrXEF/CqBDxfAb1EBv44HBtFaV0B0Ha13BSzi96iAiAqgAqiAhTbd6aT47iRAUPF1prx29u7X4pu7K/HNZ9c3dz+ur7IPBDAqvrvhf+Hk4tcE7rvy2hdp4tcrvxb3xGOh+OJpmvz0urkbLBbAo/els5fVzFvl+MadzvP2Fqd+Q/GDznum4Es2ZwClMXHsffF0qCxk5coh/str07nf67JwZ/adN6ask80XwL4UwIO/AnB/c01lkedtDXDXCmR2NnxpbDuDuQI4KL5b+vnCK1mupbxNI36rk+AmpdMT0jo1s0o1VRlAN2i3HCqLubmy0t23TgNMlsX33FVUtjdXAA/uLuhnvqSdz5iMXQM5uLd9Z3JmqOMYKmcdzxPAiTsAL01gspzv2khj5AFiEsBReXexSunUvf3FnaA6gFHALthUAoi1ACbf7PbLf284A2gayd4cARQmPKnvJhA4gFwMYPr7qgPYd3fBaPkDiOXtn5ZAdQAHAbtg2AD6SgCTUXeeANrem0DYAHpaAMfvDmC6t/s/hxw0gJa2/ZN++Y4AToJ1wbAB5GoAb7/xHQGMXAfDJ0sfQKxv/9thxDsC+OSaBkRLH0CrIoCOuiTmHO9S300gaAD9igBMph7ljB0TgbH39bCQAQxLW/v1+vr6ptwWbtVVYde37X89LGAApSGgM5iusdmDgFABjv09wKVkAQMoDgF7mevooKNWQDI74if+LyYMGMCGewHkwj0IzFaAo+cn3ptAyABy985e/PlAq4D2bAAN700gZABDd78r7gRH6lrXbB9M/Z8UCRiAkf750DUKOs4Nzva8sf/zh+ECmH7yjrDWWloadFTA40zBj/1fTxwugJYRlkkLn9tRK6BhD3ntAFeUhwtg07Wn2/uAWgGJfUAc4p6CcAH05U/uO/qgowJmbiEI0AVrCUA84VL8pa4zHnYfbAS4hCBcALkRzys1HR/sukJkbM38HwNcRBIugKERT7pVBbAfudt+GuCeihoC2FXOuBypFWBP/AJ0wYAB2G9wBrCtVkBiBRDixrJwARglgJ4ewKHjZw/laUC0QgEcKScWd9UKsCY+if9DoSUN4NCxAjYqBbC/HhVgDfuNEDfWLXcFlBt/GuLWSm0jY20baqmA8tRvHOLm2qUM4NDxw4NSAFEtATTn6WRBKqDU+NohmoDarltGmczVUgHFqc9JoCcM9OSN3DTydL6eCij1wSTM9fTKMUvfyAd0NVVAoQ2MGmHur8/lu75zo1xDV08FFDb68DHMExZyeSN7Rhkh66mA4uQvDfOMjQ3xDy2exNr+nyqg2AfHQZqAMtJtSqfya6yAqPrqaX9zYfuq+KHzqr56K6B0XWCYm6piI/ylTSOdya4zgLTiylGfEwGrD+Ty1RyhAyiUeKPyHhqPbaB0w09LucA9dACFUT5RLxv81u3eL9wR+s49vTlzjeP3sAG03Tv5lnYDReplRCx91Vfi9tsJBA1gOtNpK00g8TMklq/m+/IUwdmN+7K2qyxcAFbDO7i/H0ltYN/qEN6OBt62QLmwbefzGxM2gMlYn4pNYMvXmFh5OZ/OVwBj93Y+ik3g0de0oLXUATTES6dTbxPD3lIEkLoDSMQm4G+BrL/MAbTFJuDv4LC1FAE0hLFOagJtj8sDw2UIIBECGFc1AQ8BnGrXtNcVwJawoanQBHxWQKwMg1leUwCREEBDaAI+A1BKYLdyhPAWQOoOIJEOhXyukMklkFXe+bNtrR917ABulQCKS21J5b5e7vpjn+eJWsqtbU09gFtr/WTP3shb5RC8WB1tYdlDuo009bpClit39Zy+596v2K7qXLktve8MJ3UHMBbWwxpeV8jioXKLd/6eG3+G1jZtKA8maDnD2XIHIOTi72BIXgEYaOnY68Wn1vY25fOKk3KxFpt/Ore0Ia2HjT3fOdCTn/ShJHBkDaTH9kg3UPY4e3hIXQEk0uMkEs8rhNZWdop/eXxZ/SCEU+sJMS3lMcNN4WzDT0cAW+IDRVLfZ4ovCivEP6zXzodaD3h2Y6V2qTxl92LmYTKvreDbvR1AWz4p8m3s+/9Jcn73tNTz+e7K8Xef3/w58/2XH50Vn9mf9iOTf5P4WvvfZ5Na/+ePgpMIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQD3+A1yfxGsWuS8QAAAAAElFTkSuQmCC",Gz="/assets/applemusic-BTQwzzk6.png",qz="/assets/appletv-D4Izq-B3.png",Kz="/assets/iptv-BYoyNj_r.png",Yz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAMAAAD6TlWYAAAAS1BMVEVHcEz9RwD9RwD9RwD9RwD9RwD9RwD9RwD9RwD9RwD9RwD9RwD9RwD9RwD////8RAD9WRr+5dv+9/T9oX3+zrv+tpr9eET9iV39aTB3F7z7AAAADXRSTlMAz7c4TwcT+OMhiGujN/8xXwAADdlJREFUeNrsnYmCmyAQhuMJHiwar7z/k1ZRIyogXhXN/O222yZr5HNghmHE1wsEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCPUGeE2OEsO36wGKL/BATJmS73s8Zj+cz7Wi4H5Ov0A9ZoR+4URjblmXh+suOw8gJtmD0QsLrNxAGThRb9bDFNLQd25GzmqGDCPkphJ4ThXZjcJHruo7juG5UW2KNs2t9FKw7XkxmejBCr7a9yG36amdpXvdH3aFDu4WIwzUIfYuQH0LoBwp34QVRzPwpjvRbH2BCfgrhUv9mIQmyHe0hUAKw1i0Ren6wzZkOJsUQ4sjbZ4HdgHozhH7jXDG2QmcPQ9duGh/qHcK3iULIuhNCz7X6kALFwZ7rECN9giFRErwRQi/8RmT1N5a7a3LWHEWPoGIQvBdCZjac8C6CTXSHIq3rFhPyBITerCtZzo7DBZb2NXAReQLCaN6MeJcnaY5n6Yyk4lD6bu4kELQCO3s7MQn3u5F7IPSFA1G055DMOWhdgyU3cgOEnAMe9eFdx9Q2Qc8m5OYII/E4bu+akrBREAe672xEx7oNQgm/fRbYOQcdE/wOwNlIVVnU+jCOlH1fJNREhDJ+ei5gwTnYvu47Cf2kf7zy8l3/WbWGmDf/U5hohZ6U3z4n0uWakaP7zhrgewSwSBqgGQPIXkrLb6+2HWP4hVJ+eOdJtj1T5yq0boSWaS0G8d18lzGza62u4Axwf5h/4gTuOB9Sy9Y+StR+YlIra/hVzXcJw5azFxpbfH94t2Ib0YsDRQSB3L1HZ0ObpdPQIStIG4BpQkffs29GBnjE6R0gVzWLCncvcrtEdxDklpYKBq2FWXV2lzR9Of3Q42aax3TfUDUFiPd3kdaLaFlK9P3cvO+2vVepKK2av7PpEO1f3n0VaRAUHnB6bcfU8uV9LE3ZaNd31t4NiwxQL0Y/0fuquu9BRSr6ofQAkBldRjlzLGgpMsCLAfry6AXtXBKZAozXdGHKB8+kc8PF4Ff4QMY3sPuy6gz/9ToGoKcdx3zT0q3f6APm1g2XKW+UR82TzvC+TV3Gka5NH+A3jGmR9cMd8x7vXGiA6LpI2ovwiQPfDKClcdRQFMXwkzuBAXpmDX9nTNAZQKQBkMvqc1FM75OFBhhfNgIGwuQzPiO/oW2Bw7rSKIrpkzCcV+lPN7yMn2OJFr3iU0ICXQscVjbbjBbXXwuRAeLwuvFP6D6sk0qT25657ESGRZFJFNNNgscGeCU+zxW4j/O6gy7AwYXQT5OKHuYctMxrFZwBXolPmDtFJ6Ym2+Ak1uPMr4pw/5xe7CvTgKLcKT4zOd52zcWAV6M0oTvZeCc+33E3KZCGLyh0T1Rr8PHCmS0Xx3zxeT0HZ8Nl992hMH6VugILce4Znanlz4heuuvqHD7XRtiKV5aveq6ta+izj3ZbfsQ8sUsbrsbXRf5rYgdF8mRR0VLu/jqFL63aIgG+lTnLPebDMt9m8mP5gEUXMuCbdUM7OJ8f6yVm8mszevEm6+tjMD0bjLb3X7YiYSg/FmKre7DC+rperB9ObRxlPHP5ofilvs1hCZ/m4r+3swP7hvJrfYgcIFrGp7e4ucMAmwjGyPhlqP6S3uqlhU/LBKNdl9hgfmwMFFdX6uLTWhrZ3gNrH+UZzK+NEKJd+OpGLgLEOzqwtyMA/w9ehIUI1h58dSsXAaLtHdhsfl2ma5yjXImv/oHTANYdJDKbX+cBOIKr8Z0IsO4fLiaGiwUhntPnB2LXW507OQ1g7DnG8+tvp/OcMLbjyPE2pJ7OAoiDwCLkLgR3ZO7OAhgFNiG3IOhP8MXrGnwOQGQFMbmHkM3Vgq3GdxpA1/AAZpwzcJvNQDw/iDak3c8BGEf34ccYWnZs95v3GAAQR5j8ik4BaFsEAO4AiCX8xPc/SiW9Y1LzdeEJrPyJ/wKQToWQ6IZRmnwSsub0y6yoErrw+ip+n6woKsk5UKnOBVgfP/mUEiU8vixN07zUbmxSsPv7qo2vi1SxG7Zy0UWpW1FWNd6i+Rr+aO55XbjqewGWWZ6+ZRqaV7e3rbSrdG2w6GpDS7rt9TmjsqvXLQRXoyrS8a2aX71TdT/YA5CSKpd8bK/+7gpW/S4ullW3VtDctjeqX1cgH4rwdZvxziu5Fe4ASD/FAj7uDse8/x89E+wqG/mK70l3/Ft3RYZ652nFeDcYqJtRSD9lO0Bapn/Lak9WevY6AOmG1/UB0k+u0Yy//EOPBqjF768wHKAmPznBrQD17M94C6SJJr+aoPiDNgLU/eBuwDbXAos/bRWHWmCmxy8jRgMcnL2+MRwCcLJDiDQOzJZc4NUWOOpHTaQ/+RpFh/lxFkgzPkrKFmcihgLkDbAO9pKEdL/7v5OEDxGFJrgJIHcyzWSqmS5SMvvippGmAixGgw1t0w1D2oH9K3srR8FtAIcr99YKjA0FyNlBJp9rDL1NFNRvA5jN5mp3BMhtVZTLj8IFHG9BLLgNYKE65H0AfueDygmm+m3bnEihdEz3A6i0A85QDwOYPwOg3kHUJ38EwPqozegq+KJPAEhOB1gWeV6HnXn7m/u7+PxfgH0MdTMLrOTToT4l/Z8AVvWVlKWPjbVA9XSy20HkfwDsE6OS3Ke5FliYks7K1IsAxo6BuUYO6D8AHD4iFcYk5lqgIQDJN1oTp52UAN9XjoHqzGD1v7owNxZXugArdapvPvM/I5Cebh4szINz80m90Huxbfl0gs/NF4TXSICB+y/VZeVMpDyjC6tWR4aVmHzd7Jlvmzqhm88tLFdjGDZnG46SfqjGEHhYMmEcBzbr+mJxMVnGjYo6BBN127K/ue3kqhQbB+uLgV/YkS789jUVsitzyFxYXIDDF+bw0WJ9rhoIc8VyGB1id66HZ39y5jyrYW8xfvzOP8L6IvIp/v5UHf3/JBNGOewmeS6ePfNb3mR/MuK0rRKa+hj+GrE0+QhDLsIwGr/Toio/n085+l0VqaDM4gKAY2f9TnOhskTSNr6MLSn5UoxMaLSThZoRhpF5FgtrY8vrmv8LIJ8+11u8HoVHad6Pq/moEGiggRCdTMo1MKhDCPG09CqAqpyDqHVUi/hggE1ZbL4aA620F4bfGbnUAvWKAPhhRqNtg8XiGGnZ08xDa5cmFORqgFrVINWasguuA4e2nj3NMCSaBGVxzs41kWIFQJ16Gt5A6FLbuOrU/saUBYLzOj+qUx6oKhDcuayZ0VUEF891NEItvH/0fJT+xoAqVQ5jAgxU/TPfsIgcCVC+u62aICkXaoKLyfuzVF53O7DGzrCD2Ef+CTIM9JMpEaaFYvq5sTamzNunDq2+6yKp8vS9oofJyohTbpqIXe7WZJpIKp7TTHq1aXtagh971yFr9SEnFJk3898qWc2vmRUk7H4CgbJSdKblvID+zYfcBEWjvUHqUa0sJrcOpE2pvXIOzu7WqKpy+qu5t+WU2xy6SpxNkt68QiVNK7OCm68UjUlwbw29yQ5szYvjm1cWMfRz97W32Zy56cTygLiCuCRHwRywL9xAbCWHzboO4EGyA92niwJAkSznde3mFjcHiN2rd4e7NUDUbN508c3x9wYYvV5X705zZ4Ao9K7fHu7GABt+12/PdV+AqHmozPXbS90XYMPPgP1ZlwEauoMJ28I5JDcAaOYWJmwTcRP211vewdLETbBQu0G6Cdd2eQ9VE3dxstY8COT0UHTpwTrm9eH2+dxGXFmdR5SGZvIzY4NRnc30TTPBlp8ZZ6X3jFwXmcfPjB36kdbTn4WPM7uYn2fEuIJ0n1Bq0IbaLT8zHAjSf8Kr8oHeF/AzwoFY0ZonWgYhNoefY8DlxOHaB6oGUWzhTlwHQvhMIRE/L8YXy4qjTc+j9fyglcVPCk7UeOzt+L284GL5e59nyS3EIvt1mvxIyO8B4p+jE5/3KeNNse3gMfw8HmB41qeMPQV6EL+6beh0gF6EZ/n7ZwKMTvmEycM8UfgofucDdMYzXRx5r8cCDE/vvt0DdgHgRu/7pPDlfwCcTruf5X7PjwOnj4J+mvuYx4H2oeP7NOvzOPcxm8oR7B9pfpOUj+W+HimPB3jYED9POsbB66HiV2SPCgSDadobP3H46xTyk6yDYr+p+T21+zLxz5S1DrCT79MZuesSPJjfKBBE7gG9d7pe8FDvK3TDuyNBf/4MMNt5PVy8F9nnh+eD3zODZ8UguGc2J3oSqOV6j+c3msxtN0ERPhQGrx/QuDbP9o/C9xvmxxo/anu4vtW+CB/+gdFP5Id1q5S4ISCy5vjQ852vzI3UcduqsDm0hLUm/g/xmxY46ke+vhvjQ2pNbm+CaMPcy6+NT1SZNnrO9K+MgvbaLiijR9Cv+N7JhBjPzEiO0Avchh4iMPhJOzEzpdANpsbk+Y4b2tLnb//e4Dd0SVGhMsJ2GLlOWwfmOG4UKh9e/sP4XvJSeYSassumHBOhg8s8nxbL7LrZwPp1fLsIIisCfK/5QrgmPRS7PsBrfWyE1xtf6HhAbogH7VVGiMH45rktSxchtqMAjE8wEkYaVohwDPQUOZZQZYZNeO0CvX/t1zkKACEQRUEGxIXx/ud1iUUEE4OqIzxo6L8/5LgebCl/4h1HLOGvY7ql+av0dLXPuijeTVMJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHhBA/3h/at4vy2WAAAAAElFTkSuQmCC",Xz="/assets/vikirakuten-sSeunsUQ.png",Qz="/assets/pornhub-Li3i9oj4.png",Jz="/assets/paramount-NmnOpE1J.png",Zz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAA0lBMVEX////hAyb49/bP0M8CrO/cPAAWFhb//v8GBgb8/P0steoZsOrl5uUqKio+Pj7v7+7t+PxRUVH87+2+vr624fCxsbFDuune8fja2trdQQfun4LM6vUMrOlzyu1awuqH0u744NxhYWHvsqzjZjeg2e7fUBv20sqio6PnelLfGjkQhsd4eHiRkJGYmJiBgYH0xbjqipckmdNvb2/iUGPqi2c6qt9ts0Nqw72IiIiXxtLhaXrdNE2PvULmblvonqdeqM+1zzhJsKI3o06NwW+xzY3W4a1SGp3pAAAObUlEQVR42uxbCVfbuhLOlUHSFNnGcZw4LCUOEBdiBwiFl0APdP3/f+nNjOxsXU57ejnPeeijByJbTjPfrBoprZaDg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4PD30Mhfn1hmySx2Ljw68cAYIMAvLKV8kO7grCfXyzGYimQEmEYrsgHIi9Ks0aIKYtEqC2Uf/Bwa3HdVqT+p2p4+xSb5awiCKJULa3G+Fp6a28USx2F20jA8OIfi2uyaQWjxdgzC68wgdY6B/VzAgAJCLaSgKtK4McBu72C25qApQuA5yMBk4WFK/ihBQRbbQEPVr9KDVctYqFe6evoVwTAthNwMarivho8bhKgRKGDqfaNtRFCTcAiYVgLgEX6+K1U0iQCHtr1hxVPmwRAmOmo0DJmgQBCI2oCaEBiVwQIvGUfAxB0Q4SwJQQMl+KOHjctAMWdJlIXeEVBOvb9LGYCcDAJ/GCcIgVEgEe3PJ5lysD3p56JRdPLIEvA7QCWOf9hnQDVQuFKjIMZygkmwnioA4kEKPAoO2iNGZJjgL2VokGYKd8IPCO2wwJsDhwMWHtXF+sEQK51nAbs4zDRWmaR1ESAyLTOSiQhC4kALSO6MQ4BZngtp7tNr40qC3gcAQn69NCmv+J2gwAMgGkYad8DSNH2S2MyIgDQLaJUkDvETMDYmDGZAKXNIBXIGT6yFRbAORAGt5wLsBpcJ0AEOjIw1jIBkjkwQOJKT6CdF7gEQDYKgVdqgmIopZ7hjSk+shUWcHFFcgNWANdK1ZmwJkCRPtGsS4qCZNtTAbYOwHCAnGCdTD4QMzNKYBwowymTRY+UoLbAAm55GUDB75GjgLheIwC1Xgqy9Cwkpc+gKoSsifP9yNhCSCmcMEmRmWkxK5CMmYAtsIAnklrRKuDiiaMhvVwSgH49LcsJqTgkc68JQMvw6wxYE0CTx6lNDprrZ2i+BeAygF5x9rulMAjthyUBEEa1NL73+wQEESNveBpgC7gWHAK5/rm4svngYkkAxjUtEchAQgQsXcBfuECw7gIBxgDDaHwaRAu4qHLgP4uaWEH7cUkAiZYaznCzkBQM1VoAF8l+jARgrFsEQUoJOWZJDoLQ/C4REXArOAQ+PTw8PFarIqWuLyoCuAxCmUElWPKFJf0CSgyS/EHmKCMxw2kwxfSAyo8FVksTlH0LVkNIwOPQrnFEW7SHVfBTmAkrAoByWk7LvBRFNLbqIQmxECpQ9cbKzJVBLiAncyGnYOcAsQUE3LZVvX4ly//nsY2EYBisCTA22XFbSMYUEYO88LkUJl+fxej1WCdRJeiXpc+Zz86K4zLfAhd4WpYqCq6rTKhgZK8r5VWdDjIFnavY53wQEQEqpwUAyoqRIJEy86uV0WKVtNJEaSpgMFArOWH0eHHxwDGhPbAEQOLLKRcHIvf9CY4px8WlpMJX0EBGnAp8P0H9y8zjnOpNffSJYNZ4AtR6nEY+BnZlrOo6KEzTkAtkemWUEmkcG4GvBTqNMHHiGa4ecZrwcFC1FsPU8zyzfU2yHwbu9UvUFVj2hyuqbBxZ8qkoBOLv1v8h1jlaG20MWg4ODg4ODg4ODk0t6V6x8EAVPbxaBpSI5x3C/mvVv/f583MXMYeX8p1m+xd8+fz5ExHwtqd+9sHVynj1LKFi31k7B7KYujFHbbxNc+Q390jAXffu7q6zsdYXnseNTEi9kNf6+LcVejVo68PEeeKFvJ1KTQ8vNYL3lOs5ppoTG6GUobfBcfW2DYkA8BUJQAYQx+s+QLs8CckmAhkDt0RlrMp6a4jOBNB5AC2jGDUsuPMng0mqqpNkhAJEzjf8HFRGbwdpoMcN6o1A+OUewQTcHa51N2jnhxqZSviaCFBIQKLiiE4++FE0CcOxlNF4GmgfBUMCgigK6HAMbxXY7bAEX+KccVQTQPJnpkk+4JH89/Ezyn8zX82FypO+jypHC7AEABNA54AjPgoApZQ5WfaYtkGQABRPxBFtCnk+bYwwSiQR/1AvkQgg+Rt1WAo9APFFnN0g7nqrxcFUF4WeogmsWgB7DRGgaFhSM5Q6/2MmgM9N+boktad8hFq1cu3HAqghSASYiPYNmmQA5sP9h/v7b9C7Q/lv5suPhpL4aeqjp69ZQE0ACh5r3wCPE9S6JQAHM1Q5ElDkeR7ak7Uyy7lZnOk801HaqOao+PoB5f9iFMzJBJ4XmRCg0GMBYz0BtWEBYAloodiiqiSkn1YEtBReDqsg6HF2mOLAnxlygYg2zhqVBM0Hwlc00cM7YmARBZTxZZKmiUQto2w/toDqPCymC39pAbm1gGw8HhueLdI8oj1jsBbQKA+Ab0yAoVD/jPJf1ibA+8B8DAA9WkQ6r9MgLCxApdKqU4kxyswEYEAQFBCqILiog0Qi0ZcwBoR1DGgICeHHjx/RANiSz24uby4vz+o9oEBGGYKCupjQpwbkxE9haQFiSg5tpUtsEMSAOKN9Mg6CtvhLc3rU+NprURbgKMikNIKAbx8J37iS23++RDyLahdQ0hGHls1udDI0jgupJ2olBtCGMG37TiSdGcCJkyQpIz4mgASUCSHFKBLhHD5ezXWAZUCkjYiFwAR8DblshzlZwCV/F0SJTJZ83BsrvygUuU/+IG0FU1kAVQoRH5eRk9BWgvQ6SARXgpJR8P4pXl+rBCNj4kaUw5B+QXz1Oh38Zw5vFiYAoiiqvUxTlCF+6iLLxtX3gACSiVdtkSbjKJvZI9H5BDFLQj4+UEws8JbJp1FGD6iEymQ0nNkkFqYZ1aDIP336j8W8B+wDl5WWoY5TXM9gcAvF8hC5WGx7ijC07lwVftWyD2ooOiwfhvxA3XShy01JBWlNgLffUh0mwBZDKyclqrFSP1rfL1tJtAe8XD+D/VmfU1PaoPWwmH+q1I9qtmHwpveammNg0ATmHevcam5N4HW1B9O5Vx9dUb35M+KVEQArHqkECCHgNXfI1dZ+79nBwcHBwcHhf15EVD2wZn6+wcHBCF5QeID9/d5h5+zk7VkDxRcHp7uI/vvhv3xqXfEXLa3kx903e0c7RzvHjVP+1fvd/m6Nd/8iA6j1w87J8dtut7u3s8CfEaBe3vTPd1dxqn6uzdYfbt/vH79BpR/t7Oy92UHVrxFQN0KqmEBtov3e9z7Y67xoB6I9PK3EPrga9L8jQIyuFnFhdN4/VeJ9v381PPjdluV+t5KZCFi3ANg/O6HNRjg8OdvH/xKHh8fdznc2dHJ08pJB84Ac/93BiCRqbxIweEdX+lbc9vnpcKje9w+Gg/P+4M8JONogQPW6RyfUaDo+2qOzF4d7e53u3sl3b3G8c/KCK3B1sHR6tUnAVb//fjS4erd72sa7w90RWsT5O7KFK/X3BLTg+Ogtqn6/e4Q6Vqpz1O0dnvXY6Slw1iH0hO9WV78LD3+9Ol8hYNMCBv1zVjSKTjMOSO3t/sEfvf0vCTjbe9NT6hBvIRH/bedcdhuFoTCMokSW7Y2FLCzwhSgYlB0b3v/Z5hxDaGbadKaNMuri/xYJwjSqf87Nh4uIx2i2VrF0bnsQzxkRiwAUHky5XW+94CzWECIMH/mMgXxmActp3g5aTpOsu3aq63O71LWoy/ODcprnmr/P83R4KMA67xDeC1A5pa0UvY4shGm0NbHxLiVLkTN5KUxulIqJBJA2KdpnZU6khuybLIVL0fV8gMvuJRYgx2EPf6fl/JYmR3kdJdnFSKlzPFRnjqLj/BcLCLcsEO6yQJlb0r4JVnqlPMllSRXVJHVMhixEp0RJpDdWhSY1QdlMfiIdj4ocYg6kT/LWvcICxPm07LmgHQ7z0l7mmbxhngULcDkNkzx3h8MwzvI8tPXHAvCZK+wbRL/5d0+271Tj2M2zbswqQIjOkHd4kqI3NPdj79KR9jmKGSwTC0MmE7UlAY0xz93F+tgC5tPu7sUY7mIACUA54bD9AJ/886l7YAF6Rd02mJsA5P7O6igtCRF1L00qFuCl5E+rGwoRkrIAJQhPW552ppBJ1BisaZSPobFGvioLfC7AfLqsY8PIcevQLn93gT9jACVCbaPOZbq0uQmgPKcG7XNIfLW9P/Y2KMM/RjGDDN81kVTzKhnyHU2B4UVZ4M4F6vZa/SFAx0mxaHMroL9aCFWlBIg0U554r5STWwzw1SrAsTlwsiQBjpwuBA951VidyW8yWYykKHhUXrzGAuQ43rQtxvBIgGEqnL8uQFWRq5PrC06IOtF8NgtYBbAUB0Qpl7wKVvBRjaOBRNEyUUzxnAfJCLJ4UR3Q3axclhD3sQuIYZTfK4X5j706hsjTUCFkubvAKoBrjsnaxFmAnD37rPikU91ICaLXJJzM2Vul7assoB7bUvEdlhINfhfgMI6lBhCrTKIW37EAk6j+ZeNu+GxXLuldADrBlPyCbhJNmwY4kEa+Rq0oaFA8LBk00N5onowB7XWqPrQAWv3QEqlbxtMi3wlAdfLYXbqB0mC7XC7L+FCAUFL/B5VgMYH1OQTpM31TnLfOlD2SP2lvnx3VOVQT2b7vy6E0TvHA2ExrRBrvn3yOQV66PYG/WwtUdTdQrbMJdBlYgKFjs7mSIhOtlEaSpiaF2uHywAWoVtO8Hv5dgLv3MOw1f7VdiNyq+63albdG2v6Slf0u+2382Y7F1F2X7jLxO4Hq98thsd7Q+taYuGsJvN3Y8FmTjzsiuY+lpHsT4Bv/tvznnV/+5ZlXve1wXT5qiIjnezVcKKztwJi4KRai8e5nNUb3tgiX9d0rVt/rOxI2Hazx/se9NKY0xtprd35h/0neHEj8yJsMxDzh2j8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L/5BZv4f92316EvAAAAAElFTkSuQmCC",eH="/assets/capcut-CQ2qY_pe.png",tH="/assets/duolingo-1KOz2u7R.png",rH="/assets/buscapersonas-B3TAga0N.png",zc=[{src:Ez,title:"Brooklyn Nine-Nine",description:"Comedia policial hilarante"},{src:Tz,title:"Stranger Things",description:"Misterio y nostalgia ochentera"},{src:Nz,title:"Breaking Bad",description:"Un descenso al mundo del crimen"},{src:kz,title:"Naruto",description:"Aventuras ninja épicas"},{src:Az,title:"Alice in Borderland",description:"Juego de supervivencia intenso"}],nH=[{name:"Netflix",logo:Sz,route:"/netflix",color:"#E50914"},{name:"Spotify",logo:Cz,route:"/spotify",color:"#1DB954"},{name:"Disney+",logo:jz,route:"/disney",color:"#113CCF"},{name:"Max",logo:Iz,route:"/max",color:"#002BE7"},{name:"Prime Video",logo:Pz,route:"/primevideo",color:"#00A8E1"},{name:"Vix",logo:Rz,route:"/vix",color:"#FF2E63"},{name:"Canva",logo:Dz,route:"/canva",color:"#00C4B4"},{name:"ChatGPT",logo:Oz,route:"/chatgpt",color:"#10A37F"},{name:"Crunchyroll",logo:Fz,route:"/crunchyroll",color:"#F47521"},{name:"Redes Sociales",logo:Lz,route:"/redessociales",color:"#3B5998"},{name:"Dgo",logo:Mz,route:"/dgo",color:"#00A1D6"},{name:"Liga Max",logo:Vz,route:"/ligamax",color:"#FFD700"},{name:"Movistar Play",logo:$z,route:"/movistarplay",color:"#005566"},{name:"Youtube",logo:Bz,route:"/youtube",color:"#FF0000"},{name:"Deezer",logo:Uz,route:"/deezer",color:"#FEAA2D"},{name:"Tidal",logo:zz,route:"/tidal",color:"#000000"},{name:"Vpn",logo:Hz,route:"/vpn",color:"#4CAF50"},{name:"Win Tv",logo:Wz,route:"/wintv",color:"#9C27B0"},{name:"Cine Planet",logo:Gz,route:"/applemusic",color:"#FA57C1"},{name:"Apple Tv",logo:qz,route:"/appletv",color:"#000000"},{name:"Iptv",logo:Kz,route:"/iptv",color:"#607D8B"},{name:"Flujo Tv",logo:Yz,route:"/flujotv",color:"#FF5722"},{name:"Viki Rakuten",logo:Xz,route:"/vikirakuten",color:"#D81B60"},{name:"Pornhub",logo:Qz,route:"/pornhub",color:"#FF9000"},{name:"Paramount",logo:Jz,route:"/paramount",color:"#0064D2"},{name:"Licencias",logo:Zz,route:"/licencias",color:"#795548"},{name:"Cap cut",logo:eH,route:"/capcut",color:"#00C4B4"},{name:"Duolingo",logo:tH,route:"/duolingo",color:"#58CC02"},{name:"Busca Personas",logo:rH,route:"/buscapersonas",color:"#3F51B5"}],sH=(t,e=5e3)=>{const[r,n]=N.useState(0),[s,a]=N.useState(0),[l,u]=N.useState(!1);N.useEffect(()=>{if(l)return;const g=setInterval(()=>{a(v=>v>=100?0:v+100/(e/100))},100),y=setInterval(()=>{n(v=>(v+1)%t.length),a(0)},e);return()=>{clearInterval(g),clearInterval(y)}},[l,t.length,e]);const d=N.useCallback(g=>{n(g),a(0)},[]),h=N.useCallback(()=>{n(g=>(g-1+t.length)%t.length),a(0)},[t.length]),p=N.useCallback(()=>{n(g=>(g+1)%t.length),a(0)},[t.length]);return{currentIndex:r,progress:s,isPaused:l,setIsPaused:u,goToSlide:d,prevSlide:h,nextSlide:p}},e5=N.memo(({platform:t,theme:e})=>i.jsx(BS,{tiltMaxAngleX:8,tiltMaxAngleY:8,scale:1.03,transitionSpeed:300,children:i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`${e==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-xl overflow-hidden shadow-md cursor-pointer hover:shadow-xl hover:border-blue-500/50 transition-all duration-300 relative`,children:i.jsxs(_s,{to:t.route,title:t.name,className:"block",children:[i.jsx("img",{src:t.logo,alt:t.name,className:`w-full h-24 sm:h-28 lg:h-32 object-contain p-4 ${e==="dark"?"bg-white/95":"bg-gray-50/95"} transition-transform duration-300 hover:scale-105`,loading:"lazy"}),i.jsx("div",{className:"p-3 text-center",style:{background:`linear-gradient(180deg, ${t.color}20, ${t.color}50)`},children:i.jsx("h3",{className:`font-semibold text-sm sm:text-base ${e==="dark"?"text-gray-100":"text-gray-900"} tracking-tight`,children:t.name})})]})})}));e5.propTypes={platform:W.shape({name:W.string.isRequired,logo:W.string.isRequired,route:W.string.isRequired,color:W.string.isRequired}).isRequired,theme:W.string.isRequired};const t5=N.memo(({show:t,onClose:e,notifications:r,theme:n})=>{const s=n==="dark",a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},l=u=>u.toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return i.jsx(Vt,{children:t&&i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(ee.div,{variants:a,initial:"hidden",animate:"visible",exit:"hidden",className:`w-full max-w-md mx-4 ${s?"bg-gray-900/95 border-gray-700/50":"bg-white/95 border-gray-200/50"} rounded-2xl shadow-2xl p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md`,onClick:u=>u.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar notificaciones",children:i.jsx(pn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-2xl font-bold mb-6 ${s?"text-white":"text-gray-900"} bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Notificaciones"}),r.length>0?r.map(u=>i.jsxs(ee.div,{variants:a,initial:"hidden",animate:"visible",whileHover:"hover",className:`border-b py-3 last:border-0 rounded-xl px-2 transition-all duration-300 ${s?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,children:[i.jsx("p",{className:`${s?"text-gray-300":"text-gray-700"}`,children:u.message}),i.jsx("p",{className:`text-xs mt-1 ${s?"text-gray-400":"text-gray-500"}`,children:l(u.updatedAt?.toDate?.()||new Date)})]},u.id)):i.jsx("p",{className:`py-2 ${s?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})]})})})});t5.propTypes={show:W.bool.isRequired,onClose:W.func.isRequired,notifications:W.arrayOf(W.shape({id:W.string.isRequired,message:W.string.isRequired,updatedAt:W.object})).isRequired,theme:W.string.isRequired};const r5=N.memo(({isOpen:t,message:e,onClose:r,theme:n})=>i.jsx(Vt,{children:t&&i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:r,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${n==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${n==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:s=>s.stopPropagation(),children:[i.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(pn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${n==="dark"?"text-white":"text-gray-900"}`,children:"Notificación"}),i.jsx("p",{className:`text-sm ${n==="dark"?"text-gray-300":"text-gray-700"}`,children:e})]})})}));r5.propTypes={isOpen:W.bool.isRequired,message:W.string.isRequired,onClose:W.func.isRequired,theme:W.string.isRequired};const n5=()=>{const{currentIndex:t,progress:e,setIsPaused:r,goToSlide:n,prevSlide:s,nextSlide:a}=sH(zc,5e3),[l,u]=N.useState(""),[d,h]=N.useState(null),[p,g]=N.useState(0),[y,v]=N.useState(null),[_,w]=N.useState(!1),[E,O]=N.useState(!1),[j,z]=N.useState("dark"),[L,Y]=N.useState(!1),[H,S]=N.useState(!1),[A,I]=N.useState([]),[P,M]=N.useState([]),[R,F]=N.useState([]),[me,Te]=N.useState([]),[je,Ie]=N.useState(null),[_e,oe]=N.useState(!1),[xe,se]=N.useState(null),[U,re]=N.useState(null),[ne,ae]=N.useState(!1),[J,De]=N.useState(null),[Ve,Ce]=N.useState({}),Me=La(),nt=N.useRef(null);N.useEffect(()=>{const Q=Yl(qr,Ne=>{h(Ne),Ne?(mt(Ne.uid),Wt(Ne.uid)):(g(0),v(null),I([]))});return()=>Q()},[]);const mt=async Q=>{try{const Ne=await ri(at(Ae,"users",Q));if(Ne.exists()){g(Ne.data().balance||0),v(Ne.data().role);const ht=Ne.data().username||"Usuario";h(pe=>({...pe,username:ht,id:Q,name:ht,phone:Ne.data().phone||""}))}}catch(Ne){console.error("Error fetching user data:",Ne)}},Wt=async Q=>{try{const Ne=Zt(_t(Ae,"users",Q,"notifications"),h1("updatedAt","desc")),pe=(await Jr(Ne)).docs.map(ke=>({id:ke.id,message:ke.data().message||"Sin mensaje",updatedAt:ke.data().updatedAt}));I(pe)}catch(Ne){console.error("Error fetching notifications:",Ne)}};N.useEffect(()=>{(async()=>{try{const Ne=Zt(_t(Ae,"products")),pe=(await Jr(Ne)).docs.map(ke=>{const Pe=ke.data(),Qe=Pe.accounts||[];return{id:ke.id,...Pe,price:Number(Pe.price)||0,stock:Qe.length,accountDetails:Pe.email||Pe.details||"Detalles no disponibles",terms:Pe.terms||"Términos del proveedor",provider:Pe.provider||"Anon",providerId:Pe.providerId||"",providerPhone:Pe.providerPhone||"",acceptsOrders:Pe.status==="A pedido",duration:Pe.duration||"1 mes",accountType:Pe.accountType||"No especificado",status:Pe.status||"En stock",image:Pe.image||"https://via.placeholder.com/300",renewal:Pe.renewal||!1,renewalPrice:Number(Pe.renewalPrice)||Number(Pe.price)*.9,accounts:Qe,category:Pe.category||"General"}});F(pe)}catch(Ne){console.error("Error fetching all products:",Ne)}})()},[]),N.useEffect(()=>{(async()=>{try{const Ne=Zt(_t(Ae,"sales"),DA(200)),ht=await Jr(Ne),pe={};ht.docs.forEach(xt=>{const st=xt.data().productId;pe[st]=(pe[st]||0)+1});const Pe=Object.keys(pe).sort((xt,Nt)=>pe[Nt]-pe[xt]).slice(0,20).map(async xt=>{const Nt=await ri(at(Ae,"products",xt));if(Nt.exists()){const st=Nt.data(),it=st.accounts||[];let Ze={provider:st.provider||"Anon",providerPhone:st.providerPhone||""};if(st.providerId){const Et=await ri(at(Ae,"users",st.providerId));Et.exists()&&(Ze.provider=Et.data().username||Et.data().email||st.provider,Ze.providerPhone=Et.data().phoneNumber||st.providerPhone)}return{id:xt,...st,category:st.category,price:Number(st.price)||0,stock:it.length,accountDetails:st.email||st.details||"Detalles no disponibles",terms:st.terms||"Términos del proveedor",...Ze,acceptsOrders:st.status==="A pedido",duration:st.duration||"1 mes",accountType:st.accountType||"No especificado",status:st.status||"En stock",image:st.image||"https://via.placeholder.com/300",renewal:st.renewal||!1,renewalPrice:Number(st.renewalPrice)||Number(st.price)*.9,accounts:it}}return null}),Qe=await Promise.all(Pe);M(Qe.filter(xt=>xt))}catch(Ne){console.error("Error fetching top products:",Ne)}})()},[]),N.useEffect(()=>{if(l.trim()){const Q=R.filter(Ne=>Ne.name.toLowerCase().includes(l.toLowerCase())||Ne.provider.toLowerCase().includes(l.toLowerCase()));Te(Q)}else Te([])},[l,R]),N.useEffect(()=>{const Q=Zt(_t(Ae,"ratings"));return or(Q,ht=>{const pe={};ht.docs.forEach(Pe=>{const Qe=Pe.data(),xt=Qe.providerId;pe[xt]||(pe[xt]=[]),pe[xt].push(Number(Qe.rating)||0)});const ke={};Object.keys(pe).forEach(Pe=>{const Qe=pe[Pe];ke[Pe]=Qe.length?Qe.reduce((xt,Nt)=>xt+Nt,0)/Qe.length:1,ke[Pe]=Math.min(Math.max(ke[Pe],1),5)}),Ce(ke)},ht=>{console.error("Error al cargar calificaciones:",ht)})},[]);const vt=N.useCallback(Q=>{if(!Q)return 30;if(typeof Q=="number")return Q;if(typeof Q!="string")return 30;const Ne=Q.match(/(\d+)\s*(mes|meses)/i);if(Ne)return parseInt(Ne[1],10)*30;const ht=Q.match(/(\d+)\s*(día|días|dia|dias)/i);if(ht)return parseInt(ht[1],10);const pe=Q.match(/(\d+)/);return pe?parseInt(pe[1],10):30},[]),rr=N.useCallback(Q=>{const Ne=Number(Q);return isNaN(Ne)?"0.00":Ne.toFixed(2)},[]),Dt=N.useCallback(Q=>{const Ne=Math.floor(Q),ht=5-Ne;return i.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(Ne)].map((pe,ke)=>i.jsx(Au,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${ke}`)),[...Array(ht)].map((pe,ke)=>i.jsx(Au,{className:j==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${ke}`))]})},[j]),Re=N.useCallback(Q=>Q.status==="A pedido"?i.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:i.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(Q.stock)>0?i.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:i.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",Q.stock]})}):i.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:i.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),[]),dr=N.useCallback(Q=>{if(se(null),!d){De({message:"Por favor, inicia sesión para realizar una compra en BlackStreaming.",onClose:()=>Me("/login")});return}if(y==="provider"){De({message:"Los proveedores no pueden realizar compras en BlackStreaming."});return}if(p<Q.price){De({message:"Saldo insuficiente para realizar esta compra."});return}if(!Q.providerId||Q.providerId===""){De({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de BlackStreaming."});return}Ie({product:Q,customerName:d.name,phoneNumber:""})},[d,p,y,Me]),Mt=N.useCallback(async()=>{if(!document.getElementById("termsCheck").checked){se("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(je.phoneNumber)){se("El número de WhatsApp debe tener 9 dígitos");return}try{oe(!0),se(null);const Q=je.product,Ne=vt(Q.duration),ht=Q.category||"general";if(!Q.providerId||Q.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let pe=null;Q.status==="En stock"?pe=await vp(Ae,async ke=>{const Pe=at(Ae,"products",Q.id),Qe=await ke.get(Pe);if(!Qe.exists())throw new Error("Producto no encontrado");const Nt=Qe.data().accounts||[];if(Nt.length===0)throw new Error("No hay cuentas disponibles para este producto");const st=Nt[0],it=Nt.slice(1),Ze=at(Ae,"users",d.id),Et=await ke.get(Ze);if(!Et.exists())throw new Error("Usuario no encontrado");const $t=at(Ae,"users",Q.providerId),qt=await ke.get($t);if(!qt.exists())throw new Error("Proveedor no encontrado");const Pr=at(Ae,"providerBalances",Q.providerId),Rr=await ke.get(Pr);let mn=0;Rr.exists()?mn=parseFloat(Rr.data().balance)||0:ke.set(Pr,{balance:0,provider:Q.providerId,updatedAt:ir()});let hr=Q.providerPhone||"";hr||(hr=qt.data().phoneNumber||"");const zn={accounts:it,stock:it.length};it.length===0&&(zn.status="Agotado"),ke.update(Pe,zn);const kn=(Number(Et.data().balance)||0)-Q.price;if(kn<0)throw new Error("Saldo insuficiente");const _r=Et.data().orderIds||[],gn={productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:hr,status:"active",customerName:je.customerName,customerId:d.id,phoneNumber:je.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,createdAt:new Date().toISOString(),accountDetails:{email:st.email||"No proporcionado",password:st.password||"No proporcionado",profile:st.profile||"No proporcionado",pin:st.pin||"No proporcionado"},terms:Q.terms,duration:Q.duration,durationDays:Ne,type:ht},Zr=_t(Ae,"users",d.id,"orders"),ln=at(Zr);ke.set(ln,{...gn,id:ln.id}),ke.update(Ze,{balance:kn,orderIds:[..._r,ln.id]});const Z=(Number(qt.data().balance)||0)+Q.price,q=qt.data().salesIds||[],K={saleId:at(_t(Ae,"sales")).id,productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:hr,customerId:d.id,customerName:je.customerName,customerPhone:je.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,accountDetails:{email:st.email||"No proporcionado",password:st.password||"No proporcionado",profile:st.profile||"No proporcionado",pin:st.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:Q.terms,duration:Q.duration,durationDays:Ne,generalDetails:Q.accountDetails,productUrl:Q.image},te=_t(Ae,"users",Q.providerId,"sales"),D=at(te);ke.set(D,{...K,id:D.id}),ke.update($t,{balance:Z,salesIds:[...q,D.id]});const X=mn+Q.price;ke.set(Pr,{balance:X,provider:Q.providerId,updatedAt:ir()},{merge:!0});const ce=at(_t(Ae,"sales"));return ke.set(ce,{...gn,provider:Q.provider,providerId:Q.providerId,providerPhone:hr,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:st.email||"No proporcionado",password:st.password||"No proporcionado",profile:st.profile||"No proporcionado",pin:st.pin||"No proporcionado"},saleId:K.saleId,terms:Q.terms,duration:Q.duration,durationDays:Ne,generalDetails:Q.accountDetails,productUrl:Q.image}),st}):await vp(Ae,async ke=>{const Pe=at(Ae,"users",d.id),Qe=await ke.get(Pe);if(!Qe.exists())throw new Error("Usuario no encontrado");const xt=at(Ae,"users",Q.providerId),Nt=await ke.get(xt);if(!Nt.exists())throw new Error("Proveedor no encontrado");const st=at(Ae,"providerBalances",Q.providerId),it=await ke.get(st);let Ze=0;it.exists()?Ze=parseFloat(it.data().balance)||0:ke.set(st,{balance:0,provider:Q.providerId,updatedAt:ir()});let Et=Q.providerPhone||"";Et||(Et=Nt.data().phoneNumber||"");const qt=(Number(Qe.data().balance)||0)-Q.price;if(qt<0)throw new Error("Saldo insuficiente");const Pr=Qe.data().orderIds||[],Rr={productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:Et,status:"pending",customerName:je.customerName,customerId:d.id,phoneNumber:je.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:Q.terms,duration:Q.duration,durationDays:Ne,type:ht},mn=_t(Ae,"users",d.id,"orders"),hr=at(mn);ke.set(hr,{...Rr,id:hr.id}),ke.update(Pe,{balance:qt,orderIds:[...Pr,hr.id]});const lr=(Number(Nt.data().balance)||0)+Q.price,kn=Nt.data().salesIds||[],_r={saleId:at(_t(Ae,"sales")).id,productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:Et,customerId:d.id,customerName:je.customerName,customerPhone:je.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,accountDetails:null,status:"pending",terms:Q.terms,duration:Q.duration,durationDays:Ne,generalDetails:Q.accountDetails,productUrl:Q.image},gn=_t(Ae,"users",Q.providerId,"sales"),Zr=at(gn);ke.set(Zr,{..._r,id:Zr.id}),ke.update(xt,{balance:lr,salesIds:[...kn,Zr.id]});const ln=Ze+Q.price;ke.set(st,{balance:ln,provider:Q.providerId,updatedAt:ir()},{merge:!0});const B=at(_t(Ae,"sales"));ke.set(B,{...Rr,provider:Q.provider,providerId:Q.providerId,providerPhone:Et,saleDate:new Date().toISOString(),status:"pending",saleId:_r.saleId,terms:Q.terms,duration:Q.duration,durationDays:Ne,generalDetails:Q.accountDetails,productUrl:Q.image})}),g(ke=>ke-Q.price),Ie(null),De({message:Q.status==="En stock"?"¡Compra realizada con éxito! Revisa tu panel para mas información.":"¡Pedido realizado con éxito! Revisa tu panel para mas información."})}catch(Q){se(Q.message||"Error al procesar la compra"),console.error("Error en la compra:",Q)}finally{oe(!1)}},[je,d,vt]),He=N.useCallback(Q=>{re({name:Q.name,accountDetails:Q.accountDetails,provider:Q.provider,terms:Q.terms,accountType:Q.accountType})},[]),he=N.useCallback(Q=>{re({name:Q.name,terms:Q.terms,provider:Q.provider,accountType:Q.accountType}),ae(!0)},[]);N.useEffect(()=>{const Q=()=>{O(window.scrollY>300)};return window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)},[]),N.useEffect(()=>{const Q=nt.current;let Ne=0;const ht=ke=>{Ne=ke.touches[0].clientX,r(!0)},pe=ke=>{const Pe=ke.changedTouches[0].clientX;Ne-Pe>50&&a(),Pe-Ne>50&&s(),setTimeout(()=>r(!1),500)};return Q?.addEventListener("touchstart",ht),Q?.addEventListener("touchend",pe),()=>{Q?.removeEventListener("touchstart",ht),Q?.removeEventListener("touchend",pe)}},[s,a,r]);const Je=N.useCallback(Q=>{Q.preventDefault()},[]),lt=N.useCallback(async()=>{try{await F0(qr),Me("/")}catch(Q){console.error("Error signing out:",Q)}},[Me]),ft=N.useCallback(()=>{z(Q=>Q==="dark"?"light":"dark")},[]),Tt=N.useCallback(Q=>Q?Q.split(" ").map(ht=>ht[0]).join("").slice(0,2).toUpperCase():"U",[]),dt=N.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),St=N.useCallback(()=>{switch(y){case"admin":return"/dashboard/admin";case"provider":return"/dashboard/provider";default:return"/dashboard/user"}},[y]),ct=N.useCallback(Q=>{if(!y){Q.preventDefault();const Ne={id:Date.now().toString(),message:"Usuario no activado",updatedAt:new Date};return I(ht=>[...ht,Ne]),S(!0),!1}return!0},[y]),wr=l?me:P;return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${j==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col font-inter relative overflow-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${j==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((Q,Ne)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ne))})]}),i.jsxs("header",{className:`${j==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-4 px-4 sm:px-6 flex items-center justify-between shadow-lg fixed top-0 left-0 right-0 z-50 transition-all duration-300`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ee.img,{src:sc,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${j==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},fetchpriority:"high",loading:"eager",width:"40",height:"40"}),i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-md hidden lg:block",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar productos y proveedores...",value:l,onChange:Q=>u(Q.target.value),className:`w-full py-2.5 px-5 ${j==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${j==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar productos y proveedores",onKeyDown:Q=>Q.key==="Enter"&&Je(Q)}),i.jsx("button",{onClick:Je,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${j==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:i.jsx(Eu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-3 relative",children:[i.jsx("button",{onClick:ft,className:`p-2 rounded-full ${j==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${j==="dark"?"claro":"oscuro"}`,children:j==="dark"?i.jsx(rc,{size:20}):i.jsx(tc,{size:20})}),d&&i.jsxs("button",{onClick:()=>S(!0),className:`p-2 rounded-full relative ${j==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Notificaciones (${A.length} nuevas)`,children:[i.jsx(Bl,{size:20}),A.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:A.length})]}),i.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition duration-300",onClick:()=>Y(!L),"aria-label":"Abrir menú móvil","aria-expanded":L,children:i.jsx(jm,{size:20,className:j==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:d?i.jsxs("div",{className:"relative flex items-center space-x-4",children:[i.jsx(ee.div,{className:`flex items-center space-x-2 ${j==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,whileHover:{scale:1.05},children:i.jsxs("span",{className:"text-sm font-semibold",children:["S/. ",p.toFixed(2)]})}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>w(!_),className:`flex items-center space-x-2 ${j==="dark"?"bg-gray-800/30 border-gray-600/30":"bg-gray-100/80 border-gray-200/30"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,"aria-label":"Menú de usuario","aria-haspopup":"true","aria-expanded":_,children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:d.photoURL?i.jsx("img",{src:d.photoURL,alt:"Avatar de usuario",className:"h-full w-full rounded-full",loading:"lazy"}):Tt(d.username||d.email)}),i.jsx("span",{className:`text-sm font-semibold ${j==="dark"?"text-gray-200":"text-gray-800"} truncate max-w-[120px]`,children:d.username||"Usuario"}),i.jsx(ez,{className:`ml-1 ${j==="dark"?"text-gray-400":"text-gray-600"}`,size:14})]}),i.jsx(Vt,{children:_&&i.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`absolute right-0 mt-2 w-56 ${j==="dark"?"bg-gray-900/95 border-gray-600/30":"bg-white/95 border-gray-200/30"} backdrop-blur-xl rounded-lg shadow-xl py-3 z-50`,role:"menu",children:[i.jsxs(_s,{to:St(),className:`w-full text-left px-4 py-2 text-sm hover:${j==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${j==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,onClick:Q=>{ct(Q),w(!1)},role:"menuitem","aria-label":"Ir al dashboard",children:[i.jsx(Ip,{className:"mr-2"})," Dashboard"]}),i.jsxs("button",{onClick:lt,className:`w-full text-left px-4 py-2 text-sm hover:${j==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${j==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[i.jsx(Nu,{className:"mr-2"})," Cerrar Sesión"]})]})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(_s,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${j==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Iniciar sesión",children:[i.jsx(Jy,{className:"mr-2"})," Ingresar"]}),i.jsxs(_s,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${j==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Registrarse",children:[i.jsx(Zy,{className:"mr-2"})," Registrarse"]})]})})]}),i.jsx(Vt,{children:L&&i.jsx(ee.nav,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},className:`lg:hidden absolute top-full left-0 right-0 ${j==="dark"?"bg-gray-900/95":"bg-white/95"} backdrop-blur-xl shadow-lg z-40 p-6`,role:"menu","aria-label":"Menú móvil",children:i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar productos y proveedores...",value:l,onChange:Q=>u(Q.target.value),className:`w-full py-2.5 px-5 ${j==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${j==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar productos y proveedores",onKeyDown:Q=>Q.key==="Enter"&&Je(Q)}),i.jsx("button",{onClick:Je,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${j==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:i.jsx(Eu,{size:18})})]}),d&&i.jsxs("button",{onClick:()=>{S(!0),Y(!1)},className:`text-sm flex items-center ${j==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ver notificaciones",children:[i.jsx(Bl,{className:"mr-2"})," Notificaciones"]}),d?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:`text-sm ${j==="dark"?"text-gray-300":"text-gray-700"} font-medium`,children:["Saldo: S/. ",p.toFixed(2)]}),i.jsxs(_s,{to:St(),className:`text-sm flex items-center ${j==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,onClick:Q=>{ct(Q)&&Y(!1)},role:"menuitem","aria-label":"Ir al dashboard",children:[i.jsx(Ip,{className:"mr-2"})," Dashboard"]}),i.jsxs("button",{onClick:()=>{lt(),Y(!1)},className:`text-sm flex items-center ${j==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[i.jsx(Nu,{className:"mr-2"})," Cerrar Sesión"]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(_s,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${j==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>Y(!1),role:"menuitem","aria-label":"Iniciar sesión",children:[i.jsx(Jy,{className:"mr-2"})," Ingresar"]}),i.jsxs(_s,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${j==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>Y(!1),role:"menuitem","aria-label":"Registrarse",children:[i.jsx(Zy,{className:"mr-2"})," Registrarse"]})]})]})})})]}),i.jsx(t5,{show:H&&!!d,onClose:()=>S(!1),notifications:A,theme:j}),i.jsx(r5,{isOpen:!!J,message:J?.message||"",onClose:()=>{J?.onClose&&J.onClose(),De(null)},theme:j}),i.jsx(Vt,{children:je&&i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>Ie(null),role:"dialog","aria-labelledby":"purchase-modal-title",children:i.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${j==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${j==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>Ie(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar modal de compra",children:i.jsx(pn,{size:20})}),i.jsx("h2",{id:"purchase-modal-title",className:`text-xl font-bold mb-4 ${j==="dark"?"text-white":"text-gray-900"}`,children:"Confirmar Compra"}),i.jsxs("p",{className:`mb-4 ${j==="dark"?"text-gray-300":"text-gray-700"}`,children:["Estás a punto de comprar: ",i.jsx("strong",{children:je.product.name})]}),i.jsxs("p",{className:`mb-4 ${j==="dark"?"text-gray-300":"text-gray-700"}`,children:["Precio: S/. ",rr(je.product.price)]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"customerName",className:`block text-sm font-medium ${j==="dark"?"text-gray-300":"text-gray-700"} mb-1`,children:"Nombre"}),i.jsx("input",{id:"customerName",type:"text",value:je.customerName,onChange:Q=>Ie({...je,customerName:Q.target.value}),className:`w-full py-2 px-3 rounded-lg ${j==="dark"?"bg-gray-800/50 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50`,"aria-required":"true"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"phoneNumber",className:`block text-sm font-medium ${j==="dark"?"text-gray-300":"text-gray-700"} mb-1`,children:"Número de WhatsApp"}),i.jsx("input",{id:"phoneNumber",type:"tel",value:je.phoneNumber,onChange:Q=>Ie({...je,phoneNumber:Q.target.value}),className:`w-full py-2 px-3 rounded-lg ${j==="dark"?"bg-gray-800/50 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50`,placeholder:"9 dígitos",pattern:"\\d{9}","aria-required":"true"})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{id:"termsCheck",type:"checkbox",className:"h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-300 rounded","aria-required":"true"}),i.jsxs("span",{className:`text-sm ${j==="dark"?"text-gray-300":"text-gray-700"}`,children:["Acepto los"," ",i.jsx("button",{type:"button",onClick:()=>{he(je.product)},className:"underline text-blue-500 hover:text-blue-400",children:"términos y condiciones"})]})]})}),xe&&i.jsx("p",{className:`text-red-400 text-sm mb-4 ${j==="dark"?"text-red-300":"text-red-500"}`,children:xe}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ie(null),className:`flex-1 py-2 px-4 rounded-xl ${j==="dark"?"bg-gray-700/50 hover:bg-gray-600/50 text-gray-200 border-gray-600/30":"bg-gray-200 hover:bg-gray-300 text-gray-800 border-gray-300"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cancelar compra",children:"Cancelar"}),i.jsx(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Mt,disabled:_e,className:`flex-1 py-2 px-4 rounded-xl ${_e?"bg-gray-500/50 cursor-not-allowed text-gray-400":j==="dark"?"bg-green-600/90 hover:bg-green-700/95 text-white border-green-500/30":"bg-green-500/90 hover:bg-green-600/95 text-white border-green-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300 flex items-center justify-center gap-2`,"aria-label":"Confirmar compra",children:_e?i.jsxs(i.Fragment,{children:[i.jsx(yz,{className:"animate-spin",size:16}),"Procesando..."]}):"Confirmar"})]})]})})}),i.jsx(Vt,{children:U&&!ne&&i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>re(null),role:"dialog","aria-labelledby":"detail-modal-title",children:i.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${j==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${j==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>re(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar detalles",children:i.jsx(pn,{size:20})}),i.jsxs("h2",{id:"detail-modal-title",className:`text-xl font-bold mb-4 ${j==="dark"?"text-white":"text-gray-900"}`,children:["Detalles de ",U.name]}),i.jsxs("p",{className:`text-sm ${j==="dark"?"text-gray-300":"text-gray-700"}`,children:[i.jsx("strong",{children:"Tipo de Cuenta:"})," ",U.accountType]}),i.jsxs("p",{className:`text-sm ${j==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Proveedor:"})," ",U.provider]}),i.jsxs("p",{className:`text-sm ${j==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Detalles:"})," ",U.accountDetails]}),i.jsx(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>re(null),className:`mt-6 w-full py-2 px-4 rounded-xl ${j==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar detalles",children:"Cerrar"})]})})}),i.jsx(Vt,{children:ne&&U&&i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>{ae(!1),re(null)},role:"dialog","aria-labelledby":"terms-modal-title",children:i.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${j==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${j==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>{ae(!1),re(null)},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar términos",children:i.jsx(pn,{size:20})}),i.jsx("h2",{id:"terms-modal-title",className:`text-xl font-bold mb-4 ${j==="dark"?"text-white":"text-gray-900"}`,children:"Términos y Condiciones"}),i.jsxs("p",{className:`text-sm ${j==="dark"?"text-gray-300":"text-gray-700"}`,children:[i.jsx("strong",{children:"Producto:"})," ",U.name]}),i.jsxs("p",{className:`text-sm ${j==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Proveedor:"})," ",U.provider]}),i.jsxs("p",{className:`text-sm ${j==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Términos:"})," ",U.terms]}),i.jsx(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ae(!1),re(null)},className:`mt-6 w-full py-2 px-4 rounded-xl ${j==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar términos",children:"Cerrar"})]})})}),i.jsxs("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 py-10 pt-24 relative z-10",children:[!l&&i.jsxs("section",{ref:nt,className:"relative h-64 sm:h-80 md:h-96 lg:h-[600px] mb-12 overflow-hidden rounded-2xl shadow-2xl",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),role:"region","aria-label":"Carrusel de contenido destacado",children:[i.jsx(Vt,{initial:!1,children:i.jsxs(ee.div,{className:"absolute inset-0 flex items-center justify-center",initial:{opacity:0,x:300,scale:1.1},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-300,scale:1.1},transition:{duration:.8,ease:"easeInOut"},children:[i.jsx("img",{src:zc[t].src,alt:zc[t].title,className:"absolute inset-0 w-full h-full object-cover object-center",fetchpriority:t===0?"high":"auto",loading:t===0?"eager":"lazy",width:"1200",height:"600"}),i.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t ${j==="dark"?"from-black/90 via-black/60 to-transparent":"from-white/90 via-white/60 to-transparent"} flex flex-col justify-end p-6 sm:p-8 md:p-10 lg:p-12`,children:[i.jsx(ee.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:`text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-extrabold mb-2 bg-clip-text text-transparent bg-gradient-to-r ${j==="dark"?"from-white to-gray-200":"from-gray-900 to-gray-700"} tracking-tight drop-shadow-md`,children:zc[t].title}),i.jsx(ee.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},className:`text-sm sm:text-base md:text-lg lg:text-xl max-w-md ${j==="dark"?"text-gray-300":"text-gray-700"} font-medium drop-shadow-sm`,children:zc[t].description})]})]},t)}),i.jsx("button",{onClick:s,className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${j==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva anterior",children:i.jsx(nz,{size:20})}),i.jsx("button",{onClick:a,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${j==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva siguiente",children:i.jsx(sz,{size:20})}),i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",role:"tablist",children:zc.map((Q,Ne)=>i.jsx("button",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-300 ${t===Ne?"bg-blue-500 scale-125":j==="dark"?"bg-gray-500/50":"bg-gray-400/50"} focus:outline-none focus:ring-2 focus:ring-blue-500`,onClick:()=>n(Ne),role:"tab","aria-selected":t===Ne,"aria-label":`Ir a diapositiva ${Ne+1}`},Ne))}),i.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 ${j==="dark"?"bg-gray-800/50":"bg-gray-200/50"}`,children:i.jsx(ee.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600",style:{width:`${e}%`},initial:{width:0},animate:{width:`${e}%`},transition:{duration:.1}})})]}),!l&&i.jsxs("section",{className:"relative",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600 tracking-tight",children:"Categorías de Plataformas"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4 sm:gap-6 lg:gap-8",children:nH.map((Q,Ne)=>i.jsx(e5,{platform:Q,theme:j},Ne))})]}),i.jsxs("section",{className:"mt-16 relative",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600 tracking-tight",children:l?"Resultados de Búsqueda":"Productos Más Vendidos"}),wr.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:wr.map(Q=>{const Ne=/^\d+$/.test(Q.duration||"")?`${Q.duration} días`:Q.duration||"1 mes";return i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`relative group rounded-2xl overflow-hidden border-2 ${j==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-blue-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-purple-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[i.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[i.jsx(ee.img,{whileHover:{scale:1.1},src:Q.image,alt:Q.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"},loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Re(Q)]}),i.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${j==="dark"?"text-blue-400 bg-blue-500/20":"text-purple-600 bg-purple-600/20"} px-2 py-0.5 rounded-md`,children:Q.accountType}),i.jsxs("span",{className:`text-xs flex items-center gap-1 ${j==="dark"?"text-gray-400":"text-gray-600"}`,children:[i.jsx(nc,{className:"text-blue-500",size:13}),Ne]})]}),i.jsx("h3",{className:`font-extrabold text-lg ${j==="dark"?"text-white":"text-gray-900"} mb-2 truncate leading-tight drop-shadow`,children:Q.name}),i.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[Dt(Ve[Q.providerId]||1),i.jsx("span",{className:`ml-1 text-xs ${j==="dark"?"text-gray-400":"text-gray-600"}`,children:(Ve[Q.providerId]||1).toFixed(1)})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsxs("span",{className:`flex items-center text-xs ${j==="dark"?"text-gray-300":"text-gray-600"} gap-1`,children:[i.jsx(wz,{className:"text-blue-500",size:13}),Q.provider]}),i.jsxs("span",{className:`flex items-center text-xs ${j==="dark"?"text-gray-400":"text-gray-600"} gap-1`,children:[i.jsx(uz,{className:"text-blue-500",size:13}),Q.status]})]}),i.jsx("div",{className:"flex items-center mb-2",children:Q.renewal?i.jsxs("span",{className:"text-green-500 text-xs font-medium",children:["Renovación S/. ",rr(Q.renewalPrice)]}):i.jsx("span",{className:"text-yellow-500 text-xs font-medium",children:"Sin renovación"})}),i.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[i.jsx("div",{className:"flex items-end justify-between mb-2",children:i.jsxs("span",{className:`font-bold text-xl tracking-tight drop-shadow ${j==="dark"?"text-blue-400":"text-purple-600"}`,children:["S/. ",rr(Q.price)]})}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsxs(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>He(Q),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${j==="dark"?"bg-gray-800/60 hover:bg-blue-500/20":"bg-gray-200/60 hover:bg-purple-600/20"} text-gray-100 transition-all border border-blue-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[i.jsx(gz,{className:"text-blue-500",size:14}),i.jsx("span",{children:"Detalles"})]}),i.jsxs(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(Q),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${j==="dark"?"bg-gray-800/60 hover:bg-blue-500/20":"bg-gray-200/60 hover:bg-purple-600/20"} text-gray-100 transition-all border border-blue-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[i.jsx(ib,{className:"text-blue-500",size:14}),i.jsx("span",{children:"Términos"})]})]}),i.jsxs(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>dr(Q),className:`w-full py-2 px-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 shadow-lg transition-all duration-200 ${Number(Q.stock)>0||Q.status==="A pedido"?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white":"bg-gray-800/60 text-gray-400 cursor-not-allowed"}`,disabled:Number(Q.stock)<=0&&Q.status!=="A pedido",children:[i.jsx(qo,{size:16}),Q.status==="A pedido"?"Pedir Ahora":"Comprar"]})]})]})]},Q.id)})}):i.jsx("p",{className:`text-center text-lg ${j==="dark"?"text-gray-400":"text-gray-600"} font-medium`,children:l?"No se encontraron productos que coincidan con tu búsqueda.":"No hay productos disponibles."})]})]}),i.jsx("footer",{className:`${j==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10`,children:i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${j==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${j==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(ec,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${j==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Zl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${j==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Jl,{size:24})})]})]})}),i.jsx(Vt,{children:E&&i.jsx(ee.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:dt,className:`fixed bottom-6 left-6 bg-blue-600/90 backdrop-blur-lg p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 ${j==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Volver al inicio de la página",children:i.jsx(Cm,{size:20})})})]})};n5.propTypes={};const aH=()=>{const[t,e]=N.useState(""),[r,n]=N.useState(""),[s,a]=N.useState(!1),[l,u]=N.useState(""),[d,h]=N.useState(!1),[p,g]=N.useState(()=>localStorage.getItem("theme")||"dark"),y=La(),v=N.useRef(null);N.useEffect(()=>{localStorage.setItem("theme",p),document.documentElement.classList.toggle("dark",p==="dark")},[p]),N.useEffect(()=>{const z=qr.onAuthStateChanged(L=>{L&&y("/")});return()=>z()},[y]),N.useEffect(()=>{v.current?.focus()},[]);const _=N.useCallback(()=>t?r?r.length<6?"La contraseña debe tener al menos 6 caracteres":"":"Por favor, ingresa tu contraseña":"Por favor, ingresa tu nombre de usuario o correo electrónico",[t,r]),w=async z=>{try{const L=_t(Ae,"users"),Y=Zt(L,gr("username","==",z)),H=await Jr(Y);if(!H.empty){const S=H.docs[0].data();return{email:S.email,status:S.status||"active"}}return null}catch(L){return console.error("Error fetching username:",L),null}},E=N.useCallback(async z=>{z.preventDefault();const L=_();if(L){u(L);return}u(""),h(!0);try{let Y=t,H="active";if(t.includes("@")){const S=_t(Ae,"users"),A=Zt(S,gr("email","==",t)),I=await Jr(A);I.empty||(H=I.docs[0].data().status||"active")}else{const S=await w(t);if(!S){u("Nombre de usuario no encontrado"),h(!1);return}Y=S.email,H=S.status}if(H==="suspended"){u("Esta cuenta está suspendida y no se puede ingresar"),h(!1);return}await C8(qr,Y,r),e(""),n(""),y("/")}catch(Y){u(Y.code==="auth/wrong-password"?"Contraseña incorrecta":Y.code==="auth/user-not-found"?"Usuario o correo electrónico no encontrado":Y.code==="auth/too-many-requests"?"Demasiados intentos fallidos. Intenta de nuevo más tarde.":"Error al iniciar sesión. Por favor, intenta de nuevo.")}finally{h(!1)}},[t,r,y,_]),O=N.useCallback(()=>{g(z=>z==="dark"?"light":"dark")},[]),j=N.useCallback(()=>{a(z=>!z)},[]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${p==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[i.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:i.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full backdrop-blur-sm ${p==="dark"?"bg-gray-800/50 text-gray-400 border border-gray-600/30":"bg-white/70 text-gray-600 border border-gray-300/30"}`,children:"V2.1.2"})}),i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${p==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((z,L)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},L))})]}),i.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${p==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"login-title",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ee.img,{src:sc,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${p==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:O,className:`p-2 rounded-full ${p==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${p==="dark"?"claro":"oscuro"}`,children:p==="dark"?i.jsx(rc,{size:20}):i.jsx(tc,{size:20})})]}),i.jsx("h2",{id:"login-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Iniciar Sesión"}),i.jsx(Vt,{children:l&&i.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${p==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:l})}),i.jsxs("form",{onSubmit:E,className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(zl,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(ee.input,{ref:v,type:"text",placeholder:"Nombre de usuario o correo electrónico",value:t,onChange:z=>e(z.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario o correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs("div",{className:"relative",children:[i.jsx(nb,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(ee.input,{type:s?"text":"password",placeholder:"Contraseña",value:r,onChange:z=>n(z.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contraseña",required:!0,whileFocus:{scale:1.02}}),i.jsx("button",{type:"button",onClick:j,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":s?"Ocultar contraseña":"Mostrar contraseña",children:s?i.jsx(HS,{size:18}):i.jsx(WS,{size:18})})]}),i.jsxs(ee.button,{type:"submit",disabled:d,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${d?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${p==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Iniciar sesión",whileHover:{scale:d?1:1.05},whileTap:{scale:d?1:.95},children:[d?i.jsxs(ee.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):i.jsx(Jy,{className:"mr-2"}),d?"Cargando...":"Iniciar Sesión"]})]}),i.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[i.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿No tienes una cuenta?"," ",i.jsx(_s,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regístrate aquí"})]}),i.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Olvidaste tu contraseña?"," ",i.jsx(_s,{to:"/forgot-password",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Recuperar contraseña",children:"Recupérala aquí"})]})]})]})}),i.jsx("footer",{className:`${p==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(ec,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${p==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Zl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Jl,{size:24})})]})]})})]})},iH=()=>{const t=[{name:"Perú",code:"+51",flag:"🇵🇪",pattern:/^\d{9}$/,length:9},{name:"Estados Unidos",code:"+1",flag:"🇺🇸",pattern:/^\d{10}$/,length:10},{name:"México",code:"+52",flag:"🇲🇽",pattern:/^\d{10}$/,length:10},{name:"Argentina",code:"+54",flag:"🇦🇷",pattern:/^\d{10}$/,length:10},{name:"Chile",code:"+56",flag:"🇨🇱",pattern:/^\d{9}$/,length:9},{name:"Colombia",code:"+57",flag:"🇨🇴",pattern:/^\d{10}$/,length:10}],[e,r]=N.useState(""),[n,s]=N.useState(""),[a,l]=N.useState(""),[u,d]=N.useState(""),[h,p]=N.useState(""),[g,y]=N.useState(t[0]),[v,_]=N.useState(!1),[w,E]=N.useState(""),[O,j]=N.useState(!1),[z,L]=N.useState(!1),[Y,H]=N.useState(()=>localStorage.getItem("theme")||"dark"),S=La(),A=N.useRef(null);N.useEffect(()=>{localStorage.setItem("theme",Y),document.documentElement.classList.toggle("dark",Y==="dark")},[Y]),N.useEffect(()=>{const me=qr.onAuthStateChanged(Te=>{Te&&!z&&S("/")});return()=>me()},[S,z]),N.useEffect(()=>{A.current?.focus()},[]);const I=N.useCallback(async()=>e?/^[a-zA-Z0-9_]{3,20}$/.test(e)?(await ri(at(Ae,"usernames",e.toLowerCase()))).exists()?"El nombre de usuario ya está en uso":n?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?a?g.pattern.test(a)?u?u.length<6?"La contraseña debe tener al menos 6 caracteres":"":"Por favor, ingresa una contraseña":`El número de teléfono debe tener exactamente ${g.length} dígitos`:"Por favor, ingresa tu número de teléfono":"Correo electrónico inválido":"Por favor, ingresa tu correo electrónico":"El nombre de usuario debe tener entre 3 y 20 caracteres alfanuméricos":"Por favor, ingresa un nombre de usuario",[e,n,a,u,g]),P=N.useCallback(async me=>{me.preventDefault();const Te=await I();if(Te){E(Te);return}E(""),j(!0),L(!0);try{const Ie=(await S8(qr,n,u)).user;console.log("Usuario creado en Auth:",Ie.uid),await I8(Ie,{displayName:e}),console.log("Perfil actualizado con username:",e);const _e=Ie.uid.slice(-6).toUpperCase();let oe=null;if(h){const xe=Zt(_t(Ae,"users"),gr("referralCode","==",h)),se=await Jr(xe);if(!se.empty)oe=se.docs[0].id,console.log(`Referred by UID: ${oe}`);else{E("Código de referido inválido"),console.warn(`Invalid referral code: ${h}`),j(!1),L(!1);return}}await ui(at(Ae,"users",Ie.uid),{username:e.toLowerCase(),email:n.toLowerCase(),phone:`${g.code}${a}`,phoneCountryCode:g.code,phoneCountryName:g.name,phoneDigits:a,referralCode:_e,referredBy:oe,balance:0,createdAt:new Date}),console.log('Datos guardados en colección "users" con ID:',Ie.uid),await ui(at(Ae,"usernames",e.toLowerCase()),{email:n.toLowerCase(),uid:Ie.uid}),console.log('Mapping guardado en colección "usernames" con ID:',e.toLowerCase()),r(""),s(""),l(""),d(""),p(""),S("/")}catch(je){console.error("Error en registro:",je),E(je.code==="auth/email-already-in-use"?"El correo electrónico ya está registrado":je.code==="auth/invalid-email"?"Correo electrónico inválido":je.code==="auth/weak-password"?"La contraseña es demasiado débil":"Error al registrarse. Por favor, intenta de nuevo.")}finally{j(!1),L(!1)}},[e,n,a,u,h,g,S,I]),M=N.useCallback(()=>{H(me=>me==="dark"?"light":"dark")},[]),R=N.useCallback(()=>{_(me=>!me)},[]),F=N.useCallback(me=>{const Te=me.target.value,je=t.find(Ie=>Ie.code===Te)||g;y(je),a.length>je.length&&l(a.slice(0,je.length))},[g,a]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${Y==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[i.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:i.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full backdrop-blur-sm ${Y==="dark"?"bg-gray-800/50 text-gray-400 border border-gray-600/30":"bg-white/70 text-gray-600 border border-gray-300/30"}`,children:"V2.1.2"})}),i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${Y==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((me,Te)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Te))})]}),i.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${Y==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"register-title",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ee.img,{src:sc,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${Y==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:M,className:`p-2 rounded-full ${Y==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${Y==="dark"?"claro":"oscuro"}`,children:Y==="dark"?i.jsx(rc,{size:20}):i.jsx(tc,{size:20})})]}),i.jsx(Vt,{children:i.jsx(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:`${Y==="dark"?"bg-green-900/30 border-green-600/30 text-green-200":"bg-green-100/50 border-green-300/30 text-green-800"} rounded-lg p-3 mb-6 text-center text-sm border-l-4 font-semibold`,role:"banner",children:"¡Regístrate gratis ahora!"})}),i.jsx("h2",{id:"register-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Registrarse"}),i.jsx(Vt,{children:w&&i.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${Y==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:w})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(zl,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${Y==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(ee.input,{ref:A,type:"text",placeholder:"Elige un nombre de usuario",value:e,onChange:me=>r(me.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${Y==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs("div",{className:"relative",children:[i.jsx(_u,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${Y==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(ee.input,{type:"email",placeholder:"Tu correo electrónico",value:n,onChange:me=>s(me.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${Y==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs("div",{className:"relative flex items-center",children:[i.jsx(iz,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${Y==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsxs("div",{className:"flex w-full",children:[i.jsx("select",{value:g.code,onChange:F,className:`flex items-center pl-3 pr-3 py-3 rounded-l-full text-sm font-medium cursor-pointer appearance-none bg-transparent border border-r-0 focus:outline-none focus:ring-2 focus:ring-blue-500/50 backdrop-blur-xl transition-all duration-300 hover:shadow-lg ${Y==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"}`,children:t.map(me=>i.jsxs("option",{value:me.code,children:[me.flag," ",me.name," (",me.code,")"]},me.code))}),i.jsx(ee.input,{type:"tel",placeholder:`Número de teléfono (${g.name})`,value:a,onChange:me=>l(me.target.value.replace(/\D/g,"")),className:`flex-1 pl-4 pr-4 py-3 rounded-r-full border border-l-0 focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg ${Y==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"}`,"aria-label":"Número de teléfono",required:!0,maxLength:g.length,whileFocus:{scale:1.02}})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(nb,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${Y==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(ee.input,{type:v?"text":"password",placeholder:"Elige una contraseña",value:u,onChange:me=>d(me.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${Y==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contraseña",required:!0,whileFocus:{scale:1.02}}),i.jsx("button",{onClick:R,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${Y==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":v?"Ocultar contraseña":"Mostrar contraseña",children:v?i.jsx(HS,{size:18}):i.jsx(WS,{size:18})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(zl,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${Y==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(ee.input,{type:"text",placeholder:"Código de referido (opcional)",value:h,onChange:me=>p(me.target.value.trim().toUpperCase()),className:`w-full pl-12 pr-4 py-3 rounded-full ${Y==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Código de referido",whileFocus:{scale:1.02}}),i.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-xs italic text-gray-500",children:"opcional"})]}),i.jsxs(ee.button,{onClick:P,disabled:O,className:`w-full bg-green-600/90 backdrop-blur-xl py-3 rounded-full ${O?"opacity-50 cursor-not-allowed":"hover:bg-green-700/95"} text-sm border ${Y==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Registrarse",whileHover:{scale:O?1:1.05},whileTap:{scale:O?1:.95},children:[O?i.jsxs(ee.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V8h8a8 8 0 01-16 0z"})]}):i.jsx(Zy,{className:"mr-2"}),O?"Cargando...":"Registrarse"]})]}),i.jsxs("p",{className:`text-center text-sm mt-6 ${Y==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Ya tienes una cuenta?"," ",i.jsx(_s,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesión",children:"Inicia sesión aquí"})]})]})}),i.jsx("footer",{className:`${Y==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${Y==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${Y==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(ec,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${Y==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Zl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${Y==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Jl,{size:24})})]})]})})]})},oH=()=>{const[t,e]=N.useState(""),[r,n]=N.useState(""),[s,a]=N.useState(""),[l,u]=N.useState(!1),[d,h]=N.useState(()=>localStorage.getItem("theme")||"dark"),p=La(),g=N.useRef(null);N.useEffect(()=>{localStorage.setItem("theme",d),document.documentElement.classList.toggle("dark",d==="dark")},[d]),N.useEffect(()=>{const w=qr.onAuthStateChanged(E=>{E&&p("/")});return()=>w()},[p]),N.useEffect(()=>{g.current?.focus()},[]);const y=N.useCallback(()=>t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"":"Correo electrónico inválido":"Por favor, ingresa tu correo electrónico",[t]),v=N.useCallback(async w=>{w.preventDefault();const E=y();if(E){n(E),a("");return}n(""),a(""),u(!0);try{await A8(qr,t),a("Se ha enviado un enlace de restablecimiento de contraseña a tu correo electrónico."),e("")}catch(O){n(O.code==="auth/user-not-found"?"No se encontró un usuario con este correo electrónico":O.code==="auth/invalid-email"?"Correo electrónico inválido":O.code==="auth/too-many-requests"?"Demasiados intentos. Intenta de nuevo más tarde.":"Error al enviar el enlace de restablecimiento. Por favor, intenta de nuevo.")}finally{u(!1)}},[t,y]),_=N.useCallback(()=>{h(w=>w==="dark"?"light":"dark")},[]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${d==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${d==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((w,E)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},E))})]}),i.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${d==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"forgot-password-title",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ee.img,{src:sc,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${d==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:_,className:`p-2 rounded-full ${d==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${d==="dark"?"claro":"oscuro"}`,children:d==="dark"?i.jsx(rc,{size:20}):i.jsx(tc,{size:20})})]}),i.jsx("h2",{id:"forgot-password-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Recuperar Contraseña"}),i.jsxs(Vt,{children:[r&&i.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:r}),s&&i.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:s})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(_u,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${d==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(ee.input,{ref:g,type:"email",placeholder:"Tu correo electrónico",value:t,onChange:w=>e(w.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${d==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs(ee.button,{onClick:v,disabled:l,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${l?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${d==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Enviar enlace de restablecimiento",whileHover:{scale:l?1:1.05},whileTap:{scale:l?1:.95},children:[l?i.jsxs(ee.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):i.jsx(_u,{className:"mr-2"}),l?"Cargando...":"Enviar Enlace de Restablecimiento"]})]}),i.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[i.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Ya tienes una cuenta?"," ",i.jsx(_s,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesión",children:"Inicia sesión aquí"})]}),i.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿No tienes una cuenta?"," ",i.jsx(_s,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regístrate aquí"})]})]})]})}),i.jsx("footer",{className:`${d==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(ec,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${d==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Zl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Jl,{size:24})})]})]})})]})},lH=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Ws,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,s5=({isOpen:t,user:e,onClose:r,onSave:n,theme:s="dark"})=>{const a=s==="dark",[l,u]=N.useState(e?.username||""),[d,h]=N.useState(""),p={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},g={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},y=v=>{if(v.preventDefault(),h(""),!l.trim()){h("El nombre de usuario no puede estar vacío.");return}n(e.id,l.trim())};return t?i.jsx(ee.div,{className:`fixed inset-0 ${a?"bg-black/70":"bg-black/50"} flex items-center justify-center z-50 p-4`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},role:"dialog","aria-modal":"true","aria-labelledby":"edit-profile-title",children:i.jsx(ee.div,{className:`rounded-2xl shadow-md w-full max-w-md border ${a?"bg-gray-900/90 border-gray-700/50":"bg-white border-gray-300"}`,variants:p,initial:"hidden",animate:"visible",exit:"exit",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{id:"edit-profile-title",className:"text-xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Editar Perfil"}),i.jsx(ee.button,{onClick:r,className:`${a?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:i.jsx(Ws,{size:20})})]}),i.jsxs("form",{onSubmit:y,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block mb-2 font-semibold ${a?"text-gray-300":"text-gray-700"}`,children:"Nombre de usuario"}),i.jsx("input",{type:"text",value:l,onChange:v=>u(v.target.value),className:`w-full px-4 py-2 rounded-xl ${a?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,required:!0,"aria-label":"Nombre de usuario"}),d&&i.jsx("p",{className:`text-sm mt-2 ${a?"text-red-400":"text-red-600"}`,children:d})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx(ee.button,{type:"button",onClick:r,className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${a?"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-400":"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar edición",children:"Cancelar"}),i.jsx(ee.button,{type:"submit",className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${a?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Guardar perfil",children:"Guardar"})]})]})]})})}):null};s5.propTypes={isOpen:W.bool.isRequired,user:W.shape({id:W.string.isRequired,username:W.string.isRequired}).isRequired,onClose:W.func.isRequired,onSave:W.func.isRequired,theme:W.oneOf(["light","dark"]).isRequired};const a5=({isOpen:t,provider:e,onClose:r,onRate:n,theme:s="dark"})=>{const a=s==="dark",[l,u]=N.useState(0),[d,h]=N.useState(""),p={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},g={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.2}}},y={hover:{scale:1.2,y:-5,transition:{duration:.2,type:"spring"}},tap:{scale:.95}},v={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},_=E=>{if(E.preventDefault(),h(""),l<1||l>5){h("Por favor, selecciona una calificación entre 1 y 5 estrellas.");return}n(e.id,l),u(0)},w=E=>{u(E),h("")};return t?i.jsx(Vt,{children:i.jsx(ee.div,{className:`fixed inset-0 ${a?"bg-black/70 backdrop-blur-sm":"bg-black/50 backdrop-blur-sm"} flex items-center justify-center z-50 p-4`,variants:p,initial:"hidden",animate:"visible",exit:"exit",onClick:r,role:"dialog","aria-modal":"true","aria-labelledby":"rate-provider-title",children:i.jsx(ee.div,{className:`rounded-3xl shadow-2xl w-full max-w-md border ${a?"bg-gradient-to-br from-gray-900/95 to-gray-800/95 border-gray-700/50":"bg-gradient-to-br from-white to-gray-50 border-gray-200/50"}`,variants:g,initial:"hidden",animate:"visible",exit:"exit",onClick:E=>E.stopPropagation(),children:i.jsxs("div",{className:"p-6 sm:p-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx(ee.h2,{id:"rate-provider-title",className:`text-xl sm:text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${a?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{x:-10},animate:{x:0},transition:{duration:.5},children:"Calificar Proveedor"}),i.jsx(ee.button,{onClick:r,className:`p-2 rounded-2xl ${a?"text-gray-400 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200 hover:text-gray-900"} transition-all duration-300`,variants:v,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:i.jsx(Ws,{size:20})})]}),i.jsxs("form",{onSubmit:_,className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:`inline-flex items-center gap-2 p-3 rounded-2xl mb-4 ${a?"bg-gray-800/50":"bg-gray-100"}`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:i.jsx(ks,{className:"text-white text-sm"})}),i.jsx("span",{className:`font-semibold ${a?"text-white":"text-gray-900"}`,children:e.name})]}),i.jsx("div",{className:"flex justify-center space-x-1 mb-4",children:[1,2,3,4,5].map(E=>i.jsx(ee.button,{type:"button",onClick:()=>w(E),className:`p-1 focus:outline-none focus:ring-2 focus:ring-yellow-500/50 rounded-full transition-all duration-200 ${E<=l?a?"text-yellow-400 hover:text-yellow-300":"text-yellow-600 hover:text-yellow-500":a?"text-gray-500 hover:text-gray-400":"text-gray-400 hover:text-gray-500"}`,variants:y,whileHover:"hover",whileTap:"tap","aria-label":`Seleccionar ${E} estrella${E>1?"s":""}`,children:i.jsx(Au,{size:28})},E))}),i.jsx("p",{className:`text-sm font-medium ${a?"text-gray-300":"text-gray-700"}`,children:l>0?`Calificación seleccionada: ${l} estrella${l>1?"s":""}`:"Selecciona una calificación"})]}),d&&i.jsx(ee.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-3 rounded-xl ${a?"bg-red-900/50 border border-red-500/30 text-red-300":"bg-red-50 border border-red-200 text-red-700"}`,children:d}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200/50 dark:border-gray-700/50",children:[i.jsx(ee.button,{type:"button",onClick:r,className:`px-6 py-3 rounded-2xl font-semibold transition-all duration-300 ${a?"bg-gray-600/70 hover:bg-gray-700/80 text-white focus:ring-gray-500/50":"bg-gray-400/70 hover:bg-gray-500/80 text-white focus:ring-gray-500/50"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:v,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar calificación",children:"Cancelar"}),i.jsxs(ee.button,{type:"submit",disabled:l===0,className:`px-6 py-3 rounded-2xl font-semibold flex items-center gap-2 transition-all duration-300 ${l>0?a?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-400":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-500":a?"bg-gray-600/70 text-gray-400 cursor-not-allowed":"bg-gray-400/70 text-gray-500 cursor-not-allowed"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:v,whileHover:l>0?"hover":{},whileTap:l>0?"tap":{},"aria-label":"Enviar calificación",children:[i.jsx(Au,{size:18,className:"text-yellow-400"}),i.jsx("span",{children:"Enviar Calificación"})]})]})]})]})})})}):null};a5.propTypes={isOpen:W.bool.isRequired,provider:W.shape({id:W.string.isRequired,name:W.string.isRequired}).isRequired,onClose:W.func.isRequired,onRate:W.func.isRequired,theme:W.oneOf(["light","dark"]).isRequired};const cH=({userName:t,email:e,balance:r,orders:n,notifications:s,setActivePage:a,formatDate:l,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${d?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",children:[i.jsxs(ee.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Bienvenido, ",i.jsx("span",{className:"text-red-400",children:t.username})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ks,{size:20}),"Información de cuenta"]}),i.jsxs("div",{className:`space-y-4 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(ks,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsx("span",{className:"font-medium",children:t.username})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx($r,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsx("span",{className:"font-medium",children:e})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(w0,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsx("span",{className:"font-medium",children:t.phone||"No especificado"})]})]})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-green-400":"text-green-600"}`,children:[i.jsx(w0,{size:20}),"Saldo disponible"]}),i.jsxs("p",{className:`text-4xl font-bold ${d?"text-white":"text-gray-900"}`,children:["S/ ",r.toFixed(2)]}),i.jsx(ee.button,{onClick:()=>a("recargar"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${d?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Recargar Saldo"})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-purple-400":"text-purple-600"}`,children:[i.jsx($r,{size:20}),"Pedidos activos"]}),i.jsx("p",{className:`text-4xl font-bold ${d?"text-white":"text-gray-900"}`,children:n.filter(g=>new Date(g.endDate)>new Date&&(g.status==="completed"||g.status==="active")).length}),i.jsx(ee.button,{onClick:()=>a("pedidos"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${d?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Pedidos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(ee.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[i.jsx($r,{size:20}),"Pedidos recientes"]}),i.jsx(Vt,{children:n.length>0?n.slice(0,3).map((g,y)=>{const v=new Date(g.endDate)>new Date&&(g.status==="completed"||g.status==="active"),_=g.status==="pending";return i.jsxs(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:y*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"}`,children:g.productName||"Producto sin nombre"}),i.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${g.status==="pending"?d?"bg-yellow-900/80 text-yellow-300 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":v?d?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":d?"bg-red-900/80 text-red-300 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:_?"A pedido":v?"Activo":"Expirado"})]}),i.jsxs("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:["Vence: ",l(g.endDate)]})]},g.id)}):i.jsx(ee.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${d?"text-gray-400":"text-gray-500"}`,children:"No tienes pedidos recientes"})}),n.length>3&&i.jsx(ee.button,{onClick:()=>a("pedidos"),className:`w-full mt-4 px-6 py-3 text-center text-sm transition-all duration-300 rounded-xl border-2 font-medium ${d?"border-blue-500/50 text-blue-400 hover:bg-blue-500/10":"border-blue-500/50 text-blue-600 hover:bg-blue-500/10"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver todos los pedidos"})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[i.jsx(ia,{size:20}),"Notificaciones"]}),i.jsx(Vt,{children:s.length>0?s.map((g,y)=>i.jsxs(ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,delay:y*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[i.jsx("p",{className:`font-medium ${d?"text-gray-300":"text-gray-700"}`,children:g.message}),i.jsx("p",{className:`text-xs mt-2 ${d?"text-gray-400":"text-gray-500"}`,children:l(g.updatedAt?.toDate?.()||new Date)})]},g.id)):i.jsx(ee.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${d?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})})]})]}),i.jsxs(ee.div,{className:`rounded-3xl p-6 shadow-2xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-xl font-bold mb-6 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[i.jsx($r,{size:24}),"Únete a nuestros grupos"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{href:"https://chat.whatsapp.com/IG8v1E00lAD6RIOo7ZB5Kv",icon:$r,title:"Avisos",subtitle:"Grupo de WhatsApp",color:"from-green-500 to-emerald-600"},{href:"https://chat.whatsapp.com/Gs6kTW4DBTi7dEMhnZV1yb",icon:$r,title:"General",subtitle:"Grupo de WhatsApp",color:"from-blue-500 to-cyan-600"},{href:"https://chat.whatsapp.com/BqCOR6w8002695hbYXf5KA",icon:$r,title:"Publicidad",subtitle:"Grupo de WhatsApp",color:"from-purple-500 to-pink-600"}].map((g,y)=>i.jsxs(ee.a,{href:g.href,target:"_blank",rel:"noopener noreferrer",className:`flex items-center p-4 rounded-2xl transition-all duration-300 border group ${d?"bg-gray-700/50 hover:bg-gray-600/70 border-gray-600/50":"bg-gray-200/50 hover:bg-gray-300/70 border-gray-300/50"}`,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[i.jsx(ee.div,{className:`flex-shrink-0 p-3 rounded-xl mr-4 bg-gradient-to-br ${g.color} text-white shadow-lg`,whileHover:{scale:1.1},children:i.jsx(g.icon,{size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"} group-hover:text-blue-500 transition-colors`,children:g.title}),i.jsx("p",{className:`text-sm ${d?"text-gray-300":"text-gray-600"}`,children:g.subtitle})]})]},y))})]})]})},i5=({notifications:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(ee.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:s,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"notifications-title",children:[i.jsxs(ee.h3,{id:"notifications-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Notificaciones",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${n?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:t.length})]}),i.jsx(Vt,{children:t.length>0?i.jsx(ee.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.map((l,u)=>i.jsx(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm transition-all duration-300 ${n?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:a,whileHover:"hover",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:u*.1},"aria-labelledby":`notification-${l.id}-title`,children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 pt-1",children:i.jsx(b0,{className:`text-xl ${n?"text-blue-400":"text-blue-600"}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{id:`notification-${l.id}-title`,className:`font-semibold text-base ${n?"text-white":"text-gray-900"} mb-2`,children:l.message}),i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:e(l.updatedAt?.toDate?.()||new Date)})]})]})},l.id))}):i.jsxs(ee.div,{className:"text-center py-16",variants:a,initial:"hidden",animate:"visible",children:[i.jsx(ee.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${n?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(b0,{className:"text-white",size:32})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"No hay notificaciones"}),i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"No tienes mensajes nuevos. ¡Vuelve pronto para ver actualizaciones!"})]})})]})};i5.propTypes={notifications:W.arrayOf(W.shape({id:W.string.isRequired,message:W.string.isRequired,updatedAt:W.oneOfType([W.instanceOf(Date),W.shape({toDate:W.func})])})).isRequired,formatDate:W.func.isRequired,theme:W.oneOf(["light","dark"]).isRequired};const uH="/assets/yape-sz-AlRxCLbv.png",dH="/assets/binance-sz-Dr2mTMHV.png",o5=({amount:t,setAmount:e,topUps:r,actionLoading:n,handleTopUpRequest:s,formatDate:a,theme:l="dark"})=>{const u=l==="dark",[d,h]=N.useState("PEN"),[p,g]=N.useState(3.75),[y,v]=N.useState(!1),[_,w]=N.useState(!1),[E,O]=N.useState(""),[j,z]=N.useState(5),L={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}};N.useEffect(()=>{(async()=>{v(!0),w(!1);try{const R=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!R.ok)throw new Error("API request failed");const me=(await R.json()).rates.PEN||3.75;g(me*1.1)}catch(R){console.error("Error fetching exchange rate:",R),w(!0)}finally{v(!1)}})()},[]),N.useEffect(()=>{const M=Math.ceil(j/(p/1.1));z(d==="PEN"?5:M)},[d,p]),N.useEffect(()=>{const M=parseFloat(E);if(isNaN(M))e("");else{const R=d==="USD"?M*p:M;e(R.toFixed(2))}},[E,d,p,e]);const Y=M=>{const R=M.target.value;(/^\d*\.?\d{0,2}$/.test(R)||R==="")&&O(R)},H=parseFloat(E),S=d==="USD"?H*p:H,A=isNaN(S)?"0.00":S.toFixed(2),I=!isNaN(H)&&H>=j,P=`Hola 😊, he realizado una recarga a través de ${d==="PEN"?"Yape":"Binance"} por ${d==="PEN"?`S/ ${A}`:`$ ${H?.toFixed(2)||"0.00"} (equivalente a S/ ${A})`}. Por favor, confirma mi pago.`;return i.jsxs(ee.div,{className:"space-y-8 max-w-6xl mx-auto px-4 sm:px-0",variants:L,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"topup-title",children:[i.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[i.jsx("h3",{id:"topup-title",className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Recargar saldo"}),i.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Moneda"}),i.jsxs("select",{value:d,onChange:M=>{h(M.target.value),O(""),e("")},className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,"aria-label":"Seleccionar moneda",children:[i.jsx("option",{value:"PEN",children:"S/ (PEN)"}),i.jsx("option",{value:"USD",children:"$ (USD)"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:["Monto a recargar (",d==="PEN"?"S/":"$",")"]}),i.jsx("input",{type:"number",value:E,onChange:Y,className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 ${!I&&E?"border-red-500 focus:ring-red-400":""}`,placeholder:`Mínimo ${d==="PEN"?"S/ 5.00":`$${j.toFixed(2)}`}`,min:j,step:"0.01","aria-label":`Monto a recargar en ${d}`,"aria-invalid":!I&&E}),d==="USD"&&!isNaN(H)&&i.jsxs("p",{className:`text-sm mt-2 ${_?"text-red-400":u?"text-gray-400":"text-gray-600"}`,children:[_?"Error al cargar tasa. Usando tasa por defecto.":`Equivalente: S/ ${A} (Tasa: 1 USD ≈ ${p.toFixed(2)} PEN)`,y&&" (Cargando tasa...)"]}),!I&&E&&i.jsxs("p",{className:"text-sm text-red-400 mt-1",children:["Monto mínimo: ",d==="PEN"?"S/ 5.00":`$${j.toFixed(2)}`]})]}),i.jsx(ee.button,{onClick:s,disabled:n.topUp||!I,className:`w-full py-3 px-4 rounded-xl font-medium text-lg transition-all duration-300 ${I&&!n.topUp?u?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500":"bg-gray-300 text-gray-500 cursor-not-allowed"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:I&&!n.topUp?1.05:1},whileTap:{scale:I&&!n.topUp?.95:1},"aria-label":"Solicitar recarga",children:n.topUp?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin h-6 w-6 border-3 border-white rounded-full border-t-transparent mr-2"}),"Procesando..."]}):"Solicitar recarga"})]}),i.jsx("div",{className:`mt-8 p-6 rounded-2xl border ${u?"bg-gray-800/50 border-gray-700/30":"bg-gray-100 border-gray-300"} max-w-lg mx-auto`,children:i.jsxs(ee.div,{className:"animate-fade-in",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[i.jsxs("h4",{className:`text-lg font-semibold ${u?"text-blue-400":"text-blue-600"} mb-4 flex items-center`,children:[i.jsx(Us,{className:"mr-2"})," Pago con ",d==="PEN"?"Yape":"Binance"]}),i.jsxs("p",{className:`mb-3 ${u?"text-gray-300":"text-gray-700"}`,children:["Escanea el código QR",d==="PEN"?" o usa Yape con el número:":"."]}),d==="PEN"&&i.jsx("p",{className:`text-xl font-bold ${u?"text-white":"text-gray-900"} mb-3 text-center`,children:"📱 990477711"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:`p-4 rounded-xl shadow-md ${u?"bg-white border-4 border-blue-600":"bg-white border border-gray-300"}`,children:i.jsx("img",{src:d==="PEN"?uH:dH,alt:`${d==="PEN"?"Yape":"Binance"} QR Code`,className:"w-48 h-48 object-contain",loading:"lazy"})})}),i.jsxs("p",{className:`mb-4 ${u?"text-gray-300":"text-gray-700"} text-center`,children:["Realiza el pago de ",d==="PEN"?`S/ ${A}`:`$ ${H?.toFixed(2)||"0.00"} (S/ ${A})`,". Confirma tu recarga vía WhatsApp."]}),i.jsxs(ee.a,{href:`https://wa.me/51940990278?text=${encodeURIComponent(P)}`,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center w-full px-6 py-3 rounded-xl font-medium transition-all duration-300 ${u?"bg-green-500 hover:bg-green-600 text-white focus:ring-green-400":"bg-green-500 hover:bg-green-600 text-white focus:ring-green-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Confirmar pago por WhatsApp con ${d==="PEN"?"Yape":"Binance"}`,children:[i.jsx($r,{className:"mr-2"})," Confirmar por WhatsApp"]})]})})]}),i.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[i.jsx("h3",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Historial de recargas"}),r.length>0?i.jsx("div",{className:"overflow-x-auto rounded-xl border",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${u?"bg-gray-800/50":"bg-gray-100"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),i.jsx("tbody",{className:`${u?"bg-gray-800/50":"bg-white"} divide-y ${u?"divide-gray-600/50":"divide-gray-200"}`,children:r.map(M=>{const R=M.status==="aprobado"?"Aprobado":M.status==="pendiente"?"Pendiente":"Rechazado",F=M.status==="aprobado"?"green":M.status==="pendiente"?"yellow":"red";return i.jsxs("tr",{className:`${u?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,children:[i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap font-medium ${u?"text-white":"text-gray-900"}`,children:["S/ ",M.amount.toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full capitalize ${u?`bg-${F}-900/80 text-${F}-400`:`bg-${F}-500/20 text-${F}-600`}`,children:R})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${u?"text-gray-400":"text-gray-600"}`,children:a(M.date)})]},M.id)})})]})}):i.jsxs(ee.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-12",children:[i.jsx(Us,{className:`mx-auto text-4xl ${u?"text-gray-400":"text-gray-500"} mb-4`}),i.jsx("p",{className:`text-lg ${u?"text-gray-400":"text-gray-600"}`,children:"No hay recargas registradas"})]})]})]})};o5.propTypes={amount:W.oneOfType([W.string,W.number]).isRequired,setAmount:W.func.isRequired,topUps:W.arrayOf(W.shape({id:W.string.isRequired,amount:W.oneOfType([W.string,W.number]).isRequired,status:W.string.isRequired,date:W.oneOfType([W.instanceOf(Date),W.string]).isRequired})).isRequired,actionLoading:W.shape({topUp:W.bool}).isRequired,handleTopUpRequest:W.func.isRequired,formatDate:W.func.isRequired,theme:W.oneOf(["light","dark"]).isRequired};const l5=({providers:t,openRateProviderModal:e,deleteRatingProvider:r,theme:n="dark"})=>{const s=n==="dark",a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(ee.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${s?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:a,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"providers-title",children:[i.jsxs(ee.h3,{id:"providers-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Proveedores",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${s?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:t.length})]}),i.jsx(Vt,{children:t.length>0?i.jsx(ee.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.map((u,d)=>i.jsx(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm transition-all duration-300 ${s?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:l,whileHover:"hover","aria-labelledby":`provider-${u.id}-title`,children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:i.jsx(ks,{className:"text-white",size:24})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{id:`provider-${u.id}-title`,className:`font-bold text-lg ${s?"text-white":"text-gray-900"}`,children:u.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(w0,{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`}),i.jsx("span",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:u.phone})]}),u.hasRated&&i.jsx("div",{className:"flex items-center gap-2 mt-2",children:i.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((h,p)=>i.jsx(Au,{size:16,className:`${p<u.rating?"text-yellow-400 fill-current":s?"text-gray-600":"text-gray-400"}`},p))})})]})]}),u.hasRated?i.jsxs(ee.button,{onClick:()=>r(u),className:`px-4 py-2 rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${s?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-400":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-500"}`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Eliminar valoración del proveedor ${u.name}`,children:[i.jsx(lb,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:"Eliminar"})]}):i.jsxs(ee.button,{onClick:()=>e(u),className:`px-6 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${s?"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white focus:ring-purple-400":"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white focus:ring-purple-500"}`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Calificar al proveedor ${u.name}`,children:[i.jsx(Au,{size:18}),i.jsx("span",{children:"Calificar"})]})]})},u.id))}):i.jsxs(ee.div,{className:"text-center py-16",variants:l,initial:"hidden",animate:"visible",children:[i.jsx(ee.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${s?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:i.jsx(ks,{className:"text-white",size:32})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"No hay proveedores"}),i.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"No has realizado compras con proveedores aún. ¡Tu primer pedido desbloqueará esta sección!"})]})})]})};l5.propTypes={providers:W.arrayOf(W.shape({id:W.string.isRequired,name:W.string.isRequired,phone:W.string.isRequired,hasRated:W.bool.isRequired,rating:W.number})).isRequired,openRateProviderModal:W.func.isRequired,deleteRatingProvider:W.func.isRequired,theme:W.oneOf(["light","dark"]).isRequired};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Op={};Op.version="0.18.5";var c5=1252,hH=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],u5=function(t){hH.indexOf(t)!=-1&&(c5=t)};function fH(){u5(1252)}var _0=function(t){u5(t)};function pH(){_0(1200),fH()}var kf=function(e){return String.fromCharCode(e)},oT=function(e){return String.fromCharCode(e)},Fp,Io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function E0(t){for(var e="",r=0,n=0,s=0,a=0,l=0,u=0,d=0,h=0;h<t.length;)r=t.charCodeAt(h++),a=r>>2,n=t.charCodeAt(h++),l=(r&3)<<4|n>>4,s=t.charCodeAt(h++),u=(n&15)<<2|s>>6,d=s&63,isNaN(n)?u=d=64:isNaN(s)&&(d=64),e+=Io.charAt(a)+Io.charAt(l)+Io.charAt(u)+Io.charAt(d);return e}function qi(t){var e="",r=0,n=0,s=0,a=0,l=0,u=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)a=Io.indexOf(t.charAt(h++)),l=Io.indexOf(t.charAt(h++)),r=a<<2|l>>4,e+=String.fromCharCode(r),u=Io.indexOf(t.charAt(h++)),n=(l&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(n)),d=Io.indexOf(t.charAt(h++)),s=(u&3)<<6|d,d!==64&&(e+=String.fromCharCode(s));return e}var ur=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Qi=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Hl(t){return ur?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function lT(t){return ur?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ka=function(e){return ur?Qi(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Dm(t){if(typeof ArrayBuffer>"u")return ka(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function eh(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function mH(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Ln=ur?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Qi(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function gH(t){for(var e=[],r=0,n=t.length+250,s=Hl(t.length+255),a=0;a<t.length;++a){var l=t.charCodeAt(a);if(l<128)s[r++]=l;else if(l<2048)s[r++]=192|l>>6&31,s[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=t.charCodeAt(++a)&1023;s[r++]=240|l>>8&7,s[r++]=128|l>>2&63,s[r++]=128|u>>6&15|(l&3)<<4,s[r++]=128|u&63}else s[r++]=224|l>>12&15,s[r++]=128|l>>6&63,s[r++]=128|l&63;r>n&&(e.push(s.slice(0,r)),r=0,s=Hl(65535),n=65530)}return e.push(s.slice(0,r)),Ln(e)}var Yd=/\u0000/g,Af=/[\u0001-\u0006]/g;function uu(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Ca(t,e){var r=""+t;return r.length>=e?r:Gr("0",e-r.length)+r}function cb(t,e){var r=""+t;return r.length>=e?r:Gr(" ",e-r.length)+r}function Lp(t,e){var r=""+t;return r.length>=e?r:r+Gr(" ",e-r.length)}function xH(t,e){var r=""+Math.round(t);return r.length>=e?r:Gr("0",e-r.length)+r}function yH(t,e){var r=""+t;return r.length>=e?r:Gr("0",e-r.length)+r}var cT=Math.pow(2,32);function Hc(t,e){if(t>cT||t<-cT)return xH(t,e);var r=Math.round(t);return yH(r,e)}function Mp(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var uT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Xx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function vH(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var Kr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},dT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},bH={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Vp(t,e,r){for(var n=t<0?-1:1,s=t*n,a=0,l=1,u=0,d=1,h=0,p=0,g=Math.floor(s);h<e&&(g=Math.floor(s),u=g*l+a,p=g*h+d,!(s-g<5e-8));)s=1/(s-g),a=l,l=u,d=h,h=p;if(p>e&&(h>e?(p=d,u=a):(p=h,u=l)),!r)return[0,n*u,p];var y=Math.floor(n*u/p);return[y,n*u-y*p,p]}function Sf(t,e,r){if(t>2958465||t<0)return null;var n=t|0,s=Math.floor(86400*(t-n)),a=0,l=[],u={D:n,T:s,u:86400*(t-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++s==86400&&(u.T=s=0,++n,++u.D)),n===60)l=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],a=d.getDay(),n<60&&(a=(a+6)%7),r&&(a=AH(d,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=s%60,s=Math.floor(s/60),u.M=s%60,s=Math.floor(s/60),u.H=s,u.q=a,u}var d5=new Date(1899,11,31,0,0,0),wH=d5.getTime(),_H=new Date(1900,2,1,0,0,0);function h5(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=_H&&(r+=1440*60*1e3),(r-(wH+(t.getTimezoneOffset()-d5.getTimezoneOffset())*6e4))/(1440*60*1e3)}function ub(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function EH(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function TH(t){var e=t<0?12:11,r=ub(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function NH(t){var e=ub(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function kH(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=TH(t):e===10?r=t.toFixed(10).substr(0,12):r=NH(t),ub(EH(r.toUpperCase()))}function ev(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):kH(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ko(14,h5(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function AH(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function SH(t,e,r,n){var s="",a=0,l=0,u=r.y,d,h=0;switch(t){case 98:u=r.y+543;case 121:switch(e.length){case 1:case 2:d=u%100,h=2;break;default:d=u%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:d=r.m,h=e.length;break;case 3:return Xx[r.m-1][1];case 5:return Xx[r.m-1][0];default:return Xx[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=r.d,h=e.length;break;case 3:return uT[r.q][0];default:return uT[r.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(r.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=r.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=r.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Ca(r.S,e.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,a=Math.round(l*(r.S+r.u)),a>=60*l&&(a=0),e==="s"?a===0?"0":""+a/l:(s=Ca(a,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:d=u,h=1;break}var p=h>0?Ca(d,h):"";return p}function Po(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var f5=/%/g;function CH(t,e,r){var n=e.replace(f5,""),s=e.length-n.length;return Li(t,n,r*Math.pow(10,2*s))+Gr("%",s)}function jH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Li(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function p5(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+p5(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),r.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(s+a)%s)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var m5=/# (\?+)( ?)\/( ?)(\d+)/;function IH(t,e,r){var n=parseInt(t[4],10),s=Math.round(e*n),a=Math.floor(s/n),l=s-a*n,u=n;return r+(a===0?"":""+a)+" "+(l===0?Gr(" ",t[1].length+1+t[4].length):cb(l,t[1].length)+t[2]+"/"+t[3]+Ca(u,t[4].length))}function PH(t,e,r){return r+(e===0?"":""+e)+Gr(" ",t[1].length+2+t[4].length)}var g5=/^#*0*\.([0#]+)/,x5=/\).*[0#]/,y5=/\(###\) ###\\?-####/;function os(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function hT(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function fT(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function RH(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function DH(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function ra(t,e,r){if(t.charCodeAt(0)===40&&!e.match(x5)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ra("n",n,r):"("+ra("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return jH(t,e,r);if(e.indexOf("%")!==-1)return CH(t,e,r);if(e.indexOf("E")!==-1)return p5(e,r);if(e.charCodeAt(0)===36)return"$"+ra(t,e.substr(e.charAt(1)==" "?2:1),r);var s,a,l,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+Hc(d,e.length);if(e.match(/^[#?]+$/))return s=Hc(r,0),s==="0"&&(s=""),s.length>e.length?s:os(e.substr(0,e.length-s.length))+s;if(a=e.match(m5))return IH(a,d,h);if(e.match(/^#+0+$/))return h+Hc(d,e.length-e.indexOf("0"));if(a=e.match(g5))return s=hT(r,a[1].length).replace(/^([^\.]+)$/,"$1."+os(a[1])).replace(/\.$/,"."+os(a[1])).replace(/\.(\d*)$/,function(_,w){return"."+w+Gr("0",os(a[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return h+hT(d,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return h+Po(Hc(d,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ra(t,e,-r):Po(""+(Math.floor(r)+RH(r,a[1].length)))+"."+Ca(fT(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return ra(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=uu(ra(t,e.replace(/[\\-]/g,""),r)),l=0,uu(uu(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return l<s.length?s.charAt(l++):_==="0"?"0":""}));if(e.match(y5))return s=ra(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=Vp(d,Math.pow(10,l)-1,!1),s=""+h,p=Li("n",a[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+a[2]+"/"+a[3],p=Lp(u[2],l),p.length<a[4].length&&(p=os(a[4].substr(a[4].length-p.length))+p),s+=p,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=Vp(d,Math.pow(10,l)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?cb(u[1],l)+a[2]+"/"+a[3]+Lp(u[2],l):Gr(" ",2*l+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=Hc(r,0),e.length<=s.length?s:os(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var g=e.indexOf(".")-l,y=e.length-s.length-g;return os(e.substr(0,g)+s+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return l=fT(r,a[1].length),r<0?"-"+ra(t,e,-r):Po(DH(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Ca(0,3-_.length):"")+_})+"."+Ca(l,a[1].length);switch(e){case"###,##0.00":return ra(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=Po(Hc(d,0));return v!=="0"?h+v:"";case"###,###.00":return ra(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ra(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function OH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Li(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function FH(t,e,r){var n=e.replace(f5,""),s=e.length-n.length;return Li(t,n,r*Math.pow(10,2*s))+Gr("%",s)}function v5(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+v5(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),!r.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(s+a)%s)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ya(t,e,r){if(t.charCodeAt(0)===40&&!e.match(x5)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ya("n",n,r):"("+Ya("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return OH(t,e,r);if(e.indexOf("%")!==-1)return FH(t,e,r);if(e.indexOf("E")!==-1)return v5(e,r);if(e.charCodeAt(0)===36)return"$"+Ya(t,e.substr(e.charAt(1)==" "?2:1),r);var s,a,l,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+Ca(d,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:os(e.substr(0,e.length-s.length))+s;if(a=e.match(m5))return PH(a,d,h);if(e.match(/^#+0+$/))return h+Ca(d,e.length-e.indexOf("0"));if(a=e.match(g5))return s=(""+r).replace(/^([^\.]+)$/,"$1."+os(a[1])).replace(/\.$/,"."+os(a[1])),s=s.replace(/\.(\d*)$/,function(_,w){return"."+w+Gr("0",os(a[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return h+Po(""+d);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ya(t,e,-r):Po(""+r)+"."+Gr("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Ya(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=uu(Ya(t,e.replace(/[\\-]/g,""),r)),l=0,uu(uu(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return l<s.length?s.charAt(l++):_==="0"?"0":""}));if(e.match(y5))return s=Ya(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=Vp(d,Math.pow(10,l)-1,!1),s=""+h,p=Li("n",a[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+a[2]+"/"+a[3],p=Lp(u[2],l),p.length<a[4].length&&(p=os(a[4].substr(a[4].length-p.length))+p),s+=p,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=Vp(d,Math.pow(10,l)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?cb(u[1],l)+a[2]+"/"+a[3]+Lp(u[2],l):Gr(" ",2*l+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:os(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var g=e.indexOf(".")-l,y=e.length-s.length-g;return os(e.substr(0,g)+s+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ya(t,e,-r):Po(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Ca(0,3-_.length):"")+_})+"."+Ca(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=Po(""+d);return v!=="0"?h+v:"";default:if(e.match(/\.[0#?]*$/))return Ya(t,e.slice(0,e.lastIndexOf(".")),r)+os(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Li(t,e,r){return(r|0)===r?Ya(t,e,r):ra(t,e,r)}function LH(t){for(var e=[],r=!1,n=0,s=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(s,n-s),s=n+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var b5=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function w5(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Mp(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(b5))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function MH(t,e,r,n){for(var s=[],a="",l=0,u="",d="t",h,p,g,y="H";l<t.length;)switch(u=t.charAt(l)){case"G":if(!Mp(t,l))throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"G",v:"General"},l+=7;break;case'"':for(a="";(g=t.charCodeAt(++l))!==34&&l<t.length;)a+=String.fromCharCode(g);s[s.length]={t:"t",v:a},++l;break;case"\\":var v=t.charAt(++l),_=v==="("||v===")"?v:"t";s[s.length]={t:_,v},++l;break;case"_":s[s.length]={t:"t",v:" "},l+=2;break;case"@":s[s.length]={t:"T",v:e},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(h==null&&(h=Sf(e,r,t.charAt(l+1)==="2"),h==null))return"";s[s.length]={t:"X",v:t.substr(l,2)},d=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=Sf(e,r),h==null))return"";for(a=u;++l<t.length&&t.charAt(l).toLowerCase()===u;)a+=u;u==="m"&&d.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=y),s[s.length]={t:u,v:a},d=u;break;case"A":case"a":case"上":var w={t:u,v:u};if(h==null&&(h=Sf(e,r)),t.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(w.v=h.H>=12?"P":"A"),w.t="T",y="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(w.v=h.H>=12?"PM":"AM"),w.t="T",l+=5,y="h"):t.substr(l,5).toUpperCase()==="上午/下午"?(h!=null&&(w.v=h.H>=12?"下午":"上午"),w.t="T",l+=5,y="h"):(w.t="t",++l),h==null&&w.t==="T")return"";s[s.length]=w,d=u;break;case"[":for(a=u;t.charAt(l++)!=="]"&&l<t.length;)a+=t.charAt(l);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(b5)){if(h==null&&(h=Sf(e,r),h==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},d=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",w5(t)||(s[s.length]={t:"t",v:a}));break;case".":if(h!=null){for(a=u;++l<t.length&&(u=t.charAt(l))==="0";)a+=u;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=u;++l<t.length&&"0#?.,E+-%".indexOf(u=t.charAt(l))>-1;)a+=u;s[s.length]={t:"n",v:a};break;case"?":for(a=u;t.charAt(++l)===u;)a+=u;s[s.length]={t:u,v:a},d=u;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":s[s.length]={t:n===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=u;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)a+=t.charAt(l);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:u,v:u},++l;break;case"$":s[s.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"t",v:u},++l;break}var E=0,O=0,j;for(l=s.length-1,d="t";l>=0;--l)switch(s[l].t){case"h":case"H":s[l].t=y,d="h",E<1&&(E=1);break;case"s":(j=s[l].v.match(/\.0+$/))&&(O=Math.max(O,j[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":d=s[l].t;break;case"m":d==="s"&&(s[l].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&s[l].v.match(/[Hh]/)&&(E=1),E<2&&s[l].v.match(/[Mm]/)&&(E=2),E<3&&s[l].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var z="",L;for(l=0;l<s.length;++l)switch(s[l].t){case"t":case"T":case" ":case"D":break;case"X":s[l].v="",s[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[l].v=SH(s[l].t.charCodeAt(0),s[l].v,h,O),s[l].t="t";break;case"n":case"?":for(L=l+1;s[L]!=null&&((u=s[L].t)==="?"||u==="D"||(u===" "||u==="t")&&s[L+1]!=null&&(s[L+1].t==="?"||s[L+1].t==="t"&&s[L+1].v==="/")||s[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(s[L].v==="/"||s[L].v===" "&&s[L+1]!=null&&s[L+1].t=="?"));)s[l].v+=s[L].v,s[L]={v:"",t:";"},++L;z+=s[l].v,l=L-1;break;case"G":s[l].t="t",s[l].v=ev(e,r);break}var Y="",H,S;if(z.length>0){z.charCodeAt(0)==40?(H=e<0&&z.charCodeAt(0)===45?-e:e,S=Li("n",z,H)):(H=e<0&&n>1?-e:e,S=Li("n",z,H),H<0&&s[0]&&s[0].t=="t"&&(S=S.substr(1),s[0].v="-"+s[0].v)),L=S.length-1;var A=s.length;for(l=0;l<s.length;++l)if(s[l]!=null&&s[l].t!="t"&&s[l].v.indexOf(".")>-1){A=l;break}var I=s.length;if(A===s.length&&S.indexOf("E")===-1){for(l=s.length-1;l>=0;--l)s[l]==null||"n?".indexOf(s[l].t)===-1||(L>=s[l].v.length-1?(L-=s[l].v.length,s[l].v=S.substr(L+1,s[l].v.length)):L<0?s[l].v="":(s[l].v=S.substr(0,L+1),L=-1),s[l].t="t",I=l);L>=0&&I<s.length&&(s[I].v=S.substr(0,L+1)+s[I].v)}else if(A!==s.length&&S.indexOf("E")===-1){for(L=S.indexOf(".")-1,l=A;l>=0;--l)if(!(s[l]==null||"n?".indexOf(s[l].t)===-1)){for(p=s[l].v.indexOf(".")>-1&&l===A?s[l].v.indexOf(".")-1:s[l].v.length-1,Y=s[l].v.substr(p+1);p>=0;--p)L>=0&&(s[l].v.charAt(p)==="0"||s[l].v.charAt(p)==="#")&&(Y=S.charAt(L--)+Y);s[l].v=Y,s[l].t="t",I=l}for(L>=0&&I<s.length&&(s[I].v=S.substr(0,L+1)+s[I].v),L=S.indexOf(".")+1,l=A;l<s.length;++l)if(!(s[l]==null||"n?(".indexOf(s[l].t)===-1&&l!==A)){for(p=s[l].v.indexOf(".")>-1&&l===A?s[l].v.indexOf(".")+1:0,Y=s[l].v.substr(0,p);p<s[l].v.length;++p)L<S.length&&(Y+=S.charAt(L++));s[l].v=Y,s[l].t="t",I=l}}}for(l=0;l<s.length;++l)s[l]!=null&&"n?".indexOf(s[l].t)>-1&&(H=n>1&&e<0&&l>0&&s[l-1].v==="-"?-e:e,s[l].v=Li(s[l].t,s[l].v,H),s[l].t="t");var P="";for(l=0;l!==s.length;++l)s[l]!=null&&(P+=s[l].v);return P}var pT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function mT(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function VH(t,e){var r=LH(t),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(pT),u=r[1].match(pT);return mT(e,l)?[n,r[0]]:mT(e,u)?[n,r[1]]:[n,r[l!=null&&u!=null?2:1]]}return[n,a]}function Ko(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Kr)[t],n==null&&(n=r.table&&r.table[dT[t]]||Kr[dT[t]]),n==null&&(n=bH[t]||"General");break}if(Mp(n,0))return ev(e,r);e instanceof Date&&(e=h5(e,r.date1904));var s=VH(n,e);if(Mp(s[1]))return ev(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return MH(s[1],e,r,s[0])}function _5(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Kr[r]==null){e<0&&(e=r);continue}if(Kr[r]==t){e=r;break}}e<0&&(e=391)}return Kr[e]=t,e}function Om(t){for(var e=0;e!=392;++e)t[e]!==void 0&&_5(t[e],e)}function Fm(){Kr=vH()}var E5=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function $H(t){var e=typeof t=="number"?Kr[t]:t;return e=e.replace(E5,"(\\d+)"),new RegExp("^"+e+"$")}function BH(t,e,r){var n=-1,s=-1,a=-1,l=-1,u=-1,d=-1;(e.match(E5)||[]).forEach(function(g,y){var v=parseInt(r[y+1],10);switch(g.toLowerCase().charAt(0)){case"y":n=v;break;case"d":a=v;break;case"h":l=v;break;case"s":d=v;break;case"m":l>=0?u=v:s=v;break}}),d>=0&&u==-1&&s>=0&&(u=s,s=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var p=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&u==-1&&d==-1?h:n==-1&&s==-1&&a==-1?p:h+"T"+p}var UH=(function(){var t={};t.version="1.2.0";function e(){for(var S=0,A=new Array(256),I=0;I!=256;++I)S=I,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,A[I]=S;return typeof Int32Array<"u"?new Int32Array(A):A}var r=e();function n(S){var A=0,I=0,P=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)M[P]=S[P];for(P=0;P!=256;++P)for(I=S[P],A=256+P;A<4096;A+=256)I=M[A]=I>>>8^S[I&255];var R=[];for(P=1;P!=16;++P)R[P-1]=typeof Int32Array<"u"?M.subarray(P*256,P*256+256):M.slice(P*256,P*256+256);return R}var s=n(r),a=s[0],l=s[1],u=s[2],d=s[3],h=s[4],p=s[5],g=s[6],y=s[7],v=s[8],_=s[9],w=s[10],E=s[11],O=s[12],j=s[13],z=s[14];function L(S,A){for(var I=A^-1,P=0,M=S.length;P<M;)I=I>>>8^r[(I^S.charCodeAt(P++))&255];return~I}function Y(S,A){for(var I=A^-1,P=S.length-15,M=0;M<P;)I=z[S[M++]^I&255]^j[S[M++]^I>>8&255]^O[S[M++]^I>>16&255]^E[S[M++]^I>>>24]^w[S[M++]]^_[S[M++]]^v[S[M++]]^y[S[M++]]^g[S[M++]]^p[S[M++]]^h[S[M++]]^d[S[M++]]^u[S[M++]]^l[S[M++]]^a[S[M++]]^r[S[M++]];for(P+=15;M<P;)I=I>>>8^r[(I^S[M++])&255];return~I}function H(S,A){for(var I=A^-1,P=0,M=S.length,R=0,F=0;P<M;)R=S.charCodeAt(P++),R<128?I=I>>>8^r[(I^R)&255]:R<2048?(I=I>>>8^r[(I^(192|R>>6&31))&255],I=I>>>8^r[(I^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,F=S.charCodeAt(P++)&1023,I=I>>>8^r[(I^(240|R>>8&7))&255],I=I>>>8^r[(I^(128|R>>2&63))&255],I=I>>>8^r[(I^(128|F>>6&15|(R&3)<<4))&255],I=I>>>8^r[(I^(128|F&63))&255]):(I=I>>>8^r[(I^(224|R>>12&15))&255],I=I>>>8^r[(I^(128|R>>6&63))&255],I=I>>>8^r[(I^(128|R&63))&255]);return~I}return t.table=r,t.bstr=L,t.buf=Y,t.str=H,t})(),vr=(function(){var e={};e.version="1.2.1";function r(B,Z){for(var q=B.split("/"),K=Z.split("/"),te=0,D=0,X=Math.min(q.length,K.length);te<X;++te){if(D=q[te].length-K[te].length)return D;if(q[te]!=K[te])return q[te]<K[te]?-1:1}return q.length-K.length}function n(B){if(B.charAt(B.length-1)=="/")return B.slice(0,-1).indexOf("/")===-1?B:n(B.slice(0,-1));var Z=B.lastIndexOf("/");return Z===-1?B:B.slice(0,Z+1)}function s(B){if(B.charAt(B.length-1)=="/")return s(B.slice(0,-1));var Z=B.lastIndexOf("/");return Z===-1?B:B.slice(Z+1)}function a(B,Z){typeof Z=="string"&&(Z=new Date(Z));var q=Z.getHours();q=q<<6|Z.getMinutes(),q=q<<5|Z.getSeconds()>>>1,B.write_shift(2,q);var K=Z.getFullYear()-1980;K=K<<4|Z.getMonth()+1,K=K<<5|Z.getDate(),B.write_shift(2,K)}function l(B){var Z=B.read_shift(2)&65535,q=B.read_shift(2)&65535,K=new Date,te=q&31;q>>>=5;var D=q&15;q>>>=4,K.setMilliseconds(0),K.setFullYear(q+1980),K.setMonth(D-1),K.setDate(te);var X=Z&31;Z>>>=5;var ce=Z&63;return Z>>>=6,K.setHours(Z),K.setMinutes(ce),K.setSeconds(X<<1),K}function u(B){Ls(B,0);for(var Z={},q=0;B.l<=B.length-4;){var K=B.read_shift(2),te=B.read_shift(2),D=B.l+te,X={};switch(K){case 21589:q=B.read_shift(1),q&1&&(X.mtime=B.read_shift(4)),te>5&&(q&2&&(X.atime=B.read_shift(4)),q&4&&(X.ctime=B.read_shift(4))),X.mtime&&(X.mt=new Date(X.mtime*1e3));break}B.l=D,Z[K]=X}return Z}var d;function h(){return d||(d={})}function p(B,Z){if(B[0]==80&&B[1]==75)return it(B,Z);if((B[0]|32)==109&&(B[1]|32)==105)return zn(B,Z);if(B.length<512)throw new Error("CFB file size "+B.length+" < 512");var q=3,K=512,te=0,D=0,X=0,ce=0,le=0,de=[],ge=B.slice(0,512);Ls(ge,0);var Le=g(ge);switch(q=Le[0],q){case 3:K=512;break;case 4:K=4096;break;case 0:if(Le[1]==0)return it(B,Z);default:throw new Error("Major Version: Expected 3 or 4 saw "+q)}K!==512&&(ge=B.slice(0,K),Ls(ge,28));var ze=B.slice(0,K);y(ge,q);var Ye=ge.read_shift(4,"i");if(q===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);ge.l+=4,X=ge.read_shift(4,"i"),ge.l+=4,ge.chk("00100000","Mini Stream Cutoff Size: "),ce=ge.read_shift(4,"i"),te=ge.read_shift(4,"i"),le=ge.read_shift(4,"i"),D=ge.read_shift(4,"i");for(var Oe=-1,Be=0;Be<109&&(Oe=ge.read_shift(4,"i"),!(Oe<0));++Be)de[Be]=Oe;var kt=v(B,K);E(le,D,kt,K,de);var Ut=j(kt,X,de,K);Ut[X].name="!Directory",te>0&&ce!==F&&(Ut[ce].name="!MiniFAT"),Ut[de[0]].name="!FAT",Ut.fat_addrs=de,Ut.ssz=K;var Bt={},nr=[],ns=[],Hn=[];z(X,Ut,kt,nr,te,Bt,ns,ce),_(ns,Hn,nr),nr.shift();var Wn={FileIndex:ns,FullPaths:Hn};return Z&&Z.raw&&(Wn.raw={header:ze,sectors:kt}),Wn}function g(B){if(B[B.l]==80&&B[B.l+1]==75)return[0,0];B.chk(me,"Header Signature: "),B.l+=16;var Z=B.read_shift(2,"u");return[B.read_shift(2,"u"),Z]}function y(B,Z){var q=9;switch(B.l+=2,q=B.read_shift(2)){case 9:if(Z!=3)throw new Error("Sector Shift: Expected 9 saw "+q);break;case 12:if(Z!=4)throw new Error("Sector Shift: Expected 12 saw "+q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+q)}B.chk("0600","Mini Sector Shift: "),B.chk("000000000000","Reserved: ")}function v(B,Z){for(var q=Math.ceil(B.length/Z)-1,K=[],te=1;te<q;++te)K[te-1]=B.slice(te*Z,(te+1)*Z);return K[q-1]=B.slice(q*Z),K}function _(B,Z,q){for(var K=0,te=0,D=0,X=0,ce=0,le=q.length,de=[],ge=[];K<le;++K)de[K]=ge[K]=K,Z[K]=q[K];for(;ce<ge.length;++ce)K=ge[ce],te=B[K].L,D=B[K].R,X=B[K].C,de[K]===K&&(te!==-1&&de[te]!==te&&(de[K]=de[te]),D!==-1&&de[D]!==D&&(de[K]=de[D])),X!==-1&&(de[X]=K),te!==-1&&K!=de[K]&&(de[te]=de[K],ge.lastIndexOf(te)<ce&&ge.push(te)),D!==-1&&K!=de[K]&&(de[D]=de[K],ge.lastIndexOf(D)<ce&&ge.push(D));for(K=1;K<le;++K)de[K]===K&&(D!==-1&&de[D]!==D?de[K]=de[D]:te!==-1&&de[te]!==te&&(de[K]=de[te]));for(K=1;K<le;++K)if(B[K].type!==0){if(ce=K,ce!=de[ce])do ce=de[ce],Z[K]=Z[ce]+"/"+Z[K];while(ce!==0&&de[ce]!==-1&&ce!=de[ce]);de[K]=-1}for(Z[0]+="/",K=1;K<le;++K)B[K].type!==2&&(Z[K]+="/")}function w(B,Z,q){for(var K=B.start,te=B.size,D=[],X=K;q&&te>0&&X>=0;)D.push(Z.slice(X*R,X*R+R)),te-=R,X=Nl(q,X*4);return D.length===0?Se(0):Ln(D).slice(0,B.size)}function E(B,Z,q,K,te){var D=F;if(B===F){if(Z!==0)throw new Error("DIFAT chain shorter than expected")}else if(B!==-1){var X=q[B],ce=(K>>>2)-1;if(!X)return;for(var le=0;le<ce&&(D=Nl(X,le*4))!==F;++le)te.push(D);E(Nl(X,K-4),Z-1,q,K,te)}}function O(B,Z,q,K,te){var D=[],X=[];te||(te=[]);var ce=K-1,le=0,de=0;for(le=Z;le>=0;){te[le]=!0,D[D.length]=le,X.push(B[le]);var ge=q[Math.floor(le*4/K)];if(de=le*4&ce,K<4+de)throw new Error("FAT boundary crossed: "+le+" 4 "+K);if(!B[ge])break;le=Nl(B[ge],de)}return{nodes:D,data:ET([X])}}function j(B,Z,q,K){var te=B.length,D=[],X=[],ce=[],le=[],de=K-1,ge=0,Le=0,ze=0,Ye=0;for(ge=0;ge<te;++ge)if(ce=[],ze=ge+Z,ze>=te&&(ze-=te),!X[ze]){le=[];var Oe=[];for(Le=ze;Le>=0;){Oe[Le]=!0,X[Le]=!0,ce[ce.length]=Le,le.push(B[Le]);var Be=q[Math.floor(Le*4/K)];if(Ye=Le*4&de,K<4+Ye)throw new Error("FAT boundary crossed: "+Le+" 4 "+K);if(!B[Be]||(Le=Nl(B[Be],Ye),Oe[Le]))break}D[ze]={nodes:ce,data:ET([le])}}return D}function z(B,Z,q,K,te,D,X,ce){for(var le=0,de=K.length?2:0,ge=Z[B].data,Le=0,ze=0,Ye;Le<ge.length;Le+=128){var Oe=ge.slice(Le,Le+128);Ls(Oe,64),ze=Oe.read_shift(2),Ye=mb(Oe,0,ze-de),K.push(Ye);var Be={name:Ye,type:Oe.read_shift(1),color:Oe.read_shift(1),L:Oe.read_shift(4,"i"),R:Oe.read_shift(4,"i"),C:Oe.read_shift(4,"i"),clsid:Oe.read_shift(16),state:Oe.read_shift(4,"i"),start:0,size:0},kt=Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2);kt!==0&&(Be.ct=L(Oe,Oe.l-8));var Ut=Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2);Ut!==0&&(Be.mt=L(Oe,Oe.l-8)),Be.start=Oe.read_shift(4,"i"),Be.size=Oe.read_shift(4,"i"),Be.size<0&&Be.start<0&&(Be.size=Be.type=0,Be.start=F,Be.name=""),Be.type===5?(le=Be.start,te>0&&le!==F&&(Z[le].name="!StreamData")):Be.size>=4096?(Be.storage="fat",Z[Be.start]===void 0&&(Z[Be.start]=O(q,Be.start,Z.fat_addrs,Z.ssz)),Z[Be.start].name=Be.name,Be.content=Z[Be.start].data.slice(0,Be.size)):(Be.storage="minifat",Be.size<0?Be.size=0:le!==F&&Be.start!==F&&Z[le]&&(Be.content=w(Be,Z[le].data,(Z[ce]||{}).data))),Be.content&&Ls(Be.content,0),D[Ye]=Be,X.push(Be)}}function L(B,Z){return new Date((Vs(B,Z+4)/1e7*Math.pow(2,32)+Vs(B,Z)/1e7-11644473600)*1e3)}function Y(B,Z){return h(),p(d.readFileSync(B),Z)}function H(B,Z){var q=Z&&Z.type;switch(q||ur&&Buffer.isBuffer(B)&&(q="buffer"),q||"base64"){case"file":return Y(B,Z);case"base64":return p(ka(qi(B)),Z);case"binary":return p(ka(B),Z)}return p(B,Z)}function S(B,Z){var q=Z||{},K=q.root||"Root Entry";if(B.FullPaths||(B.FullPaths=[]),B.FileIndex||(B.FileIndex=[]),B.FullPaths.length!==B.FileIndex.length)throw new Error("inconsistent CFB structure");B.FullPaths.length===0&&(B.FullPaths[0]=K+"/",B.FileIndex[0]={name:K,type:5}),q.CLSID&&(B.FileIndex[0].clsid=q.CLSID),A(B)}function A(B){var Z="Sh33tJ5";if(!vr.find(B,"/"+Z)){var q=Se(4);q[0]=55,q[1]=q[3]=50,q[2]=54,B.FileIndex.push({name:Z,type:2,content:q,size:4,L:69,R:69,C:69}),B.FullPaths.push(B.FullPaths[0]+Z),I(B)}}function I(B,Z){S(B);for(var q=!1,K=!1,te=B.FullPaths.length-1;te>=0;--te){var D=B.FileIndex[te];switch(D.type){case 0:K?q=!0:(B.FileIndex.pop(),B.FullPaths.pop());break;case 1:case 2:case 5:K=!0,isNaN(D.R*D.L*D.C)&&(q=!0),D.R>-1&&D.L>-1&&D.R==D.L&&(q=!0);break;default:q=!0;break}}if(!(!q&&!Z)){var X=new Date(1987,1,19),ce=0,le=Object.create?Object.create(null):{},de=[];for(te=0;te<B.FullPaths.length;++te)le[B.FullPaths[te]]=!0,B.FileIndex[te].type!==0&&de.push([B.FullPaths[te],B.FileIndex[te]]);for(te=0;te<de.length;++te){var ge=n(de[te][0]);K=le[ge],K||(de.push([ge,{name:s(ge).replace("/",""),type:1,clsid:je,ct:X,mt:X,content:null}]),le[ge]=!0)}for(de.sort(function(Ye,Oe){return r(Ye[0],Oe[0])}),B.FullPaths=[],B.FileIndex=[],te=0;te<de.length;++te)B.FullPaths[te]=de[te][0],B.FileIndex[te]=de[te][1];for(te=0;te<de.length;++te){var Le=B.FileIndex[te],ze=B.FullPaths[te];if(Le.name=s(ze).replace("/",""),Le.L=Le.R=Le.C=-(Le.color=1),Le.size=Le.content?Le.content.length:0,Le.start=0,Le.clsid=Le.clsid||je,te===0)Le.C=de.length>1?1:-1,Le.size=0,Le.type=5;else if(ze.slice(-1)=="/"){for(ce=te+1;ce<de.length&&n(B.FullPaths[ce])!=ze;++ce);for(Le.C=ce>=de.length?-1:ce,ce=te+1;ce<de.length&&n(B.FullPaths[ce])!=n(ze);++ce);Le.R=ce>=de.length?-1:ce,Le.type=1}else n(B.FullPaths[te+1]||"")==n(ze)&&(Le.R=te+1),Le.type=2}}}function P(B,Z){var q=Z||{};if(q.fileType=="mad")return lr(B,q);switch(I(B),q.fileType){case"zip":return Et(B,q)}var K=(function(Ye){for(var Oe=0,Be=0,kt=0;kt<Ye.FileIndex.length;++kt){var Ut=Ye.FileIndex[kt];if(Ut.content){var Bt=Ut.content.length;Bt>0&&(Bt<4096?Oe+=Bt+63>>6:Be+=Bt+511>>9)}}for(var nr=Ye.FullPaths.length+3>>2,ns=Oe+7>>3,Hn=Oe+127>>7,Wn=ns+Be+nr+Hn,Lr=Wn+127>>7,Va=Lr<=109?0:Math.ceil((Lr-109)/127);Wn+Lr+Va+127>>7>Lr;)Va=++Lr<=109?0:Math.ceil((Lr-109)/127);var Er=[1,Va,Lr,Hn,nr,Be,Oe,0];return Ye.FileIndex[0].size=Oe<<6,Er[7]=(Ye.FileIndex[0].start=Er[0]+Er[1]+Er[2]+Er[3]+Er[4]+Er[5])+(Er[6]+7>>3),Er})(B),te=Se(K[7]<<9),D=0,X=0;{for(D=0;D<8;++D)te.write_shift(1,Te[D]);for(D=0;D<8;++D)te.write_shift(2,0);for(te.write_shift(2,62),te.write_shift(2,3),te.write_shift(2,65534),te.write_shift(2,9),te.write_shift(2,6),D=0;D<3;++D)te.write_shift(2,0);for(te.write_shift(4,0),te.write_shift(4,K[2]),te.write_shift(4,K[0]+K[1]+K[2]+K[3]-1),te.write_shift(4,0),te.write_shift(4,4096),te.write_shift(4,K[3]?K[0]+K[1]+K[2]-1:F),te.write_shift(4,K[3]),te.write_shift(-4,K[1]?K[0]-1:F),te.write_shift(4,K[1]),D=0;D<109;++D)te.write_shift(-4,D<K[2]?K[1]+D:-1)}if(K[1])for(X=0;X<K[1];++X){for(;D<236+X*127;++D)te.write_shift(-4,D<K[2]?K[1]+D:-1);te.write_shift(-4,X===K[1]-1?F:X+1)}var ce=function(Ye){for(X+=Ye;D<X-1;++D)te.write_shift(-4,D+1);Ye&&(++D,te.write_shift(-4,F))};for(X=D=0,X+=K[1];D<X;++D)te.write_shift(-4,Ie.DIFSECT);for(X+=K[2];D<X;++D)te.write_shift(-4,Ie.FATSECT);ce(K[3]),ce(K[4]);for(var le=0,de=0,ge=B.FileIndex[0];le<B.FileIndex.length;++le)ge=B.FileIndex[le],ge.content&&(de=ge.content.length,!(de<4096)&&(ge.start=X,ce(de+511>>9)));for(ce(K[6]+7>>3);te.l&511;)te.write_shift(-4,Ie.ENDOFCHAIN);for(X=D=0,le=0;le<B.FileIndex.length;++le)ge=B.FileIndex[le],ge.content&&(de=ge.content.length,!(!de||de>=4096)&&(ge.start=X,ce(de+63>>6)));for(;te.l&511;)te.write_shift(-4,Ie.ENDOFCHAIN);for(D=0;D<K[4]<<2;++D){var Le=B.FullPaths[D];if(!Le||Le.length===0){for(le=0;le<17;++le)te.write_shift(4,0);for(le=0;le<3;++le)te.write_shift(4,-1);for(le=0;le<12;++le)te.write_shift(4,0);continue}ge=B.FileIndex[D],D===0&&(ge.start=ge.size?ge.start-1:F);var ze=D===0&&q.root||ge.name;if(de=2*(ze.length+1),te.write_shift(64,ze,"utf16le"),te.write_shift(2,de),te.write_shift(1,ge.type),te.write_shift(1,ge.color),te.write_shift(-4,ge.L),te.write_shift(-4,ge.R),te.write_shift(-4,ge.C),ge.clsid)te.write_shift(16,ge.clsid,"hex");else for(le=0;le<4;++le)te.write_shift(4,0);te.write_shift(4,ge.state||0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,ge.start),te.write_shift(4,ge.size),te.write_shift(4,0)}for(D=1;D<B.FileIndex.length;++D)if(ge=B.FileIndex[D],ge.size>=4096)if(te.l=ge.start+1<<9,ur&&Buffer.isBuffer(ge.content))ge.content.copy(te,te.l,0,ge.size),te.l+=ge.size+511&-512;else{for(le=0;le<ge.size;++le)te.write_shift(1,ge.content[le]);for(;le&511;++le)te.write_shift(1,0)}for(D=1;D<B.FileIndex.length;++D)if(ge=B.FileIndex[D],ge.size>0&&ge.size<4096)if(ur&&Buffer.isBuffer(ge.content))ge.content.copy(te,te.l,0,ge.size),te.l+=ge.size+63&-64;else{for(le=0;le<ge.size;++le)te.write_shift(1,ge.content[le]);for(;le&63;++le)te.write_shift(1,0)}if(ur)te.l=te.length;else for(;te.l<te.length;)te.write_shift(1,0);return te}function M(B,Z){var q=B.FullPaths.map(function(le){return le.toUpperCase()}),K=q.map(function(le){var de=le.split("/");return de[de.length-(le.slice(-1)=="/"?2:1)]}),te=!1;Z.charCodeAt(0)===47?(te=!0,Z=q[0].slice(0,-1)+Z):te=Z.indexOf("/")!==-1;var D=Z.toUpperCase(),X=te===!0?q.indexOf(D):K.indexOf(D);if(X!==-1)return B.FileIndex[X];var ce=!D.match(Af);for(D=D.replace(Yd,""),ce&&(D=D.replace(Af,"!")),X=0;X<q.length;++X)if((ce?q[X].replace(Af,"!"):q[X]).replace(Yd,"")==D||(ce?K[X].replace(Af,"!"):K[X]).replace(Yd,"")==D)return B.FileIndex[X];return null}var R=64,F=-2,me="d0cf11e0a1b11ae1",Te=[208,207,17,224,161,177,26,225],je="00000000000000000000000000000000",Ie={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:me,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:je,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _e(B,Z,q){h();var K=P(B,q);d.writeFileSync(Z,K)}function oe(B){for(var Z=new Array(B.length),q=0;q<B.length;++q)Z[q]=String.fromCharCode(B[q]);return Z.join("")}function xe(B,Z){var q=P(B,Z);switch(Z&&Z.type||"buffer"){case"file":return h(),d.writeFileSync(Z.filename,q),q;case"binary":return typeof q=="string"?q:oe(q);case"base64":return E0(typeof q=="string"?q:oe(q));case"buffer":if(ur)return Buffer.isBuffer(q)?q:Qi(q);case"array":return typeof q=="string"?ka(q):q}return q}var se;function U(B){try{var Z=B.InflateRaw,q=new Z;if(q._processChunk(new Uint8Array([3,0]),q._finishFlushFlag),q.bytesRead)se=B;else throw new Error("zlib does not expose bytesRead")}catch(K){console.error("cannot use native zlib: "+(K.message||K))}}function re(B,Z){if(!se)return Nt(B,Z);var q=se.InflateRaw,K=new q,te=K._processChunk(B.slice(B.l),K._finishFlushFlag);return B.l+=K.bytesRead,te}function ne(B){return se?se.deflateRawSync(B):Q(B)}var ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],De=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ve(B){var Z=(B<<1|B<<11)&139536|(B<<5|B<<15)&558144;return(Z>>16|Z>>8|Z)&255}for(var Ce=typeof Uint8Array<"u",Me=Ce?new Uint8Array(256):[],nt=0;nt<256;++nt)Me[nt]=Ve(nt);function mt(B,Z){var q=Me[B&255];return Z<=8?q>>>8-Z:(q=q<<8|Me[B>>8&255],Z<=16?q>>>16-Z:(q=q<<8|Me[B>>16&255],q>>>24-Z))}function Wt(B,Z){var q=Z&7,K=Z>>>3;return(B[K]|(q<=6?0:B[K+1]<<8))>>>q&3}function vt(B,Z){var q=Z&7,K=Z>>>3;return(B[K]|(q<=5?0:B[K+1]<<8))>>>q&7}function rr(B,Z){var q=Z&7,K=Z>>>3;return(B[K]|(q<=4?0:B[K+1]<<8))>>>q&15}function Dt(B,Z){var q=Z&7,K=Z>>>3;return(B[K]|(q<=3?0:B[K+1]<<8))>>>q&31}function Re(B,Z){var q=Z&7,K=Z>>>3;return(B[K]|(q<=1?0:B[K+1]<<8))>>>q&127}function dr(B,Z,q){var K=Z&7,te=Z>>>3,D=(1<<q)-1,X=B[te]>>>K;return q<8-K||(X|=B[te+1]<<8-K,q<16-K)||(X|=B[te+2]<<16-K,q<24-K)||(X|=B[te+3]<<24-K),X&D}function Mt(B,Z,q){var K=Z&7,te=Z>>>3;return K<=5?B[te]|=(q&7)<<K:(B[te]|=q<<K&255,B[te+1]=(q&7)>>8-K),Z+3}function He(B,Z,q){var K=Z&7,te=Z>>>3;return q=(q&1)<<K,B[te]|=q,Z+1}function he(B,Z,q){var K=Z&7,te=Z>>>3;return q<<=K,B[te]|=q&255,q>>>=8,B[te+1]=q,Z+8}function Je(B,Z,q){var K=Z&7,te=Z>>>3;return q<<=K,B[te]|=q&255,q>>>=8,B[te+1]=q&255,B[te+2]=q>>>8,Z+16}function lt(B,Z){var q=B.length,K=2*q>Z?2*q:Z+5,te=0;if(q>=Z)return B;if(ur){var D=lT(K);if(B.copy)B.copy(D);else for(;te<B.length;++te)D[te]=B[te];return D}else if(Ce){var X=new Uint8Array(K);if(X.set)X.set(B);else for(;te<q;++te)X[te]=B[te];return X}return B.length=K,B}function ft(B){for(var Z=new Array(B),q=0;q<B;++q)Z[q]=0;return Z}function Tt(B,Z,q){var K=1,te=0,D=0,X=0,ce=0,le=B.length,de=Ce?new Uint16Array(32):ft(32);for(D=0;D<32;++D)de[D]=0;for(D=le;D<q;++D)B[D]=0;le=B.length;var ge=Ce?new Uint16Array(le):ft(le);for(D=0;D<le;++D)de[te=B[D]]++,K<te&&(K=te),ge[D]=0;for(de[0]=0,D=1;D<=K;++D)de[D+16]=ce=ce+de[D-1]<<1;for(D=0;D<le;++D)ce=B[D],ce!=0&&(ge[D]=de[ce+16]++);var Le=0;for(D=0;D<le;++D)if(Le=B[D],Le!=0)for(ce=mt(ge[D],K)>>K-Le,X=(1<<K+4-Le)-1;X>=0;--X)Z[ce|X<<Le]=Le&15|D<<4;return K}var dt=Ce?new Uint16Array(512):ft(512),St=Ce?new Uint16Array(32):ft(32);if(!Ce){for(var ct=0;ct<512;++ct)dt[ct]=0;for(ct=0;ct<32;++ct)St[ct]=0}(function(){for(var B=[],Z=0;Z<32;Z++)B.push(5);Tt(B,St,32);var q=[];for(Z=0;Z<=143;Z++)q.push(8);for(;Z<=255;Z++)q.push(9);for(;Z<=279;Z++)q.push(7);for(;Z<=287;Z++)q.push(8);Tt(q,dt,288)})();var wr=(function(){for(var Z=Ce?new Uint8Array(32768):[],q=0,K=0;q<De.length-1;++q)for(;K<De[q+1];++K)Z[K]=q;for(;K<32768;++K)Z[K]=29;var te=Ce?new Uint8Array(259):[];for(q=0,K=0;q<J.length-1;++q)for(;K<J[q+1];++K)te[K]=q;function D(ce,le){for(var de=0;de<ce.length;){var ge=Math.min(65535,ce.length-de),Le=de+ge==ce.length;for(le.write_shift(1,+Le),le.write_shift(2,ge),le.write_shift(2,~ge&65535);ge-- >0;)le[le.l++]=ce[de++]}return le.l}function X(ce,le){for(var de=0,ge=0,Le=Ce?new Uint16Array(32768):[];ge<ce.length;){var ze=Math.min(65535,ce.length-ge);if(ze<10){for(de=Mt(le,de,+(ge+ze==ce.length)),de&7&&(de+=8-(de&7)),le.l=de/8|0,le.write_shift(2,ze),le.write_shift(2,~ze&65535);ze-- >0;)le[le.l++]=ce[ge++];de=le.l*8;continue}de=Mt(le,de,+(ge+ze==ce.length)+2);for(var Ye=0;ze-- >0;){var Oe=ce[ge];Ye=(Ye<<5^Oe)&32767;var Be=-1,kt=0;if((Be=Le[Ye])&&(Be|=ge&-32768,Be>ge&&(Be-=32768),Be<ge))for(;ce[Be+kt]==ce[ge+kt]&&kt<250;)++kt;if(kt>2){Oe=te[kt],Oe<=22?de=he(le,de,Me[Oe+1]>>1)-1:(he(le,de,3),de+=5,he(le,de,Me[Oe-23]>>5),de+=3);var Ut=Oe<8?0:Oe-4>>2;Ut>0&&(Je(le,de,kt-J[Oe]),de+=Ut),Oe=Z[ge-Be],de=he(le,de,Me[Oe]>>3),de-=3;var Bt=Oe<4?0:Oe-2>>1;Bt>0&&(Je(le,de,ge-Be-De[Oe]),de+=Bt);for(var nr=0;nr<kt;++nr)Le[Ye]=ge&32767,Ye=(Ye<<5^ce[ge])&32767,++ge;ze-=kt-1}else Oe<=143?Oe=Oe+48:de=He(le,de,1),de=he(le,de,Me[Oe]),Le[Ye]=ge&32767,++ge}de=he(le,de,0)-1}return le.l=(de+7)/8|0,le.l}return function(le,de){return le.length<8?D(le,de):X(le,de)}})();function Q(B){var Z=Se(50+Math.floor(B.length*1.1)),q=wr(B,Z);return Z.slice(0,q)}var Ne=Ce?new Uint16Array(32768):ft(32768),ht=Ce?new Uint16Array(32768):ft(32768),pe=Ce?new Uint16Array(128):ft(128),ke=1,Pe=1;function Qe(B,Z){var q=Dt(B,Z)+257;Z+=5;var K=Dt(B,Z)+1;Z+=5;var te=rr(B,Z)+4;Z+=4;for(var D=0,X=Ce?new Uint8Array(19):ft(19),ce=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],le=1,de=Ce?new Uint8Array(8):ft(8),ge=Ce?new Uint8Array(8):ft(8),Le=X.length,ze=0;ze<te;++ze)X[ae[ze]]=D=vt(B,Z),le<D&&(le=D),de[D]++,Z+=3;var Ye=0;for(de[0]=0,ze=1;ze<=le;++ze)ge[ze]=Ye=Ye+de[ze-1]<<1;for(ze=0;ze<Le;++ze)(Ye=X[ze])!=0&&(ce[ze]=ge[Ye]++);var Oe=0;for(ze=0;ze<Le;++ze)if(Oe=X[ze],Oe!=0){Ye=Me[ce[ze]]>>8-Oe;for(var Be=(1<<7-Oe)-1;Be>=0;--Be)pe[Ye|Be<<Oe]=Oe&7|ze<<3}var kt=[];for(le=1;kt.length<q+K;)switch(Ye=pe[Re(B,Z)],Z+=Ye&7,Ye>>>=3){case 16:for(D=3+Wt(B,Z),Z+=2,Ye=kt[kt.length-1];D-- >0;)kt.push(Ye);break;case 17:for(D=3+vt(B,Z),Z+=3;D-- >0;)kt.push(0);break;case 18:for(D=11+Re(B,Z),Z+=7;D-- >0;)kt.push(0);break;default:kt.push(Ye),le<Ye&&(le=Ye);break}var Ut=kt.slice(0,q),Bt=kt.slice(q);for(ze=q;ze<286;++ze)Ut[ze]=0;for(ze=K;ze<30;++ze)Bt[ze]=0;return ke=Tt(Ut,Ne,286),Pe=Tt(Bt,ht,30),Z}function xt(B,Z){if(B[0]==3&&!(B[1]&3))return[Hl(Z),2];for(var q=0,K=0,te=lT(Z||1<<18),D=0,X=te.length>>>0,ce=0,le=0;(K&1)==0;){if(K=vt(B,q),q+=3,K>>>1)K>>1==1?(ce=9,le=5):(q=Qe(B,q),ce=ke,le=Pe);else{q&7&&(q+=8-(q&7));var de=B[q>>>3]|B[(q>>>3)+1]<<8;if(q+=32,de>0)for(!Z&&X<D+de&&(te=lt(te,D+de),X=te.length);de-- >0;)te[D++]=B[q>>>3],q+=8;continue}for(;;){!Z&&X<D+32767&&(te=lt(te,D+32767),X=te.length);var ge=dr(B,q,ce),Le=K>>>1==1?dt[ge]:Ne[ge];if(q+=Le&15,Le>>>=4,(Le>>>8&255)===0)te[D++]=Le;else{if(Le==256)break;Le-=257;var ze=Le<8?0:Le-4>>2;ze>5&&(ze=0);var Ye=D+J[Le];ze>0&&(Ye+=dr(B,q,ze),q+=ze),ge=dr(B,q,le),Le=K>>>1==1?St[ge]:ht[ge],q+=Le&15,Le>>>=4;var Oe=Le<4?0:Le-2>>1,Be=De[Le];for(Oe>0&&(Be+=dr(B,q,Oe),q+=Oe),!Z&&X<Ye&&(te=lt(te,Ye+100),X=te.length);D<Ye;)te[D]=te[D-Be],++D}}}return Z?[te,q+7>>>3]:[te.slice(0,D),q+7>>>3]}function Nt(B,Z){var q=B.slice(B.l||0),K=xt(q,Z);return B.l+=K[1],K[0]}function st(B,Z){if(B)typeof console<"u"&&console.error(Z);else throw new Error(Z)}function it(B,Z){var q=B;Ls(q,0);var K=[],te=[],D={FileIndex:K,FullPaths:te};S(D,{root:Z.root});for(var X=q.length-4;(q[X]!=80||q[X+1]!=75||q[X+2]!=5||q[X+3]!=6)&&X>=0;)--X;q.l=X+4,q.l+=4;var ce=q.read_shift(2);q.l+=6;var le=q.read_shift(4);for(q.l=le,X=0;X<ce;++X){q.l+=20;var de=q.read_shift(4),ge=q.read_shift(4),Le=q.read_shift(2),ze=q.read_shift(2),Ye=q.read_shift(2);q.l+=8;var Oe=q.read_shift(4),Be=u(q.slice(q.l+Le,q.l+Le+ze));q.l+=Le+ze+Ye;var kt=q.l;q.l=Oe+4,Ze(q,de,ge,D,Be),q.l=kt}return D}function Ze(B,Z,q,K,te){B.l+=2;var D=B.read_shift(2),X=B.read_shift(2),ce=l(B);if(D&8257)throw new Error("Unsupported ZIP encryption");for(var le=B.read_shift(4),de=B.read_shift(4),ge=B.read_shift(4),Le=B.read_shift(2),ze=B.read_shift(2),Ye="",Oe=0;Oe<Le;++Oe)Ye+=String.fromCharCode(B[B.l++]);if(ze){var Be=u(B.slice(B.l,B.l+ze));(Be[21589]||{}).mt&&(ce=Be[21589].mt),((te||{})[21589]||{}).mt&&(ce=te[21589].mt)}B.l+=ze;var kt=B.slice(B.l,B.l+de);switch(X){case 8:kt=re(B,ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+X)}var Ut=!1;D&8&&(le=B.read_shift(4),le==134695760&&(le=B.read_shift(4),Ut=!0),de=B.read_shift(4),ge=B.read_shift(4)),de!=Z&&st(Ut,"Bad compressed size: "+Z+" != "+de),ge!=q&&st(Ut,"Bad uncompressed size: "+q+" != "+ge),_r(K,Ye,kt,{unsafe:!0,mt:ce})}function Et(B,Z){var q=Z||{},K=[],te=[],D=Se(1),X=q.compression?8:0,ce=0,le=0,de=0,ge=0,Le=0,ze=B.FullPaths[0],Ye=ze,Oe=B.FileIndex[0],Be=[],kt=0;for(le=1;le<B.FullPaths.length;++le)if(Ye=B.FullPaths[le].slice(ze.length),Oe=B.FileIndex[le],!(!Oe.size||!Oe.content||Ye=="Sh33tJ5")){var Ut=ge,Bt=Se(Ye.length);for(de=0;de<Ye.length;++de)Bt.write_shift(1,Ye.charCodeAt(de)&127);Bt=Bt.slice(0,Bt.l),Be[Le]=UH.buf(Oe.content,0);var nr=Oe.content;X==8&&(nr=ne(nr)),D=Se(30),D.write_shift(4,67324752),D.write_shift(2,20),D.write_shift(2,ce),D.write_shift(2,X),Oe.mt?a(D,Oe.mt):D.write_shift(4,0),D.write_shift(-4,Be[Le]),D.write_shift(4,nr.length),D.write_shift(4,Oe.content.length),D.write_shift(2,Bt.length),D.write_shift(2,0),ge+=D.length,K.push(D),ge+=Bt.length,K.push(Bt),ge+=nr.length,K.push(nr),D=Se(46),D.write_shift(4,33639248),D.write_shift(2,0),D.write_shift(2,20),D.write_shift(2,ce),D.write_shift(2,X),D.write_shift(4,0),D.write_shift(-4,Be[Le]),D.write_shift(4,nr.length),D.write_shift(4,Oe.content.length),D.write_shift(2,Bt.length),D.write_shift(2,0),D.write_shift(2,0),D.write_shift(2,0),D.write_shift(2,0),D.write_shift(4,0),D.write_shift(4,Ut),kt+=D.l,te.push(D),kt+=Bt.length,te.push(Bt),++Le}return D=Se(22),D.write_shift(4,101010256),D.write_shift(2,0),D.write_shift(2,0),D.write_shift(2,Le),D.write_shift(2,Le),D.write_shift(4,kt),D.write_shift(4,ge),D.write_shift(2,0),Ln([Ln(K),Ln(te),D])}var $t={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function qt(B,Z){if(B.ctype)return B.ctype;var q=B.name||"",K=q.match(/\.([^\.]+)$/);return K&&$t[K[1]]||Z&&(K=(q=Z).match(/[\.\\]([^\.\\])+$/),K&&$t[K[1]])?$t[K[1]]:"application/octet-stream"}function Pr(B){for(var Z=E0(B),q=[],K=0;K<Z.length;K+=76)q.push(Z.slice(K,K+76));return q.join(`\r
`)+`\r
`}function Rr(B){var Z=B.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(de){var ge=de.charCodeAt(0).toString(16).toUpperCase();return"="+(ge.length==1?"0"+ge:ge)});Z=Z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Z.charAt(0)==`
`&&(Z="=0D"+Z.slice(1)),Z=Z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var q=[],K=Z.split(`\r
`),te=0;te<K.length;++te){var D=K[te];if(D.length==0){q.push("");continue}for(var X=0;X<D.length;){var ce=76,le=D.slice(X,X+ce);le.charAt(ce-1)=="="?ce--:le.charAt(ce-2)=="="?ce-=2:le.charAt(ce-3)=="="&&(ce-=3),le=D.slice(X,X+ce),X+=ce,X<D.length&&(le+="="),q.push(le)}}return q.join(`\r
`)}function mn(B){for(var Z=[],q=0;q<B.length;++q){for(var K=B[q];q<=B.length&&K.charAt(K.length-1)=="=";)K=K.slice(0,K.length-1)+B[++q];Z.push(K)}for(var te=0;te<Z.length;++te)Z[te]=Z[te].replace(/[=][0-9A-Fa-f]{2}/g,function(D){return String.fromCharCode(parseInt(D.slice(1),16))});return ka(Z.join(`\r
`))}function hr(B,Z,q){for(var K="",te="",D="",X,ce=0;ce<10;++ce){var le=Z[ce];if(!le||le.match(/^\s*$/))break;var de=le.match(/^(.*?):\s*([^\s].*)$/);if(de)switch(de[1].toLowerCase()){case"content-location":K=de[2].trim();break;case"content-type":D=de[2].trim();break;case"content-transfer-encoding":te=de[2].trim();break}}switch(++ce,te.toLowerCase()){case"base64":X=ka(qi(Z.slice(ce).join("")));break;case"quoted-printable":X=mn(Z.slice(ce));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+te)}var ge=_r(B,K.slice(q.length),X,{unsafe:!0});D&&(ge.ctype=D)}function zn(B,Z){if(oe(B.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var q=Z&&Z.root||"",K=(ur&&Buffer.isBuffer(B)?B.toString("binary"):oe(B)).split(`\r
`),te=0,D="";for(te=0;te<K.length;++te)if(D=K[te],!!/^Content-Location:/i.test(D)&&(D=D.slice(D.indexOf("file")),q||(q=D.slice(0,D.lastIndexOf("/")+1)),D.slice(0,q.length)!=q))for(;q.length>0&&(q=q.slice(0,q.length-1),q=q.slice(0,q.lastIndexOf("/")+1),D.slice(0,q.length)!=q););var X=(K[1]||"").match(/boundary="(.*?)"/);if(!X)throw new Error("MAD cannot find boundary");var ce="--"+(X[1]||""),le=[],de=[],ge={FileIndex:le,FullPaths:de};S(ge);var Le,ze=0;for(te=0;te<K.length;++te){var Ye=K[te];Ye!==ce&&Ye!==ce+"--"||(ze++&&hr(ge,K.slice(Le,te),q),Le=te)}return ge}function lr(B,Z){var q=Z||{},K=q.boundary||"SheetJS";K="------="+K;for(var te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+K.slice(2)+'"',"","",""],D=B.FullPaths[0],X=D,ce=B.FileIndex[0],le=1;le<B.FullPaths.length;++le)if(X=B.FullPaths[le].slice(D.length),ce=B.FileIndex[le],!(!ce.size||!ce.content||X=="Sh33tJ5")){X=X.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(kt){return"_x"+kt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(kt){return"_u"+kt.charCodeAt(0).toString(16)+"_"});for(var de=ce.content,ge=ur&&Buffer.isBuffer(de)?de.toString("binary"):oe(de),Le=0,ze=Math.min(1024,ge.length),Ye=0,Oe=0;Oe<=ze;++Oe)(Ye=ge.charCodeAt(Oe))>=32&&Ye<128&&++Le;var Be=Le>=ze*4/5;te.push(K),te.push("Content-Location: "+(q.root||"file:///C:/SheetJS/")+X),te.push("Content-Transfer-Encoding: "+(Be?"quoted-printable":"base64")),te.push("Content-Type: "+qt(ce,X)),te.push(""),te.push(Be?Rr(ge):Pr(ge))}return te.push(K+`--\r
`),te.join(`\r
`)}function kn(B){var Z={};return S(Z,B),Z}function _r(B,Z,q,K){var te=K&&K.unsafe;te||S(B);var D=!te&&vr.find(B,Z);if(!D){var X=B.FullPaths[0];Z.slice(0,X.length)==X?X=Z:(X.slice(-1)!="/"&&(X+="/"),X=(X+Z).replace("//","/")),D={name:s(Z),type:2},B.FileIndex.push(D),B.FullPaths.push(X),te||vr.utils.cfb_gc(B)}return D.content=q,D.size=q?q.length:0,K&&(K.CLSID&&(D.clsid=K.CLSID),K.mt&&(D.mt=K.mt),K.ct&&(D.ct=K.ct)),D}function gn(B,Z){S(B);var q=vr.find(B,Z);if(q){for(var K=0;K<B.FileIndex.length;++K)if(B.FileIndex[K]==q)return B.FileIndex.splice(K,1),B.FullPaths.splice(K,1),!0}return!1}function Zr(B,Z,q){S(B);var K=vr.find(B,Z);if(K){for(var te=0;te<B.FileIndex.length;++te)if(B.FileIndex[te]==K)return B.FileIndex[te].name=s(q),B.FullPaths[te]=q,!0}return!1}function ln(B){I(B,!0)}return e.find=M,e.read=H,e.parse=p,e.write=xe,e.writeFile=_e,e.utils={cfb_new:kn,cfb_add:_r,cfb_del:gn,cfb_mov:Zr,cfb_gc:ln,ReadShift:Qd,CheckField:B5,prep_blob:Ls,bconcat:Ln,use_zlib:U,_deflateRaw:Q,_inflateRaw:Nt,consts:Ie},e})();function zH(t){return typeof t=="string"?Dm(t):Array.isArray(t)?mH(t):t}function th(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Dm(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?N0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var s=new Blob([zH(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=a,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(t);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=eh(e)),u.write(e),u.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function Un(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function gT(t,e){for(var r=[],n=Un(t),s=0;s!==n.length;++s)r[t[n[s]][e]]==null&&(r[t[n[s]][e]]=n[s]);return r}function db(t){for(var e=[],r=Un(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Lm(t){for(var e=[],r=Un(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function HH(t){for(var e=[],r=Un(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var $p=new Date(1899,11,30,0,0,0);function Ss(t,e){var r=t.getTime(),n=$p.getTime()+(t.getTimezoneOffset()-$p.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var T5=new Date,WH=$p.getTime()+(T5.getTimezoneOffset()-$p.getTimezoneOffset())*6e4,xT=T5.getTimezoneOffset();function N5(t){var e=new Date;return e.setTime(t*24*60*60*1e3+WH),e.getTimezoneOffset()!==xT&&e.setTime(e.getTime()+(e.getTimezoneOffset()-xT)*6e4),e}var yT=new Date("2017-02-19T19:06:09.000Z"),k5=isNaN(yT.getFullYear())?new Date("2/19/17"):yT,GH=k5.getFullYear()==2017;function hs(t,e){var r=new Date(t);if(GH)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(k5.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Mm(t,e){if(ur&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return r[a]||a})}catch{}for(var n=[],s=0;s!=t.length;++s)n.push(String.fromCharCode(t[s]));return n.join("")}function Cs(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Cs(t[r]));return e}function Gr(t,e){for(var r="";r.length<e;)r+=t;return r}function Mi(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var qH=["january","february","march","april","may","june","july","august","september","october","november","december"];function T0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),s=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&qH.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function zt(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return ur?n=Qi(r):n=gH(r),vr.utils.cfb_add(t,e,n)}vr.utils.cfb_add(t,e,r)}else t.file(e,r)}function hb(){return vr.utils.cfb_new()}var on=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,KH={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},fb=db(KH),pb=/[&<>'"]/g,YH=/[\u0000-\u0008\u000b-\u001f]/g;function xr(t){var e=t+"";return e.replace(pb,function(r){return fb[r]}).replace(YH,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function vT(t){return xr(t).replace(/ /g,"_x0020_")}var A5=/[\u0000-\u001f]/g;function XH(t){var e=t+"";return e.replace(pb,function(r){return fb[r]}).replace(/\n/g,"<br/>").replace(A5,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function QH(t){var e=t+"";return e.replace(pb,function(r){return fb[r]}).replace(A5,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function JH(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function ZH(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Qx(t){for(var e="",r=0,n=0,s=0,a=0,l=0,u=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(s=t.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=s&63,e+=String.fromCharCode(l);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63);continue}l=t.charCodeAt(r++),u=((n&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function bT(t){var e=Hl(2*t.length),r,n,s=1,a=0,l=0,u;for(n=0;n<t.length;n+=s)s=1,(u=t.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(t.charCodeAt(n+1)&63),s=2):u<240?(r=(u&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),s=3):(s=4,r=(u&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(e[a++]=l&255,e[a++]=l>>>8,l=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function wT(t){return Qi(t,"binary").toString("utf8")}var Cf="foo bar bazâð£",Xd=ur&&(wT(Cf)==Qx(Cf)&&wT||bT(Cf)==Qx(Cf)&&bT)||Qx,N0=ur?function(t){return Qi(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,s=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},eW=(function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)n=n.replace(t[s][0],t[s][1]);return n}})(),S5=/(^\s|\s$|\n)/;function Mn(t,e){return"<"+t+(e.match(S5)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function k0(t){return Un(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function et(t,e,r){return"<"+t+(r!=null?k0(r):"")+(e!=null?(e.match(S5)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function tv(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function tW(t,e){switch(typeof t){case"string":var r=et("vt:lpwstr",xr(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return et((t|0)==t?"vt:i4":"vt:r8",xr(String(t)));case"boolean":return et("vt:bool",t?"true":"false")}if(t instanceof Date)return et("vt:filetime",tv(t));throw new Error("Unable to serialize "+t)}var En={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Uu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ms={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function rW(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,a=5;a>=0;--a)s=s*256+t[e+a];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function nW(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,a=0,l=n?-e:e;isFinite(l)?l==0?s=a=0:(s=Math.floor(Math.log(l)/Math.LN2),a=l*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(e)?26985:0);for(var u=0;u<=5;++u,a/=256)t[r+u]=a&255;t[r+6]=(s&15)<<4|a&15,t[r+7]=s>>4|n}var _T=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var s=0,a=t[0][n].length;s<a;s+=r)e.push.apply(e,t[0][n].slice(s,s+r));return e},ET=ur?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Qi(e)})):_T(t)}:_T,TT=function(t,e,r){for(var n=[],s=e;s<r;s+=2)n.push(String.fromCharCode(Od(t,s)));return n.join("").replace(Yd,"")},mb=ur?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Yd,""):TT(t,e,r)}:TT,NT=function(t,e,r){for(var n=[],s=e;s<e+r;++s)n.push(("0"+t[s].toString(16)).slice(-2));return n.join("")},C5=ur?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):NT(t,e,r)}:NT,kT=function(t,e,r){for(var n=[],s=e;s<r;s++)n.push(String.fromCharCode(Qc(t,s)));return n.join("")},rh=ur?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):kT(e,r,n)}:kT,j5=function(t,e){var r=Vs(t,e);return r>0?rh(t,e+4,e+4+r-1):""},I5=j5,P5=function(t,e){var r=Vs(t,e);return r>0?rh(t,e+4,e+4+r-1):""},R5=P5,D5=function(t,e){var r=2*Vs(t,e);return r>0?rh(t,e+4,e+4+r-1):""},O5=D5,F5=function(e,r){var n=Vs(e,r);return n>0?mb(e,r+4,r+4+n):""},L5=F5,M5=function(t,e){var r=Vs(t,e);return r>0?rh(t,e+4,e+4+r):""},V5=M5,$5=function(t,e){return rW(t,e)},Bp=$5,gb=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};ur&&(I5=function(e,r){if(!Buffer.isBuffer(e))return j5(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},R5=function(e,r){if(!Buffer.isBuffer(e))return P5(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},O5=function(e,r){if(!Buffer.isBuffer(e))return D5(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},L5=function(e,r){if(!Buffer.isBuffer(e))return F5(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},V5=function(e,r){if(!Buffer.isBuffer(e))return M5(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Bp=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):$5(e,r)},gb=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Qc=function(t,e){return t[e]},Od=function(t,e){return t[e+1]*256+t[e]},sW=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Vs=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Nl=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},aW=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Qd(t,e){var r="",n,s,a=[],l,u,d,h;switch(e){case"dbcs":if(h=this.l,ur&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(Od(this,h)),h+=2;t*=2;break;case"utf8":r=rh(this,this.l,this.l+t);break;case"utf16le":t*=2,r=mb(this,this.l,this.l+t);break;case"wstr":return Qd.call(this,t,"dbcs");case"lpstr-ansi":r=I5(this,this.l),t=4+Vs(this,this.l);break;case"lpstr-cp":r=R5(this,this.l),t=4+Vs(this,this.l);break;case"lpwstr":r=O5(this,this.l),t=4+2*Vs(this,this.l);break;case"lpp4":t=4+Vs(this,this.l),r=L5(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Vs(this,this.l),r=V5(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(l=Qc(this,this.l+t++))!==0;)a.push(kf(l));r=a.join("");break;case"_wstr":for(t=0,r="";(l=Od(this,this.l+t))!==0;)a.push(kf(l)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",h=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=Qc(this,h),this.l=h+1,u=Qd.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(kf(Od(this,h))),h+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=Qc(this,h),this.l=h+1,u=Qd.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(kf(Qc(this,h))),h+=1}r=a.join("");break;default:switch(t){case 1:return n=Qc(this,this.l),this.l++,n;case 2:return n=(e==="i"?sW:Od)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?Nl:aW)(this,this.l),this.l+=4,n):(s=Vs(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=Bp(this,this.l):s=Bp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=C5(this,this.l,t);break}}return this.l+=t,r}var iW=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},oW=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},lW=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function cW(t,e,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)lW(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var l=e.charCodeAt(s);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,iW(this,e,this.l);break;case 8:if(n=8,r==="f"){nW(this,e,this.l);break}case 16:break;case-4:n=4,oW(this,e,this.l);break}return this.l+=n,this}function B5(t,e){var r=C5(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ls(t,e){t.l=e,t.read_shift=Qd,t.chk=B5,t.write_shift=cW}function fi(t,e){t.l+=e}function Se(t){var e=Hl(t);return Ls(e,0),e}function As(){var t=[],e=ur?256:2048,r=function(h){var p=Se(h);return Ls(p,0),p},n=r(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(h){return n&&h<n.length-n.l?n:(s(),n=r(Math.max(h+1,e)))},l=function(){return s(),Ln(t)},u=function(h){s(),n=h,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:u,end:l,_bufs:t}}function Ue(t,e,r,n){var s=+e,a;if(!isNaN(s)){n||(n=rQ[s].p||(r||[]).length||0),a=1+(s>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var l=t.next(a);s<=127?l.write_shift(1,s):(l.write_shift(1,(s&127)+128),l.write_shift(1,s>>7));for(var u=0;u!=4;++u)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&gb(r)&&t.push(r)}}function Jd(t,e,r){var n=Cs(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function AT(t,e,r){var n=Cs(t);return n.s=Jd(n.s,e.s,r),n.e=Jd(n.e,e.s,r),n}function Zd(t,e){if(t.cRel&&t.c<0)for(t=Cs(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Cs(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=yr(t);return!t.cRel&&t.cRel!=null&&(r=hW(r)),!t.rRel&&t.rRel!=null&&(r=uW(r)),r}function Jx(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+es(t.s.c)+":"+(t.e.cRel?"":"$")+es(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+$n(t.s.r)+":"+(t.e.rRel?"":"$")+$n(t.e.r):Zd(t.s,e.biff)+":"+Zd(t.e,e.biff)}function xb(t){return parseInt(dW(t),10)-1}function $n(t){return""+(t+1)}function uW(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function dW(t){return t.replace(/\$(\d+)$/,"$1")}function yb(t){for(var e=fW(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function es(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function hW(t){return t.replace(/^([A-Z])/,"$$$1")}function fW(t){return t.replace(/^\$([A-Z])/,"$1")}function pW(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Tn(t){for(var e=0,r=0,n=0;n<t.length;++n){var s=t.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function yr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Gs(t){var e=t.indexOf(":");return e==-1?{s:Tn(t),e:Tn(t)}:{s:Tn(t.slice(0,e)),e:Tn(t.slice(e+1))}}function an(t,e){return typeof e>"u"||typeof e=="number"?an(t.s,t.e):(typeof t!="string"&&(t=yr(t)),typeof e!="string"&&(e=yr(e)),t==e?t:t+":"+e)}function Ir(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,a=t.length;for(r=0;n<a&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.s.c=--r,r=0;n<a&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(e.s.r=--r,n===a||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.e.c=--r,r=0;n!=a&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return e.e.r=--r,e}function ST(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Ko(t.z,r?Ss(e):e)}catch{}try{return t.w=Ko((t.XF||{}).numFmtId||(r?14:0),r?Ss(e):e)}catch{return""+e}}function Ki(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?nh[t.v]||t.v:e==null?ST(t,t.v):ST(t,e))}function ac(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function U5(t,e,r){var n=r||{},s=t?Array.isArray(t):n.dense,a=t||(s?[]:{}),l=0,u=0;if(a&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?Tn(n.origin):n.origin;l=d.r,u=d.c}a["!ref"]||(a["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var p=Ir(a["!ref"]);h.s.c=p.s.c,h.s.r=p.s.r,h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),l==-1&&(h.e.r=l=p.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[g].length;++y)if(!(typeof e[g][y]>"u")){var v={v:e[g][y]},_=l+g,w=u+y;if(h.s.r>_&&(h.s.r=_),h.s.c>w&&(h.s.c=w),h.e.r<_&&(h.e.r=_),h.e.c<w&&(h.e.c=w),e[g][y]&&typeof e[g][y]=="object"&&!Array.isArray(e[g][y])&&!(e[g][y]instanceof Date))v=e[g][y];else if(Array.isArray(v.v)&&(v.f=e[g][y][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||Kr[14],n.cellDates?(v.t="d",v.w=Ko(v.z,Ss(v.v))):(v.t="n",v.v=Ss(v.v),v.w=Ko(v.z,v.v))):v.t="s";if(s)a[_]||(a[_]=[]),a[_][w]&&a[_][w].z&&(v.z=a[_][w].z),a[_][w]=v;else{var E=yr({c:w,r:_});a[E]&&a[E].z&&(v.z=a[E].z),a[E]=v}}}return h.s.c<1e7&&(a["!ref"]=an(h)),a}function zu(t,e){return U5(null,t,e)}function mW(t){return t.read_shift(4,"i")}function Ia(t,e){return e||(e=Se(4)),e.write_shift(4,t),e}function ts(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Nn(t,e){var r=!1;return e==null&&(r=!0,e=Se(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function gW(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function xW(t,e){return e||(e=Se(4)),e.write_shift(2,0),e.write_shift(2,0),e}function vb(t,e){var r=t.l,n=t.read_shift(1),s=ts(t),a=[],l={t:s,h:s};if((n&1)!==0){for(var u=t.read_shift(4),d=0;d!=u;++d)a.push(gW(t));l.r=a}else l.r=[{ich:0,ifnt:0}];return t.l=r+e,l}function yW(t,e){var r=!1;return e==null&&(r=!0,e=Se(15+4*t.t.length)),e.write_shift(1,0),Nn(t.t,e),r?e.slice(0,e.l):e}var vW=vb;function bW(t,e){var r=!1;return e==null&&(r=!0,e=Se(23+4*t.t.length)),e.write_shift(1,1),Nn(t.t,e),e.write_shift(4,1),xW({},e),r?e.slice(0,e.l):e}function ua(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function ic(t,e){return e==null&&(e=Se(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function oc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function lc(t,e){return e==null&&(e=Se(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var wW=ts,z5=Nn;function bb(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Up(t,e){var r=!1;return e==null&&(r=!0,e=Se(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var _W=ts,rv=bb,wb=Up;function H5(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var s=n===0?Bp([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Nl(e,0)>>2;return r?s/100:s}function W5(t,e){e==null&&(e=Se(4));var r=0,n=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?s:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function G5(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function EW(t,e){return e||(e=Se(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var cc=G5,Hu=EW;function Wu(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Wl(t,e){return(e||Se(8)).write_shift(8,t,"f")}function TW(t){var e={},r=t.read_shift(1),n=r>>>1,s=t.read_shift(1),a=t.read_shift(2,"i"),l=t.read_shift(1),u=t.read_shift(1),d=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var h=RW[s];h&&(e.rgb=VT(h));break;case 2:e.rgb=VT([l,u,d]);break;case 3:e.theme=s;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function zp(t,e){if(e||(e=Se(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function NW(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function kW(t,e){e||(e=Se(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var q5=2,Fs=3,jf=11,Hp=19,If=64,AW=65,SW=71,CW=4108,jW=4126,Rn=80,CT={1:{n:"CodePage",t:q5},2:{n:"Category",t:Rn},3:{n:"PresentationFormat",t:Rn},4:{n:"ByteCount",t:Fs},5:{n:"LineCount",t:Fs},6:{n:"ParagraphCount",t:Fs},7:{n:"SlideCount",t:Fs},8:{n:"NoteCount",t:Fs},9:{n:"HiddenCount",t:Fs},10:{n:"MultimediaClipCount",t:Fs},11:{n:"ScaleCrop",t:jf},12:{n:"HeadingPairs",t:CW},13:{n:"TitlesOfParts",t:jW},14:{n:"Manager",t:Rn},15:{n:"Company",t:Rn},16:{n:"LinksUpToDate",t:jf},17:{n:"CharacterCount",t:Fs},19:{n:"SharedDoc",t:jf},22:{n:"HyperlinksChanged",t:jf},23:{n:"AppVersion",t:Fs,p:"version"},24:{n:"DigSig",t:AW},26:{n:"ContentType",t:Rn},27:{n:"ContentStatus",t:Rn},28:{n:"Language",t:Rn},29:{n:"Version",t:Rn},255:{},2147483648:{n:"Locale",t:Hp},2147483651:{n:"Behavior",t:Hp},1919054434:{}},jT={1:{n:"CodePage",t:q5},2:{n:"Title",t:Rn},3:{n:"Subject",t:Rn},4:{n:"Author",t:Rn},5:{n:"Keywords",t:Rn},6:{n:"Comments",t:Rn},7:{n:"Template",t:Rn},8:{n:"LastAuthor",t:Rn},9:{n:"RevNumber",t:Rn},10:{n:"EditTime",t:If},11:{n:"LastPrinted",t:If},12:{n:"CreatedDate",t:If},13:{n:"ModifiedDate",t:If},14:{n:"PageCount",t:Fs},15:{n:"WordCount",t:Fs},16:{n:"CharCount",t:Fs},17:{n:"Thumbnail",t:SW},18:{n:"Application",t:Rn},19:{n:"DocSecurity",t:Fs},255:{},2147483648:{n:"Locale",t:Hp},2147483651:{n:"Behavior",t:Hp},1919054434:{}};function IW(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var PW=IW([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),RW=Cs(PW),nh={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},DW={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Pf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function K5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Y5(t,e){var r=HH(DW),n=[],s;n[n.length]=on,n[n.length]=et("Types",null,{xmlns:En.CT,"xmlns:xsd":En.xsd,"xmlns:xsi":En.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return et("Default",null,{Extension:d[0],ContentType:d[1]})}));var a=function(d){t[d]&&t[d].length>0&&(s=t[d][0],n[n.length]=et("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Pf[d][e.bookType]||Pf[d].xlsx}))},l=function(d){(t[d]||[]).forEach(function(h){n[n.length]=et("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Pf[d][e.bookType]||Pf[d].xlsx})})},u=function(d){(t[d]||[]).forEach(function(h){n[n.length]=et("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:r[d][0]})})};return a("workbooks"),l("sheets"),l("charts"),u("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),l("metadata"),u("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var ar={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function X5(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function du(t){var e=[on,et("Relationships",null,{xmlns:En.RELS})];return Un(t["!id"]).forEach(function(r){e[e.length]=et("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function mr(t,e,r,n,s,a){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=n,s.Target=r,[ar.HLINK,ar.XPATH,ar.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function OW(t){var e=[on];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function IT(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function FW(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function LW(t){var e=[on];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(IT(t[r][0],t[r][1])),e.push(FW("",t[r][0]));return e.push(IT("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function Q5(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Op.version+"</meta:generator></office:meta></office:document-meta>"}var Pl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Zx(t,e,r,n,s){s[t]!=null||e==null||e===""||(s[t]=e,e=xr(e),n[n.length]=r?et(t,e,r):Mn(t,e))}function J5(t,e){var r=e||{},n=[on,et("cp:coreProperties",null,{"xmlns:cp":En.CORE_PROPS,"xmlns:dc":En.dc,"xmlns:dcterms":En.dcterms,"xmlns:dcmitype":En.dcmitype,"xmlns:xsi":En.xsi})],s={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Zx("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:tv(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),t.ModifiedDate!=null&&Zx("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:tv(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var a=0;a!=Pl.length;++a){var l=Pl[a],u=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:t?t[l[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Zx(l[0],u,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var hu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Z5=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function e6(t){var e=[],r=et;return t||(t={}),t.Application="SheetJS",e[e.length]=on,e[e.length]=et("Properties",null,{xmlns:En.EXT_PROPS,"xmlns:vt":En.vt}),hu.forEach(function(n){if(t[n[1]]!==void 0){var s;switch(n[2]){case"string":s=xr(String(t[n[1]]));break;case"bool":s=t[n[1]]?"true":"false";break}s!==void 0&&(e[e.length]=r(n[0],s))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+xr(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function t6(t){var e=[on,et("Properties",null,{xmlns:En.CUST_PROPS,"xmlns:vt":En.vt})];if(!t)return e.join("");var r=1;return Un(t).forEach(function(s){++r,e[e.length]=et("property",tW(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:xr(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var PT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function MW(t,e){var r=[];return Un(PT).map(function(n){for(var s=0;s<Pl.length;++s)if(Pl[s][1]==n)return Pl[s];for(s=0;s<hu.length;++s)if(hu[s][1]==n)return hu[s];throw n}).forEach(function(n){if(t[n[1]]!=null){var s=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Mn(PT[n[1]]||n[1],s))}}),et("DocumentProperties",r.join(""),{xmlns:Ms.o})}function VW(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return t&&Un(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var l=0;l<Pl.length;++l)if(a==Pl[l][1])return;for(l=0;l<hu.length;++l)if(a==hu[l][1])return;for(l=0;l<r.length;++l)if(a==r[l])return;var u=t[a],d="string";typeof u=="number"?(d="float",u=String(u)):u===!0||u===!1?(d="boolean",u=u?"1":"0"):u=String(u),s.push(et(vT(a),u,{"dt:dt":d}))}}),e&&Un(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var l=e[a],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l instanceof Date?(u="dateTime.tz",l=l.toISOString()):l=String(l),s.push(et(vT(a),l,{"dt:dt":u}))}}),"<"+n+' xmlns="'+Ms.o+'">'+s.join("")+"</"+n+">"}function $W(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),s+=a);var l=Se(8);return l.write_shift(4,n),l.write_shift(4,s),l}function RT(t,e){var r=Se(4),n=Se(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Se(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=$W(e);break;case 31:case 80:for(n=Se(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Ln([r,n])}var r6=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function BW(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function DT(t,e,r){var n=Se(8),s=[],a=[],l=8,u=0,d=Se(8),h=Se(8);if(d.write_shift(4,2),d.write_shift(4,1200),h.write_shift(4,1),a.push(d),s.push(h),l+=8+d.length,!e){h=Se(8),h.write_shift(4,0),s.unshift(h);var p=[Se(4)];for(p[0].write_shift(4,t.length),u=0;u<t.length;++u){var g=t[u][0];for(d=Se(8+2*(g.length+1)+(g.length%2?0:2)),d.write_shift(4,u+2),d.write_shift(4,g.length+1),d.write_shift(0,g,"dbcs");d.l!=d.length;)d.write_shift(1,0);p.push(d)}d=Ln(p),a.unshift(d),l+=8+d.length}for(u=0;u<t.length;++u)if(!(e&&!e[t[u][0]])&&!(r6.indexOf(t[u][0])>-1||Z5.indexOf(t[u][0])>-1)&&t[u][1]!=null){var y=t[u][1],v=0;if(e){v=+e[t[u][0]];var _=r[v];if(_.p=="version"&&typeof y=="string"){var w=y.split(".");y=(+w[0]<<16)+(+w[1]||0)}d=RT(_.t,y)}else{var E=BW(y);E==-1&&(E=31,y=String(y)),d=RT(E,y)}a.push(d),h=Se(8),h.write_shift(4,e?v:2+u),s.push(h),l+=8+d.length}var O=8*(a.length+1);for(u=0;u<a.length;++u)s[u].write_shift(4,O),O+=a[u].length;return n.write_shift(4,l),n.write_shift(4,a.length),Ln([n].concat(s).concat(a))}function OT(t,e,r,n,s,a){var l=Se(s?68:48),u=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,vr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,s?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,s?68:48);var d=DT(t,r,n);if(u.push(d),s){var h=DT(s,null,null);l.write_shift(16,a,"hex"),l.write_shift(4,68+d.length),u.push(h)}return Ln(u)}function UW(t,e){e||(e=Se(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function zW(t,e){return t.read_shift(e)===1}function ls(t,e){return e||(e=Se(2)),e.write_shift(2,+!!t),e}function n6(t){return t.read_shift(2,"u")}function sa(t,e){return e||(e=Se(2)),e.write_shift(2,t),e}function s6(t,e,r){return r||(r=Se(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function a6(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var l=n?t.read_shift(n,s):"";return l}function HW(t){var e=t.t||"",r=Se(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Se(2*e.length);n.write_shift(2*e.length,e,"utf16le");var s=[r,n];return Ln(s)}function WW(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function GW(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):WW(t,n,r)}function qW(t,e,r){if(r.biff>5)return GW(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function i6(t,e,r){return r||(r=Se(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function FT(t,e){e||(e=Se(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function KW(t){var e=Se(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),a=s>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)e.write_shift(4,l[r]);if(a==28)n=n.slice(1),FT(n,e);else if(a&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)e.write_shift(1,parseInt(l[r],16));var u=s>-1?n.slice(0,s):n;for(e.write_shift(4,2*(u.length+1)),r=0;r<u.length;++r)e.write_shift(2,u.charCodeAt(r));e.write_shift(2,0),a&8&&FT(s>-1?n.slice(s+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)e.write_shift(1,parseInt(l[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)e.write_shift(1,n.charCodeAt(r+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Gl(t,e,r,n){return n||(n=Se(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function YW(t,e,r){var n=r.biff>8?4:2,s=t.read_shift(n),a=t.read_shift(n,"i"),l=t.read_shift(n,"i");return[s,a,l]}function XW(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2);return{s:{c:n,r:e},e:{c:s,r}}}function o6(t,e){return e||(e=Se(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function _b(t,e,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Se(s);return a.write_shift(2,n),a.write_shift(2,e),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function QW(t,e){var r=!e||e.biff==8,n=Se(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function JW(t,e){var r=!e||e.biff>=8?2:1,n=Se(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function ZW(t,e){var r=Se(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],s=0;s<t.length;++s)n[s]=HW(t[s]);var a=Ln([r].concat(n));return a.parts=[r.length].concat(n.map(function(l){return l.length})),a}function eG(){var t=Se(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function tG(t){var e=Se(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function rG(t,e){var r=t.name||"Arial",n=e&&e.biff==5,s=n?15+r.length:16+2*r.length,a=Se(s);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function nG(t,e,r,n){var s=Se(10);return Gl(t,e,n,s),s.write_shift(4,r),s}function sG(t,e,r,n,s){var a=!s||s.biff==8,l=Se(8+ +a+(1+a)*r.length);return Gl(t,e,n,l),l.write_shift(2,r.length),a&&l.write_shift(1,1),l.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),l}function aG(t,e,r,n){var s=r&&r.biff==5;n||(n=Se(s?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(s?1:2,e.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function iG(t,e){var r=e.biff==8||!e.biff?4:2,n=Se(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function LT(t,e,r,n){var s=r&&r.biff==5;n||(n=Se(s?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&s&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function oG(t){var e=Se(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function lG(t,e,r,n,s,a){var l=Se(8);return Gl(t,e,n,l),s6(r,a,l),l}function cG(t,e,r,n){var s=Se(14);return Gl(t,e,n,s),Wl(r,s),s}function uG(t,e,r){if(r.biff<8)return dG(t,e,r);for(var n=[],s=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(YW(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return n}function dG(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=a6(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function hG(t){var e=Se(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)o6(t[r],e);return e}function fG(t){var e=Se(24),r=Tn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(n[s],16));return Ln([e,KW(t[1])])}function pG(t){var e=t[1].Tooltip,r=Se(10+2*(e.length+1));r.write_shift(2,2048);var n=Tn(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function mG(t){return t||(t=Se(4)),t.write_shift(2,1),t.write_shift(2,1),t}function gG(t,e,r){if(!r.cellStyles)return fi(t,e);var n=r&&r.biff>=12?4:2,s=t.read_shift(n),a=t.read_shift(n),l=t.read_shift(n),u=t.read_shift(n),d=t.read_shift(2);n==2&&(t.l+=2);var h={s,e:a,w:l,ixfe:u,flags:d};return(r.biff>=5||!r.biff)&&(h.level=d>>8&7),h}function xG(t,e){var r=Se(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function yG(t){for(var e=Se(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function vG(t,e,r){var n=Se(15);return ah(n,t,e),n.write_shift(8,r,"f"),n}function bG(t,e,r){var n=Se(9);return ah(n,t,e),n.write_shift(2,r),n}var wG=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=db({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,d){var h=[],p=Hl(1);switch(d.type){case"base64":p=ka(qi(u));break;case"binary":p=ka(u);break;case"buffer":case"array":p=u;break}Ls(p,0);var g=p.read_shift(1),y=!!(g&136),v=!1,_=!1;switch(g){case 2:break;case 3:break;case 48:v=!0,y=!0;break;case 49:v=!0,y=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var w=0,E=521;g==2&&(w=p.read_shift(2)),p.l+=3,g!=2&&(w=p.read_shift(4)),w>1048576&&(w=1e6),g!=2&&(E=p.read_shift(2));var O=p.read_shift(2),j=d.codepage||1252;g!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(j=t[p[p.l]]),p.l+=1,p.l+=2),_&&(p.l+=36);for(var z=[],L={},Y=Math.min(p.length,g==2?521:E-10-(v?264:0)),H=_?32:11;p.l<Y&&p[p.l]!=13;)switch(L={},L.name=Fp.utils.decode(j,p.slice(p.l,p.l+H)).replace(/[\u0000\r\n].*$/g,""),p.l+=H,L.type=String.fromCharCode(p.read_shift(1)),g!=2&&!_&&(L.offset=p.read_shift(4)),L.len=p.read_shift(1),g==2&&(L.offset=p.read_shift(2)),L.dec=p.read_shift(1),L.name.length&&z.push(L),g!=2&&(p.l+=_?13:14),L.type){case"B":(!v||L.len!=8)&&d.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(p[p.l]!==13&&(p.l=E-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=E;var S=0,A=0;for(h[0]=[],A=0;A!=z.length;++A)h[0][A]=z[A].name;for(;w-- >0;){if(p[p.l]===42){p.l+=O;continue}for(++p.l,h[++S]=[],A=0,A=0;A!=z.length;++A){var I=p.slice(p.l,p.l+z[A].len);p.l+=z[A].len,Ls(I,0);var P=Fp.utils.decode(j,I);switch(z[A].type){case"C":P.trim().length&&(h[S][A]=P.replace(/\s+$/,""));break;case"D":P.length===8?h[S][A]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):h[S][A]=P;break;case"F":h[S][A]=parseFloat(P.trim());break;case"+":case"I":h[S][A]=_?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":h[S][A]=!0;break;case"N":case"F":h[S][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));h[S][A]="##MEMO##"+(_?parseInt(P.trim(),10):I.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(h[S][A]=+P||0);break;case"@":h[S][A]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":h[S][A]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":h[S][A]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[S][A]=-I.read_shift(-8,"f");break;case"B":if(v&&z[A].len==8){h[S][A]=I.read_shift(8,"f");break}case"G":case"P":I.l+=z[A].len;break;case"0":if(z[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+z[A].type)}}}if(g!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=z,h}function n(u,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var p=zu(r(u,h),h);return p["!cols"]=h.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete h.DBF,p}function s(u,d){try{return ac(n(u,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,d){var h=d||{};if(+h.codepage>=0&&_0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var p=As(),g=Yp(u,{header:1,raw:!0,cellDates:!0}),y=g[0],v=g.slice(1),_=u["!cols"]||[],w=0,E=0,O=0,j=1;for(w=0;w<y.length;++w){if(((_[w]||{}).DBF||{}).name){y[w]=_[w].DBF.name,++O;continue}if(y[w]!=null){if(++O,typeof y[w]=="number"&&(y[w]=y[w].toString(10)),typeof y[w]!="string")throw new Error("DBF Invalid column name "+y[w]+" |"+typeof y[w]+"|");if(y.indexOf(y[w])!==w){for(E=0;E<1024;++E)if(y.indexOf(y[w]+"_"+E)==-1){y[w]+="_"+E;break}}}}var z=Ir(u["!ref"]),L=[],Y=[],H=[];for(w=0;w<=z.e.c-z.s.c;++w){var S="",A="",I=0,P=[];for(E=0;E<v.length;++E)v[E][w]!=null&&P.push(v[E][w]);if(P.length==0||y[w]==null){L[w]="?";continue}for(E=0;E<P.length;++E){switch(typeof P[E]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=P[E]instanceof Date?"D":"C";break;default:A="C"}I=Math.max(I,String(P[E]).length),S=S&&S!=A?"C":A}I>250&&(I=250),A=((_[w]||{}).DBF||{}).type,A=="C"&&_[w].DBF.len>I&&(I=_[w].DBF.len),S=="B"&&A=="N"&&(S="N",H[w]=_[w].DBF.dec,I=_[w].DBF.len),Y[w]=S=="C"||A=="N"?I:a[S]||0,j+=Y[w],L[w]=S}var M=p.next(32);for(M.write_shift(4,318902576),M.write_shift(4,v.length),M.write_shift(2,296+32*O),M.write_shift(2,j),w=0;w<4;++w)M.write_shift(4,0);for(M.write_shift(4,0|(+e[c5]||3)<<8),w=0,E=0;w<y.length;++w)if(y[w]!=null){var R=p.next(32),F=(y[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,F,"sbcs"),R.write_shift(1,L[w]=="?"?"C":L[w],"sbcs"),R.write_shift(4,E),R.write_shift(1,Y[w]||a[L[w]]||0),R.write_shift(1,H[w]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),E+=Y[w]||a[L[w]]||0}var me=p.next(264);for(me.write_shift(4,13),w=0;w<65;++w)me.write_shift(4,0);for(w=0;w<v.length;++w){var Te=p.next(j);for(Te.write_shift(1,0),E=0;E<y.length;++E)if(y[E]!=null)switch(L[E]){case"L":Te.write_shift(1,v[w][E]==null?63:v[w][E]?84:70);break;case"B":Te.write_shift(8,v[w][E]||0,"f");break;case"N":var je="0";for(typeof v[w][E]=="number"&&(je=v[w][E].toFixed(H[E]||0)),O=0;O<Y[E]-je.length;++O)Te.write_shift(1,32);Te.write_shift(1,je,"sbcs");break;case"D":v[w][E]?(Te.write_shift(4,("0000"+v[w][E].getFullYear()).slice(-4),"sbcs"),Te.write_shift(2,("00"+(v[w][E].getMonth()+1)).slice(-2),"sbcs"),Te.write_shift(2,("00"+v[w][E].getDate()).slice(-2),"sbcs")):Te.write_shift(8,"00000000","sbcs");break;case"C":var Ie=String(v[w][E]!=null?v[w][E]:"").slice(0,Y[E]);for(Te.write_shift(1,Ie,"sbcs"),O=0;O<Y[E]-Ie.length;++O)Te.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:s,to_sheet:n,from_sheet:l}})(),_G=(function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Un(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,v){var _=t[v];return typeof _=="number"?oT(_):_},n=function(y,v,_){var w=v.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return w==59?y:oT(w)};t["|"]=254;function s(y,v){switch(v.type){case"base64":return a(qi(y),v);case"binary":return a(y,v);case"buffer":return a(ur&&Buffer.isBuffer(y)?y.toString("binary"):eh(y),v);case"array":return a(Mm(y),v)}throw new Error("Unrecognized type "+v.type)}function a(y,v){var _=y.split(/[\n\r]+/),w=-1,E=-1,O=0,j=0,z=[],L=[],Y=null,H={},S=[],A=[],I=[],P=0,M;for(+v.codepage>=0&&_0(+v.codepage);O!==_.length;++O){P=0;var R=_[O].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),F=R.replace(/;;/g,"\0").split(";").map(function(ae){return ae.replace(/\u0000/g,";")}),me=F[0],Te;if(R.length>0)switch(me){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&L.push(R.slice(3).replace(/;;/g,";"));break;case"C":var je=!1,Ie=!1,_e=!1,oe=!1,xe=-1,se=-1;for(j=1;j<F.length;++j)switch(F[j].charAt(0)){case"A":break;case"X":E=parseInt(F[j].slice(1))-1,Ie=!0;break;case"Y":for(w=parseInt(F[j].slice(1))-1,Ie||(E=0),M=z.length;M<=w;++M)z[M]=[];break;case"K":Te=F[j].slice(1),Te.charAt(0)==='"'?Te=Te.slice(1,Te.length-1):Te==="TRUE"?Te=!0:Te==="FALSE"?Te=!1:isNaN(Mi(Te))?isNaN(T0(Te).getDate())||(Te=hs(Te)):(Te=Mi(Te),Y!==null&&w5(Y)&&(Te=N5(Te))),je=!0;break;case"E":oe=!0;var U=bq(F[j].slice(1),{r:w,c:E});z[w][E]=[z[w][E],U];break;case"S":_e=!0,z[w][E]=[z[w][E],"S5S"];break;case"G":break;case"R":xe=parseInt(F[j].slice(1))-1;break;case"C":se=parseInt(F[j].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+R)}if(je&&(z[w][E]&&z[w][E].length==2?z[w][E][0]=Te:z[w][E]=Te,Y=null),_e){if(oe)throw new Error("SYLK shared formula cannot have own formula");var re=xe>-1&&z[xe][se];if(!re||!re[1])throw new Error("SYLK shared formula cannot find base");z[w][E][1]=wq(re[1],{r:w-xe,c:E-se})}break;case"F":var ne=0;for(j=1;j<F.length;++j)switch(F[j].charAt(0)){case"X":E=parseInt(F[j].slice(1))-1,++ne;break;case"Y":for(w=parseInt(F[j].slice(1))-1,M=z.length;M<=w;++M)z[M]=[];break;case"M":P=parseInt(F[j].slice(1))/20;break;case"F":break;case"G":break;case"P":Y=L[parseInt(F[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=F[j].slice(1).split(" "),M=parseInt(I[0],10);M<=parseInt(I[1],10);++M)P=parseInt(I[2],10),A[M-1]=P===0?{hidden:!0}:{wch:P},Eb(A[M-1]);break;case"C":E=parseInt(F[j].slice(1))-1,A[E]||(A[E]={});break;case"R":w=parseInt(F[j].slice(1))-1,S[w]||(S[w]={}),P>0?(S[w].hpt=P,S[w].hpx=h6(P)):P===0&&(S[w].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+R)}ne<1&&(Y=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+R)}}return S.length>0&&(H["!rows"]=S),A.length>0&&(H["!cols"]=A),v&&v.sheetRows&&(z=z.slice(0,v.sheetRows)),[z,H]}function l(y,v){var _=s(y,v),w=_[0],E=_[1],O=zu(w,v);return Un(E).forEach(function(j){O[j]=E[j]}),O}function u(y,v){return ac(l(y,v),v)}function d(y,v,_,w){var E="C;Y"+(_+1)+";X"+(w+1)+";K";switch(y.t){case"n":E+=y.v||0,y.f&&!y.F&&(E+=";E"+Nb(y.f,{r:_,c:w}));break;case"b":E+=y.v?"TRUE":"FALSE";break;case"e":E+=y.w||y.v;break;case"d":E+='"'+(y.w||y.v)+'"';break;case"s":E+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function h(y,v){v.forEach(function(_,w){var E="F;W"+(w+1)+" "+(w+1)+" ";_.hidden?E+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=Wp(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=Gp(_.wpx)),typeof _.wch=="number"&&(E+=Math.round(_.wch))),E.charAt(E.length-1)!=" "&&y.push(E)})}function p(y,v){v.forEach(function(_,w){var E="F;";_.hidden?E+="M0;":_.hpt?E+="M"+20*_.hpt+";":_.hpx&&(E+="M"+20*qp(_.hpx)+";"),E.length>2&&y.push(E+"R"+(w+1))})}function g(y,v){var _=["ID;PWXL;N;E"],w=[],E=Ir(y["!ref"]),O,j=Array.isArray(y),z=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),y["!cols"]&&h(_,y["!cols"]),y["!rows"]&&p(_,y["!rows"]),_.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var L=E.s.r;L<=E.e.r;++L)for(var Y=E.s.c;Y<=E.e.c;++Y){var H=yr({r:L,c:Y});O=j?(y[L]||[])[Y]:y[H],!(!O||O.v==null&&(!O.f||O.F))&&w.push(d(O,y,L,Y))}return _.join(z)+z+w.join(z)+z+"E"+z}return{to_workbook:u,to_sheet:l,from_sheet:g}})(),EG=(function(){function t(a,l){switch(l.type){case"base64":return e(qi(a),l);case"binary":return e(a,l);case"buffer":return e(ur&&Buffer.isBuffer(a)?a.toString("binary"):eh(a),l);case"array":return e(Mm(a),l)}throw new Error("Unrecognized type "+l.type)}function e(a,l){for(var u=a.split(`
`),d=-1,h=-1,p=0,g=[];p!==u.length;++p){if(u[p].trim()==="BOT"){g[++d]=[],h=0;continue}if(!(d<0)){var y=u[p].trim().split(","),v=y[0],_=y[1];++p;for(var w=u[p]||"";(w.match(/["]/g)||[]).length&1&&p<u.length-1;)w+=`
`+u[++p];switch(w=w.trim(),+v){case-1:if(w==="BOT"){g[++d]=[],h=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?g[d][h]=!0:w==="FALSE"?g[d][h]=!1:isNaN(Mi(_))?isNaN(T0(_).getDate())?g[d][h]=_:g[d][h]=hs(_):g[d][h]=Mi(_),++h;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),g[d][h++]=w!==""?w:null;break}if(w==="EOD")break}}return l&&l.sheetRows&&(g=g.slice(0,l.sheetRows)),g}function r(a,l){return zu(t(a,l),l)}function n(a,l){return ac(r(a,l),l)}var s=(function(){var a=function(d,h,p,g,y){d.push(h),d.push(p+","+g),d.push('"'+y.replace(/"/g,'""')+'"')},l=function(d,h,p,g){d.push(h+","+p),d.push(h==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(d){var h=[],p=Ir(d["!ref"]),g,y=Array.isArray(d);a(h,"TABLE",0,1,"sheetjs"),a(h,"VECTORS",0,p.e.r-p.s.r+1,""),a(h,"TUPLES",0,p.e.c-p.s.c+1,""),a(h,"DATA",0,0,"");for(var v=p.s.r;v<=p.e.r;++v){l(h,-1,0,"BOT");for(var _=p.s.c;_<=p.e.c;++_){var w=yr({r:v,c:_});if(g=y?(d[v]||[])[_]:d[w],!g){l(h,1,0,"");continue}switch(g.t){case"n":var E=g.w;!E&&g.v!=null&&(E=g.v),E==null?g.f&&!g.F?l(h,1,0,"="+g.f):l(h,1,0,""):l(h,0,E,"V");break;case"b":l(h,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=Ko(g.z||Kr[14],Ss(hs(g.v)))),l(h,0,g.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var O=`\r
`,j=h.join(O);return j}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),l6=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(g,y){for(var v=g.split(`
`),_=-1,w=-1,E=0,O=[];E!==v.length;++E){var j=v[E].trim().split(":");if(j[0]==="cell"){var z=Tn(j[1]);if(O.length<=z.r)for(_=O.length;_<=z.r;++_)O[_]||(O[_]=[]);switch(_=z.r,w=z.c,j[2]){case"t":O[_][w]=t(j[3]);break;case"v":O[_][w]=+j[3];break;case"vtf":var L=j[j.length-1];case"vtc":switch(j[3]){case"nl":O[_][w]=!!+j[4];break;default:O[_][w]=+j[4];break}j[2]=="vtf"&&(O[_][w]=[O[_][w],L])}}}return y&&y.sheetRows&&(O=O.slice(0,y.sheetRows)),O}function n(g,y){return zu(r(g,y),y)}function s(g,y){return ac(n(g,y),y)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(g){if(!g||!g["!ref"])return"";for(var y=[],v=[],_,w="",E=Gs(g["!ref"]),O=Array.isArray(g),j=E.s.r;j<=E.e.r;++j)for(var z=E.s.c;z<=E.e.c;++z)if(w=yr({r:j,c:z}),_=O?(g[j]||[])[z]:g[w],!(!_||_.v==null||_.t==="z")){switch(v=["cell",w,"t"],_.t){case"s":case"str":v.push(e(_.v));break;case"n":_.f?(v[2]="vtf",v[3]="n",v[4]=_.v,v[5]=e(_.f)):(v[2]="v",v[3]=_.v);break;case"b":v[2]="vt"+(_.f?"f":"c"),v[3]="nl",v[4]=_.v?"1":"0",v[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var L=Ss(hs(_.v));v[2]="vtc",v[3]="nd",v[4]=""+L,v[5]=_.w||Ko(_.z||Kr[14],L);break;case"e":continue}y.push(v.join(":"))}return y.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(g){return[a,l,u,l,h(g),d].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:p}})(),TG=(function(){function t(p,g,y,v,_){_.raw?g[y][v]=p:p===""||(p==="TRUE"?g[y][v]=!0:p==="FALSE"?g[y][v]=!1:isNaN(Mi(p))?isNaN(T0(p).getDate())?g[y][v]=p:g[y][v]=hs(p):g[y][v]=Mi(p))}function e(p,g){var y=g||{},v=[];if(!p||p.length===0)return v;for(var _=p.split(/[\r\n]/),w=_.length-1;w>=0&&_[w].length===0;)--w;for(var E=10,O=0,j=0;j<=w;++j)O=_[j].indexOf(" "),O==-1?O=_[j].length:O++,E=Math.max(E,O);for(j=0;j<=w;++j){v[j]=[];var z=0;for(t(_[j].slice(0,E).trim(),v,j,z,y),z=1;z<=(_[j].length-E)/10+1;++z)t(_[j].slice(E+(z-1)*10,E+z*10).trim(),v,j,z,y)}return y.sheetRows&&(v=v.slice(0,y.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(p){for(var g={},y=!1,v=0,_=0;v<p.length;++v)(_=p.charCodeAt(v))==34?y=!y:!y&&_ in r&&(g[_]=(g[_]||0)+1);_=[];for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&_.push([g[v],v]);if(!_.length){g=n;for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&_.push([g[v],v])}return _.sort(function(w,E){return w[0]-E[0]||n[w[1]]-n[E[1]]}),r[_.pop()[1]]||44}function a(p,g){var y=g||{},v="",_=y.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(v=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(v=p.charAt(4),p=p.slice(6)):v=s(p.slice(0,1024)):y&&y.FS?v=y.FS:v=s(p.slice(0,1024));var E=0,O=0,j=0,z=0,L=0,Y=v.charCodeAt(0),H=!1,S=0,A=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var I=y.dateNF!=null?$H(y.dateNF):null;function P(){var M=p.slice(z,L),R={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)R.t="z";else if(y.raw)R.t="s",R.v=M;else if(M.trim().length===0)R.t="s",R.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(R.t="s",R.v=M.slice(2,-1).replace(/""/g,'"')):_q(M)?(R.t="n",R.f=M.slice(1)):(R.t="s",R.v=M);else if(M=="TRUE")R.t="b",R.v=!0;else if(M=="FALSE")R.t="b",R.v=!1;else if(!isNaN(j=Mi(M)))R.t="n",y.cellText!==!1&&(R.w=M),R.v=j;else if(!isNaN(T0(M).getDate())||I&&M.match(I)){R.z=y.dateNF||Kr[14];var F=0;I&&M.match(I)&&(M=BH(M,y.dateNF,M.match(I)||[]),F=1),y.cellDates?(R.t="d",R.v=hs(M,F)):(R.t="n",R.v=Ss(hs(M,F))),y.cellText!==!1&&(R.w=Ko(R.z,R.v instanceof Date?Ss(R.v):R.v)),y.cellNF||delete R.z}else R.t="s",R.v=M;if(R.t=="z"||(y.dense?(_[E]||(_[E]=[]),_[E][O]=R):_[yr({c:O,r:E})]=R),z=L+1,A=p.charCodeAt(z),w.e.c<O&&(w.e.c=O),w.e.r<E&&(w.e.r=E),S==Y)++O;else if(O=0,++E,y.sheetRows&&y.sheetRows<=E)return!0}e:for(;L<p.length;++L)switch(S=p.charCodeAt(L)){case 34:A===34&&(H=!H);break;case Y:case 10:case 13:if(!H&&P())break e;break}return L-z>0&&P(),_["!ref"]=an(w),_}function l(p,g){return!(g&&g.PRN)||g.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?a(p,g):zu(e(p,g),g)}function u(p,g){var y="",v=g.type=="string"?[0,0,0,0]:FQ(p,g);switch(g.type){case"base64":y=qi(p);break;case"binary":y=p;break;case"buffer":g.codepage==65001?y=p.toString("utf8"):g.codepage&&typeof Fp<"u"||(y=ur&&Buffer.isBuffer(p)?p.toString("binary"):eh(p));break;case"array":y=Mm(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+g.type)}return v[0]==239&&v[1]==187&&v[2]==191?y=Xd(y.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?y=Xd(y):g.type=="binary"&&typeof Fp<"u",y.slice(0,19)=="socialcalc:version:"?l6.to_sheet(g.type=="string"?y:Xd(y),g):l(y,g)}function d(p,g){return ac(u(p,g),g)}function h(p){for(var g=[],y=Ir(p["!ref"]),v,_=Array.isArray(p),w=y.s.r;w<=y.e.r;++w){for(var E=[],O=y.s.c;O<=y.e.c;++O){var j=yr({r:w,c:O});if(v=_?(p[w]||[])[O]:p[j],!v||v.v==null){E.push("          ");continue}for(var z=(v.w||(Ki(v),v.w)||"").slice(0,10);z.length<10;)z+=" ";E.push(z+(O===0?" ":""))}g.push(E.join(""))}return g.join(`
`)}return{to_workbook:d,to_sheet:u,from_sheet:h}})(),MT=(function(){function t(U,re,ne){if(U){Ls(U,U.l||0);for(var ae=ne.Enum||xe;U.l<U.length;){var J=U.read_shift(2),De=ae[J]||ae[65535],Ve=U.read_shift(2),Ce=U.l+Ve,Me=De.f&&De.f(U,Ve,ne);if(U.l=Ce,re(Me,De,J))return}}}function e(U,re){switch(re.type){case"base64":return r(ka(qi(U)),re);case"binary":return r(ka(U),re);case"buffer":case"array":return r(U,re)}throw"Unsupported type "+re.type}function r(U,re){if(!U)return U;var ne=re||{},ae=ne.dense?[]:{},J="Sheet1",De="",Ve=0,Ce={},Me=[],nt=[],mt={s:{r:0,c:0},e:{r:0,c:0}},Wt=ne.sheetRows||0;if(U[2]==0&&(U[3]==8||U[3]==9)&&U.length>=16&&U[14]==5&&U[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(U[2]==2)ne.Enum=xe,t(U,function(Re,dr,Mt){switch(Mt){case 0:ne.vers=Re,Re>=4096&&(ne.qpro=!0);break;case 6:mt=Re;break;case 204:Re&&(De=Re);break;case 222:De=Re;break;case 15:case 51:ne.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:Mt==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=ne.dateNF||Kr[14],ne.cellDates&&(Re[1].t="d",Re[1].v=N5(Re[1].v))),ne.qpro&&Re[3]>Ve&&(ae["!ref"]=an(mt),Ce[J]=ae,Me.push(J),ae=ne.dense?[]:{},mt={s:{r:0,c:0},e:{r:0,c:0}},Ve=Re[3],J=De||"Sheet"+(Ve+1),De="");var He=ne.dense?(ae[Re[0].r]||[])[Re[0].c]:ae[yr(Re[0])];if(He){He.t=Re[1].t,He.v=Re[1].v,Re[1].z!=null&&(He.z=Re[1].z),Re[1].f!=null&&(He.f=Re[1].f);break}ne.dense?(ae[Re[0].r]||(ae[Re[0].r]=[]),ae[Re[0].r][Re[0].c]=Re[1]):ae[yr(Re[0])]=Re[1];break}},ne);else if(U[2]==26||U[2]==14)ne.Enum=se,U[2]==14&&(ne.qpro=!0,U.l=0),t(U,function(Re,dr,Mt){switch(Mt){case 204:J=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>Ve&&(ae["!ref"]=an(mt),Ce[J]=ae,Me.push(J),ae=ne.dense?[]:{},mt={s:{r:0,c:0},e:{r:0,c:0}},Ve=Re[3],J="Sheet"+(Ve+1)),Wt>0&&Re[0].r>=Wt)break;ne.dense?(ae[Re[0].r]||(ae[Re[0].r]=[]),ae[Re[0].r][Re[0].c]=Re[1]):ae[yr(Re[0])]=Re[1],mt.e.c<Re[0].c&&(mt.e.c=Re[0].c),mt.e.r<Re[0].r&&(mt.e.r=Re[0].r);break;case 27:Re[14e3]&&(nt[Re[14e3][0]]=Re[14e3][1]);break;case 1537:nt[Re[0]]=Re[1],Re[0]==Ve&&(J=Re[1]);break}},ne);else throw new Error("Unrecognized LOTUS BOF "+U[2]);if(ae["!ref"]=an(mt),Ce[De||J]=ae,Me.push(De||J),!nt.length)return{SheetNames:Me,Sheets:Ce};for(var vt={},rr=[],Dt=0;Dt<nt.length;++Dt)Ce[Me[Dt]]?(rr.push(nt[Dt]||Me[Dt]),vt[nt[Dt]]=Ce[nt[Dt]]||Ce[Me[Dt]]):(rr.push(nt[Dt]),vt[nt[Dt]]={"!ref":"A1"});return{SheetNames:rr,Sheets:vt}}function n(U,re){var ne=re||{};if(+ne.codepage>=0&&_0(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK1 to JS string");var ae=As(),J=Ir(U["!ref"]),De=Array.isArray(U),Ve=[];tt(ae,0,a(1030)),tt(ae,6,d(J));for(var Ce=Math.min(J.e.r,8191),Me=J.s.r;Me<=Ce;++Me)for(var nt=$n(Me),mt=J.s.c;mt<=J.e.c;++mt){Me===J.s.r&&(Ve[mt]=es(mt));var Wt=Ve[mt]+nt,vt=De?(U[Me]||[])[mt]:U[Wt];if(!(!vt||vt.t=="z"))if(vt.t=="n")(vt.v|0)==vt.v&&vt.v>=-32768&&vt.v<=32767?tt(ae,13,v(Me,mt,vt.v)):tt(ae,14,w(Me,mt,vt.v));else{var rr=Ki(vt);tt(ae,15,g(Me,mt,rr.slice(0,239)))}}return tt(ae,1),ae.end()}function s(U,re){var ne=re||{};if(+ne.codepage>=0&&_0(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK3 to JS string");var ae=As();tt(ae,0,l(U));for(var J=0,De=0;J<U.SheetNames.length;++J)(U.Sheets[U.SheetNames[J]]||{})["!ref"]&&tt(ae,27,oe(U.SheetNames[J],De++));var Ve=0;for(J=0;J<U.SheetNames.length;++J){var Ce=U.Sheets[U.SheetNames[J]];if(!(!Ce||!Ce["!ref"])){for(var Me=Ir(Ce["!ref"]),nt=Array.isArray(Ce),mt=[],Wt=Math.min(Me.e.r,8191),vt=Me.s.r;vt<=Wt;++vt)for(var rr=$n(vt),Dt=Me.s.c;Dt<=Me.e.c;++Dt){vt===Me.s.r&&(mt[Dt]=es(Dt));var Re=mt[Dt]+rr,dr=nt?(Ce[vt]||[])[Dt]:Ce[Re];if(!(!dr||dr.t=="z"))if(dr.t=="n")tt(ae,23,P(vt,Dt,Ve,dr.v));else{var Mt=Ki(dr);tt(ae,22,S(vt,Dt,Ve,Mt.slice(0,239)))}}++Ve}}return tt(ae,1),ae.end()}function a(U){var re=Se(2);return re.write_shift(2,U),re}function l(U){var re=Se(26);re.write_shift(2,4096),re.write_shift(2,4),re.write_shift(4,0);for(var ne=0,ae=0,J=0,De=0;De<U.SheetNames.length;++De){var Ve=U.SheetNames[De],Ce=U.Sheets[Ve];if(!(!Ce||!Ce["!ref"])){++J;var Me=Gs(Ce["!ref"]);ne<Me.e.r&&(ne=Me.e.r),ae<Me.e.c&&(ae=Me.e.c)}}return ne>8191&&(ne=8191),re.write_shift(2,ne),re.write_shift(1,J),re.write_shift(1,ae),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(1,1),re.write_shift(1,2),re.write_shift(4,0),re.write_shift(4,0),re}function u(U,re,ne){var ae={s:{c:0,r:0},e:{c:0,r:0}};return re==8&&ne.qpro?(ae.s.c=U.read_shift(1),U.l++,ae.s.r=U.read_shift(2),ae.e.c=U.read_shift(1),U.l++,ae.e.r=U.read_shift(2),ae):(ae.s.c=U.read_shift(2),ae.s.r=U.read_shift(2),re==12&&ne.qpro&&(U.l+=2),ae.e.c=U.read_shift(2),ae.e.r=U.read_shift(2),re==12&&ne.qpro&&(U.l+=2),ae.s.c==65535&&(ae.s.c=ae.e.c=ae.s.r=ae.e.r=0),ae)}function d(U){var re=Se(8);return re.write_shift(2,U.s.c),re.write_shift(2,U.s.r),re.write_shift(2,U.e.c),re.write_shift(2,U.e.r),re}function h(U,re,ne){var ae=[{c:0,r:0},{t:"n",v:0},0,0];return ne.qpro&&ne.vers!=20768?(ae[0].c=U.read_shift(1),ae[3]=U.read_shift(1),ae[0].r=U.read_shift(2),U.l+=2):(ae[2]=U.read_shift(1),ae[0].c=U.read_shift(2),ae[0].r=U.read_shift(2)),ae}function p(U,re,ne){var ae=U.l+re,J=h(U,re,ne);if(J[1].t="s",ne.vers==20768){U.l++;var De=U.read_shift(1);return J[1].v=U.read_shift(De,"utf8"),J}return ne.qpro&&U.l++,J[1].v=U.read_shift(ae-U.l,"cstr"),J}function g(U,re,ne){var ae=Se(7+ne.length);ae.write_shift(1,255),ae.write_shift(2,re),ae.write_shift(2,U),ae.write_shift(1,39);for(var J=0;J<ae.length;++J){var De=ne.charCodeAt(J);ae.write_shift(1,De>=128?95:De)}return ae.write_shift(1,0),ae}function y(U,re,ne){var ae=h(U,re,ne);return ae[1].v=U.read_shift(2,"i"),ae}function v(U,re,ne){var ae=Se(7);return ae.write_shift(1,255),ae.write_shift(2,re),ae.write_shift(2,U),ae.write_shift(2,ne,"i"),ae}function _(U,re,ne){var ae=h(U,re,ne);return ae[1].v=U.read_shift(8,"f"),ae}function w(U,re,ne){var ae=Se(13);return ae.write_shift(1,255),ae.write_shift(2,re),ae.write_shift(2,U),ae.write_shift(8,ne,"f"),ae}function E(U,re,ne){var ae=U.l+re,J=h(U,re,ne);if(J[1].v=U.read_shift(8,"f"),ne.qpro)U.l=ae;else{var De=U.read_shift(2);L(U.slice(U.l,U.l+De),J),U.l+=De}return J}function O(U,re,ne){var ae=re&32768;return re&=-32769,re=(ae?U:0)+(re>=8192?re-16384:re),(ae?"":"$")+(ne?es(re):$n(re))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},z=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(U,re){Ls(U,0);for(var ne=[],ae=0,J="",De="",Ve="",Ce="";U.l<U.length;){var Me=U[U.l++];switch(Me){case 0:ne.push(U.read_shift(8,"f"));break;case 1:De=O(re[0].c,U.read_shift(2),!0),J=O(re[0].r,U.read_shift(2),!1),ne.push(De+J);break;case 2:{var nt=O(re[0].c,U.read_shift(2),!0),mt=O(re[0].r,U.read_shift(2),!1);De=O(re[0].c,U.read_shift(2),!0),J=O(re[0].r,U.read_shift(2),!1),ne.push(nt+mt+":"+De+J)}break;case 3:if(U.l<U.length){console.error("WK1 premature formula end");return}break;case 4:ne.push("("+ne.pop()+")");break;case 5:ne.push(U.read_shift(2));break;case 6:{for(var Wt="";Me=U[U.l++];)Wt+=String.fromCharCode(Me);ne.push('"'+Wt.replace(/"/g,'""')+'"')}break;case 8:ne.push("-"+ne.pop());break;case 23:ne.push("+"+ne.pop());break;case 22:ne.push("NOT("+ne.pop()+")");break;case 20:case 21:Ce=ne.pop(),Ve=ne.pop(),ne.push(["AND","OR"][Me-20]+"("+Ve+","+Ce+")");break;default:if(Me<32&&z[Me])Ce=ne.pop(),Ve=ne.pop(),ne.push(Ve+z[Me]+Ce);else if(j[Me]){if(ae=j[Me][1],ae==69&&(ae=U[U.l++]),ae>ne.length){console.error("WK1 bad formula parse 0x"+Me.toString(16)+":|"+ne.join("|")+"|");return}var vt=ne.slice(-ae);ne.length-=ae,ne.push(j[Me][0]+"("+vt.join(",")+")")}else return Me<=7?console.error("WK1 invalid opcode "+Me.toString(16)):Me<=24?console.error("WK1 unsupported op "+Me.toString(16)):Me<=30?console.error("WK1 invalid opcode "+Me.toString(16)):Me<=115?console.error("WK1 unsupported function opcode "+Me.toString(16)):console.error("WK1 unrecognized opcode "+Me.toString(16))}}ne.length==1?re[1].f=""+ne[0]:console.error("WK1 bad formula parse |"+ne.join("|")+"|")}function Y(U){var re=[{c:0,r:0},{t:"n",v:0},0];return re[0].r=U.read_shift(2),re[3]=U[U.l++],re[0].c=U[U.l++],re}function H(U,re){var ne=Y(U);return ne[1].t="s",ne[1].v=U.read_shift(re-4,"cstr"),ne}function S(U,re,ne,ae){var J=Se(6+ae.length);J.write_shift(2,U),J.write_shift(1,ne),J.write_shift(1,re),J.write_shift(1,39);for(var De=0;De<ae.length;++De){var Ve=ae.charCodeAt(De);J.write_shift(1,Ve>=128?95:Ve)}return J.write_shift(1,0),J}function A(U,re){var ne=Y(U);ne[1].v=U.read_shift(2);var ae=ne[1].v>>1;if(ne[1].v&1)switch(ae&7){case 0:ae=(ae>>3)*5e3;break;case 1:ae=(ae>>3)*500;break;case 2:ae=(ae>>3)/20;break;case 3:ae=(ae>>3)/200;break;case 4:ae=(ae>>3)/2e3;break;case 5:ae=(ae>>3)/2e4;break;case 6:ae=(ae>>3)/16;break;case 7:ae=(ae>>3)/64;break}return ne[1].v=ae,ne}function I(U,re){var ne=Y(U),ae=U.read_shift(4),J=U.read_shift(4),De=U.read_shift(2);if(De==65535)return ae===0&&J===3221225472?(ne[1].t="e",ne[1].v=15):ae===0&&J===3489660928?(ne[1].t="e",ne[1].v=42):ne[1].v=0,ne;var Ve=De&32768;return De=(De&32767)-16446,ne[1].v=(1-Ve*2)*(J*Math.pow(2,De+32)+ae*Math.pow(2,De)),ne}function P(U,re,ne,ae){var J=Se(14);if(J.write_shift(2,U),J.write_shift(1,ne),J.write_shift(1,re),ae==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var De=0,Ve=0,Ce=0,Me=0;return ae<0&&(De=1,ae=-ae),Ve=Math.log2(ae)|0,ae/=Math.pow(2,Ve-31),Me=ae>>>0,(Me&2147483648)==0&&(ae/=2,++Ve,Me=ae>>>0),ae-=Me,Me|=2147483648,Me>>>=0,ae*=Math.pow(2,32),Ce=ae>>>0,J.write_shift(4,Ce),J.write_shift(4,Me),Ve+=16383+(De?32768:0),J.write_shift(2,Ve),J}function M(U,re){var ne=I(U);return U.l+=re-14,ne}function R(U,re){var ne=Y(U),ae=U.read_shift(4);return ne[1].v=ae>>6,ne}function F(U,re){var ne=Y(U),ae=U.read_shift(8,"f");return ne[1].v=ae,ne}function me(U,re){var ne=F(U);return U.l+=re-10,ne}function Te(U,re){return U[U.l+re-1]==0?U.read_shift(re,"cstr"):""}function je(U,re){var ne=U[U.l++];ne>re-1&&(ne=re-1);for(var ae="";ae.length<ne;)ae+=String.fromCharCode(U[U.l++]);return ae}function Ie(U,re,ne){if(!(!ne.qpro||re<21)){var ae=U.read_shift(1);U.l+=17,U.l+=1,U.l+=2;var J=U.read_shift(re-21,"cstr");return[ae,J]}}function _e(U,re){for(var ne={},ae=U.l+re;U.l<ae;){var J=U.read_shift(2);if(J==14e3){for(ne[J]=[0,""],ne[J][0]=U.read_shift(2);U[U.l];)ne[J][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return ne}function oe(U,re){var ne=Se(5+U.length);ne.write_shift(2,14e3),ne.write_shift(2,re);for(var ae=0;ae<U.length;++ae){var J=U.charCodeAt(ae);ne[ne.l++]=J>127?95:J}return ne[ne.l++]=0,ne}var xe={0:{n:"BOF",f:n6},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Te},222:{n:"SHEETNAMELP",f:je},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:H},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:_e},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:me},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Te},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ie},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}})(),NG=/^\s|\s$|[\t\n\r]/;function c6(t,e){if(!e.bookSST)return"";var r=[on];r[r.length]=et("sst",null,{xmlns:Uu[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var s=t[n],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(NG)&&(a+=' xml:space="preserve"'),a+=">"+xr(s.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function kG(t){return[t.read_shift(4),t.read_shift(4)]}function AG(t,e){return e||(e=Se(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var SG=yW;function CG(t){var e=As();Ue(e,159,AG(t));for(var r=0;r<t.length;++r)Ue(e,19,SG(t[r]));return Ue(e,160),e.end()}function jG(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function u6(t){var e=0,r,n=jG(t),s=n.length+1,a,l,u,d,h;for(r=Hl(s),r[0]=n.length,a=1;a!=s;++a)r[a]=n[a-1];for(a=s-1;a>=0;--a)l=r[a],u=(e&16384)===0?0:1,d=e<<1&32767,h=u|d,e=h^l;return e^52811}var IG=(function(){function t(s,a){switch(a.type){case"base64":return e(qi(s),a);case"binary":return e(s,a);case"buffer":return e(ur&&Buffer.isBuffer(s)?s.toString("binary"):eh(s),a);case"array":return e(Mm(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){var l=a||{},u=l.dense?[]:{},d=s.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,g){Array.isArray(u)&&(u[g]=[]);for(var y=/\\\w+\b/g,v=0,_,w=-1;_=y.exec(p);){switch(_[0]){case"\\cell":var E=p.slice(v,y.lastIndex-_[0].length);if(E[0]==" "&&(E=E.slice(1)),++w,E.length){var O={v:E,t:"s"};Array.isArray(u)?u[g][w]=O:u[yr({r:g,c:w})]=O}break}v=y.lastIndex}w>h.e.c&&(h.e.c=w)}),u["!ref"]=an(h),u}function r(s,a){return ac(t(s,a),a)}function n(s){for(var a=["{\\rtf1\\ansi"],l=Ir(s["!ref"]),u,d=Array.isArray(s),h=l.s.r;h<=l.e.r;++h){a.push("\\trowd\\trautofit1");for(var p=l.s.c;p<=l.e.c;++p)a.push("\\cellx"+(p+1));for(a.push("\\pard\\intbl"),p=l.s.c;p<=l.e.c;++p){var g=yr({r:h,c:p});u=d?(s[h]||[])[p]:s[g],!(!u||u.v==null&&(!u.f||u.F))&&(a.push(" "+(u.w||(Ki(u),u.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function VT(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var PG=6,Vi=PG;function Wp(t){return Math.floor((t+Math.round(128/Vi)/256)*Vi)}function Gp(t){return Math.floor((t-5)/Vi*100+.5)/100}function nv(t){return Math.round((t*Vi+5)/Vi*256)/256}function Eb(t){t.width?(t.wpx=Wp(t.width),t.wch=Gp(t.wpx),t.MDW=Vi):t.wpx?(t.wch=Gp(t.wpx),t.width=nv(t.wch),t.MDW=Vi):typeof t.wch=="number"&&(t.width=nv(t.wch),t.wpx=Wp(t.width),t.MDW=Vi),t.customWidth&&delete t.customWidth}var RG=96,d6=RG;function qp(t){return t*96/d6}function h6(t){return t*d6/96}function DG(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=et("numFmt",null,{numFmtId:n,formatCode:xr(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=et("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function OG(t){var e=[];return e[e.length]=et("cellXfs",null),t.forEach(function(r){e[e.length]=et("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=et("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function f6(t,e){var r=[on,et("styleSheet",null,{xmlns:Uu[0],"xmlns:vt":En.vt})],n;return t.SSF&&(n=DG(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=OG(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function FG(t,e){var r=t.read_shift(2),n=ts(t);return[r,n]}function LG(t,e,r){r||(r=Se(6+4*e.length)),r.write_shift(2,t),Nn(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function MG(t,e,r){var n={};n.sz=t.read_shift(2)/20;var s=NW(t);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(n.underline=l);var u=t.read_shift(1);u>0&&(n.family=u);var d=t.read_shift(1);switch(d>0&&(n.charset=d),t.l++,n.color=TW(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ts(t),n}function VG(t,e){e||(e=Se(153)),e.write_shift(2,t.sz*20),kW(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),zp(t.color,e);var n=0;return n=2,e.write_shift(1,n),Nn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var $G=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ey,BG=fi;function $T(t,e){e||(e=Se(84)),ey||(ey=db($G));var r=ey[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(zp({auto:1},e),zp({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function UG(t,e){var r=t.l+e,n=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:s}}function p6(t,e,r){r||(r=Se(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function kd(t,e){return e||(e=Se(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var zG=fi;function HG(t,e){return e||(e=Se(51)),e.write_shift(1,0),kd(null,e),kd(null,e),kd(null,e),kd(null,e),kd(null,e),e.length>e.l?e.slice(0,e.l):e}function WG(t,e){return e||(e=Se(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Up(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function GG(t,e,r){var n=Se(2052);return n.write_shift(4,t),Up(e,n),Up(r,n),n.length>n.l?n.slice(0,n.l):n}function qG(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&++r}),r!=0&&(Ue(t,615,Ia(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&Ue(t,44,LG(s,e[s]))}),Ue(t,616))}}function KG(t){var e=1;Ue(t,611,Ia(e)),Ue(t,43,VG({sz:12,color:{theme:1},name:"Calibri",family:2})),Ue(t,612)}function YG(t){var e=2;Ue(t,603,Ia(e)),Ue(t,45,$T({patternType:"none"})),Ue(t,45,$T({patternType:"gray125"})),Ue(t,604)}function XG(t){var e=1;Ue(t,613,Ia(e)),Ue(t,46,HG()),Ue(t,614)}function QG(t){var e=1;Ue(t,626,Ia(e)),Ue(t,47,p6({numFmtId:0},65535)),Ue(t,627)}function JG(t,e){Ue(t,617,Ia(e.length)),e.forEach(function(r){Ue(t,47,p6(r,0))}),Ue(t,618)}function ZG(t){var e=1;Ue(t,619,Ia(e)),Ue(t,48,WG({xfId:0,name:"Normal"})),Ue(t,620)}function eq(t){var e=0;Ue(t,505,Ia(e)),Ue(t,506)}function tq(t){var e=0;Ue(t,508,GG(e,"TableStyleMedium9","PivotStyleMedium4")),Ue(t,509)}function rq(t,e){var r=As();return Ue(r,278),qG(r,t.SSF),KG(r),YG(r),XG(r),QG(r),JG(r,e.cellXfs),ZG(r),eq(r),tq(r),Ue(r,279),r.end()}function m6(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[on];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function nq(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ts(t)}}function sq(t){var e=Se(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Nn(t.name,e),e.slice(0,e.l)}function aq(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function iq(t){var e=Se(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function oq(t,e){var r=Se(8+2*e.length);return r.write_shift(4,t),Nn(e,r),r.slice(0,r.l)}function lq(t){return t.l+=4,t.read_shift(4)!=0}function cq(t,e){var r=Se(8);return r.write_shift(4,t),r.write_shift(4,1),r}function uq(){var t=As();return Ue(t,332),Ue(t,334,Ia(1)),Ue(t,335,sq({name:"XLDAPR",version:12e4,flags:3496657072})),Ue(t,336),Ue(t,339,oq(1,"XLDAPR")),Ue(t,52),Ue(t,35,Ia(514)),Ue(t,4096,Ia(0)),Ue(t,4097,sa(1)),Ue(t,36),Ue(t,53),Ue(t,340),Ue(t,337,cq(1)),Ue(t,51,iq([[1,0]])),Ue(t,338),Ue(t,333),t.end()}function g6(){var t=[on];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function dq(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=yr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var au=1024;function x6(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[et("xml",null,{"xmlns:v":Ms.v,"xmlns:o":Ms.o,"xmlns:x":Ms.x,"xmlns:mv":Ms.mv}).replace(/\/>/,">"),et("o:shapelayout",et("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),et("v:shapetype",[et("v:stroke",null,{joinstyle:"miter"}),et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];au<t*1e3;)au+=1e3;return e.forEach(function(a){var l=Tn(a[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var d=u.type=="gradient"?et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=et("v:fill",d,u),p={on:"t",obscured:"t"};++au,s=s.concat(["<v:shape"+k0({id:"_x0000_s"+au,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,et("v:shadow",null,p),et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Mn("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),Mn("x:AutoFill","False"),Mn("x:Row",String(l.r)),Mn("x:Column",String(l.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function y6(t){var e=[on,et("comments",null,{xmlns:Uu[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(s){var a=xr(s.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var s=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(s=r.indexOf(xr(d.a))),a.push(d.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),a.length<=1)e.push(Mn("t",xr(a[0]||"")));else{for(var l=`Comment:
    `+a[0]+`
`,u=1;u<a.length;++u)l+=`Reply:
    `+a[u]+`
`;e.push(Mn("t",xr(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function hq(t,e,r){var n=[on,et("ThreadedComments",null,{xmlns:En.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var a="";(s[1]||[]).forEach(function(l,u){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var d={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};u==0?a=d.id:d.parentId=a,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),n.push(et("threadedComment",Mn("text",l.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function fq(t){var e=[on,et("personList",null,{xmlns:En.TCMNT,"xmlns:x":Uu[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(et("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function pq(t){var e={};e.iauthor=t.read_shift(4);var r=cc(t);return e.rfx=r.s,e.ref=yr(r.s),t.l+=16,e}function mq(t,e){return e==null&&(e=Se(36)),e.write_shift(4,t[1].iauthor),Hu(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var gq=ts;function xq(t){return Nn(t.slice(0,54))}function yq(t){var e=As(),r=[];return Ue(e,628),Ue(e,630),t.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Ue(e,632,xq(s.a)))})}),Ue(e,631),Ue(e,633),t.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var a={s:Tn(n[0]),e:Tn(n[0])};Ue(e,635,mq([a,s])),s.t&&s.t.length>0&&Ue(e,637,bW(s)),Ue(e,636),delete s.iauthor})}),Ue(e,634),Ue(e,629),e.end()}function vq(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&vr.utils.cfb_add(t,s,e.FileIndex[n].content)}})}var v6=["xlsb","xlsm","xlam","biff8","xla"],bq=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,s,a,l){var u=!1,d=!1;a.length==0?d=!0:a.charAt(0)=="["&&(d=!0,a=a.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var h=a.length>0?parseInt(a,10)|0:0,p=l.length>0?parseInt(l,10)|0:0;return u?p+=e.c:--p,d?h+=e.r:--h,s+(u?"":"$")+es(p)+(d?"":"$")+$n(h)}return function(s,a){return e=a,s.replace(t,r)}})(),Tb=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Nb=(function(){return function(e,r){return e.replace(Tb,function(n,s,a,l,u,d){var h=yb(l)-(a?0:r.c),p=xb(d)-(u?0:r.r),g=p==0?"":u?p+1:"["+p+"]",y=h==0?"":a?h+1:"["+h+"]";return s+"R"+g+"C"+y})}})();function wq(t,e){return t.replace(Tb,function(r,n,s,a,l,u){return n+(s=="$"?s+a:es(yb(a)+e.c))+(l=="$"?l+u:$n(xb(u)+e.r))})}function _q(t){return t.length!=1}function rn(t){t.l+=1}function Yo(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function b6(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return w6(t);r.biff==12&&(n=4)}var s=t.read_shift(n),a=t.read_shift(n),l=Yo(t),u=Yo(t);return{s:{r:s,c:l[0],cRel:l[1],rRel:l[2]},e:{r:a,c:u[0],cRel:u[1],rRel:u[2]}}}function w6(t){var e=Yo(t),r=Yo(t),n=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function Eq(t,e,r){if(r.biff<8)return w6(t);var n=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),a=Yo(t),l=Yo(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function _6(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return Tq(t);var n=t.read_shift(r&&r.biff==12?4:2),s=Yo(t);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function Tq(t){var e=Yo(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function Nq(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function kq(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Aq(t);var s=t.read_shift(n>=12?4:2),a=t.read_shift(2),l=(a&16384)>>14,u=(a&32768)>>15;if(a&=16383,u==1)for(;s>524287;)s-=1048576;if(l==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:l,rRel:u}}function Aq(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:n}}function Sq(t,e,r){var n=(t[t.l++]&96)>>5,s=b6(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function Cq(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var l=b6(t,a,r);return[n,s,l]}function jq(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Iq(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,s]}function Pq(t,e,r){var n=(t[t.l++]&96)>>5,s=Eq(t,e-1,r);return[n,s]}function Rq(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function BT(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function Dq(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),s=[],a=0;a<=n;++a)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function Oq(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Fq(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Lq(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Mq(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function E6(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Vq(t){return t.read_shift(2),E6(t)}function $q(t){return t.read_shift(2),E6(t)}function Bq(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=_6(t,0,r);return[n,s]}function Uq(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=kq(t,0,r);return[n,s]}function zq(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=_6(t,0,r);return[n,s,a]}function Hq(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[HK[s],k6[s],n]}function Wq(t,e,r){var n=t[t.l++],s=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:Gq(t);return[s,(a[0]===0?k6:zK)[a[1]]]}function Gq(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function qq(t,e,r){t.l+=r&&r.biff==2?3:4}function Kq(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function Yq(t){return t.l++,nh[t.read_shift(1)]}function Xq(t){return t.l++,t.read_shift(2)}function Qq(t){return t.l++,t.read_shift(1)!==0}function Jq(t){return t.l++,Wu(t)}function Zq(t,e,r){return t.l++,a6(t,e-1,r)}function eK(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=zW(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=nh[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Wu(t);break;case 2:r[1]=qW(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function tK(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),s=[],a=0;a!=n;++a)s.push((r.biff==12?cc:XW)(t));return s}function rK(t,e,r){var n=0,s=0;r.biff==12?(n=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var a=0,l=[];a!=n&&(l[a]=[]);++a)for(var u=0;u!=s;++u)l[a][u]=eK(t,r.biff);return l}function nK(t,e,r){var n=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,a=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function sK(t,e,r){if(r.biff==5)return aK(t);var n=t.read_shift(1)>>>5&3,s=t.read_shift(2),a=t.read_shift(4);return[n,s,a]}function aK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function iK(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function oK(t,e,r){var n=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function lK(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function cK(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,s]}var uK=fi,dK=fi,hK=fi;function sh(t,e,r){return t.l+=2,[Nq(t)]}function kb(t){return t.l+=6,[]}var fK=sh,pK=kb,mK=kb,gK=sh;function T6(t){return t.l+=2,[n6(t),t.read_shift(2)&1]}var xK=sh,yK=T6,vK=kb,bK=sh,wK=sh,_K=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function EK(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s=t.read_shift(2),a=t.read_shift(2),l=_K[r>>2&31];return{ixti:e,coltype:r&3,rt:l,idx:n,c:s,C:a}}function TK(t){return t.l+=2,[t.read_shift(4)]}function NK(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function kK(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function AK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function SK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function CK(t){return t.l+=4,[0,0]}var UT={1:{n:"PtgExp",f:Kq},2:{n:"PtgTbl",f:hK},3:{n:"PtgAdd",f:rn},4:{n:"PtgSub",f:rn},5:{n:"PtgMul",f:rn},6:{n:"PtgDiv",f:rn},7:{n:"PtgPower",f:rn},8:{n:"PtgConcat",f:rn},9:{n:"PtgLt",f:rn},10:{n:"PtgLe",f:rn},11:{n:"PtgEq",f:rn},12:{n:"PtgGe",f:rn},13:{n:"PtgGt",f:rn},14:{n:"PtgNe",f:rn},15:{n:"PtgIsect",f:rn},16:{n:"PtgUnion",f:rn},17:{n:"PtgRange",f:rn},18:{n:"PtgUplus",f:rn},19:{n:"PtgUminus",f:rn},20:{n:"PtgPercent",f:rn},21:{n:"PtgParen",f:rn},22:{n:"PtgMissArg",f:rn},23:{n:"PtgStr",f:Zq},26:{n:"PtgSheet",f:NK},27:{n:"PtgEndSheet",f:kK},28:{n:"PtgErr",f:Yq},29:{n:"PtgBool",f:Qq},30:{n:"PtgInt",f:Xq},31:{n:"PtgNum",f:Jq},32:{n:"PtgArray",f:Rq},33:{n:"PtgFunc",f:Hq},34:{n:"PtgFuncVar",f:Wq},35:{n:"PtgName",f:nK},36:{n:"PtgRef",f:Bq},37:{n:"PtgArea",f:Sq},38:{n:"PtgMemArea",f:iK},39:{n:"PtgMemErr",f:uK},40:{n:"PtgMemNoMem",f:dK},41:{n:"PtgMemFunc",f:oK},42:{n:"PtgRefErr",f:lK},43:{n:"PtgAreaErr",f:jq},44:{n:"PtgRefN",f:Uq},45:{n:"PtgAreaN",f:Pq},46:{n:"PtgMemAreaN",f:AK},47:{n:"PtgMemNoMemN",f:SK},57:{n:"PtgNameX",f:sK},58:{n:"PtgRef3d",f:zq},59:{n:"PtgArea3d",f:Cq},60:{n:"PtgRefErr3d",f:cK},61:{n:"PtgAreaErr3d",f:Iq},255:{}},jK={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},IK={1:{n:"PtgElfLel",f:T6},2:{n:"PtgElfRw",f:bK},3:{n:"PtgElfCol",f:fK},6:{n:"PtgElfRwV",f:wK},7:{n:"PtgElfColV",f:gK},10:{n:"PtgElfRadical",f:xK},11:{n:"PtgElfRadicalS",f:vK},13:{n:"PtgElfColS",f:pK},15:{n:"PtgElfColSV",f:mK},16:{n:"PtgElfRadicalLel",f:yK},25:{n:"PtgList",f:EK},29:{n:"PtgSxName",f:TK},255:{}},PK={0:{n:"PtgAttrNoop",f:CK},1:{n:"PtgAttrSemi",f:Mq},2:{n:"PtgAttrIf",f:Fq},4:{n:"PtgAttrChoose",f:Dq},8:{n:"PtgAttrGoto",f:Oq},16:{n:"PtgAttrSum",f:qq},32:{n:"PtgAttrBaxcel",f:BT},33:{n:"PtgAttrBaxcel",f:BT},64:{n:"PtgAttrSpace",f:Vq},65:{n:"PtgAttrSpaceSemi",f:$q},128:{n:"PtgAttrIfError",f:Lq},255:{}};function RK(t,e,r,n){if(n.biff<8)return fi(t,e);for(var s=t.l+e,a=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=rK(t,0,n),a.push(r[l][1]);break;case"PtgMemArea":r[l][2]=tK(t,r[l][1],n),a.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=t.read_shift(4),a.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return e=s-t.l,e!==0&&a.push(fi(t,e)),a}function DK(t,e,r){for(var n=t.l+e,s,a,l=[];n!=t.l;)e=n-t.l,a=t[t.l],s=UT[a]||UT[jK[a]],(a===24||a===25)&&(s=(a===24?IK:PK)[t[t.l+1]]),!s||!s.f?fi(t,e):l.push([s.n,s.f(t,e,r)]);return l}function OK(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],s=[],a=0;a<n.length;++a){var l=n[a];if(l)switch(l[0]){case 2:s.push('"'+l[1].replace(/"/g,'""')+'"');break;default:s.push(l[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var FK={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function LK(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function N6(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[n[0]][0]){case 357:return s=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(s=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function zT(t,e,r){var n=N6(t,e,r);return n=="#REF"?n:LK(n,r)}function Cu(t,e,r,n,s){var a=s&&s.biff||8,l={s:{c:0,r:0}},u=[],d,h,p,g=0,y=0,v,_="";if(!t[0]||!t[0][0])return"";for(var w=-1,E="",O=0,j=t[0].length;O<j;++O){var z=t[0][O];switch(z[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=u.pop(),h=u.pop(),w>=0){switch(t[0][w][1][0]){case 0:E=Gr(" ",t[0][w][1][1]);break;case 1:E=Gr("\r",t[0][w][1][1]);break;default:if(E="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}h=h+E,w=-1}u.push(h+FK[z[0]]+d);break;case"PtgIsect":d=u.pop(),h=u.pop(),u.push(h+" "+d);break;case"PtgUnion":d=u.pop(),h=u.pop(),u.push(h+","+d);break;case"PtgRange":d=u.pop(),h=u.pop(),u.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Jd(z[1][1],l,s),u.push(Zd(p,a));break;case"PtgRefN":p=r?Jd(z[1][1],r,s):z[1][1],u.push(Zd(p,a));break;case"PtgRef3d":g=z[1][1],p=Jd(z[1][2],l,s),_=zT(n,g,s),u.push(_+"!"+Zd(p,a));break;case"PtgFunc":case"PtgFuncVar":var L=z[1][0],Y=z[1][1];L||(L=0),L&=127;var H=L==0?[]:u.slice(-L);u.length-=L,Y==="User"&&(Y=H.shift()),u.push(Y+"("+H.join(",")+")");break;case"PtgBool":u.push(z[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(z[1]);break;case"PtgNum":u.push(String(z[1]));break;case"PtgStr":u.push('"'+z[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(z[1]);break;case"PtgAreaN":v=AT(z[1][1],r?{s:r}:l,s),u.push(Jx(v,s));break;case"PtgArea":v=AT(z[1][1],l,s),u.push(Jx(v,s));break;case"PtgArea3d":g=z[1][1],v=z[1][2],_=zT(n,g,s),u.push(_+"!"+Jx(v,s));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=z[1][2];var S=(n.names||[])[y-1]||(n[0]||[])[y],A=S?S.Name:"SH33TJSNAME"+String(y);A&&A.slice(0,6)=="_xlfn."&&!s.xlfn&&(A=A.slice(6)),u.push(A);break;case"PtgNameX":var I=z[1][1];y=z[1][2];var P;if(s.biff<=5)I<0&&(I=-I),n[I]&&(P=n[I][y]);else{var M="";if(((n[I]||[])[0]||[])[0]==14849||(((n[I]||[])[0]||[])[0]==1025?n[I][y]&&n[I][y].itab>0&&(M=n.SheetNames[n[I][y].itab-1]+"!"):M=n.SheetNames[y-1]+"!"),n[I]&&n[I][y])M+=n[I][y].Name;else if(n[0]&&n[0][y])M+=n[0][y].Name;else{var R=(N6(n,I,s)||"").split(";;");R[y-1]?M=R[y-1]:M+="SH33TJSERRX"}u.push(M);break}P||(P={Name:"SH33TJSERRY"}),u.push(P.Name);break;case"PtgParen":var F="(",me=")";if(w>=0){switch(E="",t[0][w][1][0]){case 2:F=Gr(" ",t[0][w][1][1])+F;break;case 3:F=Gr("\r",t[0][w][1][1])+F;break;case 4:me=Gr(" ",t[0][w][1][1])+me;break;case 5:me=Gr("\r",t[0][w][1][1])+me;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}u.push(F+u.pop()+me);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":p={c:z[1][1],r:z[1][0]};var Te={c:r.c,r:r.r};if(n.sharedf[yr(p)]){var je=n.sharedf[yr(p)];u.push(Cu(je,l,Te,n,s))}else{var Ie=!1;for(d=0;d!=n.arrayf.length;++d)if(h=n.arrayf[d],!(p.c<h[0].s.c||p.c>h[0].e.c)&&!(p.r<h[0].s.r||p.r>h[0].e.r)){u.push(Cu(h[1],l,Te,n,s)),Ie=!0;break}Ie||u.push(z[1])}break;case"PtgArray":u.push("{"+OK(z[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=O;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+z[1].idx+"[#"+z[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(z));default:throw new Error("Unrecognized Formula Token: "+String(z))}var _e=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&w>=0&&_e.indexOf(t[0][O][0])==-1){z=t[0][w];var oe=!0;switch(z[1][0]){case 4:oe=!1;case 0:E=Gr(" ",z[1][1]);break;case 5:oe=!1;case 1:E=Gr("\r",z[1][1]);break;default:if(E="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+z[1][0])}u.push((oe?E:"")+u.pop()+(oe?"":E)),w=-1}}if(u.length>1&&s.WTF)throw new Error("bad formula stack");return u[0]}function MK(t){if(t==null){var e=Se(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Wl(t);return Wl(0)}function VK(t,e,r,n,s){var a=Gl(e,r,s),l=MK(t.v),u=Se(6),d=33;u.write_shift(2,d),u.write_shift(4,0);for(var h=Se(t.bf.length),p=0;p<t.bf.length;++p)h[p]=t.bf[p];var g=Ln([a,l,u,h]);return g}function Vm(t,e,r){var n=t.read_shift(4),s=DK(t,n,r),a=t.read_shift(4),l=a>0?RK(t,a,s,r):null;return[s,l]}var $K=Vm,$m=Vm,BK=Vm,UK=Vm,zK={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},k6={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},HK={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function WK(t){var e="of:="+t.replace(Tb,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function GK(t){return t.replace(/\./,"!")}var e0=typeof Map<"u";function Ab(t,e,r){var n=0,s=t.length;if(r){if(e0?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=e0?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<s;++n)if(t[n].t===e)return t.Count++,n;return t[s]={t:e},t.Count++,t.Unique++,r&&(e0?(r.has(e)||r.set(e,[]),r.get(e).push(s)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(s))),s}function Bm(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Vi=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Gp(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=nv(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function A6(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function nl(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],s=60,a=t.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){_5(e.z,s),r.ssf[s]=e.z,r.revssf[e.z]=n=s;break}}for(s=0;s!=a;++s)if(t[s].numFmtId===n)return s;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function qK(t,e,r){if(t&&t["!ref"]){var n=Ir(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function KK(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+an(t[r])+'"/>';return e+"</mergeCells>"}function YK(t,e,r,n,s){var a=!1,l={},u=null;if(n.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[r];try{e.Workbook&&(d=e.Workbook.Sheets[r].CodeName||d)}catch{}a=!0,l.codeName=N0(xr(d))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),u=(u||"")+et("outlinePr",null,h)}!a&&!u||(s[s.length]=et("sheetPr",u,l))}var XK=["objects","scenarios","selectLockedCells","selectUnlockedCells"],QK=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function JK(t){var e={sheet:1};return XK.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),QK.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=u6(t.password).toString(16).toUpperCase()),et("sheetProtection",null,e)}function ZK(t){return A6(t),et("pageMargins",null,t)}function eY(t,e){for(var r=["<cols>"],n,s=0;s!=e.length;++s)(n=e[s])&&(r[r.length]=et("col",null,Bm(s,n)));return r[r.length]="</cols>",r.join("")}function tY(t,e,r,n){var s=typeof t.ref=="string"?t.ref:an(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,l=Gs(s);l.s.r==l.e.r&&(l.e.r=Gs(e["!ref"]).e.r,s=an(l));for(var u=0;u<a.length;++u){var d=a[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return u==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),et("autoFilter",null,{ref:s})}function rY(t,e,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),et("sheetViews",et("sheetView",null,s),{})}function nY(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",a=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=nh[t.v];break;case"d":n&&n.cellDates?s=hs(t.v,-1).toISOString():(t=Cs(t),t.t="n",s=""+(t.v=Ss(hs(t.v)))),typeof t.z>"u"&&(t.z=Kr[14]);break;default:s=t.v;break}var u=Mn("v",xr(s)),d={r:e},h=nl(n.cellXfs,t,n);switch(h!==0&&(d.s=h),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){u=Mn("v",""+Ab(n.Strings,t.v,n.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=a&&(t.t=a,t.v=l),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;u=et("f",xr(t.f),p)+(t.v!=null?u:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(d.cm=1),et("c",u,d)}function sY(t,e,r,n){var s=[],a=[],l=Ir(t["!ref"]),u="",d,h="",p=[],g=0,y=0,v=t["!rows"],_=Array.isArray(t),w={r:h},E,O=-1;for(y=l.s.c;y<=l.e.c;++y)p[y]=es(y);for(g=l.s.r;g<=l.e.r;++g){for(a=[],h=$n(g),y=l.s.c;y<=l.e.c;++y){d=p[y]+h;var j=_?(t[g]||[])[y]:t[d];j!==void 0&&(u=nY(j,d,t,e))!=null&&a.push(u)}(a.length>0||v&&v[g])&&(w={r:h},v&&v[g]&&(E=v[g],E.hidden&&(w.hidden=1),O=-1,E.hpx?O=qp(E.hpx):E.hpt&&(O=E.hpt),O>-1&&(w.ht=O,w.customHeight=1),E.level&&(w.outlineLevel=E.level)),s[s.length]=et("row",a.join(""),w))}if(v)for(;g<v.length;++g)v&&v[g]&&(w={r:g+1},E=v[g],E.hidden&&(w.hidden=1),O=-1,E.hpx?O=qp(E.hpx):E.hpt&&(O=E.hpt),O>-1&&(w.ht=O,w.customHeight=1),E.level&&(w.outlineLevel=E.level),s[s.length]=et("row","",w));return s.join("")}function S6(t,e,r,n){var s=[on,et("worksheet",null,{xmlns:Uu[0],"xmlns:r":En.r})],a=r.SheetNames[t],l=0,u="",d=r.Sheets[a];d==null&&(d={});var h=d["!ref"]||"A1",p=Ir(h);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),h=an(p)}n||(n={}),d["!comments"]=[];var g=[];YK(d,r,t,e,s),s[s.length]=et("dimension",null,{ref:h}),s[s.length]=rY(d,e,t,r),e.sheetFormat&&(s[s.length]=et("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(s[s.length]=eY(d,d["!cols"])),s[l=s.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(u=sY(d,e),u.length>0&&(s[s.length]=u)),s.length>l+1&&(s[s.length]="</sheetData>",s[l]=s[l].replace("/>",">")),d["!protect"]&&(s[s.length]=JK(d["!protect"])),d["!autofilter"]!=null&&(s[s.length]=tY(d["!autofilter"],d,r,t)),d["!merges"]!=null&&d["!merges"].length>0&&(s[s.length]=KK(d["!merges"]));var y=-1,v,_=-1;return d["!links"].length>0&&(s[s.length]="<hyperlinks>",d["!links"].forEach(function(w){w[1].Target&&(v={ref:w[0]},w[1].Target.charAt(0)!="#"&&(_=mr(n,-1,xr(w[1].Target).replace(/#.*$/,""),ar.HLINK),v["r:id"]="rId"+_),(y=w[1].Target.indexOf("#"))>-1&&(v.location=xr(w[1].Target.slice(y+1))),w[1].Tooltip&&(v.tooltip=xr(w[1].Tooltip)),s[s.length]=et("hyperlink",null,v))}),s[s.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(s[s.length]=ZK(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=Mn("ignoredErrors",et("ignoredError",null,{numberStoredAsText:1,sqref:h}))),g.length>0&&(_=mr(n,-1,"../drawings/drawing"+(t+1)+".xml",ar.DRAW),s[s.length]=et("drawing",null,{"r:id":"rId"+_}),d["!drawing"]=g),d["!comments"].length>0&&(_=mr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",ar.VML),s[s.length]=et("legacyDrawing",null,{"r:id":"rId"+_}),d["!legacy"]=_),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function aY(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=s/20),r}function iY(t,e,r){var n=Se(145),s=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;s.hpx?a=qp(s.hpx)*20:s.hpt&&(a=s.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var l=0;s.level&&(l|=s.level),s.hidden&&(l|=16),(s.hpx||s.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var u=0,d=n.l;n.l+=4;for(var h={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var g=-1,y=-1,v=p<<10;v<p+1<<10;++v){h.c=v;var _=Array.isArray(r)?(r[h.r]||[])[h.c]:r[yr(h)];_&&(g<0&&(g=v),y=v)}g<0||(++u,n.write_shift(4,g),n.write_shift(4,y))}var w=n.l;return n.l=d,n.write_shift(4,u),n.l=w,n.length>n.l?n.slice(0,n.l):n}function oY(t,e,r,n){var s=iY(n,r,e);(s.length>17||(e["!rows"]||[])[n])&&Ue(t,0,s)}var lY=cc,cY=Hu;function uY(){}function dY(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=wW(t),r}function hY(t,e,r){r==null&&(r=Se(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return zp({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),z5(t,r),r.slice(0,r.l)}function fY(t){var e=ua(t);return[e]}function pY(t,e,r){return r==null&&(r=Se(8)),ic(e,r)}function mY(t){var e=oc(t);return[e]}function gY(t,e,r){return r==null&&(r=Se(4)),lc(e,r)}function xY(t){var e=ua(t),r=t.read_shift(1);return[e,r,"b"]}function yY(t,e,r){return r==null&&(r=Se(9)),ic(e,r),r.write_shift(1,t.v?1:0),r}function vY(t){var e=oc(t),r=t.read_shift(1);return[e,r,"b"]}function bY(t,e,r){return r==null&&(r=Se(5)),lc(e,r),r.write_shift(1,t.v?1:0),r}function wY(t){var e=ua(t),r=t.read_shift(1);return[e,r,"e"]}function _Y(t,e,r){return r==null&&(r=Se(9)),ic(e,r),r.write_shift(1,t.v),r}function EY(t){var e=oc(t),r=t.read_shift(1);return[e,r,"e"]}function TY(t,e,r){return r==null&&(r=Se(8)),lc(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function NY(t){var e=ua(t),r=t.read_shift(4);return[e,r,"s"]}function kY(t,e,r){return r==null&&(r=Se(12)),ic(e,r),r.write_shift(4,e.v),r}function AY(t){var e=oc(t),r=t.read_shift(4);return[e,r,"s"]}function SY(t,e,r){return r==null&&(r=Se(8)),lc(e,r),r.write_shift(4,e.v),r}function CY(t){var e=ua(t),r=Wu(t);return[e,r,"n"]}function jY(t,e,r){return r==null&&(r=Se(16)),ic(e,r),Wl(t.v,r),r}function IY(t){var e=oc(t),r=Wu(t);return[e,r,"n"]}function PY(t,e,r){return r==null&&(r=Se(12)),lc(e,r),Wl(t.v,r),r}function RY(t){var e=ua(t),r=H5(t);return[e,r,"n"]}function DY(t,e,r){return r==null&&(r=Se(12)),ic(e,r),W5(t.v,r),r}function OY(t){var e=oc(t),r=H5(t);return[e,r,"n"]}function FY(t,e,r){return r==null&&(r=Se(8)),lc(e,r),W5(t.v,r),r}function LY(t){var e=ua(t),r=vb(t);return[e,r,"is"]}function MY(t){var e=ua(t),r=ts(t);return[e,r,"str"]}function VY(t,e,r){return r==null&&(r=Se(12+4*t.v.length)),ic(e,r),Nn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function $Y(t){var e=oc(t),r=ts(t);return[e,r,"str"]}function BY(t,e,r){return r==null&&(r=Se(8+4*t.v.length)),lc(e,r),Nn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function UY(t,e,r){var n=t.l+e,s=ua(t);s.r=r["!row"];var a=t.read_shift(1),l=[s,a,"b"];if(r.cellFormula){t.l+=2;var u=$m(t,n-t.l,r);l[3]=Cu(u,null,s,r.supbooks,r)}else t.l=n;return l}function zY(t,e,r){var n=t.l+e,s=ua(t);s.r=r["!row"];var a=t.read_shift(1),l=[s,a,"e"];if(r.cellFormula){t.l+=2;var u=$m(t,n-t.l,r);l[3]=Cu(u,null,s,r.supbooks,r)}else t.l=n;return l}function HY(t,e,r){var n=t.l+e,s=ua(t);s.r=r["!row"];var a=Wu(t),l=[s,a,"n"];if(r.cellFormula){t.l+=2;var u=$m(t,n-t.l,r);l[3]=Cu(u,null,s,r.supbooks,r)}else t.l=n;return l}function WY(t,e,r){var n=t.l+e,s=ua(t);s.r=r["!row"];var a=ts(t),l=[s,a,"str"];if(r.cellFormula){t.l+=2;var u=$m(t,n-t.l,r);l[3]=Cu(u,null,s,r.supbooks,r)}else t.l=n;return l}var GY=cc,qY=Hu;function KY(t,e){return e==null&&(e=Se(4)),e.write_shift(4,t),e}function YY(t,e){var r=t.l+e,n=cc(t),s=bb(t),a=ts(t),l=ts(t),u=ts(t);t.l=r;var d={rfx:n,relId:s,loc:a,display:u};return l&&(d.Tooltip=l),d}function XY(t,e){var r=Se(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Hu({s:Tn(t[0]),e:Tn(t[0])},r),wb("rId"+e,r);var n=t[1].Target.indexOf("#"),s=n==-1?"":t[1].Target.slice(n+1);return Nn(s||"",r),Nn(t[1].Tooltip||"",r),Nn("",r),r.slice(0,r.l)}function QY(){}function JY(t,e,r){var n=t.l+e,s=G5(t),a=t.read_shift(1),l=[s];if(l[2]=a,r.cellFormula){var u=$K(t,n-t.l,r);l[1]=u}else t.l=n;return l}function ZY(t,e,r){var n=t.l+e,s=cc(t),a=[s];if(r.cellFormula){var l=UK(t,n-t.l,r);a[1]=l,t.l=n}else t.l=n;return a}function eX(t,e,r){r==null&&(r=Se(18));var n=Bm(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),r.write_shift(2,s),r}var C6=["left","right","top","bottom","header","footer"];function tX(t){var e={};return C6.forEach(function(r){e[r]=Wu(t)}),e}function rX(t,e){return e==null&&(e=Se(48)),A6(t),C6.forEach(function(r){Wl(t[r],e)}),e}function nX(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function sX(t,e,r){r==null&&(r=Se(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function aX(t){var e=Se(24);return e.write_shift(4,4),e.write_shift(4,1),Hu(t,e),e}function iX(t,e){return e==null&&(e=Se(66)),e.write_shift(2,t.password?u6(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function oX(){}function lX(){}function cX(t,e,r,n,s,a,l){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=Cs(e),e.z=e.z||Kr[14],e.v=Ss(hs(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var d={r,c:n};switch(d.s=nl(s.cellXfs,e,s),e.l&&a["!links"].push([yr(d),e.l]),e.c&&a["!comments"].push([yr(d),e.c]),e.t){case"s":case"str":return s.bookSST?(u=Ab(s.Strings,e.v,s.revStrings),d.t="s",d.v=u,l?Ue(t,18,SY(e,d)):Ue(t,7,kY(e,d))):(d.t="str",l?Ue(t,17,BY(e,d)):Ue(t,6,VY(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?Ue(t,13,FY(e,d)):Ue(t,2,DY(e,d)):l?Ue(t,16,PY(e,d)):Ue(t,5,jY(e,d)),!0;case"b":return d.t="b",l?Ue(t,15,bY(e,d)):Ue(t,4,yY(e,d)),!0;case"e":return d.t="e",l?Ue(t,14,TY(e,d)):Ue(t,3,_Y(e,d)),!0}return l?Ue(t,12,gY(e,d)):Ue(t,1,pY(e,d)),!0}function uX(t,e,r,n){var s=Ir(e["!ref"]||"A1"),a,l="",u=[];Ue(t,145);var d=Array.isArray(e),h=s.e.r;e["!rows"]&&(h=Math.max(s.e.r,e["!rows"].length-1));for(var p=s.s.r;p<=h;++p){l=$n(p),oY(t,e,s,p);var g=!1;if(p<=s.e.r)for(var y=s.s.c;y<=s.e.c;++y){p===s.s.r&&(u[y]=es(y)),a=u[y]+l;var v=d?(e[p]||[])[y]:e[a];if(!v){g=!1;continue}g=cX(t,v,p,y,n,e,g)}}Ue(t,146)}function dX(t,e){!e||!e["!merges"]||(Ue(t,177,KY(e["!merges"].length)),e["!merges"].forEach(function(r){Ue(t,176,qY(r))}),Ue(t,178))}function hX(t,e){!e||!e["!cols"]||(Ue(t,390),e["!cols"].forEach(function(r,n){r&&Ue(t,60,eX(n,r))}),Ue(t,391))}function fX(t,e){!e||!e["!ref"]||(Ue(t,648),Ue(t,649,aX(Ir(e["!ref"]))),Ue(t,650))}function pX(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var s=mr(r,-1,n[1].Target.replace(/#.*$/,""),ar.HLINK);Ue(t,494,XY(n,s))}}),delete e["!links"]}function mX(t,e,r,n){if(e["!comments"].length>0){var s=mr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ar.VML);Ue(t,551,wb("rId"+s)),e["!legacy"]=s}}function gX(t,e,r,n){if(e["!autofilter"]){var s=e["!autofilter"],a=typeof s.ref=="string"?s.ref:an(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,u=Gs(a);u.s.r==u.e.r&&(u.e.r=Gs(e["!ref"]).e.r,a=an(u));for(var d=0;d<l.length;++d){var h=l[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+r.SheetNames[n]+"'!"+a;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ue(t,161,Hu(Ir(a))),Ue(t,162)}}function xX(t,e,r){Ue(t,133),Ue(t,137,sX(e,r)),Ue(t,138),Ue(t,134)}function yX(t,e){e["!protect"]&&Ue(t,535,iX(e["!protect"]))}function vX(t,e,r,n){var s=As(),a=r.SheetNames[t],l=r.Sheets[a]||{},u=a;try{r&&r.Workbook&&(u=r.Workbook.Sheets[t].CodeName||u)}catch{}var d=Ir(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ue(s,129),(r.vbaraw||l["!outline"])&&Ue(s,147,hY(u,l["!outline"])),Ue(s,148,cY(d)),xX(s,l,r.Workbook),hX(s,l),uX(s,l,t,e),yX(s,l),gX(s,l,r,t),dX(s,l),pX(s,l,n),l["!margins"]&&Ue(s,476,rX(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&fX(s,l),mX(s,l,t,n),Ue(s,130),s.end()}function bX(t,e){t.l+=10;var r=ts(t);return{name:r}}var wX=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function _X(t){return!t.Workbook||!t.Workbook.WBProps?"false":ZH(t.Workbook.WBProps.date1904)?"true":"false"}var EX="][*?/\\".split("");function j6(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return EX.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function TX(t,e,r){t.forEach(function(n,s){j6(n);for(var a=0;a<s;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=e&&e[s]&&e[s].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function NX(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];TX(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)qK(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function I6(t){var e=[on];e[e.length]=et("workbook",null,{xmlns:Uu[0],"xmlns:r":En.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(wX.forEach(function(u){t.Workbook.WBProps[u[0]]!=null&&t.Workbook.WBProps[u[0]]!=u[1]&&(n[u[0]]=t.Workbook.WBProps[u[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=et("workbookPr",null,n);var s=t.Workbook&&t.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!s[a]||!s[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var l={name:xr(t.SheetNames[a].slice(0,31))};if(l.sheetId=""+(a+1),l["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=et("sheet",null,l)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(u){var d={name:u.Name};u.Comment&&(d.comment=u.Comment),u.Sheet!=null&&(d.localSheetId=""+u.Sheet),u.Hidden&&(d.hidden="1"),u.Ref&&(e[e.length]=et("definedName",xr(u.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function kX(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=rv(t),r.name=ts(t),r}function AX(t,e){return e||(e=Se(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),wb(t.strRelID,e),Nn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function SX(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?ts(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function CX(t,e){e||(e=Se(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),z5(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function jX(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),a=_W(t),l=BK(t,0,r),u=bb(t);t.l=n;var d={Name:a,Ptg:l};return s<268435455&&(d.Sheet=s),u&&(d.Comment=u),d}function IX(t,e){Ue(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Ue(t,156,AX(s))}Ue(t,144)}function PX(t,e){e||(e=Se(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Nn("SheetJS",e),Nn(Op.version,e),Nn(Op.version,e),Nn("7262",e),e.length>e.l?e.slice(0,e.l):e}function RX(t,e){e||(e=Se(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function DX(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,s=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&a==-1&&(a=n);a>s||(Ue(t,135),Ue(t,158,RX(s)),Ue(t,136))}}function OX(t,e){var r=As();return Ue(r,131),Ue(r,128,PX()),Ue(r,153,CX(t.Workbook&&t.Workbook.WBProps||null)),DX(r,t),IX(r,t),Ue(r,132),r.end()}function FX(t,e,r){return(e.slice(-4)===".bin"?OX:I6)(t)}function LX(t,e,r,n,s){return(e.slice(-4)===".bin"?vX:S6)(t,r,n,s)}function MX(t,e,r){return(e.slice(-4)===".bin"?rq:f6)(t,r)}function VX(t,e,r){return(e.slice(-4)===".bin"?CG:c6)(t,r)}function $X(t,e,r){return(e.slice(-4)===".bin"?yq:y6)(t)}function BX(t){return(t.slice(-4)===".bin"?uq:g6)()}function UX(t,e){var r=[];return t.Props&&r.push(MW(t.Props,e)),t.Custprops&&r.push(VW(t.Props,t.Custprops)),r.join("")}function zX(){return""}function HX(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,s){var a=[];a.push(et("NumberFormat",null,{"ss:Format":xr(Kr[n.numFmtId])}));var l={"ss:ID":"s"+(21+s)};r.push(et("Style",a.join(""),l))}),et("Styles",r.join(""))}function P6(t){return et("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Nb(t.Ref,{r:0,c:0})})}function WX(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var s=e[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(P6(s)))}return et("Names",r.join(""))}function GX(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,a=[],l=0;l<s.length;++l){var u=s[l];u.Sheet==r&&(u.Name.match(/^_xlfn\./)||a.push(P6(u)))}return a.join("")}function qX(t,e,r,n){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(et("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(et("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(et("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(et("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(Mn("ProtectContents","True")),t["!protect"].objects&&s.push(Mn("ProtectObjects","True")),t["!protect"].scenarios&&s.push(Mn("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(Mn("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(Mn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&s.push("<"+l[1]+"/>")})),s.length==0?"":et("WorksheetOptions",s.join(""),{xmlns:Ms.x})}function KX(t){return t.map(function(e){var r=JH(e.t||""),n=et("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return et("Comment",n,{"ss:Author":e.a})}).join("")}function YX(t,e,r,n,s,a,l){if(!t||t.v==null&&t.f==null)return"";var u={};if(t.f&&(u["ss:Formula"]="="+xr(Nb(t.f,l))),t.F&&t.F.slice(0,e.length)==e){var d=Tn(t.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(t.l&&t.l.Target&&(u["ss:HRef"]=xr(t.l.Target),t.l.Tooltip&&(u["x:HRefScreenTip"]=xr(t.l.Tooltip))),r["!merges"])for(var h=r["!merges"],p=0;p!=h.length;++p)h[p].s.c!=l.c||h[p].s.r!=l.r||(h[p].e.c>h[p].s.c&&(u["ss:MergeAcross"]=h[p].e.c-h[p].s.c),h[p].e.r>h[p].s.r&&(u["ss:MergeDown"]=h[p].e.r-h[p].s.r));var g="",y="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":g="Number",y=String(t.v);break;case"b":g="Boolean",y=t.v?"1":"0";break;case"e":g="Error",y=nh[t.v];break;case"d":g="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Kr[14]);break;case"s":g="String",y=QH(t.v||"");break}var v=nl(n.cellXfs,t,n);u["ss:StyleID"]="s"+(21+v),u["ss:Index"]=l.c+1;var _=t.v!=null?y:"",w=t.t=="z"?"":'<Data ss:Type="'+g+'">'+_+"</Data>";return(t.c||[]).length>0&&(w+=KX(t.c)),et("Cell",w,u)}function XX(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=h6(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function QX(t,e,r,n){if(!t["!ref"])return"";var s=Ir(t["!ref"]),a=t["!merges"]||[],l=0,u=[];t["!cols"]&&t["!cols"].forEach(function(E,O){Eb(E);var j=!!E.width,z=Bm(O,E),L={"ss:Index":O+1};j&&(L["ss:Width"]=Wp(z.width)),E.hidden&&(L["ss:Hidden"]="1"),u.push(et("Column",null,L))});for(var d=Array.isArray(t),h=s.s.r;h<=s.e.r;++h){for(var p=[XX(h,(t["!rows"]||[])[h])],g=s.s.c;g<=s.e.c;++g){var y=!1;for(l=0;l!=a.length;++l)if(!(a[l].s.c>g)&&!(a[l].s.r>h)&&!(a[l].e.c<g)&&!(a[l].e.r<h)){(a[l].s.c!=g||a[l].s.r!=h)&&(y=!0);break}if(!y){var v={r:h,c:g},_=yr(v),w=d?(t[h]||[])[g]:t[_];p.push(YX(w,_,t,e,r,n,v))}}p.push("</Row>"),p.length>2&&u.push(p.join(""))}return u.join("")}function JX(t,e,r){var n=[],s=r.SheetNames[t],a=r.Sheets[s],l=a?GX(a,e,t,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=a?QX(a,e,t,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(qX(a,e,t,r)),n.join("")}function ZX(t,e){e||(e={}),t.SSF||(t.SSF=Cs(Kr)),t.SSF&&(Fm(),Om(t.SSF),e.revssf=Lm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],nl(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(UX(t,e)),r.push(zX()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(et("Worksheet",JX(n,e,t),{"ss:Name":xr(t.SheetNames[n])}));return r[2]=HX(t,e),r[3]=WX(t),on+et("Workbook",r.join(""),{xmlns:Ms.ss,"xmlns:o":Ms.o,"xmlns:x":Ms.x,"xmlns:ss":Ms.ss,"xmlns:dt":Ms.dt,"xmlns:html":Ms.html})}var ty={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function eQ(t,e){var r=[],n=[],s=[],a=0,l,u=gT(CT,"n"),d=gT(jT,"n");if(t.Props)for(l=Un(t.Props),a=0;a<l.length;++a)(Object.prototype.hasOwnProperty.call(u,l[a])?r:Object.prototype.hasOwnProperty.call(d,l[a])?n:s).push([l[a],t.Props[l[a]]]);if(t.Custprops)for(l=Un(t.Custprops),a=0;a<l.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},l[a])||(Object.prototype.hasOwnProperty.call(u,l[a])?r:Object.prototype.hasOwnProperty.call(d,l[a])?n:s).push([l[a],t.Custprops[l[a]]]);var h=[];for(a=0;a<s.length;++a)r6.indexOf(s[a][0])>-1||Z5.indexOf(s[a][0])>-1||s[a][1]!=null&&h.push(s[a]);n.length&&vr.utils.cfb_add(e,"/SummaryInformation",OT(n,ty.SI,d,jT)),(r.length||h.length)&&vr.utils.cfb_add(e,"/DocumentSummaryInformation",OT(r,ty.DSI,u,CT,h.length?h:null,ty.UDI))}function tQ(t,e){var r=e||{},n=vr.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return vr.utils.cfb_add(n,s,R6(t,r)),r.biff==8&&(t.Props||t.Custprops)&&eQ(t,n),r.biff==8&&t.vbaraw&&vq(n,vr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var rQ={0:{f:aY},1:{f:fY},2:{f:RY},3:{f:wY},4:{f:xY},5:{f:CY},6:{f:MY},7:{f:NY},8:{f:WY},9:{f:HY},10:{f:UY},11:{f:zY},12:{f:mY},13:{f:OY},14:{f:EY},15:{f:vY},16:{f:IY},17:{f:$Y},18:{f:AY},19:{f:vb},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:jX},40:{},42:{},43:{f:MG},44:{f:FG},45:{f:BG},46:{f:zG},47:{f:UG},48:{},49:{f:mW},50:{},51:{f:aq},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:gG},62:{f:LY},63:{f:dq},64:{f:oX},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:fi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:nX},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:dY},148:{f:lY,p:16},151:{f:QY},152:{},153:{f:SX},154:{},155:{},156:{f:kX},157:{},158:{},159:{T:1,f:kG},160:{T:-1},161:{T:1,f:cc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:GY},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:nq},336:{T:-1},337:{f:lq,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:rv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:uG},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:JY},427:{f:ZY},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:tX},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:uY},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:YY},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:rv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:gq},633:{T:1},634:{T:-1},635:{T:1,f:pq},636:{T:-1},637:{f:vW},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:bX},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:lX},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function tt(t,e,r,n){var s=e;if(!isNaN(s)){var a=n||(r||[]).length||0,l=t.next(4);l.write_shift(2,s),l.write_shift(2,a),a>0&&gb(r)&&t.push(r)}}function nQ(t,e,r,n){var s=(r||[]).length||0;if(s<=8224)return tt(t,e,r,s);var a=e;if(!isNaN(a)){for(var l=r.parts||[],u=0,d=0,h=0;h+(l[u]||8224)<=8224;)h+=l[u]||8224,u++;var p=t.next(4);for(p.write_shift(2,a),p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h;d<s;){for(p=t.next(4),p.write_shift(2,60),h=0;h+(l[u]||8224)<=8224;)h+=l[u]||8224,u++;p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h}}}function ah(t,e,r){return t||(t=Se(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function sQ(t,e,r,n){var s=Se(9);return ah(s,t,e),s6(r,n||"b",s),s}function aQ(t,e,r){var n=Se(8+2*r.length);return ah(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function iQ(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Ss(hs(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?tt(t,2,bG(r,n,s)):tt(t,3,vG(r,n,s));return;case"b":case"e":tt(t,5,sQ(r,n,e.v,e.t));return;case"s":case"str":tt(t,4,aQ(r,n,(e.v||"").slice(0,255)));return}tt(t,1,ah(null,r,n))}function oQ(t,e,r,n){var s=Array.isArray(e),a=Ir(e["!ref"]||"A1"),l,u="",d=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),l=an(a)}for(var h=a.s.r;h<=a.e.r;++h){u=$n(h);for(var p=a.s.c;p<=a.e.c;++p){h===a.s.r&&(d[p]=es(p)),l=d[p]+u;var g=s?(e[h]||[])[p]:e[l];g&&iQ(t,g,h,p)}}}function lQ(t,e){for(var r=e||{},n=As(),s=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(s=a);if(s==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return tt(n,r.biff==4?1033:r.biff==3?521:9,_b(t,16,r)),oQ(n,t.Sheets[t.SheetNames[s]],s,r),tt(n,10),n.end()}function cQ(t,e,r){tt(t,49,rG({sz:12,name:"Arial"},r))}function uQ(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&tt(t,1054,aG(s,e[s],r))})}function dQ(t,e){var r=Se(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),tt(t,2151,r),r=Se(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),o6(Ir(e["!ref"]||"A1"),r),r.write_shift(4,4),tt(t,2152,r)}function hQ(t,e){for(var r=0;r<16;++r)tt(t,224,LT({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){tt(t,224,LT(n,0,e))})}function fQ(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];tt(t,440,fG(n)),n[1].Tooltip&&tt(t,2048,pG(n))}delete e["!links"]}function pQ(t,e){if(e){var r=0;e.forEach(function(n,s){++r<=256&&n&&tt(t,125,xG(Bm(s,n),s))})}}function mQ(t,e,r,n,s){var a=16+nl(s.cellXfs,e,s);if(e.v==null&&!e.bf){tt(t,513,Gl(r,n,a));return}if(e.bf)tt(t,6,VK(e,r,n,s,a));else switch(e.t){case"d":case"n":var l=e.t=="d"?Ss(hs(e.v)):e.v;tt(t,515,cG(r,n,l,a));break;case"b":case"e":tt(t,517,lG(r,n,e.v,a,s,e.t));break;case"s":case"str":if(s.bookSST){var u=Ab(s.Strings,e.v,s.revStrings);tt(t,253,nG(r,n,u,a))}else tt(t,516,sG(r,n,(e.v||"").slice(0,255),a,s));break;default:tt(t,513,Gl(r,n,a))}}function gQ(t,e,r){var n=As(),s=r.SheetNames[t],a=r.Sheets[s]||{},l=(r||{}).Workbook||{},u=(l.Sheets||[])[t]||{},d=Array.isArray(a),h=e.biff==8,p,g="",y=[],v=Ir(a["!ref"]||"A1"),_=h?65536:16384;if(v.e.c>255||v.e.r>=_){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,_-1)}tt(n,2057,_b(r,16,e)),tt(n,13,sa(1)),tt(n,12,sa(100)),tt(n,15,ls(!0)),tt(n,17,ls(!1)),tt(n,16,Wl(.001)),tt(n,95,ls(!0)),tt(n,42,ls(!1)),tt(n,43,ls(!1)),tt(n,130,sa(1)),tt(n,128,oG()),tt(n,131,ls(!1)),tt(n,132,ls(!1)),h&&pQ(n,a["!cols"]),tt(n,512,iG(v,e)),h&&(a["!links"]=[]);for(var w=v.s.r;w<=v.e.r;++w){g=$n(w);for(var E=v.s.c;E<=v.e.c;++E){w===v.s.r&&(y[E]=es(E)),p=y[E]+g;var O=d?(a[w]||[])[E]:a[p];O&&(mQ(n,O,w,E,e),h&&O.l&&a["!links"].push([p,O.l]))}}var j=u.CodeName||u.name||s;return h&&tt(n,574,tG((l.Views||[])[0])),h&&(a["!merges"]||[]).length&&tt(n,229,hG(a["!merges"])),h&&fQ(n,a),tt(n,442,i6(j)),h&&dQ(n,a),tt(n,10),n.end()}function xQ(t,e,r){var n=As(),s=(t||{}).Workbook||{},a=s.Sheets||[],l=s.WBProps||{},u=r.biff==8,d=r.biff==5;if(tt(n,2057,_b(t,5,r)),r.bookType=="xla"&&tt(n,135),tt(n,225,u?sa(1200):null),tt(n,193,UW(2)),d&&tt(n,191),d&&tt(n,192),tt(n,226),tt(n,92,QW("SheetJS",r)),tt(n,66,sa(u?1200:1252)),u&&tt(n,353,sa(0)),u&&tt(n,448),tt(n,317,yG(t.SheetNames.length)),u&&t.vbaraw&&tt(n,211),u&&t.vbaraw){var h=l.CodeName||"ThisWorkbook";tt(n,442,i6(h))}tt(n,156,sa(17)),tt(n,25,ls(!1)),tt(n,18,ls(!1)),tt(n,19,sa(0)),u&&tt(n,431,ls(!1)),u&&tt(n,444,sa(0)),tt(n,61,eG()),tt(n,64,ls(!1)),tt(n,141,sa(0)),tt(n,34,ls(_X(t)=="true")),tt(n,14,ls(!0)),u&&tt(n,439,ls(!1)),tt(n,218,sa(0)),cQ(n,t,r),uQ(n,t.SSF,r),hQ(n,r),u&&tt(n,352,ls(!1));var p=n.end(),g=As();u&&tt(g,140,mG()),u&&r.Strings&&nQ(g,252,ZW(r.Strings)),tt(g,10);var y=g.end(),v=As(),_=0,w=0;for(w=0;w<t.SheetNames.length;++w)_+=(u?12:11)+(u?2:1)*t.SheetNames[w].length;var E=p.length+_+y.length;for(w=0;w<t.SheetNames.length;++w){var O=a[w]||{};tt(v,133,JW({pos:E,hs:O.Hidden||0,dt:0,name:t.SheetNames[w]},r)),E+=e[w].length}var j=v.end();if(_!=j.length)throw new Error("BS8 "+_+" != "+j.length);var z=[];return p.length&&z.push(p),j.length&&z.push(j),y.length&&z.push(y),Ln(z)}function yQ(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Cs(Kr)),t&&t.SSF&&(Fm(),Om(t.SSF),r.revssf=Lm(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Sb(r),r.cellXfs=[],nl(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)n[n.length]=gQ(s,r,t);return n.unshift(xQ(t,n,r)),Ln(n)}function R6(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var s=Gs(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return yQ(t,e);case 4:case 3:case 2:return lQ(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function vQ(t,e,r,n){for(var s=t["!merges"]||[],a=[],l=e.s.c;l<=e.e.c;++l){for(var u=0,d=0,h=0;h<s.length;++h)if(!(s[h].s.r>r||s[h].s.c>l)&&!(s[h].e.r<r||s[h].e.c<l)){if(s[h].s.r<r||s[h].s.c<l){u=-1;break}u=s[h].e.r-s[h].s.r+1,d=s[h].e.c-s[h].s.c+1;break}if(!(u<0)){var p=yr({r,c:l}),g=n.dense?(t[r]||[])[l]:t[p],y=g&&g.v!=null&&(g.h||XH(g.w||(Ki(g),g.w)||""))||"",v={};u>1&&(v.rowspan=u),d>1&&(v.colspan=d),n.editable?y='<span contenteditable="true">'+y+"</span>":g&&(v["data-t"]=g&&g.t||"z",g.v!=null&&(v["data-v"]=g.v),g.z!=null&&(v["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+g.l.Target+'">'+y+"</a>")),v.id=(n.id||"sjs")+"-"+p,a.push(et("td",y,v))}}var _="<tr>";return _+a.join("")+"</tr>"}var bQ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',wQ="</body></html>";function _Q(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function D6(t,e){var r=e||{},n=r.header!=null?r.header:bQ,s=r.footer!=null?r.footer:wQ,a=[n],l=Gs(t["!ref"]);r.dense=Array.isArray(t),a.push(_Q(t,l,r));for(var u=l.s.r;u<=l.e.r;++u)a.push(vQ(t,l,u,r));return a.push("</table>"+s),a.join("")}function O6(t,e,r){var n=r||{},s=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Tn(n.origin):n.origin;s=l.r,a=l.c}var u=e.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,u.length),h={s:{r:0,c:0},e:{r:s,c:a}};if(t["!ref"]){var p=Gs(t["!ref"]);h.s.r=Math.min(h.s.r,p.s.r),h.s.c=Math.min(h.s.c,p.s.c),h.e.r=Math.max(h.e.r,p.e.r),h.e.c=Math.max(h.e.c,p.e.c),s==-1&&(h.e.r=s=p.e.r+1)}var g=[],y=0,v=t["!rows"]||(t["!rows"]=[]),_=0,w=0,E=0,O=0,j=0,z=0;for(t["!cols"]||(t["!cols"]=[]);_<u.length&&w<d;++_){var L=u[_];if(HT(L)){if(n.display)continue;v[w]={hidden:!0}}var Y=L.children;for(E=O=0;E<Y.length;++E){var H=Y[E];if(!(n.display&&HT(H))){var S=H.hasAttribute("data-v")?H.getAttribute("data-v"):H.hasAttribute("v")?H.getAttribute("v"):eW(H.innerHTML),A=H.getAttribute("data-z")||H.getAttribute("z");for(y=0;y<g.length;++y){var I=g[y];I.s.c==O+a&&I.s.r<w+s&&w+s<=I.e.r&&(O=I.e.c+1-a,y=-1)}z=+H.getAttribute("colspan")||1,((j=+H.getAttribute("rowspan")||1)>1||z>1)&&g.push({s:{r:w+s,c:O+a},e:{r:w+s+(j||1)-1,c:O+a+(z||1)-1}});var P={t:"s",v:S},M=H.getAttribute("data-t")||H.getAttribute("t")||"";S!=null&&(S.length==0?P.t=M||"z":n.raw||S.trim().length==0||M=="s"||(S==="TRUE"?P={t:"b",v:!0}:S==="FALSE"?P={t:"b",v:!1}:isNaN(Mi(S))?isNaN(T0(S).getDate())||(P={t:"d",v:hs(S)},n.cellDates||(P={t:"n",v:Ss(P.v)}),P.z=n.dateNF||Kr[14]):P={t:"n",v:Mi(S)})),P.z===void 0&&A!=null&&(P.z=A);var R="",F=H.getElementsByTagName("A");if(F&&F.length)for(var me=0;me<F.length&&!(F[me].hasAttribute("href")&&(R=F[me].getAttribute("href"),R.charAt(0)!="#"));++me);R&&R.charAt(0)!="#"&&(P.l={Target:R}),n.dense?(t[w+s]||(t[w+s]=[]),t[w+s][O+a]=P):t[yr({c:O+a,r:w+s})]=P,h.e.c<O+a&&(h.e.c=O+a),O+=z}}++w}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),h.e.r=Math.max(h.e.r,w-1+s),t["!ref"]=an(h),w>=d&&(t["!fullref"]=an((h.e.r=u.length-_+w-1+s,h))),t}function F6(t,e){var r=e||{},n=r.dense?[]:{};return O6(n,t,e)}function EQ(t,e){return ac(F6(t,e),e)}function HT(t){var e="",r=TQ(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function TQ(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var NQ=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+k0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return on+e}})(),WT=(function(){var t=function(a){return xr(a).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,l,u){var d=[];d.push('      <table:table table:name="'+xr(l.SheetNames[u])+`" table:style-name="ta1">
`);var h=0,p=0,g=Gs(a["!ref"]||"A1"),y=a["!merges"]||[],v=0,_=Array.isArray(a);if(a["!cols"])for(p=0;p<=g.e.c;++p)d.push("        <table:table-column"+(a["!cols"][p]?' table:style-name="co'+a["!cols"][p].ods+'"':"")+`></table:table-column>
`);var w="",E=a["!rows"]||[];for(h=0;h<g.s.r;++h)w=E[h]?' table:style-name="ro'+E[h].ods+'"':"",d.push("        <table:table-row"+w+`></table:table-row>
`);for(;h<=g.e.r;++h){for(w=E[h]?' table:style-name="ro'+E[h].ods+'"':"",d.push("        <table:table-row"+w+`>
`),p=0;p<g.s.c;++p)d.push(e);for(;p<=g.e.c;++p){var O=!1,j={},z="";for(v=0;v!=y.length;++v)if(!(y[v].s.c>p)&&!(y[v].s.r>h)&&!(y[v].e.c<p)&&!(y[v].e.r<h)){(y[v].s.c!=p||y[v].s.r!=h)&&(O=!0),j["table:number-columns-spanned"]=y[v].e.c-y[v].s.c+1,j["table:number-rows-spanned"]=y[v].e.r-y[v].s.r+1;break}if(O){d.push(r);continue}var L=yr({r:h,c:p}),Y=_?(a[h]||[])[p]:a[L];if(Y&&Y.f&&(j["table:formula"]=xr(WK(Y.f)),Y.F&&Y.F.slice(0,L.length)==L)){var H=Gs(Y.F);j["table:number-matrix-columns-spanned"]=H.e.c-H.s.c+1,j["table:number-matrix-rows-spanned"]=H.e.r-H.s.r+1}if(!Y){d.push(e);continue}switch(Y.t){case"b":z=Y.v?"TRUE":"FALSE",j["office:value-type"]="boolean",j["office:boolean-value"]=Y.v?"true":"false";break;case"n":z=Y.w||String(Y.v||0),j["office:value-type"]="float",j["office:value"]=Y.v||0;break;case"s":case"str":z=Y.v==null?"":Y.v,j["office:value-type"]="string";break;case"d":z=Y.w||hs(Y.v).toISOString(),j["office:value-type"]="date",j["office:date-value"]=hs(Y.v).toISOString(),j["table:style-name"]="ce1";break;default:d.push(e);continue}var S=t(z);if(Y.l&&Y.l.Target){var A=Y.l.Target;A=A.charAt(0)=="#"?"#"+GK(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),S=et("text:a",S,{"xlink:href":A.replace(/&/g,"&amp;")})}d.push("          "+et("table:table-cell",et("text:p",S,{}),j)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},s=function(a,l){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var u=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var p=0;p<h["!cols"].length;++p)if(h["!cols"][p]){var g=h["!cols"][p];if(g.width==null&&g.wpx==null&&g.wch==null)continue;Eb(g),g.ods=u;var y=h["!cols"][p].wpx+"px";a.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),a.push(`  </style:style>
`),++u}}});var d=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var p=0;p<h["!rows"].length;++p)if(h["!rows"][p]){h["!rows"][p].ods=d;var g=h["!rows"][p].hpx+"px";a.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),a.push(`  </style:style>
`),++d}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(l,u){var d=[on],h=k0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=k0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(d.push("<office:document"+h+p+`>
`),d.push(Q5().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+h+`>
`),s(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var g=0;g!=l.SheetNames.length;++g)d.push(n(l.Sheets[l.SheetNames[g]],l,g));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),u.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function L6(t,e){if(e.bookType=="fods")return WT(t,e);var r=hb(),n="",s=[],a=[];return n="mimetype",zt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",zt(r,n,WT(t,e)),s.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",zt(r,n,NQ(t,e)),s.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",zt(r,n,on+Q5()),s.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",zt(r,n,LW(a)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",zt(r,n,OW(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Kp(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function kQ(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):ka(N0(t))}function AQ(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Xo(t){var e=t.reduce(function(s,a){return s+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(s){r.set(s,n),n+=s.length}),r}function SQ(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;s>=1;++a,s/=256)t[e+a]=s&255;t[e+15]|=r>=0?0:128}function A0(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function pr(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function fu(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function hn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],s=A0(t,r),a=s&7;s=Math.floor(s/8);var l=0,u;if(s==0)break;switch(a){case 0:{for(var d=r[0];t[r[0]++]>=128;);u=t.slice(d,r[0])}break;case 5:l=4,u=t.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,u=t.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=A0(t,r),u=t.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(n))}var h={data:u,type:a};e[s]==null?e[s]=[h]:e[s].push(h)}return e}function In(t){var e=[];return t.forEach(function(r,n){r.forEach(function(s){s.data&&(e.push(pr(n*8+s.type)),s.type==2&&e.push(pr(s.data.length)),e.push(s.data))})}),Xo(e)}function _a(t){for(var e,r=[],n=[0];n[0]<t.length;){var s=A0(t,n),a=hn(t.slice(n[0],n[0]+s));n[0]+=s;var l={id:fu(a[1][0].data),messages:[]};a[2].forEach(function(u){var d=hn(u.data),h=fu(d[3][0].data);l.messages.push({meta:d,data:t.slice(n[0],n[0]+h)}),n[0]+=h}),(e=a[3])!=null&&e[0]&&(l.merge=fu(a[3][0].data)>>>0>0),r.push(l)}return r}function Wc(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:pr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:pr(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(l){s.push(l.data),l.meta[3]=[{type:0,data:pr(l.data.length)}],n[2].push({data:In(l.meta),type:2})});var a=In(n);e.push(pr(a.length)),e.push(a),s.forEach(function(l){return e.push(l)})}),Xo(e)}function CQ(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=A0(e,r),s=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var l=e[r[0]++]>>2;if(l<60)++l;else{var u=l-59;l=e[r[0]],u>1&&(l|=e[r[0]+1]<<8),u>2&&(l|=e[r[0]+2]<<16),u>3&&(l|=e[r[0]+3]<<24),l>>>=0,l++,r[0]+=u}s.push(e.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var d=0,h=0;if(a==1?(h=(e[r[0]]>>2&7)+4,d=(e[r[0]++]&224)<<3,d|=e[r[0]++]):(h=(e[r[0]++]>>2)+1,a==2?(d=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(d=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Xo(s)],d==0)throw new Error("Invalid offset 0");if(d>s[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(s.push(s[0].slice(-d)),h-=d;h>=s[s.length-1].length;)s.push(s[s.length-1]),h-=s[s.length-1].length;s.push(s[0].slice(-d,-d+h))}}var p=Xo(s);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function Ea(t){for(var e=[],r=0;r<t.length;){var n=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(CQ(n,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Xo(e)}function Gc(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),s=new Uint8Array(4);e.push(s);var a=pr(n),l=a.length;e.push(a),n<=60?(l++,e.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),l+=n,s[0]=0,s[1]=l&255,s[2]=l>>8&255,s[3]=l>>16&255,r+=n}return Xo(e)}function ry(t,e){var r=new Uint8Array(32),n=Kp(r),s=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,SQ(r,s,t.v),a|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,t.v?1:0,!0),a|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(s,e.indexOf(t.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,s)}function ny(t,e){var r=new Uint8Array(32),n=Kp(r),s=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(s,t.v,!0),a|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,t.v?1:0,!0),a|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(s,e.indexOf(t.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,s)}function To(t){var e=hn(t);return A0(e[1][0].data)}function jQ(t,e,r){var n,s,a,l;if(!((n=t[6])!=null&&n[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var u=((l=(a=t[8])==null?void 0:a[0])==null?void 0:l.data)&&fu(t[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var d=0,h=Kp(t[7][0].data),p=0,g=[],y=Kp(t[4][0].data),v=0,_=[],w=0;w<e.length;++w){if(e[w]==null){h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535);continue}h.setUint16(w*2,p,!0),y.setUint16(w*2,v,!0);var E,O;switch(typeof e[w]){case"string":E=ry({t:"s",v:e[w]},r),O=ny({t:"s",v:e[w]},r);break;case"number":E=ry({t:"n",v:e[w]},r),O=ny({t:"n",v:e[w]},r);break;case"boolean":E=ry({t:"b",v:e[w]},r),O=ny({t:"b",v:e[w]},r);break;default:throw new Error("Unsupported value "+e[w])}g.push(E),p+=E.length,_.push(O),v+=O.length,++d}for(t[2][0].data=pr(d);w<t[7][0].data.length/2;++w)h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535,!0);return t[6][0].data=Xo(g),t[3][0].data=Xo(_),d}function IQ(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Gs(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(an(n)));var a=Yp(r,{range:n,header:1}),l=["~Sh33tJ5~"];a.forEach(function(re){return re.forEach(function(ne){typeof ne=="string"&&l.push(ne)})});var u={},d=[],h=vr.read(e.numbers,{type:"base64"});h.FileIndex.map(function(re,ne){return[re,h.FullPaths[ne]]}).forEach(function(re){var ne=re[0],ae=re[1];if(ne.type==2&&ne.name.match(/\.iwa/)){var J=ne.content,De=Ea(J),Ve=_a(De);Ve.forEach(function(Ce){d.push(Ce.id),u[Ce.id]={deps:[],location:ae,type:fu(Ce.messages[0].meta[1][0].data)}})}}),d.sort(function(re,ne){return re-ne});var p=d.filter(function(re){return re>1}).map(function(re){return[re,pr(re)]});h.FileIndex.map(function(re,ne){return[re,h.FullPaths[ne]]}).forEach(function(re){var ne=re[0];if(re[1],!!ne.name.match(/\.iwa/)){var ae=_a(Ea(ne.content));ae.forEach(function(J){J.messages.forEach(function(De){p.forEach(function(Ve){J.messages.some(function(Ce){return fu(Ce.meta[1][0].data)!=11006&&AQ(Ce.data,Ve[1])})&&u[Ve[0]].deps.push(J.id)})})})}});for(var g=vr.find(h,u[1].location),y=_a(Ea(g.content)),v,_=0;_<y.length;++_){var w=y[_];w.id==1&&(v=w)}var E=To(hn(v.messages[0].data)[1][0].data);for(g=vr.find(h,u[E].location),y=_a(Ea(g.content)),_=0;_<y.length;++_)w=y[_],w.id==E&&(v=w);for(E=To(hn(v.messages[0].data)[2][0].data),g=vr.find(h,u[E].location),y=_a(Ea(g.content)),_=0;_<y.length;++_)w=y[_],w.id==E&&(v=w);for(E=To(hn(v.messages[0].data)[2][0].data),g=vr.find(h,u[E].location),y=_a(Ea(g.content)),_=0;_<y.length;++_)w=y[_],w.id==E&&(v=w);var O=hn(v.messages[0].data);{O[6][0].data=pr(n.e.r+1),O[7][0].data=pr(n.e.c+1);var j=To(O[46][0].data),z=vr.find(h,u[j].location),L=_a(Ea(z.content));{for(var Y=0;Y<L.length&&L[Y].id!=j;++Y);if(L[Y].id!=j)throw"Bad ColumnRowUIDMapArchive";var H=hn(L[Y].messages[0].data);H[1]=[],H[2]=[],H[3]=[];for(var S=0;S<=n.e.c;++S){var A=[];A[1]=A[2]=[{type:0,data:pr(S+420690)}],H[1].push({type:2,data:In(A)}),H[2].push({type:0,data:pr(S)}),H[3].push({type:0,data:pr(S)})}H[4]=[],H[5]=[],H[6]=[];for(var I=0;I<=n.e.r;++I)A=[],A[1]=A[2]=[{type:0,data:pr(I+726270)}],H[4].push({type:2,data:In(A)}),H[5].push({type:0,data:pr(I)}),H[6].push({type:0,data:pr(I)});L[Y].messages[0].data=In(H)}z.content=Gc(Wc(L)),z.size=z.content.length,delete O[46];var P=hn(O[4][0].data);{P[7][0].data=pr(n.e.r+1);var M=hn(P[1][0].data),R=To(M[2][0].data);z=vr.find(h,u[R].location),L=_a(Ea(z.content));{if(L[0].id!=R)throw"Bad HeaderStorageBucket";var F=hn(L[0].messages[0].data);for(I=0;I<a.length;++I){var me=hn(F[2][0].data);me[1][0].data=pr(I),me[4][0].data=pr(a[I].length),F[2][I]={type:F[2][0].type,data:In(me)}}L[0].messages[0].data=In(F)}z.content=Gc(Wc(L)),z.size=z.content.length;var Te=To(P[2][0].data);z=vr.find(h,u[Te].location),L=_a(Ea(z.content));{if(L[0].id!=Te)throw"Bad HeaderStorageBucket";for(F=hn(L[0].messages[0].data),S=0;S<=n.e.c;++S)me=hn(F[2][0].data),me[1][0].data=pr(S),me[4][0].data=pr(n.e.r+1),F[2][S]={type:F[2][0].type,data:In(me)};L[0].messages[0].data=In(F)}z.content=Gc(Wc(L)),z.size=z.content.length;var je=To(P[4][0].data);(function(){for(var re=vr.find(h,u[je].location),ne=_a(Ea(re.content)),ae,J=0;J<ne.length;++J){var De=ne[J];De.id==je&&(ae=De)}var Ve=hn(ae.messages[0].data);{Ve[3]=[];var Ce=[];l.forEach(function(mt,Wt){Ce[1]=[{type:0,data:pr(Wt)}],Ce[2]=[{type:0,data:pr(1)}],Ce[3]=[{type:2,data:kQ(mt)}],Ve[3].push({type:2,data:In(Ce)})})}ae.messages[0].data=In(Ve);var Me=Wc(ne),nt=Gc(Me);re.content=nt,re.size=re.content.length})();var Ie=hn(P[3][0].data);{var _e=Ie[1][0];delete Ie[2];var oe=hn(_e.data);{var xe=To(oe[2][0].data);(function(){for(var re=vr.find(h,u[xe].location),ne=_a(Ea(re.content)),ae,J=0;J<ne.length;++J){var De=ne[J];De.id==xe&&(ae=De)}var Ve=hn(ae.messages[0].data);{delete Ve[6],delete Ie[7];var Ce=new Uint8Array(Ve[5][0].data);Ve[5]=[];for(var Me=0,nt=0;nt<=n.e.r;++nt){var mt=hn(Ce);Me+=jQ(mt,a[nt],l),mt[1][0].data=pr(nt),Ve[5].push({data:In(mt),type:2})}Ve[1]=[{type:0,data:pr(n.e.c+1)}],Ve[2]=[{type:0,data:pr(n.e.r+1)}],Ve[3]=[{type:0,data:pr(Me)}],Ve[4]=[{type:0,data:pr(n.e.r+1)}]}ae.messages[0].data=In(Ve);var Wt=Wc(ne),vt=Gc(Wt);re.content=vt,re.size=re.content.length})()}_e.data=In(oe)}P[3][0].data=In(Ie)}O[4][0].data=In(P)}v.messages[0].data=In(O);var se=Wc(y),U=Gc(se);return g.content=U,g.size=g.content.length,h}function PQ(t){return function(r){for(var n=0;n!=t.length;++n){var s=t[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Sb(t){PQ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function RQ(t,e){return e.bookType=="ods"?L6(t,e):e.bookType=="numbers"?IQ(t,e):e.bookType=="xlsb"?DQ(t,e):OQ(t,e)}function DQ(t,e){au=1024,t&&!t.SSF&&(t.SSF=Cs(Kr)),t&&t.SSF&&(Fm(),Om(t.SSF),e.revssf=Lm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,e0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=v6.indexOf(e.bookType)>-1,s=K5();Sb(e=e||{});var a=hb(),l="",u=0;if(e.cellXfs=[],nl(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",zt(a,l,J5(t.Props,e)),s.coreprops.push(l),mr(e.rels,2,l,ar.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,zt(a,l,e6(t.Props)),s.extprops.push(l),mr(e.rels,3,l,ar.EXT_PROPS),t.Custprops!==t.Props&&Un(t.Custprops||{}).length>0&&(l="docProps/custom.xml",zt(a,l,t6(t.Custprops)),s.custprops.push(l),mr(e.rels,4,l,ar.CUST_PROPS)),u=1;u<=t.SheetNames.length;++u){var p={"!id":{}},g=t.Sheets[t.SheetNames[u-1]],y=(g||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+u+"."+r,zt(a,l,LX(u-1,l,e,t,p)),s.sheets.push(l),mr(e.wbrels,-1,"worksheets/sheet"+u+"."+r,ar.WS[0])}if(g){var v=g["!comments"],_=!1,w="";v&&v.length>0&&(w="xl/comments"+u+"."+r,zt(a,w,$X(v,w)),s.comments.push(w),mr(p,-1,"../comments"+u+"."+r,ar.CMNT),_=!0),g["!legacy"]&&_&&zt(a,"xl/drawings/vmlDrawing"+u+".vml",x6(u,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&zt(a,X5(l),du(p))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+r,zt(a,l,VX(e.Strings,l,e)),s.strs.push(l),mr(e.wbrels,-1,"sharedStrings."+r,ar.SST)),l="xl/workbook."+r,zt(a,l,FX(t,l)),s.workbooks.push(l),mr(e.rels,1,l,ar.WB),l="xl/theme/theme1.xml",zt(a,l,m6(t.Themes,e)),s.themes.push(l),mr(e.wbrels,-1,"theme/theme1.xml",ar.THEME),l="xl/styles."+r,zt(a,l,MX(t,l,e)),s.styles.push(l),mr(e.wbrels,-1,"styles."+r,ar.STY),t.vbaraw&&n&&(l="xl/vbaProject.bin",zt(a,l,t.vbaraw),s.vba.push(l),mr(e.wbrels,-1,"vbaProject.bin",ar.VBA)),l="xl/metadata."+r,zt(a,l,BX(l)),s.metadata.push(l),mr(e.wbrels,-1,"metadata."+r,ar.XLMETA),zt(a,"[Content_Types].xml",Y5(s,e)),zt(a,"_rels/.rels",du(e.rels)),zt(a,"xl/_rels/workbook."+r+".rels",du(e.wbrels)),delete e.revssf,delete e.ssf,a}function OQ(t,e){au=1024,t&&!t.SSF&&(t.SSF=Cs(Kr)),t&&t.SSF&&(Fm(),Om(t.SSF),e.revssf=Lm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,e0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=v6.indexOf(e.bookType)>-1,s=K5();Sb(e=e||{});var a=hb(),l="",u=0;if(e.cellXfs=[],nl(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",zt(a,l,J5(t.Props,e)),s.coreprops.push(l),mr(e.rels,2,l,ar.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,zt(a,l,e6(t.Props)),s.extprops.push(l),mr(e.rels,3,l,ar.EXT_PROPS),t.Custprops!==t.Props&&Un(t.Custprops||{}).length>0&&(l="docProps/custom.xml",zt(a,l,t6(t.Custprops)),s.custprops.push(l),mr(e.rels,4,l,ar.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,u=1;u<=t.SheetNames.length;++u){var g={"!id":{}},y=t.Sheets[t.SheetNames[u-1]],v=(y||{})["!type"]||"sheet";switch(v){case"chart":default:l="xl/worksheets/sheet"+u+"."+r,zt(a,l,S6(u-1,e,t,g)),s.sheets.push(l),mr(e.wbrels,-1,"worksheets/sheet"+u+"."+r,ar.WS[0])}if(y){var _=y["!comments"],w=!1,E="";if(_&&_.length>0){var O=!1;_.forEach(function(j){j[1].forEach(function(z){z.T==!0&&(O=!0)})}),O&&(E="xl/threadedComments/threadedComment"+u+"."+r,zt(a,E,hq(_,p,e)),s.threadedcomments.push(E),mr(g,-1,"../threadedComments/threadedComment"+u+"."+r,ar.TCMNT)),E="xl/comments"+u+"."+r,zt(a,E,y6(_)),s.comments.push(E),mr(g,-1,"../comments"+u+"."+r,ar.CMNT),w=!0}y["!legacy"]&&w&&zt(a,"xl/drawings/vmlDrawing"+u+".vml",x6(u,y["!comments"])),delete y["!comments"],delete y["!legacy"]}g["!id"].rId1&&zt(a,X5(l),du(g))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+r,zt(a,l,c6(e.Strings,e)),s.strs.push(l),mr(e.wbrels,-1,"sharedStrings."+r,ar.SST)),l="xl/workbook."+r,zt(a,l,I6(t)),s.workbooks.push(l),mr(e.rels,1,l,ar.WB),l="xl/theme/theme1.xml",zt(a,l,m6(t.Themes,e)),s.themes.push(l),mr(e.wbrels,-1,"theme/theme1.xml",ar.THEME),l="xl/styles."+r,zt(a,l,f6(t,e)),s.styles.push(l),mr(e.wbrels,-1,"styles."+r,ar.STY),t.vbaraw&&n&&(l="xl/vbaProject.bin",zt(a,l,t.vbaraw),s.vba.push(l),mr(e.wbrels,-1,"vbaProject.bin",ar.VBA)),l="xl/metadata."+r,zt(a,l,g6()),s.metadata.push(l),mr(e.wbrels,-1,"metadata."+r,ar.XLMETA),p.length>1&&(l="xl/persons/person.xml",zt(a,l,fq(p)),s.people.push(l),mr(e.wbrels,-1,"persons/person.xml",ar.PEOPLE)),zt(a,"[Content_Types].xml",Y5(s,e)),zt(a,"_rels/.rels",du(e.rels)),zt(a,"xl/_rels/workbook."+r+".rels",du(e.wbrels)),delete e.revssf,delete e.ssf,a}function FQ(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=qi(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function M6(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return th(e.file,vr.write(t,{type:ur?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return vr.write(t,e)}function LQ(t,e){var r=Cs(e||{}),n=RQ(t,r);return MQ(n,r)}function MQ(t,e){var r={},n=ur?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?vr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(Dm(s))}return e.password&&typeof encrypt_agile<"u"?M6(encrypt_agile(s,e.password),e):e.type==="file"?th(e.file,s):e.type=="string"?Xd(s):s}function VQ(t,e){var r=e||{},n=tQ(t,r);return M6(n,r)}function Xa(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return E0(N0(n));case"binary":return N0(n);case"string":return t;case"file":return th(e.file,n,"utf8");case"buffer":return ur?Qi(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Xa(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function $Q(t,e){switch(e.type){case"base64":return E0(t);case"binary":return t;case"string":return t;case"file":return th(e.file,t,"binary");case"buffer":return ur?Qi(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Rf(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?E0(r):e.type=="string"?Xd(r):r;case"file":return th(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function V6(t,e){pH(),NX(t);var r=Cs(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=V6(t,r);return r.type="array",Dm(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=t.SheetNames.indexOf(r.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Xa(ZX(t,r),r);case"slk":case"sylk":return Xa(_G.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"htm":case"html":return Xa(D6(t.Sheets[t.SheetNames[s]],r),r);case"txt":return $Q($6(t.Sheets[t.SheetNames[s]],r),r);case"csv":return Xa(Cb(t.Sheets[t.SheetNames[s]],r),r,"\uFEFF");case"dif":return Xa(EG.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"dbf":return Rf(wG.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"prn":return Xa(TG.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"rtf":return Xa(IG.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"eth":return Xa(l6.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"fods":return Xa(L6(t,r),r);case"wk1":return Rf(MT.sheet_to_wk1(t.Sheets[t.SheetNames[s]],r),r);case"wk3":return Rf(MT.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Rf(R6(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),VQ(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return LQ(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function BQ(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Um(t,e,r){var n={};return n.type="file",n.file=e,BQ(n),V6(t,n)}function UQ(t,e,r,n,s,a,l,u){var d=$n(r),h=u.defval,p=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),g=!0,y=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!l||t[r])for(var v=e.s.c;v<=e.e.c;++v){var _=l?t[r][v]:t[n[v]+d];if(_===void 0||_.t===void 0){if(h===void 0)continue;a[v]!=null&&(y[a[v]]=h);continue}var w=_.v;switch(_.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(a[v]!=null){if(w==null)if(_.t=="e"&&w===null)y[a[v]]=null;else if(h!==void 0)y[a[v]]=h;else if(p&&w===null)y[a[v]]=null;else continue;else y[a[v]]=p&&(_.t!=="n"||_.t==="n"&&u.rawNumbers!==!1)?w:Ki(_,w,u);w!=null&&(g=!1)}}return{row:y,isempty:g}}function Yp(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,a=[],l=0,u="",d={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},p=h.range!=null?h.range:t["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof p){case"string":d=Ir(p);break;case"number":d=Ir(t["!ref"]),d.s.r=p;break;default:d=p}n>0&&(s=0);var g=$n(d.s.r),y=[],v=[],_=0,w=0,E=Array.isArray(t),O=d.s.r,j=0,z={};E&&!t[O]&&(t[O]=[]);var L=h.skipHidden&&t["!cols"]||[],Y=h.skipHidden&&t["!rows"]||[];for(j=d.s.c;j<=d.e.c;++j)if(!(L[j]||{}).hidden)switch(y[j]=es(j),r=E?t[O][j]:t[y[j]+g],n){case 1:a[j]=j-d.s.c;break;case 2:a[j]=y[j];break;case 3:a[j]=h.header[j-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=l=Ki(r,null,h),w=z[l]||0,!w)z[l]=1;else{do u=l+"_"+w++;while(z[u]);z[l]=w,z[u]=1}a[j]=u}for(O=d.s.r+s;O<=d.e.r;++O)if(!(Y[O]||{}).hidden){var H=UQ(t,d,O,y,n,a,E,h);(H.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(v[_++]=H.row)}return v.length=_,v}var GT=/"/g;function zQ(t,e,r,n,s,a,l,u){for(var d=!0,h=[],p="",g=$n(r),y=e.s.c;y<=e.e.c;++y)if(n[y]){var v=u.dense?(t[r]||[])[y]:t[n[y]+g];if(v==null)p="";else if(v.v!=null){d=!1,p=""+(u.rawNumbers&&v.t=="n"?v.v:Ki(v,null,u));for(var _=0,w=0;_!==p.length;++_)if((w=p.charCodeAt(_))===s||w===a||w===34||u.forceQuotes){p='"'+p.replace(GT,'""')+'"';break}p=="ID"&&(p='"ID"')}else v.f!=null&&!v.F?(d=!1,p="="+v.f,p.indexOf(",")>=0&&(p='"'+p.replace(GT,'""')+'"')):p="";h.push(p)}return u.blankrows===!1&&d?null:h.join(l)}function Cb(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var s=Ir(t["!ref"]),a=n.FS!==void 0?n.FS:",",l=a.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,d=u.charCodeAt(0),h=new RegExp((a=="|"?"\\|":a)+"+$"),p="",g=[];n.dense=Array.isArray(t);for(var y=n.skipHidden&&t["!cols"]||[],v=n.skipHidden&&t["!rows"]||[],_=s.s.c;_<=s.e.c;++_)(y[_]||{}).hidden||(g[_]=es(_));for(var w=0,E=s.s.r;E<=s.e.r;++E)(v[E]||{}).hidden||(p=zQ(t,s,E,g,l,d,a,n),p!=null&&(n.strip&&(p=p.replace(h,"")),(p||n.blankrows!==!1)&&r.push((w++?u:"")+p)));return delete n.dense,r.join("")}function $6(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Cb(t,e);return r}function HQ(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var s=Ir(t["!ref"]),a="",l=[],u,d=[],h=Array.isArray(t);for(u=s.s.c;u<=s.e.c;++u)l[u]=es(u);for(var p=s.s.r;p<=s.e.r;++p)for(a=$n(p),u=s.s.c;u<=s.e.c;++u)if(e=l[u]+a,r=h?(t[p]||[])[u]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=e+"="+n}return d}function B6(t,e,r){var n=r||{},s=+!n.skipHeader,a=t||{},l=0,u=0;if(a&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?Tn(n.origin):n.origin;l=d.r,u=d.c}var h,p={s:{c:0,r:0},e:{c:u,r:l+e.length-1+s}};if(a["!ref"]){var g=Ir(a["!ref"]);p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),l==-1&&(l=g.e.r+1,p.e.r=l+e.length-1+s)}else l==-1&&(l=0,p.e.r=e.length-1+s);var y=n.header||[],v=0;e.forEach(function(w,E){Un(w).forEach(function(O){(v=y.indexOf(O))==-1&&(y[v=y.length]=O);var j=w[O],z="z",L="",Y=yr({c:u+v,r:l+E+s});h=S0(a,Y),j&&typeof j=="object"&&!(j instanceof Date)?a[Y]=j:(typeof j=="number"?z="n":typeof j=="boolean"?z="b":typeof j=="string"?z="s":j instanceof Date?(z="d",n.cellDates||(z="n",j=Ss(j)),L=n.dateNF||Kr[14]):j===null&&n.nullError&&(z="e",j=0),h?(h.t=z,h.v=j,delete h.w,delete h.R,L&&(h.z=L)):a[Y]=h={t:z,v:j},L&&(h.z=L))})}),p.e.c=Math.max(p.e.c,u+y.length-1);var _=$n(l);if(s)for(v=0;v<y.length;++v)a[es(v+u)+_]={t:"s",v:y[v]};return a["!ref"]=an(p),a}function WQ(t,e){return B6(null,t,e)}function S0(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Tn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?S0(t,yr(e)):S0(t,yr({r:e,c:r||0}))}function GQ(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function qQ(){return{SheetNames:[],Sheets:{}}}function KQ(t,e,r,n){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var l=a&&a[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=l+s)!=-1;++s);}if(j6(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function YQ(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=GQ(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function XQ(t,e){return t.z=e,t}function U6(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function QQ(t,e,r){return U6(t,"#"+e,r)}function JQ(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function ZQ(t,e,r,n){for(var s=typeof e!="string"?e:Ir(e),a=typeof e=="string"?e:an(e),l=s.s.r;l<=s.e.r;++l)for(var u=s.s.c;u<=s.e.c;++u){var d=S0(t,l,u);d.t="n",d.F=a,delete d.v,l==s.s.r&&u==s.s.c&&(d.f=r,n&&(d.D=!0))}return t}var oa={encode_col:es,encode_row:$n,encode_cell:yr,encode_range:an,decode_col:yb,decode_row:xb,split_cell:pW,decode_cell:Tn,decode_range:Gs,format_cell:Ki,sheet_add_aoa:U5,sheet_add_json:B6,sheet_add_dom:O6,aoa_to_sheet:zu,json_to_sheet:WQ,table_to_sheet:F6,table_to_book:EQ,sheet_to_csv:Cb,sheet_to_txt:$6,sheet_to_json:Yp,sheet_to_html:D6,sheet_to_formulae:HQ,sheet_to_row_object_array:Yp,sheet_get_cell:S0,book_new:qQ,book_append_sheet:KQ,book_set_sheet_visibility:YQ,cell_set_number_format:XQ,cell_set_hyperlink:U6,cell_set_internal_link:QQ,cell_add_comment:JQ,sheet_set_array_formula:ZQ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const z6=({orders:t,setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:s,formatDate:a,handleRenewal:l,actionLoading:u,balance:d,theme:h="dark"})=>{const[p,g]=N.useState(!1),[y,v]=N.useState(null),[_,w]=N.useState(""),[E,O]=N.useState(!1),[j,z]=N.useState({key:null,direction:"asc"}),L=h==="dark",Y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},H={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:L?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},S={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.25,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.15}}},A={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},I=N.useMemo(()=>{let oe=[...t].filter(xe=>(xe.productName||"").toLowerCase().includes(n.toLowerCase())||(xe.orderId||"").toLowerCase().includes(n.toLowerCase()));return j.key&&oe.sort((xe,se)=>{let U=xe[j.key]||"",re=se[j.key]||"";return typeof U=="string"&&(U=U.toLowerCase()),typeof re=="string"&&(re=re.toLowerCase()),U<re?j.direction==="asc"?-1:1:U>re?j.direction==="asc"?1:-1:0}),oe},[t,n,j]),P=oe=>{const xe={netflix:{bg:L?"bg-red-900/30":"bg-red-100",text:L?"text-red-300":"text-red-800"},disney:{bg:L?"bg-blue-900/30":"bg-blue-100",text:L?"text-blue-300":"text-blue-800"},max:{bg:L?"bg-yellow-900/30":"bg-yellow-100",text:L?"text-yellow-300":"text-yellow-800"},spotify:{bg:L?"bg-green-900/30":"bg-green-100",text:L?"text-green-300":"text-green-800"},default:{bg:L?"bg-gray-900/30":"bg-gray-100",text:L?"text-gray-300":"text-gray-700"}};return xe[oe?.toLowerCase()]||xe.default},M=oe=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[oe?.toLowerCase()]||oe||"N/A",R=(oe,xe)=>{const se=oe.status||"pending",U=new Date(oe.endDate)>new Date;let re,ne,ae;return se==="soporte"?(re="En soporte",ne=xe?"text-blue-400":"text-blue-600",ae=i.jsx(Fi,{className:ne,title:"En Soporte"})):se==="rechazado"?(re="No aplica soporte",ne=xe?"text-amber-700":"text-amber-900",ae=i.jsx(ia,{className:ne,title:"No aplica soporte"})):se==="pending"?(re="Pendiente a activacion",ne=xe?"text-yellow-400":"text-yellow-600",ae=i.jsx(nc,{className:ne,title:"Pendiente a activacion"})):U?(re="Activo",ne=xe?"text-green-400":"text-green-600",ae=i.jsx(ku,{className:ne,title:"Activo"})):(re="Expirado",ne=xe?"text-red-400":"text-red-600",ae=i.jsx(ia,{className:ne,title:"Expirado"})),{text:re,color:ne,icon:ae}},F=oe=>{z(xe=>({key:oe,direction:xe.key===oe&&xe.direction==="asc"?"desc":"asc"}))},me=oe=>j.key!==oe?null:j.direction==="asc"?i.jsx(Pm,{className:"ml-1"}):i.jsx(Im,{className:"ml-1"}),Te=()=>{const oe=I.map(re=>{const ne=parseFloat(re.price)||0,ae=parseFloat(re.renewalPrice)||ne,J=re.status||"pending",De=J==="pending",Ve=J==="soporte",Ce=J==="rechazado",Me=new Date(re.endDate)>new Date,nt=Math.max(0,re.daysRemaining||0);let mt;Ve?mt="En soporte":Ce?mt="No aplica soporte":De?mt="Pendiente a activacion":Me?mt="Activo":mt="Expirado";const Wt=Ve||Ce||De;let vt;return Wt?vt=mt:vt=`${nt} día${nt===1?"":"s"}`,{Estado:mt,Producto:re.productName||"Sin nombre",Categoría:M(re.category),"N° Pedido":re.orderId||"N/A",Precio:`S/ ${ne.toFixed(2)}`,"Precio Renovación":ae!==ne?`S/ ${ae.toFixed(2)}`:"N/A","Tiempo Restante":vt,"Fecha de Inicio":a(re.startDate),"Fecha de Vencimiento":a(re.endDate),Email:re.account?.email||"N/A",Contraseña:re.account?.password||"N/A",Perfil:re.account?.profile||"N/A",PIN:re.account?.pin||"N/A",Proveedor:re.provider||"N/A",Nombre:re.client?.customerName||"N/A","Teléfono Cliente":re.client?.phone||"N/A"}}),xe=oa.json_to_sheet(oe),se=oa.book_new();oa.book_append_sheet(se,xe,"Pedidos");const U=new Date().toISOString().slice(0,10).replace(/-/g,"");Um(se,`mis_pedidos_export_${U}.xlsx`)},je=oe=>{v(oe),w(""),g(!0)},Ie=()=>{g(!1),v(null),w(""),O(!1)},_e=async()=>{if(!_.trim()){alert("El mensaje es obligatorio.");return}if(!y||!y.id){alert("Error: No se encontró el ID del pedido.");return}O(!0);try{await ui(at(Ae,"sales",y.id),{status:"soporte",soporteMessage:_,soporteCreatedAt:new Date},{merge:!0}),console.log(`Documento actualizado exitosamente para order ID: ${y.id}`),typeof e=="function"&&e(oe=>{const xe=oe.map(U=>String(U.id)===String(y.id)?{...U,status:"soporte",soporteMessage:_,soporteCreatedAt:new Date}:U);console.log("Orders actualizados localmente:",xe);const se=xe.find(U=>String(U.id)===String(y.id));return console.log(`Mensaje agregado localmente para ${y.id}:`,se?.soporteMessage),xe}),typeof r=="function"&&setTimeout(async()=>{await r()},500),alert(`Soporte enviado para "${y.productName}". El pedido ahora está en estado "En soporte".`)}catch(oe){console.error("Error detallado en sendSupport:",oe),alert("Hubo un error al enviar a soporte. Verifica la consola del navegador para más detalles. Asegúrate de que el ID del pedido sea correcto y que tengas permisos en Firebase.")}finally{O(!1)}Ie()};return i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${L?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:Y,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"orders-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"orders-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${L?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(oi,{className:"mr-2"})," Mis Pedidos",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${L?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:I.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos por nombre o ID...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${L?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:oe=>s(oe.target.value),"aria-label":"Buscar pedidos por nombre o ID"}),i.jsx(oi,{className:`absolute left-3 top-3.5 ${L?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(ee.button,{onClick:Te,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${L?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos como Excel","aria-label":"Exportar pedidos a Excel",children:[i.jsx(Rm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx(Vt,{children:I.length>0?i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${L?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${L?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:"status",label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"orderId",label:"N° Pedido"},{key:"price",label:"Precio"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{key:"provider",label:"Proveedor"},{key:"customerName",label:"Nombre Cliente"},{key:"phone",label:"Teléfono Cliente"},{label:"Acciones"}].map(({key:oe,label:xe})=>i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${L?"text-gray-300":"text-gray-700"} cursor-pointer hover:text-blue-400 transition-colors`,onClick:()=>oe&&F(oe),children:i.jsxs("div",{className:"flex items-center justify-between",children:[xe,oe&&me(oe)]})},oe||xe))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:I.map(oe=>{const xe=parseFloat(oe.price)||0,se=parseFloat(oe.renewalPrice)||xe,U=oe.status||"pending",re=U==="pending",ne=U==="soporte",ae=U==="rechazado",J=new Date(oe.endDate)>new Date,De=Math.max(0,oe.daysRemaining||0),Ve=Math.min(oe.timeElapsedPercentage||0,100),Ce=R(oe,L),Me=P(oe.category);let nt;Ve<70?nt=L?"bg-green-500":"bg-green-600":Ve<90?nt=L?"bg-orange-500":"bg-orange-600":nt=L?"bg-red-500":"bg-red-600";const mt=!["En soporte","No aplica soporte","Pendiente a activacion"].includes(Ce.text),vt=ne||ae||re?Ce.text:`${De} día${De===1?"":"s"}`,rr=mt?nt.replace("bg-","text-"):Ce.color,Dt=Ce.text,Re=encodeURIComponent(`*Consulta sobre Pedido - ${oe.productName||"Sin nombre"}*

*N° Pedido:* ${oe.orderId||"No especificado"}
*Producto:* ${oe.productName||"Sin nombre"}
*Precio:* S/ ${xe.toFixed(2)}
`+(se?`*Precio de Renovación:* S/ ${se.toFixed(2)}
`:"")+`*Estado:* ${Dt}
*Fecha de Inicio:* ${a(oe.startDate)}
*Fecha de Vencimiento:* ${a(oe.endDate)}
`+(re?`Hola 😊, he comprado un producto a pedido (${oe.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),dr=!(re||ne||ae),Mt=re?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:ne?`*Nota:* Este pedido está "En Soporte". El proveedor lo está revisando.

`:ae?`*Nota:* Este pedido ha sido rechazado. No aplica soporte.

`:"",He=encodeURIComponent(`😊 Estimado/a ${oe.client?.customerName||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${oe.productName||"Sin nombre"}.
🔢 Código: ${oe.orderId||"No especificado"}
`+(dr?`📧 Correo: ${oe.account?.email||"No especificado"}
🔐 Contraseña: ${oe.account?.password||"No especificado"}
👤 Perfil: ${oe.account?.profile||"No especificado"}
📌 PIN: ${oe.account?.pin||"No especificado"}
`:"")+`🌐 URL: Sin URL
📅 Fecha de creación: ${a(oe.startDate)}
📅 Fecha de vencimiento: ${a(oe.endDate)}
🏁 Días contratados: ${oe.durationDays||30} días.

`+Mt+`*Términos y Condiciones:*
${oe.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),he=oe.providerPhone?oe.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999",Je=oe.client?.phone?oe.client.phone.replace(/^\+/,"").replace(/\D/g,""):"51999999999";return i.jsxs(ee.tr,{className:`transition-colors duration-200 ${L?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:H,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${oe.id}-title`,children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-full ${Ce.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:Ce.icon}),i.jsx("span",{className:`${Ce.color} font-medium`,children:Ce.text})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsx("h4",{id:`order-${oe.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:oe.productName||"Sin nombre"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Me.bg} ${Me.text}`,children:M(oe.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:oe.orderId||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"font-bold text-lg",children:["S/ ",xe.toFixed(2)]}),se!==xe&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-gray-100/50 dark:bg-gray-800/50 px-2 py-1 rounded-full",children:[i.jsx(QS,{size:12,className:"text-gray-400"}),i.jsxs("span",{children:["S/ ",se.toFixed(2)]})]})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[mt&&i.jsx("div",{className:"relative",children:i.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${L?"bg-gray-600/40":"bg-gray-300/40"}`,children:i.jsx(ee.div,{className:`h-2 rounded-full ${nt}`,initial:{width:0},animate:{width:`${Ve}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),i.jsx("span",{className:`text-sm font-medium ${rr}`,children:vt})]})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(oe.startDate)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(oe.endDate)}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:oe.account?.email||"N/A",children:oe.account?.email||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:oe.account?.password||"N/A",children:oe.account?.password||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:oe.account?.profile||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono",children:oe.account?.pin||"N/A"}),i.jsx("td",{className:"px-4 py-4 text-sm font-medium text-teal-600",children:oe.provider||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:oe.client?.customerName||"N/A",children:oe.client?.customerName||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.client?.phone||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:["soporte","rechazado"].includes(U)?i.jsx("div",{className:"flex gap-2",children:i.jsx("span",{className:"text-gray-400 text-xs",children:"Sin acciones"})}):i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee.a,{href:`https://wa.me/51${he}?text=${Re}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor","aria-label":`Contactar proveedor para el pedido ${oe.orderId||oe.productName}`,children:i.jsx($r,{size:16})}),J&&oe.renewable&&i.jsx(ee.button,{onClick:()=>l(oe),disabled:u[`renew_${oe.id}`]||d<se,className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${u[`renew_${oe.id}`]||d<se?"bg-gray-300/50 text-gray-500 cursor-not-allowed":"bg-blue-500/80 hover:bg-blue-600/90 text-white"} transition-all duration-200`,whileHover:{scale:u[`renew_${oe.id}`]||d<se?1:1.1},whileTap:{scale:u[`renew_${oe.id}`]||d<se?1:.9},title:"Renovar pedido","aria-label":`Renovar pedido ${oe.orderId||oe.productName} por S/ ${se.toFixed(2)}`,children:u[`renew_${oe.id}`]?i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):i.jsx(XS,{size:16})}),i.jsx(ee.a,{href:`https://wa.me/51${Je}?text=${He}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-amber-500/80 hover:bg-amber-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente","aria-label":`Contactar cliente para el pedido ${oe.orderId||oe.productName}`,children:i.jsx($r,{size:16})}),i.jsx(ee.button,{onClick:()=>je(oe),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-purple-500/80 hover:bg-purple-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Soporte","aria-label":`Abrir soporte para el pedido ${oe.orderId||oe.productName}`,children:i.jsx(Fi,{size:16})})]})})]},oe.id)})})]})})}):i.jsxs(ee.div,{className:"text-center py-16",variants:Y,initial:"hidden",animate:"visible",children:[i.jsx(ee.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(oi,{className:`mx-auto text-6xl ${L?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${L?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos encontrados"}),i.jsx("p",{className:`text-sm ${L?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o realiza tu primer pedido."})]})}),i.jsx(Vt,{children:p&&y&&i.jsxs(i.Fragment,{children:[i.jsx(ee.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",variants:A,initial:"hidden",animate:"visible",exit:"exit",onClick:Ie}),i.jsxs(ee.div,{className:`relative w-full max-w-md p-6 rounded-3xl shadow-2xl border z-[10000] ${L?"bg-gray-800/95 border-gray-700/50 text-white":"bg-white/95 border-gray-200/50 text-gray-900"}`,variants:S,initial:"hidden",animate:"visible",exit:"exit",onClick:oe=>oe.stopPropagation(),children:[i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx(ee.button,{onClick:Ie,className:`p-2 rounded-full ${L?"bg-gray-700/50 hover:bg-gray-600/50":"bg-gray-200/50 hover:bg-gray-300/50"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(ia,{size:18,className:L?"text-gray-300":"text-gray-600"})})}),i.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[i.jsx(Fi,{className:"text-purple-500"}),"Soporte para: ",y.productName||"Sin nombre"]}),i.jsx("textarea",{value:_,onChange:oe=>w(oe.target.value),placeholder:"Escribe tu mensaje de soporte detallado (obligatorio)...",className:`w-full p-4 rounded-2xl resize-none transition-all duration-200 ${L?"bg-gray-700/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-purple-500/50":"bg-gray-100/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-purple-500/50"} focus:ring-2 focus:ring-purple-500/30 focus:outline-none`,rows:5,required:!0,disabled:E}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx(ee.button,{onClick:Ie,className:`px-6 py-2.5 rounded-xl font-medium transition-all duration-200 ${L?"bg-gray-600/70 hover:bg-gray-700/80 text-white":"bg-gray-300/70 hover:bg-gray-400/80 text-gray-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},disabled:E,children:"Cancelar"}),i.jsx(ee.button,{onClick:_e,className:`px-6 py-2.5 rounded-xl font-medium flex items-center gap-2 transition-all duration-200 ${!_.trim()||E?"bg-gray-400/70 cursor-not-allowed text-gray-500":"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white"}`,whileHover:!_.trim()||E?{}:{scale:1.05},whileTap:!_.trim()||E?{}:{scale:.95},disabled:!_.trim()||E,children:E?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}),"Enviando..."]}):"Enviar Soporte"})]})]})]})})]})};z6.propTypes={orders:W.arrayOf(W.shape({id:W.string.isRequired,productName:W.string,category:W.string,orderId:W.string,price:W.oneOfType([W.string,W.number]),renewalPrice:W.oneOfType([W.string,W.number]),status:W.string,startDate:W.oneOfType([W.string,W.instanceOf(Date)]),endDate:W.oneOfType([W.string,W.instanceOf(Date)]),daysRemaining:W.number,timeElapsedPercentage:W.number,account:W.shape({email:W.string,password:W.string,profile:W.string,pin:W.string}),client:W.shape({customerName:W.string,phone:W.string}),provider:W.string,providerPhone:W.string,renewable:W.bool,termsAndConditions:W.string,durationDays:W.number,soporteMessage:W.string,soporteCreatedAt:W.oneOfType([W.string,W.instanceOf(Date)])})).isRequired,setOrders:W.func.isRequired,fetchOrders:W.func,searchQuery:W.string.isRequired,setSearchQuery:W.func.isRequired,formatDate:W.func.isRequired,handleRenewal:W.func.isRequired,actionLoading:W.object.isRequired,balance:W.number.isRequired,theme:W.oneOf(["light","dark"]).isRequired};const H6=({userName:t,email:e,actionLoading:r,handleUpdatePassword:n,openEditProfileModal:s,handleLogout:a,theme:l="dark"})=>{const u=l==="dark",d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},p={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}};return i.jsxs(ee.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"settings-title",children:[i.jsx(ee.h3,{id:"settings-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Configuración"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[i.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ks,{size:20}),"Perfil"]}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[i.jsx(ks,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Nombre:"}),i.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:t.username})]})]}),i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[i.jsx(ob,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Correo:"}),i.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:e})]})]}),i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[i.jsx(w0,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Teléfono:"}),i.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:t.phone||"No especificado"})]})]})]}),i.jsxs(ee.button,{onClick:()=>s({id:t.id,username:t.username,phone:t.phone}),className:`w-full px-6 py-3 rounded-xl font-semibold transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white focus:ring-blue-400":"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white focus:ring-blue-500"}`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Editar perfil",children:[i.jsx(fz,{size:18,className:"inline mr-2"}),"Editar Perfil"]})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[i.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-green-400":"text-green-600"}`,children:[i.jsx(Pp,{size:20}),"Seguridad"]}),i.jsxs("form",{onSubmit:n,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nueva Contraseña"}),i.jsx("input",{type:"password",name:"password",className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-300`,placeholder:"Ingrese nueva contraseña (mínimo 6 caracteres)","aria-label":"Nueva contraseña"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nuevo Teléfono"}),i.jsx("input",{type:"tel",name:"phone",className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-300`,placeholder:"Ingrese nuevo teléfono (ej: +51 940 505 969)",defaultValue:t.phone||"","aria-label":"Nuevo teléfono"})]}),i.jsx(ee.button,{type:"submit",disabled:r.password,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${r.password?"bg-gray-300 text-gray-500 cursor-not-allowed":u?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-400":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-500"}`,variants:p,whileHover:r.password?{}:"hover",whileTap:r.password?{}:"tap","aria-label":"Guardar cambios de seguridad",children:r.password?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}),i.jsx("span",{children:"Guardando..."})]}):"Guardar Cambios"})]})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[i.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-red-400":"text-red-600"}`,children:[i.jsx(Rp,{size:20}),"Sesión"]}),i.jsxs(ee.button,{onClick:a,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${u?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-400":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-500"}`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar sesión",children:[i.jsx(Rp,{size:18}),"Cerrar Sesión"]})]})]})]})};H6.propTypes={userName:W.shape({id:W.string.isRequired,username:W.string.isRequired,phone:W.string}).isRequired,email:W.string.isRequired,actionLoading:W.shape({password:W.bool}).isRequired,handleUpdatePassword:W.func.isRequired,openEditProfileModal:W.func.isRequired,handleLogout:W.func.isRequired,theme:W.oneOf(["light","dark"]).isRequired};const W6=({orders:t=[],setOrders:e=()=>{},fetchOrders:r,searchQuery:n="",setSearchQuery:s=()=>{},formatDate:a=p=>p?new Date(p).toLocaleDateString("es-PE"):"",handleRenewal:l=()=>{},actionLoading:u={},balance:d=0,theme:h="dark"})=>{const[p,g]=N.useState({key:null,direction:"asc"}),y=h==="dark",v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},_={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:y?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},w=N.useMemo(()=>{let S=[...t.filter(A=>A.status==="soporte")].filter(A=>(A.productName||"").toLowerCase().includes(n.toLowerCase())||(A.orderId||"").toLowerCase().includes(n.toLowerCase()));return p.key&&S.sort((A,I)=>{let P=A[p.key]||"",M=I[p.key]||"";return p.key==="soporteMessage"?(P=A.soporteMessage||"",M=I.soporteMessage||""):p.key==="category"&&(P=O(A.category),M=O(I.category)),typeof P=="string"&&(P=P.toLowerCase()),typeof M=="string"&&(M=M.toLowerCase()),P<M?p.direction==="asc"?-1:1:P>M?p.direction==="asc"?1:-1:0}),S},[t,n,p]),E=H=>{const S={netflix:{bg:y?"bg-red-900/30":"bg-red-100",text:y?"text-red-300":"text-red-800"},disney:{bg:y?"bg-blue-900/30":"bg-blue-100",text:y?"text-blue-300":"text-blue-800"},max:{bg:y?"bg-yellow-900/30":"bg-yellow-100",text:y?"text-yellow-300":"text-yellow-800"},spotify:{bg:y?"bg-green-900/30":"bg-green-100",text:y?"text-green-300":"text-green-800"},default:{bg:y?"bg-gray-900/30":"bg-gray-100",text:y?"text-gray-300":"text-gray-700"}};return S[H?.toLowerCase()]||S.default},O=H=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[H?.toLowerCase()]||H||"N/A",j=(H,S)=>{const A=H.status||"pending",I=new Date(H.endDate)>new Date;let P,M,R;return A==="soporte"?(P="En soporte",M=S?"text-blue-400":"text-blue-600",R=i.jsx(Fi,{className:M,title:"En Soporte"})):A==="rechazado"?(P="No aplica soporte",M=S?"text-amber-700":"text-amber-900",R=i.jsx(ia,{className:M,title:"No aplica soporte"})):I?(P="Activo",M=S?"text-green-400":"text-green-600",R=i.jsx(ku,{className:M,title:"Activo"})):A==="pending"?(P="Pendiente a activacion",M=S?"text-yellow-400":"text-yellow-600",R=i.jsx(nc,{className:M,title:"Pendiente a activacion"})):(P="Expirado",M=S?"text-red-400":"text-red-600",R=i.jsx(ia,{className:M,title:"Expirado"})),{text:P,color:M,icon:R}},z=H=>{g(S=>({key:H,direction:S.key===H&&S.direction==="asc"?"desc":"asc"}))},L=H=>p.key!==H?null:p.direction==="asc"?i.jsx(Pm,{className:"ml-1"}):i.jsx(Im,{className:"ml-1"}),Y=()=>{const H=w.map(P=>{const M=parseFloat(P.price)||0,R=parseFloat(P.renewalPrice)||M,F=P.status||"pending",me=F==="pending",Te=F==="soporte",je=F==="rechazado",Ie=new Date(P.endDate)>new Date,_e=Math.max(0,P.daysRemaining||0);let oe;Te?oe="En Soporte":je?oe="No aplica soporte":Ie?oe="Activo":me?oe="Pendiente a activacion":oe="Expirado";const xe=Te||je||me&&!Ie;let se;return xe?se=oe:se=`${_e} día${_e===1?"":"s"}`,{Estado:oe,Producto:P.productName||"Sin nombre",Categoría:O(P.category),"N° Pedido":P.orderId||"N/A",Precio:`S/ ${M.toFixed(2)}`,"Precio Renovación":R!==M?`S/ ${R.toFixed(2)}`:"N/A","Tiempo Restante":se,"Fecha de Inicio":a(P.startDate),"Fecha de Vencimiento":a(P.endDate),Email:P.account?.email||"N/A",Contraseña:P.account?.password||"N/A",Perfil:P.account?.profile||"N/A",PIN:P.account?.pin||"N/A",Proveedor:P.provider||"N/A","Mensaje de Soporte":P.soporteMessage||"Sin mensaje"}}),S=oa.json_to_sheet(H),A=oa.book_new();oa.book_append_sheet(A,S,"Pedidos");const I=new Date().toISOString().slice(0,10).replace(/-/g,"");Um(A,`mis_pedidos_soporte_export_${I}.xlsx`)};return i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${y?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"support-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"support-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${y?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(Fi,{className:"mr-2"})," Pedidos en Soporte",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${y?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:w.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos en soporte por nombre o ID...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${y?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:H=>s(H.target.value),"aria-label":"Buscar pedidos en soporte por nombre o ID"}),i.jsx(oi,{className:`absolute left-3 top-3.5 ${y?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(ee.button,{onClick:Y,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${y?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos en soporte como Excel","aria-label":"Exportar pedidos en soporte a Excel",children:[i.jsx(Rm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx(Vt,{children:w.length>0?i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${y?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${y?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:null,label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"orderId",label:"N° Pedido"},{key:"price",label:"Precio"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{key:"provider",label:"Proveedor"},{key:"soporteMessage",label:"Mensaje de Soporte"},{label:"Acciones"}].map(({key:H,label:S})=>i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${y?"text-gray-300":"text-gray-700"} ${H?"cursor-pointer hover:text-blue-400 transition-colors":""}`,onClick:()=>H&&z(H),children:i.jsxs("div",{className:"flex items-center justify-between",children:[S,H&&L(H)]})},H||S))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:w.map(H=>{const S=parseFloat(H.price)||0,A=parseFloat(H.renewalPrice)||S,I=H.status||"pending",P=I==="pending",M=I==="soporte",R=I==="rechazado",F=new Date(H.endDate)>new Date,me=Math.max(0,H.daysRemaining||0),Te=Math.min(H.timeElapsedPercentage||0,100),je=j(H,y),Ie=E(H.category);let _e;Te<70?_e=y?"bg-green-500":"bg-green-600":Te<90?_e=y?"bg-orange-500":"bg-orange-600":_e=y?"bg-red-500":"bg-red-600";const oe=!["En soporte","No aplica soporte","Pendiente a activacion"].includes(je.text),se=M||R||P&&!F?je.text:`${me} día${me===1?"":"s"}`,U=oe?_e.replace("bg-","text-"):je.color,re=encodeURIComponent(`*Consulta de Soporte - Pedido ${H.orderId||"N/A"}*

*Producto:* ${H.productName||"Sin nombre"}
*Cliente:* ${H.client?.customerName||"N/A"}
*Mensaje del Cliente:* ${H.soporteMessage||"Sin mensaje"}

Por favor, proporciona una solución o actualización para este soporte. ¡Gracias!`),ne=H.providerPhone?H.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return i.jsxs(ee.tr,{className:`transition-colors duration-200 ${y?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:_,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${H.id}-title`,children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-full ${je.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:je.icon}),i.jsx("span",{className:`${je.color} font-medium`,children:je.text})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsx("h4",{id:`order-${H.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:H.productName||"Sin nombre"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ie.bg} ${Ie.text}`,children:O(H.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:H.orderId||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"font-bold text-lg",children:["S/ ",S.toFixed(2)]}),A!==S&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-gray-100/50 dark:bg-gray-800/50 px-2 py-1 rounded-full",children:[i.jsx(QS,{size:12,className:"text-gray-400"}),i.jsxs("span",{children:["S/ ",A.toFixed(2)]})]})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[oe&&i.jsx("div",{className:"relative",children:i.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${y?"bg-gray-600/40":"bg-gray-300/40"}`,children:i.jsx(ee.div,{className:`h-2 rounded-full ${_e}`,initial:{width:0},animate:{width:`${Te}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),i.jsx("span",{className:`text-sm font-medium ${U}`,children:se})]})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(H.startDate)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(H.endDate)}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:H.account?.email||"N/A",children:H.account?.email||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:H.account?.password||"N/A",children:H.account?.password||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:H.account?.profile||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono",children:H.account?.pin||"N/A"}),i.jsx("td",{className:"px-4 py-4 text-sm font-medium text-teal-600",children:H.provider||"N/A"}),i.jsxs("td",{className:"px-4 py-4 max-w-xs",children:[i.jsx("p",{className:"text-sm break-words line-clamp-3 bg-gray-100/30 dark:bg-gray-800/30 p-2 rounded",title:H.soporteMessage||"Sin mensaje",children:H.soporteMessage||"Sin mensaje"}),H.soporteCreatedAt&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a(H.soporteCreatedAt)})]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("div",{className:"flex gap-2",children:i.jsx(ee.a,{href:`https://wa.me/51${ne}?text=${re}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor por WhatsApp","aria-label":`Contactar proveedor para el pedido ${H.orderId||H.productName}`,children:i.jsx($r,{size:16})})})})]},H.id)})})]})})}):i.jsxs(ee.div,{className:"text-center py-16",variants:v,initial:"hidden",animate:"visible",children:[i.jsx(ee.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(Fi,{className:`mx-auto text-6xl ${y?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${y?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos en soporte encontrados"}),i.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o verifica si hay pedidos en estado de soporte."})]})})]})};W6.propTypes={orders:W.arrayOf(W.shape({id:W.string.isRequired,productName:W.string,category:W.string,orderId:W.string,price:W.oneOfType([W.string,W.number]),renewalPrice:W.oneOfType([W.string,W.number]),status:W.string,startDate:W.oneOfType([W.string,W.instanceOf(Date)]),endDate:W.oneOfType([W.string,W.instanceOf(Date)]),daysRemaining:W.number,timeElapsedPercentage:W.number,account:W.shape({email:W.string,password:W.string,profile:W.string,pin:W.string}),client:W.shape({customerName:W.string}),provider:W.string,providerPhone:W.string,renewable:W.bool,termsAndConditions:W.string,durationDays:W.number,soporteMessage:W.string,soporteCreatedAt:W.oneOfType([W.string,W.instanceOf(Date)])})),setOrders:W.func,fetchOrders:W.func,searchQuery:W.string,setSearchQuery:W.func,formatDate:W.func,handleRenewal:W.func,actionLoading:W.object,balance:W.number,theme:W.oneOf(["light","dark"])};const eJ=({referralCode:t,affiliates:e,formatDate:r,theme:n="dark"})=>{const[s,a]=N.useState(!1),l=n==="dark",u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h=async()=>{try{await navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)}catch(p){console.error("Failed to copy code:",p)}};return i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${l?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[i.jsx(ee.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${l?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Afiliados"}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm mb-8 ${l?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${l?"text-blue-400":"text-blue-600"}`,children:[i.jsx(Su,{size:20}),"Tu Código de Referido"]}),i.jsxs("div",{className:"relative",children:[i.jsx("p",{className:`text-3xl font-bold text-center mb-4 px-4 py-3 rounded-xl bg-gradient-to-r ${l?"from-blue-500/20 to-purple-500/20 text-blue-300 border-blue-500/30":"from-blue-100/50 to-purple-100/50 text-blue-700 border-blue-300/50"} border`,children:t||"Cargando..."}),i.jsx(ee.button,{onClick:h,className:`absolute -top-2 -right-2 p-2 rounded-full bg-blue-500 text-white shadow-lg hover:bg-blue-600 transition-all duration-300 ${l?"hover:shadow-blue-500/25":"hover:shadow-blue-500/50"}`,whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"Copiar código",disabled:!t,children:i.jsx(GS,{size:16})}),i.jsx(Vt,{children:s&&i.jsx(ee.p,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs ${l?"text-green-400":"text-green-600"}`,children:"¡Código copiado!"})})]}),i.jsx("p",{className:`text-sm text-center mt-4 ${l?"text-gray-400":"text-gray-600"}`,children:"Comparte este código con tus amigos para que se unan a través de ti."})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${l?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${l?"text-white":"text-gray-900"}`,children:[i.jsx(Su,{size:20}),"Usuarios Afiliados"]}),i.jsx(Vt,{children:e.length>0?e.map((p,g)=>i.jsxs(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:g*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${l?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[i.jsx("div",{className:"flex items-start justify-between mb-2",children:i.jsx("p",{className:`font-semibold flex-1 ${l?"text-white":"text-gray-900"}`,children:p.username})}),i.jsxs("div",{className:`space-y-2 ${l?"text-gray-300":"text-gray-700"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx($r,{className:"text-blue-400 flex-shrink-0",size:16}),i.jsx("span",{className:"text-sm",children:p.email})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(w0,{className:"text-blue-400 flex-shrink-0",size:16}),i.jsx("span",{className:"text-sm",children:p.phone||"No especificado"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(dz,{className:"text-blue-400 flex-shrink-0",size:16}),i.jsx("span",{className:"text-sm",children:r(p.createdAt)})]})]})]},p.id)):i.jsx(ee.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${l?"text-gray-400":"text-gray-500"}`,children:"SERVICIO QUE VA A LLEGAR MUY PRONTO"})})]})]})},tJ=ja.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>i.jsx(Vt,{children:t&&i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(pn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));tJ.propTypes={show:W.bool.isRequired,onClose:W.func.isRequired,title:W.string.isRequired,message:W.string.isRequired,theme:W.string.isRequired};const G6=()=>{const[t,e]=N.useState(!1),[r,n]=N.useState(""),[s,a]=N.useState([]),[l,u]=N.useState({username:"",phone:""}),[d,h]=N.useState(""),[p,g]=N.useState(0),[y,v]=N.useState(null),[_,w]=N.useState("inicio"),[E,O]=N.useState([]),[j,z]=N.useState({}),[L,Y]=N.useState([]),[H,S]=N.useState([]),[A,I]=N.useState(""),[P,M]=N.useState(!0),[R,F]=N.useState({}),[me,Te]=N.useState(null),[je,Ie]=N.useState({isOpen:!1,message:"",title:""}),[_e,oe]=N.useState({isOpen:!1,user:null}),[xe,se]=N.useState({isOpen:!1,provider:null}),[U,re]=N.useState(""),[ne,ae]=N.useState([]),[J,De]=N.useState("dark"),[Ve,Ce]=N.useState(!1),[Me,nt]=N.useState(!1),[mt,Wt]=N.useState(!1),vt=La();N.useEffect(()=>{const pe=()=>Wt(window.innerWidth<1024);return pe(),window.addEventListener("resize",pe),()=>window.removeEventListener("resize",pe)},[]);const rr=N.useCallback(()=>{De(pe=>pe==="dark"?"light":"dark")},[]),Dt=N.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),Re=N.useCallback((pe,ke)=>{Ie({isOpen:!0,title:pe,message:ke})},[]),dr=N.useCallback(()=>{Ie({isOpen:!1,message:"",title:""})},[]),Mt=N.useCallback(pe=>{oe({isOpen:!0,user:pe})},[]),He=N.useCallback(()=>{oe({isOpen:!1,user:null})},[]),he=N.useCallback(pe=>{se({isOpen:!0,provider:pe})},[]),Je=N.useCallback(()=>{se({isOpen:!1,provider:null})},[]),lt=N.useCallback(pe=>{if(!pe)return"No especificada";try{const ke=pe instanceof Date?pe:new Date(pe);return isNaN(ke.getTime())?"Fecha inválida":ke.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},[]),ft=N.useCallback(async()=>{if(y)try{const pe=Zt(_t(Ae,"sales"),gr("customerId","==",y)),ke=await Jr(pe),Pe=new Set,Qe=[];ke.forEach(it=>{const Ze=it.data();Ze.providerId&&!Pe.has(Ze.providerId)&&(Pe.add(Ze.providerId),Qe.push({id:Ze.providerId,name:Ze.provider||"Proveedor desconocido",phone:Ze.providerPhone||"No especificado"}))});const xt=Zt(_t(Ae,"ratings"),gr("userId","==",y)),st=(await Jr(xt)).docs.map(it=>it.data().providerId);Qe.forEach(it=>{it.hasRated=st.includes(it.id)}),ae(Qe)}catch(pe){console.error("Error fetching providers:",pe),Te("Error al cargar proveedores: "+pe.message)}},[y]),Tt=N.useCallback(async(pe,ke)=>{try{F(Qe=>({...Qe,profile:!0}));const Pe=at(Ae,"users",pe);await jr(Pe,{username:ke,updatedAt:ir()}),u(Qe=>({...Qe,username:ke})),Re("Éxito","Perfil actualizado exitosamente"),He()}catch(Pe){console.error("Error al actualizar perfil:",Pe),Re("Error",Pe.message||"Error al actualizar el perfil")}finally{F(Pe=>({...Pe,profile:!1}))}},[Re,He]),dt=N.useCallback(async(pe,ke)=>{try{F(Pe=>({...Pe,[`rate_${pe}`]:!0})),await Lo(_t(Ae,"ratings"),{userId:y,providerId:pe,rating:ke,ratedAt:ir()}),ae(Pe=>Pe.map(Qe=>Qe.id===pe?{...Qe,hasRated:!0}:Qe)),Re("Éxito","Calificación enviada exitosamente"),Je()}catch(Pe){console.error("Error al calificar proveedor:",Pe),Re("Error",Pe.message||"Error al enviar la calificación")}finally{F(Pe=>({...Pe,[`rate_${pe}`]:!1}))}},[y,Re,Je]),St=N.useCallback(async pe=>{try{F(Qe=>({...Qe,[`delete_${pe.id}`]:!0}));const ke=Zt(_t(Ae,"ratings"),gr("userId","==",y),gr("providerId","==",pe.id)),Pe=await Jr(ke);if(Pe.empty){Re("Error","No se encontró la calificación para eliminar");return}await Ri(Pe.docs[0].ref),ae(Qe=>Qe.map(xt=>xt.id===pe.id?{...xt,hasRated:!1}:xt)),he(pe),Re("Éxito","Calificación anterior eliminada. Ahora puedes volver a calificar.")}catch(ke){console.error("Error al eliminar calificación:",ke),Re("Error",ke.message||"Error al eliminar la calificación")}finally{F(ke=>({...ke,[`delete_${pe.id}`]:!1}))}},[y,Re,he]),ct=N.useCallback(async pe=>{try{F($t=>({...$t,[`renew_${pe.id}`]:!0}));const ke=parseFloat(pe.renewalPrice)||parseFloat(pe.price)||0;if(p<ke){Re("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const Pe=parseInt(pe.durationDays)||30,Qe=br.now(),xt=Qe.toDate(),Nt=xt,st=new Date(Nt.getTime()+Pe*24*60*60*1e3),it=br.fromDate(st),Ze=at(Ae,"sales",pe.id);await jr(Ze,{startDate:Qe,endDate:it,renewedAt:Qe,status:"completed",updatedAt:ir()});const Et=at(Ae,"users",y);await jr(Et,{balance:p-ke}),g($t=>$t-ke),O($t=>$t.map(qt=>qt.id===pe.id?{...qt,startDate:Nt,endDate:st,renewedAt:xt,status:"completed",daysRemaining:Pe,totalDays:Pe,timeElapsedPercentage:0}:qt)),Re("Éxito",`¡Pedido renovado exitosamente! Nueva fecha de vencimiento: ${lt(st)}`)}catch(ke){console.error("Error al renovar el pedido:",ke),Re("Error","Error al renovar el pedido: "+ke.message)}finally{F(ke=>({...ke,[`renew_${pe.id}`]:!1}))}},[p,y,Re,lt]);N.useEffect(()=>{(async()=>{try{const ke=Zt(_t(Ae,"products")),Pe=await Jr(ke),Qe={};Pe.forEach(xt=>{Qe[xt.id]=xt.data()}),z(Qe)}catch(ke){console.error("Error fetching products:",ke),Te("Error al cargar productos: "+ke.message)}})()},[]),N.useEffect(()=>{const pe=or(at(Ae,"notifications","adminMessage"),ke=>{if(ke.exists()){const Pe=ke.data();Pe.roles&&Pe.roles.includes("user")?Y([{id:ke.id,...Pe,timestamp:Pe.updatedAt?.toDate()}]):Y([])}else Y([])},ke=>{console.error("Error in notifications listener:",ke),Te("Error al cargar notificaciones: "+ke.message)});return()=>pe()},[]),N.useEffect(()=>{if(!y){console.log("No userId disponible para fetch affiliates");return}console.log("Iniciando fetch de affiliates para userId:",y);const pe=Zt(_t(Ae,"users"),gr("referredBy","==",y)),ke=or(pe,Pe=>{console.log(`Affiliates snapshot recibido. Docs length: ${Pe.docs.length}`);const Qe=Pe.docs.map(xt=>{const Nt=xt.data();return console.log(`Affiliate doc: ID=${xt.id}, referredBy=${Nt.referredBy}, username=${Nt.username}`),{id:xt.id,username:Nt.username||"Desconocido",email:Nt.email||"No especificado",phone:Nt.phone||"No especificado",createdAt:Nt.createdAt?.toDate?.()||new Date}});console.log("Affiliates procesados:",Qe),S(Qe)},Pe=>{console.error("Error fetching affiliates:",Pe),Te("Error al cargar afiliados: "+Pe.message)});return()=>{console.log("Desuscribiendo affiliates listener"),ke()}},[y]),N.useEffect(()=>{ft()},[ft]);const wr=N.useCallback(async()=>{try{await F0(qr),vt("/")}catch(pe){console.error("Error al cerrar sesión:",pe),Re("Error",pe.message||"Error al cerrar sesión")}},[vt,Re]);N.useEffect(()=>{const pe=Yl(qr,ke=>{ke?(console.log("Auth user loaded:",ke.uid),v(ke.uid),h(ke.email||"No especificado"),I(""),M(!1)):vt("/login")});return()=>pe()},[vt]),N.useEffect(()=>{if(!y)return;console.log("Iniciando fetch de user data para:",y);const pe=at(Ae,"users",y),ke=or(pe,Pe=>{if(Pe.exists()){const Qe=Pe.data();console.log("User data loaded:",{username:Qe.username,referralCode:Qe.referralCode}),u({username:Qe.username||"Usuario",phone:Qe.phone||""}),h(Qe.email||"No especificado"),g(Number(Qe.balance)||0),I(Qe.referralCode||y.slice(-6).toUpperCase())}else console.error("User doc no existe para:",y),Te("Usuario no encontrado")},Pe=>{console.error("Error in user data listener:",Pe),Te("Error al cargar datos del usuario: "+Pe.message)});return()=>ke()},[y]),N.useEffect(()=>{if(!y)return;const pe=Zt(_t(Ae,"sales"),gr("customerId","==",y)),ke=or(pe,async Qe=>{if(Qe.empty){O([]),M(!1);return}const xt=new Date,Nt=7200*60*1e3;for(const it of Qe.docs){const Et=it.data().endDate?.toDate?.()||new Date;if(Et<xt&&xt.getTime()-Et.getTime()>Nt)try{await Ri(at(Ae,"sales",it.id)),console.log(`Deleted expired order: ${it.id}`)}catch($t){console.error(`Error deleting order ${it.id}:`,$t)}}const st=Qe.docs.map(it=>{const Ze=it.data(),$t=Ze.saleDate?.toDate?.()||Ze.createdAt?.toDate?.()||new Date;let qt=Ze.startDate?.toDate?.(),Pr=qt||$t,Rr=!1;qt||(Rr=!0);const mn=Ze.durationDays||30;let hr;Ze.endDate?hr=Ze.endDate.toDate?Ze.endDate.toDate():new Date(Ze.endDate):(hr=new Date(Pr.getTime()+mn*24*60*60*1e3),Rr=!0),Rr&&jr(at(Ae,"sales",it.id),{startDate:qt||br.fromDate($t),endDate:br.fromDate(hr),durationDays:mn}).catch(Z=>{console.error("Error al actualizar startDate/endDate en Firestore:",Z)});const zn=hr.getTime()-Pr.getTime(),lr=xt.getTime()-Pr.getTime(),kn=hr.getTime()-xt.getTime(),_r=Math.ceil(zn/(1e3*60*60*24)),gn=Math.max(0,Math.ceil(kn/(1e3*60*60*24))),Zr=Math.ceil(lr/(1e3*60*60*24)),ln=_r>0?Zr/_r*100:100,B=j[Ze.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:it.id,productName:Ze.productName||"Producto sin nombre",category:Ze.type||"netflix",price:parseFloat(Ze.price)||0,renewalPrice:parseFloat(Ze.renewalPrice)||0,provider:Ze.provider||"No especificado",providerId:Ze.providerId||"",providerPhone:Ze.providerPhone||Ze.providerWhatsapp||"51999999999",status:Ze.status||"completed",saleDate:$t,startDate:Pr,endDate:hr,durationDays:mn,daysRemaining:gn,totalDays:_r,timeElapsedPercentage:ln,account:{email:Ze.accountDetails?.email||"No especificado",password:Ze.accountDetails?.password||"No especificado",profile:Ze.accountDetails?.profile||"No especificado",pin:Ze.accountDetails?.pin||"No especificado"},client:{customerName:Ze.customerName||"Cliente desconocido",email:Ze.customerEmail||"No especificado",phone:Ze.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BLK-${it.id.slice(0,8).toUpperCase()}`,termsAndConditions:B,renewable:Ze.renewable!==void 0?Ze.renewable:!0}}).filter(it=>{const Ze=new Date(it.endDate);return!(Ze<xt&&xt.getTime()-Ze.getTime()>Nt)});O(st),M(!1)},Qe=>{console.error("Error al obtener pedidos:",Qe),Te("Error al cargar pedidos: "+Qe.message),M(!1)}),Pe=setInterval(()=>{const Qe=new Date,xt=7200*60*1e3;O(Nt=>Nt.map(st=>{const it=new Date(st.endDate).getTime()-new Date(st.startDate).getTime(),Ze=Qe.getTime()-new Date(st.startDate).getTime(),Et=new Date(st.endDate).getTime()-Qe.getTime(),$t=Math.ceil(it/(1e3*60*60*24)),qt=Math.max(0,Math.ceil(Et/(1e3*60*60*24))),Pr=Math.ceil(Ze/(1e3*60*60*24)),Rr=$t>0?Pr/$t*100:100;return{...st,daysRemaining:qt,totalDays:$t,timeElapsedPercentage:Rr}}).filter(st=>{const it=new Date(st.endDate);return!(it<Qe&&Qe.getTime()-it.getTime()>xt)}))},6e4);return()=>{ke(),clearInterval(Pe)}},[y,j]),N.useEffect(()=>{if(!y)return;const pe=Zt(_t(Ae,"pendingTopUps"),gr("userId","==",y)),ke=or(pe,Pe=>{const Qe=Pe.docs.map(xt=>({id:xt.id,...xt.data(),date:xt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(xt.data().amount)||0}));a(Qe)},Pe=>{console.error("Error al obtener recargas:",Pe),Te("Error al cargar recargas: "+Pe.message)});return()=>ke()},[y]);const Q=N.useCallback(async()=>{try{if(F(ke=>({...ke,topUp:!0})),!r||isNaN(r)){Re("Error","Ingrese un monto válido");return}const pe=parseFloat(r);if(pe<5){Re("Error","El monto mínimo de recarga es S/ 5.00");return}await Lo(_t(Ae,"pendingTopUps"),{userId:y,username:l.username,amount:pe,status:"pendiente",requestedAt:ir()}),n(""),Re("Éxito","Solicitud de recarga enviada correctamente")}catch(pe){console.error("Error al solicitar recarga:",pe),Re("Error",pe.message||"Error al enviar solicitud de recarga")}finally{F(pe=>({...pe,topUp:!1}))}},[r,y,l.username,Re]),Ne=N.useCallback(async pe=>{pe.preventDefault();try{F(st=>({...st,password:!0}));const ke=pe.target.password.value,Pe=pe.target.phone.value,Qe=qr.currentUser,xt=at(Ae,"users",y),Nt={};if(ke){if(ke.length<6){Re("Error","La contraseña debe tener al menos 6 caracteres");return}await wv(Qe,ke),Nt.updatedAt=ir()}Pe&&(Nt.phone=Pe,Nt.updatedAt=ir()),Object.keys(Nt).length>0&&await jr(xt,Nt),u(st=>({...st,phone:Pe||st.phone})),Re("Éxito","Cambios guardados correctamente"),pe.target.reset()}catch(ke){console.error("Error al actualizar los datos:",ke),Re("Error",ke.message||"Error al guardar los cambios")}finally{F(ke=>({...ke,password:!1}))}},[y,Re]);N.useEffect(()=>{const pe=()=>{Ce(window.scrollY>300)};return window.addEventListener("scroll",pe),()=>window.removeEventListener("scroll",pe)},[]);const ht=()=>P?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):me?i.jsxs("div",{className:`bg-${J==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${J==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ul,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${J==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${J==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:me}),i.jsx("button",{onClick:()=>Te(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):i.jsx("div",{className:`bg-${J==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${J==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(_){case"inicio":return i.jsx(cH,{userName:l,email:d,balance:p,orders:E,notifications:L,setActivePage:w,formatDate:lt});case"notificaciones":return i.jsx(i5,{notifications:L,formatDate:lt});case"recargar":return i.jsx(o5,{amount:r,setAmount:n,topUps:s,actionLoading:R,handleTopUpRequest:Q,formatDate:lt,showModal:Re});case"proveedores":return i.jsx(l5,{providers:ne,openRateProviderModal:he,deleteRatingProvider:St,theme:J});case"afiliados":return console.log("Rendering AffiliatesSection with:",{referralCode:A,affiliatesLength:H.length}),i.jsx(eJ,{referralCode:A,affiliates:H,formatDate:lt,theme:J});case"pedidos":return i.jsx(z6,{orders:E,setOrders:O,balance:p,searchQuery:U,setSearchQuery:re,formatDate:lt,handleRenewal:ct,actionLoading:R,theme:J});case"configuracion":return i.jsx(H6,{userName:l,email:d,actionLoading:R,handleUpdatePassword:Ne,openEditProfileModal:Mt,handleLogout:wr});case"soporte":return i.jsx(W6,{orders:E,setOrders:O,searchQuery:U,setSearchQuery:re,formatDate:lt,handleRenewal:ct,actionLoading:R,balance:p,theme:J});default:return i.jsxs("div",{className:`bg-${J==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${J==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ul,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${J==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),i.jsx("p",{className:`text-base ${J==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>w("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()});return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${J==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${J==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(15)].map((pe,ke)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},ke))})]}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${J==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>{vt("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:i.jsx(pn,{className:"text-lg"})})]}),i.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${J==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:l.username.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${J==="dark"?"text-white":"text-gray-900"}`,children:l.username}),i.jsx("p",{className:`text-xs ${J==="dark"?"text-gray-400":"text-gray-600"}`,children:"Usuario"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:rb},{id:"notificaciones",label:"Notificaciones",icon:Bl},{id:"recargar",label:"Recargar saldo",icon:ii},{id:"pedidos",label:"Mis pedidos",icon:Tu},{id:"proveedores",label:"Proveedores",icon:zl},{id:"afiliados",label:"Afiliados",icon:hi},{id:"soporte",label:"Soporte",icon:lz},{id:"configuracion",label:"Configuración",icon:Ip}].map(pe=>i.jsxs("button",{onClick:()=>{w(pe.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${_===pe.id?"bg-blue-100 text-blue-600 border border-blue-300":J==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":_===pe.id?"page":void 0,children:[i.jsx(pe.icon,{className:"text-lg"}),i.jsx("span",{children:pe.label})]},pe.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:()=>{wr(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${J==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[i.jsx(Nu,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsxs("header",{className:`${J==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ee.img,{src:sc,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border cursor-pointer ${J==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy",onClick:()=>vt("/")}),i.jsx("button",{onClick:()=>{mt?vt("/"):w("inicio")},className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300 cursor-pointer","aria-label":mt?"Go to BlackStreaming homepage":"Ir al inicio del dashboard",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:U,onChange:pe=>re(pe.target.value),className:`w-full py-2.5 px-5 ${J==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:pe=>pe.key==="Enter"&&w("pedidos")}),i.jsx("button",{onClick:()=>w("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${J==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:i.jsx(Eu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[i.jsx("button",{onClick:rr,className:`p-2 rounded-full ${J==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${J==="dark"?"light":"dark"} theme`,children:J==="dark"?i.jsx(rc,{size:20}):i.jsx(tc,{size:20})}),i.jsxs("button",{onClick:()=>nt(!0),className:`p-2 rounded-full relative ${J==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${L.length} new)`,children:[i.jsx(Bl,{size:20}),L.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:L.length})]}),i.jsx("button",{className:`lg:hidden p-2 rounded-full ${J==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:i.jsx(jm,{size:20,className:J==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:i.jsx("div",{className:"relative",children:i.jsxs("button",{className:`flex items-center space-x-2 ${J==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:l.username.charAt(0).toUpperCase()}),i.jsx("span",{className:`text-sm font-semibold ${J==="dark"?"text-gray-200":"text-gray-800"}`,children:l.username})]})})})]})]}),i.jsx(Vt,{children:Me&&i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>nt(!1),role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${J==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${J==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:pe=>pe.stopPropagation(),children:[i.jsx("button",{onClick:()=>nt(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:i.jsx(pn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${J==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),L.length>0?L.map(pe=>i.jsxs("div",{className:`p-4 mb-2 rounded-md ${J==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${J==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[i.jsx("h3",{className:`font-semibold ${J==="dark"?"text-gray-200":"text-gray-800"}`,children:pe.title||"Nueva Notificación"}),i.jsx("p",{className:`text-sm ${J==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:pe.message}),pe.roles&&pe.roles.length>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",pe.roles.join(", ")]}),pe.timestamp&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:lt(pe.timestamp)})]},pe.id)):i.jsx("p",{className:`text-center ${J==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),i.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:ht()}),i.jsxs("footer",{className:`${J==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${J==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),i.jsxs("p",{className:`text-base sm:text-lg ${J==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[i.jsx("a",{href:"https://twitter.com",className:`${J==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:i.jsx(ec,{size:28})}),i.jsx("a",{href:"https://instagram.com",className:`${J==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:i.jsx(Zl,{size:28})}),i.jsx("a",{href:"https://facebook.com",className:`${J==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:i.jsx(Jl,{size:28})})]}),i.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[i.jsx("a",{href:"#",className:`text-sm ${J==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),i.jsx("a",{href:"#",className:`text-sm ${J==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),i.jsx("a",{href:"#",className:`text-sm ${J==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),i.jsxs("p",{className:`text-sm ${J==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),i.jsx(Vt,{children:Ve&&i.jsx(ee.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:Dt,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:i.jsx(Cm,{size:20})})}),i.jsx(lH,{isOpen:je.isOpen,title:je.title,message:je.message,onClose:dr,theme:J}),_e.isOpen&&i.jsx(s5,{isOpen:_e.isOpen,user:_e.user,onClose:He,onSave:Tt,theme:J}),xe.isOpen&&i.jsx(a5,{isOpen:xe.isOpen,provider:xe.provider,onClose:Je,onRate:dt,theme:J}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};G6.propTypes={};const rJ=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Ws,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,nJ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[s,a]=N.useState(e?.username||""),[l,u]=N.useState(""),d=h=>{if(h.preventDefault(),u(""),!s.trim()){u("El nombre de usuario no puede estar vacío.");return}n(e.id,s.trim())};return t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Perfil"}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Ws,{size:20})})]}),i.jsxs("form",{onSubmit:d,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),i.jsx("input",{type:"text",value:s,onChange:h=>a(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0}),l&&i.jsx("p",{className:"text-red-400 text-sm mt-2",children:l})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},sJ=()=>{const[t,e]=N.useState(!1),[r,n]=N.useState("inicio"),[s,a]=N.useState(""),[l,u]=N.useState(""),[d,h]=N.useState(""),[p,g]=N.useState([]),[y,v]=N.useState(0),[_,w]=N.useState(0),[E,O]=N.useState(null),[j,z]=N.useState(!0),[L,Y]=N.useState({}),[H,S]=N.useState(null),[A,I]=N.useState([]),[P,M]=N.useState(!1),[R,F]=N.useState(""),[me,Te]=N.useState(""),[je,Ie]=N.useState([]),[_e,oe]=N.useState([]),[xe,se]=N.useState({}),[U,re]=N.useState([]),[ne,ae]=N.useState({isOpen:!1,message:"",title:""}),[J,De]=N.useState({isOpen:!1,user:null}),Ve=La(),Ce=(he,Je)=>{ae({isOpen:!0,title:he,message:Je})},Me=()=>{ae({isOpen:!1,message:"",title:""})},nt=he=>{De({isOpen:!0,user:he})},mt=()=>{De({isOpen:!1,user:null})},Wt=async(he,Je)=>{try{Y(Tt=>({...Tt,profile:!0}));const lt=at(Ae,"users",he),ft=at(Ae,"affiliates",he);await jr(lt,{username:Je,updatedAt:ir()}),await jr(ft,{username:Je,updatedAt:ir()}),a(Je),Ce("Éxito","Perfil actualizado exitosamente"),mt()}catch(lt){console.error("Error al actualizar perfil:",lt),Ce("Error",lt.message||"Error al actualizar el perfil")}finally{Y(lt=>({...lt,profile:!1}))}};N.useEffect(()=>{const he=Yl(qr,Je=>{Je?(O(Je.uid),u(Je.email||"No especificado"),z(!1)):Ve("/login")});return()=>he()},[Ve]),N.useEffect(()=>{(async()=>{try{const Je=Zt(_t(Ae,"products")),lt=await Jr(Je),ft={};lt.forEach(Tt=>{ft[Tt.id]=Tt.data()}),se(ft)}catch(Je){console.error("Error fetching products:",Je),S("Error al cargar productos")}})()},[]),N.useEffect(()=>{or(at(Ae,"notifications","adminMessage"),lt=>{if(lt.exists()){const ft=lt.data();ft.roles&&ft.roles.includes("affiliate")?re([{id:lt.id,...ft}]):re([])}else re([])})},[]),N.useEffect(()=>{(async()=>{if(E)try{const Je=at(Ae,"users",E),lt=await ri(Je);if(lt.exists()){const dt=lt.data();a(dt.username||"Usuario"),w(Number(dt.balance)||0)}const ft=at(Ae,"affiliates",E),Tt=await ri(ft);if(Tt.exists()){const dt=Tt.data();h(dt.affiliateCode||""),v(Number(dt.earnings)||0)}else{const dt=`AFF-${Math.random().toString(36).substring(2,8).toUpperCase()}`;await ui(ft,{username:s||"Nuevo Afiliado",email:l,affiliateCode:dt,earnings:0,createdAt:ir(),updatedAt:ir()}),h(dt)}}catch(Je){console.error("Error al manejar datos:",Je),S("Error al cargar datos")}finally{z(!1)}})()},[E,l,s]),N.useEffect(()=>{if(!E)return;(()=>{const Je=Zt(_t(Ae,"pendingTopUps"),gr("userId","==",E));return or(Je,ft=>{const Tt=ft.docs.map(dt=>({id:dt.id,...dt.data(),date:dt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(dt.data().amount)||0}));Ie(Tt)},ft=>{console.error("Error al obtener recargas:",ft),S("Error al cargar recargas")})})()},[E]),N.useEffect(()=>{if(!d)return;const he=Zt(_t(Ae,"users"),gr("referrerCode","==",d),h1("createdAt","desc"),DA(5)),Je=or(he,lt=>{const ft=lt.docs.map(Tt=>({id:Tt.id,...Tt.data(),joinDate:Tt.data().createdAt?.toDate()||new Date}));I(ft)});return()=>Je()},[d]),N.useEffect(()=>{if(!d)return;const he=Zt(_t(Ae,"users"),gr("referrerCode","==",d)),Je=or(he,lt=>{const ft=lt.docs.map(Tt=>({id:Tt.id,...Tt.data(),joinDate:Tt.data().createdAt?.toDate()||new Date}));g(ft)});return()=>Je()},[d]),N.useEffect(()=>{if(!E)return;(()=>{const Je=Zt(_t(Ae,"sales"),gr("customerId","==",E)),lt=or(Je,Tt=>{if(Tt.empty){oe([]),z(!1);return}const dt=Tt.docs.map(St=>{const ct=St.data(),Q=ct.saleDate?.toDate?.()||ct.createdAt?.toDate?.()||new Date;let Ne=ct.startDate?.toDate?.(),ht=Ne||Q,pe=!1;Ne||(pe=!0);const ke=ct.durationDays||30;let Pe;ct.endDate?Pe=new Date(ct.endDate):(Pe=new Date(ht.getTime()+ke*24*60*60*1e3),pe=!0),pe&&jr(at(Ae,"sales",St.id),{startDate:Ne||br.fromDate(Q),endDate:Pe.toISOString(),durationDays:ke}).catch(Pr=>{console.error("Error al actualizar startDate/endDate en Firestore:",Pr)});const Qe=new Date,xt=Pe.getTime()-ht.getTime(),Nt=Qe.getTime()-ht.getTime(),st=Pe.getTime()-Qe.getTime(),it=Math.ceil(xt/(1e3*60*60*24)),Ze=Math.max(0,Math.ceil(st/(1e3*60*60*24))),Et=Math.ceil(Nt/(1e3*60*60*24)),$t=it>0?Et/it*100:100,qt=xe[ct.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:St.id,productName:ct.productName||"Producto sin nombre",category:ct.type||"netflix",price:parseFloat(ct.price)||0,provider:ct.provider||"No especificado",providerId:ct.providerId||"",providerPhone:ct.providerPhone||ct.providerWhatsapp||"51999999999",status:ct.status||"completed",saleDate:Q,startDate:ht,endDate:Pe,durationDays:ke,daysRemaining:Ze,totalDays:it,timeElapsedPercentage:$t,account:{email:ct.accountDetails?.email||"No especificado",password:ct.accountDetails?.password||"No especificado",profile:ct.accountDetails?.profile||"No especificado",pin:ct.accountDetails?.pin||"No especificado"},client:{name:ct.customerName||"Cliente desconocido",email:ct.customerEmail||"No especificado",phone:ct.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${St.id.slice(0,8).toUpperCase()}`,termsAndConditions:qt,renewable:ct.renewable!==void 0?ct.renewable:!0}});oe(dt),z(!1)},Tt=>{console.error("Error al obtener pedidos:",Tt),S("Error al cargar pedidos: "+Tt.message),z(!1)}),ft=setInterval(()=>{oe(Tt=>Tt.map(dt=>{const St=new Date,ct=new Date(dt.endDate).getTime()-new Date(dt.startDate).getTime(),wr=St.getTime()-new Date(dt.startDate).getTime(),Q=new Date(dt.endDate).getTime()-St.getTime(),Ne=Math.ceil(ct/(1e3*60*60*24)),ht=Math.max(0,Math.ceil(Q/(1e3*60*60*24))),pe=Math.ceil(wr/(1e3*60*60*24)),ke=Ne>0?pe/Ne*100:100;return{...dt,daysRemaining:ht,totalDays:Ne,timeElapsedPercentage:ke}}))},6e4);return()=>{lt(),clearInterval(ft)}})()},[E,xe]);const vt=async()=>{try{if(Y(Je=>({...Je,topUp:!0})),!me||isNaN(me)){Ce("Error","Ingrese un monto válido");return}const he=parseFloat(me);if(he<10){Ce("Error","El monto mínimo de recarga es S/ 10.00");return}await Lo(_t(Ae,"pendingTopUps"),{userId:E,username:s,amount:he,status:"pendiente",requestedAt:ir(),processed:!1}),Te(""),Ce("Éxito","Solicitud de recarga enviada correctamente")}catch(he){console.error("Error al solicitar recarga:",he),Ce("Error",he.message||"Error al enviar solicitud de recarga")}finally{Y(he=>({...he,topUp:!1}))}},rr=async he=>{try{Y(Ne=>({...Ne,[`renew_${he.id}`]:!0}));const Je=parseFloat(he.price)||0;if(_<Je){Ce("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const lt=parseInt(he.durationDays)||30,ft=br.now(),Tt=ft.toDate(),dt=new Date(Tt.getTime()+lt*24*60*60*1e3),St=dt.toISOString(),ct={customerId:E,customerName:he.client?.name||"Cliente desconocido",customerEmail:he.client?.email||l,phoneNumber:he.client?.phone||"No especificado",productName:he.productName||"Producto sin nombre",type:he.category||"netflix",price:Je,accountDetails:{email:he.account?.email||"No especificado",password:he.account?.password||"No especificado",profile:he.account?.profile||"No especificado",pin:he.account?.pin||"No especificado"},provider:he.provider||"Proveedor desconocido",providerId:he.providerId||"",providerPhone:he.providerPhone||he.providerWhatsapp||"51999999999",status:"completed",createdAt:ft,saleDate:ft,startDate:ft,endDate:St,durationDays:lt,renewedAt:ft,renewable:he.renewable!==void 0?he.renewable:!0},wr=await Lo(_t(Ae,"sales"),ct),Q=at(Ae,"users",E);await jr(Q,{balance:_-Je}),w(Ne=>Ne-Je),oe(Ne=>[...Ne,{...ct,id:wr.id,saleDate:Tt,startDate:Tt,endDate:dt,account:ct.accountDetails,client:{name:ct.customerName,email:ct.customerEmail,phone:ct.phoneNumber},orderId:`BS-${wr.id.slice(0,8).toUpperCase()}`,renewable:ct.renewable,daysRemaining:lt,totalDays:lt,timeElapsedPercentage:0,termsAndConditions:xe[ct.providerId]?.terms||"No se especificaron términos y condiciones."}]),Ce("Éxito","¡Pedido renovado exitosamente!")}catch(Je){console.error("Error al renovar el pedido:",Je),Ce("Error","Error al renovar el pedido: "+Je.message)}finally{Y(Je=>({...Je,[`renew_${he.id}`]:!1}))}},Dt=()=>{d&&(navigator.clipboard.writeText(d),M(!0),setTimeout(()=>M(!1),2e3))},Re=he=>{if(!he)return"No especificada";try{const Je=he instanceof Date?he:new Date(he);return isNaN(Je.getTime())?"Fecha inválida":Je.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},dr=async()=>{try{await F0(qr),Ve("/")}catch(he){console.error("Error al cerrar sesión:",he),Ce("Error",he.message||"Error al cerrar sesión")}},Mt=async he=>{he.preventDefault();try{Y(ft=>({...ft,password:!0}));const Je=he.target.password.value;if(!Je){Ce("Error","Por favor, ingrese una nueva contraseña");return}if(Je.length<6){Ce("Error","La contraseña debe tener al menos 6 caracteres");return}const lt=qr.currentUser;lt&&(await wv(lt,Je),Ce("Éxito","Contraseña actualizada correctamente"),he.target.reset())}catch(Je){console.error("Error al actualizar la contraseña:",Je),Ce("Error",Je.message||"Error al actualizar la contraseña")}finally{Y(Je=>({...Je,password:!1}))}},He=()=>{if(j)return i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(H)return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[i.jsx(ia,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),i.jsx("p",{className:"text-gray-300 mb-4",children:H}),i.jsx("button",{onClick:()=>S(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",i.jsx("span",{className:"text-cyan-400",children:s})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),i.jsxs("div",{className:"space-y-2 text-gray-300",children:[i.jsxs("p",{className:"flex items-center",children:[i.jsx(ks,{className:"mr-2 text-cyan-400"}),i.jsx("span",{children:s})]}),i.jsxs("p",{className:"flex items-center",children:[i.jsx($r,{className:"mr-2 text-cyan-400"}),i.jsx("span",{children:l})]})]})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),i.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",_.toFixed(2)]}),i.jsx("button",{onClick:()=>n("recargas"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Recargar"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias totales"}),i.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),i.jsx("button",{onClick:()=>n("ganancias"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Ver ganancias"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu código de afiliado"}),i.jsxs("button",{onClick:Dt,disabled:!d,className:`flex items-center gap-2 px-3 py-1 rounded-xl transition-all duration-300 ${d?"bg-cyan-900/80 text-cyan-400 hover:bg-cyan-800/80":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[i.jsx(GS,{size:16}),P?"¡Copiado!":"Copiar"]})]}),i.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 border border-gray-600/50",children:i.jsx("p",{className:"text-2xl font-bold text-center tracking-wider text-white",children:d||"Generando código..."})}),i.jsx("p",{className:"text-gray-300 mb-4",children:"Comparte este código con tus amigos para que se registren y ganes comisiones por sus compras."}),i.jsxs("div",{className:"bg-cyan-900/30 p-4 rounded-xl border border-cyan-800/50",children:[i.jsx("h4",{className:"font-medium text-cyan-400 mb-2",children:"Enlace de afiliado:"}),i.jsx("p",{className:"text-sm bg-gray-800/50 p-2 rounded-xl border border-gray-600/50 overflow-x-auto text-gray-300",children:d?`https://blackkstreaming.com/register?ref=${d}`:"Generando enlace..."})]})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Referidos recientes"}),A.length>0?A.map(he=>i.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"font-medium text-white",children:he.username||"Sin nombre"}),i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-900/80 text-green-400",children:"Activo"})]}),i.jsxs("p",{className:"text-sm text-gray-400",children:["Unido: ",Re(he.joinDate)]})]},he.id)):i.jsx("p",{className:"text-gray-400 py-2",children:"No tienes referidos recientes"}),A.length>0&&i.jsx("button",{onClick:()=>n("referidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los referidos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),_e.length>0?_e.slice(0,3).map(he=>{const Je=new Date(he.endDate)>new Date&&he.status==="completed",lt=he.status==="pending";return i.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"font-medium text-white",children:he.productName}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${lt?"bg-yellow-900/80 text-yellow-400":Je?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:lt?"A pedido":Je?"Activo":"Expirado"})]}),i.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",Re(he.endDate)]})]},he.id)}):i.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),_e.length>3&&i.jsx("button",{onClick:()=>n("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Notificaciones"}),U.length>0?U.map(he=>i.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[i.jsx("p",{className:"text-gray-300",children:he.message}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Re(he.updatedAt)})]},he.id)):i.jsx("p",{className:"text-gray-400 py-2",children:"No hay notificaciones"})]})]})]});case"notificaciones":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Notificaciones"}),U.length>0?i.jsx("div",{className:"space-y-4",children:U.map(he=>i.jsxs("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:[i.jsx("p",{className:"text-gray-300",children:he.message}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Re(he.updatedAt)})]},he.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(b0,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),i.jsx("p",{className:"text-gray-400",children:"No tienes mensajes nuevos"})]})]});case"recargas":return i.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargar saldo"}),i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),i.jsx("input",{type:"number",value:me,onChange:he=>Te(he.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),i.jsx("button",{onClick:vt,disabled:L.topUp||!me||parseFloat(me)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${me&&parseFloat(me)>=10&&!L.topUp?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:L.topUp?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"}),i.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[i.jsx(Us,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),i.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",i.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),i.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 931757531"}),i.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),i.jsxs("a",{href:`https://wa.me/51931757531?text=${encodeURIComponent("Hola 😊, he realizado una recarga a través de Yape. Por favor, confirma mi pago.")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[i.jsx($r,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),je.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acción"})]})}),i.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:je.map(he=>{const Je=encodeURIComponent(`Hola, he pedido una recarga de S/ ${he.amount?.toFixed(2)||"0.00"} con el nombre ${s}. Adjunto la captura de mi pago, por favor.`);return i.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",he.amount?.toFixed(2)||"0.00"]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${he.status==="aprobado"?"bg-green-900/80 text-green-400":he.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:he.status})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:Re(he.date)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:he.status==="pendiente"?i.jsxs("a",{href:`https://wa.me/51940505969?text=${Je}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 text-sm",children:[i.jsx($r,{className:"mr-2"})," Enviar captura"]}):i.jsx("span",{className:"text-gray-400 text-sm",children:"—"})})]},he.id)})})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Us,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Mis pedidos"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:R,onChange:he=>F(he.target.value)}),i.jsx(oi,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),_e.length>0?i.jsx("div",{className:"space-y-6",children:_e.filter(he=>(he.productName||"").toLowerCase().includes(R.toLowerCase())||(he.orderId||"").toLowerCase().includes(R.toLowerCase())).map(he=>{const Je=parseFloat(he.price)||0,lt=new Date(he.endDate)>new Date&&he.status==="completed",ft=he.status==="pending",Tt=he.daysRemaining||0,dt=he.timeElapsedPercentage||0;let St="bg-green-400";dt>70&&dt<=90?St="bg-yellow-400":dt>90&&(St="bg-red-400");const ct=ft?i.jsx(nc,{className:"text-yellow-400"}):lt?i.jsx(ku,{className:"text-green-400"}):i.jsx(ia,{className:"text-red-400"}),wr=encodeURIComponent(`*Consulta sobre Pedido - ${he.productName||"Sin nombre"}*

*N° Pedido:* ${he.orderId||"No especificado"}
*Producto:* ${he.productName||"No especificado"}
*Precio:* S/ ${Je.toFixed(2)}
*Estado:* ${ft?"A pedido":lt?"Activo":"Expirado"}
*Fecha de Inicio:* ${Re(he.startDate)}
*Fecha de Vencimiento:* ${Re(he.endDate)}

`+(ft?`Hola 😊, he comprado un producto a pedido (${he.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),Q=encodeURIComponent(`😊 Estimado/a ${he.client?.name||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${he.productName||"Sin nombre"}.
🔢 Código: ${he.orderId||"No especificado"}
`+(ft?"":`📧 Correo: ${he.account?.email||"No especificado"}
🔐 Contraseña: ${he.account?.password||"No especificado"}
👤 Perfil: ${he.account?.profile||"No especificado"}
📌 PIN: ${he.account?.pin||"No especificado"}
`)+`🌐 URL: Sin URL
📅 Fecha de creación: ${Re(he.startDate)}
📅 Fecha de vencimiento: ${Re(he.endDate)}
🏁 Días contratados: ${he.durationDays||30} días.

`+(ft?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${he.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),Ne=he.providerPhone?he.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return i.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[ct,i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white",children:he.productName||"Producto sin nombre"}),he.orderId&&i.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",he.orderId]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",Je.toFixed(2)]}),i.jsx("p",{className:`text-xs font-medium ${ft?"text-yellow-400":St.replace("bg-","text-")}`,children:ft?"Pendiente de activación":`${Tt} día${Tt===1?"":"s"} restante${Tt===1?"":"s"}`})]})]}),i.jsxs("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"w-full bg-gray-600/50 rounded-full h-2.5",children:i.jsx("div",{className:`h-2.5 rounded-full ${St}`,style:{width:`${Math.min(dt,100)}%`}})}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[dt.toFixed(0),"% completado"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[i.jsx(ks,{className:"mr-2"})," Detalles de la Cuenta"]}),i.jsx("div",{className:"space-y-2 text-gray-300",children:ft?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),i.jsx("span",{className:"block text-white break-all",children:he.account?.email||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),i.jsx("span",{className:"block text-white break-all",children:he.account?.password||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),i.jsx("span",{className:"block text-white",children:he.account?.profile||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),i.jsx("span",{className:"block text-white",children:he.account?.pin||"No especificado"})]})]})})]}),i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[i.jsx(ib,{className:"mr-2"})," Información del Pedido"]}),i.jsxs("div",{className:"space-y-2 text-gray-300",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),i.jsx("span",{className:"block text-white",children:he.provider||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),i.jsx("span",{className:"block text-white",children:he.providerPhone||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),i.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${ft?"bg-yellow-900/80 text-yellow-400":lt?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ft?"A pedido":lt?"Activo":"Expirado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),i.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),i.jsx("span",{className:"block text-white",children:Re(he.startDate)})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),i.jsx("span",{className:"block text-white",children:Re(he.endDate)})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Días restantes:"}),i.jsx("span",{className:`block ${St.replace("bg-","text-")}`,children:Tt})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[i.jsx(ks,{className:"mr-2"})," Información del Cliente"]}),i.jsxs("div",{className:"space-y-2 text-gray-300",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),i.jsx("span",{className:"block text-white",children:he.client?.name||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),i.jsx("span",{className:"block text-white",children:he.client?.phone||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),i.jsx("span",{className:"block text-white",children:he.client?.email||"No especificado"})]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("a",{href:`https://wa.me/51${Ne}?text=${wr}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[i.jsx($r,{size:18})," Contactar Proveedor"]}),he.renewable&&i.jsx("button",{onClick:()=>rr(he),disabled:L[`renew_${he.id}`],className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${L[`renew_${he.id}`]?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:L[`renew_${he.id}`]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(XS,{size:18})," Renovar Pedido"]})}),he.client?.phone&&i.jsxs("a",{href:`https://wa.me/${he.client.phone.replace(/^\+/,"")}?text=${Q}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[i.jsx($r,{size:18})," Contactar Cliente"]})]})]})]},he.id)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(qo,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),i.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"referidos":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos tus referidos (",p.length,")"]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Buscar referidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:R,onChange:he=>F(he.target.value)}),i.jsx(oi,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),p.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de registro"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),i.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:p.filter(he=>{const Je=he.username||"",lt=he.email||"";return Je.toLowerCase().includes(R.toLowerCase())||lt.toLowerCase().includes(R.toLowerCase())}).map(he=>i.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:he.username||"Sin nombre"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:he.email||"Sin email"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:he.joinDate?Re(he.joinDate):"No especificada"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:he.status||"Activo"})})]},he.id))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Su,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes referidos aún"}),i.jsx("p",{className:"text-gray-400",children:"Comparte tu código de afiliado para empezar a ganar comisiones"})]})]});case"ganancias":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),i.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde ayer"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),i.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde la semana pasada"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias totales"}),i.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),i.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[p.length," referidos"]})]})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[i.jsx(iT,{className:"mr-2 text-cyan-400"})," Historial de comisiones"]}),p.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:"bg-gray-800/50 backdrop-blur-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Referido"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Origen"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),i.jsx("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:p.map(he=>i.jsxs("tr",{className:"hover:bg-gray-600/50 transition-all duration-300",children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:he.username||"Usuario sin nombre"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:he.joinDate?Re(he.joinDate):"No especificada"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:"S/ 0.00"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:"Registro"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900/80 text-yellow-400",children:"Pendiente"})})]},he.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Us,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("p",{className:"text-gray-400",children:"No hay comisiones registradas"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gana comisiones cuando tus referidos realicen compras"})]})]})]});case"configuracion":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),i.jsxs("form",{onSubmit:Mt,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("input",{type:"text",value:s,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"}),i.jsx("button",{type:"button",onClick:()=>nt({id:E,username:s}),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-300",title:"Editar Nombre",children:i.jsx(pz,{size:16})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),i.jsx("input",{type:"email",value:l,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña (opcional)"}),i.jsx("input",{type:"password",name:"password",placeholder:"Nueva contraseña",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),i.jsx("button",{type:"submit",disabled:L.password,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 disabled:bg-cyan-800",children:L.password?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]}),i.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:i.jsxs("button",{onClick:dr,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[i.jsx(Rp,{})," Cerrar sesión"]})})]});default:return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[i.jsx(ia,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),i.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[i.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:i.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:i.jsx(vz,{className:"text-xl"})})}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:i.jsx(Ws,{className:"text-lg"})})]}),i.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-white",children:s}),i.jsx("p",{className:"text-xs text-gray-400",children:"Afiliador"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:mz},{id:"notificaciones",label:"Notificaciones",icon:b0},{id:"recargas",label:"Recargas",icon:Us},{id:"pedidos",label:"Pedidos",icon:qo},{id:"referidos",label:"Referidos",icon:Su},{id:"ganancias",label:"Ganancias",icon:iT},{id:"configuracion",label:"Configuración",icon:JS}].map(he=>i.jsxs("button",{onClick:()=>{n(he.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===he.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-cyan-400"}`,children:[i.jsx(he.icon,{className:"text-lg"}),i.jsx("span",{children:he.label})]},he.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:dr,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[i.jsx(Rp,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:He()}),i.jsx(rJ,{isOpen:ne.isOpen,title:ne.title,message:ne.message,onClose:Me}),i.jsx(nJ,{isOpen:J.isOpen,user:J.user,onClose:mt,onSave:Wt}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>e(!1)})]})},aJ=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Ws,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,q6=({username:t="Usuario",products:e=[],orders:r=[],providerBalance:n=0,balanceLoading:s=!1,totalStock:a=0,totalEarnings:l=0,isAdmin:u=!1,email:d="",notifications:h=[],setActiveSection:p=()=>{},formatDate:g=v=>new Date(v).toLocaleDateString(),theme:y="dark"})=>{const v=y==="dark",_={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${v?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:_,initial:"hidden",animate:"visible",children:[i.jsxs(ee.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${v?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Bienvenido, ",i.jsx("span",{className:"text-red-400",children:t})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ab,{size:20}),"Inventario"]}),i.jsx("p",{className:`text-4xl font-bold ${v?"text-white":"text-gray-900"} mb-2`,children:e.length}),i.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"} mb-1`,children:"Productos registrados"}),i.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Stock total: ",a]}),i.jsx(ee.button,{onClick:()=>p("inventario"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${v?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Inventario"})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-green-400":"text-green-600"}`,children:[i.jsx(Us,{size:20}),"Ganancias"]}),s?i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"}),i.jsx("span",{className:`ml-2 ${v?"text-gray-400":"text-gray-600"}`,children:"Cargando..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:`text-4xl font-bold ${v?"text-white":"text-gray-900"} mb-2`,children:["S/ ",l.toFixed(2)]}),i.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"} mb-1`,children:[r.length," ventas realizadas"]}),i.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",n.toFixed(2)]}),i.jsx(ee.button,{onClick:()=>p("ganancias"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${v?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Ganancias"})]})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-purple-400":"text-purple-600"}`,children:[i.jsx(ks,{size:20}),"Mi Cuenta"]}),i.jsxs("div",{className:`space-y-3 ${v?"text-gray-300":"text-gray-700"} mb-6`,children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(ks,{className:"text-purple-400 flex-shrink-0",size:18}),i.jsx("span",{className:"font-medium",children:t})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx($r,{className:"text-purple-400 flex-shrink-0",size:18}),i.jsx("span",{className:"font-medium",children:d})]}),i.jsx("div",{className:`px-3 py-2 rounded-full text-sm font-medium ${u?v?"bg-purple-900/50 text-purple-300 border border-purple-500/30":"bg-purple-100 text-purple-800 border border-purple-300":v?"bg-gray-700/50 text-gray-300 border border-gray-500/30":"bg-gray-200 text-gray-700 border border-gray-300"}`,children:u?"Administrador":"Proveedor"})]}),i.jsx(ee.button,{onClick:()=>p("configuracion"),className:`w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${v?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Editar Perfil"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(ee.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(qo,{size:20}),"Pedidos recientes"]}),i.jsx(Vt,{children:r.length===0?i.jsxs(ee.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(ee.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(qo,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"No hay pedidos recientes"}),i.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus pedidos aparecerán aquí"})]}):i.jsxs("div",{className:"overflow-x-auto rounded-xl border",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`${v?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Comprador"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"})]})}),i.jsx("tbody",{className:`${v?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:r.slice(0,3).map((E,O)=>{const j=new Date(E.endDate)>new Date&&E.status==="completed",z=E.status==="pending";return i.jsxs(ee.tr,{className:"transition-all duration-300 hover:bg-indigo-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:O*.1},children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${v?"text-white":"text-gray-900"} truncate max-w-xs`,children:E.productName}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${v?"text-gray-300":"text-gray-700"}`,children:E.buyer}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-semibold ${v?"text-indigo-400":"text-indigo-600"}`,children:["S/ ",(E.amount||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${z?v?"bg-yellow-900/80 text-yellow-300 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":j?v?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":v?"bg-red-900/80 text-red-300 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:z?"A pedido":j?"Activo":"Expirado"})})]},E.id||O)})})]}),r.length>3&&i.jsx(ee.button,{onClick:()=>p("pedidos"),className:`w-full mt-4 px-6 py-3 text-center text-sm transition-all duration-300 rounded-xl border-2 font-medium ${v?"border-indigo-500/50 text-indigo-400 hover:bg-indigo-500/10":"border-indigo-500/50 text-indigo-600 hover:bg-indigo-500/10"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver todos los pedidos"})]})})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-pink-400":"text-pink-600"}`,children:[i.jsx($r,{size:20}),"Notificaciones"]}),i.jsx(Vt,{children:h.length>0?h.map((E,O)=>i.jsx(ee.div,{className:`border-b py-4 last:border-0 hover:rounded-xl hover:px-2 transition-all duration-300 ${v?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,delay:O*.1},whileHover:{backgroundColor:v?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)"},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 pt-1",children:i.jsx($r,{className:"text-pink-400",size:18})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`font-medium ${v?"text-gray-300":"text-gray-700"} mb-1`,children:E.message}),i.jsx("p",{className:`text-xs ${v?"text-gray-400":"text-gray-500"}`,children:g(E.updatedAt?.toDate?.()||new Date)})]})]})},E.id)):i.jsxs(ee.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(ee.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx($r,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"No hay notificaciones"}),i.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus notificaciones aparecerán aquí"})]})})]})]})]})};q6.propTypes={username:W.string.isRequired,products:W.arrayOf(W.object).isRequired,orders:W.arrayOf(W.object).isRequired,providerBalance:W.number.isRequired,balanceLoading:W.bool.isRequired,totalStock:W.number.isRequired,totalEarnings:W.number.isRequired,isAdmin:W.bool.isRequired,email:W.string.isRequired,notifications:W.arrayOf(W.object).isRequired,setActiveSection:W.func.isRequired,formatDate:W.func.isRequired,theme:W.oneOf(["light","dark"]).isRequired};const K6=({products:t,setActiveSection:e,handleEdit:r,handleDelete:n,getCategoryDisplayName:s,totalStock:a,theme:l="dark"})=>{const u=l==="dark",d=y=>{const v={netflix:{bg:u?"bg-red-900/30":"bg-red-100",text:u?"text-red-300":"text-red-800"},disney:{bg:u?"bg-blue-900/30":"bg-blue-100",text:u?"text-blue-300":"text-blue-800"},max:{bg:u?"bg-yellow-900/30":"bg-yellow-100",text:u?"text-yellow-300":"text-yellow-800"},spotify:{bg:u?"bg-green-900/30":"bg-green-100",text:u?"text-green-300":"text-green-800"},default:{bg:u?"bg-gray-900/30":"bg-gray-100",text:u?"text-gray-300":"text-gray-700"}};return v[y?.toLowerCase()]||v.default},h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},g={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:u?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)",transition:{duration:.2}}};return i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-4",children:[i.jsxs(ee.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Inventario",i.jsxs("span",{className:`ml-2 bg-gradient-to-r ${u?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:[t.length," productos"]})]}),i.jsxs(ee.button,{onClick:()=>e("subirProducto"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx(aT,{className:"mr-2",size:18}),"Nuevo Producto"]})]}),t.length>0?i.jsx("div",{className:"overflow-x-auto rounded-2xl border shadow-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200/30",children:[i.jsx("thead",{className:`${u?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Producto"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Precio"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Stock"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Categoría"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Estado"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:i.jsx(Vt,{children:t.map((y,v)=>{const _=d(y.category);return i.jsxs(ee.tr,{className:`transition-colors duration-200 ${u?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:g,initial:"hidden",animate:"visible",whileHover:"hover",exit:{opacity:0,x:-20},transition:{duration:.3,delay:v*.05},children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-3",children:[y.image?i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{className:"w-10 h-10 rounded-full object-cover shadow-md",src:y.image,alt:y.name,loading:"lazy"})}):i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-md",children:i.jsx(bz,{className:"text-white",size:16})}),i.jsx("div",{className:"min-w-0 flex-1",children:i.jsx("div",{className:`text-sm font-semibold ${u?"text-white":"text-gray-900"} truncate`,children:y.name})})]})}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"text-sm font-semibold text-green-500",children:["S/ ",(parseFloat(y.price)||0).toFixed(2)]}),y.renewalPrice&&parseFloat(y.renewalPrice)!==parseFloat(y.price)&&i.jsxs("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:["Ren: S/ ",parseFloat(y.renewalPrice).toFixed(2)]})]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(y.stock||0)>0?u?"bg-green-900/50 text-green-400":"bg-green-100 text-green-800":u?"bg-red-900/50 text-red-400":"bg-red-100 text-red-800"}`,children:y.stock||0})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.bg} ${_.text}`,children:s(y.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${y.status==="En stock"?u?"bg-green-900/80 text-green-400 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":y.status==="A pedido"?u?"bg-yellow-900/80 text-yellow-400 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":u?"bg-red-900/80 text-red-400 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:y.status||"En stock"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ee.button,{onClick:()=>r(y),className:"p-2 rounded-xl bg-blue-500/80 hover:bg-blue-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Editar","aria-label":"Editar producto",children:i.jsx(qS,{size:16})}),i.jsx(ee.button,{onClick:()=>n(y.id),className:"p-2 rounded-xl bg-red-500/80 hover:bg-red-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Eliminar","aria-label":"Eliminar producto",children:i.jsx(lb,{size:16})})]})})]},y.id||v)})})})]})}):i.jsxs(ee.div,{className:`text-center py-16 rounded-2xl border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",whileHover:"hover",children:[i.jsx(ee.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${u?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(ab,{className:"text-white",size:32})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${u?"text-gray-300":"text-gray-700"}`,children:"No tienes productos registrados"}),i.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mb-6`,children:"Agrega tu primer producto para comenzar a vender"}),i.jsxs(ee.button,{onClick:()=>e("subirProducto"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx(aT,{className:"mr-2",size:18}),"Agregar Producto"]})]})]})};K6.propTypes={products:W.arrayOf(W.shape({id:W.string.isRequired,name:W.string.isRequired,price:W.oneOfType([W.string,W.number]).isRequired,stock:W.oneOfType([W.string,W.number]),status:W.string,category:W.string,image:W.string})).isRequired,setActiveSection:W.func.isRequired,handleEdit:W.func.isRequired,handleDelete:W.func.isRequired,getCategoryDisplayName:W.func.isRequired,totalStock:W.number.isRequired,theme:W.oneOf(["light","dark"]).isRequired};const iJ=({soldAccounts:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:s,initial:"hidden",animate:"visible",children:[i.jsxs(ee.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(sT,{className:"inline mr-2",size:32}),"Cuentas Vendidas"]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${n?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:a,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${n?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ab,{size:20}),"Registro de Ventas"]}),i.jsx(Vt,{children:t.length===0?i.jsxs(ee.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(ee.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(sT,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"No hay cuentas vendidas"}),i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Las cuentas vendidas aparecerán aquí"})]}):i.jsx("div",{className:"overflow-x-auto rounded-xl border",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`${n?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Email"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Perfil"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Fecha de Venta"})]})}),i.jsx("tbody",{className:`${n?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:t.map((l,u)=>i.jsxs(ee.tr,{className:"transition-all duration-300 hover:bg-blue-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:u*.1},children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${n?"text-white":"text-gray-900"} truncate max-w-xs`,children:l.productName}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:l.email}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:l.profile||"N/A"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:e(l.saleDate)})]},l.id||u))})]})})})]})]})},oJ=({product:t,setProduct:e,handleChange:r,handleFileChange:n,handleStockChange:s,handleAccountFieldChange:a,handleSubmit:l,setActiveSection:u,theme:d="dark"})=>{const h=d==="dark",p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${h?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",children:[i.jsxs(ee.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${h?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Dp,{className:"inline mr-2",size:32}),"Subir Nuevo Producto"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-blue-400":"text-blue-600"}`,children:[i.jsx(KS,{size:20}),"Imagen del producto"]}),i.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${h?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:t.image?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:t.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),i.jsx(ee.button,{type:"button",onClick:()=>e({...t,image:""}),className:`absolute top-0 right-0 ${h?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(Ws,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Dp,{className:`mx-auto h-12 w-12 ${h?"text-gray-400":"text-gray-500"}`}),i.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:i.jsxs("label",{htmlFor:"file-upload",className:`relative cursor-pointer rounded-xl font-medium ${h?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[i.jsx("span",{children:"Subir una imagen"}),i.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:y=>n(y),accept:"image/*"})]})}),i.jsx("p",{className:`text-xs ${h?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-purple-400":"text-purple-600"}`,children:[i.jsx(ZS,{size:20}),"Información Básica"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Nombre del producto*"}),i.jsx("input",{type:"text",name:"name",value:t.name,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Categoría*"}),i.jsxs("select",{name:"category",value:t.category,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Netflix",children:"Netflix"}),i.jsx("option",{value:"Spotify",children:"Spotify"}),i.jsx("option",{value:"Disney",children:"Disney+"}),i.jsx("option",{value:"Max",children:"Max"}),i.jsx("option",{value:"Prime Video",children:"Prime Video"}),i.jsx("option",{value:"Vix",children:"Vix"}),i.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),i.jsx("option",{value:"Canva",children:"Canva"}),i.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),i.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),i.jsx("option",{value:"Dgo",children:"DGO"}),i.jsx("option",{value:"Liga Max",children:"Liga Max"}),i.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),i.jsx("option",{value:"Youtube",children:"YouTube"}),i.jsx("option",{value:"Deezer",children:"Deezer"}),i.jsx("option",{value:"Tidal",children:"Tidal"}),i.jsx("option",{value:"Vpn",children:"VPN"}),i.jsx("option",{value:"WinTv",children:"WinTV"}),i.jsx("option",{value:"Apple Music",children:"CinePlanet "}),i.jsx("option",{value:"Apple Tv",children:"Apple TV"}),i.jsx("option",{value:"Iptv",children:"IPTV"}),i.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),i.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),i.jsx("option",{value:"Pornhub",children:"Pornhub"}),i.jsx("option",{value:"Paramount",children:"Paramount"}),i.jsx("option",{value:"Licencias",children:"Licencias"}),i.jsx("option",{value:"Capcut",children:"Capcut"}),i.jsx("option",{value:"Duolingo",children:"Duolingo"}),i.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Tipo de cuenta*"}),i.jsxs("select",{name:"accountType",value:t.accountType,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Premium",children:"Premium"}),i.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Estado*"}),i.jsxs("select",{name:"status",value:t.status,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"En stock",children:"En stock"}),i.jsx("option",{value:"A pedido",children:"A pedido"}),i.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Stock*"}),i.jsx("input",{type:"number",name:"stock",value:t.status==="Agotado"?0:t.stock,onChange:s,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all ${t.status==="Agotado"?"opacity-50 cursor-not-allowed":""} placeholder-gray-500`,min:"0",required:!0,disabled:t.status==="Agotado"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio (S/)*"}),i.jsx("input",{type:"number",name:"price",value:t.price,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"renewal",checked:t.renewal,onChange:r,className:`h-4 w-4 rounded ${h?"text-purple-400 focus:ring-purple-400 border-gray-600/50":"text-purple-600 focus:ring-purple-600 border-gray-300/50"}`}),i.jsx("label",{className:`ml-2 text-sm ${h?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),t.renewal&&i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio de renovación (S/)*"}),i.jsx("input",{type:"number",name:"renewalPrice",value:t.renewalPrice,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8",children:[i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-green-400":"text-green-600"}`,children:[i.jsx(nc,{size:20}),"Duración y Contacto"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Duración (días)"}),i.jsx("input",{type:"number",name:"duration",value:t.duration,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:["Teléfono de contacto ",t.status==="A pedido"?"*":""]}),i.jsx("input",{type:"text",name:"providerPhone",value:t.providerPhone,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:t.status==="A pedido"})]})]})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(YS,{size:20}),"Enlaces y Descripciones"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"URL del producto (opcional)"}),i.jsx("input",{type:"url",name:"productUrl",value:t.productUrl||"",onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Detalles del producto"}),i.jsx("textarea",{name:"details",value:t.details,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Términos y condiciones"}),i.jsx("textarea",{name:"terms",value:t.terms,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]})]})]}),t.status==="En stock"&&i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-pink-400":"text-pink-600"}`,children:[i.jsx(Su,{size:20}),"Cuentas Asociadas"]}),i.jsx("p",{className:`text-sm mb-4 ${h?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),i.jsx(Vt,{children:i.jsx("div",{className:"space-y-4",children:t.accounts.map((y,v)=>i.jsxs(ee.div,{className:`border rounded-xl p-4 ${h?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:v*.1},children:[i.jsxs("h4",{className:`text-sm font-medium ${h?"text-white":"text-gray-900"} mb-3 flex items-center gap-2`,children:["Cuenta ",v+1]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),i.jsx("input",{type:"email",value:y.email,onChange:_=>a(v,"email",_.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),i.jsx("input",{type:"text",value:y.password,onChange:_=>a(v,"password",_.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),i.jsx("input",{type:"text",value:y.profile,onChange:_=>a(v,"profile",_.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),i.jsx("input",{type:"text",value:y.pin,onChange:_=>a(v,"pin",_.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},v))})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[i.jsx(ee.button,{onClick:()=>u("inventario"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${h?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),i.jsx(ee.button,{onClick:l,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-pink-500/50 ${h?"from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700":"from-pink-600 to-purple-800 hover:from-pink-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Subir Producto"})]})]})},lJ=({orders:t,totalEarnings:e,providerBalance:r,balanceLoading:n,getCategoryDisplayName:s,formatDate:a,theme:l="dark"})=>{const u=l==="dark",d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[i.jsxs(ee.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Us,{className:"inline mr-2",size:32}),"Ganancias"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-green-400":"text-green-600"}`,children:[i.jsx(Us,{size:20}),"Resumen Financiero"]}),i.jsxs("p",{className:`text-4xl font-bold ${u?"text-white":"text-gray-900"} mb-2`,children:["S/ ",e.toFixed(2)]}),i.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mb-1`,children:[t.length," ventas realizadas"]}),n?i.jsxs("div",{className:"flex items-center justify-center py-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-500 mr-2"}),i.jsx("span",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Cargando saldo..."})]}):i.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",r.toFixed(2)]})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(qo,{size:20}),"Historial de Ventas"]}),i.jsx(Vt,{children:t.length===0?i.jsxs(ee.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(ee.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(qo,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${u?"text-gray-300":"text-gray-700"}`,children:"No hay ventas registradas"}),i.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Tus ventas aparecerán aquí"})]}):i.jsxs("div",{className:"overflow-x-auto rounded-xl border",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`${u?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Categoría"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Comprador"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Contacto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Fecha"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"})]})}),i.jsx("tbody",{className:`${u?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:t.slice(0,10).map((p,g)=>i.jsxs(ee.tr,{className:"transition-all duration-300 hover:bg-indigo-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:g*.1},children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-gray-900"} truncate max-w-xs`,children:p.productName}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:s(p.category)}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[i.jsx("div",{className:`text-sm font-medium ${u?"text-white":"text-gray-900"}`,children:p.buyer}),i.jsx("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:p.buyerEmail})]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:p.buyerPhone}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:a(p.saleDate)}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-semibold ${u?"text-indigo-400":"text-indigo-600"}`,children:["S/ ",(p.amount||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${u?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300"}`,children:"Completado"})})]},p.id||g))})]}),t.length>10&&i.jsxs("p",{className:`text-center mt-4 text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Mostrando las primeras 10 ventas. Hay ",t.length," en total."]})]})})]})]})]})},Y6=({orders:t,searchQuery:e,setSearchQuery:r,getCategoryDisplayName:n,formatDate:s,handleEditOrder:a,handleActivateOrder:l,handleDeleteOrder:u,theme:d="dark"})=>{const[h,p]=N.useState({key:null,direction:"asc"}),g=d==="dark",y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},v={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:g?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},_=N.useMemo(()=>{let L=[...t].filter(Y=>(Y.productName||"").toLowerCase().includes(e.toLowerCase())||(Y.category||"").toLowerCase().includes(e.toLowerCase())||(Y.provider||"").toLowerCase().includes(e.toLowerCase())||(Y.buyer||"").toLowerCase().includes(e.toLowerCase())||(Y.accountDetails?.email||"").toLowerCase().includes(e.toLowerCase()));return h.key&&L.sort((Y,H)=>{let S=Y[h.key]||"",A=H[h.key]||"";return typeof S=="string"&&(S=S.toLowerCase()),typeof A=="string"&&(A=A.toLowerCase()),S<A?h.direction==="asc"?-1:1:S>A?h.direction==="asc"?1:-1:0}),L},[t,e,h]),w=L=>{const Y={netflix:{bg:g?"bg-red-900/30":"bg-red-100",text:g?"text-red-300":"text-red-800"},disney:{bg:g?"bg-blue-900/30":"bg-blue-100",text:g?"text-blue-300":"text-blue-800"},max:{bg:g?"bg-yellow-900/30":"bg-yellow-100",text:g?"text-yellow-300":"text-yellow-800"},spotify:{bg:g?"bg-green-900/30":"bg-green-100",text:g?"text-green-300":"text-green-800"},default:{bg:g?"bg-gray-900/30":"bg-gray-100",text:g?"text-gray-300":"text-gray-700"}};return Y[L?.toLowerCase()]||Y.default},E=(L,Y)=>{const H=L.status||"pending",A=(L.daysRemaining||0)>0;let I,P,M;return H==="soporte"?(I="En soporte",P=Y?"text-blue-400":"text-blue-600",M=i.jsx(Fi,{className:P,title:"En Soporte"})):H==="rechazado"?(I="No aplica soporte",P=Y?"text-amber-700":"text-amber-900",M=i.jsx(ia,{className:P,title:"No aplica soporte"})):H==="refunded"?(I="Reembolsado",P=Y?"text-gray-400":"text-gray-600",M=i.jsx(ia,{className:P,title:"Reembolsado"})):H==="pending"?(I="Pendiente",P=Y?"text-yellow-400":"text-yellow-600",M=i.jsx(nc,{className:P,title:"Pendiente"})):A?(I="Activo",P=Y?"text-green-400":"text-green-600",M=i.jsx(ku,{className:P,title:"Activo"})):(I="Expirado",P=Y?"text-red-400":"text-red-600",M=i.jsx(ia,{className:P,title:"Expirado"})),{text:I,color:P,icon:M}},O=L=>{p(Y=>({key:L,direction:Y.key===L&&Y.direction==="asc"?"desc":"asc"}))},j=L=>h.key!==L?null:h.direction==="asc"?i.jsx(Pm,{className:"ml-1"}):i.jsx(Im,{className:"ml-1"}),z=()=>{const L=_.map(A=>{const I=A.status||"pending",P=I==="pending",M=I==="soporte",R=I==="rechazado",F=I==="refunded",me=A.daysRemaining||0,Te=me>0;let je;M?je="En Soporte":R?je="No aplica soporte":F?je="Reembolsado":Te?je="Activo":P?je="Pendiente":je="Expirado";const Ie=M||R||F||P&&!Te;let _e;return Ie?_e=je:_e=`${me} día${me===1?"":"s"}`,{Estado:je,Producto:A.productName||"Sin nombre",Categoría:n(A.category),Proveedor:A.provider||"N/A",Monto:`S/ ${(A.amount||0).toFixed(2)}`,"Tiempo Restante":_e,"Fecha de Inicio":A.startDate?s(A.startDate):"N/A","Fecha de Vencimiento":A.endDate?s(A.endDate):"N/A",Comprador:A.buyer||"N/A",Teléfono:A.buyerPhone||"N/A",Email:A.accountDetails?.email||"N/A",Contraseña:A.accountDetails?.password||"N/A",Perfil:A.accountDetails?.profile||"N/A",PIN:A.accountDetails?.pin||"N/A"}}),Y=oa.json_to_sheet(L),H=oa.book_new();oa.book_append_sheet(H,Y,"Pedidos");const S=new Date().toISOString().slice(0,10).replace(/-/g,"");Um(H,`orders_export_${S}.xlsx`)};return i.jsxs(ee.div,{className:`backdrop-blur-md p-2 sm:p-4 md:p-6 lg:p-8 rounded-3xl shadow-2xl w-full border ${g?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"orders-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"orders-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${g?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(qo,{className:"mr-2"})," Mis Pedidos",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${g?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:_.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 md:w-64 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos por nombre, categoría, proveedor, cliente o email...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${g?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:e,onChange:L=>r(L.target.value),"aria-label":"Buscar pedidos por nombre, categoría, proveedor, cliente o email"}),i.jsx(oi,{className:`absolute left-3 top-3.5 ${g?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(ee.button,{onClick:z,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${g?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos como Excel","aria-label":"Exportar pedidos a Excel",children:[i.jsx(Rm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx(Vt,{children:_.length>0?i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${g?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${g?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:"status",label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"provider",label:"Proveedor"},{key:"amount",label:"Monto"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"buyer",label:"Comprador"},{key:"buyerPhone",label:"Teléfono"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{label:"Acciones"}].map(({key:L,label:Y})=>i.jsx("th",{className:`px-2 sm:px-3 md:px-4 py-3 sm:py-4 text-left text-xs font-semibold uppercase tracking-wider ${g?"text-gray-300":"text-gray-700"} cursor-pointer hover:text-blue-400 transition-colors`,onClick:()=>L&&O(L),children:i.jsxs("div",{className:"flex items-center justify-between",children:[Y,L&&j(L)]})},L||Y))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:_.map(L=>{const Y=parseFloat(L.amount)||0,H=L.status||"pending",S=H==="pending",A=H==="soporte",I=H==="rechazado",P=H==="refunded",M=L.daysRemaining||0,R=Math.min(L.timeElapsedPercentage||0,100),F=E(L,g),me=w(L.category);let Te;R<70?Te=g?"bg-green-500":"bg-green-600":R<90?Te=g?"bg-orange-500":"bg-orange-600":Te=g?"bg-red-500":"bg-red-600";const je=!["En soporte","No aplica soporte","Reembolsado","Pendiente"].includes(F.text),Ie=A||I||P||S,_e=Ie?F.text:`${M} día${M===1?"":"s"}`,oe=je?Te.replace("bg-","text-"):F.color,xe=L.provider||"BlackStreaming",se=L.buyerPhone?L.buyerPhone.replace(/[^0-9]/g,""):null,U=L.soporteMessage?`

📝 *Nota de Soporte*: ${L.soporteMessage}`:"",re=encodeURIComponent(`¡Hola! 👋 Soy ${xe} de BlackStreaming.

🔧 *Necesito contactarte* sobre tu pedido de *${L.productName||"Sin nombre"}*.
🆔 *Pedido*: ${L.id||"N/A"}
📞 ¿Podrías confirmarme algunos detalles o resolver una duda rápida?

¡Gracias por tu paciencia! 🙏`),ne=encodeURIComponent(`¡Hola! 👋 *${xe}* de BlackStreaming aquí.

🎉 *¡Tu cuenta está lista!* Has adquirido:
📺 *${L.productName||"Sin nombre"}*
💰 *Precio*: S/ ${Y.toFixed(2)}
⏰ *Duración*: ${L.durationDays||30} días

🍿 Tu suscripción a *${L.productName||"Sin nombre"}* (${xe}) sigue activa! 🎬
⏳ *Te quedan*: ${Ie?A?"En Soporte":I?"No aplica soporte":P?"Reembolsado":"Pendiente de activación":`${M} día${M===1?"":"s"}`} para disfrutar! 🕒
📋 *Detalles*:
✉️ *Usuario*: ${L.accountDetails?.email||"N/A"}
🔐 *Contraseña*: ${L.accountDetails?.password||"N/A"}
👥 *Perfil*: ${L.accountDetails?.profile||"N/A"}
🔢 *PIN*: ${L.accountDetails?.pin||"N/A"}
🗓 *Compra*: ${L.startDate?s(L.startDate):"N/A"}
🗓 *Vencimiento*: ${L.endDate?s(L.endDate):"N/A"}
📞 *Teléfono*: ${L.buyerPhone||"N/A"}

`+U+`👤 *${xe}* te recomienda renovar a tiempo para no perderte nada! 😊
🚀 ¡Sigue disfrutando y contáctanos si necesitas ayuda! 🎉`);return i.jsxs(ee.tr,{className:`transition-colors duration-200 ${g?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:v,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${L.id}-title`,children:[i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-full ${F.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:F.icon}),i.jsx("span",{className:`${F.color} font-medium`,children:F.text})]})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4",children:i.jsx("h4",{id:`order-${L.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:L.productName||"Sin nombre"})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${me.bg} ${me.text}`,children:n(L.category)})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap font-mono text-sm",children:L.provider||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsx("div",{className:"space-y-1",children:i.jsxs("p",{className:"font-bold text-lg",children:["S/ ",Y.toFixed(2)]})})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[je&&i.jsx("div",{className:"relative",children:i.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${g?"bg-gray-600/40":"bg-gray-300/40"}`,children:i.jsx(ee.div,{className:`h-2 rounded-full ${Te}`,initial:{width:0},animate:{width:`${R}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),i.jsx("span",{className:`text-sm font-medium ${oe}`,children:_e})]})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:L.startDate?s(L.startDate):"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:L.endDate?s(L.endDate):"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:L.buyer||"N/A",children:L.buyer||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:L.buyerPhone||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:L.accountDetails?.email||"N/A",children:L.accountDetails?.email||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:L.accountDetails?.password||"N/A",children:L.accountDetails?.password||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm",children:L.accountDetails?.profile||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm font-mono",children:L.accountDetails?.pin||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ee.button,{onClick:()=>a(L),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-blue-500/80 hover:bg-blue-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Editar cuenta","aria-label":`Editar cuenta para el pedido ${L.id}`,children:i.jsx(qS,{size:16})}),S&&i.jsx(ee.button,{onClick:()=>l(L.id),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-green-500/80 hover:bg-green-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Activar pedido","aria-label":`Activar pedido ${L.id}`,children:i.jsx(ku,{size:16})}),se&&i.jsxs(i.Fragment,{children:[i.jsx(ee.a,{href:`https://wa.me/${se}?text=${re}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente","aria-label":`Contactar cliente para el pedido ${L.id}`,children:i.jsx($r,{size:16})}),!P&&!A&&!I&&i.jsx(ee.a,{href:`https://wa.me/${se}?text=${ne}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-amber-500/80 hover:bg-amber-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Notificar cliente sobre estado o vencimiento","aria-label":`Notificar cliente para el pedido ${L.id}`,children:i.jsx(b0,{size:16})})]}),i.jsx(ee.button,{onClick:()=>u(L.id),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-red-500/80 hover:bg-red-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Eliminar pedido","aria-label":`Eliminar pedido ${L.id}`,children:i.jsx(lb,{size:16})})]})})]},L.id)})})]})})}):i.jsxs(ee.div,{className:"text-center py-16",variants:y,initial:"hidden",animate:"visible",children:[i.jsx(ee.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(oi,{className:`mx-auto text-6xl ${g?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos encontrados"}),i.jsx("p",{className:`text-sm ${g?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o realiza tu primer pedido."})]})})]})};Y6.propTypes={orders:W.arrayOf(W.shape({id:W.string.isRequired,productName:W.string,category:W.string,provider:W.string,amount:W.oneOfType([W.string,W.number]),status:W.string,startDate:W.oneOfType([W.string,W.instanceOf(Date)]),endDate:W.oneOfType([W.string,W.instanceOf(Date)]),daysRemaining:W.number,timeElapsedPercentage:W.number,accountDetails:W.shape({email:W.string,password:W.string,profile:W.string,pin:W.string}),buyer:W.string,buyerPhone:W.string,durationDays:W.number,soporteMessage:W.string})).isRequired,searchQuery:W.string.isRequired,setSearchQuery:W.func.isRequired,getCategoryDisplayName:W.func.isRequired,formatDate:W.func.isRequired,handleEditOrder:W.func.isRequired,handleActivateOrder:W.func.isRequired,handleDeleteOrder:W.func.isRequired,theme:W.oneOf(["light","dark"]).isRequired};const cJ=({accountDetails:t,handleAccountChange:e,handleUpdateAccount:r,theme:n="dark"})=>{const s=n==="dark",a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${s?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:a,initial:"hidden",animate:"visible",children:[i.jsxs(ee.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(JS,{className:"inline mr-2",size:32}),"Configuración"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${s?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:l,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${s?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ob,{size:20}),"Información de Cuenta"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"} mb-2`,children:"Correo electrónico"}),i.jsx("input",{type:"email",value:t.email,disabled:!0,className:`w-full px-4 py-2 rounded-xl border ${s?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-200/50 text-gray-600 border-gray-300/50"} cursor-not-allowed focus:ring-0`})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"} mb-2 flex items-center gap-2`,children:[i.jsx(Pp,{size:16}),"Nueva contraseña (opcional)"]}),i.jsx("input",{type:"password",name:"password",value:t.password,onChange:e,className:`w-full px-4 py-2 rounded-xl border ${s?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Dejar en blanco para no cambiar"})]})]})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${s?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:l,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${s?"text-purple-400":"text-purple-600"}`,children:[i.jsx(ib,{size:20}),"Preferencias"]}),i.jsx("textarea",{name:"preferences",value:t.preferences,onChange:e,rows:"6",className:`w-full px-4 py-2 rounded-xl border resize-none ${s?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Especifica tus preferencias o notas"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(ee.button,{onClick:r,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-pink-500/50 ${s?"from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700":"from-pink-600 to-purple-800 hover:from-pink-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Guardar Cambios"})})]})},X6=({orders:t=[],setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:s,getCategoryDisplayName:a,formatDate:l,theme:u="dark"})=>{const[d,h]=N.useState({}),[p,g]=N.useState({key:null,direction:"asc"}),y=u==="dark",v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},_={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:y?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},w=H=>{const S={netflix:{bg:y?"bg-red-900/30":"bg-red-100",text:y?"text-red-300":"text-red-800"},disney:{bg:y?"bg-blue-900/30":"bg-blue-100",text:y?"text-blue-300":"text-blue-800"},max:{bg:y?"bg-yellow-900/30":"bg-yellow-100",text:y?"text-yellow-300":"text-yellow-800"},spotify:{bg:y?"bg-green-900/30":"bg-green-100",text:y?"text-green-300":"text-green-800"},default:{bg:y?"bg-gray-900/30":"bg-gray-100",text:y?"text-gray-300":"text-gray-700"}};return S[H?.toLowerCase()]||S.default},E=N.useMemo(()=>{let S=[...t.filter(A=>A.status==="soporte")].filter(A=>(A.productName||"").toLowerCase().includes(n.toLowerCase())||(A.customerName||A.buyerName||"").toLowerCase().includes(n.toLowerCase()));return p.key&&S.sort((A,I)=>{let P=A[p.key]||"",M=I[p.key]||"";return p.key==="soporteMessage"?(P=A.soporteMessage||"",M=I.soporteMessage||""):p.key==="category"&&(P=a(A.category),M=a(I.category)),typeof P=="string"&&(P=P.toLowerCase()),typeof M=="string"&&(M=M.toLowerCase()),P<M?p.direction==="asc"?-1:1:P>M?p.direction==="asc"?1:-1:0}),S},[t,n,p,a]),O=H=>{g(S=>({key:H,direction:S.key===H&&S.direction==="asc"?"desc":"asc"}))},j=H=>p.key!==H?null:p.direction==="asc"?i.jsx(Pm,{className:"ml-1"}):i.jsx(Im,{className:"ml-1"}),z=()=>{const H=E.map(P=>{const M=P.customerName||P.buyerName||"N/A";return{Producto:P.productName||"Sin nombre",Categoría:a(P.category),Comprador:M,Teléfono:P.buyerPhone||"N/A",Email:P.accountDetails?.email||"N/A","Mensaje de Soporte":P.soporteMessage||"Sin mensaje","Fecha de Inicio":P.startDate?l(P.startDate):"N/A","Fecha de Vencimiento":P.endDate?l(P.endDate):"N/A"}}),S=oa.json_to_sheet(H),A=oa.book_new();oa.book_append_sheet(A,S,"Pedidos en Soporte");const I=new Date().toISOString().slice(0,10).replace(/-/g,"");Um(A,`pedidos_soporte_export_${I}.xlsx`)},L=async H=>{h(S=>({...S,[`reject_${H}`]:!0}));try{await ui(at(Ae,"sales",H),{status:"rechazado"},{merge:!0}),e(S=>S.map(A=>A.id===H?{...A,status:"rechazado"}:A)),r&&await r(),alert("Pedido rechazado exitosamente.")}catch(S){console.error("Error rejecting support:",S),alert("Error al rechazar el soporte.")}finally{h(S=>({...S,[`reject_${H}`]:!1}))}},Y=async H=>{h(S=>({...S,[`solve_${H}`]:!0}));try{await ui(at(Ae,"sales",H),{status:"active"},{merge:!0}),e(S=>S.map(A=>A.id===H?{...A,status:"active"}:A)),r&&await r(),alert("Soporte solucionado y pedido activado exitosamente.")}catch(S){console.error("Error solving support:",S),alert("Error al solucionar el soporte.")}finally{h(S=>({...S,[`solve_${H}`]:!1}))}};return i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${y?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"support-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"support-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${y?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(Fi,{className:"mr-2"})," Pedidos en Soporte",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${y?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:E.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar en soporte...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${y?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:H=>s(H.target.value),"aria-label":"Buscar en soporte"}),i.jsx(oi,{className:`absolute left-3 top-3.5 ${y?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(ee.button,{onClick:z,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${y?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos en soporte como Excel","aria-label":"Exportar pedidos en soporte a Excel",children:[i.jsx(Rm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx(Vt,{children:E.length>0?i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${y?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${y?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:null,label:"Comprador"},{key:null,label:"Teléfono"},{key:null,label:"Email"},{key:"soporteMessage",label:"Mensaje de Soporte"},{key:"startDate",label:"Fecha de Inicio"},{key:"endDate",label:"Fecha de Vencimiento"},{label:"Acciones"}].map(({key:H,label:S})=>i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${y?"text-gray-300":"text-gray-700"} ${H?"cursor-pointer hover:text-blue-400 transition-colors":""}`,onClick:()=>H&&O(H),children:i.jsxs("div",{className:"flex items-center justify-between",children:[S,H&&j(H)]})},H||S))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:E.map(H=>{const S=H.buyerPhone?H.buyerPhone.replace(/^\+/,"").replace(/\D/g,""):null,A=H.customerName||H.buyerName||"N/A",I=encodeURIComponent(`Hola ${A}! 👋

📋 *Soporte para tu pedido de ${H.productName||"Sin nombre"}*:

Estamos revisando tu consulta. Por favor, describe el problema o pregunta para ayudarte mejor.

Detalles del pedido:
✉️ *Usuario*: ${H.accountDetails?.email||"N/A"}
🗓 *Inicio*: ${H.startDate?l(H.startDate):"N/A"}
🗓 *Vencimiento*: ${H.endDate?l(H.endDate):"N/A"}

¡Gracias por tu paciencia! 😊`),P=w(H.category);return i.jsxs(ee.tr,{className:`transition-colors duration-200 ${y?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:_,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${H.id}-title`,children:[i.jsx("td",{className:"px-4 py-4",children:i.jsx("h4",{id:`order-${H.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:H.productName||"Sin nombre"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P.bg} ${P.text}`,children:a(H.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:A}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:H.buyerPhone||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:H.accountDetails?.email||"N/A",children:H.accountDetails?.email||"N/A"}),i.jsxs("td",{className:"px-4 py-4 max-w-xs",children:[i.jsx("p",{className:"text-sm break-words line-clamp-3 bg-gray-100/30 dark:bg-gray-800/30 p-2 rounded",title:H.soporteMessage||"Sin mensaje",children:H.soporteMessage||"Sin mensaje"}),H.soporteCreatedAt&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l(H.soporteCreatedAt)})]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:H.startDate?l(H.startDate):"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:H.endDate?l(H.endDate):"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex gap-2",children:[S&&i.jsx(ee.a,{href:`https://wa.me/${S}?text=${I}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Comunicarse con el usuario","aria-label":`Comunicarse con el usuario para el pedido ${H.productName}`,children:i.jsx($r,{size:16})}),i.jsx(ee.button,{onClick:()=>L(H.id),disabled:d[`reject_${H.id}`],className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${d[`reject_${H.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":"bg-red-500/80 hover:bg-red-600/90 text-white"} transition-all duration-200`,whileHover:d[`reject_${H.id}`]?{}:{scale:1.1},whileTap:d[`reject_${H.id}`]?{}:{scale:.9},title:"Rechazar soporte","aria-label":"Rechazar soporte",children:d[`reject_${H.id}`]?i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):i.jsx(_z,{size:16})}),i.jsx(ee.button,{onClick:()=>Y(H.id),disabled:d[`solve_${H.id}`],className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${d[`solve_${H.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-200`,whileHover:d[`solve_${H.id}`]?{}:{scale:1.1},whileTap:d[`solve_${H.id}`]?{}:{scale:.9},title:"Solucionar soporte","aria-label":"Solucionar soporte",children:d[`solve_${H.id}`]?i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):i.jsx(ku,{size:16})})]})})]},H.id)})})]})})}):i.jsxs(ee.div,{className:"text-center py-16",variants:v,initial:"hidden",animate:"visible",children:[i.jsx(ee.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(Fi,{className:`mx-auto text-6xl ${y?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${y?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos en soporte"}),i.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"}`,children:"Los pedidos en soporte aparecerán aquí"})]})})]})};X6.propTypes={orders:W.array.isRequired,setOrders:W.func,fetchOrders:W.func,searchQuery:W.string,setSearchQuery:W.func,getCategoryDisplayName:W.func.isRequired,formatDate:W.func.isRequired,theme:W.oneOf(["light","dark"])};const uJ=({editModalOpen:t,setEditModalOpen:e,selectedProduct:r,setSelectedProduct:n,editError:s,setEditError:a,handleFileChange:l,handleEditStockChange:u,handleEditAccountFieldChange:d,handleUpdateProduct:h,theme:p="dark"})=>{const g=p==="dark",y={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},v={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},_={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},w=E=>{const{name:O,value:j,type:z,checked:L}=E.target;n(Y=>({...Y,[O]:z==="checkbox"?L:j,...O==="status"&&{stock:j==="Agotado"?0:Y.stock||1,accounts:j==="En stock"?Y.accounts.length?Y.accounts:Array(Y.stock||1).fill({email:"",password:"",profile:"",pin:""}):[]}}))};return t?i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl w-full max-w-6xl border max-h-[90vh] overflow-y-auto ${g?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs(ee.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${g?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Dp,{className:"inline mr-2",size:32}),"Editar Producto"]}),i.jsx(ee.button,{onClick:()=>e(!1),className:`${g?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(Ws,{size:20})})]}),i.jsx(Vt,{children:s&&i.jsx(ee.div,{className:`mb-8 p-4 border rounded-2xl ${g?"bg-red-900/30 border-red-700/50 text-red-300":"bg-red-100/30 border-red-300/50 text-red-700"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:s})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",variants:v,initial:"hidden",animate:"visible",children:[i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:_,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-blue-400":"text-blue-600"}`,children:[i.jsx(KS,{size:20}),"Imagen del producto"]}),i.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${g?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:r.image?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:r.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),i.jsx(ee.button,{type:"button",onClick:()=>n({...r,image:""}),className:`absolute top-0 right-0 ${g?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(Ws,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Dp,{className:`mx-auto h-12 w-12 ${g?"text-gray-400":"text-gray-500"}`}),i.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:i.jsxs("label",{htmlFor:"edit-file-upload",className:`relative cursor-pointer rounded-xl font-medium ${g?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[i.jsx("span",{children:"Subir una imagen"}),i.jsx("input",{id:"edit-file-upload",name:"edit-file-upload",type:"file",className:"sr-only",onChange:E=>l(E,!0),accept:"image/*"})]})}),i.jsx("p",{className:`text-xs ${g?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:_,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-purple-400":"text-purple-600"}`,children:[i.jsx(ZS,{size:20}),"Información Básica"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Nombre del producto*"}),i.jsx("input",{type:"text",name:"name",value:r.name,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Categoría*"}),i.jsxs("select",{name:"category",value:r.category,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Netflix",children:"Netflix"}),i.jsx("option",{value:"Spotify",children:"Spotify"}),i.jsx("option",{value:"Disney",children:"Disney+"}),i.jsx("option",{value:"Max",children:"Max"}),i.jsx("option",{value:"Prime Video",children:"Prime Video"}),i.jsx("option",{value:"Vix",children:"Vix"}),i.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),i.jsx("option",{value:"Canva",children:"Canva"}),i.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),i.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),i.jsx("option",{value:"Dgo",children:"DGO"}),i.jsx("option",{value:"Liga Max",children:"Liga Max"}),i.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),i.jsx("option",{value:"Youtube",children:"YouTube"}),i.jsx("option",{value:"Deezer",children:"Deezer"}),i.jsx("option",{value:"Tidal",children:"Tidal"}),i.jsx("option",{value:"Vpn",children:"VPN"}),i.jsx("option",{value:"WinTv",children:"WinTV"}),i.jsx("option",{value:"Apple Music",children:"CinePlanet"}),i.jsx("option",{value:"Apple Tv",children:"Apple TV"}),i.jsx("option",{value:"Iptv",children:"IPTV"}),i.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),i.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),i.jsx("option",{value:"Pornhub",children:"Pornhub"}),i.jsx("option",{value:"Paramount",children:"Paramount"}),i.jsx("option",{value:"Licencias",children:"Licencias"}),i.jsx("option",{value:"Capcut",children:"Capcut"}),i.jsx("option",{value:"Duolingo",children:"Duolingo"}),i.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Tipo de cuenta*"}),i.jsxs("select",{name:"accountType",value:r.accountType,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Premium",children:"Premium"}),i.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Estado*"}),i.jsxs("select",{name:"status",value:r.status,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"En stock",children:"En stock"}),i.jsx("option",{value:"A pedido",children:"A pedido"}),i.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Stock*"}),i.jsx("input",{type:"number",name:"stock",value:r.status==="Agotado"?0:r.stock,onChange:u,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all ${r.status==="Agotado"?"opacity-50 cursor-not-allowed":""} placeholder-gray-500`,min:"0",required:!0,disabled:r.status==="Agotado"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio (S/)*"}),i.jsx("input",{type:"number",name:"price",value:r.price,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"renewal",checked:r.renewal,onChange:w,className:`h-4 w-4 rounded ${g?"text-purple-400 focus:ring-purple-400 border-gray-600/50":"text-purple-600 focus:ring-purple-600 border-gray-300/50"}`}),i.jsx("label",{className:`ml-2 text-sm ${g?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),r.renewal&&i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio de renovación (S/)*"}),i.jsx("input",{type:"number",name:"renewalPrice",value:r.renewalPrice,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8",variants:v,initial:"hidden",animate:"visible",children:[i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:_,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-green-400":"text-green-600"}`,children:[i.jsx(nc,{size:20}),"Duración y Contacto"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Duración (días)"}),i.jsx("input",{type:"number",name:"duration",value:r.duration,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:["Teléfono de contacto ",r.status==="A pedido"?"*":""]}),i.jsx("input",{type:"text",name:"providerPhone",value:r.providerPhone,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:r.status==="A pedido"})]})]})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:_,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(YS,{size:20}),"Enlaces y Descripciones"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"URL del producto (opcional)"}),i.jsx("input",{type:"url",name:"productUrl",value:r.productUrl||"",onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Detalles del producto"}),i.jsx("textarea",{name:"details",value:r.details,onChange:w,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Términos y condiciones"}),i.jsx("textarea",{name:"terms",value:r.terms,onChange:w,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]})]})]}),r.status==="En stock"&&i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:_,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-pink-400":"text-pink-600"}`,children:[i.jsx(Su,{size:20}),"Cuentas Asociadas"]}),i.jsx("p",{className:`text-sm mb-4 ${g?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),i.jsx(Vt,{children:i.jsx("div",{className:"space-y-4",children:r.accounts.map((E,O)=>i.jsxs(ee.div,{className:`border rounded-xl p-4 ${g?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:O*.1},children:[i.jsxs("h4",{className:`text-sm font-medium ${g?"text-white":"text-gray-900"} mb-3 flex items-center gap-2`,children:["Cuenta ",O+1]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),i.jsx("input",{type:"email",value:E.email,onChange:j=>d(O,"email",j.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),i.jsx("input",{type:"text",value:E.password,onChange:j=>d(O,"password",j.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),i.jsx("input",{type:"text",value:E.profile,onChange:j=>d(O,"profile",j.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),i.jsx("input",{type:"text",value:E.pin,onChange:j=>d(O,"pin",j.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},O))})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[i.jsx(ee.button,{onClick:()=>e(!1),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${g?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),i.jsx(ee.button,{onClick:h,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${g?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Actualizar Producto"})]})]})}):null},dJ=({editOrderModalOpen:t,setEditOrderModalOpen:e,selectedOrder:r,handleOrderAccountChange:n,editOrderError:s,setEditOrderError:a,handleUpdateOrder:l,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return t?i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl w-full max-w-md border max-h-[90vh] overflow-y-auto ${d?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs(ee.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Pp,{className:"inline mr-2",size:32}),"Editar Detalles de Cuenta"]}),i.jsx(ee.button,{onClick:()=>e(!1),className:`${d?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(Ws,{size:20})})]}),i.jsx(Vt,{children:s&&i.jsx(ee.div,{className:`mb-8 p-4 border rounded-2xl ${d?"bg-red-900/30 border-red-700/50 text-red-300":"bg-red-100/30 border-red-300/50 text-red-700"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:s})}),i.jsx(ee.div,{className:`border rounded-2xl p-6 shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"} space-y-4`,variants:p,initial:"hidden",animate:"visible",children:i.jsxs(ee.div,{className:"space-y-4",variants:g,whileHover:"hover",children:[i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(ob,{size:16}),"Correo electrónico*"]}),i.jsx("input",{type:"email",name:"email",value:r.accountDetails.email,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: usuario@ejemplo.com",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(Pp,{size:16}),"Contraseña*"]}),i.jsx("input",{type:"text",name:"password",value:r.accountDetails.password,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: contraseña123",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(ks,{size:16}),"Perfil (opcional)"]}),i.jsx("input",{type:"text",name:"profile",value:r.accountDetails.profile,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: Perfil 1"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(xz,{size:16}),"PIN (opcional)"]}),i.jsx("input",{type:"text",name:"pin",value:r.accountDetails.pin,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: 1234"})]})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[i.jsx(ee.button,{onClick:()=>e(!1),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${d?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),i.jsx(ee.button,{onClick:l,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${d?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Guardar Cambios"})]})]})}):null},hJ=({users:t,providerBalance:e,handleRecharge:r,theme:n,userSearch:s,setUserSearch:a})=>{const l=n==="dark",u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},[h,p]=N.useState({}),g=(v,_)=>{p(w=>({...w,[v]:_}))},y=v=>{const _=parseFloat(h[v]);_&&_>0&&_<=e&&(r(v,_),p(w=>({...w,[v]:""})))};return i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${l?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[i.jsx(ee.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${l?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Gestión de Recargas"}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative group",children:[i.jsx(oi,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${l?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,size:18}),i.jsx("input",{type:"text",placeholder:"Buscar usuarios por nombre o email...",value:s,onChange:v=>a(v.target.value),className:`w-full pl-10 pr-4 py-2.5 ${l?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${l?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${l?"text-green-400":"text-green-600"}`,children:[i.jsx(Us,{size:20}),"Tu Saldo Disponible"]}),i.jsxs("p",{className:`text-4xl font-bold ${l?"text-white":"text-gray-900"}`,children:["S/ ",e.toFixed(2)]}),i.jsx("p",{className:`text-sm ${l?"text-gray-400":"text-gray-600"} mt-2`,children:"Usa para recargar saldos de usuarios"})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${l?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${l?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ks,{size:20}),"Total Usuarios"]}),i.jsx("p",{className:`text-4xl font-bold ${l?"text-white":"text-gray-900"}`,children:t.length}),i.jsx("p",{className:`text-sm ${l?"text-gray-400":"text-gray-600"} mt-2`,children:'Usuarios con rol "Usuario"'})]}),i.jsxs(ee.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${l?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${l?"text-purple-400":"text-purple-600"}`,children:[i.jsx(Us,{size:20}),"Saldo Total Distribuido"]}),i.jsxs("p",{className:`text-4xl font-bold ${l?"text-white":"text-gray-900"}`,children:["S/ ",t.reduce((v,_)=>v+(_.balance||0),0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${l?"text-gray-400":"text-gray-600"} mt-2`,children:"Suma de saldos de usuarios"})]})]}),i.jsxs(ee.div,{className:`bg-${l?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${l?"border-gray-700/50":"border-gray-300"}`,variants:u,whileHover:"hover",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${l?"text-white":"text-gray-900"}`,children:["Lista de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Usuarios"})," ","(",t.length,")"]})}),t.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${l?"bg-gray-800/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${l?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(zl,{})," Usuario"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${l?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(_u,{})," Email"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${l?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Us,{})," Saldo"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${l?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),i.jsx("tbody",{className:`${l?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:t.map(v=>i.jsxs("tr",{className:`hover:bg-${l?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${l?"text-white":"text-gray-900"}`,children:v.username||"Sin nombre"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${l?"text-gray-300":"text-gray-600"}`,children:v.email}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${l?"text-white":"text-gray-900"}`,children:["S/ ",(v.balance||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap flex space-x-2",children:i.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[i.jsx("input",{type:"number",placeholder:"Monto",value:h[v.id]||"",onChange:_=>g(v.id,_.target.value),className:`w-20 px-2 py-1 rounded ${l?"bg-gray-700/50 border-gray-500/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} text-sm focus:outline-none focus:ring-2 focus:ring-blue-400`,min:"0",step:"0.01",max:e}),i.jsx(ee.button,{onClick:()=>y(v.id),className:`px-3 py-1 text-white rounded text-xs transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${l?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!h[v.id]||parseFloat(h[v.id])<=0||parseFloat(h[v.id])>e,children:"Recargar"})]})})]},v.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(hi,{className:`mx-auto text-4xl ${l?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${l?"text-gray-300":"text-gray-600"}`,children:"No hay usuarios disponibles"})]})]})]})},fJ=ja.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>i.jsx(Vt,{children:t&&i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(pn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));fJ.propTypes={show:W.bool.isRequired,onClose:W.func.isRequired,title:W.string.isRequired,message:W.string.isRequired,theme:W.string.isRequired};const Q6=()=>{const[t,e]=N.useState(!1),[r,n]=N.useState("inicio"),[s,a]=N.useState("Usuario"),[l,u]=N.useState(""),[d,h]=N.useState(""),[p,g]=N.useState([]),[y,v]=N.useState([]),[_,w]=N.useState([]),[E,O]=N.useState([]),[j,z]=N.useState([]),[L,Y]=N.useState(0),[H,S]=N.useState(0),[A,I]=N.useState(!0),[P,M]=N.useState(""),[R,F]=N.useState({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:Array(1).fill({email:"",password:"",profile:"",pin:""})}),[me,Te]=N.useState(null),[je,Ie]=N.useState(!1),[_e,oe]=N.useState(""),[xe,se]=N.useState(""),[U,re]=N.useState(""),[ne,ae]=N.useState({isOpen:!1,message:"",title:""}),[J,De]=N.useState({email:"",password:"",preferences:"",balance:0}),[Ve,Ce]=N.useState(!1),[Me,nt]=N.useState(!0),[mt,Wt]=N.useState(0),[vt,rr]=N.useState(!1),[Dt,Re]=N.useState(null),[dr,Mt]=N.useState(""),[He,he]=N.useState("dark"),[Je,lt]=N.useState(!1),[ft,Tt]=N.useState(!1),[dt,St]=N.useState([]),ct=La(),wr=Tv(),Q=N.useCallback(D=>{const X=new Date(D);return X.setUTCHours(23,59,59,999),X},[]),Ne=N.useCallback(()=>{he(D=>D==="dark"?"light":"dark")},[]),ht=N.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),pe=N.useCallback((D,X)=>{ae({isOpen:!0,title:D,message:X})},[]),ke=N.useCallback(()=>{ae({isOpen:!1,message:"",title:""})},[]),Pe=N.useCallback(D=>{if(!D)return"No especificada";try{const X=D instanceof Date?D:D?.toDate?.()||new Date(D);return isNaN(X.getTime())?"Fecha inválida":X.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(X){return console.error("Error formatting date:",X),"Fecha inválida"}},[]),Qe=N.useCallback(D=>({netflix:"Netflix",spotify:"Spotify",disney:"Disney",max:"Max",primevideo:"Prime Video",vix:"Vix",crunchyroll:"Crunchyroll",canva:"Canva",chatgpt:"ChatGPT",redessociales:"Redes Sociales",dgo:"Dgo",ligamax:"Liga Max",movistarplay:"Movistar Play",youtube:"Youtube",deezer:"Deezer",tidal:"Tidal",vpn:"Vpn",wintv:"WinTv",applemusic:"Apple Music",appletv:"Apple TV",iptv:"Iptv",flujotv:"Flujo Tv",vikirakuten:"Viki Rakuten",pornhub:"Pornhub",paramount:"Paramount",licencias:"Licencias",capcut:"Capcut",duolingo:"Duolingo",buscapersonas:"BuscaPersonas"})[D?.toLowerCase()]||"Otro",[]);N.useEffect(()=>{const D=Yl(wr,X=>{X?(u(X.email||""),h(X.uid),xt(X.uid)):ct("/login")});return()=>D()},[wr,ct]);const xt=async D=>{try{const X=at(Ae,"users",D),ce=await ri(X);if(ce.exists()){const le=ce.data();a(le.username||"Usuario"),De({email:le.email||"",password:"",preferences:le.preferences||"",balance:le.balance||0})}I(!1)}catch(X){M("Error al cargar datos del usuario"),console.error("Error fetching user data:",X),I(!1)}};N.useEffect(()=>{if(!d)return;const D=at(Ae,"users",d);return or(D,ce=>{if(ce.exists()){const le=ce.data();De(de=>({...de,email:le.email||de.email,preferences:le.preferences||de.preferences,balance:le.balance||0})),a(le.username||prev.username),Y(le.userAssignmentLimit||0),S(le.assignedUsersCount||0)}},ce=>{console.error("Error listening to user data:",ce)})},[d]),N.useEffect(()=>{l&&(async X=>{try{const ce=await ri(at(Ae,"admins",X));Ce(ce.exists())}catch(ce){console.error("Error checking admin status:",ce)}})(l)},[l]),N.useEffect(()=>{const D=or(at(Ae,"notifications","adminMessage"),X=>{if(X.exists()){const ce=X.data(),le=Ve?"admin":"provider";ce.roles&&ce.roles.includes(le)?St([{id:X.id,...ce,timestamp:ce.updatedAt?.toDate()}]):St([])}else St([])},X=>{console.error("Error in notifications listener:",X),M("Error al cargar notificaciones: "+X.message)});return()=>D()},[Ve]),N.useEffect(()=>{const D=Zt(_t(Ae,"users"),gr("role","==","user")),X=or(D,ce=>{const le=ce.docs.map(de=>({id:de.id,...de.data()}));O(le)},ce=>{console.error("Error fetching users:",ce),M("Error al cargar usuarios")});return()=>X()},[]),N.useEffect(()=>{const D=_t(Ae,"users"),X=or(D,ce=>{const de=ce.docs.map(ge=>({id:ge.id,...ge.data()})).filter(ge=>!ge.role);z(de)},ce=>{console.error("Error fetching unassigned users:",ce),M("Error al cargar usuarios sin rol")});return()=>X()},[]),N.useEffect(()=>{if(!s)return;const D=Zt(_t(Ae,"products"),gr("provider","==",s)),X=or(D,ce=>{const le=ce.docs.map(de=>({id:de.id,...de.data()}));v(le)},ce=>{console.error("Error fetching products:",ce),M("Error al cargar productos")});return()=>X()},[s]),N.useEffect(()=>{if(!d)return;const D=Zt(_t(Ae,"sales"),gr("providerId","==",d)),X=or(D,async le=>{if(le.empty){g([]),nt(!1);return}const de=new Date,ge=7200*60*1e3;for(const Ye of le.docs){let Be=Ye.data().endDate,kt=Be instanceof br?Be.toDate():typeof Be=="string"?new Date(Be):new Date(Be);const Ut=Q(kt);if(Ut<de&&de.getTime()-Ut.getTime()>ge)try{await Ri(at(Ae,"sales",Ye.id)),console.log(`Deleted expired order: ${Ye.id}`)}catch(Bt){console.error(`Error deleting order ${Ye.id}:`,Bt)}}const Le=le.docs.map(Ye=>{const Oe=Ye.data(),kt=Oe.saleDate?.toDate?.()||Oe.createdAt?.toDate?.()||new Date;let Ut=Oe.startDate?.toDate?.(),Bt=Ut||kt,nr=!Ut;const ns=Number(Oe.durationDays)||30;let Hn;Oe.endDate?Hn=typeof Oe.endDate=="string"?new Date(Oe.endDate):Oe.endDate.toDate?.()||new Date(Oe.endDate):(Hn=new Date(Bt.getTime()+ns*24*60*60*1e3),nr=!0),nr&&jr(at(Ae,"sales",Ye.id),{startDate:Ut||br.fromDate(kt),endDate:br.fromDate(Q(Hn)),durationDays:ns}).catch(Zi=>{console.error("Error al actualizar startDate/endDate en Firestore:",Zi)});const Wn=Q(Hn),Lr=Wn.getTime()-Bt.getTime(),Va=de.getTime()-Bt.getTime(),Er=Wn.getTime()-de.getTime(),gi=Math.max(1,Math.ceil(Lr/(1e3*60*60*24))),uc=Math.max(0,Math.ceil(Er/(1e3*60*60*24))),dc=Math.ceil(Va/(1e3*60*60*24)),Ji=gi>0?Math.min(100,dc/gi*100):100;return{id:Ye.id,...Oe,productName:Oe.productName||"Producto sin nombre",category:Oe.type||"netflix",amount:parseFloat(Oe.price)||0,buyer:Oe.buyerName||Oe.customerName||"Comprador desconocido",buyerPhone:Oe.buyerPhone||"No especificado",buyerEmail:Oe.customerEmail||"No especificado",status:Oe.status||"completed",saleDate:kt,startDate:Bt,endDate:Hn,durationDays:ns,daysRemaining:uc,totalDays:gi,timeElapsedPercentage:Ji,accountDetails:Oe.accountDetails||{email:"No disponible",password:"No disponible",profile:"N/A",pin:""},balance:parseFloat(Oe.price)||0}}).filter(Ye=>{const Oe=Q(Ye.endDate);return!(Oe<de&&de.getTime()-Oe.getTime()>ge)});g(Le);const ze=Le.filter(Ye=>Ye.status==="completed"&&Ye.accountDetails).map(Ye=>({...Ye.accountDetails,productName:Ye.productName,saleDate:Ye.saleDate,orderId:Ye.id}));w(ze),nt(!1)},le=>{console.error("Error fetching sales:",le),M("Error al cargar ventas"),nt(!1)}),ce=setInterval(()=>{g(le=>le.map(de=>{const ge=new Date,Le=Q(de.endDate),ze=Le.getTime()-new Date(de.startDate).getTime(),Ye=ge.getTime()-new Date(de.startDate).getTime(),Oe=Le.getTime()-ge.getTime(),Be=Math.max(1,Math.ceil(ze/(1e3*60*60*24))),kt=Math.max(0,Math.ceil(Oe/(1e3*60*60*24))),Ut=Math.ceil(Ye/(1e3*60*60*24)),Bt=Be>0?Math.min(100,Ut/Be*100):100;return{...de,daysRemaining:kt,totalDays:Be,timeElapsedPercentage:Bt}}).filter(de=>{const ge=Q(de.endDate),Le=new Date,ze=7200*60*1e3;return!(ge<Le&&Le.getTime()-ge.getTime()>ze)}))},6e4);return()=>{X(),clearInterval(ce)}},[d,Q]),N.useEffect(()=>{if(!s)return;const D=at(Ae,"providerBalances",s),X=or(D,ce=>{ce.exists()?Wt(ce.data().balance||0):(ui(D,{balance:0,provider:s,updatedAt:ir()}),Wt(0)),nt(!1)},ce=>{console.error("Error fetching provider balance:",ce),M("Error al cargar el saldo del proveedor"),nt(!1)});return()=>X()},[s]);const Nt=N.useCallback(async D=>{if(H>=L){pe("Error","Has alcanzado el límite de asignaciones de roles");return}try{await vp(Ae,async X=>{const ce=at(Ae,"users",D),le=at(Ae,"users",d),de=await X.get(ce),ge=await X.get(le);if(!de.exists()||de.data().role)throw new Error("Usuario no válido o ya tiene rol");X.update(ce,{role:"user",updatedAt:ir()}),X.update(le,{assignedUsersCount:(ge.data().assignedUsersCount||0)+1,updatedAt:ir()})}),z(X=>X.filter(ce=>ce.id!==D)),S(X=>X+1),pe("Éxito","Rol de usuario asignado correctamente")}catch(X){console.error("Error assigning role:",X),pe("Error",X.message||"Error al asignar rol")}},[d,H,L,pe]),st=N.useCallback(async(D,X)=>{if(!X||X<=0){pe("Error","El monto debe ser mayor a 0");return}if(X>J.balance){pe("Error","Saldo insuficiente en tu cuenta");return}try{await vp(Ae,async ce=>{const le=at(Ae,"users",d),de=at(Ae,"users",D),ge=await ce.get(le),Le=await ce.get(de);if(!ge.exists())throw new Error("Cuenta no encontrada");if(!Le.exists())throw new Error("Usuario destino no encontrado");const ze=(ge.data().balance||0)-X,Ye=(Le.data().balance||0)+X;if(ze<0)throw new Error("Saldo insuficiente");ce.update(le,{balance:ze,updatedAt:ir()}),ce.update(de,{balance:Ye,updatedAt:ir()})}),De(ce=>({...ce,balance:ce.balance-X})),O(ce=>ce.map(le=>le.id===D?{...le,balance:(le.balance||0)+X}:le)),pe("Éxito",`Transferencia de S/ ${X.toFixed(2)} exitosa`)}catch(ce){console.error("Error en recarga:",ce),pe("Error",ce.message||"Error al procesar la recarga")}},[J.balance,d,pe]),it=N.useCallback(async()=>{try{await F0(wr),ct("/login")}catch(D){console.error("Error al cerrar sesión:",D),pe("Error",D.message||"Error al cerrar sesión")}},[ct,pe]),Ze=N.useCallback(D=>{const{name:X,value:ce,type:le,checked:de}=D.target;F(ge=>({...ge,[X]:le==="checkbox"?de:ce}))},[]),Et=N.useCallback(D=>{const{name:X,value:ce}=D.target;De(le=>({...le,[X]:ce}))},[]),$t=N.useCallback((D,X=!1)=>{const ce=D.target.files[0];if(ce){if(ce.size>10485760){X?oe("La imagen no debe exceder los 10MB"):M("La imagen no debe exceder los 10MB");return}const de=new FileReader;de.onloadend=()=>{X?Te(ge=>({...ge,image:de.result})):F(ge=>({...ge,image:de.result}))},de.readAsDataURL(ce)}},[]),qt=N.useCallback(D=>{const X=parseInt(D.target.value)||1,ce=R.accounts||[];if(X>ce.length){const le=[...ce];for(;le.length<X;)le.push({email:"",password:"",profile:"",pin:""});F({...R,stock:X,accounts:le})}else if(X<ce.length){const le=ce.slice(0,Math.max(X,1));F({...R,stock:X,accounts:le})}else F({...R,stock:X})},[R]),Pr=N.useCallback(D=>{const X=parseInt(D.target.value)||1;let le=[...me.accounts||[]];if(X>le.length)for(;le.length<X;)le.push({email:"",password:"",profile:"",pin:""});else X<le.length&&(le=le.slice(0,Math.max(X,1)));Te({...me,stock:X,accounts:le})},[me]),Rr=N.useCallback((D,X,ce)=>{const le=[...R.accounts];le[D]={...le[D],[X]:ce},F({...R,accounts:le})},[R]),mn=N.useCallback((D,X,ce)=>{Te(le=>({...le,accounts:le.accounts.map((de,ge)=>ge===D?{...de,[X]:ce}:de)}))},[]),hr=N.useCallback(D=>{const{name:X,value:ce}=D.target;Re(le=>({...le,accountDetails:{...le.accountDetails,[X]:ce}}))},[]),zn=N.useCallback(async()=>{if(M(""),!R.name||!R.price){pe("Error","Por favor complete todos los campos obligatorios");return}if(R.renewal&&!R.renewalPrice){pe("Error","Por favor ingrese el precio de renovación");return}if(R.status==="En stock"&&R.accounts.some(X=>!X.email||!X.password)){pe("Error","Por favor complete todos los campos de las cuentas");return}try{const D={...R,provider:s,providerId:d,providerPhone:R.status==="En stock"?R.providerPhone||"":R.providerPhone||"No especificado",createdAt:ir(),availableAccounts:R.status==="En stock"?R.accounts.length:0},X=await Lo(_t(Ae,"products"),D);if(R.status==="En stock"){const ce=_t(Ae,`products/${X.id}/accounts`);for(const le of R.accounts)await Lo(ce,{email:le.email,password:le.password,profile:le.profile||"",pin:le.pin||"",status:"available"})}F({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:[{email:"",password:"",profile:"",pin:""}]}),n("inventario"),pe("Éxito","Producto subido exitosamente!")}catch(D){console.error("Error al subir el producto:",D),pe("Error",`Error al subir el producto: ${D.message}`)}},[R,s,d,pe]),lr=N.useCallback(async D=>{oe("");try{const X=Zt(_t(Ae,"sales"),gr("providerId","==",d),gr("productName","==",D.name)),le=(await Jr(X)).docs.filter(ze=>ze.data().status==="completed"&&ze.data().accountDetails?.email).map(ze=>ze.data().accountDetails.email),de=_t(Ae,`products/${D.id}/accounts`),Le=(await Jr(de)).docs.filter(ze=>ze.data().status==="available").map(ze=>({email:ze.data().email||"",password:ze.data().password||"",profile:ze.data().profile||"",pin:ze.data().pin||""}));Te({id:D.id,name:D.name||"",image:D.image||"",category:D.category||"Netflix",accountType:D.accountType||"Premium",status:D.status||"En stock",stock:Le.length||D.stock||1,price:D.price||"",renewal:D.renewal||!1,renewalPrice:D.renewalPrice||"",duration:D.duration||"",providerPhone:D.providerPhone||"",details:D.details||"",terms:D.terms||"",providerId:D.providerId||d,accounts:D.status==="En stock"?Le.length>0?Le:Array(Math.max(D.stock||1,1)).fill({email:"",password:"",profile:"",pin:""}):[]}),Ie(!0)}catch(X){console.error("Error al preparar edición del producto:",X),oe("Error al preparar edición del producto")}},[d]),kn=N.useCallback(async()=>{if(oe(""),!me.name||!me.price){oe("Por favor complete todos los campos obligatorios");return}if(me.renewal&&!me.renewalPrice){oe("Por favor ingrese el precio de renovación");return}if(me.status==="En stock"&&me.accounts.some(X=>!X.email||!X.password)){oe("Por favor complete todos los campos de las cuentas");return}try{const D=at(Ae,"products",me.id);if(await ui(D,{...me,providerId:me.providerId||d,availableAccounts:me.status==="En stock"&&me.accounts?.length||0},{merge:!0}),me.status==="En stock"){const X=_t(Ae,`products/${me.id}/accounts`),ce=await Jr(X);for(const le of ce.docs)await Ri(le.ref);for(const le of me.accounts)await Lo(X,{email:le.email,password:le.password,profile:le.profile||"",pin:le.pin||"",status:"available"})}Ie(!1),pe("Éxito","Producto actualizado exitosamente!")}catch(D){console.error("Error al actualizar el producto:",D),oe(`Error al actualizar el producto: ${D.message}`)}},[me,d,pe]),_r=N.useCallback(D=>{Re(D),rr(!0)},[]),gn=N.useCallback(async()=>{if(Dt)try{const D=at(Ae,"sales",Dt.id);await jr(D,{...Dt,updatedAt:ir()}),rr(!1),pe("Éxito","Pedido actualizado exitosamente!")}catch(D){console.error("Error al actualizar el pedido:",D),Mt(`Error al actualizar el pedido: ${D.message}`)}},[Dt,pe]),Zr=N.useCallback(async D=>{try{const X=at(Ae,"sales",D);await jr(X,{status:"completed"}),pe("Éxito","Pedido activado exitosamente!")}catch(X){console.error("Error al activar el pedido:",X),pe("Error",`Error al activar el pedido: ${X.message}`)}},[pe]),ln=N.useCallback(async D=>{try{await Ri(at(Ae,"sales",D)),pe("Éxito","Pedido eliminado exitosamente!")}catch(X){console.error("Error al eliminar el pedido:",X),pe("Error",`Error al eliminar el pedido: ${X.message}`)}},[pe]),B=N.useCallback(async D=>{D.preventDefault();try{const X={updatedAt:ir()};J.email&&(X.email=J.email),J.preferences&&(X.preferences=J.preferences),await jr(at(Ae,"users",d),X),pe("Éxito","Cuenta actualizada exitosamente!")}catch(X){console.error("Error al actualizar la cuenta:",X),pe("Error",`Error al actualizar la cuenta: ${X.message}`)}},[J,d,pe]),Z=N.useCallback(async D=>{try{await Ri(at(Ae,"products",D)),pe("Éxito","Producto eliminado exitosamente!")}catch(X){console.error("Error al eliminar el producto:",X),pe("Error",`Error al eliminar el producto: ${X.message}`)}},[pe]),q=N.useMemo(()=>y.reduce((D,X)=>D+(X.availableAccounts||0),0),[y]),K=N.useMemo(()=>p.reduce((D,X)=>D+(X.balance||0),0),[p]),te=N.useCallback(()=>{if(A)return i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(P)return i.jsxs("div",{className:`bg-${He==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${He==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ul,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${He==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${He==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:P}),i.jsx("button",{onClick:()=>M(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]});const D=E.filter(X=>X.username?.toLowerCase().includes(U.toLowerCase())||X.email?.toLowerCase().includes(U.toLowerCase()));return i.jsx("div",{className:`bg-${He==="dark"?"black/50":"white"}
    backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md 
    w-full xl:max-w-full border ${He==="dark"?"border-gray-700/50":"border-gray-300"} overflow-x-auto`,children:(()=>{switch(r){case"inicio":return i.jsx(q6,{username:s,products:y,orders:p,providerBalance:mt,balanceLoading:Me,totalStock:q,totalEarnings:K,isAdmin:Ve,email:l,setActiveSection:n,formatDate:Pe,notifications:dt,theme:He});case"inventario":return i.jsx(K6,{products:y,setActiveSection:n,handleEdit:lr,handleDelete:Z,getCategoryDisplayName:Qe,totalStock:q,theme:He});case"cuentas":return i.jsx(iJ,{soldAccounts:_,formatDate:Pe});case"subirProducto":return i.jsx(oJ,{product:R,setProduct:F,handleChange:Ze,handleFileChange:$t,handleStockChange:qt,handleAccountFieldChange:Rr,handleSubmit:zn,setActiveSection:n});case"ganancias":return i.jsx(lJ,{orders:p,totalEarnings:K,providerBalance:mt,balanceLoading:Me,getCategoryDisplayName:Qe,formatDate:Pe});case"pedidos":return i.jsx(Y6,{orders:p,searchQuery:xe,setSearchQuery:se,getCategoryDisplayName:Qe,formatDate:Pe,handleEditOrder:_r,handleActivateOrder:Zr,handleDeleteOrder:ln,theme:He});case"recargas":return i.jsx(hJ,{users:D,providerBalance:J.balance||0,handleRecharge:st,formatDate:Pe,theme:He,userSearch:U,setUserSearch:re});case"afiliar":return i.jsxs("div",{className:`bg-${He==="dark"?"black/50":"white"} backdrop-blur-md p-6 rounded-2xl shadow-md border ${He==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[i.jsx("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${He==="dark"?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Afiliar Usuarios"}),i.jsx("div",{className:"mt-4 sm:mt-0",children:i.jsxs("p",{className:`text-sm ${He==="dark"?"text-gray-400":"text-gray-600"}`,children:["Asignados: ",H," / ",L," | Restantes: ",Math.max(0,L-H)]})})]}),j.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`backdrop-blur-sm ${He==="dark"?"bg-gray-900/80":"bg-gray-200/80"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${He==="dark"?"text-gray-300":"text-gray-700"}`,children:"Nombre"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${He==="dark"?"text-gray-300":"text-gray-700"}`,children:"Email"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${He==="dark"?"text-gray-300":"text-gray-700"}`,children:"Fecha Creación"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${He==="dark"?"text-gray-300":"text-gray-700"}`,children:"Asignar"})]})}),i.jsx("tbody",{className:`divide-y divide-gray-700/50 ${He==="dark"?"bg-gray-800/70":"bg-gray-100/70"}`,children:j.map(X=>i.jsxs("tr",{className:"hover:bg-blue-500/10 transition-all duration-300",children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${He==="dark"?"text-white":"text-gray-900"}`,children:X.username||"Sin nombre"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${He==="dark"?"text-gray-300":"text-gray-600"}`,children:X.email||"No especificado"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${He==="dark"?"text-gray-300":"text-gray-600"}`,children:Pe(X.createdAt)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.jsx("input",{type:"checkbox",onChange:ce=>{ce.target.checked&&Nt(X.id)},disabled:H>=L,className:`h-4 w-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 ${He==="dark"?"bg-gray-700 border-gray-600 text-blue-400":""} ${H>=L?"cursor-not-allowed opacity-50":"cursor-pointer"}`})})]},X.id))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(hi,{className:`mx-auto text-4xl ${He==="dark"?"text-gray-400":"text-gray-500"} mb-3`}),i.jsx("h4",{className:`text-lg font-medium ${He==="dark"?"text-gray-300":"text-gray-700"}`,children:"No hay usuarios sin rol"}),i.jsx("p",{className:`text-sm ${He==="dark"?"text-gray-400":"text-gray-600"}`,children:"Todos los usuarios disponibles han sido afiliados."})]})]});case"configuracion":return i.jsx(cJ,{accountDetails:J,handleAccountChange:Et,handleUpdateAccount:B});case"soporte":return i.jsx(X6,{orders:p,setOrders:g,searchQuery:xe,setSearchQuery:se,getCategoryDisplayName:Qe,formatDate:Pe,theme:He,username:s,email:l,showModal:pe});default:return i.jsxs("div",{className:`bg-${He==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${He==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ul,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${He==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),i.jsx("p",{className:`text-base ${He==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()})},[A,P,He,r,s,y,p,mt,Me,q,K,Ve,l,n,Pe,lr,Z,Qe,_,R,F,Ze,$t,qt,Rr,zn,xe,se,_r,Zr,ln,J,Et,B,pe,dt,E,U,st,j,H,L,Nt]);return N.useEffect(()=>{const D=()=>{lt(window.scrollY>300)};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[]),i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${He==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${He==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(15)].map((D,X)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},X))})]}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${He==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>{ct("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:i.jsx(pn,{className:"text-lg"})})]}),i.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${He==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${He==="dark"?"text-white":"text-gray-900"}`,children:s}),i.jsx("p",{className:`text-xs ${He==="dark"?"text-gray-400":"text-gray-600"}`,children:Ve?"Admin":"Proveedor"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:rb},{id:"inventario",label:"Inventario",icon:ZU},{id:"cuentas",label:"Cuentas Vendidas",icon:Tu},{id:"pedidos",label:"Pedidos",icon:Tu},{id:"recargas",label:"Recargas",icon:ii},{id:"ganancias",label:"Ganancias",icon:ii},{id:"subirProducto",label:"Subir Producto",icon:cz},{id:"afiliar",label:"Afiliar",icon:hi},{id:"soporte",label:"Soporte",icon:oz},{id:"configuracion",label:"Configuración",icon:Ip}].map(D=>i.jsxs("button",{onClick:()=>{n(D.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===D.id?"bg-blue-100 text-blue-600 border border-blue-300":He==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===D.id?"page":void 0,children:[i.jsx(D.icon,{className:"text-lg"}),i.jsx("span",{children:D.label})]},D.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:()=>{it(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${He==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[i.jsx(Nu,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsxs("header",{className:`${He==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ee.img,{src:sc,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${He==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:xe,onChange:D=>se(D.target.value),className:`w-full py-2.5 px-5 ${He==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:D=>D.key==="Enter"&&n("pedidos")}),i.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${He==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:i.jsx(Eu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[i.jsx("button",{onClick:Ne,className:`p-2 rounded-full ${He==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${He==="dark"?"light":"dark"} theme`,children:He==="dark"?i.jsx(rc,{size:20}):i.jsx(tc,{size:20})}),i.jsxs("button",{onClick:()=>Tt(!0),className:`p-2 rounded-full relative ${He==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${dt.length} new)`,children:[i.jsx(Bl,{size:20}),dt.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:dt.length})]}),i.jsx("button",{className:`lg:hidden p-2 rounded-full ${He==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:i.jsx(jm,{size:20,className:He==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:i.jsx("div",{className:"relative",children:i.jsxs("button",{className:`flex items-center space-x-2 ${He==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:s.charAt(0).toUpperCase()}),i.jsx("span",{className:`text-sm font-semibold ${He==="dark"?"text-gray-200":"text-gray-800"}`,children:s})]})})})]})]}),i.jsx(Vt,{children:ft&&i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>Tt(!1),role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${He==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${He==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:D=>D.stopPropagation(),children:[i.jsx("button",{onClick:()=>Tt(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:i.jsx(pn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${He==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),dt.length>0?dt.map(D=>i.jsxs("div",{className:`p-4 mb-2 rounded-md ${He==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${He==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[i.jsx("h3",{className:`font-semibold ${He==="dark"?"text-gray-200":"text-gray-800"}`,children:D.title||"Nueva Notificación"}),i.jsx("p",{className:`text-sm ${He==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:D.message}),D.roles&&D.roles.length>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",D.roles.join(", ")]}),D.timestamp&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Pe(D.timestamp)})]},D.id)):i.jsx("p",{className:`text-center ${He==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),i.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:te()}),i.jsxs("footer",{className:`${He==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${He==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),i.jsxs("p",{className:`text-base sm:text-lg ${He==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[i.jsx("a",{href:"https://twitter.com",className:`${He==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:i.jsx(ec,{size:28})}),i.jsx("a",{href:"https://instagram.com",className:`${He==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:i.jsx(Zl,{size:28})}),i.jsx("a",{href:"https://facebook.com",className:`${He==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:i.jsx(Jl,{size:28})})]}),i.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[i.jsx("a",{href:"#",className:`text-sm ${He==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),i.jsx("a",{href:"#",className:`text-sm ${He==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),i.jsx("a",{href:"#",className:`text-sm ${He==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),i.jsxs("p",{className:`text-sm ${He==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),i.jsx(Vt,{children:Je&&i.jsx(ee.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:ht,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:i.jsx(Cm,{size:20})})}),i.jsx(aJ,{isOpen:ne.isOpen,title:ne.title,message:ne.message,onClose:ke}),i.jsx(uJ,{editModalOpen:je,setEditModalOpen:Ie,selectedProduct:me,setSelectedProduct:Te,editError:_e,setEditError:oe,handleFileChange:$t,handleEditStockChange:Pr,handleEditAccountFieldChange:mn,handleUpdateProduct:kn}),i.jsx(dJ,{editOrderModalOpen:vt,setEditOrderModalOpen:rr,selectedOrder:Dt,handleOrderAccountChange:hr,editOrderError:dr,setEditOrderError:Mt,handleUpdateOrder:gn}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};Q6.propTypes={};const pJ=()=>{const[t,e]=N.useState(""),[r,n]=N.useState(""),[s,a]=N.useState(0),[l,u]=N.useState([]),[d,h]=N.useState([]),[p,g]=N.useState([]),[y,v]=N.useState([]),[_,w]=N.useState([]),[E,O]=N.useState(0),[j,z]=N.useState({day:0,week:0,month:0,total:0}),[L,Y]=N.useState(!0),[H,S]=N.useState(null),[A,I]=N.useState("dark"),P=La();N.useEffect(()=>{const F=Yl(qr,me=>{me?(n(me.email||"No especificado"),M(me.uid),Y(!1)):P("/login")});return()=>F()},[P]);const M=async F=>{try{const me=at(Ae,"users",F),Te=await ri(me);if(Te.exists()){const je=Te.data();e(je.username||je.email.split("@")[0])}else S("Usuario no encontrado en la base de datos")}catch(me){console.error("Error al obtener el nombre de usuario:",me),S("Error al cargar datos del usuario")}},R=F=>{const Te=F*5,je=Te*.25,Ie=Te*.05;z({day:Ie,week:je,month:Te,total:Te})};return N.useEffect(()=>{(async()=>{try{const oe=await Jr(_t(Ae,"users")),xe=oe.size,se=oe.docs.map(nt=>({id:nt.id,...nt.data()}));a(xe),u(se.slice(-5)),R(xe);const U=Zt(_t(Ae,"pendingRegistrations"),gr("status","==","pending")),re=await Jr(U);h(re.docs.map(nt=>({id:nt.id,...nt.data()})));const ne=Zt(_t(Ae,"pendingTopUps"),gr("status","==","pendiente")),ae=await Jr(ne);g(ae.docs.map(nt=>({id:nt.id,...nt.data()})));const J=Zt(_t(Ae,"withdrawals"),gr("status","==","pending")),De=await Jr(J);v(De.docs.map(nt=>({id:nt.id,...nt.data()})));const Ce=(await Jr(_t(Ae,"sales"))).docs.map(nt=>({id:nt.id,...nt.data()}));w(Ce);const Me=Ce.reduce((nt,mt)=>nt+(parseFloat(mt.price)||0),0);O(Me)}catch(oe){console.error("Error al obtener datos:",oe),S("Error al cargar datos")}})();const me=or(_t(Ae,"users"),oe=>{const xe=oe.size,se=oe.docs.map(U=>({id:U.id,...U.data()}));a(xe),u(se.slice(-5)),R(xe)}),Te=or(Zt(_t(Ae,"pendingRegistrations"),gr("status","==","pending")),oe=>{h(oe.docs.map(xe=>({id:xe.id,...xe.data()})))}),je=or(Zt(_t(Ae,"pendingTopUps"),gr("status","==","pendiente")),oe=>{g(oe.docs.map(xe=>({id:xe.id,...xe.data()})))}),Ie=or(Zt(_t(Ae,"withdrawals"),gr("status","==","pending")),oe=>{v(oe.docs.map(xe=>({id:xe.id,...xe.data()})))}),_e=or(_t(Ae,"sales"),oe=>{const xe=oe.docs.map(U=>({id:U.id,...U.data()}));w(xe);const se=xe.reduce((U,re)=>U+(parseFloat(re.price)||0),0);O(se)});return()=>{me(),Te(),je(),Ie(),_e()}},[]),L?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):H?i.jsxs("div",{className:`bg-${A==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${A==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ul,{className:"mx-auto text-4xl text-blue-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${A==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${A==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:H}),i.jsx("button",{onClick:()=>S(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):i.jsxs("div",{className:`bg-${A==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${A==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h2",{className:`text-2xl sm:text-3xl font-bold ${A==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Bienvenido a BlackStreaming,"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:t})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:`${A==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[i.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[i.jsx(hi,{className:"mr-2"})," Total Usuarios"]}),i.jsx("p",{className:`text-3xl font-bold ${A==="dark"?"text-white":"text-gray-900"}`,children:s}),i.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>P("/usuarios"),children:"Ver usuarios"})]}),i.jsxs("div",{className:`${A==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[i.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[i.jsx(Tu,{className:"mr-2"})," Total Ventas"]}),i.jsxs("p",{className:`text-3xl font-bold ${A==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",E.toFixed(2)]}),i.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>P("/pedidos"),children:"Ver ventas"})]}),i.jsxs("div",{className:`${A==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[i.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[i.jsx(ii,{className:"mr-2"})," Ganancias del Mes"]}),i.jsxs("p",{className:`text-3xl font-bold ${A==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",j.month.toFixed(2)]}),i.jsx("p",{className:`text-sm ${A==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:"(5 soles por usuario)"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:`${A==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[i.jsx("h3",{className:`text-lg font-semibold ${A==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Últimos Usuarios"}),l.length>0?l.map(F=>i.jsxs("div",{className:`border-b ${A==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${A==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:`font-medium ${A==="dark"?"text-white":"text-gray-900"}`,children:F.username||"Sin nombre"}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${A==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:F.role||"usuario"})]}),i.jsx("p",{className:`text-sm ${A==="dark"?"text-gray-400":"text-gray-600"}`,children:F.email})]},F.id)):i.jsx("p",{className:`text-${A==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay usuarios registrados"})]}),i.jsxs("div",{className:`${A==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[i.jsx("h3",{className:`text-lg font-semibold ${A==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Solicitudes Pendientes"}),d.length>0?d.slice(0,3).map(F=>i.jsxs("div",{className:`border-b ${A==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${A==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:`font-medium ${A==="dark"?"text-white":"text-gray-900"}`,children:F.username||"Sin nombre"}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${A==="dark"?"bg-purple-900/80 text-purple-400":"bg-purple-100/80 text-purple-600"}`,children:F.role||"usuario"})]}),i.jsx("p",{className:`text-sm ${A==="dark"?"text-gray-400":"text-gray-600"}`,children:F.email})]},F.id)):i.jsx("p",{className:`text-${A==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay solicitudes pendientes"})]}),i.jsxs("div",{className:`${A==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[i.jsx("h3",{className:`text-lg font-semibold ${A==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Retiros Pendientes"}),y.length>0?y.slice(0,3).map(F=>i.jsxs("div",{className:`border-b ${A==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${A==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:`font-medium ${A==="dark"?"text-white":"text-gray-900"}`,children:F.provider||"Sin proveedor"}),i.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${A==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600"}`,children:["S/ ",(F.amount||0).toFixed(2)]})]}),i.jsxs("p",{className:`text-sm ${A==="dark"?"text-gray-400":"text-gray-600"}`,children:["Método: ",F.method||"No especificado"]})]},F.id)):i.jsx("p",{className:`text-${A==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay retiros pendientes"})]})]})]})},mJ=({notificationForm:t={message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}},setNotificationForm:e=()=>{},theme:r="dark"})=>{const[n,s]=N.useState(""),[a,l]=N.useState(""),[u,d]=N.useState(!1),h=t.roles||{user:!1,affiliate:!1,provider:!1,admin:!1},p=Object.values(h).some(y=>y),g=N.useCallback(async y=>{if(y.preventDefault(),!p){s("Selecciona al menos un rol para enviar la notificación");return}if(!t.message.trim()){s("El mensaje de la notificación no puede estar vacío");return}s(""),l(""),d(!0);try{await Lo(_t(Ae,"notifications"),{message:t.message.trim(),roles:{user:h.user,affiliate:h.affiliate,provider:h.provider,admin:h.admin},createdAt:ir()}),e({message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}}),l("Notificación enviada exitosamente")}catch(v){s("Error al enviar la notificación. Por favor, intenta de nuevo."),console.error("Error sending notification:",v)}finally{d(!1)}},[t,h,e]);return i.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Enviar Notificación -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsxs(Vt,{children:[n&&i.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:n}),a&&i.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:a})]}),i.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Mensaje de la Notificación"}),i.jsx("textarea",{value:t.message||"",onChange:y=>e({...t,message:y.target.value}),className:`w-full px-4 py-2 rounded-xl ${r==="dark"?"bg-gray-800/50 text-gray-200 border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-800 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all resize-y`,rows:"5",placeholder:"Escribe el mensaje para los usuarios...",required:!0,"aria-label":"Mensaje de la notificación"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Enviar a los siguientes roles"}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:["user","affiliate","provider","admin"].map(y=>i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:h[y]||!1,onChange:v=>e({...t,roles:{...h,[y]:v.target.checked}}),className:`h-4 w-4 ${r==="dark"?"text-blue-400 focus:ring-blue-400 border-gray-600":"text-blue-600 focus:ring-blue-600 border-gray-300"} rounded`,"aria-label":`Enviar a rol ${y}`}),i.jsx("span",{className:`text-sm capitalize ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:y})]},y))})]}),i.jsx(ee.button,{type:"submit",disabled:u||!p,className:`w-full py-3 px-4 ${u||!p?r==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Enviar notificación",whileHover:{scale:u||!p?1:1.05},whileTap:{scale:u||!p?1:.95},children:u?i.jsx(ee.div,{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}):"Enviar Notificación"}),!p&&i.jsx("p",{className:`text-sm text-center ${r==="dark"?"text-blue-400":"text-blue-600"}`,children:"Selecciona al menos un rol para enviar la notificación"})]})]})},J6=[{value:"user",label:"Usuario"},{value:"affiliate",label:"Afiliador"},{value:"provider",label:"Proveedor"},{value:"admin",label:"Administrador"}],gJ=t=>{const e=J6.find(r=>r.value===t);return e?e.label:t},Z6=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:a})=>{const[l,u]=N.useState(e?.balance||0),[d,h]=N.useState("");N.useEffect(()=>{u(e?.balance||0),h("")},[e]);const p=g=>{if(g.preventDefault(),h(""),isNaN(l)||l<0){h("Por favor, ingrese un saldo válido (número no negativo).");return}n(e.id,parseFloat(l))};return!t||!e?null:i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${a==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${a==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${a==="dark"?"text-white":"text-gray-900"}`,children:["Editar Saldo de ",e.username]}),i.jsx("button",{onClick:r,className:`${a==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),i.jsxs("form",{onSubmit:p,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block text-sm font-medium ${a==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Saldo (S/)"}),i.jsx("input",{type:"number",value:l,onChange:g=>u(g.target.value),className:`w-full px-4 py-2 rounded-xl ${a==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,min:"0",step:"0.01",required:!0,"aria-label":"Nuevo saldo"}),d&&i.jsx("p",{className:`text-sm mt-2 ${a==="dark"?"text-blue-400":"text-blue-600"}`,children:d})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${a==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?a==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar saldo",children:s?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};Z6.propTypes={isOpen:W.bool.isRequired,user:W.object,onClose:W.func.isRequired,onSave:W.func.isRequired,loading:W.bool,theme:W.oneOf(["dark","light"])};const eC=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:a})=>{const[l,u]=N.useState(e?.role||"user");return N.useEffect(()=>{u(e?.role||"user")},[e]),!t||!e?null:i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${a==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${a==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${a==="dark"?"text-white":"text-gray-900"}`,children:["Cambiar Rol de ",e.username]}),i.jsx("button",{onClick:r,className:`${a==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),i.jsxs("form",{onSubmit:d=>{d.preventDefault(),n(e.id,l)},children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block text-sm font-medium ${a==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Rol"}),i.jsx("select",{value:l,onChange:d=>u(d.target.value),className:`w-full px-4 py-2 rounded-xl ${a==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,"aria-label":"Seleccionar nuevo rol",children:J6.map(d=>i.jsx("option",{value:d.value,children:d.label},d.value))})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${a==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?a==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar rol",children:s?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};eC.propTypes={isOpen:W.bool.isRequired,user:W.object,onClose:W.func.isRequired,onSave:W.func.isRequired,loading:W.bool,theme:W.oneOf(["dark","light"])};const tC=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:a})=>{const[l,u]=N.useState(e?.username||""),[d,h]=N.useState("");N.useEffect(()=>{u(e?.username||""),h("")},[e]);const p=g=>{g.preventDefault(),h("");const y=l.trim();if(!y){h("Por favor, ingrese un nombre de usuario válido.");return}n(e.id,y)};return!t||!e?null:i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${a==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${a==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${a==="dark"?"text-white":"text-gray-900"}`,children:["Editar Nombre de Usuario de ",e.username]}),i.jsx("button",{onClick:r,className:`${a==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),i.jsxs("form",{onSubmit:p,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block text-sm font-medium ${a==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Nombre de Usuario"}),i.jsx("input",{type:"text",value:l,onChange:g=>u(g.target.value),className:`w-full px-4 py-2 rounded-xl ${a==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,required:!0,"aria-label":"Nuevo nombre de usuario"}),d&&i.jsx("p",{className:`text-sm mt-2 ${a==="dark"?"text-blue-400":"text-blue-600"}`,children:d})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${a==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?a==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar nombre de usuario",children:s?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};tC.propTypes={isOpen:W.bool.isRequired,user:W.object,onClose:W.func.isRequired,onSave:W.func.isRequired,loading:W.bool,theme:W.oneOf(["dark","light"])};const rC=({theme:t="dark"})=>{const[e,r]=N.useState([]),[n,s]=N.useState(""),[a,l]=N.useState({isOpen:!1,user:null}),[u,d]=N.useState({isOpen:!1,user:null}),[h,p]=N.useState({isOpen:!1,user:null}),[g,y]=N.useState(!0),[v,_]=N.useState({}),[w,E]=N.useState(null);N.useEffect(()=>{(async()=>{y(!0);try{const F=await Jr(_t(Ae,"users")),me=await Promise.all(F.docs.map(async Te=>{const je={id:Te.id,...Te.data()},Ie=Zt(_t(Ae,"sales"),gr("userId","==",Te.id)),_e=await Jr(Ie);return{...je,orderCount:_e.size}}));r(me)}catch(F){E("No se pudieron obtener los usuarios: "+F.message)}y(!1)})()},[]);const O=R=>l({isOpen:!0,user:R}),j=()=>l({isOpen:!1,user:null}),z=R=>d({isOpen:!0,user:R}),L=()=>d({isOpen:!1,user:null}),Y=R=>p({isOpen:!0,user:R}),H=()=>p({isOpen:!1,user:null}),S=async(R,F)=>{_(me=>({...me,[`balance_${R}`]:!0}));try{const me=at(Ae,"users",R);await jr(me,{balance:F}),r(Te=>Te.map(je=>je.id===R?{...je,balance:F}:je)),j()}catch(me){E("Error al actualizar saldo: "+me.message)}_(me=>({...me,[`balance_${R}`]:!1}))},A=async(R,F)=>{_(me=>({...me,[`role_${R}`]:!0}));try{const me=at(Ae,"users",R);await jr(me,{role:F}),r(Te=>Te.map(je=>je.id===R?{...je,role:F}:je)),L()}catch(me){E("Error al actualizar rol: "+me.message)}_(me=>({...me,[`role_${R}`]:!1}))},I=async(R,F)=>{_(me=>({...me,[`username_${R}`]:!0}));try{const me=at(Ae,"users",R);await jr(me,{username:F}),r(Te=>Te.map(je=>je.id===R?{...je,username:F}:je)),H()}catch(me){E("Error al actualizar nombre de usuario: "+me.message)}_(me=>({...me,[`username_${R}`]:!1}))},P=async(R,F)=>{_(me=>({...me,[`status_${R}`]:!0}));try{const me=at(Ae,"users",R),Te=F==="suspended"?"active":"suspended";await jr(me,{status:Te}),r(je=>je.map(Ie=>Ie.id===R?{...Ie,status:Te}:Ie))}catch(me){E("Error al cambiar estado: "+me.message)}_(me=>({...me,[`status_${R}`]:!1}))},M=async R=>{_(F=>({...F,[`delete_${R}`]:!0}));try{const F=at(Ae,"users",R);await Ri(F),r(me=>me.filter(Te=>Te.id!==R))}catch(F){E("Error al eliminar usuario: "+F.message)}_(F=>({...F,[`delete_${R}`]:!1}))};return i.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:`bg-${t==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${t==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${t==="dark"?"text-white":"text-gray-900"}`,children:["Lista de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Usuarios"})," ","(",e.length,")"]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:`px-4 py-2 rounded-xl ${t==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400 placeholder-gray-500":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600 placeholder-gray-400"} focus:ring-2 transition-all text-sm`,value:n,onChange:R=>s(R.target.value),"aria-label":"Buscar usuarios"}),i.jsx(Eu,{className:`absolute right-3 top-2.5 ${t==="dark"?"text-blue-400":"text-blue-600"}`})]})]}),g?i.jsx("div",{className:"flex justify-center items-center h-40",children:i.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 ${t==="dark"?"border-blue-500":"border-blue-600"}`})}):w?i.jsx("div",{className:`text-center py-4 ${t==="dark"?"text-blue-400":"text-blue-600"}`,children:w}):e.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${t==="dark"?"bg-gray-800/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(zl,{})," Usuario"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(_u,{})," Email"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(hi,{})," Rol"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(ii,{})," Saldo"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Órdenes"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),i.jsx("tbody",{className:`${t==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:e.filter(R=>(R.username||"").toLowerCase().includes(n.toLowerCase())||(R.email||"").toLowerCase().includes(n.toLowerCase())).map(R=>i.jsxs("tr",{className:`${R.status==="suspended"?t==="dark"?"bg-red-900/20":"bg-red-100/50":""} hover:bg-${t==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:[i.jsx("span",{children:R.username||"Sin nombre"}),i.jsx("button",{onClick:()=>Y(R),disabled:v[`username_${R.id}`],className:`ml-2 p-1 ${t==="dark"?"bg-blue-700 hover:bg-blue-800 text-blue-200 disabled:bg-blue-900":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Nombre de Usuario","aria-label":`Editar nombre de usuario de ${R.username}`,children:i.jsx(Kd,{size:14})})]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:R.email}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:gJ(R.role)}),i.jsx("button",{onClick:()=>z(R),disabled:v[`role_${R.id}`],className:`ml-2 p-1 ${t==="dark"?"bg-blue-700 hover:bg-blue-800 text-blue-200 disabled:bg-blue-900":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Rol","aria-label":`Editar rol de ${R.username}`,children:i.jsx(Kd,{size:14})})]}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(R.balance||0).toFixed(2)]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:R.orderCount||0}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap flex space-x-2",children:[i.jsx("button",{onClick:()=>O(R),disabled:v[`balance_${R.id}`],className:`p-2 ${t==="dark"?"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-800":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Saldo","aria-label":`Editar saldo de ${R.username}`,children:i.jsx(Kd,{size:16})}),i.jsx("button",{onClick:()=>P(R.id,R.status),disabled:v[`status_${R.id}`],className:`p-2 ${R.status==="suspended"?t==="dark"?"bg-green-600 hover:bg-green-700 text-white disabled:bg-green-800":"bg-green-500 hover:bg-green-600 text-white disabled:bg-green-300":t==="dark"?"bg-yellow-600 hover:bg-yellow-700 text-white disabled:bg-yellow-800":"bg-yellow-500 hover:bg-yellow-600 text-white disabled:bg-yellow-300"} rounded-xl transition-all duration-300`,title:R.status==="suspended"?"Activar Cuenta":"Suspender Cuenta","aria-label":R.status==="suspended"?`Activar cuenta de ${R.username}`:`Suspender cuenta de ${R.username}`,children:R.status==="suspended"?i.jsx(tz,{size:16}):i.jsx(JU,{size:16})}),i.jsx("button",{onClick:()=>M(R.id),disabled:v[`delete_${R.id}`],className:`p-2 ${t==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Cuenta","aria-label":`Eliminar cuenta de ${R.username}`,children:i.jsx(sb,{size:16})})]})]},R.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(hi,{className:`mx-auto text-4xl ${t==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${t==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay usuarios registrados"})]})]}),i.jsx(Z6,{isOpen:a.isOpen,user:a.user,onClose:j,onSave:S,loading:v[`balance_${a.user?.id}`],theme:t}),i.jsx(eC,{isOpen:u.isOpen,user:u.user,onClose:L,onSave:A,loading:v[`role_${u.user?.id}`],theme:t}),i.jsx(tC,{isOpen:h.isOpen,user:h.user,onClose:H,onSave:I,loading:v[`username_${h.user?.id}`],theme:t})]})};rC.propTypes={theme:W.oneOf(["dark","light"])};const nC=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(pn,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null;nC.propTypes={isOpen:W.bool.isRequired,message:W.string.isRequired,title:W.string.isRequired,onClose:W.func.isRequired};const sC=({formatDate:t=r=>{if(!r)return"No especificada";try{const n=r.toDate?r.toDate():new Date(r);return isNaN(n.getTime())?"Fecha inválida":n.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},theme:e="dark"})=>{const[r,n]=N.useState([]),[s,a]=N.useState([]),[l,u]=N.useState({}),[d,h]=N.useState({isOpen:!1,message:"",title:""}),p=(_,w)=>{h({isOpen:!0,title:_,message:w})},g=()=>{h({isOpen:!1,message:"",title:""})};N.useEffect(()=>{const _=or(Zt(_t(Ae,"pendingTopUps"),gr("status","==","pendiente")),E=>{n(E.docs.map(O=>({id:O.id,...O.data()})))}),w=or(_t(Ae,"topUpsHistory"),E=>{a(E.docs.map(O=>({id:O.id,...O.data()})))});return()=>{_(),w()}},[]);const y=async _=>{try{u(j=>({...j,[_]:!0}));const w=at(Ae,"pendingTopUps",_),E=r.find(j=>j.id===_);if(!E?.userId)throw new Error("Usuario no encontrado para la recarga");await jr(w,{status:"aprobado",updatedAt:ir()});const O=at(Ae,"users",E.userId);await jr(O,{balance:eF(E.amount||0)}),await ui(at(Ae,"topUpsHistory",_),{...E,status:"aprobado",updatedAt:ir()}),p("Éxito","Recarga aprobada exitosamente")}catch(w){console.error("Error al aprobar recarga:",w),p("Error",w.message||"Error al aprobar la recarga")}finally{u(w=>({...w,[_]:!1}))}},v=async _=>{try{u(O=>({...O,[_]:!0}));const w=at(Ae,"pendingTopUps",_);await jr(w,{status:"rechazado",updatedAt:ir()});const E=r.find(O=>O.id===_);await ui(at(Ae,"topUpsHistory",_),{...E,status:"rechazado",updatedAt:ir()}),p("Éxito","Recarga rechazada exitosamente")}catch(w){console.error("Error al rechazar recarga:",w),p("Error",w.message||"Error al rechazar la recarga")}finally{u(w=>({...w,[_]:!1}))}};return i.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Recargas"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pendientes - BlackStreaming"})]}),Array.isArray(r)&&r.length>0?i.jsx("div",{className:"space-y-4",children:r.map(_=>i.jsxs("div",{className:`border ${e==="dark"?"border-gray-600/50":"border-gray-300"} rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300`,children:[i.jsxs("div",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm px-4 py-3 border-b ${e==="dark"?"border-gray-600/50":"border-gray-300"} flex justify-between items-center`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-10 h-10 ${e==="dark"?"bg-blue-900/80":"bg-blue-100/80"} rounded-full flex items-center justify-center ${e==="dark"?"text-blue-400":"text-blue-600"}`,children:i.jsx(ii,{size:18})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${e==="dark"?"text-white":"text-gray-900"}`,children:_.username||"Sin nombre"}),i.jsxs("p",{className:`text-xs ${e==="dark"?"text-gray-400":"text-gray-600"}`,children:["Solicitado: ",t(_.requestedAt)]})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:`text-lg font-medium ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(_.amount||0).toFixed(2)]})})]}),i.jsx("div",{className:`p-4 ${e==="dark"?"bg-gray-700/50":"bg-gray-50"} backdrop-blur-sm`,children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("button",{onClick:()=>y(_.id),disabled:l[_.id],className:`flex-1 ${e==="dark"?"bg-green-600 hover:bg-green-700 disabled:bg-green-800":"bg-green-500 hover:bg-green-600 disabled:bg-green-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Aprobar recarga de ${_.username}`,children:l[_.id]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(rz,{size:18})," Aprobar Recarga"]})}),i.jsx("button",{onClick:()=>v(_.id),disabled:l[_.id],className:`flex-1 ${e==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Rechazar recarga de ${_.username}`,children:l[_.id]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(pn,{size:18})," Rechazar Recarga"]})})]})})]},_.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ii,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("h4",{className:`text-lg font-medium ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay recargas pendientes"}),i.jsx("p",{className:`${e==="dark"?"text-gray-400":"text-gray-500"}`,children:"Todas las solicitudes han sido procesadas"})]})]}),i.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Recargas - BlackStreaming"})]}),Array.isArray(s)&&s.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),i.jsx("tbody",{className:`${e==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:s.map(_=>i.jsxs("tr",{className:`hover:bg-${e==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:_.username||"Sin nombre"}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(_.amount||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_.status==="aprobado"?e==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":e==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:_.status||"Desconocido"})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:t(_.updatedAt)})]},_.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ii,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay historial de recargas"})]})]}),i.jsx(nC,{isOpen:d.isOpen,title:d.title,message:d.message,onClose:g})]})};sC.propTypes={formatDate:W.func,theme:W.oneOf(["dark","light"])};const xJ=({withdrawals:t,formatDate:e,actionLoading:r,setActionLoading:n,showNotificationModal:s})=>{const a=async(l,u)=>{try{n(h=>({...h,[l]:!0}));const d=at(Ae,"withdrawals",l);await jr(d,{status:u==="approve"?"completed":"rejected",updatedAt:ir()}),s("Éxito",`Retiro ${u==="approve"?"aprobado":"rechazado"} exitosamente`)}catch(d){s("Error",d.message||`Error al ${u==="approve"?"aprobar":"rechazar"} el retiro`)}finally{n(d=>({...d,[l]:!1}))}};return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Retiros ",i.jsx("span",{className:"text-red-400",children:"Pendientes"})]}),t.length===0?i.jsxs("div",{className:"text-center text-gray-300 py-8",children:[i.jsx(Us,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("p",{children:"No hay retiros pendientes"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-gray-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-600/50",children:[i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Usuario"}),i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Monto"}),i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Fecha"}),i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Acciones"})]})}),i.jsx("tbody",{children:t.map(l=>i.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-all duration-300",children:[i.jsx("td",{className:"py-3 px-4",children:l.userEmail||"No especificado"}),i.jsxs("td",{className:"py-3 px-4",children:["S/ ",l.amount?.toFixed(2)||"0.00"]}),i.jsx("td",{className:"py-3 px-4",children:e(l.createdAt)}),i.jsxs("td",{className:"py-3 px-4 flex space-x-2",children:[i.jsxs("button",{onClick:()=>a(l.id,"approve"),disabled:r[l.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[l.id]?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-600"}`,children:[i.jsx(hz,{}),i.jsx("span",{children:"Aprobar"})]}),i.jsxs("button",{onClick:()=>a(l.id,"reject"),disabled:r[l.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[l.id]?"bg-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,children:[i.jsx(Ws,{}),i.jsx("span",{children:"Rechazar"})]})]})]},l.id))})]})})]})},aC=({sales:t=[],totalSales:e=0,formatDate:r=a=>"No especificada",getOrderStatus:n=()=>"Desconocido",theme:s="dark"})=>{const[a,l]=N.useState({}),[u,d]=N.useState(null),h=async p=>{l(g=>({...g,[`delete_${p}`]:!0}));try{const g=at(Ae,"sales",p);await Ri(g),window.dispatchEvent(new CustomEvent("saleDeleted",{detail:{saleId:p}}))}catch(g){d("Error al eliminar pedido: "+g.message)}l(g=>({...g,[`delete_${p}`]:!1}))};return i.jsxs("div",{className:`bg-${s==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${s==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Ventas"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"General - BlackStreaming"})]}),i.jsxs("div",{className:`${s==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-6 text-center mb-6 border ${s==="dark"?"border-gray-600/50":"border-gray-300"}`,children:[i.jsx("h4",{className:`text-lg font-semibold ${s==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Total Ventas"}),i.jsxs("p",{className:`text-3xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",e.toFixed(2)]}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-600"} mt-2`,children:"Suma de todos los pedidos realizados"})]}),i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${s==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pedidos - BlackStreaming"})]}),u&&i.jsx("div",{className:`text-center py-4 ${s==="dark"?"text-blue-400":"text-blue-600"}`,children:u}),t.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${s==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Nombre del Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Precio"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Proveedor"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario Comprador"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),i.jsx("tbody",{className:`${s==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:t.map(p=>i.jsxs("tr",{className:`hover:bg-${s==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-white":"text-gray-900"}`,children:p.productName||"Sin nombre"}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(p.price||0).toFixed(2)]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:p.provider||"Sin proveedor"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:p.buyerName||"Sin comprador"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:r(p.createdAt)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n(p)==="Pendiente"?s==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600":n(p)==="Activo"?s==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":s==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:n(p)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("button",{onClick:()=>h(p.id),disabled:a[`delete_${p.id}`],className:`p-2 ${s==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Pedido","aria-label":`Eliminar pedido ${p.productName||"sin nombre"}`,children:a[`delete_${p.id}`]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsx(sb,{size:16})})})]},p.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Tu,{className:`mx-auto text-4xl ${s==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${s==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay pedidos registrados"})]})]})};aC.propTypes={sales:W.array,totalSales:W.number,formatDate:W.func,getOrderStatus:W.func,theme:W.oneOf(["dark","light"])};const iC=({earnings:t={day:0,week:0,month:0,total:0},totalUsers:e=0,theme:r="dark"})=>i.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Ganancias -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Dd,{className:"mr-2","aria-hidden":"true"})," Ganancias Diarias"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias diarias",children:["S/ ",(t.day||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por día"})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Dd,{className:"mr-2","aria-hidden":"true"})," Ganancias Semanales"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias semanales",children:["S/ ",(t.week||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por semana"})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Dd,{className:"mr-2","aria-hidden":"true"})," Ganancias Mensuales"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias mensuales",children:["S/ ",(t.month||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por mes"})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Dd,{className:"mr-2","aria-hidden":"true"})," Ganancias Totales"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias totales",children:["S/ ",(t.total||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Total acumulado"})]})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsx("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Resumen"}),i.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"}`,children:["Total de usuarios registrados:"," ",i.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Total de usuarios registrados",children:e})]}),i.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:["Ganancia por usuario:"," ",i.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancia por usuario",children:"S/ 5.00"})]}),i.jsx("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Las ganancias se calculan asumiendo S/ 5.00 por cada usuario registrado. Las estimaciones diarias y semanales son proporciones del total (5% y 25%, respectivamente)."})]})]});iC.propTypes={earnings:W.shape({day:W.number,week:W.number,month:W.number,total:W.number}),totalUsers:W.number,theme:W.oneOf(["dark","light"])};const oC=({userName:t="",setUserName:e=()=>{},email:r="",handleSaveChanges:n=()=>{},handleLogout:s=()=>{},actionLoading:a={},theme:l="dark"})=>i.jsxs("div",{className:`bg-${l==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${l==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${l==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Configuración -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsxs("form",{onSubmit:n,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${l==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[i.jsx(zl,{className:`mr-2 ${l==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nombre de usuario"]}),i.jsx("input",{type:"text",value:t,onChange:u=>e(u.target.value),className:`w-full px-4 py-2 rounded-xl ${l==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa tu nombre de usuario",required:!0,"aria-label":"Nombre de usuario"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${l==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[i.jsx(_u,{className:`mr-2 ${l==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Correo electrónico"]}),i.jsx("input",{type:"email",value:r,disabled:!0,className:`w-full px-4 py-2 rounded-xl ${l==="dark"?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-100 text-gray-500 border-gray-300"} cursor-not-allowed`,"aria-label":"Correo electrónico (solo lectura)"}),i.jsx("p",{className:`text-sm ${l==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"El correo no puede ser modificado."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${l==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[i.jsx(nb,{className:`mr-2 ${l==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nueva contraseña (opcional)"]}),i.jsx("input",{type:"password",name:"password",className:`w-full px-4 py-2 rounded-xl ${l==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa una nueva contraseña","aria-label":"Nueva contraseña"}),i.jsx("p",{className:`text-sm ${l==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"Mínimo 6 caracteres. Déjalo en blanco para no cambiarla."})]}),i.jsx("button",{type:"submit",disabled:a.config,className:`w-full py-3 px-4 ${l==="dark"?"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-800":"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Guardar cambios",children:a.config?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar Cambios"})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("button",{onClick:s,className:`w-full py-3 px-4 ${l==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white rounded-xl font-medium transition-all duration-300 flex items-center justify-center gap-2`,"aria-label":"Cerrar sesión",children:[i.jsx(Nu,{size:18})," Cerrar Sesión"]})})]});oC.propTypes={userName:W.string,setUserName:W.func,email:W.string,handleSaveChanges:W.func,handleLogout:W.func,actionLoading:W.object,theme:W.oneOf(["dark","light"])};const lC=({isOpen:t,message:e,title:r,onClose:n,theme:s="dark"})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${s==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${s==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:[r||"Notificación"," -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:n,className:`${s==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar notificación",children:i.jsx(pn,{size:20})})]}),i.jsx("p",{className:`mb-6 ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:e||"No se proporcionó ningún mensaje."}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:`px-4 py-2 ${s==="dark"?"bg-blue-500 hover:bg-blue-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Aceptar notificación",children:"Aceptar"})})]})})}):null;lC.propTypes={isOpen:W.bool.isRequired,message:W.string,title:W.string,onClose:W.func.isRequired,theme:W.oneOf(["dark","light"])};const yJ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[s,a]=N.useState(e?.balance||0),[l,u]=N.useState(""),d=h=>{if(h.preventDefault(),u(""),isNaN(s)||s<0){u("Por favor, ingrese un saldo válido (número no negativo).");return}n(e.id,parseFloat(s))};return t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold text-white",children:["Editar Saldo de ",e.username]}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Ws,{size:20})})]}),i.jsxs("form",{onSubmit:d,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Saldo (S/)"}),i.jsx("input",{type:"number",value:s,onChange:h=>a(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"0",step:"0.01",required:!0}),l&&i.jsx("p",{className:"text-red-400 text-sm mt-2",children:l})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},cC=({theme:t,products:e,setProducts:r,loadingProducts:n,searchQuery:s,setSearchQuery:a,handleDeleteProduct:l})=>{const u=t==="dark",[d,h]=N.useState(null),[p,g]=N.useState(""),y=e.filter(_=>_.name?.toLowerCase().includes(s.toLowerCase())||_.category?.toLowerCase().includes(s.toLowerCase())),v=async(_,w)=>{if(!w.trim()){h(null);return}try{const E=at(Ae,"products",_);await jr(E,{provider:w.trim()}),r(O=>O.map(j=>j.id===_?{...j,provider:w.trim()}:j)),h(null)}catch(E){console.error("Error updating provider:",E)}};return n?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[i.jsx("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Gestión de Productos"}),i.jsx("div",{className:"relative w-full sm:w-64 mt-4 sm:mt-0",children:i.jsx("input",{type:"text",placeholder:"Buscar productos...",value:s,onChange:_=>a(_.target.value),className:`w-full px-3 py-2 rounded-xl ${u?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 text-sm placeholder-gray-500`,"aria-label":"Search products"})})]}),y.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`backdrop-blur-sm ${u?"bg-gray-900/80":"bg-gray-200/80"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Imagen"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Nombre"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Categoría"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Tipo"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Proveedor"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Stock"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Precio"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),i.jsx("tbody",{className:`divide-y divide-gray-700/50 ${u?"bg-gray-800/70":"bg-gray-100/70"}`,children:y.map((_,w)=>i.jsxs("tr",{className:"hover:bg-blue-500/10 transition-all duration-300",children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:_.image?i.jsx("img",{src:_.image,alt:_.name,className:"h-12 w-12 rounded-lg object-cover",loading:"lazy"}):i.jsx("div",{className:"h-12 w-12 bg-gray-300 rounded-lg flex items-center justify-center",children:i.jsx(Qy,{className:"text-gray-500",size:20})})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${u?"text-white":"text-gray-900"}`,children:_.name||"Sin nombre"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-600"}`,children:_.category||"Sin categoría"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-600"}`,children:_.accountType||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:d===_.id?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"text",value:p,onChange:E=>g(E.target.value),onBlur:()=>v(_.id,p),onKeyDown:E=>{E.key==="Enter"&&v(_.id,p),E.key==="Escape"&&(h(null),g(""))},className:`flex-1 px-2 py-1 rounded border focus:outline-none focus:ring-2 focus:ring-blue-400 ${u?"bg-gray-700/80 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}`,autoFocus:!0}),i.jsx("button",{onClick:()=>{h(null),g("")},className:`p-1 rounded-full ${u?"text-gray-400 hover:bg-gray-600/50":"text-gray-500 hover:bg-gray-200"} transition-all duration-200`,"aria-label":"Cancelar edición",children:i.jsx(pn,{size:12})})]}):i.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-100/50 rounded p-1",onClick:()=>{h(_.id),g(_.provider||"")},children:[i.jsx("span",{className:`text-sm ${u?"text-gray-300":"text-gray-600"}`,children:_.provider||"Sin proveedor"}),i.jsx(Kd,{size:12,className:`${u?"text-gray-500":"text-gray-400"}`})]})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${_.status==="En stock"?"bg-green-500/20 text-green-400 border-green-500/50":_.status==="A pedido"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"bg-red-500/20 text-red-400 border-red-500/50"} border`,children:_.status||"Desconocido"})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-600"}`,children:_.stock!=null?_.stock:"0"}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-white":"text-gray-900"}`,children:["S/ ",parseFloat(_.price||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.jsx("button",{onClick:()=>l(_.id),className:`p-2 rounded-full ${u?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-red-100 text-red-600 hover:bg-red-200"} transition-all duration-300`,title:"Eliminar producto","aria-label":`Eliminar producto ${_.name}`,children:i.jsx(sb,{size:14})})})]},_.id||w))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Qy,{className:`mx-auto text-4xl ${u?"text-gray-400":"text-gray-500"} mb-3`}),i.jsx("h4",{className:`text-lg font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"No hay productos registrados"}),i.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Los productos aparecerán aquí cuando los agregues."})]})]})};cC.propTypes={theme:W.string.isRequired,products:W.array.isRequired,setProducts:W.func.isRequired,loadingProducts:W.bool.isRequired,searchQuery:W.string.isRequired,setSearchQuery:W.func.isRequired,handleDeleteProduct:W.func.isRequired};const uC=({theme:t,users:e,showNotificationModal:r})=>{const n=t==="dark",[s,a]=N.useState(null),[l,u]=N.useState(0),[d,h]=N.useState({}),p=e.filter(y=>y.role==="provider"),g=async(y,v)=>{if(v<0){a(null);return}try{h(w=>({...w,[y]:!0}));const _=at(Ae,"users",y);await jr(_,{userAssignmentLimit:parseInt(v)||0,updatedAt:ir()}),a(null),r("Éxito","Límite actualizado correctamente")}catch(_){console.error("Error updating limit:",_),r("Error",_.message||"Error al actualizar el límite")}finally{h(_=>({..._,[y]:!1}))}};return i.jsxs(ee.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:[i.jsx("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r mb-6 ${n?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Gestión de Proveedores"}),p.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`backdrop-blur-sm ${n?"bg-gray-900/80":"bg-gray-200/80"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-gray-300":"text-gray-700"}`,children:"Nombre"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-gray-300":"text-gray-700"}`,children:"Email"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-gray-300":"text-gray-700"}`,children:"Asignados"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-gray-300":"text-gray-700"}`,children:"Límite de Asignaciones"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),i.jsx("tbody",{className:`divide-y divide-gray-700/50 ${n?"bg-gray-800/70":"bg-gray-100/70"}`,children:p.map(y=>i.jsxs("tr",{className:"hover:bg-blue-500/10 transition-all duration-300",children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${n?"text-white":"text-gray-900"}`,children:y.username||"Sin nombre"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-600"}`,children:y.email||"No especificado"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-600"}`,children:y.assignedUsersCount||0}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s===y.id?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"number",value:l,onChange:v=>u(v.target.value),onBlur:()=>g(y.id,l),onKeyDown:v=>{v.key==="Enter"&&g(y.id,l),v.key==="Escape"&&(a(null),u(0))},className:`w-20 px-2 py-1 rounded border focus:outline-none focus:ring-2 focus:ring-blue-400 ${n?"bg-gray-700/80 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}`,autoFocus:!0,min:"0"}),i.jsx("button",{onClick:()=>{a(null),u(0)},className:`p-1 rounded-full ${n?"text-gray-400 hover:bg-gray-600/50":"text-gray-500 hover:bg-gray-200"} transition-all duration-200`,"aria-label":"Cancelar edición",disabled:d[y.id],children:i.jsx(pn,{size:12})})]}):i.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-100/50 rounded p-1",onClick:()=>{a(y.id),u(y.userAssignmentLimit||0)},children:[i.jsx("span",{className:`text-sm ${n?"text-gray-300":"text-gray-600"}`,children:y.userAssignmentLimit||0}),i.jsx(Kd,{size:12,className:`${n?"text-gray-500":"text-gray-400"}`})]})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:d[y.id]&&i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-blue-500"})})]},y.id))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(hi,{className:`mx-auto text-4xl ${n?"text-gray-400":"text-gray-500"} mb-3`}),i.jsx("h4",{className:`text-lg font-medium ${n?"text-gray-300":"text-gray-700"}`,children:"No hay proveedores"}),i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Los proveedores aparecerán aquí cuando se asignen."})]})]})};uC.propTypes={theme:W.string.isRequired,users:W.array.isRequired,showNotificationModal:W.func.isRequired};const vJ=ja.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>i.jsx(Vt,{children:t&&i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(pn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));vJ.propTypes={show:W.bool.isRequired,onClose:W.func.isRequired,title:W.string.isRequired,message:W.string.isRequired,theme:W.string.isRequired};const dC=()=>{const[t,e]=N.useState(!1),[r,n]=N.useState("inicio"),[s,a]=N.useState(""),[l,u]=N.useState(""),[d,h]=N.useState([]),[p,g]=N.useState([]),[y,v]=N.useState([]),[_,w]=N.useState([]),[E,O]=N.useState([]),[j,z]=N.useState([]),[L,Y]=N.useState(0),[H,S]=N.useState(0),[A,I]=N.useState(0),[P,M]=N.useState(0),[R,F]=N.useState({day:0,week:0,month:0,total:0}),[me,Te]=N.useState(!0),[je,Ie]=N.useState(!0),[_e,oe]=N.useState(null),[xe,se]=N.useState({}),[U,re]=N.useState({isOpen:!1,message:"",title:""}),[ne,ae]=N.useState({isOpen:!1,user:null}),[J,De]=N.useState("dark"),[Ve,Ce]=N.useState(!1),[Me,nt]=N.useState(!1),[mt,Wt]=N.useState(""),[vt,rr]=N.useState(""),Dt=La(),Re=N.useCallback(()=>{De(Q=>Q==="dark"?"light":"dark")},[]),dr=N.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),Mt=N.useCallback((Q,Ne)=>{re({isOpen:!0,title:Q,message:Ne})},[]),He=N.useCallback(()=>{re({isOpen:!1,message:"",title:""})},[]),he=N.useCallback(Q=>{ae({isOpen:!0,user:Q})},[]),Je=N.useCallback(()=>{ae({isOpen:!1,user:null})},[]),lt=N.useCallback(Q=>{if(!Q)return"No especificada";try{const Ne=Q instanceof Date?Q:new Date(Q);return isNaN(Ne.getTime())?"Fecha inválida":Ne.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},[]),ft=N.useCallback(async Q=>{if(window.confirm("¿Estás seguro de que quieres eliminar este producto?"))try{se(Ne=>({...Ne,deleteProduct:!0})),await Ri(at(Ae,"products",Q)),Mt("Éxito","Producto eliminado correctamente")}catch(Ne){console.error("Error al eliminar producto:",Ne),Mt("Error",Ne.message||"Error al eliminar el producto")}finally{se(Ne=>({...Ne,deleteProduct:!1}))}},[Mt]),Tt=N.useCallback(async(Q,Ne)=>{try{se(pe=>({...pe,balance:!0}));const ht=at(Ae,"users",Q);await jr(ht,{balance:Ne,updatedAt:ir()}),Mt("Éxito","Saldo actualizado exitosamente"),Je()}catch(ht){console.error("Error al actualizar saldo:",ht),Mt("Error",ht.message||"Error al actualizar el saldo")}finally{se(ht=>({...ht,balance:!1}))}},[Mt,Je]),dt=N.useCallback(async Q=>{Q.preventDefault();try{se(ke=>({...ke,config:!0}));const Ne=Q.target.password.value,ht=at(Ae,"users",qr.currentUser.uid),pe={username:s,updatedAt:ir()};if(Ne){if(Ne.length<6){Mt("Error","La contraseña debe tener al menos 6 caracteres");return}await wv(qr.currentUser,Ne)}await jr(ht,pe),Mt("Éxito","Cambios guardados correctamente"),Q.target.reset()}catch(Ne){console.error("Error al guardar cambios:",Ne),Mt("Error",Ne.message||"Error al guardar los cambios")}finally{se(Ne=>({...Ne,config:!1}))}},[s,Mt]),St=N.useCallback(async()=>{try{await F0(qr),Dt("/")}catch(Q){console.error("Error al cerrar sesión:",Q),Mt("Error",Q.message||"Error al cerrar sesión")}},[Dt,Mt]);N.useEffect(()=>{const Q=Yl(qr,Ne=>{Ne?(u(Ne.email||"No especificado"),Te(!1)):Dt("/login")});return()=>Q()},[Dt]),N.useEffect(()=>{if(!qr.currentUser)return;const Q=at(Ae,"users",qr.currentUser.uid),Ne=or(Q,ht=>{if(ht.exists()){const pe=ht.data();a(pe.username||"Admin")}else oe("Usuario no encontrado")},ht=>{console.error("Error al cargar datos del usuario:",ht),oe("Error al cargar datos del usuario: "+ht.message)});return()=>Ne()},[]),N.useEffect(()=>{const Q=_t(Ae,"users"),Ne=_t(Ae,"sales"),ht=Zt(_t(Ae,"pendingTopUps"),gr("status","==","pendiente")),pe=Zt(_t(Ae,"withdrawals"),gr("status","==","pendiente")),ke=Zt(_t(Ae,"products"),h1("createdAt","desc")),Pe=or(Q,it=>{const Ze=it.docs.map(Et=>({id:Et.id,...Et.data()}));h(Ze),Y(Ze.length)},it=>{console.error("Error al cargar usuarios:",it),oe("Error al cargar usuarios: "+it.message)}),Qe=or(Ne,it=>{const Ze=it.docs.map($t=>({id:$t.id,...$t.data()}));g(Ze);const Et=Ze.reduce(($t,qt)=>$t+(parseFloat(qt.price)||0),0);S(Et)},it=>{console.error("Error al cargar ventas:",it),oe("Error al cargar ventas: "+it.message)}),xt=or(ht,it=>{const Ze=it.docs.map(Et=>({id:Et.id,...Et.data(),date:Et.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Et.data().amount)||0}));v(Ze),I(Ze.length)},it=>{console.error("Error al cargar recargas:",it),oe("Error al cargar recargas: "+it.message)}),Nt=or(pe,it=>{const Ze=it.docs.map(Et=>({id:Et.id,...Et.data(),date:Et.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Et.data().amount)||0}));w(Ze),M(Ze.length)},it=>{console.error("Error al cargar retiros:",it),oe("Error al cargar retiros: "+it.message)}),st=or(ke,it=>{const Ze=it.docs.map(Et=>({id:Et.id,...Et.data(),createdAt:Et.data().createdAt?.toDate?.()||new Date}));O(Ze),Ie(!1)},it=>{console.error("Error al cargar productos:",it),oe("Error al cargar productos: "+it.message),Ie(!1)});return()=>{Pe(),Qe(),xt(),Nt(),st()}},[]),N.useEffect(()=>{const Q=or(at(Ae,"notifications","adminMessage"),Ne=>{if(Ne.exists()){const ht=Ne.data();z([{id:Ne.id,...ht,timestamp:ht.updatedAt?.toDate()}])}else z([])},Ne=>{console.error("Error al cargar notificaciones:",Ne),oe("Error al cargar notificaciones: "+Ne.message)});return()=>Q()},[]),N.useEffect(()=>{const Q=L*5;F({day:Q*.05,week:Q*.25,month:Q,total:Q})},[L]),N.useEffect(()=>{const Q=()=>{Ce(window.scrollY>300)};return window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)},[]);const ct=N.useCallback(Q=>{const Ne=Q.endDate?.toDate?.()||new Date,ht=new Date;return Q.status==="pending"?"Pendiente":Ne>ht&&Q.status==="completed"?"Activo":"Expirado"},[]),wr=N.useCallback(()=>me?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):_e?i.jsxs("div",{className:`bg-${J==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${J==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ul,{className:"mx-auto text-4xl text-blue-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${J==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${J==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:_e}),i.jsx("button",{onClick:()=>oe(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):i.jsx("div",{className:`bg-${J==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${J==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(r){case"inicio":return i.jsx(pJ,{totalUsers:L,totalSales:H,pendingTopUps:A,pendingWithdrawals:P});case"notificaciones":return i.jsx(mJ,{notifications:j,formatDate:lt});case"usuarios":return i.jsx(rC,{users:d,openEditBalanceModal:he});case"proveedores":return i.jsx(uC,{users:d,theme:J,showNotificationModal:Mt,actionLoading:xe});case"recargas":return i.jsx(sC,{topUps:y,formatDate:lt,actionLoading:xe,setActionLoading:se,showNotificationModal:Mt});case"retiros":return i.jsx(xJ,{withdrawals:_,formatDate:lt,actionLoading:xe,setActionLoading:se,showNotificationModal:Mt});case"pedidos":return i.jsx(aC,{sales:p,totalSales:H,formatDate:lt,getOrderStatus:ct});case"productos":return i.jsx(cC,{theme:J,products:E,setProducts:O,loadingProducts:je,searchQuery:vt,setSearchQuery:rr,handleDeleteProduct:ft});case"ganancias":return i.jsx(iC,{earnings:R,totalUsers:L});case"configuracion":return i.jsx(oC,{userName:s,setUserName:a,email:l,handleSaveChanges:dt,handleLogout:St,actionLoading:xe});default:return i.jsxs("div",{className:`bg-${J==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${J==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ul,{className:"mx-auto text-4xl text-blue-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${J==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),i.jsx("p",{className:`text-base ${J==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()}),[me,_e,J,r,L,H,A,P,j,lt,d,he,y,xe,Mt,_,p,ct,R,s,a,l,dt,St,E,je,vt,ft]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${J==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${J==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(15)].map((Q,Ne)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ne))})]}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${J==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>{Dt("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:i.jsx(pn,{className:"text-lg"})})]}),i.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${J==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${J==="dark"?"text-white":"text-gray-900"}`,children:s}),i.jsx("p",{className:`text-xs ${J==="dark"?"text-gray-400":"text-gray-600"}`,children:"Administrador"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:rb},{id:"notificaciones",label:"Notificaciones",icon:Bl},{id:"usuarios",label:"Usuarios",icon:hi},{id:"proveedores",label:"Proveedores",icon:hi},{id:"recargas",label:"Recargas",icon:ii},{id:"retiros",label:"Retiros",icon:ii},{id:"pedidos",label:"Pedidos",icon:Tu},{id:"productos",label:"Productos",icon:Qy},{id:"ganancias",label:"Ganancias",icon:Dd},{id:"configuracion",label:"Configuración",icon:az}].map(Q=>i.jsxs("button",{onClick:()=>{n(Q.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===Q.id?"bg-blue-100 text-blue-600 border border-blue-300":J==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===Q.id?"page":void 0,children:[i.jsx(Q.icon,{className:"text-lg"}),i.jsx("span",{children:Q.label})]},Q.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:()=>{St(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${J==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[i.jsx(Nu,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsxs("header",{className:`${J==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(ee.img,{src:sc,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${J==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:mt,onChange:Q=>Wt(Q.target.value),className:`w-full py-2.5 px-5 ${J==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:Q=>Q.key==="Enter"&&n("pedidos")}),i.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${J==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:i.jsx(Eu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[i.jsx("button",{onClick:Re,className:`p-2 rounded-full ${J==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${J==="dark"?"light":"dark"} theme`,children:J==="dark"?i.jsx(rc,{size:20}):i.jsx(tc,{size:20})}),i.jsxs("button",{onClick:()=>nt(!0),className:`p-2 rounded-full relative ${J==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${j.length} new)`,children:[i.jsx(Bl,{size:20}),j.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:j.length})]}),i.jsx("button",{className:`lg:hidden p-2 rounded-full ${J==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:i.jsx(jm,{size:20,className:J==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:i.jsx("div",{className:"relative",children:i.jsxs("button",{className:`flex items-center space-x-2 ${J==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:s.charAt(0).toUpperCase()}),i.jsx("span",{className:`text-sm font-semibold ${J==="dark"?"text-gray-200":"text-gray-800"}`,children:s})]})})})]})]}),i.jsx(Vt,{children:Me&&i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>nt(!1),role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${J==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${J==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>nt(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:i.jsx(pn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${J==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),j.length>0?j.map(Q=>i.jsxs("div",{className:`p-4 mb-2 rounded-md ${J==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${J==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[i.jsx("h3",{className:`font-semibold ${J==="dark"?"text-gray-200":"text-gray-800"}`,children:Q.title||"Nueva Notificación"}),i.jsx("p",{className:`text-sm ${J==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:Q.message}),Q.roles&&Q.roles.length>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",Q.roles.join(", ")]}),Q.timestamp&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:lt(Q.timestamp)})]},Q.id)):i.jsx("p",{className:`text-center ${J==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),i.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:wr()}),i.jsxs("footer",{className:`${J==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${J==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),i.jsxs("p",{className:`text-base sm:text-lg ${J==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[i.jsx("a",{href:"https://twitter.com",className:`${J==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:i.jsx(ec,{size:28})}),i.jsx("a",{href:"https://instagram.com",className:`${J==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:i.jsx(Zl,{size:28})}),i.jsx("a",{href:"https://facebook.com",className:`${J==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:i.jsx(Jl,{size:28})})]}),i.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[i.jsx("a",{href:"#",className:`text-sm ${J==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),i.jsx("a",{href:"#",className:`text-sm ${J==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),i.jsx("a",{href:"#",className:`text-sm ${J==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),i.jsxs("p",{className:`text-sm ${J==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),i.jsx(Vt,{children:Ve&&i.jsx(ee.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:dr,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:i.jsx(Cm,{size:20})})}),i.jsx(lC,{isOpen:U.isOpen,title:U.title,message:U.message,onClose:He}),i.jsx(yJ,{isOpen:ne.isOpen,user:ne.user,onClose:Je,onSave:Tt}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};dC.propTypes={};N.lazy(()=>cr(()=>import("./Maintenance-YMepPyHE.js"),[]));const bJ=N.lazy(()=>cr(()=>import("./NotFound-C7ep3UvI.js"),[])),wJ={netflix:N.lazy(()=>cr(()=>import("./Netflix-MtKHEs0L.js"),[])),disney:N.lazy(()=>cr(()=>import("./Disney-CVAI9zXl.js"),[])),max:N.lazy(()=>cr(()=>import("./Max-C6LhL8La.js"),[])),spotify:N.lazy(()=>cr(()=>import("./Spotify-DVG4fEt-.js"),[])),primevideo:N.lazy(()=>cr(()=>import("./PrimeVideo-CC118oz1.js"),[])),vix:N.lazy(()=>cr(()=>import("./Vix-BnqIw5_Y.js"),[])),canva:N.lazy(()=>cr(()=>import("./canva-CzjOWF1U.js"),[])),chatgpt:N.lazy(()=>cr(()=>import("./ChatGPT-Dl5WhBjE.js"),[])),crunchyroll:N.lazy(()=>cr(()=>import("./Crunchyroll-CEYN38DS.js"),[])),redessociales:N.lazy(()=>cr(()=>import("./RedesSociales-DfC_1CWU.js"),[])),applemusic:N.lazy(()=>cr(()=>import("./AppleMusic-ByWKkI6G.js"),[])),appletv:N.lazy(()=>cr(()=>import("./AppleTv-jwvo2_9U.js"),[])),iptv:N.lazy(()=>cr(()=>import("./IPTV-CByDWIPL.js"),[])),flujotv:N.lazy(()=>cr(()=>import("./FlujoTv-aLODDxcN.js"),[])),vikirakuten:N.lazy(()=>cr(()=>import("./VikiRakuten-C4PVj2s1.js"),[])),pornhub:N.lazy(()=>cr(()=>import("./Pornhub-Bkc7CjqY.js"),[])),paramount:N.lazy(()=>cr(()=>import("./Paramount-DVkI0mLy.js"),[])),licencias:N.lazy(()=>cr(()=>import("./Licencias-BqI8bBm1.js"),[])),capcut:N.lazy(()=>cr(()=>import("./Capcut-qwMprX17.js"),[])),duolingo:N.lazy(()=>cr(()=>import("./Duolingo-CCkH7B-Q.js"),[])),dgo:N.lazy(()=>cr(()=>import("./Dgo-Dd67JhzJ.js"),[])),ligamax:N.lazy(()=>cr(()=>import("./LigaMax-BoXhYN9e.js"),[])),movistarplay:N.lazy(()=>cr(()=>import("./MovistarPlay-8GpUJZWC.js"),[])),youtube:N.lazy(()=>cr(()=>import("./Youtube-DJHlBcHD.js"),[])),deezer:N.lazy(()=>cr(()=>import("./Deezer-DVjterP5.js"),[])),tidal:N.lazy(()=>cr(()=>import("./Tidal-CqBgN7R9.js"),[])),vpn:N.lazy(()=>cr(()=>import("./Vpn-CcxZiaR_.js"),[])),wintv:N.lazy(()=>cr(()=>import("./WinTv-DwWm3SGD.js"),[])),buscapersonas:N.lazy(()=>cr(()=>import("./Buscapersonas-RKM7mI8-.js"),[]))},Gu=N.memo(()=>i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:i.jsx("div",{className:"text-xl",children:"Cargando..."})})),_J=N.memo(()=>i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg",children:"Cargando categoría..."})}));N.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,loading:n}=Y0();return n?i.jsx(Gu,{}):r?t:i.jsx(I0,{to:e,replace:!0})});const EJ=N.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,role:n,loading:s}=Y0();return s?i.jsx(Gu,{}):r&&n==="user"?t:i.jsx(I0,{to:e,replace:!0})}),TJ=N.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,role:n,loading:s}=Y0();return s?i.jsx(Gu,{}):r&&n==="admin"?t:i.jsx(I0,{to:e,replace:!0})}),NJ=N.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,role:n,loading:s}=Y0();return s?i.jsx(Gu,{}):r&&n==="affiliate"?t:i.jsx(I0,{to:e,replace:!0})}),kJ=N.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,role:n,loading:s}=Y0();return s?i.jsx(Gu,{}):r&&n==="provider"?t:i.jsx(I0,{to:e,replace:!0})}),AJ=N.memo(()=>{const t=Object.entries(wJ).map(([e,r])=>i.jsx(Ta,{path:`/${e}`,element:i.jsx(N.Suspense,{fallback:i.jsx(_J,{}),children:i.jsx(r,{})})},e));return i.jsxs(pI,{children:[i.jsx(Ta,{path:"/",element:i.jsx(n5,{})}),i.jsx(Ta,{path:"/login",element:i.jsx(aH,{})}),i.jsx(Ta,{path:"/register",element:i.jsx(iH,{})}),i.jsx(Ta,{path:"/forgot-password",element:i.jsx(oH,{})}),i.jsx(Ta,{path:"/dashboard/user",element:i.jsx(EJ,{children:i.jsx(G6,{})})}),i.jsx(Ta,{path:"/dashboard/affiliate",element:i.jsx(NJ,{children:i.jsx(sJ,{})})}),i.jsx(Ta,{path:"/dashboard/provider",element:i.jsx(kJ,{children:i.jsx(Q6,{})})}),i.jsx(Ta,{path:"/dashboard/admin",element:i.jsx(TJ,{children:i.jsx(dC,{})})}),t,i.jsx(Ta,{path:"*",element:i.jsx(N.Suspense,{fallback:i.jsx(Gu,{}),children:i.jsx(bJ,{})})})]})}),SJ=i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:i.jsx("div",{className:"text-xl",children:"Inicializando aplicación..."})});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("Service Worker registrado con éxito:",t)}).catch(t=>{console.error("Error al registrar el Service Worker:",t)})});Tj.createRoot(document.getElementById("root")).render(i.jsx(ja.StrictMode,{children:i.jsx(LI,{children:i.jsx(JL,{children:i.jsx(N.Suspense,{fallback:SJ,children:i.jsx(AJ,{})})})})}));export{uz as $,OJ as A,VJ as B,$J as C,LJ as D,IJ as E,MJ as F,FJ as G,DJ as H,RJ as I,ib as J,yz as K,_s as L,ia as M,ee as N,Eu as O,rc as P,tc as Q,Bl as R,vz as S,ez as T,Vt as U,Ip as V,Nu as W,Jy as X,Zy as Y,pn as Z,wz as _,or as a,gz as a0,qo as a1,Cm as a2,ec as a3,Zl as a4,Jl as a5,W as a6,oi as b,_t as c,ks as d,Rp as e,qr as f,nc as g,ri as h,at as i,i as j,Ae as k,sc as l,Ul as m,rb as n,Yl as o,Au as p,Zt as q,N as r,h1 as s,Jr as t,La as u,vp as v,gr as w,ir as x,F0 as y,PJ as z};
