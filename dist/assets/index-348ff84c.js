(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function A2(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Eb={exports:{}},tu={},Ib={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo=Symbol.for("react.element"),R2=Symbol.for("react.portal"),M2=Symbol.for("react.fragment"),O2=Symbol.for("react.strict_mode"),z2=Symbol.for("react.profiler"),L2=Symbol.for("react.provider"),V2=Symbol.for("react.context"),F2=Symbol.for("react.forward_ref"),B2=Symbol.for("react.suspense"),U2=Symbol.for("react.memo"),$2=Symbol.for("react.lazy"),pf=Symbol.iterator;function q2(s){return s===null||typeof s!="object"?null:(s=pf&&s[pf]||s["@@iterator"],typeof s=="function"?s:null)}var Sb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_b=Object.assign,Pb={};function zi(s,t,r){this.props=s,this.context=t,this.refs=Pb,this.updater=r||Sb}zi.prototype.isReactComponent={};zi.prototype.setState=function(s,t){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,t,"setState")};zi.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function Tb(){}Tb.prototype=zi.prototype;function yh(s,t,r){this.props=s,this.context=t,this.refs=Pb,this.updater=r||Sb}var bh=yh.prototype=new Tb;bh.constructor=yh;_b(bh,zi.prototype);bh.isPureReactComponent=!0;var ff=Array.isArray,Db=Object.prototype.hasOwnProperty,jh={current:null},Ab={key:!0,ref:!0,__self:!0,__source:!0};function Rb(s,t,r){var a,i={},o=null,l=null;if(t!=null)for(a in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)Db.call(t,a)&&!Ab.hasOwnProperty(a)&&(i[a]=t[a]);var d=arguments.length-2;if(d===1)i.children=r;else if(1<d){for(var x=Array(d),p=0;p<d;p++)x[p]=arguments[p+2];i.children=x}if(s&&s.defaultProps)for(a in d=s.defaultProps,d)i[a]===void 0&&(i[a]=d[a]);return{$$typeof:vo,type:s,key:o,ref:l,props:i,_owner:jh.current}}function W2(s,t){return{$$typeof:vo,type:s.type,key:t,ref:s.ref,props:s.props,_owner:s._owner}}function vh(s){return typeof s=="object"&&s!==null&&s.$$typeof===vo}function G2(s){var t={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(r){return t[r]})}var gf=/\/+/g;function lx(s,t){return typeof s=="object"&&s!==null&&s.key!=null?G2(""+s.key):t.toString(36)}function Tc(s,t,r,a,i){var o=typeof s;(o==="undefined"||o==="boolean")&&(s=null);var l=!1;if(s===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(s.$$typeof){case vo:case R2:l=!0}}if(l)return l=s,i=i(l),s=a===""?"."+lx(l,0):a,ff(i)?(r="",s!=null&&(r=s.replace(gf,"$&/")+"/"),Tc(i,t,r,"",function(p){return p})):i!=null&&(vh(i)&&(i=W2(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(gf,"$&/")+"/")+s)),t.push(i)),1;if(l=0,a=a===""?".":a+":",ff(s))for(var d=0;d<s.length;d++){o=s[d];var x=a+lx(o,d);l+=Tc(o,t,r,x,i)}else if(x=q2(s),typeof x=="function")for(s=x.call(s),d=0;!(o=s.next()).done;)o=o.value,x=a+lx(o,d++),l+=Tc(o,t,r,x,i);else if(o==="object")throw t=String(s),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function nc(s,t,r){if(s==null)return s;var a=[],i=0;return Tc(s,a,"","",function(o){return t.call(r,o,i++)}),a}function H2(s){if(s._status===-1){var t=s._result;t=t(),t.then(function(r){(s._status===0||s._status===-1)&&(s._status=1,s._result=r)},function(r){(s._status===0||s._status===-1)&&(s._status=2,s._result=r)}),s._status===-1&&(s._status=0,s._result=t)}if(s._status===1)return s._result.default;throw s._result}var Ds={current:null},Dc={transition:null},Q2={ReactCurrentDispatcher:Ds,ReactCurrentBatchConfig:Dc,ReactCurrentOwner:jh};function Mb(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:nc,forEach:function(s,t,r){nc(s,function(){t.apply(this,arguments)},r)},count:function(s){var t=0;return nc(s,function(){t++}),t},toArray:function(s){return nc(s,function(t){return t})||[]},only:function(s){if(!vh(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};mt.Component=zi;mt.Fragment=M2;mt.Profiler=z2;mt.PureComponent=yh;mt.StrictMode=O2;mt.Suspense=B2;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q2;mt.act=Mb;mt.cloneElement=function(s,t,r){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var a=_b({},s.props),i=s.key,o=s.ref,l=s._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=jh.current),t.key!==void 0&&(i=""+t.key),s.type&&s.type.defaultProps)var d=s.type.defaultProps;for(x in t)Db.call(t,x)&&!Ab.hasOwnProperty(x)&&(a[x]=t[x]===void 0&&d!==void 0?d[x]:t[x])}var x=arguments.length-2;if(x===1)a.children=r;else if(1<x){d=Array(x);for(var p=0;p<x;p++)d[p]=arguments[p+2];a.children=d}return{$$typeof:vo,type:s.type,key:i,ref:o,props:a,_owner:l}};mt.createContext=function(s){return s={$$typeof:V2,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:L2,_context:s},s.Consumer=s};mt.createElement=Rb;mt.createFactory=function(s){var t=Rb.bind(null,s);return t.type=s,t};mt.createRef=function(){return{current:null}};mt.forwardRef=function(s){return{$$typeof:F2,render:s}};mt.isValidElement=vh;mt.lazy=function(s){return{$$typeof:$2,_payload:{_status:-1,_result:s},_init:H2}};mt.memo=function(s,t){return{$$typeof:U2,type:s,compare:t===void 0?null:t}};mt.startTransition=function(s){var t=Dc.transition;Dc.transition={};try{s()}finally{Dc.transition=t}};mt.unstable_act=Mb;mt.useCallback=function(s,t){return Ds.current.useCallback(s,t)};mt.useContext=function(s){return Ds.current.useContext(s)};mt.useDebugValue=function(){};mt.useDeferredValue=function(s){return Ds.current.useDeferredValue(s)};mt.useEffect=function(s,t){return Ds.current.useEffect(s,t)};mt.useId=function(){return Ds.current.useId()};mt.useImperativeHandle=function(s,t,r){return Ds.current.useImperativeHandle(s,t,r)};mt.useInsertionEffect=function(s,t){return Ds.current.useInsertionEffect(s,t)};mt.useLayoutEffect=function(s,t){return Ds.current.useLayoutEffect(s,t)};mt.useMemo=function(s,t){return Ds.current.useMemo(s,t)};mt.useReducer=function(s,t,r){return Ds.current.useReducer(s,t,r)};mt.useRef=function(s){return Ds.current.useRef(s)};mt.useState=function(s){return Ds.current.useState(s)};mt.useSyncExternalStore=function(s,t,r){return Ds.current.useSyncExternalStore(s,t,r)};mt.useTransition=function(){return Ds.current.useTransition()};mt.version="18.3.1";Ib.exports=mt;var j=Ib.exports;const Da=A2(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2=j,Y2=Symbol.for("react.element"),X2=Symbol.for("react.fragment"),J2=Object.prototype.hasOwnProperty,Z2=K2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e4={key:!0,ref:!0,__self:!0,__source:!0};function Ob(s,t,r){var a,i={},o=null,l=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)J2.call(t,a)&&!e4.hasOwnProperty(a)&&(i[a]=t[a]);if(s&&s.defaultProps)for(a in t=s.defaultProps,t)i[a]===void 0&&(i[a]=t[a]);return{$$typeof:Y2,type:s,key:o,ref:l,props:i,_owner:Z2.current}}tu.Fragment=X2;tu.jsx=Ob;tu.jsxs=Ob;Eb.exports=tu;var e=Eb.exports,Yx={},zb={exports:{}},Js={},Lb={exports:{}},Vb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function t(oe,ye){var de=oe.length;oe.push(ye);e:for(;0<de;){var ae=de-1>>>1,n=oe[ae];if(0<i(n,ye))oe[ae]=ye,oe[de]=n,de=ae;else break e}}function r(oe){return oe.length===0?null:oe[0]}function a(oe){if(oe.length===0)return null;var ye=oe[0],de=oe.pop();if(de!==ye){oe[0]=de;e:for(var ae=0,n=oe.length,b=n>>>1;ae<b;){var g=2*(ae+1)-1,O=oe[g],K=g+1,U=oe[K];if(0>i(O,de))K<n&&0>i(U,O)?(oe[ae]=U,oe[K]=de,ae=K):(oe[ae]=O,oe[g]=de,ae=g);else if(K<n&&0>i(U,de))oe[ae]=U,oe[K]=de,ae=K;else break e}}return ye}function i(oe,ye){var de=oe.sortIndex-ye.sortIndex;return de!==0?de:oe.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();s.unstable_now=function(){return l.now()-d}}var x=[],p=[],N=1,E=null,P=3,A=!1,f=!1,L=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(oe){for(var ye=r(p);ye!==null;){if(ye.callback===null)a(p);else if(ye.startTime<=oe)a(p),ye.sortIndex=ye.expirationTime,t(x,ye);else break;ye=r(p)}}function Y(oe){if(L=!1,M(oe),!f)if(r(x)!==null)f=!0,Se(G);else{var ye=r(p);ye!==null&&De(Y,ye.startTime-oe)}}function G(oe,ye){f=!1,L&&(L=!1,_(c),c=-1),A=!0;var de=P;try{for(M(ye),E=r(x);E!==null&&(!(E.expirationTime>ye)||oe&&!H());){var ae=E.callback;if(typeof ae=="function"){E.callback=null,P=E.priorityLevel;var n=ae(E.expirationTime<=ye);ye=s.unstable_now(),typeof n=="function"?E.callback=n:E===r(x)&&a(x),M(ye)}else a(x);E=r(x)}if(E!==null)var b=!0;else{var g=r(p);g!==null&&De(Y,g.startTime-ye),b=!1}return b}finally{E=null,P=de,A=!1}}var W=!1,D=null,c=-1,F=5,V=-1;function H(){return!(s.unstable_now()-V<F)}function I(){if(D!==null){var oe=s.unstable_now();V=oe;var ye=!0;try{ye=D(!0,oe)}finally{ye?q():(W=!1,D=null)}}else W=!1}var q;if(typeof z=="function")q=function(){z(I)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Ce=_e.port2;_e.port1.onmessage=I,q=function(){Ce.postMessage(null)}}else q=function(){k(I,0)};function Se(oe){D=oe,W||(W=!0,q())}function De(oe,ye){c=k(function(){oe(s.unstable_now())},ye)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(oe){oe.callback=null},s.unstable_continueExecution=function(){f||A||(f=!0,Se(G))},s.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<oe?Math.floor(1e3/oe):5},s.unstable_getCurrentPriorityLevel=function(){return P},s.unstable_getFirstCallbackNode=function(){return r(x)},s.unstable_next=function(oe){switch(P){case 1:case 2:case 3:var ye=3;break;default:ye=P}var de=P;P=ye;try{return oe()}finally{P=de}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(oe,ye){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var de=P;P=oe;try{return ye()}finally{P=de}},s.unstable_scheduleCallback=function(oe,ye,de){var ae=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ae+de:ae):de=ae,oe){case 1:var n=-1;break;case 2:n=250;break;case 5:n=1073741823;break;case 4:n=1e4;break;default:n=5e3}return n=de+n,oe={id:N++,callback:ye,priorityLevel:oe,startTime:de,expirationTime:n,sortIndex:-1},de>ae?(oe.sortIndex=de,t(p,oe),r(x)===null&&oe===r(p)&&(L?(_(c),c=-1):L=!0,De(Y,de-ae))):(oe.sortIndex=n,t(x,oe),f||A||(f=!0,Se(G))),oe},s.unstable_shouldYield=H,s.unstable_wrapCallback=function(oe){var ye=P;return function(){var de=P;P=ye;try{return oe.apply(this,arguments)}finally{P=de}}}})(Vb);Lb.exports=Vb;var t4=Lb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s4=j,Xs=t4;function ke(s){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+s,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+s+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fb=new Set,$l={};function An(s,t){Ni(s,t),Ni(s+"Capture",t)}function Ni(s,t){for($l[s]=t,s=0;s<t.length;s++)Fb.add(t[s])}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xx=Object.prototype.hasOwnProperty,r4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yf={},bf={};function a4(s){return Xx.call(bf,s)?!0:Xx.call(yf,s)?!1:r4.test(s)?bf[s]=!0:(yf[s]=!0,!1)}function n4(s,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function i4(s,t,r,a){if(t===null||typeof t>"u"||n4(s,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function As(s,t,r,a,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=s,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var ps={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){ps[s]=new As(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var t=s[0];ps[t]=new As(t,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){ps[s]=new As(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){ps[s]=new As(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){ps[s]=new As(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){ps[s]=new As(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){ps[s]=new As(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){ps[s]=new As(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){ps[s]=new As(s,5,!1,s.toLowerCase(),null,!1,!1)});var Nh=/[\-:]([a-z])/g;function wh(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var t=s.replace(Nh,wh);ps[t]=new As(t,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var t=s.replace(Nh,wh);ps[t]=new As(t,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var t=s.replace(Nh,wh);ps[t]=new As(t,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){ps[s]=new As(s,1,!1,s.toLowerCase(),null,!1,!1)});ps.xlinkHref=new As("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){ps[s]=new As(s,1,!1,s.toLowerCase(),null,!0,!0)});function kh(s,t,r,a){var i=ps.hasOwnProperty(t)?ps[t]:null;(i!==null?i.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(i4(t,r,i,a)&&(r=null),a||i===null?a4(t)&&(r===null?s.removeAttribute(t):s.setAttribute(t,""+r)):i.mustUseProperty?s[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,a=i.attributeNamespace,r===null?s.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,a?s.setAttributeNS(a,t,r):s.setAttribute(t,r))))}var ca=s4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ic=Symbol.for("react.element"),Jn=Symbol.for("react.portal"),Zn=Symbol.for("react.fragment"),Ch=Symbol.for("react.strict_mode"),Jx=Symbol.for("react.profiler"),Bb=Symbol.for("react.provider"),Ub=Symbol.for("react.context"),Eh=Symbol.for("react.forward_ref"),Zx=Symbol.for("react.suspense"),em=Symbol.for("react.suspense_list"),Ih=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),$b=Symbol.for("react.offscreen"),jf=Symbol.iterator;function nl(s){return s===null||typeof s!="object"?null:(s=jf&&s[jf]||s["@@iterator"],typeof s=="function"?s:null)}var Bt=Object.assign,ox;function fl(s){if(ox===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ox=t&&t[1]||""}return`
`+ox+s}var cx=!1;function dx(s,t){if(!s||cx)return"";cx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var a=p}Reflect.construct(s,[],t)}else{try{t.call()}catch(p){a=p}s.call(t.prototype)}else{try{throw Error()}catch(p){a=p}s()}}catch(p){if(p&&a&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),o=a.stack.split(`
`),l=i.length-1,d=o.length-1;1<=l&&0<=d&&i[l]!==o[d];)d--;for(;1<=l&&0<=d;l--,d--)if(i[l]!==o[d]){if(l!==1||d!==1)do if(l--,d--,0>d||i[l]!==o[d]){var x=`
`+i[l].replace(" at new "," at ");return s.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",s.displayName)),x}while(1<=l&&0<=d);break}}}finally{cx=!1,Error.prepareStackTrace=r}return(s=s?s.displayName||s.name:"")?fl(s):""}function l4(s){switch(s.tag){case 5:return fl(s.type);case 16:return fl("Lazy");case 13:return fl("Suspense");case 19:return fl("SuspenseList");case 0:case 2:case 15:return s=dx(s.type,!1),s;case 11:return s=dx(s.type.render,!1),s;case 1:return s=dx(s.type,!0),s;default:return""}}function tm(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Zn:return"Fragment";case Jn:return"Portal";case Jx:return"Profiler";case Ch:return"StrictMode";case Zx:return"Suspense";case em:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Ub:return(s.displayName||"Context")+".Consumer";case Bb:return(s._context.displayName||"Context")+".Provider";case Eh:var t=s.render;return s=s.displayName,s||(s=t.displayName||t.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ih:return t=s.displayName||null,t!==null?t:tm(s.type)||"Memo";case ja:t=s._payload,s=s._init;try{return tm(s(t))}catch{}}return null}function o4(s){var t=s.type;switch(s.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=t.render,s=s.displayName||s.name||"",t.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tm(t);case 8:return t===Ch?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wa(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qb(s){var t=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c4(s){var t=qb(s)?"checked":"value",r=Object.getOwnPropertyDescriptor(s.constructor.prototype,t),a=""+s[t];if(!s.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(s,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){a=""+l,o.call(this,l)}}),Object.defineProperty(s,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){s._valueTracker=null,delete s[t]}}}}function lc(s){s._valueTracker||(s._valueTracker=c4(s))}function Wb(s){if(!s)return!1;var t=s._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return s&&(a=qb(s)?s.checked?"true":"false":s.value),s=a,s!==r?(t.setValue(s),!0):!1}function sd(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function sm(s,t){var r=t.checked;return Bt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??s._wrapperState.initialChecked})}function vf(s,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=Wa(t.value!=null?t.value:r),s._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gb(s,t){t=t.checked,t!=null&&kh(s,"checked",t,!1)}function rm(s,t){Gb(s,t);var r=Wa(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+r):s.value!==""+r&&(s.value=""+r);else if(a==="submit"||a==="reset"){s.removeAttribute("value");return}t.hasOwnProperty("value")?am(s,t.type,r):t.hasOwnProperty("defaultValue")&&am(s,t.type,Wa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(s.defaultChecked=!!t.defaultChecked)}function Nf(s,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+s._wrapperState.initialValue,r||t===s.value||(s.value=t),s.defaultValue=t}r=s.name,r!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,r!==""&&(s.name=r)}function am(s,t,r){(t!=="number"||sd(s.ownerDocument)!==s)&&(r==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+r&&(s.defaultValue=""+r))}var gl=Array.isArray;function xi(s,t,r,a){if(s=s.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<s.length;r++)i=t.hasOwnProperty("$"+s[r].value),s[r].selected!==i&&(s[r].selected=i),i&&a&&(s[r].defaultSelected=!0)}else{for(r=""+Wa(r),t=null,i=0;i<s.length;i++){if(s[i].value===r){s[i].selected=!0,a&&(s[i].defaultSelected=!0);return}t!==null||s[i].disabled||(t=s[i])}t!==null&&(t.selected=!0)}}function nm(s,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Bt({},t,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function wf(s,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ke(92));if(gl(r)){if(1<r.length)throw Error(ke(93));r=r[0]}t=r}t==null&&(t=""),r=t}s._wrapperState={initialValue:Wa(r)}}function Hb(s,t){var r=Wa(t.value),a=Wa(t.defaultValue);r!=null&&(r=""+r,r!==s.value&&(s.value=r),t.defaultValue==null&&s.defaultValue!==r&&(s.defaultValue=r)),a!=null&&(s.defaultValue=""+a)}function kf(s){var t=s.textContent;t===s._wrapperState.initialValue&&t!==""&&t!==null&&(s.value=t)}function Qb(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function im(s,t){return s==null||s==="http://www.w3.org/1999/xhtml"?Qb(t):s==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var oc,Kb=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,i){MSApp.execUnsafeLocalFunction(function(){return s(t,r,a,i)})}:s}(function(s,t){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=t;else{for(oc=oc||document.createElement("div"),oc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oc.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;t.firstChild;)s.appendChild(t.firstChild)}});function ql(s,t){if(t){var r=s.firstChild;if(r&&r===s.lastChild&&r.nodeType===3){r.nodeValue=t;return}}s.textContent=t}var El={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d4=["Webkit","ms","Moz","O"];Object.keys(El).forEach(function(s){d4.forEach(function(t){t=t+s.charAt(0).toUpperCase()+s.substring(1),El[t]=El[s]})});function Yb(s,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||El.hasOwnProperty(s)&&El[s]?(""+t).trim():t+"px"}function Xb(s,t){s=s.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,i=Yb(r,t[r],a);r==="float"&&(r="cssFloat"),a?s.setProperty(r,i):s[r]=i}}var u4=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lm(s,t){if(t){if(u4[s]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ke(137,s));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ke(62))}}function om(s,t){if(s.indexOf("-")===-1)return typeof t.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=null;function Sh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var dm=null,mi=null,hi=null;function Cf(s){if(s=ko(s)){if(typeof dm!="function")throw Error(ke(280));var t=s.stateNode;t&&(t=iu(t),dm(s.stateNode,s.type,t))}}function Jb(s){mi?hi?hi.push(s):hi=[s]:mi=s}function Zb(){if(mi){var s=mi,t=hi;if(hi=mi=null,Cf(s),t)for(s=0;s<t.length;s++)Cf(t[s])}}function ej(s,t){return s(t)}function tj(){}var ux=!1;function sj(s,t,r){if(ux)return s(t,r);ux=!0;try{return ej(s,t,r)}finally{ux=!1,(mi!==null||hi!==null)&&(tj(),Zb())}}function Wl(s,t){var r=s.stateNode;if(r===null)return null;var a=iu(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(s=s.type,a=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!a;break e;default:s=!1}if(s)return null;if(r&&typeof r!="function")throw Error(ke(231,t,typeof r));return r}var um=!1;if(ea)try{var il={};Object.defineProperty(il,"passive",{get:function(){um=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{um=!1}function x4(s,t,r,a,i,o,l,d,x){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(N){this.onError(N)}}var Il=!1,rd=null,ad=!1,xm=null,m4={onError:function(s){Il=!0,rd=s}};function h4(s,t,r,a,i,o,l,d,x){Il=!1,rd=null,x4.apply(m4,arguments)}function p4(s,t,r,a,i,o,l,d,x){if(h4.apply(this,arguments),Il){if(Il){var p=rd;Il=!1,rd=null}else throw Error(ke(198));ad||(ad=!0,xm=p)}}function Rn(s){var t=s,r=s;if(s.alternate)for(;t.return;)t=t.return;else{s=t;do t=s,t.flags&4098&&(r=t.return),s=t.return;while(s)}return t.tag===3?r:null}function rj(s){if(s.tag===13){var t=s.memoizedState;if(t===null&&(s=s.alternate,s!==null&&(t=s.memoizedState)),t!==null)return t.dehydrated}return null}function Ef(s){if(Rn(s)!==s)throw Error(ke(188))}function f4(s){var t=s.alternate;if(!t){if(t=Rn(s),t===null)throw Error(ke(188));return t!==s?null:s}for(var r=s,a=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(a=i.return,a!==null){r=a;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Ef(i),s;if(o===a)return Ef(i),t;o=o.sibling}throw Error(ke(188))}if(r.return!==a.return)r=i,a=o;else{for(var l=!1,d=i.child;d;){if(d===r){l=!0,r=i,a=o;break}if(d===a){l=!0,a=i,r=o;break}d=d.sibling}if(!l){for(d=o.child;d;){if(d===r){l=!0,r=o,a=i;break}if(d===a){l=!0,a=o,r=i;break}d=d.sibling}if(!l)throw Error(ke(189))}}if(r.alternate!==a)throw Error(ke(190))}if(r.tag!==3)throw Error(ke(188));return r.stateNode.current===r?s:t}function aj(s){return s=f4(s),s!==null?nj(s):null}function nj(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var t=nj(s);if(t!==null)return t;s=s.sibling}return null}var ij=Xs.unstable_scheduleCallback,If=Xs.unstable_cancelCallback,g4=Xs.unstable_shouldYield,y4=Xs.unstable_requestPaint,Qt=Xs.unstable_now,b4=Xs.unstable_getCurrentPriorityLevel,_h=Xs.unstable_ImmediatePriority,lj=Xs.unstable_UserBlockingPriority,nd=Xs.unstable_NormalPriority,j4=Xs.unstable_LowPriority,oj=Xs.unstable_IdlePriority,su=null,Pr=null;function v4(s){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(su,s,void 0,(s.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:k4,N4=Math.log,w4=Math.LN2;function k4(s){return s>>>=0,s===0?32:31-(N4(s)/w4|0)|0}var cc=64,dc=4194304;function yl(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function id(s,t){var r=s.pendingLanes;if(r===0)return 0;var a=0,i=s.suspendedLanes,o=s.pingedLanes,l=r&268435455;if(l!==0){var d=l&~i;d!==0?a=yl(d):(o&=l,o!==0&&(a=yl(o)))}else l=r&~i,l!==0?a=yl(l):o!==0&&(a=yl(o));if(a===0)return 0;if(t!==0&&t!==a&&!(t&i)&&(i=a&-a,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(a&4&&(a|=r&16),t=s.entangledLanes,t!==0)for(s=s.entanglements,t&=a;0<t;)r=31-gr(t),i=1<<r,a|=s[r],t&=~i;return a}function C4(s,t){switch(s){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E4(s,t){for(var r=s.suspendedLanes,a=s.pingedLanes,i=s.expirationTimes,o=s.pendingLanes;0<o;){var l=31-gr(o),d=1<<l,x=i[l];x===-1?(!(d&r)||d&a)&&(i[l]=C4(d,t)):x<=t&&(s.expiredLanes|=d),o&=~d}}function mm(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function cj(){var s=cc;return cc<<=1,!(cc&4194240)&&(cc=64),s}function xx(s){for(var t=[],r=0;31>r;r++)t.push(s);return t}function No(s,t,r){s.pendingLanes|=t,t!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,t=31-gr(t),s[t]=r}function I4(s,t){var r=s.pendingLanes&~t;s.pendingLanes=t,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=t,s.mutableReadLanes&=t,s.entangledLanes&=t,t=s.entanglements;var a=s.eventTimes;for(s=s.expirationTimes;0<r;){var i=31-gr(r),o=1<<i;t[i]=0,a[i]=-1,s[i]=-1,r&=~o}}function Ph(s,t){var r=s.entangledLanes|=t;for(s=s.entanglements;r;){var a=31-gr(r),i=1<<a;i&t|s[a]&t&&(s[a]|=t),r&=~i}}var Ct=0;function dj(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var uj,Th,xj,mj,hj,hm=!1,uc=[],Aa=null,Ra=null,Ma=null,Gl=new Map,Hl=new Map,Na=[],S4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sf(s,t){switch(s){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Gl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(t.pointerId)}}function ll(s,t,r,a,i,o){return s===null||s.nativeEvent!==o?(s={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ko(t),t!==null&&Th(t)),s):(s.eventSystemFlags|=a,t=s.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),s)}function _4(s,t,r,a,i){switch(t){case"focusin":return Aa=ll(Aa,s,t,r,a,i),!0;case"dragenter":return Ra=ll(Ra,s,t,r,a,i),!0;case"mouseover":return Ma=ll(Ma,s,t,r,a,i),!0;case"pointerover":var o=i.pointerId;return Gl.set(o,ll(Gl.get(o)||null,s,t,r,a,i)),!0;case"gotpointercapture":return o=i.pointerId,Hl.set(o,ll(Hl.get(o)||null,s,t,r,a,i)),!0}return!1}function pj(s){var t=mn(s.target);if(t!==null){var r=Rn(t);if(r!==null){if(t=r.tag,t===13){if(t=rj(r),t!==null){s.blockedOn=t,hj(s.priority,function(){xj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){s.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ac(s){if(s.blockedOn!==null)return!1;for(var t=s.targetContainers;0<t.length;){var r=pm(s.domEventName,s.eventSystemFlags,t[0],s.nativeEvent);if(r===null){r=s.nativeEvent;var a=new r.constructor(r.type,r);cm=a,r.target.dispatchEvent(a),cm=null}else return t=ko(r),t!==null&&Th(t),s.blockedOn=r,!1;t.shift()}return!0}function _f(s,t,r){Ac(s)&&r.delete(t)}function P4(){hm=!1,Aa!==null&&Ac(Aa)&&(Aa=null),Ra!==null&&Ac(Ra)&&(Ra=null),Ma!==null&&Ac(Ma)&&(Ma=null),Gl.forEach(_f),Hl.forEach(_f)}function ol(s,t){s.blockedOn===t&&(s.blockedOn=null,hm||(hm=!0,Xs.unstable_scheduleCallback(Xs.unstable_NormalPriority,P4)))}function Ql(s){function t(i){return ol(i,s)}if(0<uc.length){ol(uc[0],s);for(var r=1;r<uc.length;r++){var a=uc[r];a.blockedOn===s&&(a.blockedOn=null)}}for(Aa!==null&&ol(Aa,s),Ra!==null&&ol(Ra,s),Ma!==null&&ol(Ma,s),Gl.forEach(t),Hl.forEach(t),r=0;r<Na.length;r++)a=Na[r],a.blockedOn===s&&(a.blockedOn=null);for(;0<Na.length&&(r=Na[0],r.blockedOn===null);)pj(r),r.blockedOn===null&&Na.shift()}var pi=ca.ReactCurrentBatchConfig,ld=!0;function T4(s,t,r,a){var i=Ct,o=pi.transition;pi.transition=null;try{Ct=1,Dh(s,t,r,a)}finally{Ct=i,pi.transition=o}}function D4(s,t,r,a){var i=Ct,o=pi.transition;pi.transition=null;try{Ct=4,Dh(s,t,r,a)}finally{Ct=i,pi.transition=o}}function Dh(s,t,r,a){if(ld){var i=pm(s,t,r,a);if(i===null)Nx(s,t,a,od,r),Sf(s,a);else if(_4(i,s,t,r,a))a.stopPropagation();else if(Sf(s,a),t&4&&-1<S4.indexOf(s)){for(;i!==null;){var o=ko(i);if(o!==null&&uj(o),o=pm(s,t,r,a),o===null&&Nx(s,t,a,od,r),o===i)break;i=o}i!==null&&a.stopPropagation()}else Nx(s,t,a,null,r)}}var od=null;function pm(s,t,r,a){if(od=null,s=Sh(a),s=mn(s),s!==null)if(t=Rn(s),t===null)s=null;else if(r=t.tag,r===13){if(s=rj(t),s!==null)return s;s=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;s=null}else t!==s&&(s=null);return od=s,null}function fj(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b4()){case _h:return 1;case lj:return 4;case nd:case j4:return 16;case oj:return 536870912;default:return 16}default:return 16}}var Sa=null,Ah=null,Rc=null;function gj(){if(Rc)return Rc;var s,t=Ah,r=t.length,a,i="value"in Sa?Sa.value:Sa.textContent,o=i.length;for(s=0;s<r&&t[s]===i[s];s++);var l=r-s;for(a=1;a<=l&&t[r-a]===i[o-a];a++);return Rc=i.slice(s,1<a?1-a:void 0)}function Mc(s){var t=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&t===13&&(s=13)):s=t,s===10&&(s=13),32<=s||s===13?s:0}function xc(){return!0}function Pf(){return!1}function Zs(s){function t(r,a,i,o,l){this._reactName=r,this._targetInst=i,this.type=a,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var d in s)s.hasOwnProperty(d)&&(r=s[d],this[d]=r?r(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xc:Pf,this.isPropagationStopped=Pf,this}return Bt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),t}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rh=Zs(Li),wo=Bt({},Li,{view:0,detail:0}),A4=Zs(wo),mx,hx,cl,ru=Bt({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==cl&&(cl&&s.type==="mousemove"?(mx=s.screenX-cl.screenX,hx=s.screenY-cl.screenY):hx=mx=0,cl=s),mx)},movementY:function(s){return"movementY"in s?s.movementY:hx}}),Tf=Zs(ru),R4=Bt({},ru,{dataTransfer:0}),M4=Zs(R4),O4=Bt({},wo,{relatedTarget:0}),px=Zs(O4),z4=Bt({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),L4=Zs(z4),V4=Bt({},Li,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),F4=Zs(V4),B4=Bt({},Li,{data:0}),Df=Zs(B4),U4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W4(s){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(s):(s=q4[s])?!!t[s]:!1}function Mh(){return W4}var G4=Bt({},wo,{key:function(s){if(s.key){var t=U4[s.key]||s.key;if(t!=="Unidentified")return t}return s.type==="keypress"?(s=Mc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?$4[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mh,charCode:function(s){return s.type==="keypress"?Mc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Mc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),H4=Zs(G4),Q4=Bt({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Af=Zs(Q4),K4=Bt({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mh}),Y4=Zs(K4),X4=Bt({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),J4=Zs(X4),Z4=Bt({},ru,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ek=Zs(Z4),tk=[9,13,27,32],Oh=ea&&"CompositionEvent"in window,Sl=null;ea&&"documentMode"in document&&(Sl=document.documentMode);var sk=ea&&"TextEvent"in window&&!Sl,yj=ea&&(!Oh||Sl&&8<Sl&&11>=Sl),Rf=String.fromCharCode(32),Mf=!1;function bj(s,t){switch(s){case"keyup":return tk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jj(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ei=!1;function rk(s,t){switch(s){case"compositionend":return jj(t);case"keypress":return t.which!==32?null:(Mf=!0,Rf);case"textInput":return s=t.data,s===Rf&&Mf?null:s;default:return null}}function ak(s,t){if(ei)return s==="compositionend"||!Oh&&bj(s,t)?(s=gj(),Rc=Ah=Sa=null,ei=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yj&&t.locale!=="ko"?null:t.data;default:return null}}var nk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Of(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t==="input"?!!nk[s.type]:t==="textarea"}function vj(s,t,r,a){Jb(a),t=cd(t,"onChange"),0<t.length&&(r=new Rh("onChange","change",null,r,a),s.push({event:r,listeners:t}))}var _l=null,Kl=null;function ik(s){Dj(s,0)}function au(s){var t=ri(s);if(Wb(t))return s}function lk(s,t){if(s==="change")return t}var Nj=!1;if(ea){var fx;if(ea){var gx="oninput"in document;if(!gx){var zf=document.createElement("div");zf.setAttribute("oninput","return;"),gx=typeof zf.oninput=="function"}fx=gx}else fx=!1;Nj=fx&&(!document.documentMode||9<document.documentMode)}function Lf(){_l&&(_l.detachEvent("onpropertychange",wj),Kl=_l=null)}function wj(s){if(s.propertyName==="value"&&au(Kl)){var t=[];vj(t,Kl,s,Sh(s)),sj(ik,t)}}function ok(s,t,r){s==="focusin"?(Lf(),_l=t,Kl=r,_l.attachEvent("onpropertychange",wj)):s==="focusout"&&Lf()}function ck(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return au(Kl)}function dk(s,t){if(s==="click")return au(t)}function uk(s,t){if(s==="input"||s==="change")return au(t)}function xk(s,t){return s===t&&(s!==0||1/s===1/t)||s!==s&&t!==t}var br=typeof Object.is=="function"?Object.is:xk;function Yl(s,t){if(br(s,t))return!0;if(typeof s!="object"||s===null||typeof t!="object"||t===null)return!1;var r=Object.keys(s),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var i=r[a];if(!Xx.call(t,i)||!br(s[i],t[i]))return!1}return!0}function Vf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ff(s,t){var r=Vf(s);s=0;for(var a;r;){if(r.nodeType===3){if(a=s+r.textContent.length,s<=t&&a>=t)return{node:r,offset:t-s};s=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vf(r)}}function kj(s,t){return s&&t?s===t?!0:s&&s.nodeType===3?!1:t&&t.nodeType===3?kj(s,t.parentNode):"contains"in s?s.contains(t):s.compareDocumentPosition?!!(s.compareDocumentPosition(t)&16):!1:!1}function Cj(){for(var s=window,t=sd();t instanceof s.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)s=t.contentWindow;else break;t=sd(s.document)}return t}function zh(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t&&(t==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||t==="textarea"||s.contentEditable==="true")}function mk(s){var t=Cj(),r=s.focusedElem,a=s.selectionRange;if(t!==r&&r&&r.ownerDocument&&kj(r.ownerDocument.documentElement,r)){if(a!==null&&zh(r)){if(t=a.start,s=a.end,s===void 0&&(s=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(s,r.value.length);else if(s=(t=r.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var i=r.textContent.length,o=Math.min(a.start,i);a=a.end===void 0?o:Math.min(a.end,i),!s.extend&&o>a&&(i=a,a=o,o=i),i=Ff(r,o);var l=Ff(r,a);i&&l&&(s.rangeCount!==1||s.anchorNode!==i.node||s.anchorOffset!==i.offset||s.focusNode!==l.node||s.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),s.removeAllRanges(),o>a?(s.addRange(t),s.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),s.addRange(t)))}}for(t=[],s=r;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)s=t[r],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var hk=ea&&"documentMode"in document&&11>=document.documentMode,ti=null,fm=null,Pl=null,gm=!1;function Bf(s,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gm||ti==null||ti!==sd(a)||(a=ti,"selectionStart"in a&&zh(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Pl&&Yl(Pl,a)||(Pl=a,a=cd(fm,"onSelect"),0<a.length&&(t=new Rh("onSelect","select",null,t,r),s.push({event:t,listeners:a}),t.target=ti)))}function mc(s,t){var r={};return r[s.toLowerCase()]=t.toLowerCase(),r["Webkit"+s]="webkit"+t,r["Moz"+s]="moz"+t,r}var si={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},yx={},Ej={};ea&&(Ej=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function nu(s){if(yx[s])return yx[s];if(!si[s])return s;var t=si[s],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ej)return yx[s]=t[r];return s}var Ij=nu("animationend"),Sj=nu("animationiteration"),_j=nu("animationstart"),Pj=nu("transitionend"),Tj=new Map,Uf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(s,t){Tj.set(s,t),An(t,[s])}for(var bx=0;bx<Uf.length;bx++){var jx=Uf[bx],pk=jx.toLowerCase(),fk=jx[0].toUpperCase()+jx.slice(1);en(pk,"on"+fk)}en(Ij,"onAnimationEnd");en(Sj,"onAnimationIteration");en(_j,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(Pj,"onTransitionEnd");Ni("onMouseEnter",["mouseout","mouseover"]);Ni("onMouseLeave",["mouseout","mouseover"]);Ni("onPointerEnter",["pointerout","pointerover"]);Ni("onPointerLeave",["pointerout","pointerover"]);An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));An("onBeforeInput",["compositionend","keypress","textInput","paste"]);An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gk=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function $f(s,t,r){var a=s.type||"unknown-event";s.currentTarget=r,p4(a,t,void 0,s),s.currentTarget=null}function Dj(s,t){t=(t&4)!==0;for(var r=0;r<s.length;r++){var a=s[r],i=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var l=a.length-1;0<=l;l--){var d=a[l],x=d.instance,p=d.currentTarget;if(d=d.listener,x!==o&&i.isPropagationStopped())break e;$f(i,d,p),o=x}else for(l=0;l<a.length;l++){if(d=a[l],x=d.instance,p=d.currentTarget,d=d.listener,x!==o&&i.isPropagationStopped())break e;$f(i,d,p),o=x}}}if(ad)throw s=xm,ad=!1,xm=null,s}function Rt(s,t){var r=t[Nm];r===void 0&&(r=t[Nm]=new Set);var a=s+"__bubble";r.has(a)||(Aj(t,s,2,!1),r.add(a))}function vx(s,t,r){var a=0;t&&(a|=4),Aj(r,s,a,t)}var hc="_reactListening"+Math.random().toString(36).slice(2);function Xl(s){if(!s[hc]){s[hc]=!0,Fb.forEach(function(r){r!=="selectionchange"&&(gk.has(r)||vx(r,!1,s),vx(r,!0,s))});var t=s.nodeType===9?s:s.ownerDocument;t===null||t[hc]||(t[hc]=!0,vx("selectionchange",!1,t))}}function Aj(s,t,r,a){switch(fj(t)){case 1:var i=T4;break;case 4:i=D4;break;default:i=Dh}r=i.bind(null,t,r,s),i=void 0,!um||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?s.addEventListener(t,r,{capture:!0,passive:i}):s.addEventListener(t,r,!0):i!==void 0?s.addEventListener(t,r,{passive:i}):s.addEventListener(t,r,!1)}function Nx(s,t,r,a,i){var o=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var d=a.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(l===4)for(l=a.return;l!==null;){var x=l.tag;if((x===3||x===4)&&(x=l.stateNode.containerInfo,x===i||x.nodeType===8&&x.parentNode===i))return;l=l.return}for(;d!==null;){if(l=mn(d),l===null)return;if(x=l.tag,x===5||x===6){a=o=l;continue e}d=d.parentNode}}a=a.return}sj(function(){var p=o,N=Sh(r),E=[];e:{var P=Tj.get(s);if(P!==void 0){var A=Rh,f=s;switch(s){case"keypress":if(Mc(r)===0)break e;case"keydown":case"keyup":A=H4;break;case"focusin":f="focus",A=px;break;case"focusout":f="blur",A=px;break;case"beforeblur":case"afterblur":A=px;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=M4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=Y4;break;case Ij:case Sj:case _j:A=L4;break;case Pj:A=J4;break;case"scroll":A=A4;break;case"wheel":A=ek;break;case"copy":case"cut":case"paste":A=F4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=Af}var L=(t&4)!==0,k=!L&&s==="scroll",_=L?P!==null?P+"Capture":null:P;L=[];for(var z=p,M;z!==null;){M=z;var Y=M.stateNode;if(M.tag===5&&Y!==null&&(M=Y,_!==null&&(Y=Wl(z,_),Y!=null&&L.push(Jl(z,Y,M)))),k)break;z=z.return}0<L.length&&(P=new A(P,f,null,r,N),E.push({event:P,listeners:L}))}}if(!(t&7)){e:{if(P=s==="mouseover"||s==="pointerover",A=s==="mouseout"||s==="pointerout",P&&r!==cm&&(f=r.relatedTarget||r.fromElement)&&(mn(f)||f[ta]))break e;if((A||P)&&(P=N.window===N?N:(P=N.ownerDocument)?P.defaultView||P.parentWindow:window,A?(f=r.relatedTarget||r.toElement,A=p,f=f?mn(f):null,f!==null&&(k=Rn(f),f!==k||f.tag!==5&&f.tag!==6)&&(f=null)):(A=null,f=p),A!==f)){if(L=Tf,Y="onMouseLeave",_="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(L=Af,Y="onPointerLeave",_="onPointerEnter",z="pointer"),k=A==null?P:ri(A),M=f==null?P:ri(f),P=new L(Y,z+"leave",A,r,N),P.target=k,P.relatedTarget=M,Y=null,mn(N)===p&&(L=new L(_,z+"enter",f,r,N),L.target=M,L.relatedTarget=k,Y=L),k=Y,A&&f)t:{for(L=A,_=f,z=0,M=L;M;M=Hn(M))z++;for(M=0,Y=_;Y;Y=Hn(Y))M++;for(;0<z-M;)L=Hn(L),z--;for(;0<M-z;)_=Hn(_),M--;for(;z--;){if(L===_||_!==null&&L===_.alternate)break t;L=Hn(L),_=Hn(_)}L=null}else L=null;A!==null&&qf(E,P,A,L,!1),f!==null&&k!==null&&qf(E,k,f,L,!0)}}e:{if(P=p?ri(p):window,A=P.nodeName&&P.nodeName.toLowerCase(),A==="select"||A==="input"&&P.type==="file")var G=lk;else if(Of(P))if(Nj)G=uk;else{G=ck;var W=ok}else(A=P.nodeName)&&A.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(G=dk);if(G&&(G=G(s,p))){vj(E,G,r,N);break e}W&&W(s,P,p),s==="focusout"&&(W=P._wrapperState)&&W.controlled&&P.type==="number"&&am(P,"number",P.value)}switch(W=p?ri(p):window,s){case"focusin":(Of(W)||W.contentEditable==="true")&&(ti=W,fm=p,Pl=null);break;case"focusout":Pl=fm=ti=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,Bf(E,r,N);break;case"selectionchange":if(hk)break;case"keydown":case"keyup":Bf(E,r,N)}var D;if(Oh)e:{switch(s){case"compositionstart":var c="onCompositionStart";break e;case"compositionend":c="onCompositionEnd";break e;case"compositionupdate":c="onCompositionUpdate";break e}c=void 0}else ei?bj(s,r)&&(c="onCompositionEnd"):s==="keydown"&&r.keyCode===229&&(c="onCompositionStart");c&&(yj&&r.locale!=="ko"&&(ei||c!=="onCompositionStart"?c==="onCompositionEnd"&&ei&&(D=gj()):(Sa=N,Ah="value"in Sa?Sa.value:Sa.textContent,ei=!0)),W=cd(p,c),0<W.length&&(c=new Df(c,s,null,r,N),E.push({event:c,listeners:W}),D?c.data=D:(D=jj(r),D!==null&&(c.data=D)))),(D=sk?rk(s,r):ak(s,r))&&(p=cd(p,"onBeforeInput"),0<p.length&&(N=new Df("onBeforeInput","beforeinput",null,r,N),E.push({event:N,listeners:p}),N.data=D))}Dj(E,t)})}function Jl(s,t,r){return{instance:s,listener:t,currentTarget:r}}function cd(s,t){for(var r=t+"Capture",a=[];s!==null;){var i=s,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Wl(s,r),o!=null&&a.unshift(Jl(s,o,i)),o=Wl(s,t),o!=null&&a.push(Jl(s,o,i))),s=s.return}return a}function Hn(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function qf(s,t,r,a,i){for(var o=t._reactName,l=[];r!==null&&r!==a;){var d=r,x=d.alternate,p=d.stateNode;if(x!==null&&x===a)break;d.tag===5&&p!==null&&(d=p,i?(x=Wl(r,o),x!=null&&l.unshift(Jl(r,x,d))):i||(x=Wl(r,o),x!=null&&l.push(Jl(r,x,d)))),r=r.return}l.length!==0&&s.push({event:t,listeners:l})}var yk=/\r\n?/g,bk=/\u0000|\uFFFD/g;function Wf(s){return(typeof s=="string"?s:""+s).replace(yk,`
`).replace(bk,"")}function pc(s,t,r){if(t=Wf(t),Wf(s)!==t&&r)throw Error(ke(425))}function dd(){}var ym=null,bm=null;function jm(s,t){return s==="textarea"||s==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,jk=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,vk=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf<"u"?function(s){return Gf.resolve(null).then(s).catch(Nk)}:vm;function Nk(s){setTimeout(function(){throw s})}function wx(s,t){var r=t,a=0;do{var i=r.nextSibling;if(s.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(a===0){s.removeChild(i),Ql(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=i}while(r);Ql(t)}function Oa(s){for(;s!=null;s=s.nextSibling){var t=s.nodeType;if(t===1||t===3)break;if(t===8){if(t=s.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return s}function Hf(s){s=s.previousSibling;for(var t=0;s;){if(s.nodeType===8){var r=s.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return s;t--}else r==="/$"&&t++}s=s.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Vi,Zl="__reactProps$"+Vi,ta="__reactContainer$"+Vi,Nm="__reactEvents$"+Vi,wk="__reactListeners$"+Vi,kk="__reactHandles$"+Vi;function mn(s){var t=s[Sr];if(t)return t;for(var r=s.parentNode;r;){if(t=r[ta]||r[Sr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(s=Hf(s);s!==null;){if(r=s[Sr])return r;s=Hf(s)}return t}s=r,r=s.parentNode}return null}function ko(s){return s=s[Sr]||s[ta],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ri(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(ke(33))}function iu(s){return s[Zl]||null}var wm=[],ai=-1;function tn(s){return{current:s}}function Mt(s){0>ai||(s.current=wm[ai],wm[ai]=null,ai--)}function Pt(s,t){ai++,wm[ai]=s.current,s.current=t}var Ga={},Cs=tn(Ga),Ls=tn(!1),vn=Ga;function wi(s,t){var r=s.type.contextTypes;if(!r)return Ga;var a=s.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=t,s.__reactInternalMemoizedMaskedChildContext=i),i}function Vs(s){return s=s.childContextTypes,s!=null}function ud(){Mt(Ls),Mt(Cs)}function Qf(s,t,r){if(Cs.current!==Ga)throw Error(ke(168));Pt(Cs,t),Pt(Ls,r)}function Rj(s,t,r){var a=s.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var i in a)if(!(i in t))throw Error(ke(108,o4(s)||"Unknown",i));return Bt({},r,a)}function xd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ga,vn=Cs.current,Pt(Cs,s),Pt(Ls,Ls.current),!0}function Kf(s,t,r){var a=s.stateNode;if(!a)throw Error(ke(169));r?(s=Rj(s,t,vn),a.__reactInternalMemoizedMergedChildContext=s,Mt(Ls),Mt(Cs),Pt(Cs,s)):Mt(Ls),Pt(Ls,r)}var Gr=null,lu=!1,kx=!1;function Mj(s){Gr===null?Gr=[s]:Gr.push(s)}function Ck(s){lu=!0,Mj(s)}function sn(){if(!kx&&Gr!==null){kx=!0;var s=0,t=Ct;try{var r=Gr;for(Ct=1;s<r.length;s++){var a=r[s];do a=a(!0);while(a!==null)}Gr=null,lu=!1}catch(i){throw Gr!==null&&(Gr=Gr.slice(s+1)),ij(_h,sn),i}finally{Ct=t,kx=!1}}return null}var ni=[],ii=0,md=null,hd=0,tr=[],sr=0,Nn=null,Hr=1,Qr="";function dn(s,t){ni[ii++]=hd,ni[ii++]=md,md=s,hd=t}function Oj(s,t,r){tr[sr++]=Hr,tr[sr++]=Qr,tr[sr++]=Nn,Nn=s;var a=Hr;s=Qr;var i=32-gr(a)-1;a&=~(1<<i),r+=1;var o=32-gr(t)+i;if(30<o){var l=i-i%5;o=(a&(1<<l)-1).toString(32),a>>=l,i-=l,Hr=1<<32-gr(t)+i|r<<i|a,Qr=o+s}else Hr=1<<o|r<<i|a,Qr=s}function Lh(s){s.return!==null&&(dn(s,1),Oj(s,1,0))}function Vh(s){for(;s===md;)md=ni[--ii],ni[ii]=null,hd=ni[--ii],ni[ii]=null;for(;s===Nn;)Nn=tr[--sr],tr[sr]=null,Qr=tr[--sr],tr[sr]=null,Hr=tr[--sr],tr[sr]=null}var Qs=null,Gs=null,Ot=!1,hr=null;function zj(s,t){var r=rr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=s,t=s.deletions,t===null?(s.deletions=[r],s.flags|=16):t.push(r)}function Yf(s,t){switch(s.tag){case 5:var r=s.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(s.stateNode=t,Qs=s,Gs=Oa(t.firstChild),!0):!1;case 6:return t=s.pendingProps===""||t.nodeType!==3?null:t,t!==null?(s.stateNode=t,Qs=s,Gs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nn!==null?{id:Hr,overflow:Qr}:null,s.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rr(18,null,null,0),r.stateNode=t,r.return=s,s.child=r,Qs=s,Gs=null,!0):!1;default:return!1}}function km(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Cm(s){if(Ot){var t=Gs;if(t){var r=t;if(!Yf(s,t)){if(km(s))throw Error(ke(418));t=Oa(r.nextSibling);var a=Qs;t&&Yf(s,t)?zj(a,r):(s.flags=s.flags&-4097|2,Ot=!1,Qs=s)}}else{if(km(s))throw Error(ke(418));s.flags=s.flags&-4097|2,Ot=!1,Qs=s}}}function Xf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Qs=s}function fc(s){if(s!==Qs)return!1;if(!Ot)return Xf(s),Ot=!0,!1;var t;if((t=s.tag!==3)&&!(t=s.tag!==5)&&(t=s.type,t=t!=="head"&&t!=="body"&&!jm(s.type,s.memoizedProps)),t&&(t=Gs)){if(km(s))throw Lj(),Error(ke(418));for(;t;)zj(s,t),t=Oa(t.nextSibling)}if(Xf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ke(317));e:{for(s=s.nextSibling,t=0;s;){if(s.nodeType===8){var r=s.data;if(r==="/$"){if(t===0){Gs=Oa(s.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}s=s.nextSibling}Gs=null}}else Gs=Qs?Oa(s.stateNode.nextSibling):null;return!0}function Lj(){for(var s=Gs;s;)s=Oa(s.nextSibling)}function ki(){Gs=Qs=null,Ot=!1}function Fh(s){hr===null?hr=[s]:hr.push(s)}var Ek=ca.ReactCurrentBatchConfig;function dl(s,t,r){if(s=r.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ke(309));var a=r.stateNode}if(!a)throw Error(ke(147,s));var i=a,o=""+s;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var d=i.refs;l===null?delete d[o]:d[o]=l},t._stringRef=o,t)}if(typeof s!="string")throw Error(ke(284));if(!r._owner)throw Error(ke(290,s))}return s}function gc(s,t){throw s=Object.prototype.toString.call(t),Error(ke(31,s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s))}function Jf(s){var t=s._init;return t(s._payload)}function Vj(s){function t(_,z){if(s){var M=_.deletions;M===null?(_.deletions=[z],_.flags|=16):M.push(z)}}function r(_,z){if(!s)return null;for(;z!==null;)t(_,z),z=z.sibling;return null}function a(_,z){for(_=new Map;z!==null;)z.key!==null?_.set(z.key,z):_.set(z.index,z),z=z.sibling;return _}function i(_,z){return _=Fa(_,z),_.index=0,_.sibling=null,_}function o(_,z,M){return _.index=M,s?(M=_.alternate,M!==null?(M=M.index,M<z?(_.flags|=2,z):M):(_.flags|=2,z)):(_.flags|=1048576,z)}function l(_){return s&&_.alternate===null&&(_.flags|=2),_}function d(_,z,M,Y){return z===null||z.tag!==6?(z=Tx(M,_.mode,Y),z.return=_,z):(z=i(z,M),z.return=_,z)}function x(_,z,M,Y){var G=M.type;return G===Zn?N(_,z,M.props.children,Y,M.key):z!==null&&(z.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===ja&&Jf(G)===z.type)?(Y=i(z,M.props),Y.ref=dl(_,z,M),Y.return=_,Y):(Y=Uc(M.type,M.key,M.props,null,_.mode,Y),Y.ref=dl(_,z,M),Y.return=_,Y)}function p(_,z,M,Y){return z===null||z.tag!==4||z.stateNode.containerInfo!==M.containerInfo||z.stateNode.implementation!==M.implementation?(z=Dx(M,_.mode,Y),z.return=_,z):(z=i(z,M.children||[]),z.return=_,z)}function N(_,z,M,Y,G){return z===null||z.tag!==7?(z=bn(M,_.mode,Y,G),z.return=_,z):(z=i(z,M),z.return=_,z)}function E(_,z,M){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Tx(""+z,_.mode,M),z.return=_,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ic:return M=Uc(z.type,z.key,z.props,null,_.mode,M),M.ref=dl(_,null,z),M.return=_,M;case Jn:return z=Dx(z,_.mode,M),z.return=_,z;case ja:var Y=z._init;return E(_,Y(z._payload),M)}if(gl(z)||nl(z))return z=bn(z,_.mode,M,null),z.return=_,z;gc(_,z)}return null}function P(_,z,M,Y){var G=z!==null?z.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return G!==null?null:d(_,z,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ic:return M.key===G?x(_,z,M,Y):null;case Jn:return M.key===G?p(_,z,M,Y):null;case ja:return G=M._init,P(_,z,G(M._payload),Y)}if(gl(M)||nl(M))return G!==null?null:N(_,z,M,Y,null);gc(_,M)}return null}function A(_,z,M,Y,G){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return _=_.get(M)||null,d(z,_,""+Y,G);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case ic:return _=_.get(Y.key===null?M:Y.key)||null,x(z,_,Y,G);case Jn:return _=_.get(Y.key===null?M:Y.key)||null,p(z,_,Y,G);case ja:var W=Y._init;return A(_,z,M,W(Y._payload),G)}if(gl(Y)||nl(Y))return _=_.get(M)||null,N(z,_,Y,G,null);gc(z,Y)}return null}function f(_,z,M,Y){for(var G=null,W=null,D=z,c=z=0,F=null;D!==null&&c<M.length;c++){D.index>c?(F=D,D=null):F=D.sibling;var V=P(_,D,M[c],Y);if(V===null){D===null&&(D=F);break}s&&D&&V.alternate===null&&t(_,D),z=o(V,z,c),W===null?G=V:W.sibling=V,W=V,D=F}if(c===M.length)return r(_,D),Ot&&dn(_,c),G;if(D===null){for(;c<M.length;c++)D=E(_,M[c],Y),D!==null&&(z=o(D,z,c),W===null?G=D:W.sibling=D,W=D);return Ot&&dn(_,c),G}for(D=a(_,D);c<M.length;c++)F=A(D,_,c,M[c],Y),F!==null&&(s&&F.alternate!==null&&D.delete(F.key===null?c:F.key),z=o(F,z,c),W===null?G=F:W.sibling=F,W=F);return s&&D.forEach(function(H){return t(_,H)}),Ot&&dn(_,c),G}function L(_,z,M,Y){var G=nl(M);if(typeof G!="function")throw Error(ke(150));if(M=G.call(M),M==null)throw Error(ke(151));for(var W=G=null,D=z,c=z=0,F=null,V=M.next();D!==null&&!V.done;c++,V=M.next()){D.index>c?(F=D,D=null):F=D.sibling;var H=P(_,D,V.value,Y);if(H===null){D===null&&(D=F);break}s&&D&&H.alternate===null&&t(_,D),z=o(H,z,c),W===null?G=H:W.sibling=H,W=H,D=F}if(V.done)return r(_,D),Ot&&dn(_,c),G;if(D===null){for(;!V.done;c++,V=M.next())V=E(_,V.value,Y),V!==null&&(z=o(V,z,c),W===null?G=V:W.sibling=V,W=V);return Ot&&dn(_,c),G}for(D=a(_,D);!V.done;c++,V=M.next())V=A(D,_,c,V.value,Y),V!==null&&(s&&V.alternate!==null&&D.delete(V.key===null?c:V.key),z=o(V,z,c),W===null?G=V:W.sibling=V,W=V);return s&&D.forEach(function(I){return t(_,I)}),Ot&&dn(_,c),G}function k(_,z,M,Y){if(typeof M=="object"&&M!==null&&M.type===Zn&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case ic:e:{for(var G=M.key,W=z;W!==null;){if(W.key===G){if(G=M.type,G===Zn){if(W.tag===7){r(_,W.sibling),z=i(W,M.props.children),z.return=_,_=z;break e}}else if(W.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===ja&&Jf(G)===W.type){r(_,W.sibling),z=i(W,M.props),z.ref=dl(_,W,M),z.return=_,_=z;break e}r(_,W);break}else t(_,W);W=W.sibling}M.type===Zn?(z=bn(M.props.children,_.mode,Y,M.key),z.return=_,_=z):(Y=Uc(M.type,M.key,M.props,null,_.mode,Y),Y.ref=dl(_,z,M),Y.return=_,_=Y)}return l(_);case Jn:e:{for(W=M.key;z!==null;){if(z.key===W)if(z.tag===4&&z.stateNode.containerInfo===M.containerInfo&&z.stateNode.implementation===M.implementation){r(_,z.sibling),z=i(z,M.children||[]),z.return=_,_=z;break e}else{r(_,z);break}else t(_,z);z=z.sibling}z=Dx(M,_.mode,Y),z.return=_,_=z}return l(_);case ja:return W=M._init,k(_,z,W(M._payload),Y)}if(gl(M))return f(_,z,M,Y);if(nl(M))return L(_,z,M,Y);gc(_,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,z!==null&&z.tag===6?(r(_,z.sibling),z=i(z,M),z.return=_,_=z):(r(_,z),z=Tx(M,_.mode,Y),z.return=_,_=z),l(_)):r(_,z)}return k}var Ci=Vj(!0),Fj=Vj(!1),pd=tn(null),fd=null,li=null,Bh=null;function Uh(){Bh=li=fd=null}function $h(s){var t=pd.current;Mt(pd),s._currentValue=t}function Em(s,t,r){for(;s!==null;){var a=s.alternate;if((s.childLanes&t)!==t?(s.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),s===r)break;s=s.return}}function fi(s,t){fd=s,Bh=li=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&t&&(zs=!0),s.firstContext=null)}function nr(s){var t=s._currentValue;if(Bh!==s)if(s={context:s,memoizedValue:t,next:null},li===null){if(fd===null)throw Error(ke(308));li=s,fd.dependencies={lanes:0,firstContext:s}}else li=li.next=s;return t}var hn=null;function qh(s){hn===null?hn=[s]:hn.push(s)}function Bj(s,t,r,a){var i=t.interleaved;return i===null?(r.next=r,qh(t)):(r.next=i.next,i.next=r),t.interleaved=r,sa(s,a)}function sa(s,t){s.lanes|=t;var r=s.alternate;for(r!==null&&(r.lanes|=t),r=s,s=s.return;s!==null;)s.childLanes|=t,r=s.alternate,r!==null&&(r.childLanes|=t),r=s,s=s.return;return r.tag===3?r.stateNode:null}var va=!1;function Wh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uj(s,t){s=s.updateQueue,t.updateQueue===s&&(t.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Xr(s,t){return{eventTime:s,lane:t,tag:0,payload:null,callback:null,next:null}}function za(s,t,r){var a=s.updateQueue;if(a===null)return null;if(a=a.shared,vt&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,sa(s,r)}return i=a.interleaved,i===null?(t.next=t,qh(a)):(t.next=i.next,i.next=t),a.interleaved=t,sa(s,r)}function Oc(s,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=s.pendingLanes,r|=a,t.lanes=r,Ph(s,r)}}function Zf(s,t){var r=s.updateQueue,a=s.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:a.shared,effects:a.effects},s.updateQueue=r;return}s=r.lastBaseUpdate,s===null?r.firstBaseUpdate=t:s.next=t,r.lastBaseUpdate=t}function gd(s,t,r,a){var i=s.updateQueue;va=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var x=d,p=x.next;x.next=null,l===null?o=p:l.next=p,l=x;var N=s.alternate;N!==null&&(N=N.updateQueue,d=N.lastBaseUpdate,d!==l&&(d===null?N.firstBaseUpdate=p:d.next=p,N.lastBaseUpdate=x))}if(o!==null){var E=i.baseState;l=0,N=p=x=null,d=o;do{var P=d.lane,A=d.eventTime;if((a&P)===P){N!==null&&(N=N.next={eventTime:A,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var f=s,L=d;switch(P=t,A=r,L.tag){case 1:if(f=L.payload,typeof f=="function"){E=f.call(A,E,P);break e}E=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=L.payload,P=typeof f=="function"?f.call(A,E,P):f,P==null)break e;E=Bt({},E,P);break e;case 2:va=!0}}d.callback!==null&&d.lane!==0&&(s.flags|=64,P=i.effects,P===null?i.effects=[d]:P.push(d))}else A={eventTime:A,lane:P,tag:d.tag,payload:d.payload,callback:d.callback,next:null},N===null?(p=N=A,x=E):N=N.next=A,l|=P;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;P=d,d=P.next,P.next=null,i.lastBaseUpdate=P,i.shared.pending=null}}while(1);if(N===null&&(x=E),i.baseState=x,i.firstBaseUpdate=p,i.lastBaseUpdate=N,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);kn|=l,s.lanes=l,s.memoizedState=E}}function eg(s,t,r){if(s=t.effects,t.effects=null,s!==null)for(t=0;t<s.length;t++){var a=s[t],i=a.callback;if(i!==null){if(a.callback=null,a=r,typeof i!="function")throw Error(ke(191,i));i.call(a)}}}var Co={},Tr=tn(Co),eo=tn(Co),to=tn(Co);function pn(s){if(s===Co)throw Error(ke(174));return s}function Gh(s,t){switch(Pt(to,t),Pt(eo,s),Pt(Tr,Co),s=t.nodeType,s){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:im(null,"");break;default:s=s===8?t.parentNode:t,t=s.namespaceURI||null,s=s.tagName,t=im(t,s)}Mt(Tr),Pt(Tr,t)}function Ei(){Mt(Tr),Mt(eo),Mt(to)}function $j(s){pn(to.current);var t=pn(Tr.current),r=im(t,s.type);t!==r&&(Pt(eo,s),Pt(Tr,r))}function Hh(s){eo.current===s&&(Mt(Tr),Mt(eo))}var Lt=tn(0);function yd(s){for(var t=s;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cx=[];function Qh(){for(var s=0;s<Cx.length;s++)Cx[s]._workInProgressVersionPrimary=null;Cx.length=0}var zc=ca.ReactCurrentDispatcher,Ex=ca.ReactCurrentBatchConfig,wn=0,Vt=null,es=null,ns=null,bd=!1,Tl=!1,so=0,Ik=0;function bs(){throw Error(ke(321))}function Kh(s,t){if(t===null)return!1;for(var r=0;r<t.length&&r<s.length;r++)if(!br(s[r],t[r]))return!1;return!0}function Yh(s,t,r,a,i,o){if(wn=o,Vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zc.current=s===null||s.memoizedState===null?Tk:Dk,s=r(a,i),Tl){o=0;do{if(Tl=!1,so=0,25<=o)throw Error(ke(301));o+=1,ns=es=null,t.updateQueue=null,zc.current=Ak,s=r(a,i)}while(Tl)}if(zc.current=jd,t=es!==null&&es.next!==null,wn=0,ns=es=Vt=null,bd=!1,t)throw Error(ke(300));return s}function Xh(){var s=so!==0;return so=0,s}function Er(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ns===null?Vt.memoizedState=ns=s:ns=ns.next=s,ns}function ir(){if(es===null){var s=Vt.alternate;s=s!==null?s.memoizedState:null}else s=es.next;var t=ns===null?Vt.memoizedState:ns.next;if(t!==null)ns=t,es=s;else{if(s===null)throw Error(ke(310));es=s,s={memoizedState:es.memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},ns===null?Vt.memoizedState=ns=s:ns=ns.next=s}return ns}function ro(s,t){return typeof t=="function"?t(s):t}function Ix(s){var t=ir(),r=t.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=s;var a=es,i=a.baseQueue,o=r.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}a.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,a=a.baseState;var d=l=null,x=null,p=o;do{var N=p.lane;if((wn&N)===N)x!==null&&(x=x.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),a=p.hasEagerState?p.eagerState:s(a,p.action);else{var E={lane:N,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};x===null?(d=x=E,l=a):x=x.next=E,Vt.lanes|=N,kn|=N}p=p.next}while(p!==null&&p!==o);x===null?l=a:x.next=d,br(a,t.memoizedState)||(zs=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=x,r.lastRenderedState=a}if(s=r.interleaved,s!==null){i=s;do o=i.lane,Vt.lanes|=o,kn|=o,i=i.next;while(i!==s)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Sx(s){var t=ir(),r=t.queue;if(r===null)throw Error(ke(311));r.lastRenderedReducer=s;var a=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do o=s(o,l.action),l=l.next;while(l!==i);br(o,t.memoizedState)||(zs=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,a]}function qj(){}function Wj(s,t){var r=Vt,a=ir(),i=t(),o=!br(a.memoizedState,i);if(o&&(a.memoizedState=i,zs=!0),a=a.queue,Jh(Qj.bind(null,r,a,s),[s]),a.getSnapshot!==t||o||ns!==null&&ns.memoizedState.tag&1){if(r.flags|=2048,ao(9,Hj.bind(null,r,a,i,t),void 0,null),ls===null)throw Error(ke(349));wn&30||Gj(r,t,i)}return i}function Gj(s,t,r){s.flags|=16384,s={getSnapshot:t,value:r},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.stores=[s]):(r=t.stores,r===null?t.stores=[s]:r.push(s))}function Hj(s,t,r,a){t.value=r,t.getSnapshot=a,Kj(t)&&Yj(s)}function Qj(s,t,r){return r(function(){Kj(t)&&Yj(s)})}function Kj(s){var t=s.getSnapshot;s=s.value;try{var r=t();return!br(s,r)}catch{return!0}}function Yj(s){var t=sa(s,1);t!==null&&yr(t,s,1,-1)}function tg(s){var t=Er();return typeof s=="function"&&(s=s()),t.memoizedState=t.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:s},t.queue=s,s=s.dispatch=Pk.bind(null,Vt,s),[t.memoizedState,s]}function ao(s,t,r,a){return s={tag:s,create:t,destroy:r,deps:a,next:null},t=Vt.updateQueue,t===null?(t={lastEffect:null,stores:null},Vt.updateQueue=t,t.lastEffect=s.next=s):(r=t.lastEffect,r===null?t.lastEffect=s.next=s:(a=r.next,r.next=s,s.next=a,t.lastEffect=s)),s}function Xj(){return ir().memoizedState}function Lc(s,t,r,a){var i=Er();Vt.flags|=s,i.memoizedState=ao(1|t,r,void 0,a===void 0?null:a)}function ou(s,t,r,a){var i=ir();a=a===void 0?null:a;var o=void 0;if(es!==null){var l=es.memoizedState;if(o=l.destroy,a!==null&&Kh(a,l.deps)){i.memoizedState=ao(t,r,o,a);return}}Vt.flags|=s,i.memoizedState=ao(1|t,r,o,a)}function sg(s,t){return Lc(8390656,8,s,t)}function Jh(s,t){return ou(2048,8,s,t)}function Jj(s,t){return ou(4,2,s,t)}function Zj(s,t){return ou(4,4,s,t)}function ev(s,t){if(typeof t=="function")return s=s(),t(s),function(){t(null)};if(t!=null)return s=s(),t.current=s,function(){t.current=null}}function tv(s,t,r){return r=r!=null?r.concat([s]):null,ou(4,4,ev.bind(null,t,s),r)}function Zh(){}function sv(s,t){var r=ir();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Kh(t,a[1])?a[0]:(r.memoizedState=[s,t],s)}function rv(s,t){var r=ir();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Kh(t,a[1])?a[0]:(s=s(),r.memoizedState=[s,t],s)}function av(s,t,r){return wn&21?(br(r,t)||(r=cj(),Vt.lanes|=r,kn|=r,s.baseState=!0),t):(s.baseState&&(s.baseState=!1,zs=!0),s.memoizedState=r)}function Sk(s,t){var r=Ct;Ct=r!==0&&4>r?r:4,s(!0);var a=Ex.transition;Ex.transition={};try{s(!1),t()}finally{Ct=r,Ex.transition=a}}function nv(){return ir().memoizedState}function _k(s,t,r){var a=Va(s);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},iv(s))lv(t,r);else if(r=Bj(s,t,r,a),r!==null){var i=Ps();yr(r,s,a,i),ov(r,t,a)}}function Pk(s,t,r){var a=Va(s),i={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(iv(s))lv(t,i);else{var o=s.alternate;if(s.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,d=o(l,r);if(i.hasEagerState=!0,i.eagerState=d,br(d,l)){var x=t.interleaved;x===null?(i.next=i,qh(t)):(i.next=x.next,x.next=i),t.interleaved=i;return}}catch{}finally{}r=Bj(s,t,i,a),r!==null&&(i=Ps(),yr(r,s,a,i),ov(r,t,a))}}function iv(s){var t=s.alternate;return s===Vt||t!==null&&t===Vt}function lv(s,t){Tl=bd=!0;var r=s.pending;r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t}function ov(s,t,r){if(r&4194240){var a=t.lanes;a&=s.pendingLanes,r|=a,t.lanes=r,Ph(s,r)}}var jd={readContext:nr,useCallback:bs,useContext:bs,useEffect:bs,useImperativeHandle:bs,useInsertionEffect:bs,useLayoutEffect:bs,useMemo:bs,useReducer:bs,useRef:bs,useState:bs,useDebugValue:bs,useDeferredValue:bs,useTransition:bs,useMutableSource:bs,useSyncExternalStore:bs,useId:bs,unstable_isNewReconciler:!1},Tk={readContext:nr,useCallback:function(s,t){return Er().memoizedState=[s,t===void 0?null:t],s},useContext:nr,useEffect:sg,useImperativeHandle:function(s,t,r){return r=r!=null?r.concat([s]):null,Lc(4194308,4,ev.bind(null,t,s),r)},useLayoutEffect:function(s,t){return Lc(4194308,4,s,t)},useInsertionEffect:function(s,t){return Lc(4,2,s,t)},useMemo:function(s,t){var r=Er();return t=t===void 0?null:t,s=s(),r.memoizedState=[s,t],s},useReducer:function(s,t,r){var a=Er();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:t},a.queue=s,s=s.dispatch=_k.bind(null,Vt,s),[a.memoizedState,s]},useRef:function(s){var t=Er();return s={current:s},t.memoizedState=s},useState:tg,useDebugValue:Zh,useDeferredValue:function(s){return Er().memoizedState=s},useTransition:function(){var s=tg(!1),t=s[0];return s=Sk.bind(null,s[1]),Er().memoizedState=s,[t,s]},useMutableSource:function(){},useSyncExternalStore:function(s,t,r){var a=Vt,i=Er();if(Ot){if(r===void 0)throw Error(ke(407));r=r()}else{if(r=t(),ls===null)throw Error(ke(349));wn&30||Gj(a,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,sg(Qj.bind(null,a,o,s),[s]),a.flags|=2048,ao(9,Hj.bind(null,a,o,r,t),void 0,null),r},useId:function(){var s=Er(),t=ls.identifierPrefix;if(Ot){var r=Qr,a=Hr;r=(a&~(1<<32-gr(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=so++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ik++,t=":"+t+"r"+r.toString(32)+":";return s.memoizedState=t},unstable_isNewReconciler:!1},Dk={readContext:nr,useCallback:sv,useContext:nr,useEffect:Jh,useImperativeHandle:tv,useInsertionEffect:Jj,useLayoutEffect:Zj,useMemo:rv,useReducer:Ix,useRef:Xj,useState:function(){return Ix(ro)},useDebugValue:Zh,useDeferredValue:function(s){var t=ir();return av(t,es.memoizedState,s)},useTransition:function(){var s=Ix(ro)[0],t=ir().memoizedState;return[s,t]},useMutableSource:qj,useSyncExternalStore:Wj,useId:nv,unstable_isNewReconciler:!1},Ak={readContext:nr,useCallback:sv,useContext:nr,useEffect:Jh,useImperativeHandle:tv,useInsertionEffect:Jj,useLayoutEffect:Zj,useMemo:rv,useReducer:Sx,useRef:Xj,useState:function(){return Sx(ro)},useDebugValue:Zh,useDeferredValue:function(s){var t=ir();return es===null?t.memoizedState=s:av(t,es.memoizedState,s)},useTransition:function(){var s=Sx(ro)[0],t=ir().memoizedState;return[s,t]},useMutableSource:qj,useSyncExternalStore:Wj,useId:nv,unstable_isNewReconciler:!1};function xr(s,t){if(s&&s.defaultProps){t=Bt({},t),s=s.defaultProps;for(var r in s)t[r]===void 0&&(t[r]=s[r]);return t}return t}function Im(s,t,r,a){t=s.memoizedState,r=r(a,t),r=r==null?t:Bt({},t,r),s.memoizedState=r,s.lanes===0&&(s.updateQueue.baseState=r)}var cu={isMounted:function(s){return(s=s._reactInternals)?Rn(s)===s:!1},enqueueSetState:function(s,t,r){s=s._reactInternals;var a=Ps(),i=Va(s),o=Xr(a,i);o.payload=t,r!=null&&(o.callback=r),t=za(s,o,i),t!==null&&(yr(t,s,i,a),Oc(t,s,i))},enqueueReplaceState:function(s,t,r){s=s._reactInternals;var a=Ps(),i=Va(s),o=Xr(a,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=za(s,o,i),t!==null&&(yr(t,s,i,a),Oc(t,s,i))},enqueueForceUpdate:function(s,t){s=s._reactInternals;var r=Ps(),a=Va(s),i=Xr(r,a);i.tag=2,t!=null&&(i.callback=t),t=za(s,i,a),t!==null&&(yr(t,s,a,r),Oc(t,s,a))}};function rg(s,t,r,a,i,o,l){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(a,o,l):t.prototype&&t.prototype.isPureReactComponent?!Yl(r,a)||!Yl(i,o):!0}function cv(s,t,r){var a=!1,i=Ga,o=t.contextType;return typeof o=="object"&&o!==null?o=nr(o):(i=Vs(t)?vn:Cs.current,a=t.contextTypes,o=(a=a!=null)?wi(s,i):Ga),t=new t(r,o),s.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cu,s.stateNode=t,t._reactInternals=s,a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=o),t}function ag(s,t,r,a){s=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==s&&cu.enqueueReplaceState(t,t.state,null)}function Sm(s,t,r,a){var i=s.stateNode;i.props=r,i.state=s.memoizedState,i.refs={},Wh(s);var o=t.contextType;typeof o=="object"&&o!==null?i.context=nr(o):(o=Vs(t)?vn:Cs.current,i.context=wi(s,o)),i.state=s.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Im(s,t,o,r),i.state=s.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cu.enqueueReplaceState(i,i.state,null),gd(s,r,i,a),i.state=s.memoizedState),typeof i.componentDidMount=="function"&&(s.flags|=4194308)}function Ii(s,t){try{var r="",a=t;do r+=l4(a),a=a.return;while(a);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:s,source:t,stack:i,digest:null}}function _x(s,t,r){return{value:s,source:null,stack:r??null,digest:t??null}}function _m(s,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Rk=typeof WeakMap=="function"?WeakMap:Map;function dv(s,t,r){r=Xr(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Nd||(Nd=!0,Vm=a),_m(s,t)},r}function uv(s,t,r){r=Xr(-1,r),r.tag=3;var a=s.type.getDerivedStateFromError;if(typeof a=="function"){var i=t.value;r.payload=function(){return a(i)},r.callback=function(){_m(s,t)}}var o=s.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){_m(s,t),typeof a!="function"&&(La===null?La=new Set([this]):La.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function ng(s,t,r){var a=s.pingCache;if(a===null){a=s.pingCache=new Rk;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(r)||(i.add(r),s=Qk.bind(null,s,t,r),t.then(s,s))}function ig(s){do{var t;if((t=s.tag===13)&&(t=s.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return s;s=s.return}while(s!==null);return null}function lg(s,t,r,a,i){return s.mode&1?(s.flags|=65536,s.lanes=i,s):(s===t?s.flags|=65536:(s.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xr(-1,1),t.tag=2,za(r,t,1))),r.lanes|=1),s)}var Mk=ca.ReactCurrentOwner,zs=!1;function Ss(s,t,r,a){t.child=s===null?Fj(t,null,r,a):Ci(t,s.child,r,a)}function og(s,t,r,a,i){r=r.render;var o=t.ref;return fi(t,i),a=Yh(s,t,r,a,o,i),r=Xh(),s!==null&&!zs?(t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~i,ra(s,t,i)):(Ot&&r&&Lh(t),t.flags|=1,Ss(s,t,a,i),t.child)}function cg(s,t,r,a,i){if(s===null){var o=r.type;return typeof o=="function"&&!l0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,xv(s,t,o,a,i)):(s=Uc(r.type,null,a,t,t.mode,i),s.ref=t.ref,s.return=t,t.child=s)}if(o=s.child,!(s.lanes&i)){var l=o.memoizedProps;if(r=r.compare,r=r!==null?r:Yl,r(l,a)&&s.ref===t.ref)return ra(s,t,i)}return t.flags|=1,s=Fa(o,a),s.ref=t.ref,s.return=t,t.child=s}function xv(s,t,r,a,i){if(s!==null){var o=s.memoizedProps;if(Yl(o,a)&&s.ref===t.ref)if(zs=!1,t.pendingProps=a=o,(s.lanes&i)!==0)s.flags&131072&&(zs=!0);else return t.lanes=s.lanes,ra(s,t,i)}return Pm(s,t,r,a,i)}function mv(s,t,r){var a=t.pendingProps,i=a.children,o=s!==null?s.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(ci,qs),qs|=r;else{if(!(r&1073741824))return s=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:s,cachePool:null,transitions:null},t.updateQueue=null,Pt(ci,qs),qs|=s,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=o!==null?o.baseLanes:r,Pt(ci,qs),qs|=a}else o!==null?(a=o.baseLanes|r,t.memoizedState=null):a=r,Pt(ci,qs),qs|=a;return Ss(s,t,i,r),t.child}function hv(s,t){var r=t.ref;(s===null&&r!==null||s!==null&&s.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Pm(s,t,r,a,i){var o=Vs(r)?vn:Cs.current;return o=wi(t,o),fi(t,i),r=Yh(s,t,r,a,o,i),a=Xh(),s!==null&&!zs?(t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~i,ra(s,t,i)):(Ot&&a&&Lh(t),t.flags|=1,Ss(s,t,r,i),t.child)}function dg(s,t,r,a,i){if(Vs(r)){var o=!0;xd(t)}else o=!1;if(fi(t,i),t.stateNode===null)Vc(s,t),cv(t,r,a),Sm(t,r,a,i),a=!0;else if(s===null){var l=t.stateNode,d=t.memoizedProps;l.props=d;var x=l.context,p=r.contextType;typeof p=="object"&&p!==null?p=nr(p):(p=Vs(r)?vn:Cs.current,p=wi(t,p));var N=r.getDerivedStateFromProps,E=typeof N=="function"||typeof l.getSnapshotBeforeUpdate=="function";E||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==a||x!==p)&&ag(t,l,a,p),va=!1;var P=t.memoizedState;l.state=P,gd(t,a,l,i),x=t.memoizedState,d!==a||P!==x||Ls.current||va?(typeof N=="function"&&(Im(t,r,N,a),x=t.memoizedState),(d=va||rg(t,r,d,a,P,x,p))?(E||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=x),l.props=a,l.state=x,l.context=p,a=d):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,Uj(s,t),d=t.memoizedProps,p=t.type===t.elementType?d:xr(t.type,d),l.props=p,E=t.pendingProps,P=l.context,x=r.contextType,typeof x=="object"&&x!==null?x=nr(x):(x=Vs(r)?vn:Cs.current,x=wi(t,x));var A=r.getDerivedStateFromProps;(N=typeof A=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==E||P!==x)&&ag(t,l,a,x),va=!1,P=t.memoizedState,l.state=P,gd(t,a,l,i);var f=t.memoizedState;d!==E||P!==f||Ls.current||va?(typeof A=="function"&&(Im(t,r,A,a),f=t.memoizedState),(p=va||rg(t,r,p,a,P,f,x)||!1)?(N||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,f,x),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,f,x)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||d===s.memoizedProps&&P===s.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===s.memoizedProps&&P===s.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),l.props=a,l.state=f,l.context=x,a=p):(typeof l.componentDidUpdate!="function"||d===s.memoizedProps&&P===s.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===s.memoizedProps&&P===s.memoizedState||(t.flags|=1024),a=!1)}return Tm(s,t,r,a,o,i)}function Tm(s,t,r,a,i,o){hv(s,t);var l=(t.flags&128)!==0;if(!a&&!l)return i&&Kf(t,r,!1),ra(s,t,o);a=t.stateNode,Mk.current=t;var d=l&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,s!==null&&l?(t.child=Ci(t,s.child,null,o),t.child=Ci(t,null,d,o)):Ss(s,t,d,o),t.memoizedState=a.state,i&&Kf(t,r,!0),t.child}function pv(s){var t=s.stateNode;t.pendingContext?Qf(s,t.pendingContext,t.pendingContext!==t.context):t.context&&Qf(s,t.context,!1),Gh(s,t.containerInfo)}function ug(s,t,r,a,i){return ki(),Fh(i),t.flags|=256,Ss(s,t,r,a),t.child}var Dm={dehydrated:null,treeContext:null,retryLane:0};function Am(s){return{baseLanes:s,cachePool:null,transitions:null}}function fv(s,t,r){var a=t.pendingProps,i=Lt.current,o=!1,l=(t.flags&128)!==0,d;if((d=l)||(d=s!==null&&s.memoizedState===null?!1:(i&2)!==0),d?(o=!0,t.flags&=-129):(s===null||s.memoizedState!==null)&&(i|=1),Pt(Lt,i&1),s===null)return Cm(t),s=t.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(t.mode&1?s.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,s=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},!(a&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=xu(l,a,0,null),s=bn(s,a,r,null),o.return=t,s.return=t,o.sibling=s,t.child=o,t.child.memoizedState=Am(r),t.memoizedState=Dm,s):e0(t,l));if(i=s.memoizedState,i!==null&&(d=i.dehydrated,d!==null))return Ok(s,t,l,a,d,i,r);if(o){o=a.fallback,l=t.mode,i=s.child,d=i.sibling;var x={mode:"hidden",children:a.children};return!(l&1)&&t.child!==i?(a=t.child,a.childLanes=0,a.pendingProps=x,t.deletions=null):(a=Fa(i,x),a.subtreeFlags=i.subtreeFlags&14680064),d!==null?o=Fa(d,o):(o=bn(o,l,r,null),o.flags|=2),o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=s.child.memoizedState,l=l===null?Am(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=s.childLanes&~r,t.memoizedState=Dm,a}return o=s.child,s=o.sibling,a=Fa(o,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,s!==null&&(r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)),t.child=a,t.memoizedState=null,a}function e0(s,t){return t=xu({mode:"visible",children:t},s.mode,0,null),t.return=s,s.child=t}function yc(s,t,r,a){return a!==null&&Fh(a),Ci(t,s.child,null,r),s=e0(t,t.pendingProps.children),s.flags|=2,t.memoizedState=null,s}function Ok(s,t,r,a,i,o,l){if(r)return t.flags&256?(t.flags&=-257,a=_x(Error(ke(422))),yc(s,t,l,a)):t.memoizedState!==null?(t.child=s.child,t.flags|=128,null):(o=a.fallback,i=t.mode,a=xu({mode:"visible",children:a.children},i,0,null),o=bn(o,i,l,null),o.flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,t.mode&1&&Ci(t,s.child,null,l),t.child.memoizedState=Am(l),t.memoizedState=Dm,o);if(!(t.mode&1))return yc(s,t,l,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var d=a.dgst;return a=d,o=Error(ke(419)),a=_x(o,a,void 0),yc(s,t,l,a)}if(d=(l&s.childLanes)!==0,zs||d){if(a=ls,a!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(a.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,sa(s,i),yr(a,s,i,-1))}return i0(),a=_x(Error(ke(421))),yc(s,t,l,a)}return i.data==="$?"?(t.flags|=128,t.child=s.child,t=Kk.bind(null,s),i._reactRetry=t,null):(s=o.treeContext,Gs=Oa(i.nextSibling),Qs=t,Ot=!0,hr=null,s!==null&&(tr[sr++]=Hr,tr[sr++]=Qr,tr[sr++]=Nn,Hr=s.id,Qr=s.overflow,Nn=t),t=e0(t,a.children),t.flags|=4096,t)}function xg(s,t,r){s.lanes|=t;var a=s.alternate;a!==null&&(a.lanes|=t),Em(s.return,t,r)}function Px(s,t,r,a,i){var o=s.memoizedState;o===null?s.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=r,o.tailMode=i)}function gv(s,t,r){var a=t.pendingProps,i=a.revealOrder,o=a.tail;if(Ss(s,t,a.children,r),a=Lt.current,a&2)a=a&1|2,t.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=t.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&xg(s,r,t);else if(s.tag===19)xg(s,r,t);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a&=1}if(Pt(Lt,a),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)s=r.alternate,s!==null&&yd(s)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Px(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(s=i.alternate,s!==null&&yd(s)===null){t.child=i;break}s=i.sibling,i.sibling=r,r=i,i=s}Px(t,!0,r,null,o);break;case"together":Px(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vc(s,t){!(t.mode&1)&&s!==null&&(s.alternate=null,t.alternate=null,t.flags|=2)}function ra(s,t,r){if(s!==null&&(t.dependencies=s.dependencies),kn|=t.lanes,!(r&t.childLanes))return null;if(s!==null&&t.child!==s.child)throw Error(ke(153));if(t.child!==null){for(s=t.child,r=Fa(s,s.pendingProps),t.child=r,r.return=t;s.sibling!==null;)s=s.sibling,r=r.sibling=Fa(s,s.pendingProps),r.return=t;r.sibling=null}return t.child}function zk(s,t,r){switch(t.tag){case 3:pv(t),ki();break;case 5:$j(t);break;case 1:Vs(t.type)&&xd(t);break;case 4:Gh(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,i=t.memoizedProps.value;Pt(pd,a._currentValue),a._currentValue=i;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Pt(Lt,Lt.current&1),t.flags|=128,null):r&t.child.childLanes?fv(s,t,r):(Pt(Lt,Lt.current&1),s=ra(s,t,r),s!==null?s.sibling:null);Pt(Lt,Lt.current&1);break;case 19:if(a=(r&t.childLanes)!==0,s.flags&128){if(a)return gv(s,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(Lt,Lt.current),a)break;return null;case 22:case 23:return t.lanes=0,mv(s,t,r)}return ra(s,t,r)}var yv,Rm,bv,jv;yv=function(s,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Rm=function(){};bv=function(s,t,r,a){var i=s.memoizedProps;if(i!==a){s=t.stateNode,pn(Tr.current);var o=null;switch(r){case"input":i=sm(s,i),a=sm(s,a),o=[];break;case"select":i=Bt({},i,{value:void 0}),a=Bt({},a,{value:void 0}),o=[];break;case"textarea":i=nm(s,i),a=nm(s,a),o=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(s.onclick=dd)}lm(r,a);var l;r=null;for(p in i)if(!a.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var d=i[p];for(l in d)d.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&($l.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in a){var x=a[p];if(d=i!=null?i[p]:void 0,a.hasOwnProperty(p)&&x!==d&&(x!=null||d!=null))if(p==="style")if(d){for(l in d)!d.hasOwnProperty(l)||x&&x.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in x)x.hasOwnProperty(l)&&d[l]!==x[l]&&(r||(r={}),r[l]=x[l])}else r||(o||(o=[]),o.push(p,r)),r=x;else p==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,d=d?d.__html:void 0,x!=null&&d!==x&&(o=o||[]).push(p,x)):p==="children"?typeof x!="string"&&typeof x!="number"||(o=o||[]).push(p,""+x):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&($l.hasOwnProperty(p)?(x!=null&&p==="onScroll"&&Rt("scroll",s),o||d===x||(o=[])):(o=o||[]).push(p,x))}r&&(o=o||[]).push("style",r);var p=o;(t.updateQueue=p)&&(t.flags|=4)}};jv=function(s,t,r,a){r!==a&&(t.flags|=4)};function ul(s,t){if(!Ot)switch(s.tailMode){case"hidden":t=s.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?s.tail=null:r.sibling=null;break;case"collapsed":r=s.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||s.tail===null?s.tail=null:s.tail.sibling=null:a.sibling=null}}function js(s){var t=s.alternate!==null&&s.alternate.child===s.child,r=0,a=0;if(t)for(var i=s.child;i!==null;)r|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=s,i=i.sibling;else for(i=s.child;i!==null;)r|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=s,i=i.sibling;return s.subtreeFlags|=a,s.childLanes=r,t}function Lk(s,t,r){var a=t.pendingProps;switch(Vh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return js(t),null;case 1:return Vs(t.type)&&ud(),js(t),null;case 3:return a=t.stateNode,Ei(),Mt(Ls),Mt(Cs),Qh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(fc(t)?t.flags|=4:s===null||s.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hr!==null&&(Um(hr),hr=null))),Rm(s,t),js(t),null;case 5:Hh(t);var i=pn(to.current);if(r=t.type,s!==null&&t.stateNode!=null)bv(s,t,r,a,i),s.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(ke(166));return js(t),null}if(s=pn(Tr.current),fc(t)){a=t.stateNode,r=t.type;var o=t.memoizedProps;switch(a[Sr]=t,a[Zl]=o,s=(t.mode&1)!==0,r){case"dialog":Rt("cancel",a),Rt("close",a);break;case"iframe":case"object":case"embed":Rt("load",a);break;case"video":case"audio":for(i=0;i<bl.length;i++)Rt(bl[i],a);break;case"source":Rt("error",a);break;case"img":case"image":case"link":Rt("error",a),Rt("load",a);break;case"details":Rt("toggle",a);break;case"input":vf(a,o),Rt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!o.multiple},Rt("invalid",a);break;case"textarea":wf(a,o),Rt("invalid",a)}lm(r,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="children"?typeof d=="string"?a.textContent!==d&&(o.suppressHydrationWarning!==!0&&pc(a.textContent,d,s),i=["children",d]):typeof d=="number"&&a.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&pc(a.textContent,d,s),i=["children",""+d]):$l.hasOwnProperty(l)&&d!=null&&l==="onScroll"&&Rt("scroll",a)}switch(r){case"input":lc(a),Nf(a,o,!0);break;case"textarea":lc(a),kf(a);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(a.onclick=dd)}a=i,t.updateQueue=a,a!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Qb(r)),s==="http://www.w3.org/1999/xhtml"?r==="script"?(s=l.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof a.is=="string"?s=l.createElement(r,{is:a.is}):(s=l.createElement(r),r==="select"&&(l=s,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):s=l.createElementNS(s,r),s[Sr]=t,s[Zl]=a,yv(s,t,!1,!1),t.stateNode=s;e:{switch(l=om(r,a),r){case"dialog":Rt("cancel",s),Rt("close",s),i=a;break;case"iframe":case"object":case"embed":Rt("load",s),i=a;break;case"video":case"audio":for(i=0;i<bl.length;i++)Rt(bl[i],s);i=a;break;case"source":Rt("error",s),i=a;break;case"img":case"image":case"link":Rt("error",s),Rt("load",s),i=a;break;case"details":Rt("toggle",s),i=a;break;case"input":vf(s,a),i=sm(s,a),Rt("invalid",s);break;case"option":i=a;break;case"select":s._wrapperState={wasMultiple:!!a.multiple},i=Bt({},a,{value:void 0}),Rt("invalid",s);break;case"textarea":wf(s,a),i=nm(s,a),Rt("invalid",s);break;default:i=a}lm(r,i),d=i;for(o in d)if(d.hasOwnProperty(o)){var x=d[o];o==="style"?Xb(s,x):o==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Kb(s,x)):o==="children"?typeof x=="string"?(r!=="textarea"||x!=="")&&ql(s,x):typeof x=="number"&&ql(s,""+x):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($l.hasOwnProperty(o)?x!=null&&o==="onScroll"&&Rt("scroll",s):x!=null&&kh(s,o,x,l))}switch(r){case"input":lc(s),Nf(s,a,!1);break;case"textarea":lc(s),kf(s);break;case"option":a.value!=null&&s.setAttribute("value",""+Wa(a.value));break;case"select":s.multiple=!!a.multiple,o=a.value,o!=null?xi(s,!!a.multiple,o,!1):a.defaultValue!=null&&xi(s,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(s.onclick=dd)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return js(t),null;case 6:if(s&&t.stateNode!=null)jv(s,t,s.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(ke(166));if(r=pn(to.current),pn(Tr.current),fc(t)){if(a=t.stateNode,r=t.memoizedProps,a[Sr]=t,(o=a.nodeValue!==r)&&(s=Qs,s!==null))switch(s.tag){case 3:pc(a.nodeValue,r,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&pc(a.nodeValue,r,(s.mode&1)!==0)}o&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Sr]=t,t.stateNode=a}return js(t),null;case 13:if(Mt(Lt),a=t.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ot&&Gs!==null&&t.mode&1&&!(t.flags&128))Lj(),ki(),t.flags|=98560,o=!1;else if(o=fc(t),a!==null&&a.dehydrated!==null){if(s===null){if(!o)throw Error(ke(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ke(317));o[Sr]=t}else ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;js(t),o=!1}else hr!==null&&(Um(hr),hr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(s!==null&&s.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(s===null||Lt.current&1?ts===0&&(ts=3):i0())),t.updateQueue!==null&&(t.flags|=4),js(t),null);case 4:return Ei(),Rm(s,t),s===null&&Xl(t.stateNode.containerInfo),js(t),null;case 10:return $h(t.type._context),js(t),null;case 17:return Vs(t.type)&&ud(),js(t),null;case 19:if(Mt(Lt),o=t.memoizedState,o===null)return js(t),null;if(a=(t.flags&128)!==0,l=o.rendering,l===null)if(a)ul(o,!1);else{if(ts!==0||s!==null&&s.flags&128)for(s=t.child;s!==null;){if(l=yd(s),l!==null){for(t.flags|=128,ul(o,!1),a=l.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)o=r,s=a,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,s=l.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r=r.sibling;return Pt(Lt,Lt.current&1|2),t.child}s=s.sibling}o.tail!==null&&Qt()>Si&&(t.flags|=128,a=!0,ul(o,!1),t.lanes=4194304)}else{if(!a)if(s=yd(l),s!==null){if(t.flags|=128,a=!0,r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Ot)return js(t),null}else 2*Qt()-o.renderingStartTime>Si&&r!==1073741824&&(t.flags|=128,a=!0,ul(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(r=o.last,r!==null?r.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qt(),t.sibling=null,r=Lt.current,Pt(Lt,a?r&1|2:r&1),t):(js(t),null);case 22:case 23:return n0(),a=t.memoizedState!==null,s!==null&&s.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?qs&1073741824&&(js(t),t.subtreeFlags&6&&(t.flags|=8192)):js(t),null;case 24:return null;case 25:return null}throw Error(ke(156,t.tag))}function Vk(s,t){switch(Vh(t),t.tag){case 1:return Vs(t.type)&&ud(),s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 3:return Ei(),Mt(Ls),Mt(Cs),Qh(),s=t.flags,s&65536&&!(s&128)?(t.flags=s&-65537|128,t):null;case 5:return Hh(t),null;case 13:if(Mt(Lt),s=t.memoizedState,s!==null&&s.dehydrated!==null){if(t.alternate===null)throw Error(ke(340));ki()}return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 19:return Mt(Lt),null;case 4:return Ei(),null;case 10:return $h(t.type._context),null;case 22:case 23:return n0(),null;case 24:return null;default:return null}}var bc=!1,ws=!1,Fk=typeof WeakSet=="function"?WeakSet:Set,Le=null;function oi(s,t){var r=s.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Wt(s,t,a)}else r.current=null}function Mm(s,t,r){try{r()}catch(a){Wt(s,t,a)}}var mg=!1;function Bk(s,t){if(ym=ld,s=Cj(),zh(s)){if("selectionStart"in s)var r={start:s.selectionStart,end:s.selectionEnd};else e:{r=(r=s.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var i=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var l=0,d=-1,x=-1,p=0,N=0,E=s,P=null;t:for(;;){for(var A;E!==r||i!==0&&E.nodeType!==3||(d=l+i),E!==o||a!==0&&E.nodeType!==3||(x=l+a),E.nodeType===3&&(l+=E.nodeValue.length),(A=E.firstChild)!==null;)P=E,E=A;for(;;){if(E===s)break t;if(P===r&&++p===i&&(d=l),P===o&&++N===a&&(x=l),(A=E.nextSibling)!==null)break;E=P,P=E.parentNode}E=A}r=d===-1||x===-1?null:{start:d,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(bm={focusedElem:s,selectionRange:r},ld=!1,Le=t;Le!==null;)if(t=Le,s=t.child,(t.subtreeFlags&1028)!==0&&s!==null)s.return=t,Le=s;else for(;Le!==null;){t=Le;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var L=f.memoizedProps,k=f.memoizedState,_=t.stateNode,z=_.getSnapshotBeforeUpdate(t.elementType===t.type?L:xr(t.type,L),k);_.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(Y){Wt(t,t.return,Y)}if(s=t.sibling,s!==null){s.return=t.return,Le=s;break}Le=t.return}return f=mg,mg=!1,f}function Dl(s,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&s)===s){var o=i.destroy;i.destroy=void 0,o!==void 0&&Mm(t,r,o)}i=i.next}while(i!==a)}}function du(s,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&s)===s){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function Om(s){var t=s.ref;if(t!==null){var r=s.stateNode;switch(s.tag){case 5:s=r;break;default:s=r}typeof t=="function"?t(s):t.current=s}}function vv(s){var t=s.alternate;t!==null&&(s.alternate=null,vv(t)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(t=s.stateNode,t!==null&&(delete t[Sr],delete t[Zl],delete t[Nm],delete t[wk],delete t[kk])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Nv(s){return s.tag===5||s.tag===3||s.tag===4}function hg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Nv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function zm(s,t,r){var a=s.tag;if(a===5||a===6)s=s.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(s,t):r.insertBefore(s,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(s,r)):(t=r,t.appendChild(s)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=dd));else if(a!==4&&(s=s.child,s!==null))for(zm(s,t,r),s=s.sibling;s!==null;)zm(s,t,r),s=s.sibling}function Lm(s,t,r){var a=s.tag;if(a===5||a===6)s=s.stateNode,t?r.insertBefore(s,t):r.appendChild(s);else if(a!==4&&(s=s.child,s!==null))for(Lm(s,t,r),s=s.sibling;s!==null;)Lm(s,t,r),s=s.sibling}var cs=null,mr=!1;function ya(s,t,r){for(r=r.child;r!==null;)wv(s,t,r),r=r.sibling}function wv(s,t,r){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(su,r)}catch{}switch(r.tag){case 5:ws||oi(r,t);case 6:var a=cs,i=mr;cs=null,ya(s,t,r),cs=a,mr=i,cs!==null&&(mr?(s=cs,r=r.stateNode,s.nodeType===8?s.parentNode.removeChild(r):s.removeChild(r)):cs.removeChild(r.stateNode));break;case 18:cs!==null&&(mr?(s=cs,r=r.stateNode,s.nodeType===8?wx(s.parentNode,r):s.nodeType===1&&wx(s,r),Ql(s)):wx(cs,r.stateNode));break;case 4:a=cs,i=mr,cs=r.stateNode.containerInfo,mr=!0,ya(s,t,r),cs=a,mr=i;break;case 0:case 11:case 14:case 15:if(!ws&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Mm(r,t,l),i=i.next}while(i!==a)}ya(s,t,r);break;case 1:if(!ws&&(oi(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(d){Wt(r,t,d)}ya(s,t,r);break;case 21:ya(s,t,r);break;case 22:r.mode&1?(ws=(a=ws)||r.memoizedState!==null,ya(s,t,r),ws=a):ya(s,t,r);break;default:ya(s,t,r)}}function pg(s){var t=s.updateQueue;if(t!==null){s.updateQueue=null;var r=s.stateNode;r===null&&(r=s.stateNode=new Fk),t.forEach(function(a){var i=Yk.bind(null,s,a);r.has(a)||(r.add(a),a.then(i,i))})}}function ur(s,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var i=r[a];try{var o=s,l=t,d=l;e:for(;d!==null;){switch(d.tag){case 5:cs=d.stateNode,mr=!1;break e;case 3:cs=d.stateNode.containerInfo,mr=!0;break e;case 4:cs=d.stateNode.containerInfo,mr=!0;break e}d=d.return}if(cs===null)throw Error(ke(160));wv(o,l,i),cs=null,mr=!1;var x=i.alternate;x!==null&&(x.return=null),i.return=null}catch(p){Wt(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kv(t,s),t=t.sibling}function kv(s,t){var r=s.alternate,a=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ur(t,s),Cr(s),a&4){try{Dl(3,s,s.return),du(3,s)}catch(L){Wt(s,s.return,L)}try{Dl(5,s,s.return)}catch(L){Wt(s,s.return,L)}}break;case 1:ur(t,s),Cr(s),a&512&&r!==null&&oi(r,r.return);break;case 5:if(ur(t,s),Cr(s),a&512&&r!==null&&oi(r,r.return),s.flags&32){var i=s.stateNode;try{ql(i,"")}catch(L){Wt(s,s.return,L)}}if(a&4&&(i=s.stateNode,i!=null)){var o=s.memoizedProps,l=r!==null?r.memoizedProps:o,d=s.type,x=s.updateQueue;if(s.updateQueue=null,x!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&Gb(i,o),om(d,l);var p=om(d,o);for(l=0;l<x.length;l+=2){var N=x[l],E=x[l+1];N==="style"?Xb(i,E):N==="dangerouslySetInnerHTML"?Kb(i,E):N==="children"?ql(i,E):kh(i,N,E,p)}switch(d){case"input":rm(i,o);break;case"textarea":Hb(i,o);break;case"select":var P=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var A=o.value;A!=null?xi(i,!!o.multiple,A,!1):P!==!!o.multiple&&(o.defaultValue!=null?xi(i,!!o.multiple,o.defaultValue,!0):xi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Zl]=o}catch(L){Wt(s,s.return,L)}}break;case 6:if(ur(t,s),Cr(s),a&4){if(s.stateNode===null)throw Error(ke(162));i=s.stateNode,o=s.memoizedProps;try{i.nodeValue=o}catch(L){Wt(s,s.return,L)}}break;case 3:if(ur(t,s),Cr(s),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Ql(t.containerInfo)}catch(L){Wt(s,s.return,L)}break;case 4:ur(t,s),Cr(s);break;case 13:ur(t,s),Cr(s),i=s.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(r0=Qt())),a&4&&pg(s);break;case 22:if(N=r!==null&&r.memoizedState!==null,s.mode&1?(ws=(p=ws)||N,ur(t,s),ws=p):ur(t,s),Cr(s),a&8192){if(p=s.memoizedState!==null,(s.stateNode.isHidden=p)&&!N&&s.mode&1)for(Le=s,N=s.child;N!==null;){for(E=Le=N;Le!==null;){switch(P=Le,A=P.child,P.tag){case 0:case 11:case 14:case 15:Dl(4,P,P.return);break;case 1:oi(P,P.return);var f=P.stateNode;if(typeof f.componentWillUnmount=="function"){a=P,r=P.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(L){Wt(a,r,L)}}break;case 5:oi(P,P.return);break;case 22:if(P.memoizedState!==null){gg(E);continue}}A!==null?(A.return=P,Le=A):gg(E)}N=N.sibling}e:for(N=null,E=s;;){if(E.tag===5){if(N===null){N=E;try{i=E.stateNode,p?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=E.stateNode,x=E.memoizedProps.style,l=x!=null&&x.hasOwnProperty("display")?x.display:null,d.style.display=Yb("display",l))}catch(L){Wt(s,s.return,L)}}}else if(E.tag===6){if(N===null)try{E.stateNode.nodeValue=p?"":E.memoizedProps}catch(L){Wt(s,s.return,L)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===s)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;N===E&&(N=null),E=E.return}N===E&&(N=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:ur(t,s),Cr(s),a&4&&pg(s);break;case 21:break;default:ur(t,s),Cr(s)}}function Cr(s){var t=s.flags;if(t&2){try{e:{for(var r=s.return;r!==null;){if(Nv(r)){var a=r;break e}r=r.return}throw Error(ke(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(ql(i,""),a.flags&=-33);var o=hg(s);Lm(s,o,i);break;case 3:case 4:var l=a.stateNode.containerInfo,d=hg(s);zm(s,d,l);break;default:throw Error(ke(161))}}catch(x){Wt(s,s.return,x)}s.flags&=-3}t&4096&&(s.flags&=-4097)}function Uk(s,t,r){Le=s,Cv(s)}function Cv(s,t,r){for(var a=(s.mode&1)!==0;Le!==null;){var i=Le,o=i.child;if(i.tag===22&&a){var l=i.memoizedState!==null||bc;if(!l){var d=i.alternate,x=d!==null&&d.memoizedState!==null||ws;d=bc;var p=ws;if(bc=l,(ws=x)&&!p)for(Le=i;Le!==null;)l=Le,x=l.child,l.tag===22&&l.memoizedState!==null?yg(i):x!==null?(x.return=l,Le=x):yg(i);for(;o!==null;)Le=o,Cv(o),o=o.sibling;Le=i,bc=d,ws=p}fg(s)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Le=o):fg(s)}}function fg(s){for(;Le!==null;){var t=Le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ws||du(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!ws)if(r===null)a.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:xr(t.type,r.memoizedProps);a.componentDidUpdate(i,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&eg(t,o,a);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}eg(t,l,r)}break;case 5:var d=t.stateNode;if(r===null&&t.flags&4){r=d;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&r.focus();break;case"img":x.src&&(r.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var N=p.memoizedState;if(N!==null){var E=N.dehydrated;E!==null&&Ql(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}ws||t.flags&512&&Om(t)}catch(P){Wt(t,t.return,P)}}if(t===s){Le=null;break}if(r=t.sibling,r!==null){r.return=t.return,Le=r;break}Le=t.return}}function gg(s){for(;Le!==null;){var t=Le;if(t===s){Le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Le=r;break}Le=t.return}}function yg(s){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{du(4,t)}catch(x){Wt(t,r,x)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var i=t.return;try{a.componentDidMount()}catch(x){Wt(t,i,x)}}var o=t.return;try{Om(t)}catch(x){Wt(t,o,x)}break;case 5:var l=t.return;try{Om(t)}catch(x){Wt(t,l,x)}}}catch(x){Wt(t,t.return,x)}if(t===s){Le=null;break}var d=t.sibling;if(d!==null){d.return=t.return,Le=d;break}Le=t.return}}var $k=Math.ceil,vd=ca.ReactCurrentDispatcher,t0=ca.ReactCurrentOwner,ar=ca.ReactCurrentBatchConfig,vt=0,ls=null,Xt=null,ms=0,qs=0,ci=tn(0),ts=0,no=null,kn=0,uu=0,s0=0,Al=null,Os=null,r0=0,Si=1/0,Wr=null,Nd=!1,Vm=null,La=null,jc=!1,_a=null,wd=0,Rl=0,Fm=null,Fc=-1,Bc=0;function Ps(){return vt&6?Qt():Fc!==-1?Fc:Fc=Qt()}function Va(s){return s.mode&1?vt&2&&ms!==0?ms&-ms:Ek.transition!==null?(Bc===0&&(Bc=cj()),Bc):(s=Ct,s!==0||(s=window.event,s=s===void 0?16:fj(s.type)),s):1}function yr(s,t,r,a){if(50<Rl)throw Rl=0,Fm=null,Error(ke(185));No(s,r,a),(!(vt&2)||s!==ls)&&(s===ls&&(!(vt&2)&&(uu|=r),ts===4&&wa(s,ms)),Fs(s,a),r===1&&vt===0&&!(t.mode&1)&&(Si=Qt()+500,lu&&sn()))}function Fs(s,t){var r=s.callbackNode;E4(s,t);var a=id(s,s===ls?ms:0);if(a===0)r!==null&&If(r),s.callbackNode=null,s.callbackPriority=0;else if(t=a&-a,s.callbackPriority!==t){if(r!=null&&If(r),t===1)s.tag===0?Ck(bg.bind(null,s)):Mj(bg.bind(null,s)),vk(function(){!(vt&6)&&sn()}),r=null;else{switch(dj(a)){case 1:r=_h;break;case 4:r=lj;break;case 16:r=nd;break;case 536870912:r=oj;break;default:r=nd}r=Av(r,Ev.bind(null,s))}s.callbackPriority=t,s.callbackNode=r}}function Ev(s,t){if(Fc=-1,Bc=0,vt&6)throw Error(ke(327));var r=s.callbackNode;if(gi()&&s.callbackNode!==r)return null;var a=id(s,s===ls?ms:0);if(a===0)return null;if(a&30||a&s.expiredLanes||t)t=kd(s,a);else{t=a;var i=vt;vt|=2;var o=Sv();(ls!==s||ms!==t)&&(Wr=null,Si=Qt()+500,yn(s,t));do try{Gk();break}catch(d){Iv(s,d)}while(1);Uh(),vd.current=o,vt=i,Xt!==null?t=0:(ls=null,ms=0,t=ts)}if(t!==0){if(t===2&&(i=mm(s),i!==0&&(a=i,t=Bm(s,i))),t===1)throw r=no,yn(s,0),wa(s,a),Fs(s,Qt()),r;if(t===6)wa(s,a);else{if(i=s.current.alternate,!(a&30)&&!qk(i)&&(t=kd(s,a),t===2&&(o=mm(s),o!==0&&(a=o,t=Bm(s,o))),t===1))throw r=no,yn(s,0),wa(s,a),Fs(s,Qt()),r;switch(s.finishedWork=i,s.finishedLanes=a,t){case 0:case 1:throw Error(ke(345));case 2:un(s,Os,Wr);break;case 3:if(wa(s,a),(a&130023424)===a&&(t=r0+500-Qt(),10<t)){if(id(s,0)!==0)break;if(i=s.suspendedLanes,(i&a)!==a){Ps(),s.pingedLanes|=s.suspendedLanes&i;break}s.timeoutHandle=vm(un.bind(null,s,Os,Wr),t);break}un(s,Os,Wr);break;case 4:if(wa(s,a),(a&4194240)===a)break;for(t=s.eventTimes,i=-1;0<a;){var l=31-gr(a);o=1<<l,l=t[l],l>i&&(i=l),a&=~o}if(a=i,a=Qt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*$k(a/1960))-a,10<a){s.timeoutHandle=vm(un.bind(null,s,Os,Wr),a);break}un(s,Os,Wr);break;case 5:un(s,Os,Wr);break;default:throw Error(ke(329))}}}return Fs(s,Qt()),s.callbackNode===r?Ev.bind(null,s):null}function Bm(s,t){var r=Al;return s.current.memoizedState.isDehydrated&&(yn(s,t).flags|=256),s=kd(s,t),s!==2&&(t=Os,Os=r,t!==null&&Um(t)),s}function Um(s){Os===null?Os=s:Os.push.apply(Os,s)}function qk(s){for(var t=s;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var i=r[a],o=i.getSnapshot;i=i.value;try{if(!br(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wa(s,t){for(t&=~s0,t&=~uu,s.suspendedLanes|=t,s.pingedLanes&=~t,s=s.expirationTimes;0<t;){var r=31-gr(t),a=1<<r;s[r]=-1,t&=~a}}function bg(s){if(vt&6)throw Error(ke(327));gi();var t=id(s,0);if(!(t&1))return Fs(s,Qt()),null;var r=kd(s,t);if(s.tag!==0&&r===2){var a=mm(s);a!==0&&(t=a,r=Bm(s,a))}if(r===1)throw r=no,yn(s,0),wa(s,t),Fs(s,Qt()),r;if(r===6)throw Error(ke(345));return s.finishedWork=s.current.alternate,s.finishedLanes=t,un(s,Os,Wr),Fs(s,Qt()),null}function a0(s,t){var r=vt;vt|=1;try{return s(t)}finally{vt=r,vt===0&&(Si=Qt()+500,lu&&sn())}}function Cn(s){_a!==null&&_a.tag===0&&!(vt&6)&&gi();var t=vt;vt|=1;var r=ar.transition,a=Ct;try{if(ar.transition=null,Ct=1,s)return s()}finally{Ct=a,ar.transition=r,vt=t,!(vt&6)&&sn()}}function n0(){qs=ci.current,Mt(ci)}function yn(s,t){s.finishedWork=null,s.finishedLanes=0;var r=s.timeoutHandle;if(r!==-1&&(s.timeoutHandle=-1,jk(r)),Xt!==null)for(r=Xt.return;r!==null;){var a=r;switch(Vh(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ud();break;case 3:Ei(),Mt(Ls),Mt(Cs),Qh();break;case 5:Hh(a);break;case 4:Ei();break;case 13:Mt(Lt);break;case 19:Mt(Lt);break;case 10:$h(a.type._context);break;case 22:case 23:n0()}r=r.return}if(ls=s,Xt=s=Fa(s.current,null),ms=qs=t,ts=0,no=null,s0=uu=kn=0,Os=Al=null,hn!==null){for(t=0;t<hn.length;t++)if(r=hn[t],a=r.interleaved,a!==null){r.interleaved=null;var i=a.next,o=r.pending;if(o!==null){var l=o.next;o.next=i,a.next=l}r.pending=a}hn=null}return s}function Iv(s,t){do{var r=Xt;try{if(Uh(),zc.current=jd,bd){for(var a=Vt.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}bd=!1}if(wn=0,ns=es=Vt=null,Tl=!1,so=0,t0.current=null,r===null||r.return===null){ts=1,no=t,Xt=null;break}e:{var o=s,l=r.return,d=r,x=t;if(t=ms,d.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var p=x,N=d,E=N.tag;if(!(N.mode&1)&&(E===0||E===11||E===15)){var P=N.alternate;P?(N.updateQueue=P.updateQueue,N.memoizedState=P.memoizedState,N.lanes=P.lanes):(N.updateQueue=null,N.memoizedState=null)}var A=ig(l);if(A!==null){A.flags&=-257,lg(A,l,d,o,t),A.mode&1&&ng(o,p,t),t=A,x=p;var f=t.updateQueue;if(f===null){var L=new Set;L.add(x),t.updateQueue=L}else f.add(x);break e}else{if(!(t&1)){ng(o,p,t),i0();break e}x=Error(ke(426))}}else if(Ot&&d.mode&1){var k=ig(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),lg(k,l,d,o,t),Fh(Ii(x,d));break e}}o=x=Ii(x,d),ts!==4&&(ts=2),Al===null?Al=[o]:Al.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var _=dv(o,x,t);Zf(o,_);break e;case 1:d=x;var z=o.type,M=o.stateNode;if(!(o.flags&128)&&(typeof z.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(La===null||!La.has(M)))){o.flags|=65536,t&=-t,o.lanes|=t;var Y=uv(o,d,t);Zf(o,Y);break e}}o=o.return}while(o!==null)}Pv(r)}catch(G){t=G,Xt===r&&r!==null&&(Xt=r=r.return);continue}break}while(1)}function Sv(){var s=vd.current;return vd.current=jd,s===null?jd:s}function i0(){(ts===0||ts===3||ts===2)&&(ts=4),ls===null||!(kn&268435455)&&!(uu&268435455)||wa(ls,ms)}function kd(s,t){var r=vt;vt|=2;var a=Sv();(ls!==s||ms!==t)&&(Wr=null,yn(s,t));do try{Wk();break}catch(i){Iv(s,i)}while(1);if(Uh(),vt=r,vd.current=a,Xt!==null)throw Error(ke(261));return ls=null,ms=0,ts}function Wk(){for(;Xt!==null;)_v(Xt)}function Gk(){for(;Xt!==null&&!g4();)_v(Xt)}function _v(s){var t=Dv(s.alternate,s,qs);s.memoizedProps=s.pendingProps,t===null?Pv(s):Xt=t,t0.current=null}function Pv(s){var t=s;do{var r=t.alternate;if(s=t.return,t.flags&32768){if(r=Vk(r,t),r!==null){r.flags&=32767,Xt=r;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ts=6,Xt=null;return}}else if(r=Lk(r,t,qs),r!==null){Xt=r;return}if(t=t.sibling,t!==null){Xt=t;return}Xt=t=s}while(t!==null);ts===0&&(ts=5)}function un(s,t,r){var a=Ct,i=ar.transition;try{ar.transition=null,Ct=1,Hk(s,t,r,a)}finally{ar.transition=i,Ct=a}return null}function Hk(s,t,r,a){do gi();while(_a!==null);if(vt&6)throw Error(ke(327));r=s.finishedWork;var i=s.finishedLanes;if(r===null)return null;if(s.finishedWork=null,s.finishedLanes=0,r===s.current)throw Error(ke(177));s.callbackNode=null,s.callbackPriority=0;var o=r.lanes|r.childLanes;if(I4(s,o),s===ls&&(Xt=ls=null,ms=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||jc||(jc=!0,Av(nd,function(){return gi(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ar.transition,ar.transition=null;var l=Ct;Ct=1;var d=vt;vt|=4,t0.current=null,Bk(s,r),kv(r,s),mk(bm),ld=!!ym,bm=ym=null,s.current=r,Uk(r),y4(),vt=d,Ct=l,ar.transition=o}else s.current=r;if(jc&&(jc=!1,_a=s,wd=i),o=s.pendingLanes,o===0&&(La=null),v4(r.stateNode),Fs(s,Qt()),t!==null)for(a=s.onRecoverableError,r=0;r<t.length;r++)i=t[r],a(i.value,{componentStack:i.stack,digest:i.digest});if(Nd)throw Nd=!1,s=Vm,Vm=null,s;return wd&1&&s.tag!==0&&gi(),o=s.pendingLanes,o&1?s===Fm?Rl++:(Rl=0,Fm=s):Rl=0,sn(),null}function gi(){if(_a!==null){var s=dj(wd),t=ar.transition,r=Ct;try{if(ar.transition=null,Ct=16>s?16:s,_a===null)var a=!1;else{if(s=_a,_a=null,wd=0,vt&6)throw Error(ke(331));var i=vt;for(vt|=4,Le=s.current;Le!==null;){var o=Le,l=o.child;if(Le.flags&16){var d=o.deletions;if(d!==null){for(var x=0;x<d.length;x++){var p=d[x];for(Le=p;Le!==null;){var N=Le;switch(N.tag){case 0:case 11:case 15:Dl(8,N,o)}var E=N.child;if(E!==null)E.return=N,Le=E;else for(;Le!==null;){N=Le;var P=N.sibling,A=N.return;if(vv(N),N===p){Le=null;break}if(P!==null){P.return=A,Le=P;break}Le=A}}}var f=o.alternate;if(f!==null){var L=f.child;if(L!==null){f.child=null;do{var k=L.sibling;L.sibling=null,L=k}while(L!==null)}}Le=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,Le=l;else e:for(;Le!==null;){if(o=Le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Dl(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Le=_;break e}Le=o.return}}var z=s.current;for(Le=z;Le!==null;){l=Le;var M=l.child;if(l.subtreeFlags&2064&&M!==null)M.return=l,Le=M;else e:for(l=z;Le!==null;){if(d=Le,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:du(9,d)}}catch(G){Wt(d,d.return,G)}if(d===l){Le=null;break e}var Y=d.sibling;if(Y!==null){Y.return=d.return,Le=Y;break e}Le=d.return}}if(vt=i,sn(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(su,s)}catch{}a=!0}return a}finally{Ct=r,ar.transition=t}}return!1}function jg(s,t,r){t=Ii(r,t),t=dv(s,t,1),s=za(s,t,1),t=Ps(),s!==null&&(No(s,1,t),Fs(s,t))}function Wt(s,t,r){if(s.tag===3)jg(s,s,r);else for(;t!==null;){if(t.tag===3){jg(t,s,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(La===null||!La.has(a))){s=Ii(r,s),s=uv(t,s,1),t=za(t,s,1),s=Ps(),t!==null&&(No(t,1,s),Fs(t,s));break}}t=t.return}}function Qk(s,t,r){var a=s.pingCache;a!==null&&a.delete(t),t=Ps(),s.pingedLanes|=s.suspendedLanes&r,ls===s&&(ms&r)===r&&(ts===4||ts===3&&(ms&130023424)===ms&&500>Qt()-r0?yn(s,0):s0|=r),Fs(s,t)}function Tv(s,t){t===0&&(s.mode&1?(t=dc,dc<<=1,!(dc&130023424)&&(dc=4194304)):t=1);var r=Ps();s=sa(s,t),s!==null&&(No(s,t,r),Fs(s,r))}function Kk(s){var t=s.memoizedState,r=0;t!==null&&(r=t.retryLane),Tv(s,r)}function Yk(s,t){var r=0;switch(s.tag){case 13:var a=s.stateNode,i=s.memoizedState;i!==null&&(r=i.retryLane);break;case 19:a=s.stateNode;break;default:throw Error(ke(314))}a!==null&&a.delete(t),Tv(s,r)}var Dv;Dv=function(s,t,r){if(s!==null)if(s.memoizedProps!==t.pendingProps||Ls.current)zs=!0;else{if(!(s.lanes&r)&&!(t.flags&128))return zs=!1,zk(s,t,r);zs=!!(s.flags&131072)}else zs=!1,Ot&&t.flags&1048576&&Oj(t,hd,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Vc(s,t),s=t.pendingProps;var i=wi(t,Cs.current);fi(t,r),i=Yh(null,t,a,s,i,r);var o=Xh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vs(a)?(o=!0,xd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wh(t),i.updater=cu,t.stateNode=i,i._reactInternals=t,Sm(t,a,s,r),t=Tm(null,t,a,!0,o,r)):(t.tag=0,Ot&&o&&Lh(t),Ss(null,t,i,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Vc(s,t),s=t.pendingProps,i=a._init,a=i(a._payload),t.type=a,i=t.tag=Jk(a),s=xr(a,s),i){case 0:t=Pm(null,t,a,s,r);break e;case 1:t=dg(null,t,a,s,r);break e;case 11:t=og(null,t,a,s,r);break e;case 14:t=cg(null,t,a,xr(a.type,s),r);break e}throw Error(ke(306,a,""))}return t;case 0:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:xr(a,i),Pm(s,t,a,i,r);case 1:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:xr(a,i),dg(s,t,a,i,r);case 3:e:{if(pv(t),s===null)throw Error(ke(387));a=t.pendingProps,o=t.memoizedState,i=o.element,Uj(s,t),gd(t,a,null,r);var l=t.memoizedState;if(a=l.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ii(Error(ke(423)),t),t=ug(s,t,a,r,i);break e}else if(a!==i){i=Ii(Error(ke(424)),t),t=ug(s,t,a,r,i);break e}else for(Gs=Oa(t.stateNode.containerInfo.firstChild),Qs=t,Ot=!0,hr=null,r=Fj(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ki(),a===i){t=ra(s,t,r);break e}Ss(s,t,a,r)}t=t.child}return t;case 5:return $j(t),s===null&&Cm(t),a=t.type,i=t.pendingProps,o=s!==null?s.memoizedProps:null,l=i.children,jm(a,i)?l=null:o!==null&&jm(a,o)&&(t.flags|=32),hv(s,t),Ss(s,t,l,r),t.child;case 6:return s===null&&Cm(t),null;case 13:return fv(s,t,r);case 4:return Gh(t,t.stateNode.containerInfo),a=t.pendingProps,s===null?t.child=Ci(t,null,a,r):Ss(s,t,a,r),t.child;case 11:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:xr(a,i),og(s,t,a,i,r);case 7:return Ss(s,t,t.pendingProps,r),t.child;case 8:return Ss(s,t,t.pendingProps.children,r),t.child;case 12:return Ss(s,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Pt(pd,a._currentValue),a._currentValue=l,o!==null)if(br(o.value,l)){if(o.children===i.children&&!Ls.current){t=ra(s,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var d=o.dependencies;if(d!==null){l=o.child;for(var x=d.firstContext;x!==null;){if(x.context===a){if(o.tag===1){x=Xr(-1,r&-r),x.tag=2;var p=o.updateQueue;if(p!==null){p=p.shared;var N=p.pending;N===null?x.next=x:(x.next=N.next,N.next=x),p.pending=x}}o.lanes|=r,x=o.alternate,x!==null&&(x.lanes|=r),Em(o.return,r,t),d.lanes|=r;break}x=x.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(ke(341));l.lanes|=r,d=l.alternate,d!==null&&(d.lanes|=r),Em(l,r,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Ss(s,t,i.children,r),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps.children,fi(t,r),i=nr(i),a=a(i),t.flags|=1,Ss(s,t,a,r),t.child;case 14:return a=t.type,i=xr(a,t.pendingProps),i=xr(a.type,i),cg(s,t,a,i,r);case 15:return xv(s,t,t.type,t.pendingProps,r);case 17:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:xr(a,i),Vc(s,t),t.tag=1,Vs(a)?(s=!0,xd(t)):s=!1,fi(t,r),cv(t,a,i),Sm(t,a,i,r),Tm(null,t,a,!0,s,r);case 19:return gv(s,t,r);case 22:return mv(s,t,r)}throw Error(ke(156,t.tag))};function Av(s,t){return ij(s,t)}function Xk(s,t,r,a){this.tag=s,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(s,t,r,a){return new Xk(s,t,r,a)}function l0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Jk(s){if(typeof s=="function")return l0(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Eh)return 11;if(s===Ih)return 14}return 2}function Fa(s,t){var r=s.alternate;return r===null?(r=rr(s.tag,t,s.key,s.mode),r.elementType=s.elementType,r.type=s.type,r.stateNode=s.stateNode,r.alternate=s,s.alternate=r):(r.pendingProps=t,r.type=s.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=s.flags&14680064,r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,t=s.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=s.sibling,r.index=s.index,r.ref=s.ref,r}function Uc(s,t,r,a,i,o){var l=2;if(a=s,typeof s=="function")l0(s)&&(l=1);else if(typeof s=="string")l=5;else e:switch(s){case Zn:return bn(r.children,i,o,t);case Ch:l=8,i|=8;break;case Jx:return s=rr(12,r,t,i|2),s.elementType=Jx,s.lanes=o,s;case Zx:return s=rr(13,r,t,i),s.elementType=Zx,s.lanes=o,s;case em:return s=rr(19,r,t,i),s.elementType=em,s.lanes=o,s;case $b:return xu(r,i,o,t);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Bb:l=10;break e;case Ub:l=9;break e;case Eh:l=11;break e;case Ih:l=14;break e;case ja:l=16,a=null;break e}throw Error(ke(130,s==null?s:typeof s,""))}return t=rr(l,r,t,i),t.elementType=s,t.type=a,t.lanes=o,t}function bn(s,t,r,a){return s=rr(7,s,a,t),s.lanes=r,s}function xu(s,t,r,a){return s=rr(22,s,a,t),s.elementType=$b,s.lanes=r,s.stateNode={isHidden:!1},s}function Tx(s,t,r){return s=rr(6,s,null,t),s.lanes=r,s}function Dx(s,t,r){return t=rr(4,s.children!==null?s.children:[],s.key,t),t.lanes=r,t.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},t}function Zk(s,t,r,a,i){this.tag=t,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xx(0),this.expirationTimes=xx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xx(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o0(s,t,r,a,i,o,l,d,x){return s=new Zk(s,t,r,d,x),t===1?(t=1,o===!0&&(t|=8)):t=0,o=rr(3,null,null,t),s.current=o,o.stateNode=s,o.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wh(o),s}function e3(s,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jn,key:a==null?null:""+a,children:s,containerInfo:t,implementation:r}}function Rv(s){if(!s)return Ga;s=s._reactInternals;e:{if(Rn(s)!==s||s.tag!==1)throw Error(ke(170));var t=s;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ke(171))}if(s.tag===1){var r=s.type;if(Vs(r))return Rj(s,r,t)}return t}function Mv(s,t,r,a,i,o,l,d,x){return s=o0(r,a,!0,s,i,o,l,d,x),s.context=Rv(null),r=s.current,a=Ps(),i=Va(r),o=Xr(a,i),o.callback=t??null,za(r,o,i),s.current.lanes=i,No(s,i,a),Fs(s,a),s}function mu(s,t,r,a){var i=t.current,o=Ps(),l=Va(i);return r=Rv(r),t.context===null?t.context=r:t.pendingContext=r,t=Xr(o,l),t.payload={element:s},a=a===void 0?null:a,a!==null&&(t.callback=a),s=za(i,t,l),s!==null&&(yr(s,i,l,o),Oc(s,i,l)),l}function Cd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function vg(s,t){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var r=s.retryLane;s.retryLane=r!==0&&r<t?r:t}}function c0(s,t){vg(s,t),(s=s.alternate)&&vg(s,t)}function t3(){return null}var Ov=typeof reportError=="function"?reportError:function(s){console.error(s)};function d0(s){this._internalRoot=s}hu.prototype.render=d0.prototype.render=function(s){var t=this._internalRoot;if(t===null)throw Error(ke(409));mu(s,t,null,null)};hu.prototype.unmount=d0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var t=s.containerInfo;Cn(function(){mu(null,s,null,null)}),t[ta]=null}};function hu(s){this._internalRoot=s}hu.prototype.unstable_scheduleHydration=function(s){if(s){var t=mj();s={blockedOn:null,target:s,priority:t};for(var r=0;r<Na.length&&t!==0&&t<Na[r].priority;r++);Na.splice(r,0,s),r===0&&pj(s)}};function u0(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function pu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ng(){}function s3(s,t,r,a,i){if(i){if(typeof a=="function"){var o=a;a=function(){var p=Cd(l);o.call(p)}}var l=Mv(t,a,s,0,null,!1,!1,"",Ng);return s._reactRootContainer=l,s[ta]=l.current,Xl(s.nodeType===8?s.parentNode:s),Cn(),l}for(;i=s.lastChild;)s.removeChild(i);if(typeof a=="function"){var d=a;a=function(){var p=Cd(x);d.call(p)}}var x=o0(s,0,!1,null,null,!1,!1,"",Ng);return s._reactRootContainer=x,s[ta]=x.current,Xl(s.nodeType===8?s.parentNode:s),Cn(function(){mu(t,x,r,a)}),x}function fu(s,t,r,a,i){var o=r._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var d=i;i=function(){var x=Cd(l);d.call(x)}}mu(t,l,s,i)}else l=s3(r,t,s,i,a);return Cd(l)}uj=function(s){switch(s.tag){case 3:var t=s.stateNode;if(t.current.memoizedState.isDehydrated){var r=yl(t.pendingLanes);r!==0&&(Ph(t,r|1),Fs(t,Qt()),!(vt&6)&&(Si=Qt()+500,sn()))}break;case 13:Cn(function(){var a=sa(s,1);if(a!==null){var i=Ps();yr(a,s,1,i)}}),c0(s,1)}};Th=function(s){if(s.tag===13){var t=sa(s,134217728);if(t!==null){var r=Ps();yr(t,s,134217728,r)}c0(s,134217728)}};xj=function(s){if(s.tag===13){var t=Va(s),r=sa(s,t);if(r!==null){var a=Ps();yr(r,s,t,a)}c0(s,t)}};mj=function(){return Ct};hj=function(s,t){var r=Ct;try{return Ct=s,t()}finally{Ct=r}};dm=function(s,t,r){switch(t){case"input":if(rm(s,r),t=r.name,r.type==="radio"&&t!=null){for(r=s;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==s&&a.form===s.form){var i=iu(a);if(!i)throw Error(ke(90));Wb(a),rm(a,i)}}}break;case"textarea":Hb(s,r);break;case"select":t=r.value,t!=null&&xi(s,!!r.multiple,t,!1)}};ej=a0;tj=Cn;var r3={usingClientEntryPoint:!1,Events:[ko,ri,iu,Jb,Zb,a0]},xl={findFiberByHostInstance:mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a3={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=aj(s),s===null?null:s.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||t3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{su=vc.inject(a3),Pr=vc}catch{}}Js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r3;Js.createPortal=function(s,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u0(t))throw Error(ke(200));return e3(s,t,null,r)};Js.createRoot=function(s,t){if(!u0(s))throw Error(ke(299));var r=!1,a="",i=Ov;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=o0(s,1,!1,null,null,r,!1,a,i),s[ta]=t.current,Xl(s.nodeType===8?s.parentNode:s),new d0(t)};Js.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var t=s._reactInternals;if(t===void 0)throw typeof s.render=="function"?Error(ke(188)):(s=Object.keys(s).join(","),Error(ke(268,s)));return s=aj(t),s=s===null?null:s.stateNode,s};Js.flushSync=function(s){return Cn(s)};Js.hydrate=function(s,t,r){if(!pu(t))throw Error(ke(200));return fu(null,s,t,!0,r)};Js.hydrateRoot=function(s,t,r){if(!u0(s))throw Error(ke(405));var a=r!=null&&r.hydratedSources||null,i=!1,o="",l=Ov;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Mv(t,null,s,1,r??null,i,!1,o,l),s[ta]=t.current,Xl(s),a)for(s=0;s<a.length;s++)r=a[s],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new hu(t)};Js.render=function(s,t,r){if(!pu(t))throw Error(ke(200));return fu(null,s,t,!1,r)};Js.unmountComponentAtNode=function(s){if(!pu(s))throw Error(ke(40));return s._reactRootContainer?(Cn(function(){fu(null,null,s,!1,function(){s._reactRootContainer=null,s[ta]=null})}),!0):!1};Js.unstable_batchedUpdates=a0;Js.unstable_renderSubtreeIntoContainer=function(s,t,r,a){if(!pu(r))throw Error(ke(200));if(s==null||s._reactInternals===void 0)throw Error(ke(38));return fu(s,t,r,!1,a)};Js.version="18.3.1-next-f1338f8080-20240426";function zv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zv)}catch(s){console.error(s)}}zv(),zb.exports=Js;var n3=zb.exports,wg=n3;Yx.createRoot=wg.createRoot,Yx.hydrateRoot=wg.hydrateRoot;const i3="modulepreload",l3=function(s){return"/"+s},kg={},o3=function(t,r,a){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=l3(o),o in kg)return;kg[o]=!0;const l=o.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(!!a)for(let N=i.length-1;N>=0;N--){const E=i[N];if(E.href===o&&(!l||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${d}`))return;const p=document.createElement("link");if(p.rel=l?"stylesheet":i3,l||(p.as="script",p.crossOrigin=""),p.href=o,document.head.appendChild(p),l)return new Promise((N,E)=>{p.addEventListener("load",N),p.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})};var x0={};Object.defineProperty(x0,"__esModule",{value:!0});x0.parse=p3;x0.serialize=f3;const c3=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,d3=/^[\u0021-\u003A\u003C-\u007E]*$/,u3=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,x3=/^[\u0020-\u003A\u003D-\u007E]*$/,m3=Object.prototype.toString,h3=(()=>{const s=function(){};return s.prototype=Object.create(null),s})();function p3(s,t){const r=new h3,a=s.length;if(a<2)return r;const i=(t==null?void 0:t.decode)||g3;let o=0;do{const l=s.indexOf("=",o);if(l===-1)break;const d=s.indexOf(";",o),x=d===-1?a:d;if(l>x){o=s.lastIndexOf(";",l-1)+1;continue}const p=Cg(s,o,l),N=Eg(s,l,p),E=s.slice(p,N);if(r[E]===void 0){let P=Cg(s,l+1,x),A=Eg(s,x,P);const f=i(s.slice(P,A));r[E]=f}o=x+1}while(o<a);return r}function Cg(s,t,r){do{const a=s.charCodeAt(t);if(a!==32&&a!==9)return t}while(++t<r);return r}function Eg(s,t,r){for(;t>r;){const a=s.charCodeAt(--t);if(a!==32&&a!==9)return t+1}return r}function f3(s,t,r){const a=(r==null?void 0:r.encode)||encodeURIComponent;if(!c3.test(s))throw new TypeError(`argument name is invalid: ${s}`);const i=a(t);if(!d3.test(i))throw new TypeError(`argument val is invalid: ${t}`);let o=s+"="+i;if(!r)return o;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);o+="; Max-Age="+r.maxAge}if(r.domain){if(!u3.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);o+="; Domain="+r.domain}if(r.path){if(!x3.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);o+="; Path="+r.path}if(r.expires){if(!y3(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.partitioned&&(o+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return o}function g3(s){if(s.indexOf("%")===-1)return s;try{return decodeURIComponent(s)}catch{return s}}function y3(s){return m3.call(s)==="[object Date]"}var Ig="popstate";function b3(s={}){function t(a,i){let{pathname:o,search:l,hash:d}=a.location;return $m("",{pathname:o,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:io(i)}return v3(t,r,null,s)}function Ft(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Or(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function j3(){return Math.random().toString(36).substring(2,10)}function Sg(s,t){return{usr:s.state,key:s.key,idx:t}}function $m(s,t,r=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Fi(t):t,state:r,key:t&&t.key||a||j3()}}function io({pathname:s="/",search:t="",hash:r=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Fi(s){let t={};if(s){let r=s.indexOf("#");r>=0&&(t.hash=s.substring(r),s=s.substring(0,r));let a=s.indexOf("?");a>=0&&(t.search=s.substring(a),s=s.substring(0,a)),s&&(t.pathname=s)}return t}function v3(s,t,r,a={}){let{window:i=document.defaultView,v5Compat:o=!1}=a,l=i.history,d="POP",x=null,p=N();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function N(){return(l.state||{idx:null}).idx}function E(){d="POP";let k=N(),_=k==null?null:k-p;p=k,x&&x({action:d,location:L.location,delta:_})}function P(k,_){d="PUSH";let z=$m(L.location,k,_);r&&r(z,k),p=N()+1;let M=Sg(z,p),Y=L.createHref(z);try{l.pushState(M,"",Y)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(Y)}o&&x&&x({action:d,location:L.location,delta:1})}function A(k,_){d="REPLACE";let z=$m(L.location,k,_);r&&r(z,k),p=N();let M=Sg(z,p),Y=L.createHref(z);l.replaceState(M,"",Y),o&&x&&x({action:d,location:L.location,delta:0})}function f(k){let _=i.location.origin!=="null"?i.location.origin:i.location.href,z=typeof k=="string"?k:io(k);return z=z.replace(/ $/,"%20"),Ft(_,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,_)}let L={get action(){return d},get location(){return s(i,l)},listen(k){if(x)throw new Error("A history only accepts one active listener");return i.addEventListener(Ig,E),x=k,()=>{i.removeEventListener(Ig,E),x=null}},createHref(k){return t(i,k)},createURL:f,encodeLocation(k){let _=f(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:P,replace:A,go(k){return l.go(k)}};return L}function Lv(s,t,r="/"){return N3(s,t,r,!1)}function N3(s,t,r,a){let i=typeof t=="string"?Fi(t):t,o=aa(i.pathname||"/",r);if(o==null)return null;let l=Vv(s);w3(l);let d=null;for(let x=0;d==null&&x<l.length;++x){let p=R3(o);d=D3(l[x],p,a)}return d}function Vv(s,t=[],r=[],a=""){let i=(o,l,d)=>{let x={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};x.relativePath.startsWith("/")&&(Ft(x.relativePath.startsWith(a),`Absolute route path "${x.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(a.length));let p=Jr([a,x.relativePath]),N=r.concat(x);o.children&&o.children.length>0&&(Ft(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Vv(o.children,t,N,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:P3(p,o.index),routesMeta:N})};return s.forEach((o,l)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))i(o,l);else for(let x of Fv(o.path))i(o,l,x)}),t}function Fv(s){let t=s.split("/");if(t.length===0)return[];let[r,...a]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return i?[o,""]:[o];let l=Fv(a.join("/")),d=[];return d.push(...l.map(x=>x===""?o:[o,x].join("/"))),i&&d.push(...l),d.map(x=>s.startsWith("/")&&x===""?"/":x)}function w3(s){s.sort((t,r)=>t.score!==r.score?r.score-t.score:T3(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var k3=/^:[\w-]+$/,C3=3,E3=2,I3=1,S3=10,_3=-2,_g=s=>s==="*";function P3(s,t){let r=s.split("/"),a=r.length;return r.some(_g)&&(a+=_3),t&&(a+=E3),r.filter(i=>!_g(i)).reduce((i,o)=>i+(k3.test(o)?C3:o===""?I3:S3),a)}function T3(s,t){return s.length===t.length&&s.slice(0,-1).every((a,i)=>a===t[i])?s[s.length-1]-t[t.length-1]:0}function D3(s,t,r=!1){let{routesMeta:a}=s,i={},o="/",l=[];for(let d=0;d<a.length;++d){let x=a[d],p=d===a.length-1,N=o==="/"?t:t.slice(o.length)||"/",E=Ed({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},N),P=x.route;if(!E&&p&&r&&!a[a.length-1].route.index&&(E=Ed({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},N)),!E)return null;Object.assign(i,E.params),l.push({params:i,pathname:Jr([o,E.pathname]),pathnameBase:L3(Jr([o,E.pathnameBase])),route:P}),E.pathnameBase!=="/"&&(o=Jr([o,E.pathnameBase]))}return l}function Ed(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,a]=A3(s.path,s.caseSensitive,s.end),i=t.match(r);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((p,{paramName:N,isOptional:E},P)=>{if(N==="*"){let f=d[P]||"";l=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}const A=d[P];return E&&!A?p[N]=void 0:p[N]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:s}}function A3(s,t=!1,r=!0){Or(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,x)=>(a.push({paramName:d,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function R3(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Or(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function aa(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=s.charAt(r);return a&&a!=="/"?null:s.slice(r)||"/"}function M3(s,t="/"){let{pathname:r,search:a="",hash:i=""}=typeof s=="string"?Fi(s):s;return{pathname:r?r.startsWith("/")?r:O3(r,t):t,search:V3(a),hash:F3(i)}}function O3(s,t){let r=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ax(s,t,r,a){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z3(s){return s.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Bv(s){let t=z3(s);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function Uv(s,t,r,a=!1){let i;typeof s=="string"?i=Fi(s):(i={...s},Ft(!i.pathname||!i.pathname.includes("?"),Ax("?","pathname","search",i)),Ft(!i.pathname||!i.pathname.includes("#"),Ax("#","pathname","hash",i)),Ft(!i.search||!i.search.includes("#"),Ax("#","search","hash",i)));let o=s===""||i.pathname==="",l=o?"/":i.pathname,d;if(l==null)d=r;else{let E=t.length-1;if(!a&&l.startsWith("..")){let P=l.split("/");for(;P[0]==="..";)P.shift(),E-=1;i.pathname=P.join("/")}d=E>=0?t[E]:"/"}let x=M3(i,d),p=l&&l!=="/"&&l.endsWith("/"),N=(o||l===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(p||N)&&(x.pathname+="/"),x}var Jr=s=>s.join("/").replace(/\/\/+/g,"/"),L3=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),V3=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,F3=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function B3(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var $v=["POST","PUT","PATCH","DELETE"];new Set($v);var U3=["GET",...$v];new Set(U3);var Bi=j.createContext(null);Bi.displayName="DataRouter";var gu=j.createContext(null);gu.displayName="DataRouterState";var qv=j.createContext({isTransitioning:!1});qv.displayName="ViewTransition";var $3=j.createContext(new Map);$3.displayName="Fetchers";var q3=j.createContext(null);q3.displayName="Await";var Fr=j.createContext(null);Fr.displayName="Navigation";var Eo=j.createContext(null);Eo.displayName="Location";var da=j.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var m0=j.createContext(null);m0.displayName="RouteError";function W3(s,{relative:t}={}){Ft(Io(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=j.useContext(Fr),{hash:i,pathname:o,search:l}=So(s,{relative:t}),d=o;return r!=="/"&&(d=o==="/"?r:Jr([r,o])),a.createHref({pathname:d,search:l,hash:i})}function Io(){return j.useContext(Eo)!=null}function Mn(){return Ft(Io(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Eo).location}var Wv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gv(s){j.useContext(Fr).static||j.useLayoutEffect(s)}function ct(){let{isDataRoute:s}=j.useContext(da);return s?aC():G3()}function G3(){Ft(Io(),"useNavigate() may be used only in the context of a <Router> component.");let s=j.useContext(Bi),{basename:t,navigator:r}=j.useContext(Fr),{matches:a}=j.useContext(da),{pathname:i}=Mn(),o=JSON.stringify(Bv(a)),l=j.useRef(!1);return Gv(()=>{l.current=!0}),j.useCallback((x,p={})=>{if(Or(l.current,Wv),!l.current)return;if(typeof x=="number"){r.go(x);return}let N=Uv(x,JSON.parse(o),i,p.relative==="path");s==null&&t!=="/"&&(N.pathname=N.pathname==="/"?t:Jr([t,N.pathname])),(p.replace?r.replace:r.push)(N,p.state,p)},[t,r,o,i,s])}j.createContext(null);function So(s,{relative:t}={}){let{matches:r}=j.useContext(da),{pathname:a}=Mn(),i=JSON.stringify(Bv(r));return j.useMemo(()=>Uv(s,JSON.parse(i),a,t==="path"),[s,i,a,t])}function H3(s,t){return Hv(s,t)}function Hv(s,t,r,a){var z;Ft(Io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=j.useContext(Fr),{matches:l}=j.useContext(da),d=l[l.length-1],x=d?d.params:{},p=d?d.pathname:"/",N=d?d.pathnameBase:"/",E=d&&d.route;{let M=E&&E.path||"";Qv(p,!E||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let P=Mn(),A;if(t){let M=typeof t=="string"?Fi(t):t;Ft(N==="/"||((z=M.pathname)==null?void 0:z.startsWith(N)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${M.pathname}" was given in the \`location\` prop.`),A=M}else A=P;let f=A.pathname||"/",L=f;if(N!=="/"){let M=N.replace(/^\//,"").split("/");L="/"+f.replace(/^\//,"").split("/").slice(M.length).join("/")}let k=!o&&r&&r.matches&&r.matches.length>0?r.matches:Lv(s,{pathname:L});Or(E||k!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Or(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=J3(k&&k.map(M=>Object.assign({},M,{params:Object.assign({},x,M.params),pathname:Jr([N,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?N:Jr([N,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,r,a);return t&&_?j.createElement(Eo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},_):_}function Q3(){let s=rC(),t=B3(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",s),l=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,l)}var K3=j.createElement(Q3,null),Y3=class extends j.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?j.createElement(da.Provider,{value:this.props.routeContext},j.createElement(m0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function X3({routeContext:s,match:t,children:r}){let a=j.useContext(Bi);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(da.Provider,{value:s},r)}function J3(s,t=[],r=null,a=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let i=s,o=r==null?void 0:r.errors;if(o!=null){let x=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Ft(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,x+1))}let l=!1,d=-1;if(r)for(let x=0;x<i.length;x++){let p=i[x];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=x),p.route.id){let{loaderData:N,errors:E}=r,P=p.route.loader&&!N.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||P){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((x,p,N)=>{let E,P=!1,A=null,f=null;r&&(E=o&&p.route.id?o[p.route.id]:void 0,A=p.route.errorElement||K3,l&&(d<0&&N===0?(Qv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,f=null):d===N&&(P=!0,f=p.route.hydrateFallbackElement||null)));let L=t.concat(i.slice(0,N+1)),k=()=>{let _;return E?_=A:P?_=f:p.route.Component?_=j.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=x,j.createElement(X3,{match:p,routeContext:{outlet:x,matches:L,isDataRoute:r!=null},children:_})};return r&&(p.route.ErrorBoundary||p.route.errorElement||N===0)?j.createElement(Y3,{location:r.location,revalidation:r.revalidation,component:A,error:E,children:k(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):k()},null)}function h0(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z3(s){let t=j.useContext(Bi);return Ft(t,h0(s)),t}function eC(s){let t=j.useContext(gu);return Ft(t,h0(s)),t}function tC(s){let t=j.useContext(da);return Ft(t,h0(s)),t}function p0(s){let t=tC(s),r=t.matches[t.matches.length-1];return Ft(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function sC(){return p0("useRouteId")}function rC(){var a;let s=j.useContext(m0),t=eC("useRouteError"),r=p0("useRouteError");return s!==void 0?s:(a=t.errors)==null?void 0:a[r]}function aC(){let{router:s}=Z3("useNavigate"),t=p0("useNavigate"),r=j.useRef(!1);return Gv(()=>{r.current=!0}),j.useCallback(async(i,o={})=>{Or(r.current,Wv),r.current&&(typeof i=="number"?s.navigate(i):await s.navigate(i,{fromRouteId:t,...o}))},[s,t])}var Pg={};function Qv(s,t,r){!t&&!Pg[s]&&(Pg[s]=!0,Or(!1,r))}j.memo(nC);function nC({routes:s,future:t,state:r}){return Hv(s,void 0,r,t)}function dt(s){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iC({basename:s="/",children:t=null,location:r,navigationType:a="POP",navigator:i,static:o=!1}){Ft(!Io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=s.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof r=="string"&&(r=Fi(r));let{pathname:x="/",search:p="",hash:N="",state:E=null,key:P="default"}=r,A=j.useMemo(()=>{let f=aa(x,l);return f==null?null:{location:{pathname:f,search:p,hash:N,state:E,key:P},navigationType:a}},[l,x,p,N,E,P,a]);return Or(A!=null,`<Router basename="${l}"> is not able to match the URL "${x}${p}${N}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:j.createElement(Fr.Provider,{value:d},j.createElement(Eo.Provider,{children:t,value:A}))}function lC({children:s,location:t}){return H3(qm(s),t)}function qm(s,t=[]){let r=[];return j.Children.forEach(s,(a,i)=>{if(!j.isValidElement(a))return;let o=[...t,i];if(a.type===j.Fragment){r.push.apply(r,qm(a.props.children,o));return}Ft(a.type===dt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=qm(a.props.children,o)),r.push(l)}),r}var $c="get",qc="application/x-www-form-urlencoded";function yu(s){return s!=null&&typeof s.tagName=="string"}function oC(s){return yu(s)&&s.tagName.toLowerCase()==="button"}function cC(s){return yu(s)&&s.tagName.toLowerCase()==="form"}function dC(s){return yu(s)&&s.tagName.toLowerCase()==="input"}function uC(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function xC(s,t){return s.button===0&&(!t||t==="_self")&&!uC(s)}var Nc=null;function mC(){if(Nc===null)try{new FormData(document.createElement("form"),0),Nc=!1}catch{Nc=!0}return Nc}var hC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rx(s){return s!=null&&!hC.has(s)?(Or(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qc}"`),null):s}function pC(s,t){let r,a,i,o,l;if(cC(s)){let d=s.getAttribute("action");a=d?aa(d,t):null,r=s.getAttribute("method")||$c,i=Rx(s.getAttribute("enctype"))||qc,o=new FormData(s)}else if(oC(s)||dC(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||d.getAttribute("action");if(a=x?aa(x,t):null,r=s.getAttribute("formmethod")||d.getAttribute("method")||$c,i=Rx(s.getAttribute("formenctype"))||Rx(d.getAttribute("enctype"))||qc,o=new FormData(d,s),!mC()){let{name:p,type:N,value:E}=s;if(N==="image"){let P=p?`${p}.`:"";o.append(`${P}x`,"0"),o.append(`${P}y`,"0")}else p&&o.append(p,E)}}else{if(yu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=$c,a=null,i=qc,l=s}return o&&i==="text/plain"&&(l=o,o=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:o,body:l}}function f0(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function fC(s,t){if(s.id in t)return t[s.id];try{let r=await o3(()=>import(s.module),[]);return t[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gC(s){return s!=null&&typeof s.page=="string"}function yC(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function bC(s,t,r){let a=await Promise.all(s.map(async i=>{let o=t.routes[i.route.id];if(o){let l=await fC(o,r);return l.links?l.links():[]}return[]}));return wC(a.flat(1).filter(yC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Tg(s,t,r,a,i,o){let l=(x,p)=>r[p]?x.route.id!==r[p].route.id:!0,d=(x,p)=>{var N;return r[p].pathname!==x.pathname||((N=r[p].route.path)==null?void 0:N.endsWith("*"))&&r[p].params["*"]!==x.params["*"]};return o==="assets"?t.filter((x,p)=>l(x,p)||d(x,p)):o==="data"?t.filter((x,p)=>{var E;let N=a.routes[x.route.id];if(!N||!N.hasLoader)return!1;if(l(x,p)||d(x,p))return!0;if(x.route.shouldRevalidate){let P=x.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((E=r[0])==null?void 0:E.params)||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof P=="boolean")return P}return!0}):[]}function jC(s,t,{includeHydrateFallback:r}={}){return vC(s.map(a=>{let i=t.routes[a.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function vC(s){return[...new Set(s)]}function NC(s){let t={},r=Object.keys(s).sort();for(let a of r)t[a]=s[a];return t}function wC(s,t){let r=new Set,a=new Set(t);return s.reduce((i,o)=>{if(t&&!gC(o)&&o.as==="script"&&o.href&&a.has(o.href))return i;let d=JSON.stringify(NC(o));return r.has(d)||(r.add(d),i.push({key:d,link:o})),i},[])}function kC(s,t){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname="_root.data":t&&aa(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Kv(){let s=j.useContext(Bi);return f0(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function CC(){let s=j.useContext(gu);return f0(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var g0=j.createContext(void 0);g0.displayName="FrameworkContext";function Yv(){let s=j.useContext(g0);return f0(s,"You must render this element inside a <HydratedRouter> element"),s}function EC(s,t){let r=j.useContext(g0),[a,i]=j.useState(!1),[o,l]=j.useState(!1),{onFocus:d,onBlur:x,onMouseEnter:p,onMouseLeave:N,onTouchStart:E}=t,P=j.useRef(null);j.useEffect(()=>{if(s==="render"&&l(!0),s==="viewport"){let L=_=>{_.forEach(z=>{l(z.isIntersecting)})},k=new IntersectionObserver(L,{threshold:.5});return P.current&&k.observe(P.current),()=>{k.disconnect()}}},[s]),j.useEffect(()=>{if(a){let L=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(L)}}},[a]);let A=()=>{i(!0)},f=()=>{i(!1),l(!1)};return r?s!=="intent"?[o,P,{}]:[o,P,{onFocus:ml(d,A),onBlur:ml(x,f),onMouseEnter:ml(p,A),onMouseLeave:ml(N,f),onTouchStart:ml(E,A)}]:[!1,P,{}]}function ml(s,t){return r=>{s&&s(r),r.defaultPrevented||t(r)}}function IC({page:s,...t}){let{router:r}=Kv(),a=j.useMemo(()=>Lv(r.routes,s,r.basename),[r.routes,s,r.basename]);return a?j.createElement(_C,{page:s,matches:a,...t}):null}function SC(s){let{manifest:t,routeModules:r}=Yv(),[a,i]=j.useState([]);return j.useEffect(()=>{let o=!1;return bC(s,t,r).then(l=>{o||i(l)}),()=>{o=!0}},[s,t,r]),a}function _C({page:s,matches:t,...r}){let a=Mn(),{manifest:i,routeModules:o}=Yv(),{basename:l}=Kv(),{loaderData:d,matches:x}=CC(),p=j.useMemo(()=>Tg(s,t,x,i,a,"data"),[s,t,x,i,a]),N=j.useMemo(()=>Tg(s,t,x,i,a,"assets"),[s,t,x,i,a]),E=j.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let f=new Set,L=!1;if(t.forEach(_=>{var M;let z=i.routes[_.route.id];!z||!z.hasLoader||(!p.some(Y=>Y.route.id===_.route.id)&&_.route.id in d&&((M=o[_.route.id])!=null&&M.shouldRevalidate)||z.hasClientLoader?L=!0:f.add(_.route.id))}),f.size===0)return[];let k=kC(s,l);return L&&f.size>0&&k.searchParams.set("_routes",t.filter(_=>f.has(_.route.id)).map(_=>_.route.id).join(",")),[k.pathname+k.search]},[l,d,a,i,p,t,s,o]),P=j.useMemo(()=>jC(N,i),[N,i]),A=SC(N);return j.createElement(j.Fragment,null,E.map(f=>j.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...r})),P.map(f=>j.createElement("link",{key:f,rel:"modulepreload",href:f,...r})),A.map(({key:f,link:L})=>j.createElement("link",{key:f,...L})))}function PC(...s){return t=>{s.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Xv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xv&&(window.__reactRouterVersion="7.5.0")}catch{}function TC({basename:s,children:t,window:r}){let a=j.useRef();a.current==null&&(a.current=b3({window:r,v5Compat:!0}));let i=a.current,[o,l]=j.useState({action:i.action,location:i.location}),d=j.useCallback(x=>{j.startTransition(()=>l(x))},[l]);return j.useLayoutEffect(()=>i.listen(d),[i,d]),j.createElement(iC,{basename:s,children:t,location:o.location,navigationType:o.action,navigator:i})}var Jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h=j.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:i,reloadDocument:o,replace:l,state:d,target:x,to:p,preventScrollReset:N,viewTransition:E,...P},A){let{basename:f}=j.useContext(Fr),L=typeof p=="string"&&Jv.test(p),k,_=!1;if(typeof p=="string"&&L&&(k=p,Xv))try{let F=new URL(window.location.href),V=p.startsWith("//")?new URL(F.protocol+p):new URL(p),H=aa(V.pathname,f);V.origin===F.origin&&H!=null?p=H+V.search+V.hash:_=!0}catch{Or(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=W3(p,{relative:i}),[M,Y,G]=EC(a,P),W=MC(p,{replace:l,state:d,target:x,preventScrollReset:N,relative:i,viewTransition:E});function D(F){t&&t(F),F.defaultPrevented||W(F)}let c=j.createElement("a",{...P,...G,href:k||z,onClick:_||o?t:D,ref:PC(A,Y),target:x,"data-discover":!L&&r==="render"?"true":void 0});return M&&!L?j.createElement(j.Fragment,null,c,j.createElement(IC,{page:z})):c});h.displayName="Link";var DC=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:i=!1,style:o,to:l,viewTransition:d,children:x,...p},N){let E=So(l,{relative:p.relative}),P=Mn(),A=j.useContext(gu),{navigator:f,basename:L}=j.useContext(Fr),k=A!=null&&FC(E)&&d===!0,_=f.encodeLocation?f.encodeLocation(E).pathname:E.pathname,z=P.pathname,M=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;r||(z=z.toLowerCase(),M=M?M.toLowerCase():null,_=_.toLowerCase()),M&&L&&(M=aa(M,L)||M);const Y=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let G=z===_||!i&&z.startsWith(_)&&z.charAt(Y)==="/",W=M!=null&&(M===_||!i&&M.startsWith(_)&&M.charAt(_.length)==="/"),D={isActive:G,isPending:W,isTransitioning:k},c=G?t:void 0,F;typeof a=="function"?F=a(D):F=[a,G?"active":null,W?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(D):o;return j.createElement(h,{...p,"aria-current":c,className:F,ref:N,style:V,to:l,viewTransition:d},typeof x=="function"?x(D):x)});DC.displayName="NavLink";var AC=j.forwardRef(({discover:s="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:i,state:o,method:l=$c,action:d,onSubmit:x,relative:p,preventScrollReset:N,viewTransition:E,...P},A)=>{let f=LC(),L=VC(d,{relative:p}),k=l.toLowerCase()==="get"?"get":"post",_=typeof d=="string"&&Jv.test(d),z=M=>{if(x&&x(M),M.defaultPrevented)return;M.preventDefault();let Y=M.nativeEvent.submitter,G=(Y==null?void 0:Y.getAttribute("formmethod"))||l;f(Y||M.currentTarget,{fetcherKey:t,method:G,navigate:r,replace:i,state:o,relative:p,preventScrollReset:N,viewTransition:E})};return j.createElement("form",{ref:A,method:k,action:L,onSubmit:a?x:z,...P,"data-discover":!_&&s==="render"?"true":void 0})});AC.displayName="Form";function RC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zv(s){let t=j.useContext(Bi);return Ft(t,RC(s)),t}function MC(s,{target:t,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}={}){let d=ct(),x=Mn(),p=So(s,{relative:o});return j.useCallback(N=>{if(xC(N,t)){N.preventDefault();let E=r!==void 0?r:io(x)===io(p);d(s,{replace:E,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[x,d,p,r,a,t,s,i,o,l])}var OC=0,zC=()=>`__${String(++OC)}__`;function LC(){let{router:s}=Zv("useSubmit"),{basename:t}=j.useContext(Fr),r=sC();return j.useCallback(async(a,i={})=>{let{action:o,method:l,encType:d,formData:x,body:p}=pC(a,t);if(i.navigate===!1){let N=i.fetcherKey||zC();await s.fetch(N,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:x,body:p,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await s.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:x,body:p,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[s,t,r])}function VC(s,{relative:t}={}){let{basename:r}=j.useContext(Fr),a=j.useContext(da);Ft(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),o={...So(s||".",{relative:t})},l=Mn();if(s==null){o.search=l.search;let d=new URLSearchParams(o.search),x=d.getAll("index");if(x.some(N=>N==="")){d.delete("index"),x.filter(E=>E).forEach(E=>d.append("index",E));let N=d.toString();o.search=N?`?${N}`:""}}return(!s||s===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Jr([r,o.pathname])),io(o)}function FC(s,t={}){let r=j.useContext(qv);Ft(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Zv("useViewTransitionState"),i=So(s,{relative:t.relative});if(!r.isTransitioning)return!1;let o=aa(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=aa(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Ed(i.pathname,l)!=null||Ed(i.pathname,o)!=null}new TextEncoder;var eN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dg=Da.createContext&&Da.createContext(eN),BC=["attr","size","title"];function UC(s,t){if(s==null)return{};var r=$C(s,t),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(i=0;i<o.length;i++)a=o[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(r[a]=s[a])}return r}function $C(s,t){if(s==null)return{};var r={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(t.indexOf(a)>=0)continue;r[a]=s[a]}return r}function Id(){return Id=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])}return s},Id.apply(this,arguments)}function Ag(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),r.push.apply(r,a)}return r}function Sd(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ag(Object(r),!0).forEach(function(a){qC(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Ag(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}function qC(s,t,r){return t=WC(t),t in s?Object.defineProperty(s,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[t]=r,s}function WC(s){var t=GC(s,"string");return typeof t=="symbol"?t:t+""}function GC(s,t){if(typeof s!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var a=r.call(s,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function tN(s){return s&&s.map((t,r)=>Da.createElement(t.tag,Sd({key:r},t.attr),tN(t.child)))}function tt(s){return t=>Da.createElement(HC,Id({attr:Sd({},s.attr)},t),tN(s.child))}function HC(s){var t=r=>{var{attr:a,size:i,title:o}=s,l=UC(s,BC),d=i||r.size||"1em",x;return r.className&&(x=r.className),s.className&&(x=(x?x+" ":"")+s.className),Da.createElement("svg",Id({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,l,{className:x,style:Sd(Sd({color:s.color||r.color},r.style),s.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Da.createElement("title",null,o),s.children)};return Dg!==void 0?Da.createElement(Dg.Consumer,null,r=>t(r)):t(eN)}function y0(s){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(s)}function QC(s){return tt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(s)}function KC(s){return tt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(s)}function Rg(s){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(s)}function b0(s){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(s)}function Mg(s){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(s)}function rt(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(s)}function sN(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(s)}function YC(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(s)}function $e(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(s)}function wc(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(s)}function _i(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(s)}function Wc(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(s)}function bu(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(s)}function XC(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(s)}function hl(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(s)}function ks(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(s)}function Og(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(s)}function Fe(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(s)}function Ee(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(s)}function qe(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(s)}function ju(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(s)}function Et(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(s)}function We(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(s)}function rN(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(s)}function xt(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(s)}function JC(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(s)}function Nt(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(s)}function _r(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(s)}function It(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(s)}function ge(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(s)}function Ge(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(s)}function He(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(s)}function zg(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(s)}function aN(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(s)}function Be(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(s)}function lo(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(s)}function ut(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(s)}function Mx(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(s)}function ZC(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(s)}function Wm(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(s)}function Z(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(s)}function Lg(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(s)}function Me(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(s)}function Ml(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(s)}function Ie(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(s)}function re(s){return tt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(s)}const eE=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=function(s){const t=[];let r=0;for(let a=0;a<s.length;a++){let i=s.charCodeAt(a);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(i=65536+((i&1023)<<10)+(s.charCodeAt(++a)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},tE=function(s){const t=[];let r=0,a=0;for(;r<s.length;){const i=s[r++];if(i<128)t[a++]=String.fromCharCode(i);else if(i>191&&i<224){const o=s[r++];t[a++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=s[r++],l=s[r++],d=s[r++],x=((i&7)<<18|(o&63)<<12|(l&63)<<6|d&63)-65536;t[a++]=String.fromCharCode(55296+(x>>10)),t[a++]=String.fromCharCode(56320+(x&1023))}else{const o=s[r++],l=s[r++];t[a++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return t.join("")},iN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let i=0;i<s.length;i+=3){const o=s[i],l=i+1<s.length,d=l?s[i+1]:0,x=i+2<s.length,p=x?s[i+2]:0,N=o>>2,E=(o&3)<<4|d>>4;let P=(d&15)<<2|p>>6,A=p&63;x||(A=64,l||(P=64)),a.push(r[N],r[E],r[P],r[A])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(nN(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):tE(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let i=0;i<s.length;){const o=r[s.charAt(i++)],d=i<s.length?r[s.charAt(i)]:0;++i;const p=i<s.length?r[s.charAt(i)]:64;++i;const E=i<s.length?r[s.charAt(i)]:64;if(++i,o==null||d==null||p==null||E==null)throw new sE;const P=o<<2|d>>4;if(a.push(P),p!==64){const A=d<<4&240|p>>2;if(a.push(A),E!==64){const f=p<<6&192|E;a.push(f)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class sE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rE=function(s){const t=nN(s);return iN.encodeByteArray(t,!0)},_d=function(s){return rE(s).replace(/\./g,"")},lN=function(s){try{return iN.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=()=>aE().__FIREBASE_DEFAULTS__,iE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const s={}.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},lE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&lN(s[1]);return t&&JSON.parse(t)},vu=()=>{try{return eE()||nE()||iE()||lE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},oN=s=>{var t,r;return(r=(t=vu())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[s]},cN=s=>{const t=oN(s);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),a]:[t.substring(0,r),a]},dN=()=>{var s;return(s=vu())===null||s===void 0?void 0:s.config},uN=s=>{var t;return(t=vu())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=t||"demo-project",i=s.iat||0,o=s.sub||s.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},s),d="";return[_d(JSON.stringify(r)),_d(JSON.stringify(l)),d].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Es())}function dE(){var s;const t=(s=vu())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function xE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mE(){const s=Es();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function hE(){return!dE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hN(){try{return typeof indexedDB=="object"}catch{return!1}}function pN(){return new Promise((s,t)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(a),s(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){t(r)}})}function pE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="FirebaseError";class or extends Error{constructor(t,r,a){super(r),this.code=t,this.customData=a,this.name=fE,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,On.prototype.create)}}class On{constructor(t,r,a){this.service=t,this.serviceName=r,this.errors=a}create(t,...r){const a=r[0]||{},i=`${this.service}/${t}`,o=this.errors[t],l=o?gE(o,a):"Error",d=`${this.serviceName}: ${l} (${i}).`;return new or(i,d,a)}}function gE(s,t){return s.replace(yE,(r,a)=>{const i=t[a];return i!=null?String(i):`<${a}?>`})}const yE=/\{\$([^}]+)}/g;function bE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ha(s,t){if(s===t)return!0;const r=Object.keys(s),a=Object.keys(t);for(const i of r){if(!a.includes(i))return!1;const o=s[i],l=t[i];if(Vg(o)&&Vg(l)){if(!Ha(o,l))return!1}else if(o!==l)return!1}for(const i of a)if(!r.includes(i))return!1;return!0}function Vg(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(s){const t=[];for(const[r,a]of Object.entries(s))Array.isArray(a)?a.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function jl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[i,o]=a.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function vl(s){const t=s.indexOf("?");if(!t)return"";const r=s.indexOf("#",t);return s.substring(t,r>0?r:void 0)}function jE(s,t){const r=new vE(s,t);return r.subscribe.bind(r)}class vE{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,a){let i;if(t===void 0&&r===void 0&&a===void 0)throw new Error("Missing Observer.");NE(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:a},i.next===void 0&&(i.next=Ox),i.error===void 0&&(i.error=Ox),i.complete===void 0&&(i.complete=Ox);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NE(s,t){if(typeof s!="object"||s===null)return!1;for(const r of t)if(r in s&&typeof s[r]=="function")return!0;return!1}function Ox(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=1e3,kE=2,CE=4*60*60*1e3,EE=.5;function Fg(s,t=wE,r=kE){const a=t*Math.pow(r,s),i=Math.round(EE*a*(Math.random()-.5)*2);return Math.min(CE,a+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(s){return s&&s._delegate?s._delegate:s}class lr{constructor(t,r,a){this.name=t,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const a=new oE;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&a.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_E(t))try{this.getOrInitializeService({instanceIdentifier:xn})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});a.resolve(o)}catch{}}}}clearInstance(t=xn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xn){return this.instances.has(t)}getOptions(t=xn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[o,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);a===d&&l.resolve(i)}return i}onInit(t,r){var a;const i=this.normalizeInstanceIdentifier(r),o=(a=this.onInitCallbacks.get(i))!==null&&a!==void 0?a:new Set;o.add(t),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&t(l,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,r){const a=this.onInitCallbacks.get(r);if(a)for(const i of a)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:SE(t),options:r}),this.instances.set(t,a),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=xn){return this.component?this.component.multipleInstances?t:xn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SE(s){return s===xn?void 0:s}function _E(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new IE(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ht||(ht={}));const TE={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},DE=ht.INFO,AE={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},RE=(s,t,...r)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),i=AE[t];if(i)console[i](`[${a}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nu{constructor(t){this.name=t,this._logLevel=DE,this._logHandler=RE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...t),this._logHandler(this,ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...t),this._logHandler(this,ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...t),this._logHandler(this,ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...t),this._logHandler(this,ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...t),this._logHandler(this,ht.ERROR,...t)}}const ME=(s,t)=>t.some(r=>s instanceof r);let Bg,Ug;function OE(){return Bg||(Bg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zE(){return Ug||(Ug=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fN=new WeakMap,Gm=new WeakMap,gN=new WeakMap,zx=new WeakMap,j0=new WeakMap;function LE(s){const t=new Promise((r,a)=>{const i=()=>{s.removeEventListener("success",o),s.removeEventListener("error",l)},o=()=>{r(Ba(s.result)),i()},l=()=>{a(s.error),i()};s.addEventListener("success",o),s.addEventListener("error",l)});return t.then(r=>{r instanceof IDBCursor&&fN.set(r,s)}).catch(()=>{}),j0.set(t,s),t}function VE(s){if(Gm.has(s))return;const t=new Promise((r,a)=>{const i=()=>{s.removeEventListener("complete",o),s.removeEventListener("error",l),s.removeEventListener("abort",l)},o=()=>{r(),i()},l=()=>{a(s.error||new DOMException("AbortError","AbortError")),i()};s.addEventListener("complete",o),s.addEventListener("error",l),s.addEventListener("abort",l)});Gm.set(s,t)}let Hm={get(s,t,r){if(s instanceof IDBTransaction){if(t==="done")return Gm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||gN.get(s);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ba(s[t])},set(s,t,r){return s[t]=r,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function FE(s){Hm=s(Hm)}function BE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const a=s.call(Lx(this),t,...r);return gN.set(a,t.sort?t.sort():[t]),Ba(a)}:zE().includes(s)?function(...t){return s.apply(Lx(this),t),Ba(fN.get(this))}:function(...t){return Ba(s.apply(Lx(this),t))}}function UE(s){return typeof s=="function"?BE(s):(s instanceof IDBTransaction&&VE(s),ME(s,OE())?new Proxy(s,Hm):s)}function Ba(s){if(s instanceof IDBRequest)return LE(s);if(zx.has(s))return zx.get(s);const t=UE(s);return t!==s&&(zx.set(s,t),j0.set(t,s)),t}const Lx=s=>j0.get(s);function yN(s,t,{blocked:r,upgrade:a,blocking:i,terminated:o}={}){const l=indexedDB.open(s,t),d=Ba(l);return a&&l.addEventListener("upgradeneeded",x=>{a(Ba(l.result),x.oldVersion,x.newVersion,Ba(l.transaction),x)}),r&&l.addEventListener("blocked",x=>r(x.oldVersion,x.newVersion,x)),d.then(x=>{o&&x.addEventListener("close",()=>o()),i&&x.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const $E=["get","getKey","getAll","getAllKeys","count"],qE=["put","add","delete","clear"],Vx=new Map;function $g(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Vx.get(t))return Vx.get(t);const r=t.replace(/FromIndex$/,""),a=t!==r,i=qE.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(i||$E.includes(r)))return;const o=async function(l,...d){const x=this.transaction(l,i?"readwrite":"readonly");let p=x.store;return a&&(p=p.index(d.shift())),(await Promise.all([p[r](...d),i&&x.done]))[0]};return Vx.set(t,o),o}FE(s=>({...s,get:(t,r,a)=>$g(t,r)||s.get(t,r,a),has:(t,r)=>!!$g(t,r)||s.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(GE(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function GE(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Qm="@firebase/app",qg="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Nu("@firebase/app"),HE="@firebase/app-compat",QE="@firebase/analytics-compat",KE="@firebase/analytics",YE="@firebase/app-check-compat",XE="@firebase/app-check",JE="@firebase/auth",ZE="@firebase/auth-compat",eI="@firebase/database",tI="@firebase/data-connect",sI="@firebase/database-compat",rI="@firebase/functions",aI="@firebase/functions-compat",nI="@firebase/installations",iI="@firebase/installations-compat",lI="@firebase/messaging",oI="@firebase/messaging-compat",cI="@firebase/performance",dI="@firebase/performance-compat",uI="@firebase/remote-config",xI="@firebase/remote-config-compat",mI="@firebase/storage",hI="@firebase/storage-compat",pI="@firebase/firestore",fI="@firebase/vertexai",gI="@firebase/firestore-compat",yI="firebase",bI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",jI={[Qm]:"fire-core",[HE]:"fire-core-compat",[KE]:"fire-analytics",[QE]:"fire-analytics-compat",[XE]:"fire-app-check",[YE]:"fire-app-check-compat",[JE]:"fire-auth",[ZE]:"fire-auth-compat",[eI]:"fire-rtdb",[tI]:"fire-data-connect",[sI]:"fire-rtdb-compat",[rI]:"fire-fn",[aI]:"fire-fn-compat",[nI]:"fire-iid",[iI]:"fire-iid-compat",[lI]:"fire-fcm",[oI]:"fire-fcm-compat",[cI]:"fire-perf",[dI]:"fire-perf-compat",[uI]:"fire-rc",[xI]:"fire-rc-compat",[mI]:"fire-gcs",[hI]:"fire-gcs-compat",[pI]:"fire-fst",[gI]:"fire-fst-compat",[fI]:"fire-vertex","fire-js":"fire-js",[yI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new Map,vI=new Map,Ym=new Map;function Wg(s,t){try{s.container.addComponent(t)}catch(r){na.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,r)}}function jr(s){const t=s.name;if(Ym.has(t))return na.debug(`There were multiple attempts to register component ${t}.`),!1;Ym.set(t,s);for(const r of Pd.values())Wg(r,s);for(const r of vI.values())Wg(r,s);return!0}function rn(s,t){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(t)}function Ws(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new On("app","Firebase",NI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,r,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=bI;function bN(s,t={}){let r=s;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Km,automaticDataCollectionEnabled:!1},t),i=a.name;if(typeof i!="string"||!i)throw Ua.create("bad-app-name",{appName:String(i)});if(r||(r=dN()),!r)throw Ua.create("no-options");const o=Pd.get(i);if(o){if(Ha(r,o.options)&&Ha(a,o.config))return o;throw Ua.create("duplicate-app",{appName:i})}const l=new PE(i);for(const x of Ym.values())l.addComponent(x);const d=new wI(r,a,l);return Pd.set(i,d),d}function wu(s=Km){const t=Pd.get(s);if(!t&&s===Km&&dN())return bN();if(!t)throw Ua.create("no-app",{appName:s});return t}function Bs(s,t,r){var a;let i=(a=jI[s])!==null&&a!==void 0?a:s;r&&(i+=`-${r}`);const o=i.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const d=[`Unable to register library "${i}" with version "${t}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&d.push("and"),l&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),na.warn(d.join(" "));return}jr(new lr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="firebase-heartbeat-database",CI=1,oo="firebase-heartbeat-store";let Fx=null;function jN(){return Fx||(Fx=yN(kI,CI,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(oo)}catch(r){console.warn(r)}}}}).catch(s=>{throw Ua.create("idb-open",{originalErrorMessage:s.message})})),Fx}async function EI(s){try{const r=(await jN()).transaction(oo),a=await r.objectStore(oo).get(vN(s));return await r.done,a}catch(t){if(t instanceof or)na.warn(t.message);else{const r=Ua.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});na.warn(r.message)}}}async function Gg(s,t){try{const a=(await jN()).transaction(oo,"readwrite");await a.objectStore(oo).put(t,vN(s)),await a.done}catch(r){if(r instanceof or)na.warn(r.message);else{const a=Ua.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});na.warn(a.message)}}}function vN(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=1024,SI=30;class _I{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new TI(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Hg();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>SI){const l=DI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){na.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Hg(),{heartbeatsToSend:a,unsentEntries:i}=PI(this._heartbeatsCache.heartbeats),o=_d(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return na.warn(r),""}}}function Hg(){return new Date().toISOString().substring(0,10)}function PI(s,t=II){const r=[];let a=s.slice();for(const i of s){const o=r.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),Qg(r)>t){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Qg(r)>t){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class TI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hN()?pN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await EI(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gg(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gg(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Qg(s){return _d(JSON.stringify({version:2,heartbeats:s})).length}function DI(s){if(s.length===0)return-1;let t=0,r=s[0].date;for(let a=1;a<s.length;a++)s[a].date<r&&(r=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(s){jr(new lr("platform-logger",t=>new WE(t),"PRIVATE")),jr(new lr("heartbeat",t=>new _I(t),"PRIVATE")),Bs(Qm,qg,s),Bs(Qm,qg,"esm2017"),Bs("fire-js","")}AI("");var RI="firebase",MI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs(RI,MI,"app");const NN="@firebase/installations",v0="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=1e4,kN=`w:${v0}`,CN="FIS_v2",OI="https://firebaseinstallations.googleapis.com/v1",zI=60*60*1e3,LI="installations",VI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},En=new On(LI,VI,FI);function EN(s){return s instanceof or&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN({projectId:s}){return`${OI}/projects/${s}/installations`}function SN(s){return{token:s.token,requestStatus:2,expiresIn:UI(s.expiresIn),creationTime:Date.now()}}async function _N(s,t){const a=(await t.json()).error;return En.create("request-failed",{requestName:s,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function PN({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function BI(s,{refreshToken:t}){const r=PN(s);return r.append("Authorization",$I(t)),r}async function TN(s){const t=await s();return t.status>=500&&t.status<600?s():t}function UI(s){return Number(s.replace("s","000"))}function $I(s){return`${CN} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI({appConfig:s,heartbeatServiceProvider:t},{fid:r}){const a=IN(s),i=PN(s),o=t.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:r,authVersion:CN,appId:s.appId,sdkVersion:kN},d={method:"POST",headers:i,body:JSON.stringify(l)},x=await TN(()=>fetch(a,d));if(x.ok){const p=await x.json();return{fid:p.fid||r,registrationStatus:2,refreshToken:p.refreshToken,authToken:SN(p.authToken)}}else throw await _N("Create Installation",x)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(s){return new Promise(t=>{setTimeout(t,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=/^[cdef][\w-]{21}$/,Xm="";function HI(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const r=QI(s);return GI.test(r)?r:Xm}catch{return Xm}}function QI(s){return WI(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Map;function RN(s,t){const r=ku(s);MN(r,t),KI(r,t)}function MN(s,t){const r=AN.get(s);if(r)for(const a of r)a(t)}function KI(s,t){const r=YI();r&&r.postMessage({key:s,fid:t}),XI()}let fn=null;function YI(){return!fn&&"BroadcastChannel"in self&&(fn=new BroadcastChannel("[Firebase] FID Change"),fn.onmessage=s=>{MN(s.data.key,s.data.fid)}),fn}function XI(){AN.size===0&&fn&&(fn.close(),fn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="firebase-installations-database",ZI=1,In="firebase-installations-store";let Bx=null;function N0(){return Bx||(Bx=yN(JI,ZI,{upgrade:(s,t)=>{switch(t){case 0:s.createObjectStore(In)}}})),Bx}async function Td(s,t){const r=ku(s),i=(await N0()).transaction(In,"readwrite"),o=i.objectStore(In),l=await o.get(r);return await o.put(t,r),await i.done,(!l||l.fid!==t.fid)&&RN(s,t.fid),t}async function ON(s){const t=ku(s),a=(await N0()).transaction(In,"readwrite");await a.objectStore(In).delete(t),await a.done}async function Cu(s,t){const r=ku(s),i=(await N0()).transaction(In,"readwrite"),o=i.objectStore(In),l=await o.get(r),d=t(l);return d===void 0?await o.delete(r):await o.put(d,r),await i.done,d&&(!l||l.fid!==d.fid)&&RN(s,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(s){let t;const r=await Cu(s.appConfig,a=>{const i=eS(a),o=tS(s,i);return t=o.registrationPromise,o.installationEntry});return r.fid===Xm?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function eS(s){const t=s||{fid:HI(),registrationStatus:0};return zN(t)}function tS(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(En.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=sS(s,r);return{installationEntry:r,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:rS(s)}:{installationEntry:t}}async function sS(s,t){try{const r=await qI(s,t);return Td(s.appConfig,r)}catch(r){throw EN(r)&&r.customData.serverCode===409?await ON(s.appConfig):await Td(s.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function rS(s){let t=await Kg(s.appConfig);for(;t.registrationStatus===1;)await DN(100),t=await Kg(s.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:a}=await w0(s);return a||r}return t}function Kg(s){return Cu(s,t=>{if(!t)throw En.create("installation-not-found");return zN(t)})}function zN(s){return aS(s)?{fid:s.fid,registrationStatus:0}:s}function aS(s){return s.registrationStatus===1&&s.registrationTime+wN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nS({appConfig:s,heartbeatServiceProvider:t},r){const a=iS(s,r),i=BI(s,r),o=t.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:kN,appId:s.appId}},d={method:"POST",headers:i,body:JSON.stringify(l)},x=await TN(()=>fetch(a,d));if(x.ok){const p=await x.json();return SN(p)}else throw await _N("Generate Auth Token",x)}function iS(s,{fid:t}){return`${IN(s)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(s,t=!1){let r;const a=await Cu(s.appConfig,o=>{if(!LN(o))throw En.create("not-registered");const l=o.authToken;if(!t&&cS(l))return o;if(l.requestStatus===1)return r=lS(s,t),o;{if(!navigator.onLine)throw En.create("app-offline");const d=uS(o);return r=oS(s,d),d}});return r?await r:a.authToken}async function lS(s,t){let r=await Yg(s.appConfig);for(;r.authToken.requestStatus===1;)await DN(100),r=await Yg(s.appConfig);const a=r.authToken;return a.requestStatus===0?k0(s,t):a}function Yg(s){return Cu(s,t=>{if(!LN(t))throw En.create("not-registered");const r=t.authToken;return xS(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function oS(s,t){try{const r=await nS(s,t),a=Object.assign(Object.assign({},t),{authToken:r});return await Td(s.appConfig,a),r}catch(r){if(EN(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await ON(s.appConfig);else{const a=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Td(s.appConfig,a)}throw r}}function LN(s){return s!==void 0&&s.registrationStatus===2}function cS(s){return s.requestStatus===2&&!dS(s)}function dS(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+zI}function uS(s){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:t})}function xS(s){return s.requestStatus===1&&s.requestTime+wN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mS(s){const t=s,{installationEntry:r,registrationPromise:a}=await w0(t);return a?a.catch(console.error):k0(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(s,t=!1){const r=s;return await pS(r),(await k0(r,t)).token}async function pS(s){const{registrationPromise:t}=await w0(s);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(s){if(!s||!s.options)throw Ux("App Configuration");if(!s.name)throw Ux("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!s.options[r])throw Ux(r);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Ux(s){return En.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="installations",gS="installations-internal",yS=s=>{const t=s.getProvider("app").getImmediate(),r=fS(t),a=rn(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},bS=s=>{const t=s.getProvider("app").getImmediate(),r=rn(t,VN).getImmediate();return{getId:()=>mS(r),getToken:i=>hS(r,i)}};function jS(){jr(new lr(VN,yS,"PUBLIC")),jr(new lr(gS,bS,"PRIVATE"))}jS();Bs(NN,v0);Bs(NN,v0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="analytics",vS="firebase_id",NS="origin",wS=60*1e3,kS="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",C0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Nu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ks=new On("analytics","Analytics",CS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(s){if(!s.startsWith(C0)){const t=Ks.create("invalid-gtag-resource",{gtagURL:s});return Us.warn(t.message),""}return s}function FN(s){return Promise.all(s.map(t=>t.catch(r=>r)))}function IS(s,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(s,t)),r}function SS(s,t){const r=IS("firebase-js-sdk-policy",{createScriptURL:ES}),a=document.createElement("script"),i=`${C0}?l=${s}&id=${t}`;a.src=r?r==null?void 0:r.createScriptURL(i):i,a.async=!0,document.head.appendChild(a)}function _S(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function PS(s,t,r,a,i,o){const l=a[i];try{if(l)await t[l];else{const x=(await FN(r)).find(p=>p.measurementId===i);x&&await t[x.appId]}}catch(d){Us.error(d)}s("config",i,o)}async function TS(s,t,r,a,i){try{let o=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const d=await FN(r);for(const x of l){const p=d.find(E=>E.measurementId===x),N=p&&t[p.appId];if(N)o.push(N);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),s("event",a,i||{})}catch(o){Us.error(o)}}function DS(s,t,r,a){async function i(o,...l){try{if(o==="event"){const[d,x]=l;await TS(s,t,r,d,x)}else if(o==="config"){const[d,x]=l;await PS(s,t,r,a,d,x)}else if(o==="consent"){const[d,x]=l;s("consent",d,x)}else if(o==="get"){const[d,x,p]=l;s("get",d,x,p)}else if(o==="set"){const[d]=l;s("set",d)}else s(o,...l)}catch(d){Us.error(d)}}return i}function AS(s,t,r,a,i){let o=function(...l){window[a].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=DS(o,s,t,r),{gtagCore:o,wrappedGtag:window[i]}}function RS(s){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(C0)&&r.src.includes(s))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=30,OS=1e3;class zS{constructor(t={},r=OS){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const BN=new zS;function LS(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function VS(s){var t;const{appId:r,apiKey:a}=s,i={method:"GET",headers:LS(a)},o=kS.replace("{app-id}",r),l=await fetch(o,i);if(l.status!==200&&l.status!==304){let d="";try{const x=await l.json();!((t=x.error)===null||t===void 0)&&t.message&&(d=x.error.message)}catch{}throw Ks.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()}async function FS(s,t=BN,r){const{appId:a,apiKey:i,measurementId:o}=s.options;if(!a)throw Ks.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:a};throw Ks.create("no-api-key")}const l=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new $S;return setTimeout(async()=>{d.abort()},r!==void 0?r:wS),UN({appId:a,apiKey:i,measurementId:o},l,d,t)}async function UN(s,{throttleEndTimeMillis:t,backoffCount:r},a,i=BN){var o;const{appId:l,measurementId:d}=s;try{await BS(a,t)}catch(x){if(d)return Us.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${x==null?void 0:x.message}]`),{appId:l,measurementId:d};throw x}try{const x=await VS(s);return i.deleteThrottleMetadata(l),x}catch(x){const p=x;if(!US(p)){if(i.deleteThrottleMetadata(l),d)return Us.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:d};throw x}const N=Number((o=p==null?void 0:p.customData)===null||o===void 0?void 0:o.httpStatus)===503?Fg(r,i.intervalMillis,MS):Fg(r,i.intervalMillis),E={throttleEndTimeMillis:Date.now()+N,backoffCount:r+1};return i.setThrottleMetadata(l,E),Us.debug(`Calling attemptFetch again in ${N} millis`),UN(s,E,a,i)}}function BS(s,t){return new Promise((r,a)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(r,i);s.addEventListener(()=>{clearTimeout(o),a(Ks.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function US(s){if(!(s instanceof or)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class $S{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function qS(s,t,r,a,i){if(i&&i.global){s("event",r,a);return}else{const o=await t,l=Object.assign(Object.assign({},a),{send_to:o});s("event",r,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(){if(hN())try{await pN()}catch(s){return Us.warn(Ks.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return Us.warn(Ks.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function GS(s,t,r,a,i,o,l){var d;const x=FS(s);x.then(A=>{r[A.measurementId]=A.appId,s.options.measurementId&&A.measurementId!==s.options.measurementId&&Us.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>Us.error(A)),t.push(x);const p=WS().then(A=>{if(A)return a.getId()}),[N,E]=await Promise.all([x,p]);RS(o)||SS(o,N.measurementId),i("js",new Date);const P=(d=l==null?void 0:l.config)!==null&&d!==void 0?d:{};return P[NS]="firebase",P.update=!0,E!=null&&(P[vS]=E),i("config",N.measurementId,P),N.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t){this.app=t}_delete(){return delete Ol[this.app.options.appId],Promise.resolve()}}let Ol={},Xg=[];const Jg={};let $x="dataLayer",QS="gtag",Zg,$N,ey=!1;function KS(){const s=[];if(mN()&&s.push("This is a browser extension environment."),pE()||s.push("Cookies are not available."),s.length>0){const t=s.map((a,i)=>`(${i+1}) ${a}`).join(" "),r=Ks.create("invalid-analytics-context",{errorInfo:t});Us.warn(r.message)}}function YS(s,t,r){KS();const a=s.options.appId;if(!a)throw Ks.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)Us.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ks.create("no-api-key");if(Ol[a]!=null)throw Ks.create("already-exists",{id:a});if(!ey){_S($x);const{wrappedGtag:o,gtagCore:l}=AS(Ol,Xg,Jg,$x,QS);$N=o,Zg=l,ey=!0}return Ol[a]=GS(s,Xg,Jg,t,Zg,$x,r),new HS(s)}function XS(s=wu()){s=Tt(s);const t=rn(s,Dd);return t.isInitialized()?t.getImmediate():JS(s)}function JS(s,t={}){const r=rn(s,Dd);if(r.isInitialized()){const i=r.getImmediate();if(Ha(t,r.getOptions()))return i;throw Ks.create("already-initialized")}return r.initialize({options:t})}function ZS(s,t,r,a){s=Tt(s),qS($N,Ol[s.app.options.appId],t,r,a).catch(i=>Us.error(i))}const ty="@firebase/analytics",sy="0.10.12";function e1(){jr(new lr(Dd,(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return YS(a,i,r)},"PUBLIC")),jr(new lr("analytics-internal",s,"PRIVATE")),Bs(ty,sy),Bs(ty,sy,"esm2017");function s(t){try{const r=t.getProvider(Dd).getImmediate();return{logEvent:(a,i,o)=>ZS(r,a,i,o)}}catch(r){throw Ks.create("interop-component-reg-failed",{reason:r})}}}e1();var ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $a,qN;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,c){function F(){}F.prototype=c.prototype,D.D=c.prototype,D.prototype=new F,D.prototype.constructor=D,D.C=function(V,H,I){for(var q=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)q[_e-2]=arguments[_e];return c.prototype[H].apply(V,q)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,c,F){F||(F=0);var V=Array(16);if(typeof c=="string")for(var H=0;16>H;++H)V[H]=c.charCodeAt(F++)|c.charCodeAt(F++)<<8|c.charCodeAt(F++)<<16|c.charCodeAt(F++)<<24;else for(H=0;16>H;++H)V[H]=c[F++]|c[F++]<<8|c[F++]<<16|c[F++]<<24;c=D.g[0],F=D.g[1],H=D.g[2];var I=D.g[3],q=c+(I^F&(H^I))+V[0]+3614090360&4294967295;c=F+(q<<7&4294967295|q>>>25),q=I+(H^c&(F^H))+V[1]+3905402710&4294967295,I=c+(q<<12&4294967295|q>>>20),q=H+(F^I&(c^F))+V[2]+606105819&4294967295,H=I+(q<<17&4294967295|q>>>15),q=F+(c^H&(I^c))+V[3]+3250441966&4294967295,F=H+(q<<22&4294967295|q>>>10),q=c+(I^F&(H^I))+V[4]+4118548399&4294967295,c=F+(q<<7&4294967295|q>>>25),q=I+(H^c&(F^H))+V[5]+1200080426&4294967295,I=c+(q<<12&4294967295|q>>>20),q=H+(F^I&(c^F))+V[6]+2821735955&4294967295,H=I+(q<<17&4294967295|q>>>15),q=F+(c^H&(I^c))+V[7]+4249261313&4294967295,F=H+(q<<22&4294967295|q>>>10),q=c+(I^F&(H^I))+V[8]+1770035416&4294967295,c=F+(q<<7&4294967295|q>>>25),q=I+(H^c&(F^H))+V[9]+2336552879&4294967295,I=c+(q<<12&4294967295|q>>>20),q=H+(F^I&(c^F))+V[10]+4294925233&4294967295,H=I+(q<<17&4294967295|q>>>15),q=F+(c^H&(I^c))+V[11]+2304563134&4294967295,F=H+(q<<22&4294967295|q>>>10),q=c+(I^F&(H^I))+V[12]+1804603682&4294967295,c=F+(q<<7&4294967295|q>>>25),q=I+(H^c&(F^H))+V[13]+4254626195&4294967295,I=c+(q<<12&4294967295|q>>>20),q=H+(F^I&(c^F))+V[14]+2792965006&4294967295,H=I+(q<<17&4294967295|q>>>15),q=F+(c^H&(I^c))+V[15]+1236535329&4294967295,F=H+(q<<22&4294967295|q>>>10),q=c+(H^I&(F^H))+V[1]+4129170786&4294967295,c=F+(q<<5&4294967295|q>>>27),q=I+(F^H&(c^F))+V[6]+3225465664&4294967295,I=c+(q<<9&4294967295|q>>>23),q=H+(c^F&(I^c))+V[11]+643717713&4294967295,H=I+(q<<14&4294967295|q>>>18),q=F+(I^c&(H^I))+V[0]+3921069994&4294967295,F=H+(q<<20&4294967295|q>>>12),q=c+(H^I&(F^H))+V[5]+3593408605&4294967295,c=F+(q<<5&4294967295|q>>>27),q=I+(F^H&(c^F))+V[10]+38016083&4294967295,I=c+(q<<9&4294967295|q>>>23),q=H+(c^F&(I^c))+V[15]+3634488961&4294967295,H=I+(q<<14&4294967295|q>>>18),q=F+(I^c&(H^I))+V[4]+3889429448&4294967295,F=H+(q<<20&4294967295|q>>>12),q=c+(H^I&(F^H))+V[9]+568446438&4294967295,c=F+(q<<5&4294967295|q>>>27),q=I+(F^H&(c^F))+V[14]+3275163606&4294967295,I=c+(q<<9&4294967295|q>>>23),q=H+(c^F&(I^c))+V[3]+4107603335&4294967295,H=I+(q<<14&4294967295|q>>>18),q=F+(I^c&(H^I))+V[8]+1163531501&4294967295,F=H+(q<<20&4294967295|q>>>12),q=c+(H^I&(F^H))+V[13]+2850285829&4294967295,c=F+(q<<5&4294967295|q>>>27),q=I+(F^H&(c^F))+V[2]+4243563512&4294967295,I=c+(q<<9&4294967295|q>>>23),q=H+(c^F&(I^c))+V[7]+1735328473&4294967295,H=I+(q<<14&4294967295|q>>>18),q=F+(I^c&(H^I))+V[12]+2368359562&4294967295,F=H+(q<<20&4294967295|q>>>12),q=c+(F^H^I)+V[5]+4294588738&4294967295,c=F+(q<<4&4294967295|q>>>28),q=I+(c^F^H)+V[8]+2272392833&4294967295,I=c+(q<<11&4294967295|q>>>21),q=H+(I^c^F)+V[11]+1839030562&4294967295,H=I+(q<<16&4294967295|q>>>16),q=F+(H^I^c)+V[14]+4259657740&4294967295,F=H+(q<<23&4294967295|q>>>9),q=c+(F^H^I)+V[1]+2763975236&4294967295,c=F+(q<<4&4294967295|q>>>28),q=I+(c^F^H)+V[4]+1272893353&4294967295,I=c+(q<<11&4294967295|q>>>21),q=H+(I^c^F)+V[7]+4139469664&4294967295,H=I+(q<<16&4294967295|q>>>16),q=F+(H^I^c)+V[10]+3200236656&4294967295,F=H+(q<<23&4294967295|q>>>9),q=c+(F^H^I)+V[13]+681279174&4294967295,c=F+(q<<4&4294967295|q>>>28),q=I+(c^F^H)+V[0]+3936430074&4294967295,I=c+(q<<11&4294967295|q>>>21),q=H+(I^c^F)+V[3]+3572445317&4294967295,H=I+(q<<16&4294967295|q>>>16),q=F+(H^I^c)+V[6]+76029189&4294967295,F=H+(q<<23&4294967295|q>>>9),q=c+(F^H^I)+V[9]+3654602809&4294967295,c=F+(q<<4&4294967295|q>>>28),q=I+(c^F^H)+V[12]+3873151461&4294967295,I=c+(q<<11&4294967295|q>>>21),q=H+(I^c^F)+V[15]+530742520&4294967295,H=I+(q<<16&4294967295|q>>>16),q=F+(H^I^c)+V[2]+3299628645&4294967295,F=H+(q<<23&4294967295|q>>>9),q=c+(H^(F|~I))+V[0]+4096336452&4294967295,c=F+(q<<6&4294967295|q>>>26),q=I+(F^(c|~H))+V[7]+1126891415&4294967295,I=c+(q<<10&4294967295|q>>>22),q=H+(c^(I|~F))+V[14]+2878612391&4294967295,H=I+(q<<15&4294967295|q>>>17),q=F+(I^(H|~c))+V[5]+4237533241&4294967295,F=H+(q<<21&4294967295|q>>>11),q=c+(H^(F|~I))+V[12]+1700485571&4294967295,c=F+(q<<6&4294967295|q>>>26),q=I+(F^(c|~H))+V[3]+2399980690&4294967295,I=c+(q<<10&4294967295|q>>>22),q=H+(c^(I|~F))+V[10]+4293915773&4294967295,H=I+(q<<15&4294967295|q>>>17),q=F+(I^(H|~c))+V[1]+2240044497&4294967295,F=H+(q<<21&4294967295|q>>>11),q=c+(H^(F|~I))+V[8]+1873313359&4294967295,c=F+(q<<6&4294967295|q>>>26),q=I+(F^(c|~H))+V[15]+4264355552&4294967295,I=c+(q<<10&4294967295|q>>>22),q=H+(c^(I|~F))+V[6]+2734768916&4294967295,H=I+(q<<15&4294967295|q>>>17),q=F+(I^(H|~c))+V[13]+1309151649&4294967295,F=H+(q<<21&4294967295|q>>>11),q=c+(H^(F|~I))+V[4]+4149444226&4294967295,c=F+(q<<6&4294967295|q>>>26),q=I+(F^(c|~H))+V[11]+3174756917&4294967295,I=c+(q<<10&4294967295|q>>>22),q=H+(c^(I|~F))+V[2]+718787259&4294967295,H=I+(q<<15&4294967295|q>>>17),q=F+(I^(H|~c))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+c&4294967295,D.g[1]=D.g[1]+(H+(q<<21&4294967295|q>>>11))&4294967295,D.g[2]=D.g[2]+H&4294967295,D.g[3]=D.g[3]+I&4294967295}a.prototype.u=function(D,c){c===void 0&&(c=D.length);for(var F=c-this.blockSize,V=this.B,H=this.h,I=0;I<c;){if(H==0)for(;I<=F;)i(this,D,I),I+=this.blockSize;if(typeof D=="string"){for(;I<c;)if(V[H++]=D.charCodeAt(I++),H==this.blockSize){i(this,V),H=0;break}}else for(;I<c;)if(V[H++]=D[I++],H==this.blockSize){i(this,V),H=0;break}}this.h=H,this.o+=c},a.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var c=1;c<D.length-8;++c)D[c]=0;var F=8*this.o;for(c=D.length-8;c<D.length;++c)D[c]=F&255,F/=256;for(this.u(D),D=Array(16),c=F=0;4>c;++c)for(var V=0;32>V;V+=8)D[F++]=this.g[c]>>>V&255;return D};function o(D,c){var F=d;return Object.prototype.hasOwnProperty.call(F,D)?F[D]:F[D]=c(D)}function l(D,c){this.h=c;for(var F=[],V=!0,H=D.length-1;0<=H;H--){var I=D[H]|0;V&&I==c||(F[H]=I,V=!1)}this.g=F}var d={};function x(D){return-128<=D&&128>D?o(D,function(c){return new l([c|0],0>c?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return E;if(0>D)return k(p(-D));for(var c=[],F=1,V=0;D>=F;V++)c[V]=D/F|0,F*=4294967296;return new l(c,0)}function N(D,c){if(D.length==0)throw Error("number format error: empty string");if(c=c||10,2>c||36<c)throw Error("radix out of range: "+c);if(D.charAt(0)=="-")return k(N(D.substring(1),c));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=p(Math.pow(c,8)),V=E,H=0;H<D.length;H+=8){var I=Math.min(8,D.length-H),q=parseInt(D.substring(H,H+I),c);8>I?(I=p(Math.pow(c,I)),V=V.j(I).add(p(q))):(V=V.j(F),V=V.add(p(q)))}return V}var E=x(0),P=x(1),A=x(16777216);s=l.prototype,s.m=function(){if(L(this))return-k(this).m();for(var D=0,c=1,F=0;F<this.g.length;F++){var V=this.i(F);D+=(0<=V?V:4294967296+V)*c,c*=4294967296}return D},s.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(f(this))return"0";if(L(this))return"-"+k(this).toString(D);for(var c=p(Math.pow(D,6)),F=this,V="";;){var H=Y(F,c).g;F=_(F,H.j(c));var I=((0<F.g.length?F.g[0]:F.h)>>>0).toString(D);if(F=H,f(F))return I+V;for(;6>I.length;)I="0"+I;V=I+V}},s.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function f(D){if(D.h!=0)return!1;for(var c=0;c<D.g.length;c++)if(D.g[c]!=0)return!1;return!0}function L(D){return D.h==-1}s.l=function(D){return D=_(this,D),L(D)?-1:f(D)?0:1};function k(D){for(var c=D.g.length,F=[],V=0;V<c;V++)F[V]=~D.g[V];return new l(F,~D.h).add(P)}s.abs=function(){return L(this)?k(this):this},s.add=function(D){for(var c=Math.max(this.g.length,D.g.length),F=[],V=0,H=0;H<=c;H++){var I=V+(this.i(H)&65535)+(D.i(H)&65535),q=(I>>>16)+(this.i(H)>>>16)+(D.i(H)>>>16);V=q>>>16,I&=65535,q&=65535,F[H]=q<<16|I}return new l(F,F[F.length-1]&-2147483648?-1:0)};function _(D,c){return D.add(k(c))}s.j=function(D){if(f(this)||f(D))return E;if(L(this))return L(D)?k(this).j(k(D)):k(k(this).j(D));if(L(D))return k(this.j(k(D)));if(0>this.l(A)&&0>D.l(A))return p(this.m()*D.m());for(var c=this.g.length+D.g.length,F=[],V=0;V<2*c;V++)F[V]=0;for(V=0;V<this.g.length;V++)for(var H=0;H<D.g.length;H++){var I=this.i(V)>>>16,q=this.i(V)&65535,_e=D.i(H)>>>16,Ce=D.i(H)&65535;F[2*V+2*H]+=q*Ce,z(F,2*V+2*H),F[2*V+2*H+1]+=I*Ce,z(F,2*V+2*H+1),F[2*V+2*H+1]+=q*_e,z(F,2*V+2*H+1),F[2*V+2*H+2]+=I*_e,z(F,2*V+2*H+2)}for(V=0;V<c;V++)F[V]=F[2*V+1]<<16|F[2*V];for(V=c;V<2*c;V++)F[V]=0;return new l(F,0)};function z(D,c){for(;(D[c]&65535)!=D[c];)D[c+1]+=D[c]>>>16,D[c]&=65535,c++}function M(D,c){this.g=D,this.h=c}function Y(D,c){if(f(c))throw Error("division by zero");if(f(D))return new M(E,E);if(L(D))return c=Y(k(D),c),new M(k(c.g),k(c.h));if(L(c))return c=Y(D,k(c)),new M(k(c.g),c.h);if(30<D.g.length){if(L(D)||L(c))throw Error("slowDivide_ only works with positive integers.");for(var F=P,V=c;0>=V.l(D);)F=G(F),V=G(V);var H=W(F,1),I=W(V,1);for(V=W(V,2),F=W(F,2);!f(V);){var q=I.add(V);0>=q.l(D)&&(H=H.add(F),I=q),V=W(V,1),F=W(F,1)}return c=_(D,H.j(c)),new M(H,c)}for(H=E;0<=D.l(c);){for(F=Math.max(1,Math.floor(D.m()/c.m())),V=Math.ceil(Math.log(F)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),I=p(F),q=I.j(c);L(q)||0<q.l(D);)F-=V,I=p(F),q=I.j(c);f(I)&&(I=P),H=H.add(I),D=_(D,q)}return new M(H,D)}s.A=function(D){return Y(this,D).h},s.and=function(D){for(var c=Math.max(this.g.length,D.g.length),F=[],V=0;V<c;V++)F[V]=this.i(V)&D.i(V);return new l(F,this.h&D.h)},s.or=function(D){for(var c=Math.max(this.g.length,D.g.length),F=[],V=0;V<c;V++)F[V]=this.i(V)|D.i(V);return new l(F,this.h|D.h)},s.xor=function(D){for(var c=Math.max(this.g.length,D.g.length),F=[],V=0;V<c;V++)F[V]=this.i(V)^D.i(V);return new l(F,this.h^D.h)};function G(D){for(var c=D.g.length+1,F=[],V=0;V<c;V++)F[V]=D.i(V)<<1|D.i(V-1)>>>31;return new l(F,D.h)}function W(D,c){var F=c>>5;c%=32;for(var V=D.g.length-F,H=[],I=0;I<V;I++)H[I]=0<c?D.i(I+F)>>>c|D.i(I+F+1)<<32-c:D.i(I+F);return new l(H,D.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,qN=a,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=N,$a=l}).apply(typeof ry<"u"?ry:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WN,Nl,GN,Gc,Jm,HN,QN,KN;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,w,T){return u==Array.prototype||u==Object.prototype||(u[w]=T.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var w=0;w<u.length;++w){var T=u[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=r(this);function i(u,w){if(w)e:{var T=a;u=u.split(".");for(var $=0;$<u.length-1;$++){var le=u[$];if(!(le in T))break e;T=T[le]}u=u[u.length-1],$=T[u],w=w($),w!=$&&w!=null&&t(T,u,{configurable:!0,writable:!0,value:w})}}function o(u,w){u instanceof String&&(u+="");var T=0,$=!1,le={next:function(){if(!$&&T<u.length){var xe=T++;return{value:w(xe,u[xe]),done:!1}}return $=!0,{done:!0,value:void 0}}};return le[Symbol.iterator]=function(){return le},le}i("Array.prototype.values",function(u){return u||function(){return o(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function x(u){var w=typeof u;return w=w!="object"?w:u?Array.isArray(u)?"array":w:"null",w=="array"||w=="object"&&typeof u.length=="number"}function p(u){var w=typeof u;return w=="object"&&u!=null||w=="function"}function N(u,w,T){return u.call.apply(u.bind,arguments)}function E(u,w,T){if(!u)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(le,$),u.apply(w,le)}}return function(){return u.apply(w,arguments)}}function P(u,w,T){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?N:E,P.apply(null,arguments)}function A(u,w){var T=Array.prototype.slice.call(arguments,1);return function(){var $=T.slice();return $.push.apply($,arguments),u.apply(this,$)}}function f(u,w){function T(){}T.prototype=w.prototype,u.aa=w.prototype,u.prototype=new T,u.prototype.constructor=u,u.Qb=function($,le,xe){for(var Pe=Array(arguments.length-2),St=2;St<arguments.length;St++)Pe[St-2]=arguments[St];return w.prototype[le].apply($,Pe)}}function L(u){const w=u.length;if(0<w){const T=Array(w);for(let $=0;$<w;$++)T[$]=u[$];return T}return[]}function k(u,w){for(let T=1;T<arguments.length;T++){const $=arguments[T];if(x($)){const le=u.length||0,xe=$.length||0;u.length=le+xe;for(let Pe=0;Pe<xe;Pe++)u[le+Pe]=$[Pe]}else u.push($)}}class _{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function z(u){return/^[\s\xa0]*$/.test(u)}function M(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function Y(u){return Y[" "](u),u}Y[" "]=function(){};var G=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function W(u,w,T){for(const $ in u)w.call(T,u[$],$,u)}function D(u,w){for(const T in u)w.call(void 0,u[T],T,u)}function c(u){const w={};for(const T in u)w[T]=u[T];return w}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,w){let T,$;for(let le=1;le<arguments.length;le++){$=arguments[le];for(T in $)u[T]=$[T];for(let xe=0;xe<F.length;xe++)T=F[xe],Object.prototype.hasOwnProperty.call($,T)&&(u[T]=$[T])}}function H(u){var w=1;u=u.split(":");const T=[];for(;0<w&&u.length;)T.push(u.shift()),w--;return u.length&&T.push(u.join(":")),T}function I(u){d.setTimeout(()=>{throw u},0)}function q(){var u=ye;let w=null;return u.g&&(w=u.g,u.g=u.g.next,u.g||(u.h=null),w.next=null),w}class _e{constructor(){this.h=this.g=null}add(w,T){const $=Ce.get();$.set(w,T),this.h?this.h.next=$:this.g=$,this.h=$}}var Ce=new _(()=>new Se,u=>u.reset());class Se{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let De,oe=!1,ye=new _e,de=()=>{const u=d.Promise.resolve(void 0);De=()=>{u.then(ae)}};var ae=()=>{for(var u;u=q();){try{u.h.call(u.g)}catch(T){I(T)}var w=Ce;w.j(u),100>w.h&&(w.h++,u.next=w.g,w.g=u)}oe=!1};function n(){this.s=this.s,this.C=this.C}n.prototype.s=!1,n.prototype.ma=function(){this.s||(this.s=!0,this.N())},n.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(u,w){this.type=u,this.g=this.target=w,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var g=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,w=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};d.addEventListener("test",T,w),d.removeEventListener("test",T,w)}catch{}return u}();function O(u,w){if(b.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var T=this.type=u.type,$=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=w,w=u.relatedTarget){if(G){e:{try{Y(w.nodeName);var le=!0;break e}catch{}le=!1}le||(w=null)}}else T=="mouseover"?w=u.fromElement:T=="mouseout"&&(w=u.toElement);this.relatedTarget=w,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:K[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&O.aa.h.call(this)}}f(O,b);var K={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var U="closure_listenable_"+(1e6*Math.random()|0),v=0;function Q(u,w,T,$,le){this.listener=u,this.proxy=null,this.src=w,this.type=T,this.capture=!!$,this.ha=le,this.key=++v,this.da=this.fa=!1}function S(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function y(u){this.src=u,this.g={},this.h=0}y.prototype.add=function(u,w,T,$,le){var xe=u.toString();u=this.g[xe],u||(u=this.g[xe]=[],this.h++);var Pe=R(u,w,$,le);return-1<Pe?(w=u[Pe],T||(w.fa=!1)):(w=new Q(w,this.src,xe,!!$,le),w.fa=T,u.push(w)),w};function m(u,w){var T=w.type;if(T in u.g){var $=u.g[T],le=Array.prototype.indexOf.call($,w,void 0),xe;(xe=0<=le)&&Array.prototype.splice.call($,le,1),xe&&(S(w),u.g[T].length==0&&(delete u.g[T],u.h--))}}function R(u,w,T,$){for(var le=0;le<u.length;++le){var xe=u[le];if(!xe.da&&xe.listener==w&&xe.capture==!!T&&xe.ha==$)return le}return-1}var J="closure_lm_"+(1e6*Math.random()|0),ee={};function X(u,w,T,$,le){if($&&$.once)return ve(u,w,T,$,le);if(Array.isArray(w)){for(var xe=0;xe<w.length;xe++)X(u,w[xe],T,$,le);return null}return T=nt(T),u&&u[U]?u.K(w,T,p($)?!!$.capture:!!$,le):ne(u,w,T,!1,$,le)}function ne(u,w,T,$,le,xe){if(!w)throw Error("Invalid event type");var Pe=p(le)?!!le.capture:!!le,St=we(u);if(St||(u[J]=St=new y(u)),T=St.add(w,T,$,Pe,xe),T.proxy)return T;if($=Ke(),T.proxy=$,$.src=u,$.listener=T,u.addEventListener)g||(le=Pe),le===void 0&&(le=!1),u.addEventListener(w.toString(),$,le);else if(u.attachEvent)u.attachEvent(pe(w.toString()),$);else if(u.addListener&&u.removeListener)u.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ke(){function u(T){return w.call(u.src,u.listener,T)}const w=ce;return u}function ve(u,w,T,$,le){if(Array.isArray(w)){for(var xe=0;xe<w.length;xe++)ve(u,w[xe],T,$,le);return null}return T=nt(T),u&&u[U]?u.L(w,T,p($)?!!$.capture:!!$,le):ne(u,w,T,!0,$,le)}function se(u,w,T,$,le){if(Array.isArray(w))for(var xe=0;xe<w.length;xe++)se(u,w[xe],T,$,le);else $=p($)?!!$.capture:!!$,T=nt(T),u&&u[U]?(u=u.i,w=String(w).toString(),w in u.g&&(xe=u.g[w],T=R(xe,T,$,le),-1<T&&(S(xe[T]),Array.prototype.splice.call(xe,T,1),xe.length==0&&(delete u.g[w],u.h--)))):u&&(u=we(u))&&(w=u.g[w.toString()],u=-1,w&&(u=R(w,T,$,le)),(T=-1<u?w[u]:null)&&ue(T))}function ue(u){if(typeof u!="number"&&u&&!u.da){var w=u.src;if(w&&w[U])m(w.i,u);else{var T=u.type,$=u.proxy;w.removeEventListener?w.removeEventListener(T,$,u.capture):w.detachEvent?w.detachEvent(pe(T),$):w.addListener&&w.removeListener&&w.removeListener($),(T=we(w))?(m(T,u),T.h==0&&(T.src=null,w[J]=null)):S(u)}}}function pe(u){return u in ee?ee[u]:ee[u]="on"+u}function ce(u,w){if(u.da)u=!0;else{w=new O(w,this);var T=u.listener,$=u.ha||u.src;u.fa&&ue(u),u=T.call($,w)}return u}function we(u){return u=u[J],u instanceof y?u:null}var at="__closure_events_fn_"+(1e9*Math.random()>>>0);function nt(u){return typeof u=="function"?u:(u[at]||(u[at]=function(w){return u.handleEvent(w)}),u[at])}function it(){n.call(this),this.i=new y(this),this.M=this,this.F=null}f(it,n),it.prototype[U]=!0,it.prototype.removeEventListener=function(u,w,T,$){se(this,u,w,T,$)};function ot(u,w){var T,$=u.F;if($)for(T=[];$;$=$.F)T.push($);if(u=u.M,$=w.type||w,typeof w=="string")w=new b(w,u);else if(w instanceof b)w.target=w.target||u;else{var le=w;w=new b($,u),V(w,le)}if(le=!0,T)for(var xe=T.length-1;0<=xe;xe--){var Pe=w.g=T[xe];le=$t(Pe,$,!0,w)&&le}if(Pe=w.g=u,le=$t(Pe,$,!0,w)&&le,le=$t(Pe,$,!1,w)&&le,T)for(xe=0;xe<T.length;xe++)Pe=w.g=T[xe],le=$t(Pe,$,!1,w)&&le}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var u=this.i,w;for(w in u.g){for(var T=u.g[w],$=0;$<T.length;$++)S(T[$]);delete u.g[w],u.h--}}this.F=null},it.prototype.K=function(u,w,T,$){return this.i.add(String(u),w,!1,T,$)},it.prototype.L=function(u,w,T,$){return this.i.add(String(u),w,!0,T,$)};function $t(u,w,T,$){if(w=u.i.g[String(w)],!w)return!0;w=w.concat();for(var le=!0,xe=0;xe<w.length;++xe){var Pe=w[xe];if(Pe&&!Pe.da&&Pe.capture==T){var St=Pe.listener,os=Pe.ha||Pe.src;Pe.fa&&m(u.i,Pe),le=St.call(os,$)!==!1&&le}}return le&&!$.defaultPrevented}function Gt(u,w,T){if(typeof u=="function")T&&(u=P(u,T));else if(u&&typeof u.handleEvent=="function")u=P(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:d.setTimeout(u,w||0)}function rs(u){u.g=Gt(()=>{u.g=null,u.i&&(u.i=!1,rs(u))},u.l);const w=u.h;u.h=null,u.m.apply(null,w)}class ma extends n{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:rs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(u){n.call(this),this.h=u,this.g={}}f(Zt,n);var wr=[];function kr(u){W(u.g,function(w,T){this.g.hasOwnProperty(T)&&ue(w)},u),u.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),kr(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ie=d.JSON.stringify,Ne=d.JSON.parse,Te=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Je(){}Je.prototype.h=null;function Dt(u){return u.h||(u.h=u.i())}function jt(){}var ha={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bn(){b.call(this,"d")}f(Bn,b);function Un(){b.call(this,"c")}f(Un,b);var cr={},Cp=null;function qo(){return Cp=Cp||new it}cr.La="serverreachability";function Ep(u){b.call(this,cr.La,u)}f(Ep,b);function Qi(u){const w=qo();ot(w,new Ep(w))}cr.STAT_EVENT="statevent";function Ip(u,w){b.call(this,cr.STAT_EVENT,u),this.stat=w}f(Ip,b);function Is(u){const w=qo();ot(w,new Ip(w,u))}cr.Ma="timingevent";function Sp(u,w){b.call(this,cr.Ma,u),this.size=w}f(Sp,b);function Ki(u,w){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},w)}function Yi(){this.g=!0}Yi.prototype.xa=function(){this.g=!1};function d2(u,w,T,$,le,xe){u.info(function(){if(u.g)if(xe)for(var Pe="",St=xe.split("&"),os=0;os<St.length;os++){var wt=St[os].split("=");if(1<wt.length){var gs=wt[0];wt=wt[1];var ys=gs.split("_");Pe=2<=ys.length&&ys[1]=="type"?Pe+(gs+"="+wt+"&"):Pe+(gs+"=redacted&")}}else Pe=null;else Pe=xe;return"XMLHTTP REQ ("+$+") [attempt "+le+"]: "+w+`
`+T+`
`+Pe})}function u2(u,w,T,$,le,xe,Pe){u.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+le+"]: "+w+`
`+T+`
`+xe+" "+Pe})}function $n(u,w,T,$){u.info(function(){return"XMLHTTP TEXT ("+w+"): "+m2(u,T)+($?" "+$:"")})}function x2(u,w){u.info(function(){return"TIMEOUT: "+w})}Yi.prototype.info=function(){};function m2(u,w){if(!u.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(u=0;u<T.length;u++)if(Array.isArray(T[u])){var $=T[u];if(!(2>$.length)){var le=$[1];if(Array.isArray(le)&&!(1>le.length)){var xe=le[0];if(xe!="noop"&&xe!="stop"&&xe!="close")for(var Pe=1;Pe<le.length;Pe++)le[Pe]=""}}}}return ie(T)}catch{return w}}var Wo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_p={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ku;function Go(){}f(Go,Je),Go.prototype.g=function(){return new XMLHttpRequest},Go.prototype.i=function(){return{}},Ku=new Go;function pa(u,w,T,$){this.j=u,this.i=w,this.l=T,this.R=$||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pp}function Pp(){this.i=null,this.g="",this.h=!1}var Tp={},Yu={};function Xu(u,w,T){u.L=1,u.v=Yo($r(w)),u.m=T,u.P=!0,Dp(u,null)}function Dp(u,w){u.F=Date.now(),Ho(u),u.A=$r(u.v);var T=u.A,$=u.R;Array.isArray($)||($=[String($)]),Gp(T.i,"t",$),u.C=0,T=u.j.J,u.h=new Pp,u.g=uf(u.j,T?w:null,!u.m),0<u.O&&(u.M=new ma(P(u.Y,u,u.g),u.O)),w=u.U,T=u.g,$=u.ca;var le="readystatechange";Array.isArray(le)||(le&&(wr[0]=le.toString()),le=wr);for(var xe=0;xe<le.length;xe++){var Pe=X(T,le[xe],$||w.handleEvent,!1,w.h||w);if(!Pe)break;w.g[Pe.key]=Pe}w=u.H?c(u.H):{},u.m?(u.u||(u.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,w)):(u.u="GET",u.g.ea(u.A,u.u,null,w)),Qi(),d2(u.i,u.u,u.A,u.l,u.R,u.m)}pa.prototype.ca=function(u){u=u.target;const w=this.M;w&&qr(u)==3?w.j():this.Y(u)},pa.prototype.Y=function(u){try{if(u==this.g)e:{const ys=qr(this.g);var w=this.g.Ba();const Gn=this.g.Z();if(!(3>ys)&&(ys!=3||this.g&&(this.h.h||this.g.oa()||Zp(this.g)))){this.J||ys!=4||w==7||(w==8||0>=Gn?Qi(3):Qi(2)),Ju(this);var T=this.g.Z();this.X=T;t:if(Ap(this)){var $=Zp(this.g);u="";var le=$.length,xe=qr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),Xi(this);var Pe="";break t}this.h.i=new d.TextDecoder}for(w=0;w<le;w++)this.h.h=!0,u+=this.h.i.decode($[w],{stream:!(xe&&w==le-1)});$.length=0,this.h.g+=u,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=T==200,u2(this.i,this.u,this.A,this.l,this.R,ys,T),this.o){if(this.T&&!this.K){t:{if(this.g){var St,os=this.g;if((St=os.g?os.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(St)){var wt=St;break t}}wt=null}if(T=wt)$n(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zu(this,T);else{this.o=!1,this.s=3,Is(12),ln(this),Xi(this);break e}}if(this.P){T=!0;let dr;for(;!this.J&&this.C<Pe.length;)if(dr=h2(this,Pe),dr==Yu){ys==4&&(this.s=4,Is(14),T=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(dr==Tp){this.s=4,Is(15),$n(this.i,this.l,Pe,"[Invalid Chunk]"),T=!1;break}else $n(this.i,this.l,dr,null),Zu(this,dr);if(Ap(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ys!=4||Pe.length!=0||this.h.h||(this.s=1,Is(16),T=!1),this.o=this.o&&T,!T)$n(this.i,this.l,Pe,"[Invalid Chunked Response]"),ln(this),Xi(this);else if(0<Pe.length&&!this.W){this.W=!0;var gs=this.j;gs.g==this&&gs.ba&&!gs.M&&(gs.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),nx(gs),gs.M=!0,Is(11))}}else $n(this.i,this.l,Pe,null),Zu(this,Pe);ys==4&&ln(this),this.o&&!this.J&&(ys==4?lf(this.j,this):(this.o=!1,Ho(this)))}else T2(this.g),T==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,Is(12)):(this.s=0,Is(13)),ln(this),Xi(this)}}}catch{}finally{}};function Ap(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function h2(u,w){var T=u.C,$=w.indexOf(`
`,T);return $==-1?Yu:(T=Number(w.substring(T,$)),isNaN(T)?Tp:($+=1,$+T>w.length?Yu:(w=w.slice($,$+T),u.C=$+T,w)))}pa.prototype.cancel=function(){this.J=!0,ln(this)};function Ho(u){u.S=Date.now()+u.I,Rp(u,u.I)}function Rp(u,w){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ki(P(u.ba,u),w)}function Ju(u){u.B&&(d.clearTimeout(u.B),u.B=null)}pa.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(x2(this.i,this.A),this.L!=2&&(Qi(),Is(17)),ln(this),this.s=2,Xi(this)):Rp(this,this.S-u)};function Xi(u){u.j.G==0||u.J||lf(u.j,u)}function ln(u){Ju(u);var w=u.M;w&&typeof w.ma=="function"&&w.ma(),u.M=null,kr(u.U),u.g&&(w=u.g,u.g=null,w.abort(),w.ma())}function Zu(u,w){try{var T=u.j;if(T.G!=0&&(T.g==u||ex(T.h,u))){if(!u.K&&ex(T.h,u)&&T.G==3){try{var $=T.Da.g.parse(w)}catch{$=null}if(Array.isArray($)&&$.length==3){var le=$;if(le[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<u.F)sc(T),ec(T);else break e;ax(T),Is(18)}}else T.za=le[1],0<T.za-T.T&&37500>le[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ki(P(T.Za,T),6e3));if(1>=zp(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else cn(T,11)}else if((u.K||T.g==u)&&sc(T),!z(w))for(le=T.Da.g.parse(w),w=0;w<le.length;w++){let wt=le[w];if(T.T=wt[0],wt=wt[1],T.G==2)if(wt[0]=="c"){T.K=wt[1],T.ia=wt[2];const gs=wt[3];gs!=null&&(T.la=gs,T.j.info("VER="+T.la));const ys=wt[4];ys!=null&&(T.Aa=ys,T.j.info("SVER="+T.Aa));const Gn=wt[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&($=1.5*Gn,T.L=$,T.j.info("backChannelRequestTimeoutMs_="+$)),$=T;const dr=u.g;if(dr){const ac=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ac){var xe=$.h;xe.g||ac.indexOf("spdy")==-1&&ac.indexOf("quic")==-1&&ac.indexOf("h2")==-1||(xe.j=xe.l,xe.g=new Set,xe.h&&(tx(xe,xe.h),xe.h=null))}if($.D){const ix=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;ix&&($.ya=ix,At($.I,$.D,ix))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-u.F,T.j.info("Handshake RTT: "+T.R+"ms")),$=T;var Pe=u;if($.qa=df($,$.J?$.ia:null,$.W),Pe.K){Lp($.h,Pe);var St=Pe,os=$.L;os&&(St.I=os),St.B&&(Ju(St),Ho(St)),$.g=Pe}else af($);0<T.i.length&&tc(T)}else wt[0]!="stop"&&wt[0]!="close"||cn(T,7);else T.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?cn(T,7):rx(T):wt[0]!="noop"&&T.l&&T.l.ta(wt),T.v=0)}}Qi(4)}catch{}}var p2=class{constructor(u,w){this.g=u,this.map=w}};function Mp(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Op(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zp(u){return u.h?1:u.g?u.g.size:0}function ex(u,w){return u.h?u.h==w:u.g?u.g.has(w):!1}function tx(u,w){u.g?u.g.add(w):u.h=w}function Lp(u,w){u.h&&u.h==w?u.h=null:u.g&&u.g.has(w)&&u.g.delete(w)}Mp.prototype.cancel=function(){if(this.i=Vp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vp(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let w=u.i;for(const T of u.g.values())w=w.concat(T.D);return w}return L(u.i)}function f2(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(x(u)){for(var w=[],T=u.length,$=0;$<T;$++)w.push(u[$]);return w}w=[],T=0;for($ in u)w[T++]=u[$];return w}function g2(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(x(u)||typeof u=="string"){var w=[];u=u.length;for(var T=0;T<u;T++)w.push(T);return w}w=[],T=0;for(const $ in u)w[T++]=$;return w}}}function Fp(u,w){if(u.forEach&&typeof u.forEach=="function")u.forEach(w,void 0);else if(x(u)||typeof u=="string")Array.prototype.forEach.call(u,w,void 0);else for(var T=g2(u),$=f2(u),le=$.length,xe=0;xe<le;xe++)w.call(void 0,$[xe],T&&T[xe],u)}var Bp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function y2(u,w){if(u){u=u.split("&");for(var T=0;T<u.length;T++){var $=u[T].indexOf("="),le=null;if(0<=$){var xe=u[T].substring(0,$);le=u[T].substring($+1)}else xe=u[T];w(xe,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function on(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof on){this.h=u.h,Qo(this,u.j),this.o=u.o,this.g=u.g,Ko(this,u.s),this.l=u.l;var w=u.i,T=new el;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Up(this,T),this.m=u.m}else u&&(w=String(u).match(Bp))?(this.h=!1,Qo(this,w[1]||"",!0),this.o=Ji(w[2]||""),this.g=Ji(w[3]||"",!0),Ko(this,w[4]),this.l=Ji(w[5]||"",!0),Up(this,w[6]||"",!0),this.m=Ji(w[7]||"")):(this.h=!1,this.i=new el(null,this.h))}on.prototype.toString=function(){var u=[],w=this.j;w&&u.push(Zi(w,$p,!0),":");var T=this.g;return(T||w=="file")&&(u.push("//"),(w=this.o)&&u.push(Zi(w,$p,!0),"@"),u.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&u.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(Zi(T,T.charAt(0)=="/"?v2:j2,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",Zi(T,w2)),u.join("")};function $r(u){return new on(u)}function Qo(u,w,T){u.j=T?Ji(w,!0):w,u.j&&(u.j=u.j.replace(/:$/,""))}function Ko(u,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);u.s=w}else u.s=null}function Up(u,w,T){w instanceof el?(u.i=w,k2(u.i,u.h)):(T||(w=Zi(w,N2)),u.i=new el(w,u.h))}function At(u,w,T){u.i.set(w,T)}function Yo(u){return At(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ji(u,w){return u?w?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zi(u,w,T){return typeof u=="string"?(u=encodeURI(u).replace(w,b2),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function b2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $p=/[#\/\?@]/g,j2=/[#\?:]/g,v2=/[#\?]/g,N2=/[#\?@]/g,w2=/#/g;function el(u,w){this.h=this.g=null,this.i=u||null,this.j=!!w}function fa(u){u.g||(u.g=new Map,u.h=0,u.i&&y2(u.i,function(w,T){u.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}s=el.prototype,s.add=function(u,w){fa(this),this.i=null,u=qn(this,u);var T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(w),this.h+=1,this};function qp(u,w){fa(u),w=qn(u,w),u.g.has(w)&&(u.i=null,u.h-=u.g.get(w).length,u.g.delete(w))}function Wp(u,w){return fa(u),w=qn(u,w),u.g.has(w)}s.forEach=function(u,w){fa(this),this.g.forEach(function(T,$){T.forEach(function(le){u.call(w,le,$,this)},this)},this)},s.na=function(){fa(this);const u=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let $=0;$<w.length;$++){const le=u[$];for(let xe=0;xe<le.length;xe++)T.push(w[$])}return T},s.V=function(u){fa(this);let w=[];if(typeof u=="string")Wp(this,u)&&(w=w.concat(this.g.get(qn(this,u))));else{u=Array.from(this.g.values());for(let T=0;T<u.length;T++)w=w.concat(u[T])}return w},s.set=function(u,w){return fa(this),this.i=null,u=qn(this,u),Wp(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[w]),this.h+=1,this},s.get=function(u,w){return u?(u=this.V(u),0<u.length?String(u[0]):w):w};function Gp(u,w,T){qp(u,w),0<T.length&&(u.i=null,u.g.set(qn(u,w),L(T)),u.h+=T.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var $=w[T];const xe=encodeURIComponent(String($)),Pe=this.V($);for($=0;$<Pe.length;$++){var le=xe;Pe[$]!==""&&(le+="="+encodeURIComponent(String(Pe[$]))),u.push(le)}}return this.i=u.join("&")};function qn(u,w){return w=String(w),u.j&&(w=w.toLowerCase()),w}function k2(u,w){w&&!u.j&&(fa(u),u.i=null,u.g.forEach(function(T,$){var le=$.toLowerCase();$!=le&&(qp(this,$),Gp(this,le,T))},u)),u.j=w}function C2(u,w){const T=new Yi;if(d.Image){const $=new Image;$.onload=A(ga,T,"TestLoadImage: loaded",!0,w,$),$.onerror=A(ga,T,"TestLoadImage: error",!1,w,$),$.onabort=A(ga,T,"TestLoadImage: abort",!1,w,$),$.ontimeout=A(ga,T,"TestLoadImage: timeout",!1,w,$),d.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=u}else w(!1)}function E2(u,w){const T=new Yi,$=new AbortController,le=setTimeout(()=>{$.abort(),ga(T,"TestPingServer: timeout",!1,w)},1e4);fetch(u,{signal:$.signal}).then(xe=>{clearTimeout(le),xe.ok?ga(T,"TestPingServer: ok",!0,w):ga(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(le),ga(T,"TestPingServer: error",!1,w)})}function ga(u,w,T,$,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),$(T)}catch{}}function I2(){this.g=new Te}function S2(u,w,T){const $=T||"";try{Fp(u,function(le,xe){let Pe=le;p(le)&&(Pe=ie(le)),w.push($+xe+"="+encodeURIComponent(Pe))})}catch(le){throw w.push($+"type="+encodeURIComponent("_badmap")),le}}function Xo(u){this.l=u.Ub||null,this.j=u.eb||!1}f(Xo,Je),Xo.prototype.g=function(){return new Jo(this.l,this.j)},Xo.prototype.i=function(u){return function(){return u}}({});function Jo(u,w){it.call(this),this.D=u,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}f(Jo,it),s=Jo.prototype,s.open=function(u,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=w,this.readyState=1,sl(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(w.body=u),(this.D||d).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tl(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,sl(this)),this.g&&(this.readyState=3,sl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hp(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hp(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var w=u.value?u.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!u.done}))&&(this.response=this.responseText+=w)}u.done?tl(this):sl(this),this.readyState==3&&Hp(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,tl(this))},s.Qa=function(u){this.g&&(this.response=u,tl(this))},s.ga=function(){this.g&&tl(this)};function tl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,sl(u)}s.setRequestHeader=function(u,w){this.u.append(u,w)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=w.next();return u.join(`\r
`)};function sl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Jo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qp(u){let w="";return W(u,function(T,$){w+=$,w+=":",w+=T,w+=`\r
`}),w}function sx(u,w,T){e:{for($ in T){var $=!1;break e}$=!0}$||(T=Qp(T),typeof u=="string"?T!=null&&encodeURIComponent(String(T)):At(u,w,T))}function qt(u){it.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}f(qt,it);var _2=/^https?$/i,P2=["POST","PUT"];s=qt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,w,T,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);w=w?w.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ku.g(),this.v=this.o?Dt(this.o):Dt(Ku),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(w,String(u),!0),this.B=!1}catch(xe){Kp(this,xe);return}if(u=T||"",T=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var le in $)T.set(le,$[le]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const xe of $.keys())T.set(xe,$.get(xe));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(T.keys()).find(xe=>xe.toLowerCase()=="content-type"),le=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(P2,w,void 0))||$||le||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xe,Pe]of T)this.g.setRequestHeader(xe,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jp(this),this.u=!0,this.g.send(u),this.u=!1}catch(xe){Kp(this,xe)}};function Kp(u,w){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=w,u.m=5,Yp(u),Zo(u)}function Yp(u){u.A||(u.A=!0,ot(u,"complete"),ot(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ot(this,"complete"),ot(this,"abort"),Zo(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zo(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Xp(this):this.bb())},s.bb=function(){Xp(this)};function Xp(u){if(u.h&&typeof l<"u"&&(!u.v[1]||qr(u)!=4||u.Z()!=2)){if(u.u&&qr(u)==4)Gt(u.Ea,0,u);else if(ot(u,"readystatechange"),qr(u)==4){u.h=!1;try{const Pe=u.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var $;if($=Pe===0){var le=String(u.D).match(Bp)[1]||null;!le&&d.self&&d.self.location&&(le=d.self.location.protocol.slice(0,-1)),$=!_2.test(le?le.toLowerCase():"")}T=$}if(T)ot(u,"complete"),ot(u,"success");else{u.m=6;try{var xe=2<qr(u)?u.g.statusText:""}catch{xe=""}u.l=xe+" ["+u.Z()+"]",Yp(u)}}finally{Zo(u)}}}}function Zo(u,w){if(u.g){Jp(u);const T=u.g,$=u.v[0]?()=>{}:null;u.g=null,u.v=null,w||ot(u,"ready");try{T.onreadystatechange=$}catch{}}}function Jp(u){u.I&&(d.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function qr(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<qr(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var w=this.g.responseText;return u&&w.indexOf(u)==0&&(w=w.substring(u.length)),Ne(w)}};function Zp(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function T2(u){const w={};u=(u.g&&2<=qr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<u.length;$++){if(z(u[$]))continue;var T=H(u[$]);const le=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const xe=w[le]||[];w[le]=xe,xe.push(T)}D(w,function($){return $.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rl(u,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||w}function ef(u){this.Aa=0,this.i=[],this.j=new Yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rl("baseRetryDelayMs",5e3,u),this.cb=rl("retryDelaySeedMs",1e4,u),this.Wa=rl("forwardChannelMaxRetries",2,u),this.wa=rl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Mp(u&&u.concurrentRequestLimit),this.Da=new I2,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ef.prototype,s.la=8,s.G=1,s.connect=function(u,w,T,$){Is(0),this.W=u,this.H=w||{},T&&$!==void 0&&(this.H.OSID=T,this.H.OAID=$),this.F=this.X,this.I=df(this,null,this.W),tc(this)};function rx(u){if(tf(u),u.G==3){var w=u.U++,T=$r(u.I);if(At(T,"SID",u.K),At(T,"RID",w),At(T,"TYPE","terminate"),al(u,T),w=new pa(u,u.j,w),w.L=2,w.v=Yo($r(T)),T=!1,d.navigator&&d.navigator.sendBeacon)try{T=d.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&d.Image&&(new Image().src=w.v,T=!0),T||(w.g=uf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ho(w)}cf(u)}function ec(u){u.g&&(nx(u),u.g.cancel(),u.g=null)}function tf(u){ec(u),u.u&&(d.clearTimeout(u.u),u.u=null),sc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function tc(u){if(!Op(u.h)&&!u.s){u.s=!0;var w=u.Ga;De||de(),oe||(De(),oe=!0),ye.add(w,u),u.B=0}}function D2(u,w){return zp(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=w.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ki(P(u.Ga,u,w),of(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const le=new pa(this,this.j,u);let xe=this.o;if(this.S&&(xe?(xe=c(xe),V(xe,this.S)):xe=this.S),this.m!==null||this.O||(le.H=xe,xe=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var $=this.i[T];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(w+=$,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=rf(this,le,w),T=$r(this.I),At(T,"RID",u),At(T,"CVER",22),this.D&&At(T,"X-HTTP-Session-Id",this.D),al(this,T),xe&&(this.O?w="headers="+encodeURIComponent(String(Qp(xe)))+"&"+w:this.m&&sx(T,this.m,xe)),tx(this.h,le),this.Ua&&At(T,"TYPE","init"),this.P?(At(T,"$req",w),At(T,"SID","null"),le.T=!0,Xu(le,T,null)):Xu(le,T,w),this.G=2}}else this.G==3&&(u?sf(this,u):this.i.length==0||Op(this.h)||sf(this))};function sf(u,w){var T;w?T=w.l:T=u.U++;const $=$r(u.I);At($,"SID",u.K),At($,"RID",T),At($,"AID",u.T),al(u,$),u.m&&u.o&&sx($,u.m,u.o),T=new pa(u,u.j,T,u.B+1),u.m===null&&(T.H=u.o),w&&(u.i=w.D.concat(u.i)),w=rf(u,T,1e3),T.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),tx(u.h,T),Xu(T,$,w)}function al(u,w){u.H&&W(u.H,function(T,$){At(w,$,T)}),u.l&&Fp({},function(T,$){At(w,$,T)})}function rf(u,w,T){T=Math.min(u.i.length,T);var $=u.l?P(u.l.Na,u.l,u):null;e:{var le=u.i;let xe=-1;for(;;){const Pe=["count="+T];xe==-1?0<T?(xe=le[0].g,Pe.push("ofs="+xe)):xe=0:Pe.push("ofs="+xe);let St=!0;for(let os=0;os<T;os++){let wt=le[os].g;const gs=le[os].map;if(wt-=xe,0>wt)xe=Math.max(0,le[os].g-100),St=!1;else try{S2(gs,Pe,"req"+wt+"_")}catch{$&&$(gs)}}if(St){$=Pe.join("&");break e}}}return u=u.i.splice(0,T),w.D=u,$}function af(u){if(!u.g&&!u.u){u.Y=1;var w=u.Fa;De||de(),oe||(De(),oe=!0),ye.add(w,u),u.v=0}}function ax(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ki(P(u.Fa,u),of(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,nf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ki(P(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Is(10),ec(this),nf(this))};function nx(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function nf(u){u.g=new pa(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var w=$r(u.qa);At(w,"RID","rpc"),At(w,"SID",u.K),At(w,"AID",u.T),At(w,"CI",u.F?"0":"1"),!u.F&&u.ja&&At(w,"TO",u.ja),At(w,"TYPE","xmlhttp"),al(u,w),u.m&&u.o&&sx(w,u.m,u.o),u.L&&(u.g.I=u.L);var T=u.g;u=u.ia,T.L=1,T.v=Yo($r(w)),T.m=null,T.P=!0,Dp(T,u)}s.Za=function(){this.C!=null&&(this.C=null,ec(this),ax(this),Is(19))};function sc(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function lf(u,w){var T=null;if(u.g==w){sc(u),nx(u),u.g=null;var $=2}else if(ex(u.h,w))T=w.D,Lp(u.h,w),$=1;else return;if(u.G!=0){if(w.o)if($==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var le=u.B;$=qo(),ot($,new Sp($,T)),tc(u)}else af(u);else if(le=w.s,le==3||le==0&&0<w.X||!($==1&&D2(u,w)||$==2&&ax(u)))switch(T&&0<T.length&&(w=u.h,w.i=w.i.concat(T)),le){case 1:cn(u,5);break;case 4:cn(u,10);break;case 3:cn(u,6);break;default:cn(u,2)}}}function of(u,w){let T=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(T*=2),T*w}function cn(u,w){if(u.j.info("Error code "+w),w==2){var T=P(u.fb,u),$=u.Xa;const le=!$;$=new on($||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qo($,"https"),Yo($),le?C2($.toString(),T):E2($.toString(),T)}else Is(2);u.G=0,u.l&&u.l.sa(w),cf(u),tf(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Is(2)):(this.j.info("Failed to ping google.com"),Is(1))};function cf(u){if(u.G=0,u.ka=[],u.l){const w=Vp(u.h);(w.length!=0||u.i.length!=0)&&(k(u.ka,w),k(u.ka,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.ra()}}function df(u,w,T){var $=T instanceof on?$r(T):new on(T);if($.g!="")w&&($.g=w+"."+$.g),Ko($,$.s);else{var le=d.location;$=le.protocol,w=w?w+"."+le.hostname:le.hostname,le=+le.port;var xe=new on(null);$&&Qo(xe,$),w&&(xe.g=w),le&&Ko(xe,le),T&&(xe.l=T),$=xe}return T=u.D,w=u.ya,T&&w&&At($,T,w),At($,"VER",u.la),al(u,$),$}function uf(u,w,T){if(w&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=u.Ca&&!u.pa?new qt(new Xo({eb:T})):new qt(u.pa),w.Ha(u.J),w}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xf(){}s=xf.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function rc(){}rc.prototype.g=function(u,w){return new $s(u,w)};function $s(u,w){it.call(this),this.g=new ef(w),this.l=u,this.h=w&&w.messageUrlParams||null,u=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(u?u["X-WebChannel-Content-Type"]=w.messageContentType:u={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(u?u["X-WebChannel-Client-Profile"]=w.va:u={"X-WebChannel-Client-Profile":w.va}),this.g.S=u,(u=w&&w.Sb)&&!z(u)&&(this.g.m=u),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!z(w)&&(this.g.D=w,u=this.h,u!==null&&w in u&&(u=this.h,w in u&&delete u[w])),this.j=new Wn(this)}f($s,it),$s.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$s.prototype.close=function(){rx(this.g)},$s.prototype.o=function(u){var w=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.u&&(T={},T.__data__=ie(u),u=T);w.i.push(new p2(w.Ya++,u)),w.G==3&&tc(w)},$s.prototype.N=function(){this.g.l=null,delete this.j,rx(this.g),delete this.g,$s.aa.N.call(this)};function mf(u){Bn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var w=u.__sm__;if(w){e:{for(const T in w){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,w=w!==null&&u in w?w[u]:void 0),this.data=w}else this.data=u}f(mf,Bn);function hf(){Un.call(this),this.status=1}f(hf,Un);function Wn(u){this.g=u}f(Wn,xf),Wn.prototype.ua=function(){ot(this.g,"a")},Wn.prototype.ta=function(u){ot(this.g,new mf(u))},Wn.prototype.sa=function(u){ot(this.g,new hf)},Wn.prototype.ra=function(){ot(this.g,"b")},rc.prototype.createWebChannel=rc.prototype.g,$s.prototype.send=$s.prototype.o,$s.prototype.open=$s.prototype.m,$s.prototype.close=$s.prototype.close,KN=function(){return new rc},QN=function(){return qo()},HN=cr,Jm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wo.NO_ERROR=0,Wo.TIMEOUT=8,Wo.HTTP_ERROR=6,Gc=Wo,_p.COMPLETE="complete",GN=_p,jt.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",it.prototype.listen=it.prototype.K,Nl=jt,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,WN=qt}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const ay="@firebase/firestore",ny="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ns.UNAUTHENTICATED=new Ns(null),Ns.GOOGLE_CREDENTIALS=new Ns("google-credentials-uid"),Ns.FIRST_PARTY=new Ns("first-party-uid"),Ns.MOCK_USER=new Ns("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ui="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new Nu("@firebase/firestore");function Qn(){return Sn.logLevel}function Oe(s,...t){if(Sn.logLevel<=ht.DEBUG){const r=t.map(E0);Sn.debug(`Firestore (${Ui}): ${s}`,...r)}}function ia(s,...t){if(Sn.logLevel<=ht.ERROR){const r=t.map(E0);Sn.error(`Firestore (${Ui}): ${s}`,...r)}}function Pi(s,...t){if(Sn.logLevel<=ht.WARN){const r=t.map(E0);Sn.warn(`Firestore (${Ui}): ${s}`,...r)}}function E0(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(s="Unexpected state"){const t=`FIRESTORE (${Ui}) INTERNAL ASSERTION FAILED: `+s;throw ia(t),new Error(t)}function yt(s,t){s||Xe()}function st(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends or{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class t1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Ns.UNAUTHENTICATED))}shutdown(){}}class s1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class r1{constructor(t){this.t=t,this.currentUser=Ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){yt(this.o===void 0);let a=this.i;const i=x=>this.i!==a?(a=this.i,r(x)):Promise.resolve();let o=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dr,t.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const x=o;t.enqueueRetryable(async()=>{await x.promise,await i(this.currentUser)})},d=x=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(x=>d(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?d(x):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dr)}},0),l()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==t?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(yt(typeof a.accessToken=="string"),new YN(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return yt(t===null||typeof t=="string"),new Ns(t)}}class a1{constructor(t,r,a){this.l=t,this.h=r,this.P=a,this.type="FirstParty",this.user=Ns.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class n1{constructor(t,r,a){this.l=t,this.h=r,this.P=a}getToken(){return Promise.resolve(new a1(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i1{constructor(t,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ws(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,r){yt(this.o===void 0);const a=o=>{o.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,Oe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>a(o))};const i=o=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new iy(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(yt(typeof r.token=="string"),this.R=r.token,new iy(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let a=0;a<s;a++)r[a]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const i=l1(40);for(let o=0;o<i.length;++o)a.length<20&&i[o]<r&&(a+=t.charAt(i[o]%62))}return a}}function lt(s,t){return s<t?-1:s>t?1:0}function Zm(s,t){let r=0;for(;r<s.length&&r<t.length;){const a=s.codePointAt(r),i=t.codePointAt(r);if(a!==i){if(a<128&&i<128)return lt(a,i);{const o=XN(),l=o1(o.encode(ly(s,r)),o.encode(ly(t,r)));return l!==0?l:lt(a,i)}}r+=a>65535?2:1}return lt(s.length,t.length)}function ly(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function o1(s,t){for(let r=0;r<s.length&&r<t.length;++r)if(s[r]!==t[r])return lt(s[r],t[r]);return lt(s.length,t.length)}function Ti(s,t,r){return s.length===t.length&&s.every((a,i)=>r(a,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=-62135596800,cy=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(t){return Kt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor((t-1e3*r)*cy);return new Kt(r,a)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<oy)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cy}_compareTo(t){return this.seconds===t.seconds?lt(this.nanoseconds,t.nanoseconds):lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-oy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(t){return new Ze(t)}static min(){return new Ze(new Kt(0,0))}static max(){return new Ze(new Kt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="__name__";class Ir{constructor(t,r,a){r===void 0?r=0:r>t.length&&Xe(),a===void 0?a=t.length-r:a>t.length-r&&Xe(),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return Ir.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Ir?t.forEach(a=>{r.push(a)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let i=0;i<a;i++){const o=Ir.compareSegments(t.get(i),r.get(i));if(o!==0)return o}return lt(t.length,r.length)}static compareSegments(t,r){const a=Ir.isNumericId(t),i=Ir.isNumericId(r);return a&&!i?-1:!a&&i?1:a&&i?Ir.extractNumericId(t).compare(Ir.extractNumericId(r)):Zm(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $a.fromString(t.substring(4,t.length-2))}}class _t extends Ir{construct(t,r,a){return new _t(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(i=>i.length>0))}return new _t(r)}static emptyPath(){return new _t([])}}const c1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class us extends Ir{construct(t,r,a){return new us(t,r,a)}static isValidIdentifier(t){return c1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),us.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dy}static keyField(){return new us([dy])}static fromServerFormat(t){const r=[];let a="",i=0;const o=()=>{if(a.length===0)throw new Re(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let l=!1;for(;i<t.length;){const d=t[i];if(d==="\\"){if(i+1===t.length)throw new Re(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const x=t[i+1];if(x!=="\\"&&x!=="."&&x!=="`")throw new Re(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=x,i+=2}else d==="`"?(l=!l,i++):d!=="."||l?(a+=d,i++):(o(),i++)}if(o(),l)throw new Re(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new us(r)}static emptyPath(){return new us([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.path=t}static fromPath(t){return new Ye(_t.fromString(t))}static fromName(t){return new Ye(_t.fromString(t).popFirst(5))}static empty(){return new Ye(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return _t.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ye(new _t(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=-1;function d1(s,t){const r=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(a===1e9?new Kt(r+1,0):new Kt(r,a));return new Qa(i,Ye.empty(),t)}function u1(s){return new Qa(s.readTime,s.key,co)}class Qa{constructor(t,r,a){this.readTime=t,this.documentKey=r,this.largestBatchId=a}static min(){return new Qa(Ze.min(),Ye.empty(),co)}static max(){return new Qa(Ze.max(),Ye.empty(),co)}}function x1(s,t){let r=s.readTime.compareTo(t.readTime);return r!==0?r:(r=Ye.comparator(s.documentKey,t.documentKey),r!==0?r:lt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $i(s){if(s.code!==fe.FAILED_PRECONDITION||s.message!==m1)throw s;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new be((a,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(a,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(a,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof be?r:be.resolve(r)}catch(r){return be.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):be.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):be.reject(r)}static resolve(t){return new be((r,a)=>{r(t)})}static reject(t){return new be((r,a)=>{a(t)})}static waitFor(t){return new be((r,a)=>{let i=0,o=0,l=!1;t.forEach(d=>{++i,d.next(()=>{++o,l&&o===i&&r()},x=>a(x))}),l=!0,o===i&&r()})}static or(t){let r=be.resolve(!1);for(const a of t)r=r.next(i=>i?be.resolve(i):a());return r}static forEach(t,r){const a=[];return t.forEach((i,o)=>{a.push(r.call(this,i,o))}),this.waitFor(a)}static mapArray(t,r){return new be((a,i)=>{const o=t.length,l=new Array(o);let d=0;for(let x=0;x<o;x++){const p=x;r(t[p]).next(N=>{l[p]=N,++d,d===o&&a(l)},N=>i(N))}})}static doWhile(t,r){return new be((a,i)=>{const o=()=>{t()===!0?r().next(()=>{o()},i):a()};o()})}}function p1(s){const t=s.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function qi(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.oe(a),this._e=a=>r.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Eu.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=-1;function Po(s){return s==null}function Ad(s){return s===0&&1/s==-1/0}function f1(s){return typeof s=="number"&&Number.isInteger(s)&&!Ad(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="";function g1(s){let t="";for(let r=0;r<s.length;r++)t.length>0&&(t=uy(t)),t=y1(s.get(r),t);return uy(t)}function y1(s,t){let r=t;const a=s.length;for(let i=0;i<a;i++){const o=s.charAt(i);switch(o){case"\0":r+="";break;case ZN:r+="";break;default:r+=o}}return r}function uy(s){return s+ZN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(s){let t=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t++;return t}function an(s,t){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t(r,s[r])}function ew(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t,r){this.comparator=t,this.root=r||ds.EMPTY}insert(t,r){return new Ut(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,ds.BLACK,null,null))}remove(t){return new Ut(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ds.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(t){let r=0,a=this.root;for(;!a.isEmpty();){const i=this.comparator(t,a.key);if(i===0)return r+a.left.size;i<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,a)=>(t(r,a),!1))}toString(){const t=[];return this.inorderTraversal((r,a)=>(t.push(`${r}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,r,a,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=r?a(t.key,r):1,r&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ds{constructor(t,r,a,i,o){this.key=t,this.value=r,this.color=a??ds.RED,this.left=i??ds.EMPTY,this.right=o??ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,a,i,o){return new ds(t??this.key,r??this.value,a??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let i=this;const o=a(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,r,a),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,a)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ds.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let a,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return ds.EMPTY;a=i.right.min(),i=i.copy(a.key,a.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const t=this.left.check();if(t!==this.right.check())throw Xe();return t+(this.isRed()?0:1)}}ds.EMPTY=null,ds.RED=!0,ds.BLACK=!1;ds.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(t,r,a,i,o){return this}insert(t,r,a){return new ds(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t){this.comparator=t,this.data=new Ut(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,a)=>(t(r),!1))}forEachInRange(t,r){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const i=a.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new my(this.data.getIterator())}getIteratorFrom(t){return new my(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(a=>{r=r.add(a)}),r}isEqual(t){if(!(t instanceof ss)||this.size!==t.size)return!1;const r=this.data.getIterator(),a=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=a.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new ss(this.comparator);return r.data=t,r}}class my{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.fields=t,t.sort(us.comparator)}static empty(){return new Hs([])}unionWith(t){let r=new ss(us.comparator);for(const a of this.fields)r=r.add(a);for(const a of t)r=r.add(a);return new Hs(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Ti(this.fields,t.fields,(r,a)=>r.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tw("Invalid base64 string: "+o):o}}(t);return new fs(r)}static fromUint8Array(t){const r=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(t);return new fs(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fs.EMPTY_BYTE_STRING=new fs("");const b1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(s){if(yt(!!s),typeof s=="string"){let t=0;const r=b1.exec(s);if(yt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ht(s.seconds),nanos:Ht(s.nanos)}}function Ht(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ya(s){return typeof s=="string"?fs.fromBase64String(s):fs.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="server_timestamp",rw="__type__",aw="__previous_value__",nw="__local_write_time__";function S0(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[rw])===null||r===void 0?void 0:r.stringValue)===sw}function Iu(s){const t=s.mapValue.fields[aw];return S0(t)?Iu(t):t}function uo(s){const t=Ka(s.mapValue.fields[nw].timestampValue);return new Kt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,r,a,i,o,l,d,x,p){this.databaseId=t,this.appId=r,this.persistenceKey=a,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=x,this.useFetchStreams=p}}const Rd="(default)";class xo{constructor(t,r){this.projectId=t,this.database=r||Rd}static empty(){return new xo("","")}get isDefaultDatabase(){return this.database===Rd}isEqual(t){return t instanceof xo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="__type__",lw="__max__",Ec={mapValue:{fields:{__type__:{stringValue:lw}}}},ow="__vector__",Md="value";function Xa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?S0(s)?4:N1(s)?9007199254740991:v1(s)?10:11:Xe()}function zr(s,t){if(s===t)return!0;const r=Xa(s);if(r!==Xa(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return uo(s).isEqual(uo(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ka(i.timestampValue),d=Ka(o.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(i,o){return Ya(i.bytesValue).isEqual(Ya(o.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(i,o){return Ht(i.geoPointValue.latitude)===Ht(o.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(o.geoPointValue.longitude)}(s,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ht(i.integerValue)===Ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Ht(i.doubleValue),d=Ht(o.doubleValue);return l===d?Ad(l)===Ad(d):isNaN(l)&&isNaN(d)}return!1}(s,t);case 9:return Ti(s.arrayValue.values||[],t.arrayValue.values||[],zr);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},d=o.mapValue.fields||{};if(xy(l)!==xy(d))return!1;for(const x in l)if(l.hasOwnProperty(x)&&(d[x]===void 0||!zr(l[x],d[x])))return!1;return!0}(s,t);default:return Xe()}}function mo(s,t){return(s.values||[]).find(r=>zr(r,t))!==void 0}function Di(s,t){if(s===t)return 0;const r=Xa(s),a=Xa(t);if(r!==a)return lt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return lt(s.booleanValue,t.booleanValue);case 2:return function(o,l){const d=Ht(o.integerValue||o.doubleValue),x=Ht(l.integerValue||l.doubleValue);return d<x?-1:d>x?1:d===x?0:isNaN(d)?isNaN(x)?0:-1:1}(s,t);case 3:return hy(s.timestampValue,t.timestampValue);case 4:return hy(uo(s),uo(t));case 5:return Zm(s.stringValue,t.stringValue);case 6:return function(o,l){const d=Ya(o),x=Ya(l);return d.compareTo(x)}(s.bytesValue,t.bytesValue);case 7:return function(o,l){const d=o.split("/"),x=l.split("/");for(let p=0;p<d.length&&p<x.length;p++){const N=lt(d[p],x[p]);if(N!==0)return N}return lt(d.length,x.length)}(s.referenceValue,t.referenceValue);case 8:return function(o,l){const d=lt(Ht(o.latitude),Ht(l.latitude));return d!==0?d:lt(Ht(o.longitude),Ht(l.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return py(s.arrayValue,t.arrayValue);case 10:return function(o,l){var d,x,p,N;const E=o.fields||{},P=l.fields||{},A=(d=E[Md])===null||d===void 0?void 0:d.arrayValue,f=(x=P[Md])===null||x===void 0?void 0:x.arrayValue,L=lt(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((N=f==null?void 0:f.values)===null||N===void 0?void 0:N.length)||0);return L!==0?L:py(A,f)}(s.mapValue,t.mapValue);case 11:return function(o,l){if(o===Ec.mapValue&&l===Ec.mapValue)return 0;if(o===Ec.mapValue)return 1;if(l===Ec.mapValue)return-1;const d=o.fields||{},x=Object.keys(d),p=l.fields||{},N=Object.keys(p);x.sort(),N.sort();for(let E=0;E<x.length&&E<N.length;++E){const P=Zm(x[E],N[E]);if(P!==0)return P;const A=Di(d[x[E]],p[N[E]]);if(A!==0)return A}return lt(x.length,N.length)}(s.mapValue,t.mapValue);default:throw Xe()}}function hy(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return lt(s,t);const r=Ka(s),a=Ka(t),i=lt(r.seconds,a.seconds);return i!==0?i:lt(r.nanos,a.nanos)}function py(s,t){const r=s.values||[],a=t.values||[];for(let i=0;i<r.length&&i<a.length;++i){const o=Di(r[i],a[i]);if(o)return o}return lt(r.length,a.length)}function Ai(s){return eh(s)}function eh(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const a=Ka(r);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return Ya(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return Ye.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let a="[",i=!0;for(const o of r.values||[])i?i=!1:a+=",",a+=eh(o);return a+"]"}(s.arrayValue):"mapValue"in s?function(r){const a=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const l of a)o?o=!1:i+=",",i+=`${l}:${eh(r.fields[l])}`;return i+"}"}(s.mapValue):Xe()}function Hc(s){switch(Xa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Iu(s);return t?16+Hc(t):16;case 5:return 2*s.stringValue.length;case 6:return Ya(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((i,o)=>i+Hc(o),0)}(s.arrayValue);case 10:case 11:return function(a){let i=0;return an(a.fields,(o,l)=>{i+=o.length+Hc(l)}),i}(s.mapValue);default:throw Xe()}}function fy(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function th(s){return!!s&&"integerValue"in s}function _0(s){return!!s&&"arrayValue"in s}function gy(s){return!!s&&"nullValue"in s}function yy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Qc(s){return!!s&&"mapValue"in s}function v1(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[iw])===null||r===void 0?void 0:r.stringValue)===ow}function zl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return an(s.mapValue.fields,(r,a)=>t.mapValue.fields[r]=zl(a)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=zl(s.arrayValue.values[r]);return t}return Object.assign({},s)}function N1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===lw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t){this.value=t}static empty(){return new _s({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let a=0;a<t.length-1;++a)if(r=(r.mapValue.fields||{})[t.get(a)],!Qc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=zl(r)}setAll(t){let r=us.emptyPath(),a={},i=[];t.forEach((l,d)=>{if(!r.isImmediateParentOf(d)){const x=this.getFieldsMap(r);this.applyChanges(x,a,i),a={},i=[],r=d.popLast()}l?a[d.lastSegment()]=zl(l):i.push(d.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,a,i)}delete(t){const r=this.field(t.popLast());Qc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return zr(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<t.length;++a){let i=r.mapValue.fields[t.get(a)];Qc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(a)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,a){an(r,(i,o)=>t[i]=o);for(const i of a)delete t[i]}clone(){return new _s(zl(this.value))}}function cw(s){const t=[];return an(s.fields,(r,a)=>{const i=new us([r]);if(Qc(a)){const o=cw(a.mapValue).fields;if(o.length===0)t.push(i);else for(const l of o)t.push(i.child(l))}else t.push(i)}),new Hs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,r,a,i,o,l,d){this.key=t,this.documentType=r,this.version=a,this.readTime=i,this.createTime=o,this.data=l,this.documentState=d}static newInvalidDocument(t){return new is(t,0,Ze.min(),Ze.min(),Ze.min(),_s.empty(),0)}static newFoundDocument(t,r,a,i){return new is(t,1,r,Ze.min(),a,i,0)}static newNoDocument(t,r){return new is(t,2,r,Ze.min(),Ze.min(),_s.empty(),0)}static newUnknownDocument(t,r){return new is(t,3,r,Ze.min(),Ze.min(),_s.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_s.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof is&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(t,r){this.position=t,this.inclusive=r}}function by(s,t,r){let a=0;for(let i=0;i<s.position.length;i++){const o=t[i],l=s.position[i];if(o.field.isKeyField()?a=Ye.comparator(Ye.fromName(l.referenceValue),r.key):a=Di(l,r.data.field(o.field)),o.dir==="desc"&&(a*=-1),a!==0)break}return a}function jy(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!zr(s.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t,r="asc"){this.field=t,this.dir=r}}function w1(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{}class Jt extends dw{constructor(t,r,a){super(),this.field=t,this.op=r,this.value=a}static create(t,r,a){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,a):new C1(t,r,a):r==="array-contains"?new S1(t,a):r==="in"?new _1(t,a):r==="not-in"?new P1(t,a):r==="array-contains-any"?new T1(t,a):new Jt(t,r,a)}static createKeyFieldInFilter(t,r,a){return r==="in"?new E1(t,a):new I1(t,a)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Di(r,this.value)):r!==null&&Xa(this.value)===Xa(r)&&this.matchesComparison(Di(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends dw{constructor(t,r){super(),this.filters=t,this.op=r,this.ce=null}static create(t,r){return new vr(t,r)}matches(t){return uw(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function uw(s){return s.op==="and"}function xw(s){return k1(s)&&uw(s)}function k1(s){for(const t of s.filters)if(t instanceof vr)return!1;return!0}function sh(s){if(s instanceof Jt)return s.field.canonicalString()+s.op.toString()+Ai(s.value);if(xw(s))return s.filters.map(t=>sh(t)).join(",");{const t=s.filters.map(r=>sh(r)).join(",");return`${s.op}(${t})`}}function mw(s,t){return s instanceof Jt?function(a,i){return i instanceof Jt&&a.op===i.op&&a.field.isEqual(i.field)&&zr(a.value,i.value)}(s,t):s instanceof vr?function(a,i){return i instanceof vr&&a.op===i.op&&a.filters.length===i.filters.length?a.filters.reduce((o,l,d)=>o&&mw(l,i.filters[d]),!0):!1}(s,t):void Xe()}function hw(s){return s instanceof Jt?function(r){return`${r.field.canonicalString()} ${r.op} ${Ai(r.value)}`}(s):s instanceof vr?function(r){return r.op.toString()+" {"+r.getFilters().map(hw).join(" ,")+"}"}(s):"Filter"}class C1 extends Jt{constructor(t,r,a){super(t,r,a),this.key=Ye.fromName(a.referenceValue)}matches(t){const r=Ye.comparator(t.key,this.key);return this.matchesComparison(r)}}class E1 extends Jt{constructor(t,r){super(t,"in",r),this.keys=pw("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class I1 extends Jt{constructor(t,r){super(t,"not-in",r),this.keys=pw("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function pw(s,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(a=>Ye.fromName(a.referenceValue))}class S1 extends Jt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return _0(r)&&mo(r.arrayValue,this.value)}}class _1 extends Jt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&mo(this.value.arrayValue,r)}}class P1 extends Jt{constructor(t,r){super(t,"not-in",r)}matches(t){if(mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!mo(this.value.arrayValue,r)}}class T1 extends Jt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!_0(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>mo(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t,r=null,a=[],i=[],o=null,l=null,d=null){this.path=t,this.collectionGroup=r,this.orderBy=a,this.filters=i,this.limit=o,this.startAt=l,this.endAt=d,this.le=null}}function vy(s,t=null,r=[],a=[],i=null,o=null,l=null){return new D1(s,t,r,a,i,o,l)}function P0(s){const t=st(s);if(t.le===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(a=>sh(a)).join(","),r+="|ob:",r+=t.orderBy.map(a=>function(o){return o.field.canonicalString()+o.dir}(a)).join(","),Po(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Ai(a)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Ai(a)).join(",")),t.le=r}return t.le}function T0(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!w1(s.orderBy[r],t.orderBy[r]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!mw(s.filters[r],t.filters[r]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!jy(s.startAt,t.startAt)&&jy(s.endAt,t.endAt)}function rh(s){return Ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t,r=null,a=[],i=[],o=null,l="F",d=null,x=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=i,this.limit=o,this.limitType=l,this.startAt=d,this.endAt=x,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function A1(s,t,r,a,i,o,l,d){return new Wi(s,t,r,a,i,o,l,d)}function Su(s){return new Wi(s)}function Ny(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function fw(s){return s.collectionGroup!==null}function Ll(s){const t=st(s);if(t.he===null){t.he=[];const r=new Set;for(const o of t.explicitOrderBy)t.he.push(o),r.add(o.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new ss(us.comparator);return l.filters.forEach(x=>{x.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(t).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||t.he.push(new ho(o,a))}),r.has(us.keyField().canonicalString())||t.he.push(new ho(us.keyField(),a))}return t.he}function Ar(s){const t=st(s);return t.Pe||(t.Pe=R1(t,Ll(s))),t.Pe}function R1(s,t){if(s.limitType==="F")return vy(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ho(i.field,o)});const r=s.endAt?new Od(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Od(s.startAt.position,s.startAt.inclusive):null;return vy(s.path,s.collectionGroup,t,s.filters,s.limit,r,a)}}function ah(s,t){const r=s.filters.concat([t]);return new Wi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),r,s.limit,s.limitType,s.startAt,s.endAt)}function zd(s,t,r){return new Wi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,r,s.startAt,s.endAt)}function _u(s,t){return T0(Ar(s),Ar(t))&&s.limitType===t.limitType}function gw(s){return`${P0(Ar(s))}|lt:${s.limitType}`}function Kn(s){return`Query(target=${function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(i=>hw(i)).join(", ")}]`),Po(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(i=>Ai(i)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(i=>Ai(i)).join(",")),`Target(${a})`}(Ar(s))}; limitType=${s.limitType})`}function Pu(s,t){return t.isFoundDocument()&&function(a,i){const o=i.key.path;return a.collectionGroup!==null?i.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(o):Ye.isDocumentKey(a.path)?a.path.isEqual(o):a.path.isImmediateParentOf(o)}(s,t)&&function(a,i){for(const o of Ll(a))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(s,t)&&function(a,i){for(const o of a.filters)if(!o.matches(i))return!1;return!0}(s,t)&&function(a,i){return!(a.startAt&&!function(l,d,x){const p=by(l,d,x);return l.inclusive?p<=0:p<0}(a.startAt,Ll(a),i)||a.endAt&&!function(l,d,x){const p=by(l,d,x);return l.inclusive?p>=0:p>0}(a.endAt,Ll(a),i))}(s,t)}function M1(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function yw(s){return(t,r)=>{let a=!1;for(const i of Ll(s)){const o=O1(i,t,r);if(o!==0)return o;a=a||i.field.isKeyField()}return 0}}function O1(s,t,r){const a=s.field.isKeyField()?Ye.comparator(t.key,r.key):function(o,l,d){const x=l.data.field(o),p=d.data.field(o);return x!==null&&p!==null?Di(x,p):Xe()}(s.field,t,r);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a!==void 0){for(const[i,o]of a)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,r){const a=this.mapKeyFn(t),i=this.inner[a];if(i===void 0)return this.inner[a]=[[t,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return!1;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return a.length===1?delete this.inner[r]:a.splice(i,1),this.innerSize--,!0;return!1}forEach(t){an(this.inner,(r,a)=>{for(const[i,o]of a)t(i,o)})}isEmpty(){return ew(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new Ut(Ye.comparator);function la(){return z1}const bw=new Ut(Ye.comparator);function wl(...s){let t=bw;for(const r of s)t=t.insert(r.key,r);return t}function jw(s){let t=bw;return s.forEach((r,a)=>t=t.insert(r,a.overlayedDocument)),t}function gn(){return Vl()}function vw(){return Vl()}function Vl(){return new Ln(s=>s.toString(),(s,t)=>s.isEqual(t))}const L1=new Ut(Ye.comparator),V1=new ss(Ye.comparator);function pt(...s){let t=V1;for(const r of s)t=t.add(r);return t}const F1=new ss(lt);function B1(){return F1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ad(t)?"-0":t}}function Nw(s){return{integerValue:""+s}}function ww(s,t){return f1(t)?Nw(t):D0(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this._=void 0}}function U1(s,t,r){return s instanceof po?function(i,o){const l={fields:{[rw]:{stringValue:sw},[nw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&S0(o)&&(o=Iu(o)),o&&(l.fields[aw]=o),{mapValue:l}}(r,t):s instanceof fo?Cw(s,t):s instanceof go?Ew(s,t):function(i,o){const l=kw(i,o),d=wy(l)+wy(i.Ie);return th(l)&&th(i.Ie)?Nw(d):D0(i.serializer,d)}(s,t)}function $1(s,t,r){return s instanceof fo?Cw(s,t):s instanceof go?Ew(s,t):r}function kw(s,t){return s instanceof yo?function(a){return th(a)||function(o){return!!o&&"doubleValue"in o}(a)}(t)?t:{integerValue:0}:null}class po extends Tu{}class fo extends Tu{constructor(t){super(),this.elements=t}}function Cw(s,t){const r=Iw(t);for(const a of s.elements)r.some(i=>zr(i,a))||r.push(a);return{arrayValue:{values:r}}}class go extends Tu{constructor(t){super(),this.elements=t}}function Ew(s,t){let r=Iw(t);for(const a of s.elements)r=r.filter(i=>!zr(i,a));return{arrayValue:{values:r}}}class yo extends Tu{constructor(t,r){super(),this.serializer=t,this.Ie=r}}function wy(s){return Ht(s.integerValue||s.doubleValue)}function Iw(s){return _0(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,r){this.field=t,this.transform=r}}function q1(s,t){return s.field.isEqual(t.field)&&function(a,i){return a instanceof fo&&i instanceof fo||a instanceof go&&i instanceof go?Ti(a.elements,i.elements,zr):a instanceof yo&&i instanceof yo?zr(a.Ie,i.Ie):a instanceof po&&i instanceof po}(s.transform,t.transform)}class W1{constructor(t,r){this.version=t,this.transformResults=r}}class xs{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new xs}static exists(t){return new xs(void 0,t)}static updateTime(t){return new xs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Du{}function _w(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Au(s.key,xs.none()):new To(s.key,s.data,xs.none());{const r=s.data,a=_s.empty();let i=new ss(us.comparator);for(let o of t.fields)if(!i.has(o)){let l=r.field(o);l===null&&o.length>1&&(o=o.popLast(),l=r.field(o)),l===null?a.delete(o):a.set(o,l),i=i.add(o)}return new nn(s.key,a,new Hs(i.toArray()),xs.none())}}function G1(s,t,r){s instanceof To?function(i,o,l){const d=i.value.clone(),x=Cy(i.fieldTransforms,o,l.transformResults);d.setAll(x),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(s,t,r):s instanceof nn?function(i,o,l){if(!Kc(i.precondition,o))return void o.convertToUnknownDocument(l.version);const d=Cy(i.fieldTransforms,o,l.transformResults),x=o.data;x.setAll(Pw(i)),x.setAll(d),o.convertToFoundDocument(l.version,x).setHasCommittedMutations()}(s,t,r):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,r)}function Fl(s,t,r,a){return s instanceof To?function(o,l,d,x){if(!Kc(o.precondition,l))return d;const p=o.value.clone(),N=Ey(o.fieldTransforms,x,l);return p.setAll(N),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(s,t,r,a):s instanceof nn?function(o,l,d,x){if(!Kc(o.precondition,l))return d;const p=Ey(o.fieldTransforms,x,l),N=l.data;return N.setAll(Pw(o)),N.setAll(p),l.convertToFoundDocument(l.version,N).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(E=>E.field))}(s,t,r,a):function(o,l,d){return Kc(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d}(s,t,r)}function H1(s,t){let r=null;for(const a of s.fieldTransforms){const i=t.data.field(a.field),o=kw(a.transform,i||null);o!=null&&(r===null&&(r=_s.empty()),r.set(a.field,o))}return r||null}function ky(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(a,i){return a===void 0&&i===void 0||!(!a||!i)&&Ti(a,i,(o,l)=>q1(o,l))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class To extends Du{constructor(t,r,a,i=[]){super(),this.key=t,this.value=r,this.precondition=a,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nn extends Du{constructor(t,r,a,i,o=[]){super(),this.key=t,this.data=r,this.fieldMask=a,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Pw(s){const t=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=s.data.field(r);t.set(r,a)}}),t}function Cy(s,t,r){const a=new Map;yt(s.length===r.length);for(let i=0;i<r.length;i++){const o=s[i],l=o.transform,d=t.data.field(o.field);a.set(o.field,$1(l,d,r[i]))}return a}function Ey(s,t,r){const a=new Map;for(const i of s){const o=i.transform,l=r.data.field(i.field);a.set(i.field,U1(o,l,t))}return a}class Au extends Du{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tw extends Du{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t,r,a,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=a,this.mutations=i}applyToRemoteDocument(t,r){const a=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&G1(o,t,a[i])}}applyToLocalView(t,r){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(r=Fl(a,t,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(r=Fl(a,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const a=vw();return this.mutations.forEach(i=>{const o=t.get(i.key),l=o.overlayedDocument;let d=this.applyToLocalView(l,o.mutatedFields);d=r.has(i.key)?null:d;const x=_w(l,d);x!==null&&a.set(i.key,x),l.isValidDocument()||l.convertToNoDocument(Ze.min())}),a}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),pt())}isEqual(t){return this.batchId===t.batchId&&Ti(this.mutations,t.mutations,(r,a)=>ky(r,a))&&Ti(this.baseMutations,t.baseMutations,(r,a)=>ky(r,a))}}class A0{constructor(t,r,a,i){this.batch=t,this.commitVersion=r,this.mutationResults=a,this.docVersions=i}static from(t,r,a){yt(t.mutations.length===a.length);let i=function(){return L1}();const o=t.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,a[l].version);return new A0(t,r,a,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,gt;function Dw(s){switch(s){case fe.OK:return Xe();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Xe()}}function Aw(s){if(s===void 0)return ia("GRPC error has no .code"),fe.UNKNOWN;switch(s){case Yt.OK:return fe.OK;case Yt.CANCELLED:return fe.CANCELLED;case Yt.UNKNOWN:return fe.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return fe.INTERNAL;case Yt.UNAVAILABLE:return fe.UNAVAILABLE;case Yt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Yt.NOT_FOUND:return fe.NOT_FOUND;case Yt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Yt.ABORTED:return fe.ABORTED;case Yt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Yt.DATA_LOSS:return fe.DATA_LOSS;default:return Xe()}}(gt=Yt||(Yt={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new $a([4294967295,4294967295],0);function Iy(s){const t=XN().encode(s),r=new qN;return r.update(t),new Uint8Array(r.digest())}function Sy(s){const t=new DataView(s.buffer),r=t.getUint32(0,!0),a=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new $a([r,a],0),new $a([i,o],0)]}class R0{constructor(t,r,a){if(this.bitmap=t,this.padding=r,this.hashCount=a,r<0||r>=8)throw new kl(`Invalid padding: ${r}`);if(a<0)throw new kl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${a}`);if(t.length===0&&r!==0)throw new kl(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*t.length-r,this.de=$a.fromNumber(this.Ee)}Ae(t,r,a){let i=t.add(r.multiply($a.fromNumber(a)));return i.compare(X1)===1&&(i=new $a([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const r=Iy(t),[a,i]=Sy(r);for(let o=0;o<this.hashCount;o++){const l=this.Ae(a,i,o);if(!this.Re(l))return!1}return!0}static create(t,r,a){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new R0(o,i,r);return a.forEach(d=>l.insert(d)),l}insert(t){if(this.Ee===0)return;const r=Iy(t),[a,i]=Sy(r);for(let o=0;o<this.hashCount;o++){const l=this.Ae(a,i,o);this.Ve(l)}}Ve(t){const r=Math.floor(t/8),a=t%8;this.bitmap[r]|=1<<a}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t,r,a,i,o){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,r,a){const i=new Map;return i.set(t,Do.createSynthesizedTargetChangeForCurrentChange(t,r,a)),new Ru(Ze.min(),i,new Ut(lt),la(),pt())}}class Do{constructor(t,r,a,i,o){this.resumeToken=t,this.current=r,this.addedDocuments=a,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,r,a){return new Do(a,r,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,r,a,i){this.me=t,this.removedTargetIds=r,this.key=a,this.fe=i}}class Rw{constructor(t,r){this.targetId=t,this.ge=r}}class Mw{constructor(t,r,a=fs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=a,this.cause=i}}class _y{constructor(){this.pe=0,this.ye=Py(),this.we=fs.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=pt(),r=pt(),a=pt();return this.ye.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:a=a.add(i);break;default:Xe()}}),new Do(this.we,this.Se,t,r,a)}Me(){this.be=!1,this.ye=Py()}xe(t,r){this.be=!0,this.ye=this.ye.insert(t,r)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,yt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class J1{constructor(t){this.ke=t,this.qe=new Map,this.Qe=la(),this.$e=Ic(),this.Ue=Ic(),this.Ke=new Ut(lt)}We(t){for(const r of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(r,t.fe):this.ze(r,t.key,t.fe);for(const r of t.removedTargetIds)this.ze(r,t.key,t.fe)}je(t){this.forEachTarget(t,r=>{const a=this.He(r);switch(t.state){case 0:this.Je(r)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(r);break;case 3:this.Je(r)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),a.Ce(t.resumeToken));break;default:Xe()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.qe.forEach((a,i)=>{this.Je(i)&&r(i)})}Ze(t){const r=t.targetId,a=t.ge.count,i=this.Xe(r);if(i){const o=i.target;if(rh(o))if(a===0){const l=new Ye(o.path);this.ze(r,l,is.newNoDocument(l,Ze.min()))}else yt(a===1);else{const l=this.et(r);if(l!==a){const d=this.tt(t),x=d?this.nt(d,t,l):1;if(x!==0){this.Ye(r);const p=x===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,p)}}}}}tt(t){const r=t.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:i=0},hashCount:o=0}=r;let l,d;try{l=Ya(a).toUint8Array()}catch(x){if(x instanceof tw)return Pi("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{d=new R0(l,i,o)}catch(x){return Pi(x instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return d.Ee===0?null:d}nt(t,r,a){return r.ge.count===a-this.st(t,r.targetId)?0:2}st(t,r){const a=this.ke.getRemoteKeysForTarget(r);let i=0;return a.forEach(o=>{const l=this.ke.it(),d=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(d)||(this.ze(r,o,null),i++)}),i}ot(t){const r=new Map;this.qe.forEach((o,l)=>{const d=this.Xe(l);if(d){if(o.current&&rh(d.target)){const x=new Ye(d.target.path);this._t(x).has(l)||this.ut(l,x)||this.ze(l,x,is.newNoDocument(x,t))}o.ve&&(r.set(l,o.Fe()),o.Me())}});let a=pt();this.Ue.forEach((o,l)=>{let d=!0;l.forEachWhile(x=>{const p=this.Xe(x);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(t));const i=new Ru(t,r,this.Ke,this.Qe,a);return this.Qe=la(),this.$e=Ic(),this.Ue=Ic(),this.Ke=new Ut(lt),i}Ge(t,r){if(!this.Je(t))return;const a=this.ut(t,r.key)?2:0;this.He(t).xe(r.key,a),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(t)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(t))}ze(t,r,a){if(!this.Je(t))return;const i=this.He(t);this.ut(t,r)?i.xe(r,1):i.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(t)),this.Ue=this.Ue.insert(r,this.ct(r).add(t)),a&&(this.Qe=this.Qe.insert(r,a))}removeTarget(t){this.qe.delete(t)}et(t){const r=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let r=this.qe.get(t);return r||(r=new _y,this.qe.set(t,r)),r}ct(t){let r=this.Ue.get(t);return r||(r=new ss(lt),this.Ue=this.Ue.insert(t,r)),r}_t(t){let r=this.$e.get(t);return r||(r=new ss(lt),this.$e=this.$e.insert(t,r)),r}Je(t){const r=this.Xe(t)!==null;return r||Oe("WatchChangeAggregator","Detected inactive target",t),r}Xe(t){const r=this.qe.get(t);return r&&r.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new _y),this.ke.getRemoteKeysForTarget(t).forEach(r=>{this.ze(t,r,null)})}ut(t,r){return this.ke.getRemoteKeysForTarget(t).has(r)}}function Ic(){return new Ut(Ye.comparator)}function Py(){return new Ut(Ye.comparator)}const Z1=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),e_=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),t_=(()=>({and:"AND",or:"OR"}))();class s_{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function nh(s,t){return s.useProto3Json||Po(t)?t:{value:t}}function Ld(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ow(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function r_(s,t){return Ld(s,t.toTimestamp())}function Ys(s){return yt(!!s),Ze.fromTimestamp(function(r){const a=Ka(r);return new Kt(a.seconds,a.nanos)}(s))}function M0(s,t){return ih(s,t).canonicalString()}function ih(s,t){const r=function(i){return new _t(["projects",i.projectId,"databases",i.database])}(s).child("documents");return t===void 0?r:r.child(t)}function zw(s){const t=_t.fromString(s);return yt($w(t)),t}function Vd(s,t){return M0(s.databaseId,t.path)}function Bl(s,t){const r=zw(t);if(r.get(1)!==s.databaseId.projectId)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new Ye(Vw(r))}function Lw(s,t){return M0(s.databaseId,t)}function a_(s){const t=zw(s);return t.length===4?_t.emptyPath():Vw(t)}function lh(s){return new _t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Vw(s){return yt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Ty(s,t,r){return{name:Vd(s,t),fields:r.value.mapValue.fields}}function n_(s,t){return"found"in t?function(a,i){yt(!!i.found),i.found.name,i.found.updateTime;const o=Bl(a,i.found.name),l=Ys(i.found.updateTime),d=i.found.createTime?Ys(i.found.createTime):Ze.min(),x=new _s({mapValue:{fields:i.found.fields}});return is.newFoundDocument(o,l,d,x)}(s,t):"missing"in t?function(a,i){yt(!!i.missing),yt(!!i.readTime);const o=Bl(a,i.missing),l=Ys(i.readTime);return is.newNoDocument(o,l)}(s,t):Xe()}function i_(s,t){let r;if("targetChange"in t){t.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Xe()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(p,N){return p.useProto3Json?(yt(N===void 0||typeof N=="string"),fs.fromBase64String(N||"")):(yt(N===void 0||N instanceof Buffer||N instanceof Uint8Array),fs.fromUint8Array(N||new Uint8Array))}(s,t.targetChange.resumeToken),l=t.targetChange.cause,d=l&&function(p){const N=p.code===void 0?fe.UNKNOWN:Aw(p.code);return new Re(N,p.message||"")}(l);r=new Mw(a,i,o,d||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const i=Bl(s,a.document.name),o=Ys(a.document.updateTime),l=a.document.createTime?Ys(a.document.createTime):Ze.min(),d=new _s({mapValue:{fields:a.document.fields}}),x=is.newFoundDocument(i,o,l,d),p=a.targetIds||[],N=a.removedTargetIds||[];r=new Yc(p,N,x.key,x)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const i=Bl(s,a.document),o=a.readTime?Ys(a.readTime):Ze.min(),l=is.newNoDocument(i,o),d=a.removedTargetIds||[];r=new Yc([],d,l.key,l)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const i=Bl(s,a.document),o=a.removedTargetIds||[];r=new Yc([],o,i,null)}else{if(!("filter"in t))return Xe();{t.filter;const a=t.filter;a.targetId;const{count:i=0,unchangedNames:o}=a,l=new Y1(i,o),d=a.targetId;r=new Rw(d,l)}}return r}function Fw(s,t){let r;if(t instanceof To)r={update:Ty(s,t.key,t.value)};else if(t instanceof Au)r={delete:Vd(s,t.key)};else if(t instanceof nn)r={update:Ty(s,t.key,t.data),updateMask:p_(t.fieldMask)};else{if(!(t instanceof Tw))return Xe();r={verify:Vd(s,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(a=>function(o,l){const d=l.transform;if(d instanceof po)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof fo)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof go)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof yo)return{fieldPath:l.field.canonicalString(),increment:d.Ie};throw Xe()}(0,a))),t.precondition.isNone||(r.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:r_(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Xe()}(s,t.precondition)),r}function l_(s,t){return s&&s.length>0?(yt(t!==void 0),s.map(r=>function(i,o){let l=i.updateTime?Ys(i.updateTime):Ys(o);return l.isEqual(Ze.min())&&(l=Ys(o)),new W1(l,i.transformResults||[])}(r,t))):[]}function o_(s,t){return{documents:[Lw(s,t.path)]}}function c_(s,t){const r={structuredQuery:{}},a=t.path;let i;t.collectionGroup!==null?(i=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=Lw(s,i);const o=function(p){if(p.length!==0)return Uw(vr.create(p,"and"))}(t.filters);o&&(r.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(N=>function(P){return{field:Yn(P.field),direction:x_(P.dir)}}(N))}(t.orderBy);l&&(r.structuredQuery.orderBy=l);const d=nh(s,t.limit);return d!==null&&(r.structuredQuery.limit=d),t.startAt&&(r.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ht:r,parent:i}}function d_(s){let t=a_(s.parent);const r=s.structuredQuery,a=r.from?r.from.length:0;let i=null;if(a>0){yt(a===1);const N=r.from[0];N.allDescendants?i=N.collectionId:t=t.child(N.collectionId)}let o=[];r.where&&(o=function(E){const P=Bw(E);return P instanceof vr&&xw(P)?P.getFilters():[P]}(r.where));let l=[];r.orderBy&&(l=function(E){return E.map(P=>function(f){return new ho(Xn(f.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(P))}(r.orderBy));let d=null;r.limit&&(d=function(E){let P;return P=typeof E=="object"?E.value:E,Po(P)?null:P}(r.limit));let x=null;r.startAt&&(x=function(E){const P=!!E.before,A=E.values||[];return new Od(A,P)}(r.startAt));let p=null;return r.endAt&&(p=function(E){const P=!E.before,A=E.values||[];return new Od(A,P)}(r.endAt)),A1(t,i,l,o,d,"F",x,p)}function u_(s,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Bw(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Xn(r.unaryFilter.field);return Jt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const i=Xn(r.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xn(r.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Xn(r.unaryFilter.field);return Jt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(s):s.fieldFilter!==void 0?function(r){return Jt.create(Xn(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return vr.create(r.compositeFilter.filters.map(a=>Bw(a)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(r.compositeFilter.op))}(s):Xe()}function x_(s){return Z1[s]}function m_(s){return e_[s]}function h_(s){return t_[s]}function Yn(s){return{fieldPath:s.canonicalString()}}function Xn(s){return us.fromServerFormat(s.fieldPath)}function Uw(s){return s instanceof Jt?function(r){if(r.op==="=="){if(yy(r.value))return{unaryFilter:{field:Yn(r.field),op:"IS_NAN"}};if(gy(r.value))return{unaryFilter:{field:Yn(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(yy(r.value))return{unaryFilter:{field:Yn(r.field),op:"IS_NOT_NAN"}};if(gy(r.value))return{unaryFilter:{field:Yn(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yn(r.field),op:m_(r.op),value:r.value}}}(s):s instanceof vr?function(r){const a=r.getFilters().map(i=>Uw(i));return a.length===1?a[0]:{compositeFilter:{op:h_(r.op),filters:a}}}(s):Xe()}function p_(s){const t=[];return s.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function $w(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,r,a,i,o=Ze.min(),l=Ze.min(),d=fs.EMPTY_BYTE_STRING,x=null){this.target=t,this.targetId=r,this.purpose=a,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=x}withSequenceNumber(t){return new Pa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t){this.Tt=t}}function g_(s){const t=d_({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?zd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.Tn=new b_}addToCollectionParentIndex(t,r){return this.Tn.add(r),be.resolve()}getCollectionParents(t,r){return be.resolve(this.Tn.getEntries(r))}addFieldIndex(t,r){return be.resolve()}deleteFieldIndex(t,r){return be.resolve()}deleteAllFieldIndexes(t){return be.resolve()}createTargetIndexes(t,r){return be.resolve()}getDocumentsMatchingTarget(t,r){return be.resolve(null)}getIndexType(t,r){return be.resolve(0)}getFieldIndexes(t,r){return be.resolve([])}getNextCollectionGroupToUpdate(t){return be.resolve(null)}getMinOffset(t,r){return be.resolve(Qa.min())}getMinOffsetFromCollectionGroup(t,r){return be.resolve(Qa.min())}updateCollectionGroup(t,r,a){return be.resolve()}updateIndexEntries(t,r){return be.resolve()}}class b_{constructor(){this.index={}}add(t){const r=t.lastSegment(),a=t.popLast(),i=this.index[r]||new ss(_t.comparator),o=!i.has(a);return this.index[r]=i.add(a),o}has(t){const r=t.lastSegment(),a=t.popLast(),i=this.index[r];return i&&i.has(a)}getEntries(t){return(this.index[t]||new ss(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qw=41943040;class Rs{static withCacheSize(t){return new Rs(t,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs.DEFAULT_COLLECTION_PERCENTILE=10,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rs.DEFAULT=new Rs(qw,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rs.DISABLED=new Rs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Ri(0)}static Kn(){return new Ri(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="LruGarbageCollector",j_=1048576;function Ry([s,t],[r,a]){const i=lt(s,r);return i===0?lt(t,a):i}class v_{constructor(t){this.Hn=t,this.buffer=new ss(Ry),this.Jn=0}Yn(){return++this.Jn}Zn(t){const r=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();Ry(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class N_{constructor(t,r,a){this.garbageCollector=t,this.asyncQueue=r,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){Oe(Ay,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){qi(r)?Oe(Ay,"Ignoring IndexedDB error during garbage collection: ",r):await $i(r)}await this.er(3e5)})}}class w_{constructor(t,r){this.tr=t,this.params=r}calculateTargetCount(t,r){return this.tr.nr(t).next(a=>Math.floor(r/100*a))}nthSequenceNumber(t,r){if(r===0)return be.resolve(Eu.ae);const a=new v_(r);return this.tr.forEachTarget(t,i=>a.Zn(i.sequenceNumber)).next(()=>this.tr.rr(t,i=>a.Zn(i))).next(()=>a.maxValue)}removeTargets(t,r,a){return this.tr.removeTargets(t,r,a)}removeOrphanedDocuments(t,r){return this.tr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(Dy)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dy):this.ir(t,r))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,r){let a,i,o,l,d,x,p;const N=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),i=this.params.maximumSequenceNumbersToCollect):i=E,l=Date.now(),this.nthSequenceNumber(t,i))).next(E=>(a=E,d=Date.now(),this.removeTargets(t,a,r))).next(E=>(o=E,x=Date.now(),this.removeOrphanedDocuments(t,a))).next(E=>(p=Date.now(),Qn()<=ht.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-N}ms
	Determined least recently used ${i} in `+(d-l)+`ms
	Removed ${o} targets in `+(x-d)+`ms
	Removed ${E} documents in `+(p-x)+`ms
Total Duration: ${p-N}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:E})))}}function k_(s,t){return new w_(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.changes=new Ln(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,is.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?be.resolve(a):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(t,r,a,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=i}getDocument(t,r){let a=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(a=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(a!==null&&Fl(a.mutation,i,Hs.empty(),Kt.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.getLocalViewOfDocuments(t,a,pt()).next(()=>a))}getLocalViewOfDocuments(t,r,a=pt()){const i=gn();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,a).next(o=>{let l=wl();return o.forEach((d,x)=>{l=l.insert(d,x.overlayedDocument)}),l}))}getOverlayedDocuments(t,r){const a=gn();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,pt()))}populateOverlays(t,r,a){const i=[];return a.forEach(o=>{r.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((l,d)=>{r.set(l,d)})})}computeViews(t,r,a,i){let o=la();const l=Vl(),d=function(){return Vl()}();return r.forEach((x,p)=>{const N=a.get(p.key);i.has(p.key)&&(N===void 0||N.mutation instanceof nn)?o=o.insert(p.key,p):N!==void 0?(l.set(p.key,N.mutation.getFieldMask()),Fl(N.mutation,p,N.mutation.getFieldMask(),Kt.now())):l.set(p.key,Hs.empty())}),this.recalculateAndSaveOverlays(t,o).next(x=>(x.forEach((p,N)=>l.set(p,N)),r.forEach((p,N)=>{var E;return d.set(p,new E_(N,(E=l.get(p))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,r){const a=Vl();let i=new Ut((l,d)=>l-d),o=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(l=>{for(const d of l)d.keys().forEach(x=>{const p=r.get(x);if(p===null)return;let N=a.get(x)||Hs.empty();N=d.applyToLocalView(p,N),a.set(x,N);const E=(i.get(d.batchId)||pt()).add(x);i=i.insert(d.batchId,E)})}).next(()=>{const l=[],d=i.getReverseIterator();for(;d.hasNext();){const x=d.getNext(),p=x.key,N=x.value,E=vw();N.forEach(P=>{if(!o.has(P)){const A=_w(r.get(P),a.get(P));A!==null&&E.set(P,A),o=o.add(P)}}),l.push(this.documentOverlayCache.saveOverlays(t,p,E))}return be.waitFor(l)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,r,a,i){return function(l){return Ye.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):fw(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,a,i):this.getDocumentsMatchingCollectionQuery(t,r,a,i)}getNextDocuments(t,r,a,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,a,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,a.largestBatchId,i-o.size):be.resolve(gn());let d=co,x=o;return l.next(p=>be.forEach(p,(N,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),o.get(N)?be.resolve():this.remoteDocumentCache.getEntry(t,N).next(P=>{x=x.insert(N,P)}))).next(()=>this.populateOverlays(t,p,o)).next(()=>this.computeViews(t,x,p,pt())).next(N=>({batchId:d,changes:jw(N)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Ye(r)).next(a=>{let i=wl();return a.isFoundDocument()&&(i=i.insert(a.key,a)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,a,i){const o=r.collectionGroup;let l=wl();return this.indexManager.getCollectionParents(t,o).next(d=>be.forEach(d,x=>{const p=function(E,P){return new Wi(P,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(r,x.child(o));return this.getDocumentsMatchingCollectionQuery(t,p,a,i).next(N=>{N.forEach((E,P)=>{l=l.insert(E,P)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,r,a,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,a.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,a,o,i))).next(l=>{o.forEach((x,p)=>{const N=p.getKey();l.get(N)===null&&(l=l.insert(N,is.newInvalidDocument(N)))});let d=wl();return l.forEach((x,p)=>{const N=o.get(x);N!==void 0&&Fl(N.mutation,p,Hs.empty(),Kt.now()),Pu(r,p)&&(d=d.insert(x,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,r){return be.resolve(this.dr.get(r))}saveBundleMetadata(t,r){return this.dr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ys(i.createTime)}}(r)),be.resolve()}getNamedQuery(t,r){return be.resolve(this.Ar.get(r))}saveNamedQuery(t,r){return this.Ar.set(r.name,function(i){return{name:i.name,query:g_(i.bundledQuery),readTime:Ys(i.readTime)}}(r)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.overlays=new Ut(Ye.comparator),this.Rr=new Map}getOverlay(t,r){return be.resolve(this.overlays.get(r))}getOverlays(t,r){const a=gn();return be.forEach(r,i=>this.getOverlay(t,i).next(o=>{o!==null&&a.set(i,o)})).next(()=>a)}saveOverlays(t,r,a){return a.forEach((i,o)=>{this.Et(t,r,o)}),be.resolve()}removeOverlaysForBatchId(t,r,a){const i=this.Rr.get(a);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(a)),be.resolve()}getOverlaysForCollection(t,r,a){const i=gn(),o=r.length+1,l=new Ye(r.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const x=d.getNext().value,p=x.getKey();if(!r.isPrefixOf(p.path))break;p.path.length===o&&x.largestBatchId>a&&i.set(x.getKey(),x)}return be.resolve(i)}getOverlaysForCollectionGroup(t,r,a,i){let o=new Ut((p,N)=>p-N);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===r&&p.largestBatchId>a){let N=o.get(p.largestBatchId);N===null&&(N=gn(),o=o.insert(p.largestBatchId,N)),N.set(p.getKey(),p)}}const d=gn(),x=o.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((p,N)=>d.set(p,N)),!(d.size()>=i)););return be.resolve(d)}Et(t,r,a){const i=this.overlays.get(a.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(a.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(a.key,new K1(r,a));let o=this.Rr.get(r);o===void 0&&(o=pt(),this.Rr.set(r,o)),this.Rr.set(r,o.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.sessionToken=fs.EMPTY_BYTE_STRING}getSessionToken(t){return be.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.Vr=new ss(as.mr),this.gr=new ss(as.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,r){const a=new as(t,r);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,r){t.forEach(a=>this.addReference(a,r))}removeReference(t,r){this.wr(new as(t,r))}Sr(t,r){t.forEach(a=>this.removeReference(a,r))}br(t){const r=new Ye(new _t([])),a=new as(r,t),i=new as(r,t+1),o=[];return this.gr.forEachInRange([a,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const r=new Ye(new _t([])),a=new as(r,t),i=new as(r,t+1);let o=pt();return this.gr.forEachInRange([a,i],l=>{o=o.add(l.key)}),o}containsKey(t){const r=new as(t,0),a=this.Vr.firstAfterOrEqual(r);return a!==null&&t.isEqual(a.key)}}class as{constructor(t,r){this.key=t,this.Cr=r}static mr(t,r){return Ye.comparator(t.key,r.key)||lt(t.Cr,r.Cr)}static pr(t,r){return lt(t.Cr,r.Cr)||Ye.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new ss(as.mr)}checkEmpty(t){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,a,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Q1(o,r,a,i);this.mutationQueue.push(l);for(const d of i)this.Mr=this.Mr.add(new as(d.key,o)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return be.resolve(l)}lookupMutationBatch(t,r){return be.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(t,r){const a=r+1,i=this.Nr(a),o=i<0?0:i;return be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?I0:this.Fr-1)}getAllMutationBatches(t){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const a=new as(r,0),i=new as(r,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([a,i],l=>{const d=this.Or(l.Cr);o.push(d)}),be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new ss(lt);return r.forEach(i=>{const o=new as(i,0),l=new as(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],d=>{a=a.add(d.Cr)})}),be.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,i=a.length+1;let o=a;Ye.isDocumentKey(o)||(o=o.child(""));const l=new as(new Ye(o),0);let d=new ss(lt);return this.Mr.forEachWhile(x=>{const p=x.key.path;return!!a.isPrefixOf(p)&&(p.length===i&&(d=d.add(x.Cr)),!0)},l),be.resolve(this.Br(d))}Br(t){const r=[];return t.forEach(a=>{const i=this.Or(a);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){yt(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return be.forEach(r.mutations,i=>{const o=new as(i.key,r.batchId);return a=a.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,r){const a=new as(r,0),i=this.Mr.firstAfterOrEqual(a);return be.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,be.resolve()}Lr(t,r){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const r=this.Nr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(t){this.kr=t,this.docs=function(){return new Ut(Ye.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const a=r.key,i=this.docs.get(a),o=i?i.size:0,l=this.kr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const a=this.docs.get(r);return be.resolve(a?a.document.mutableCopy():is.newInvalidDocument(r))}getEntries(t,r){let a=la();return r.forEach(i=>{const o=this.docs.get(i);a=a.insert(i,o?o.document.mutableCopy():is.newInvalidDocument(i))}),be.resolve(a)}getDocumentsMatchingQuery(t,r,a,i){let o=la();const l=r.path,d=new Ye(l.child("__id-9223372036854775808__")),x=this.docs.getIteratorFrom(d);for(;x.hasNext();){const{key:p,value:{document:N}}=x.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||x1(u1(N),a)<=0||(i.has(N.key)||Pu(r,N))&&(o=o.insert(N.key,N.mutableCopy()))}return be.resolve(o)}getAllFromCollectionGroup(t,r,a,i){Xe()}qr(t,r){return be.forEach(this.docs,a=>r(a))}newChangeBuffer(t){return new A_(this)}getSize(t){return be.resolve(this.size)}}class A_ extends C_{constructor(t){super(),this.Ir=t}applyChanges(t){const r=[];return this.changes.forEach((a,i)=>{i.isValidDocument()?r.push(this.Ir.addEntry(t,i)):this.Ir.removeEntry(a)}),be.waitFor(r)}getFromCache(t,r){return this.Ir.getEntry(t,r)}getAllFromCache(t,r){return this.Ir.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(t){this.persistence=t,this.Qr=new Ln(r=>P0(r),T0),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.$r=0,this.Ur=new O0,this.targetCount=0,this.Kr=Ri.Un()}forEachTarget(t,r){return this.Qr.forEach((a,i)=>r(i)),be.resolve()}getLastRemoteSnapshotVersion(t){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return be.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(t,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.$r&&(this.$r=r),be.resolve()}zn(t){this.Qr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Kr=new Ri(r),this.highestTargetId=r),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,r){return this.zn(r),this.targetCount+=1,be.resolve()}updateTargetData(t,r){return this.zn(r),be.resolve()}removeTargetData(t,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,be.resolve()}removeTargets(t,r,a){let i=0;const o=[];return this.Qr.forEach((l,d)=>{d.sequenceNumber<=r&&a.get(d.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(t,d.targetId)),i++)}),be.waitFor(o).next(()=>i)}getTargetCount(t){return be.resolve(this.targetCount)}getTargetData(t,r){const a=this.Qr.get(r)||null;return be.resolve(a)}addMatchingKeys(t,r,a){return this.Ur.yr(r,a),be.resolve()}removeMatchingKeys(t,r,a){this.Ur.Sr(r,a);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach(l=>{o.push(i.markPotentiallyOrphaned(t,l))}),be.waitFor(o)}removeMatchingKeysForTargetId(t,r){return this.Ur.br(r),be.resolve()}getMatchingKeysForTargetId(t,r){const a=this.Ur.vr(r);return be.resolve(a)}containsKey(t,r){return be.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,r){this.Wr={},this.overlays={},this.Gr=new Eu(0),this.zr=!1,this.zr=!0,this.jr=new P_,this.referenceDelegate=t(this),this.Hr=new R_(this),this.indexManager=new y_,this.remoteDocumentCache=function(i){return new D_(i)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new f_(r),this.Yr=new S_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new __,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let a=this.Wr[t.toKey()];return a||(a=new T_(r,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,r,a){Oe("MemoryPersistence","Starting transaction:",t);const i=new M_(this.Gr.next());return this.referenceDelegate.Zr(),a(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(t,r){return be.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,r)))}}class M_ extends h1{constructor(t){super(),this.currentSequenceNumber=t}}class z0{constructor(t){this.persistence=t,this.ti=new O0,this.ni=null}static ri(t){return new z0(t)}get ii(){if(this.ni)return this.ni;throw Xe()}addReference(t,r,a){return this.ti.addReference(a,r),this.ii.delete(a.toString()),be.resolve()}removeReference(t,r,a){return this.ti.removeReference(a,r),this.ii.add(a.toString()),be.resolve()}markPotentiallyOrphaned(t,r){return this.ii.add(r.toString()),be.resolve()}removeTarget(t,r){this.ti.br(r.targetId).forEach(i=>this.ii.add(i.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>a.removeTargetData(t,r))}Zr(){this.ni=new Set}Xr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.ii,a=>{const i=Ye.fromPath(a);return this.si(t,i).next(o=>{o||r.removeEntry(i,Ze.min())})}).next(()=>(this.ni=null,r.apply(t)))}updateLimboDocument(t,r){return this.si(t,r).next(a=>{a?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(t){return 0}si(t,r){return be.or([()=>be.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.ei(t,r)])}}class Fd{constructor(t,r){this.persistence=t,this.oi=new Ln(a=>g1(a.path),(a,i)=>a.isEqual(i)),this.garbageCollector=k_(this,r)}static ri(t,r){return new Fd(t,r)}Zr(){}Xr(t){return be.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}nr(t){const r=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>r.next(i=>a+i))}sr(t){let r=0;return this.rr(t,a=>{r++}).next(()=>r)}rr(t,r){return be.forEach(this.oi,(a,i)=>this.ar(t,a,i).next(o=>o?be.resolve():r(i)))}removeTargets(t,r,a){return this.persistence.getTargetCache().removeTargets(t,r,a)}removeOrphanedDocuments(t,r){let a=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(t,l=>this.ar(t,l,r).next(d=>{d||(a++,o.removeEntry(l,Ze.min()))})).next(()=>o.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,r){return this.oi.set(r,t.currentSequenceNumber),be.resolve()}removeTarget(t,r){const a=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,r,a){return this.oi.set(a,t.currentSequenceNumber),be.resolve()}removeReference(t,r,a){return this.oi.set(a,t.currentSequenceNumber),be.resolve()}updateLimboDocument(t,r){return this.oi.set(r,t.currentSequenceNumber),be.resolve()}Jr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Hc(t.data.value)),r}ar(t,r,a){return be.or([()=>this.persistence.ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.oi.get(r);return be.resolve(i!==void 0&&i>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,r,a,i){this.targetId=t,this.fromCache=r,this.Hi=a,this.Ji=i}static Yi(t,r){let a=pt(),i=pt();for(const o of r.docChanges)switch(o.type){case 0:a=a.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new L0(t,r.fromCache,a,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return hE()?8:p1(Es())>0?6:4}()}initialize(t,r){this.ns=t,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(t,r,a,i){const o={result:null};return this.rs(t,r).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(t,r,i,a).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new O_;return this._s(t,r,l).next(d=>{if(o.result=d,this.Xi)return this.us(t,r,l,d.size)})}).next(()=>o.result)}us(t,r,a,i){return a.documentReadCount<this.es?(Qn()<=ht.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",Kn(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),be.resolve()):(Qn()<=ht.DEBUG&&Oe("QueryEngine","Query:",Kn(r),"scans",a.documentReadCount,"local documents and returns",i,"documents as results."),a.documentReadCount>this.ts*i?(Qn()<=ht.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",Kn(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ar(r))):be.resolve())}rs(t,r){if(Ny(r))return be.resolve(null);let a=Ar(r);return this.indexManager.getIndexType(t,a).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=zd(r,null,"F"),a=Ar(r)),this.indexManager.getDocumentsMatchingTarget(t,a).next(o=>{const l=pt(...o);return this.ns.getDocuments(t,l).next(d=>this.indexManager.getMinOffset(t,a).next(x=>{const p=this.cs(r,d);return this.ls(r,p,l,x.readTime)?this.rs(t,zd(r,null,"F")):this.hs(t,p,r,x)}))})))}ss(t,r,a,i){return Ny(r)||i.isEqual(Ze.min())?be.resolve(null):this.ns.getDocuments(t,a).next(o=>{const l=this.cs(r,o);return this.ls(r,l,a,i)?be.resolve(null):(Qn()<=ht.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kn(r)),this.hs(t,l,r,d1(i,co)).next(d=>d))})}cs(t,r){let a=new ss(yw(t));return r.forEach((i,o)=>{Pu(t,o)&&(a=a.add(o))}),a}ls(t,r,a,i){if(t.limit===null)return!1;if(a.size!==r.size)return!0;const o=t.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(t,r,a){return Qn()<=ht.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Kn(r)),this.ns.getDocumentsMatchingQuery(t,r,Qa.min(),a)}hs(t,r,a,i){return this.ns.getDocumentsMatchingQuery(t,a,i).next(o=>(r.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="LocalStore",L_=3e8;class V_{constructor(t,r,a,i){this.persistence=t,this.Ps=r,this.serializer=i,this.Ts=new Ut(lt),this.Is=new Ln(o=>P0(o),T0),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new I_(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ts))}}function F_(s,t,r,a){return new V_(s,t,r,a)}async function Gw(s,t){const r=st(s);return await r.persistence.runTransaction("Handle user change","readonly",a=>{let i;return r.mutationQueue.getAllMutationBatches(a).next(o=>(i=o,r.As(t),r.mutationQueue.getAllMutationBatches(a))).next(o=>{const l=[],d=[];let x=pt();for(const p of i){l.push(p.batchId);for(const N of p.mutations)x=x.add(N.key)}for(const p of o){d.push(p.batchId);for(const N of p.mutations)x=x.add(N.key)}return r.localDocuments.getDocuments(a,x).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:d}))})})}function B_(s,t){const r=st(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const i=t.batch.keys(),o=r.ds.newChangeBuffer({trackRemovals:!0});return function(d,x,p,N){const E=p.batch,P=E.keys();let A=be.resolve();return P.forEach(f=>{A=A.next(()=>N.getEntry(x,f)).next(L=>{const k=p.docVersions.get(f);yt(k!==null),L.version.compareTo(k)<0&&(E.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),N.addEntry(L)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(x,E))}(r,a,t,o).next(()=>o.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let x=pt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(x=x.add(d.batch.mutations[p].key));return x}(t))).next(()=>r.localDocuments.getDocuments(a,i))})}function Hw(s){const t=st(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Hr.getLastRemoteSnapshotVersion(r))}function U_(s,t){const r=st(s),a=t.snapshotVersion;let i=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=r.ds.newChangeBuffer({trackRemovals:!0});i=r.Ts;const d=[];t.targetChanges.forEach((N,E)=>{const P=i.get(E);if(!P)return;d.push(r.Hr.removeMatchingKeys(o,N.removedDocuments,E).next(()=>r.Hr.addMatchingKeys(o,N.addedDocuments,E)));let A=P.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(E)!==null?A=A.withResumeToken(fs.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):N.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(N.resumeToken,a)),i=i.insert(E,A),function(L,k,_){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=L_?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(P,A,N)&&d.push(r.Hr.updateTargetData(o,A))});let x=la(),p=pt();if(t.documentUpdates.forEach(N=>{t.resolvedLimboDocuments.has(N)&&d.push(r.persistence.referenceDelegate.updateLimboDocument(o,N))}),d.push($_(o,l,t.documentUpdates).next(N=>{x=N.Vs,p=N.fs})),!a.isEqual(Ze.min())){const N=r.Hr.getLastRemoteSnapshotVersion(o).next(E=>r.Hr.setTargetsMetadata(o,o.currentSequenceNumber,a));d.push(N)}return be.waitFor(d).next(()=>l.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,x,p)).next(()=>x)}).then(o=>(r.Ts=i,o))}function $_(s,t,r){let a=pt(),i=pt();return r.forEach(o=>a=a.add(o)),t.getEntries(s,a).next(o=>{let l=la();return r.forEach((d,x)=>{const p=o.get(d);x.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(d)),x.isNoDocument()&&x.version.isEqual(Ze.min())?(t.removeEntry(d,x.readTime),l=l.insert(d,x)):!p.isValidDocument()||x.version.compareTo(p.version)>0||x.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(x),l=l.insert(d,x)):Oe(V0,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",x.version)}),{Vs:l,fs:i}})}function q_(s,t){const r=st(s);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=I0),r.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function W_(s,t){const r=st(s);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let i;return r.Hr.getTargetData(a,t).next(o=>o?(i=o,be.resolve(i)):r.Hr.allocateTargetId(a).next(l=>(i=new Pa(t,l,"TargetPurposeListen",a.currentSequenceNumber),r.Hr.addTargetData(a,i).next(()=>i))))}).then(a=>{const i=r.Ts.get(a.targetId);return(i===null||a.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(a.targetId,a),r.Is.set(t,a.targetId)),a})}async function oh(s,t,r){const a=st(s),i=a.Ts.get(t),o=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",o,l=>a.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!qi(l))throw l;Oe(V0,`Failed to update sequence numbers for target ${t}: ${l}`)}a.Ts=a.Ts.remove(t),a.Is.delete(i.target)}function My(s,t,r){const a=st(s);let i=Ze.min(),o=pt();return a.persistence.runTransaction("Execute query","readwrite",l=>function(x,p,N){const E=st(x),P=E.Is.get(N);return P!==void 0?be.resolve(E.Ts.get(P)):E.Hr.getTargetData(p,N)}(a,l,Ar(t)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(l,d.targetId).next(x=>{o=x})}).next(()=>a.Ps.getDocumentsMatchingQuery(l,t,r?i:Ze.min(),r?o:pt())).next(d=>(G_(a,M1(t),d),{documents:d,gs:o})))}function G_(s,t,r){let a=s.Es.get(t)||Ze.min();r.forEach((i,o)=>{o.readTime.compareTo(a)>0&&(a=o.readTime)}),s.Es.set(t,a)}class Oy{constructor(){this.activeTargetIds=B1()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class H_{constructor(){this.ho=new Oy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,a){}addLocalQueryTarget(t,r=!0){return r&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,r,a){this.Po[t]=r}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Oy,Promise.resolve()}handleUserChange(t,r,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="ConnectivityMonitor";class Ly{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Oe(zy,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){Oe(zy,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function ch(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="RestConnection",K_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y_{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${a}/databases/${i}`,this.wo=this.databaseId.database===Rd?`project_id=${a}`:`project_id=${a}&database_id=${i}`}So(t,r,a,i,o){const l=ch(),d=this.bo(t,r.toUriEncodedString());Oe(qx,`Sending RPC '${t}' ${l}:`,d,a);const x={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(x,i,o),this.vo(t,d,x,a).then(p=>(Oe(qx,`Received RPC '${t}' ${l}: `,p),p),p=>{throw Pi(qx,`RPC '${t}' ${l} failed with error: `,p,"url: ",d,"request:",a),p})}Co(t,r,a,i,o,l){return this.So(t,r,a,i,o)}Do(t,r,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ui}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>t[o]=i),a&&a.headers.forEach((i,o)=>t[o]=i)}bo(t,r){const a=K_[t];return`${this.po}/v1/${r}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="WebChannelConnection";class J_ extends Y_{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,r,a,i){const o=ch();return new Promise((l,d)=>{const x=new WN;x.setWithCredentials(!0),x.listenOnce(GN.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case Gc.NO_ERROR:const N=x.getResponseJson();Oe(vs,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(N)),l(N);break;case Gc.TIMEOUT:Oe(vs,`RPC '${t}' ${o} timed out`),d(new Re(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const E=x.getStatus();if(Oe(vs,`RPC '${t}' ${o} failed with status:`,E,"response text:",x.getResponseText()),E>0){let P=x.getResponseJson();Array.isArray(P)&&(P=P[0]);const A=P==null?void 0:P.error;if(A&&A.status&&A.message){const f=function(k){const _=k.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(_)>=0?_:fe.UNKNOWN}(A.status);d(new Re(f,A.message))}else d(new Re(fe.UNKNOWN,"Server responded with status "+x.getStatus()))}else d(new Re(fe.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Oe(vs,`RPC '${t}' ${o} completed.`)}});const p=JSON.stringify(i);Oe(vs,`RPC '${t}' ${o} sending request:`,i),x.send(r,"POST",p,a,15)})}Wo(t,r,a){const i=ch(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=KN(),d=QN(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(x.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(x.useFetchStreams=!0),this.Do(x.initMessageHeaders,r,a),x.encodeInitMessageHeaders=!0;const N=o.join("");Oe(vs,`Creating RPC '${t}' stream ${i}: ${N}`,x);const E=l.createWebChannel(N,x);let P=!1,A=!1;const f=new X_({Fo:k=>{A?Oe(vs,`Not sending because RPC '${t}' stream ${i} is closed:`,k):(P||(Oe(vs,`Opening RPC '${t}' stream ${i} transport.`),E.open(),P=!0),Oe(vs,`RPC '${t}' stream ${i} sending:`,k),E.send(k))},Mo:()=>E.close()}),L=(k,_,z)=>{k.listen(_,M=>{try{z(M)}catch(Y){setTimeout(()=>{throw Y},0)}})};return L(E,Nl.EventType.OPEN,()=>{A||(Oe(vs,`RPC '${t}' stream ${i} transport opened.`),f.Qo())}),L(E,Nl.EventType.CLOSE,()=>{A||(A=!0,Oe(vs,`RPC '${t}' stream ${i} transport closed`),f.Uo())}),L(E,Nl.EventType.ERROR,k=>{A||(A=!0,Pi(vs,`RPC '${t}' stream ${i} transport errored:`,k),f.Uo(new Re(fe.UNAVAILABLE,"The operation could not be completed")))}),L(E,Nl.EventType.MESSAGE,k=>{var _;if(!A){const z=k.data[0];yt(!!z);const M=z,Y=(M==null?void 0:M.error)||((_=M[0])===null||_===void 0?void 0:_.error);if(Y){Oe(vs,`RPC '${t}' stream ${i} received error:`,Y);const G=Y.status;let W=function(F){const V=Yt[F];if(V!==void 0)return Aw(V)}(G),D=Y.message;W===void 0&&(W=fe.INTERNAL,D="Unknown error status: "+G+" with message "+Y.message),A=!0,f.Uo(new Re(W,D)),E.close()}else Oe(vs,`RPC '${t}' stream ${i} received:`,z),f.Ko(z)}}),L(d,HN.STAT_EVENT,k=>{k.stat===Jm.PROXY?Oe(vs,`RPC '${t}' stream ${i} detected buffering proxy`):k.stat===Jm.NOPROXY&&Oe(vs,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.$o()},0),f}}function Wx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(s){return new s_(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t,r,a=1e3,i=1.5,o=6e4){this.Ti=t,this.timerId=r,this.Go=a,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const r=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),i=Math.max(0,r-a);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="PersistentStream";class Qw{constructor(t,r,a,i,o,l,d,x){this.Ti=t,this.n_=a,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=x,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new F0(t,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():r&&r.code===fe.RESOURCE_EXHAUSTED?(ia(r.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,i])=>{this.i_===r&&this.V_(a,i)},a=>{t(()=>{const i=new Re(fe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(i)})})}V_(t,r){const a=this.R_(this.i_);this.stream=this.f_(t,r),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{a(()=>this.m_(i))}),this.stream.onMessage(i=>{a(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return Oe(Vy,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return r=>{this.Ti.enqueueAndForget(()=>this.i_===t?r():(Oe(Vy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z_ extends Qw{constructor(t,r,a,i,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,i,l),this.serializer=o}f_(t,r){return this.connection.Wo("Listen",t,r)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const r=i_(this.serializer,t),a=function(o){if(!("targetChange"in o))return Ze.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ze.min():l.readTime?Ys(l.readTime):Ze.min()}(t);return this.listener.p_(r,a)}y_(t){const r={};r.database=lh(this.serializer),r.addTarget=function(o,l){let d;const x=l.target;if(d=rh(x)?{documents:o_(o,x)}:{query:c_(o,x).ht},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=Ow(o,l.resumeToken);const p=nh(o,l.expectedCount);p!==null&&(d.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ze.min())>0){d.readTime=Ld(o,l.snapshotVersion.toTimestamp());const p=nh(o,l.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,t);const a=u_(this.serializer,t);a&&(r.labels=a),this.I_(r)}w_(t){const r={};r.database=lh(this.serializer),r.removeTarget=t,this.I_(r)}}class e8 extends Qw{constructor(t,r,a,i,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,i,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,r){return this.connection.Wo("Write",t,r)}g_(t){return yt(!!t.streamToken),this.lastStreamToken=t.streamToken,yt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){yt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const r=l_(t.writeResults,t.commitTime),a=Ys(t.commitTime);return this.listener.v_(a,r)}C_(){const t={};t.database=lh(this.serializer),this.I_(t)}b_(t){const r={streamToken:this.lastStreamToken,writes:t.map(a=>Fw(this.serializer,a))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{}class s8 extends t8{constructor(t,r,a,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=a,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,r,a,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(t,ih(r,a),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(fe.UNKNOWN,o.toString())})}Co(t,r,a,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Co(t,ih(r,a),i,l,d,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(fe.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class r8{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ia(r),this.N_=!1):Oe("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="RemoteStore";class a8{constructor(t,r,a,i,o){this.localStore=t,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{a.enqueueAndForget(async()=>{Vn(this)&&(Oe(_n,"Restarting streams for network reachability change."),await async function(x){const p=st(x);p.W_.add(4),await Ao(p),p.j_.set("Unknown"),p.W_.delete(4),await Ou(p)}(this))})}),this.j_=new r8(a,i)}}async function Ou(s){if(Vn(s))for(const t of s.G_)await t(!0)}async function Ao(s){for(const t of s.G_)await t(!1)}function Kw(s,t){const r=st(s);r.K_.has(t.targetId)||(r.K_.set(t.targetId,t),q0(r)?$0(r):Gi(r).c_()&&U0(r,t))}function B0(s,t){const r=st(s),a=Gi(r);r.K_.delete(t),a.c_()&&Yw(r,t),r.K_.size===0&&(a.c_()?a.P_():Vn(r)&&r.j_.set("Unknown"))}function U0(s,t){if(s.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ze.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Gi(s).y_(t)}function Yw(s,t){s.H_.Ne(t),Gi(s).w_(t)}function $0(s){s.H_=new J1({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>s.K_.get(t)||null,it:()=>s.datastore.serializer.databaseId}),Gi(s).start(),s.j_.B_()}function q0(s){return Vn(s)&&!Gi(s).u_()&&s.K_.size>0}function Vn(s){return st(s).W_.size===0}function Xw(s){s.H_=void 0}async function n8(s){s.j_.set("Online")}async function i8(s){s.K_.forEach((t,r)=>{U0(s,t)})}async function l8(s,t){Xw(s),q0(s)?(s.j_.q_(t),$0(s)):s.j_.set("Unknown")}async function o8(s,t,r){if(s.j_.set("Online"),t instanceof Mw&&t.state===2&&t.cause)try{await async function(i,o){const l=o.cause;for(const d of o.targetIds)i.K_.has(d)&&(await i.remoteSyncer.rejectListen(d,l),i.K_.delete(d),i.H_.removeTarget(d))}(s,t)}catch(a){Oe(_n,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Bd(s,a)}else if(t instanceof Yc?s.H_.We(t):t instanceof Rw?s.H_.Ze(t):s.H_.je(t),!r.isEqual(Ze.min()))try{const a=await Hw(s.localStore);r.compareTo(a)>=0&&await function(o,l){const d=o.H_.ot(l);return d.targetChanges.forEach((x,p)=>{if(x.resumeToken.approximateByteSize()>0){const N=o.K_.get(p);N&&o.K_.set(p,N.withResumeToken(x.resumeToken,l))}}),d.targetMismatches.forEach((x,p)=>{const N=o.K_.get(x);if(!N)return;o.K_.set(x,N.withResumeToken(fs.EMPTY_BYTE_STRING,N.snapshotVersion)),Yw(o,x);const E=new Pa(N.target,x,p,N.sequenceNumber);U0(o,E)}),o.remoteSyncer.applyRemoteEvent(d)}(s,r)}catch(a){Oe(_n,"Failed to raise snapshot:",a),await Bd(s,a)}}async function Bd(s,t,r){if(!qi(t))throw t;s.W_.add(1),await Ao(s),s.j_.set("Offline"),r||(r=()=>Hw(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{Oe(_n,"Retrying IndexedDB access"),await r(),s.W_.delete(1),await Ou(s)})}function Jw(s,t){return t().catch(r=>Bd(s,r,t))}async function zu(s){const t=st(s),r=Ja(t);let a=t.U_.length>0?t.U_[t.U_.length-1].batchId:I0;for(;c8(t);)try{const i=await q_(t.localStore,a);if(i===null){t.U_.length===0&&r.P_();break}a=i.batchId,d8(t,i)}catch(i){await Bd(t,i)}Zw(t)&&e5(t)}function c8(s){return Vn(s)&&s.U_.length<10}function d8(s,t){s.U_.push(t);const r=Ja(s);r.c_()&&r.S_&&r.b_(t.mutations)}function Zw(s){return Vn(s)&&!Ja(s).u_()&&s.U_.length>0}function e5(s){Ja(s).start()}async function u8(s){Ja(s).C_()}async function x8(s){const t=Ja(s);for(const r of s.U_)t.b_(r.mutations)}async function m8(s,t,r){const a=s.U_.shift(),i=A0.from(a,t,r);await Jw(s,()=>s.remoteSyncer.applySuccessfulWrite(i)),await zu(s)}async function h8(s,t){t&&Ja(s).S_&&await async function(a,i){if(function(l){return Dw(l)&&l!==fe.ABORTED}(i.code)){const o=a.U_.shift();Ja(a).h_(),await Jw(a,()=>a.remoteSyncer.rejectFailedWrite(o.batchId,i)),await zu(a)}}(s,t),Zw(s)&&e5(s)}async function Fy(s,t){const r=st(s);r.asyncQueue.verifyOperationInProgress(),Oe(_n,"RemoteStore received new credentials");const a=Vn(r);r.W_.add(3),await Ao(r),a&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.W_.delete(3),await Ou(r)}async function p8(s,t){const r=st(s);t?(r.W_.delete(2),await Ou(r)):t||(r.W_.add(2),await Ao(r),r.j_.set("Unknown"))}function Gi(s){return s.J_||(s.J_=function(r,a,i){const o=st(r);return o.M_(),new Z_(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(s.datastore,s.asyncQueue,{xo:n8.bind(null,s),No:i8.bind(null,s),Lo:l8.bind(null,s),p_:o8.bind(null,s)}),s.G_.push(async t=>{t?(s.J_.h_(),q0(s)?$0(s):s.j_.set("Unknown")):(await s.J_.stop(),Xw(s))})),s.J_}function Ja(s){return s.Y_||(s.Y_=function(r,a,i){const o=st(r);return o.M_(),new e8(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:u8.bind(null,s),Lo:h8.bind(null,s),D_:x8.bind(null,s),v_:m8.bind(null,s)}),s.G_.push(async t=>{t?(s.Y_.h_(),await zu(s)):(await s.Y_.stop(),s.U_.length>0&&(Oe(_n,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t,r,a,i,o){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=i,this.removalCallback=o,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,i,o){const l=Date.now()+a,d=new W0(t,r,l,i,o);return d.start(a),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G0(s,t){if(ia("AsyncQueue",`${t}: ${s}`),qi(s))return new Re(fe.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{static emptySet(t){return new yi(t.comparator)}constructor(t){this.comparator=t?(r,a)=>t(r,a)||Ye.comparator(r.key,a.key):(r,a)=>Ye.comparator(r.key,a.key),this.keyedMap=wl(),this.sortedSet=new Ut(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,a)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof yi)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=a.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const a=new yi;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=r,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.Z_=new Ut(Ye.comparator)}track(t){const r=t.doc.key,a=this.Z_.get(r);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(r,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(r,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(r):t.type===1&&a.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):Xe():this.Z_=this.Z_.insert(r,t)}X_(){const t=[];return this.Z_.inorderTraversal((r,a)=>{t.push(a)}),t}}class Mi{constructor(t,r,a,i,o,l,d,x,p){this.query=t,this.docs=r,this.oldDocs=a,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=x,this.hasCachedResults=p}static fromInitialDocuments(t,r,a,i,o){const l=[];return r.forEach(d=>{l.push({type:0,doc:d})}),new Mi(t,r,yi.emptySet(r),l,a,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_u(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,a=t.docChanges;if(r.length!==a.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==a[i].type||!r[i].doc.isEqual(a[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class g8{constructor(){this.queries=Uy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,a){const i=st(r),o=i.queries;i.queries=Uy(),o.forEach((l,d)=>{for(const x of d.ta)x.onError(a)})})(this,new Re(fe.ABORTED,"Firestore shutting down"))}}function Uy(){return new Ln(s=>gw(s),_u)}async function H0(s,t){const r=st(s);let a=3;const i=t.query;let o=r.queries.get(i);o?!o.na()&&t.ra()&&(a=2):(o=new f8,a=t.ra()?0:1);try{switch(a){case 0:o.ea=await r.onListen(i,!0);break;case 1:o.ea=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(l){const d=G0(l,`Initialization of query '${Kn(t.query)}' failed`);return void t.onError(d)}r.queries.set(i,o),o.ta.push(t),t.sa(r.onlineState),o.ea&&t.oa(o.ea)&&K0(r)}async function Q0(s,t){const r=st(s),a=t.query;let i=3;const o=r.queries.get(a);if(o){const l=o.ta.indexOf(t);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=t.ra()?0:1:!o.na()&&t.ra()&&(i=2))}switch(i){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function y8(s,t){const r=st(s);let a=!1;for(const i of t){const o=i.query,l=r.queries.get(o);if(l){for(const d of l.ta)d.oa(i)&&(a=!0);l.ea=i}}a&&K0(r)}function b8(s,t,r){const a=st(s),i=a.queries.get(t);if(i)for(const o of i.ta)o.onError(r);a.queries.delete(t)}function K0(s){s.ia.forEach(t=>{t.next()})}var dh,$y;($y=dh||(dh={}))._a="default",$y.Cache="cache";class Y0{constructor(t,r,a){this.query=t,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const i of t.docChanges)i.type!==3&&a.push(i);t=new Mi(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ua?this.la(t)&&(this.aa.next(t),r=!0):this.ha(t,this.onlineState)&&(this.Pa(t),r=!0),this.ca=t,r}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),r=!0),r}ha(t,r){if(!t.fromCache||!this.ra())return!0;const a=r!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}la(t){if(t.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(t){t=Mi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==dh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(t){this.key=t}}class s5{constructor(t){this.key=t}}class j8{constructor(t,r){this.query=t,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=pt(),this.mutatedKeys=pt(),this.ya=yw(t),this.wa=new yi(this.ya)}get Sa(){return this.fa}ba(t,r){const a=r?r.Da:new By,i=r?r.wa:this.wa;let o=r?r.mutatedKeys:this.mutatedKeys,l=i,d=!1;const x=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((N,E)=>{const P=i.get(N),A=Pu(this.query,E)?E:null,f=!!P&&this.mutatedKeys.has(P.key),L=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let k=!1;P&&A?P.data.isEqual(A.data)?f!==L&&(a.track({type:3,doc:A}),k=!0):this.va(P,A)||(a.track({type:2,doc:A}),k=!0,(x&&this.ya(A,x)>0||p&&this.ya(A,p)<0)&&(d=!0)):!P&&A?(a.track({type:0,doc:A}),k=!0):P&&!A&&(a.track({type:1,doc:P}),k=!0,(x||p)&&(d=!0)),k&&(A?(l=l.add(A),o=L?o.add(N):o.delete(N)):(l=l.delete(N),o=o.delete(N)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const N=this.query.limitType==="F"?l.last():l.first();l=l.delete(N.key),o=o.delete(N.key),a.track({type:1,doc:N})}return{wa:l,Da:a,ls:d,mutatedKeys:o}}va(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,a,i){const o=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const l=t.Da.X_();l.sort((N,E)=>function(A,f){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return L(A)-L(f)}(N.type,E.type)||this.ya(N.doc,E.doc)),this.Ca(a),i=i!=null&&i;const d=r&&!i?this.Fa():[],x=this.pa.size===0&&this.current&&!i?1:0,p=x!==this.ga;return this.ga=x,l.length!==0||p?{snapshot:new Mi(this.query,t.wa,o,l,t.mutatedKeys,x===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new By,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=pt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const r=[];return t.forEach(a=>{this.pa.has(a)||r.push(new s5(a))}),this.pa.forEach(a=>{t.has(a)||r.push(new t5(a))}),r}Oa(t){this.fa=t.gs,this.pa=pt();const r=this.ba(t.documents);return this.applyChanges(r,!0)}Na(){return Mi.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const X0="SyncEngine";class v8{constructor(t,r,a){this.query=t,this.targetId=r,this.view=a}}class N8{constructor(t){this.key=t,this.Ba=!1}}class w8{constructor(t,r,a,i,o,l){this.localStore=t,this.remoteStore=r,this.eventManager=a,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Ln(d=>gw(d),_u),this.qa=new Map,this.Qa=new Set,this.$a=new Ut(Ye.comparator),this.Ua=new Map,this.Ka=new O0,this.Wa={},this.Ga=new Map,this.za=Ri.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function k8(s,t,r=!0){const a=o5(s);let i;const o=a.ka.get(t);return o?(a.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await r5(a,t,r,!0),i}async function C8(s,t){const r=o5(s);await r5(r,t,!0,!1)}async function r5(s,t,r,a){const i=await W_(s.localStore,Ar(t)),o=i.targetId,l=s.sharedClientState.addLocalQueryTarget(o,r);let d;return a&&(d=await E8(s,t,o,l==="current",i.resumeToken)),s.isPrimaryClient&&r&&Kw(s.remoteStore,i),d}async function E8(s,t,r,a,i){s.Ha=(E,P,A)=>async function(L,k,_,z){let M=k.view.ba(_);M.ls&&(M=await My(L.localStore,k.query,!1).then(({documents:D})=>k.view.ba(D,M)));const Y=z&&z.targetChanges.get(k.targetId),G=z&&z.targetMismatches.get(k.targetId)!=null,W=k.view.applyChanges(M,L.isPrimaryClient,Y,G);return Wy(L,k.targetId,W.Ma),W.snapshot}(s,E,P,A);const o=await My(s.localStore,t,!0),l=new j8(t,o.gs),d=l.ba(o.documents),x=Do.createSynthesizedTargetChangeForCurrentChange(r,a&&s.onlineState!=="Offline",i),p=l.applyChanges(d,s.isPrimaryClient,x);Wy(s,r,p.Ma);const N=new v8(t,r,l);return s.ka.set(t,N),s.qa.has(r)?s.qa.get(r).push(t):s.qa.set(r,[t]),p.snapshot}async function I8(s,t,r){const a=st(s),i=a.ka.get(t),o=a.qa.get(i.targetId);if(o.length>1)return a.qa.set(i.targetId,o.filter(l=>!_u(l,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(i.targetId),a.sharedClientState.isActiveQueryTarget(i.targetId)||await oh(a.localStore,i.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(i.targetId),r&&B0(a.remoteStore,i.targetId),uh(a,i.targetId)}).catch($i)):(uh(a,i.targetId),await oh(a.localStore,i.targetId,!0))}async function S8(s,t){const r=st(s),a=r.ka.get(t),i=r.qa.get(a.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),B0(r.remoteStore,a.targetId))}async function _8(s,t,r){const a=O8(s);try{const i=await function(l,d){const x=st(l),p=Kt.now(),N=d.reduce((A,f)=>A.add(f.key),pt());let E,P;return x.persistence.runTransaction("Locally write mutations","readwrite",A=>{let f=la(),L=pt();return x.ds.getEntries(A,N).next(k=>{f=k,f.forEach((_,z)=>{z.isValidDocument()||(L=L.add(_))})}).next(()=>x.localDocuments.getOverlayedDocuments(A,f)).next(k=>{E=k;const _=[];for(const z of d){const M=H1(z,E.get(z.key).overlayedDocument);M!=null&&_.push(new nn(z.key,M,cw(M.value.mapValue),xs.exists(!0)))}return x.mutationQueue.addMutationBatch(A,p,_,d)}).next(k=>{P=k;const _=k.applyToLocalDocumentSet(E,L);return x.documentOverlayCache.saveOverlays(A,k.batchId,_)})}).then(()=>({batchId:P.batchId,changes:jw(E)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(i.batchId),function(l,d,x){let p=l.Wa[l.currentUser.toKey()];p||(p=new Ut(lt)),p=p.insert(d,x),l.Wa[l.currentUser.toKey()]=p}(a,i.batchId,r),await Ro(a,i.changes),await zu(a.remoteStore)}catch(i){const o=G0(i,"Failed to persist write");r.reject(o)}}async function a5(s,t){const r=st(s);try{const a=await U_(r.localStore,t);t.targetChanges.forEach((i,o)=>{const l=r.Ua.get(o);l&&(yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?yt(l.Ba):i.removedDocuments.size>0&&(yt(l.Ba),l.Ba=!1))}),await Ro(r,a,t)}catch(a){await $i(a)}}function qy(s,t,r){const a=st(s);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const i=[];a.ka.forEach((o,l)=>{const d=l.view.sa(t);d.snapshot&&i.push(d.snapshot)}),function(l,d){const x=st(l);x.onlineState=d;let p=!1;x.queries.forEach((N,E)=>{for(const P of E.ta)P.sa(d)&&(p=!0)}),p&&K0(x)}(a.eventManager,t),i.length&&a.La.p_(i),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function P8(s,t,r){const a=st(s);a.sharedClientState.updateQueryState(t,"rejected",r);const i=a.Ua.get(t),o=i&&i.key;if(o){let l=new Ut(Ye.comparator);l=l.insert(o,is.newNoDocument(o,Ze.min()));const d=pt().add(o),x=new Ru(Ze.min(),new Map,new Ut(lt),l,d);await a5(a,x),a.$a=a.$a.remove(o),a.Ua.delete(t),J0(a)}else await oh(a.localStore,t,!1).then(()=>uh(a,t,r)).catch($i)}async function T8(s,t){const r=st(s),a=t.batch.batchId;try{const i=await B_(r.localStore,t);i5(r,a,null),n5(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await Ro(r,i)}catch(i){await $i(i)}}async function D8(s,t,r){const a=st(s);try{const i=await function(l,d){const x=st(l);return x.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let N;return x.mutationQueue.lookupMutationBatch(p,d).next(E=>(yt(E!==null),N=E.keys(),x.mutationQueue.removeMutationBatch(p,E))).next(()=>x.mutationQueue.performConsistencyCheck(p)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(p,N,d)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,N)).next(()=>x.localDocuments.getDocuments(p,N))})}(a.localStore,t);i5(a,t,r),n5(a,t),a.sharedClientState.updateMutationState(t,"rejected",r),await Ro(a,i)}catch(i){await $i(i)}}function n5(s,t){(s.Ga.get(t)||[]).forEach(r=>{r.resolve()}),s.Ga.delete(t)}function i5(s,t,r){const a=st(s);let i=a.Wa[a.currentUser.toKey()];if(i){const o=i.get(t);o&&(r?o.reject(r):o.resolve(),i=i.remove(t)),a.Wa[a.currentUser.toKey()]=i}}function uh(s,t,r=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.qa.get(t))s.ka.delete(a),r&&s.La.Ja(a,r);s.qa.delete(t),s.isPrimaryClient&&s.Ka.br(t).forEach(a=>{s.Ka.containsKey(a)||l5(s,a)})}function l5(s,t){s.Qa.delete(t.path.canonicalString());const r=s.$a.get(t);r!==null&&(B0(s.remoteStore,r),s.$a=s.$a.remove(t),s.Ua.delete(r),J0(s))}function Wy(s,t,r){for(const a of r)a instanceof t5?(s.Ka.addReference(a.key,t),A8(s,a)):a instanceof s5?(Oe(X0,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,t),s.Ka.containsKey(a.key)||l5(s,a.key)):Xe()}function A8(s,t){const r=t.key,a=r.path.canonicalString();s.$a.get(r)||s.Qa.has(a)||(Oe(X0,"New document in limbo: "+r),s.Qa.add(a),J0(s))}function J0(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const t=s.Qa.values().next().value;s.Qa.delete(t);const r=new Ye(_t.fromString(t)),a=s.za.next();s.Ua.set(a,new N8(r)),s.$a=s.$a.insert(r,a),Kw(s.remoteStore,new Pa(Ar(Su(r.path)),a,"TargetPurposeLimboResolution",Eu.ae))}}async function Ro(s,t,r){const a=st(s),i=[],o=[],l=[];a.ka.isEmpty()||(a.ka.forEach((d,x)=>{l.push(a.Ha(x,t,r).then(p=>{var N;if((p||r)&&a.isPrimaryClient){const E=p?!p.fromCache:(N=r==null?void 0:r.targetChanges.get(x.targetId))===null||N===void 0?void 0:N.current;a.sharedClientState.updateQueryState(x.targetId,E?"current":"not-current")}if(p){i.push(p);const E=L0.Yi(x.targetId,p);o.push(E)}}))}),await Promise.all(l),a.La.p_(i),await async function(x,p){const N=st(x);try{await N.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>be.forEach(p,P=>be.forEach(P.Hi,A=>N.persistence.referenceDelegate.addReference(E,P.targetId,A)).next(()=>be.forEach(P.Ji,A=>N.persistence.referenceDelegate.removeReference(E,P.targetId,A)))))}catch(E){if(!qi(E))throw E;Oe(V0,"Failed to update sequence numbers: "+E)}for(const E of p){const P=E.targetId;if(!E.fromCache){const A=N.Ts.get(P),f=A.snapshotVersion,L=A.withLastLimboFreeSnapshotVersion(f);N.Ts=N.Ts.insert(P,L)}}}(a.localStore,o))}async function R8(s,t){const r=st(s);if(!r.currentUser.isEqual(t)){Oe(X0,"User change. New user:",t.toKey());const a=await Gw(r.localStore,t);r.currentUser=t,function(o,l){o.Ga.forEach(d=>{d.forEach(x=>{x.reject(new Re(fe.CANCELLED,l))})}),o.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Ro(r,a.Rs)}}function M8(s,t){const r=st(s),a=r.Ua.get(t);if(a&&a.Ba)return pt().add(a.key);{let i=pt();const o=r.qa.get(t);if(!o)return i;for(const l of o){const d=r.ka.get(l);i=i.unionWith(d.view.Sa)}return i}}function o5(s){const t=st(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=a5.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=M8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=P8.bind(null,t),t.La.p_=y8.bind(null,t.eventManager),t.La.Ja=b8.bind(null,t.eventManager),t}function O8(s){const t=st(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=T8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=D8.bind(null,t),t}class Ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mu(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,r){return null}nu(t,r){return null}eu(t){return F_(this.persistence,new z_,t.initialUser,this.serializer)}Xa(t){return new Ww(z0.ri,this.serializer)}Za(t){return new H_}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ud.provider={build:()=>new Ud};class z8 extends Ud{constructor(t){super(),this.cacheSizeBytes=t}tu(t,r){yt(this.persistence.referenceDelegate instanceof Fd);const a=this.persistence.referenceDelegate.garbageCollector;return new N_(a,t.asyncQueue,r)}Xa(t){const r=this.cacheSizeBytes!==void 0?Rs.withCacheSize(this.cacheSizeBytes):Rs.DEFAULT;return new Ww(a=>Fd.ri(a,r),this.serializer)}}class xh{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>qy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=R8.bind(null,this.syncEngine),await p8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new g8}()}createDatastore(t){const r=Mu(t.databaseInfo.databaseId),a=function(o){return new J_(o)}(t.databaseInfo);return function(o,l,d,x){return new s8(o,l,d,x)}(t.authCredentials,t.appCheckCredentials,a,r)}createRemoteStore(t){return function(a,i,o,l,d){return new a8(a,i,o,l,d)}(this.localStore,this.datastore,t.asyncQueue,r=>qy(this.syncEngine,r,0),function(){return Ly.D()?new Ly:new Q_}())}createSyncEngine(t,r){return function(i,o,l,d,x,p,N){const E=new w8(i,o,l,d,x,p);return N&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const o=st(i);Oe(_n,"RemoteStore shutting down."),o.W_.add(5),await Ao(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}xh.provider={build:()=>new xh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ia("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Re(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await async function(i,o){const l=st(i),d={documents:o.map(E=>Vd(l.serializer,E))},x=await l.Co("BatchGetDocuments",l.serializer.databaseId,_t.emptyPath(),d,o.length),p=new Map;x.forEach(E=>{const P=n_(l.serializer,E);p.set(P.key.toString(),P)});const N=[];return o.forEach(E=>{const P=p.get(E.toString());yt(!!P),N.push(P)}),N}(this.datastore,t);return r.forEach(a=>this.recordVersion(a)),r}set(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(t.toString())}delete(t){this.write(new Au(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const i=Ye.fromPath(a);this.mutations.push(new Tw(i,this.precondition(i)))}),await async function(a,i){const o=st(a),l={writes:i.map(d=>Fw(o.serializer,d))};await o.So("Commit",o.serializer.databaseId,_t.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let r;if(t.isFoundDocument())r=t.version;else{if(!t.isNoDocument())throw Xe();r=Ze.min()}const a=this.readVersions.get(t.key.toString());if(a){if(!r.isEqual(a))throw new Re(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)}precondition(t){const r=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&r?r.isEqual(Ze.min())?xs.exists(!1):xs.updateTime(r):xs.none()}preconditionForUpdate(t){const r=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&r){if(r.isEqual(Ze.min()))throw new Re(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xs.updateTime(r)}return xs.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(t,r,a,i,o){this.asyncQueue=t,this.datastore=r,this.options=a,this.updateFunction=i,this.deferred=o,this.Tu=a.maxAttempts,this.a_=new F0(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const t=new L8(this.datastore),r=this.du(t);r&&r.then(a=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(a)}).catch(i=>{this.Au(i)}))}).catch(a=>{this.Au(a)})})}du(t){try{const r=this.updateFunction(t);return!Po(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Au(t){this.Tu>0&&this.Ru(t)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(t)}Ru(t){if(t.name==="FirebaseError"){const r=t.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!Dw(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="FirestoreClient";class F8{constructor(t,r,a,i,o){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=i,this.user=Ns.UNAUTHENTICATED,this.clientId=JN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(a,async l=>{Oe(Za,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(a,l=>(Oe(Za,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=G0(r,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Gx(s,t){s.asyncQueue.verifyOperationInProgress(),Oe(Za,"Initializing OfflineComponentProvider");const r=s.configuration;await t.initialize(r);let a=r.initialUser;s.setCredentialChangeListener(async i=>{a.isEqual(i)||(await Gw(t.localStore,i),a=i)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Gy(s,t){s.asyncQueue.verifyOperationInProgress();const r=await B8(s);Oe(Za,"Initializing OnlineComponentProvider"),await t.initialize(r,s.configuration),s.setCredentialChangeListener(a=>Fy(t.remoteStore,a)),s.setAppCheckTokenChangeListener((a,i)=>Fy(t.remoteStore,i)),s._onlineComponents=t}async function B8(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Oe(Za,"Using user provided OfflineComponentProvider");try{await Gx(s,s._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Pi("Error using user provided cache. Falling back to memory cache: "+r),await Gx(s,new Ud)}}else Oe(Za,"Using default OfflineComponentProvider"),await Gx(s,new z8(void 0));return s._offlineComponents}async function ep(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Oe(Za,"Using user provided OnlineComponentProvider"),await Gy(s,s._uninitializedComponentsProvider._online)):(Oe(Za,"Using default OnlineComponentProvider"),await Gy(s,new xh))),s._onlineComponents}function U8(s){return ep(s).then(t=>t.syncEngine)}function $8(s){return ep(s).then(t=>t.datastore)}async function $d(s){const t=await ep(s),r=t.eventManager;return r.onListen=k8.bind(null,t.syncEngine),r.onUnlisten=I8.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=C8.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=S8.bind(null,t.syncEngine),r}function q8(s,t,r={}){const a=new Dr;return s.asyncQueue.enqueueAndForget(async()=>function(o,l,d,x,p){const N=new Z0({next:P=>{N.su(),l.enqueueAndForget(()=>Q0(o,E));const A=P.docs.has(d);!A&&P.fromCache?p.reject(new Re(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&P.fromCache&&x&&x.source==="server"?p.reject(new Re(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(P)},error:P=>p.reject(P)}),E=new Y0(Su(d.path),N,{includeMetadataChanges:!0,Ta:!0});return H0(o,E)}(await $d(s),s.asyncQueue,t,r,a)),a.promise}function W8(s,t,r={}){const a=new Dr;return s.asyncQueue.enqueueAndForget(async()=>function(o,l,d,x,p){const N=new Z0({next:P=>{N.su(),l.enqueueAndForget(()=>Q0(o,E)),P.fromCache&&x.source==="server"?p.reject(new Re(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(P)},error:P=>p.reject(P)}),E=new Y0(d,N,{includeMetadataChanges:!0,Ta:!0});return H0(o,E)}(await $d(s),s.asyncQueue,t,r,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(s,t,r){if(!r)throw new Re(fe.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function G8(s,t,r,a){if(t===!0&&a===!0)throw new Re(fe.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function Qy(s){if(!Ye.isDocumentKey(s))throw new Re(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ky(s){if(Ye.isDocumentKey(s))throw new Re(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Lu(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Xe()}function Ts(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new Re(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Lu(s);throw new Re(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return s}function H8(s,t){if(t<=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="firestore.googleapis.com",Yy=!0;class Xy{constructor(t){var r,a;if(t.host===void 0){if(t.ssl!==void 0)throw new Re(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u5,this.ssl=Yy}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:Yy;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=qw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<j_)throw new Re(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}G8("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c5((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Re(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Re(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Re(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,i){return a.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vu{constructor(t,r,a,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xy(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new t1;switch(a.type){case"firstParty":return new n1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Re(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=Hy.get(r);a&&(Oe("ComponentProvider","Removing Datastore"),Hy.delete(r),a.terminate())}(this),Promise.resolve()}}function Q8(s,t,r,a={}){var i;const o=(s=Ts(s,Vu))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:s._getEmulatorOptions()}),d=`${t}:${r}`;o.host!==u5&&o.host!==d&&Pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const x=Object.assign(Object.assign({},o),{host:d,ssl:!1,emulatorOptions:a});if(!Ha(x,l)&&(s._setSettings(x),a.mockUserToken)){let p,N;if(typeof a.mockUserToken=="string")p=a.mockUserToken,N=Ns.MOCK_USER;else{p=xN(a.mockUserToken,(i=s._app)===null||i===void 0?void 0:i.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new Re(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Ns(E)}s._authCredentials=new s1(new YN(p,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ua(this.firestore,t,this._query)}}class hs{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hs(this.firestore,t,this._key)}}class qa extends ua{constructor(t,r,a){super(t,r,Su(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hs(this.firestore,null,new Ye(t))}withConverter(t){return new qa(this.firestore,t,this._path)}}function te(s,t,...r){if(s=Tt(s),d5("collection","path",t),s instanceof Vu){const a=_t.fromString(t,...r);return Ky(a),new qa(s,null,a)}{if(!(s instanceof hs||s instanceof qa))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(_t.fromString(t,...r));return Ky(a),new qa(s.firestore,null,a)}}function B(s,t,...r){if(s=Tt(s),arguments.length===1&&(t=JN.newId()),d5("doc","path",t),s instanceof Vu){const a=_t.fromString(t,...r);return Qy(a),new hs(s,null,new Ye(a))}{if(!(s instanceof hs||s instanceof qa))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(_t.fromString(t,...r));return Qy(a),new hs(s.firestore,s instanceof qa?s.converter:null,new Ye(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="AsyncQueue";class Zy{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new F0(this,"async_queue_retry"),this.Su=()=>{const a=Wx();a&&Oe(Jy,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const r=Wx();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const r=Wx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const r=new Dr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!qi(t))throw t;Oe(Jy,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const r=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const i=function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),d}(a);throw ia("INTERNAL UNHANDLED ERROR: ",i),a}).then(a=>(this.pu=!1,a))));return this.bu=r,r}enqueueAfterDelay(t,r,a){this.Du(),this.wu.indexOf(t)>-1&&(r=0);const i=W0.createAndSchedule(this,t,r,a,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Xe()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const r of this.fu)if(r.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const r=this.fu.indexOf(t);this.fu.splice(r,1)}}function eb(s){return function(r,a){if(typeof r!="object"||r===null)return!1;const i=r;for(const o of a)if(o in i&&typeof i[o]=="function")return!0;return!1}(s,["next","error","complete"])}class Lr extends Vu{constructor(t,r,a,i){super(t,r,a,i),this.type="firestore",this._queue=new Zy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Zy(t),this._firestoreClient=void 0,await t}}}function K8(s,t){const r=typeof s=="object"?s:wu(),a=typeof s=="string"?s:t||Rd,i=rn(r,"firestore").getImmediate({identifier:a});if(!i._initialized){const o=cN("firestore");o&&Q8(i,...o)}return i}function Mo(s){if(s._terminated)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Y8(s),s._firestoreClient}function Y8(s){var t,r,a;const i=s._freezeSettings(),o=function(d,x,p,N){return new j1(d,x,p,N.host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,c5(N.experimentalLongPollingOptions),N.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,i);s._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((a=i.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),s._firestoreClient=new F8(s._authCredentials,s._appCheckCredentials,s._queue,o,s._componentsProvider&&function(d){const x=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(x),_online:x}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(fs.fromBase64String(t))}catch(r){throw new Re(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Pn(fs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Re(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new us(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Re(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Re(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return lt(this._lat,t._lat)||lt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,i){if(a.length!==i.length)return!1;for(let o=0;o<a.length;++o)if(a[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=/^__.*__$/;class J8{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return this.fieldMask!==null?new nn(t,this.data,this.fieldMask,r,this.fieldTransforms):new To(t,this.data,r,this.fieldTransforms)}}class x5{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return new nn(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function m5(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class rp{constructor(t,r,a,i,o,l){this.settings=t,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new rp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.ku({path:a,Qu:!1});return i.$u(t),i}Uu(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.ku({path:a,Qu:!1});return i.Bu(),i}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return qd(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(m5(this.Lu)&&X8.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class Z8{constructor(t,r,a){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=a||Mu(t)}ju(t,r,a,i=!1){return new rp({Lu:t,methodName:r,zu:a,path:us.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lo(s){const t=s._freezeSettings(),r=Mu(s._databaseId);return new Z8(s._databaseId,!!t.ignoreUndefinedProperties,r)}function ap(s,t,r,a,i,o={}){const l=s.ju(o.merge||o.mergeFields?2:0,t,r,i);lp("Data must be an object, but it was:",l,a);const d=f5(a,l);let x,p;if(o.merge)x=new Hs(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const N=[];for(const E of o.mergeFields){const P=mh(t,E,r);if(!l.contains(P))throw new Re(fe.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);y5(N,P)||N.push(P)}x=new Hs(N),p=l.fieldTransforms.filter(E=>x.covers(E.field))}else x=null,p=l.fieldTransforms;return new J8(new _s(d),x,p)}class Fu extends zo{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Fu}}class np extends zo{_toFieldTransform(t){return new Sw(t.path,new po)}isEqual(t){return t instanceof np}}class ip extends zo{constructor(t,r){super(t),this.Ju=r}_toFieldTransform(t){const r=new yo(t.serializer,ww(t.serializer,this.Ju));return new Sw(t.path,r)}isEqual(t){return t instanceof ip&&this.Ju===t.Ju}}function h5(s,t,r,a){const i=s.ju(1,t,r);lp("Data must be an object, but it was:",i,a);const o=[],l=_s.empty();an(a,(x,p)=>{const N=op(t,x,r);p=Tt(p);const E=i.Uu(N);if(p instanceof Fu)o.push(N);else{const P=Vo(p,E);P!=null&&(o.push(N),l.set(N,P))}});const d=new Hs(o);return new x5(l,d,i.fieldTransforms)}function p5(s,t,r,a,i,o){const l=s.ju(1,t,r),d=[mh(t,a,r)],x=[i];if(o.length%2!=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<o.length;P+=2)d.push(mh(t,o[P])),x.push(o[P+1]);const p=[],N=_s.empty();for(let P=d.length-1;P>=0;--P)if(!y5(p,d[P])){const A=d[P];let f=x[P];f=Tt(f);const L=l.Uu(A);if(f instanceof Fu)p.push(A);else{const k=Vo(f,L);k!=null&&(p.push(A),N.set(A,k))}}const E=new Hs(p);return new x5(N,E,l.fieldTransforms)}function eP(s,t,r,a=!1){return Vo(r,s.ju(a?4:3,t))}function Vo(s,t){if(g5(s=Tt(s)))return lp("Unsupported field value:",t,s),f5(s,t);if(s instanceof zo)return function(a,i){if(!m5(i.Lu))throw i.Wu(`${a._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${a._methodName}() is not currently supported inside arrays`);const o=a._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,i){const o=[];let l=0;for(const d of a){let x=Vo(d,i.Ku(l));x==null&&(x={nullValue:"NULL_VALUE"}),o.push(x),l++}return{arrayValue:{values:o}}}(s,t)}return function(a,i){if((a=Tt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ww(i.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const o=Kt.fromDate(a);return{timestampValue:Ld(i.serializer,o)}}if(a instanceof Kt){const o=new Kt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ld(i.serializer,o)}}if(a instanceof tp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pn)return{bytesValue:Ow(i.serializer,a._byteString)};if(a instanceof hs){const o=i.databaseId,l=a.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:M0(a.firestore._databaseId||i.databaseId,a._key.path)}}if(a instanceof sp)return function(l,d){return{mapValue:{fields:{[iw]:{stringValue:ow},[Md]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return D0(d.serializer,p)})}}}}}}(a,i);throw i.Wu(`Unsupported field value: ${Lu(a)}`)}(s,t)}function f5(s,t){const r={};return ew(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):an(s,(a,i)=>{const o=Vo(i,t.qu(a));o!=null&&(r[a]=o)}),{mapValue:{fields:r}}}function g5(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Kt||s instanceof tp||s instanceof Pn||s instanceof hs||s instanceof zo||s instanceof sp)}function lp(s,t,r){if(!g5(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const a=Lu(r);throw a==="an object"?t.Wu(s+" a custom object"):t.Wu(s+" "+a)}}function mh(s,t,r){if((t=Tt(t))instanceof Oo)return t._internalPath;if(typeof t=="string")return op(s,t);throw qd("Field path arguments must be of type string or ",s,!1,void 0,r)}const tP=new RegExp("[~\\*/\\[\\]]");function op(s,t,r){if(t.search(tP)>=0)throw qd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new Oo(...t.split("."))._internalPath}catch{throw qd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function qd(s,t,r,a,i){const o=a&&!a.isEmpty(),l=i!==void 0;let d=`Function ${t}() called with invalid data`;r&&(d+=" (via `toFirestore()`)"),d+=". ";let x="";return(o||l)&&(x+=" (found",o&&(x+=` in field ${a}`),l&&(x+=` in document ${i}`),x+=")"),new Re(fe.INVALID_ARGUMENT,d+s+x)}function y5(s,t){return s.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,r,a,i,o){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Bu("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class sP extends Wd{data(){return super.data()}}function Bu(s,t){return typeof t=="string"?op(s,t):t instanceof Oo?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Re(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cp{}class dp extends cp{}function me(s,t,...r){let a=[];t instanceof cp&&a.push(t),a=a.concat(r),function(o){const l=o.filter(x=>x instanceof up).length,d=o.filter(x=>x instanceof Uu).length;if(l>1||l>0&&d>0)throw new Re(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const i of a)s=i._apply(s);return s}class Uu extends dp{constructor(t,r,a){super(),this._field=t,this._op=r,this._value=a,this.type="where"}static _create(t,r,a){return new Uu(t,r,a)}_apply(t){const r=this._parse(t);return j5(t._query,r),new ua(t.firestore,t.converter,ah(t._query,r))}_parse(t){const r=Lo(t.firestore);return function(o,l,d,x,p,N,E){let P;if(p.isKeyField()){if(N==="array-contains"||N==="array-contains-any")throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on documentId().`);if(N==="in"||N==="not-in"){sb(E,N);const f=[];for(const L of E)f.push(tb(x,o,L));P={arrayValue:{values:f}}}else P=tb(x,o,E)}else N!=="in"&&N!=="not-in"&&N!=="array-contains-any"||sb(E,N),P=eP(d,l,E,N==="in"||N==="not-in");return Jt.create(p,N,P)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function he(s,t,r){const a=t,i=Bu("where",s);return Uu._create(i,a,r)}class up extends cp{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new up(t,r)}_parse(t){const r=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return r.length===1?r[0]:vr.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,o){let l=i;const d=o.getFlattenedFilters();for(const x of d)j5(l,x),l=ah(l,x)}(t._query,r),new ua(t.firestore,t.converter,ah(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xp extends dp{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new xp(t,r)}_apply(t){const r=function(i,o,l){if(i.startAt!==null)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ho(o,l)}(t._query,this._field,this._direction);return new ua(t.firestore,t.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new Wi(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}function hh(s,t="asc"){const r=t,a=Bu("orderBy",s);return xp._create(a,r)}class mp extends dp{constructor(t,r,a){super(),this.type=t,this._limit=r,this._limitType=a}static _create(t,r,a){return new mp(t,r,a)}_apply(t){return new ua(t.firestore,t.converter,zd(t._query,this._limit,this._limitType))}}function kt(s){return H8("limit",s),mp._create("limit",s,"F")}function tb(s,t,r){if(typeof(r=Tt(r))=="string"){if(r==="")throw new Re(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fw(t)&&r.indexOf("/")!==-1)throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=t.path.child(_t.fromString(r));if(!Ye.isDocumentKey(a))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return fy(s,new Ye(a))}if(r instanceof hs)return fy(s,r._key);throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lu(r)}.`)}function sb(s,t){if(!Array.isArray(s)||s.length===0)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function j5(s,t){const r=function(i,o){for(const l of i)for(const d of l.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(s.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Re(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Re(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class v5{convertValue(t,r="none"){switch(Xa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ht(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Ya(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Xe()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const a={};return an(t,(i,o)=>{a[i]=this.convertValue(o,r)}),a}convertVectorValue(t){var r,a,i;const o=(i=(a=(r=t.fields)===null||r===void 0?void 0:r[Md].arrayValue)===null||a===void 0?void 0:a.values)===null||i===void 0?void 0:i.map(l=>Ht(l.doubleValue));return new sp(o)}convertGeoPoint(t){return new tp(Ht(t.latitude),Ht(t.longitude))}convertArray(t,r){return(t.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(t,r){switch(r){case"previous":const a=Iu(t);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(uo(t));default:return null}}convertTimestamp(t){const r=Ka(t);return new Kt(r.seconds,r.nanos)}convertDocumentKey(t,r){const a=_t.fromString(t);yt($w(a));const i=new xo(a.get(1),a.get(3)),o=new Ye(a.popFirst(5));return i.isEqual(r)||ia(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(s,t,r){let a;return a=s?r&&(r.merge||r.mergeFields)?s.toFirestore(t,r):s.toFirestore(t):t,a}class rP extends v5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new hs(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class pp extends Wd{constructor(t,r,a,i,o,l){super(t,r,a,i,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(Bu("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class Xc extends pp{data(t={}){return super.data(t)}}class N5{constructor(t,r,a,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new di(i.hasPendingWrites,i.fromCache),this.query=a}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(a=>{t.call(r,new Xc(this._firestore,this._userDataWriter,a.key,a,new di(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Re(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(d=>{const x=new Xc(i._firestore,i._userDataWriter,d.doc.key,d.doc,new di(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:x,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const x=new Xc(i._firestore,i._userDataWriter,d.doc.key,d.doc,new di(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,N=-1;return d.type!==0&&(p=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),N=l.indexOf(d.doc.key)),{type:aP(d.type),doc:x,oldIndex:p,newIndex:N}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function aP(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(s){s=Ts(s,hs);const t=Ts(s.firestore,Lr);return q8(Mo(t),s._key).then(r=>w5(t,s,r))}class $u extends v5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new hs(this.firestore,null,r)}}function ft(s){s=Ts(s,ua);const t=Ts(s.firestore,Lr),r=Mo(t),a=new $u(t);return b5(s._query),W8(r,s._query).then(i=>new N5(t,a,s,i))}function Ta(s,t,r){s=Ts(s,hs);const a=Ts(s.firestore,Lr),i=hp(s.converter,t,r);return qu(a,[ap(Lo(a),"setDoc",s._key,i,s.converter!==null,r).toMutation(s._key,xs.none())])}function Ms(s,t,r,...a){s=Ts(s,hs);const i=Ts(s.firestore,Lr),o=Lo(i);let l;return l=typeof(t=Tt(t))=="string"||t instanceof Oo?p5(o,"updateDoc",s._key,t,r,a):h5(o,"updateDoc",s._key,t),qu(i,[l.toMutation(s._key,xs.exists(!0))])}function nP(s){return qu(Ts(s.firestore,Lr),[new Au(s._key,xs.none())])}function jn(s,t){const r=Ts(s.firestore,Lr),a=B(s),i=hp(s.converter,t);return qu(r,[ap(Lo(s.firestore),"addDoc",a._key,i,s.converter!==null,{}).toMutation(a._key,xs.exists(!1))]).then(()=>a)}function je(s,...t){var r,a,i;s=Tt(s);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof t[l]!="object"||eb(t[l])||(o=t[l],l++);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(eb(t[l])){const E=t[l];t[l]=(r=E.next)===null||r===void 0?void 0:r.bind(E),t[l+1]=(a=E.error)===null||a===void 0?void 0:a.bind(E),t[l+2]=(i=E.complete)===null||i===void 0?void 0:i.bind(E)}let x,p,N;if(s instanceof hs)p=Ts(s.firestore,Lr),N=Su(s._key.path),x={next:E=>{t[l]&&t[l](w5(p,s,E))},error:t[l+1],complete:t[l+2]};else{const E=Ts(s,ua);p=Ts(E.firestore,Lr),N=E._query;const P=new $u(p);x={next:A=>{t[l]&&t[l](new N5(p,P,E,A))},error:t[l+1],complete:t[l+2]},b5(s._query)}return function(P,A,f,L){const k=new Z0(L),_=new Y0(A,k,f);return P.asyncQueue.enqueueAndForget(async()=>H0(await $d(P),_)),()=>{k.su(),P.asyncQueue.enqueueAndForget(async()=>Q0(await $d(P),_))}}(Mo(p),N,d,x)}function qu(s,t){return function(a,i){const o=new Dr;return a.asyncQueue.enqueueAndForget(async()=>_8(await U8(a),i,o)),o.promise}(Mo(s),t)}function w5(s,t,r){const a=r.docs.get(t._key),i=new $u(s);return new pp(s,i,t._key,a,new di(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP={maxAttempts:5};function Cl(s,t){if((s=Tt(s)).firestore!==t)throw new Re(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Lo(t)}get(t){const r=Cl(t,this._firestore),a=new rP(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return Xe();const o=i[0];if(o.isFoundDocument())return new Wd(this._firestore,a,o.key,o,r.converter);if(o.isNoDocument())return new Wd(this._firestore,a,r._key,null,r.converter);throw Xe()})}set(t,r,a){const i=Cl(t,this._firestore),o=hp(i.converter,r,a),l=ap(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,a);return this._transaction.set(i._key,l),this}update(t,r,a,...i){const o=Cl(t,this._firestore);let l;return l=typeof(r=Tt(r))=="string"||r instanceof Oo?p5(this._dataReader,"Transaction.update",o._key,r,a,i):h5(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,l),this}delete(t){const r=Cl(t,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP extends lP{constructor(t,r){super(t,r),this._firestore=t}get(t){const r=Cl(t,this._firestore),a=new $u(this._firestore);return super.get(t).then(i=>new pp(this._firestore,a,r._key,i._document,new di(!1,!1),r.converter))}}function Qe(s,t,r){s=Ts(s,Lr);const a=Object.assign(Object.assign({},iP),r);return function(o){if(o.maxAttempts<1)throw new Re(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(o,l,d){const x=new Dr;return o.asyncQueue.enqueueAndForget(async()=>{const p=await $8(o);new V8(o.asyncQueue,p,d,l,x).Iu()}),x.promise}(Mo(s),i=>t(new oP(s,i)),a)}function zt(){return new np("serverTimestamp")}function Ue(s){return new ip("increment",s)}(function(t,r=!0){(function(i){Ui=i})(zn),jr(new lr("firestore",(a,{instanceIdentifier:i,options:o})=>{const l=a.getProvider("app").getImmediate(),d=new Lr(new r1(a.getProvider("auth-internal")),new i1(l,a.getProvider("app-check-internal")),function(p,N){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Re(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(p.options.projectId,N)}(l,i),l);return o=Object.assign({useFetchStreams:r},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Bs(ay,ny,t),Bs(ay,ny,"esm2017")})();function fp(s,t){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(s);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(s,a[i])&&(r[a[i]]=s[a[i]]);return r}function k5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cP=k5,C5=new On("auth","Firebase",k5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new Nu("@firebase/auth");function dP(s,...t){Gd.logLevel<=ht.WARN&&Gd.warn(`Auth (${zn}): ${s}`,...t)}function Jc(s,...t){Gd.logLevel<=ht.ERROR&&Gd.error(`Auth (${zn}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(s,...t){throw gp(s,...t)}function Rr(s,...t){return gp(s,...t)}function E5(s,t,r){const a=Object.assign(Object.assign({},cP()),{[t]:r});return new On("auth","Firebase",a).create(t,{appName:s.name})}function Zr(s){return E5(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(s,...t){if(typeof s!="string"){const r=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(r,...a)}return C5.create(s,...t)}function et(s,t,...r){if(!s)throw gp(t,...r)}function Kr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Jc(t),new Error(t)}function oa(s,t){s||Kr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function I5(){return rb()==="http:"||rb()==="https:"}function rb(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I5()||mN()||"connection"in navigator)?navigator.onLine:!0}function xP(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t,r){this.shortDelay=t,this.longDelay=r,oa(r>t,"Short delay should be less than long delay!"),this.isMobile=cE()||xE()}get(){return uP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(s,t){oa(s.emulator,"Emulator should always be set here");const{url:r}=s.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{static initialize(t,r,a){this.fetchImpl=t,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pP=new Fo(3e4,6e4);function xa(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function Br(s,t,r,a,i={}){return _5(s,i,async()=>{let o={},l={};a&&(t==="GET"?l=a:o={body:JSON.stringify(a)});const d=_o(Object.assign({key:s.config.apiKey},l)).slice(1),x=await s._getAdditionalHeaders();x["Content-Type"]="application/json",s.languageCode&&(x["X-Firebase-Locale"]=s.languageCode);const p=Object.assign({method:t,headers:x},o);return uE()||(p.referrerPolicy="no-referrer"),S5.fetch()(await P5(s,s.config.apiHost,r,d),p)})}async function _5(s,t,r){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},mP),t);try{const i=new gP(s),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw _c(s,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const d=o.ok?l.errorMessage:l.error.message,[x,p]=d.split(" : ");if(x==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(s,"credential-already-in-use",l);if(x==="EMAIL_EXISTS")throw _c(s,"email-already-in-use",l);if(x==="USER_DISABLED")throw _c(s,"user-disabled",l);const N=a[x]||x.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw E5(s,N,p);Nr(s,N)}}catch(i){if(i instanceof or)throw i;Nr(s,"network-request-failed",{message:String(i)})}}async function Bo(s,t,r,a,i={}){const o=await Br(s,t,r,a,i);return"mfaPendingCredential"in o&&Nr(s,"multi-factor-auth-required",{_serverResponse:o}),o}async function P5(s,t,r,a){const i=`${t}${r}?${a}`,o=s,l=o.config.emulator?yp(s.config,i):`${s.config.apiScheme}://${i}`;return hP.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function fP(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a(Rr(this.auth,"network-request-failed")),pP.get())})}}function _c(s,t,r){const a={appName:s.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const i=Rr(s,t,a);return i.customData._tokenResponse=r,i}function ab(s){return s!==void 0&&s.enterprise!==void 0}class yP{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return fP(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bP(s,t){return Br(s,"GET","/v2/recaptchaConfig",xa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(s,t){return Br(s,"POST","/v1/accounts:delete",t)}async function Qd(s,t){return Br(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function vP(s,t=!1){const r=Tt(s),a=await r.getIdToken(t),i=bp(a);et(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:a,authTime:Ul(Hx(i.auth_time)),issuedAtTime:Ul(Hx(i.iat)),expirationTime:Ul(Hx(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hx(s){return Number(s)*1e3}function bp(s){const[t,r,a]=s.split(".");if(t===void 0||r===void 0||a===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const i=lN(r);return i?JSON.parse(i):(Jc("Failed to decode base64 JWT payload"),null)}catch(i){return Jc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function nb(s){const t=bp(s);return et(t,"internal-error"),et(typeof t.exp<"u","internal-error"),et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oi(s,t,r=!1){if(r)return t;try{return await t}catch(a){throw a instanceof or&&NP(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function NP({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(s){var t;const r=s.auth,a=await s.getIdToken(),i=await Oi(s,Qd(r,{idToken:a}));et(i==null?void 0:i.users.length,r,"internal-error");const o=i.users[0];s._notifyReloadListener(o);const l=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?T5(o.providerUserInfo):[],d=CP(s.providerData,l),x=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!(d!=null&&d.length),N=x?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new ph(o.createdAt,o.lastLoginAt),isAnonymous:N};Object.assign(s,E)}async function kP(s){const t=Tt(s);await Kd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function CP(s,t){return[...s.filter(a=>!t.some(i=>i.providerId===a.providerId)),...t]}function T5(s){return s.map(t=>{var{providerId:r}=t,a=fp(t,["providerId"]);return{providerId:r,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(s,t){const r=await _5(s,{},async()=>{const a=_o({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=s.config,l=await P5(s,i,"/v1/token",`key=${o}`),d=await s._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",S5.fetch()(l,{method:"POST",headers:d,body:a})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function IP(s,t){return Br(s,"POST","/v2/accounts:revokeToken",xa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){et(t.idToken,"internal-error"),et(typeof t.idToken<"u","internal-error"),et(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):nb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){et(t.length!==0,"internal-error");const r=nb(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:a,refreshToken:i,expiresIn:o}=await EP(t,r);this.updateTokensAndExpiration(a,i,Number(o))}updateTokensAndExpiration(t,r,a){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,r){const{refreshToken:a,accessToken:i,expirationTime:o}=r,l=new bi;return a&&(et(typeof a=="string","internal-error",{appName:t}),l.refreshToken=a),i&&(et(typeof i=="string","internal-error",{appName:t}),l.accessToken=i),o&&(et(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new bi,this.toJSON())}_performRefresh(){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(s,t){et(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class pr{constructor(t){var{uid:r,auth:a,stsTokenManager:i}=t,o=fp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=a,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ph(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const r=await Oi(this,this.stsTokenManager.getToken(this.auth,t));return et(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return vP(this,t)}reload(){return kP(this)}_assign(t){this!==t&&(et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new pr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),r&&await Kd(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ws(this.auth.app))return Promise.reject(Zr(this.auth));const t=await this.getIdToken();return await Oi(this,jP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var a,i,o,l,d,x,p,N;const E=(a=r.displayName)!==null&&a!==void 0?a:void 0,P=(i=r.email)!==null&&i!==void 0?i:void 0,A=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,f=(l=r.photoURL)!==null&&l!==void 0?l:void 0,L=(d=r.tenantId)!==null&&d!==void 0?d:void 0,k=(x=r._redirectEventId)!==null&&x!==void 0?x:void 0,_=(p=r.createdAt)!==null&&p!==void 0?p:void 0,z=(N=r.lastLoginAt)!==null&&N!==void 0?N:void 0,{uid:M,emailVerified:Y,isAnonymous:G,providerData:W,stsTokenManager:D}=r;et(M&&D,t,"internal-error");const c=bi.fromJSON(this.name,D);et(typeof M=="string",t,"internal-error"),ba(E,t.name),ba(P,t.name),et(typeof Y=="boolean",t,"internal-error"),et(typeof G=="boolean",t,"internal-error"),ba(A,t.name),ba(f,t.name),ba(L,t.name),ba(k,t.name),ba(_,t.name),ba(z,t.name);const F=new pr({uid:M,auth:t,email:P,emailVerified:Y,displayName:E,isAnonymous:G,photoURL:f,phoneNumber:A,tenantId:L,stsTokenManager:c,createdAt:_,lastLoginAt:z});return W&&Array.isArray(W)&&(F.providerData=W.map(V=>Object.assign({},V))),k&&(F._redirectEventId=k),F}static async _fromIdTokenResponse(t,r,a=!1){const i=new bi;i.updateFromServerResponse(r);const o=new pr({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:a});return await Kd(o),o}static async _fromGetAccountInfoResponse(t,r,a){const i=r.users[0];et(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?T5(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),d=new bi;d.updateFromIdToken(a);const x=new pr({uid:i.localId,auth:t,stsTokenManager:d,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ph(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(x,p),x}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;function Yr(s){oa(s instanceof Function,"Expected a class definition");let t=ib.get(s);return t?(oa(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,ib.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}D5.type="NONE";const lb=D5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(s,t,r){return`firebase:${s}:${t}:${r}`}class ji{constructor(t,r,a){this.persistence=t,this.auth=r,this.userKey=a;const{config:i,name:o}=this.auth;this.fullUserKey=Zc(this.userKey,i.apiKey,o),this.fullPersistenceKey=Zc("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await Qd(this.auth,{idToken:t}).catch(()=>{});return r?pr._fromGetAccountInfoResponse(this.auth,r,t):null}return pr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,a="authUser"){if(!r.length)return new ji(Yr(lb),t,a);const i=(await Promise.all(r.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Yr(lb);const l=Zc(a,t.config.apiKey,t.name);let d=null;for(const p of r)try{const N=await p._get(l);if(N){let E;if(typeof N=="string"){const P=await Qd(t,{idToken:N}).catch(()=>{});if(!P)break;E=await pr._fromGetAccountInfoResponse(t,P,N)}else E=pr._fromJSON(t,N);p!==o&&(d=E),o=p;break}}catch{}const x=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!x.length?new ji(o,t,a):(o=x[0],d&&await o._set(l,d.toJSON()),await Promise.all(r.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new ji(o,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(O5(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(A5(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(L5(t))return"Blackberry";if(V5(t))return"Webos";if(R5(t))return"Safari";if((t.includes("chrome/")||M5(t))&&!t.includes("edge/"))return"Chrome";if(z5(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(r);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function A5(s=Es()){return/firefox\//i.test(s)}function R5(s=Es()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function M5(s=Es()){return/crios\//i.test(s)}function O5(s=Es()){return/iemobile/i.test(s)}function z5(s=Es()){return/android/i.test(s)}function L5(s=Es()){return/blackberry/i.test(s)}function V5(s=Es()){return/webos/i.test(s)}function jp(s=Es()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function SP(s=Es()){var t;return jp(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _P(){return mE()&&document.documentMode===10}function F5(s=Es()){return jp(s)||z5(s)||V5(s)||L5(s)||/windows phone/i.test(s)||O5(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(s,t=[]){let r;switch(s){case"Browser":r=ob(Es());break;case"Worker":r=`${ob(Es())}-${s}`;break;default:r=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${zn}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const a=o=>new Promise((l,d)=>{try{const x=t(o);l(x)}catch(x){d(x)}});a.onAbort=r,this.queue.push(a);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const a of this.queue)await a(t),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(s,t={}){return Br(s,"GET","/v2/passwordPolicy",xa(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=6;class AP{constructor(t){var r,a,i,o;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:DP,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,a,i,o,l,d;const x={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,x),this.validatePasswordCharacterOptions(t,x),x.isValid&&(x.isValid=(r=x.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),x.isValid&&(x.isValid=(a=x.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),x.isValid&&(x.isValid=(i=x.containsLowercaseLetter)!==null&&i!==void 0?i:!0),x.isValid&&(x.isValid=(o=x.containsUppercaseLetter)!==null&&o!==void 0?o:!0),x.isValid&&(x.isValid=(l=x.containsNumericCharacter)!==null&&l!==void 0?l:!0),x.isValid&&(x.isValid=(d=x.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),x}validatePasswordLengthOptions(t,r){const a=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=t.length>=a),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let i=0;i<t.length;i++)a=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,r,a,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(t,r,a,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cb(this),this.idTokenSubscription=new cb(this),this.beforeStateQueue=new PP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Yr(r)),this._initializationPromise=this.queue(async()=>{var a,i,o;if(!this._deleted&&(this.persistenceManager=await ji.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await Qd(this,{idToken:t}),a=await pr._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(Ws(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let i=a,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,d=i==null?void 0:i._redirectEventId,x=await this.tryRedirectSignIn(t);(!l||l===d)&&(x!=null&&x.user)&&(i=x.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Kd(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ws(this.app))return Promise.reject(Zr(this));const r=t?Tt(t):null;return r&&et(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ws(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ws(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await TP(this),r=new AP(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new On("auth","Firebase",t())}onAuthStateChanged(t,r,a){return this.registerStateListener(this.authStateSubscription,t,r,a)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,a){return this.registerStateListener(this.idTokenSubscription,t,r,a)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await IP(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const a=await this.getOrInitRedirectPersistenceManager(r);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Yr(t)||this._popupRedirectResolver;et(r,this,"argument-error"),this.redirectPersistenceManager=await ji.create(this,[Yr(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,a;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,a,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(d,this,"internal-error"),d.then(()=>{l||o(this.currentUser)}),typeof r=="function"){const x=t.addObserver(r,a,i);return()=>{l=!0,x()}}else{const x=t.addObserver(r);return()=>{l=!0,x()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=B5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(r["X-Firebase-Client"]=a);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var t;if(Ws(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&dP(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Fn(s){return Tt(s)}class cb{constructor(t){this.auth=t,this.observer=null,this.addObserver=jE(r=>this.observer=r)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MP(s){Wu=s}function U5(s){return Wu.loadJS(s)}function OP(){return Wu.recaptchaEnterpriseScript}function zP(){return Wu.gapiScript}function LP(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class VP{constructor(){this.enterprise=new FP}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class FP{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const BP="recaptcha-enterprise",$5="NO_RECAPTCHA";class UP{constructor(t){this.type=BP,this.auth=Fn(t)}async verify(t="verify",r=!1){async function a(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,d)=>{bP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(x=>{if(x.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new yP(x);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(x=>{d(x)})})}function i(o,l,d){const x=window.grecaptcha;ab(x)?x.enterprise.ready(()=>{x.enterprise.execute(o,{action:t}).then(p=>{l(p)}).catch(()=>{l($5)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VP().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{a(this.auth).then(d=>{if(!r&&ab(window.grecaptcha))i(d,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let x=OP();x.length!==0&&(x+=d),U5(x).then(()=>{i(d,o,l)}).catch(p=>{l(p)})}}).catch(d=>{l(d)})})}}async function pl(s,t,r,a=!1,i=!1){const o=new UP(s);let l;if(i)l=$5;else try{l=await o.verify(r)}catch{l=await o.verify(r,!0)}const d=Object.assign({},t);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const x=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:x,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const x=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:x,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function fh(s,t,r,a,i){var o,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=s._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await pl(s,t,r,r==="getOobCode");return a(s,d)}else return a(s,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const x=await pl(s,t,r,r==="getOobCode");return a(s,x)}else return Promise.reject(d)});else if(i==="PHONE_PROVIDER")if(!((l=s._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const d=await pl(s,t,r);return a(s,d).catch(async x=>{var p;if(((p=s._getRecaptchaConfig())===null||p===void 0?void 0:p.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(x.code==="auth/missing-recaptcha-token"||x.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const N=await pl(s,t,r,!1,!0);return a(s,N)}return Promise.reject(x)})}else{const d=await pl(s,t,r,!1,!0);return a(s,d)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(s,t){const r=rn(s,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(Ha(o,t??{}))return i;Nr(i,"already-initialized")}return r.initialize({options:t})}function qP(s,t){const r=(t==null?void 0:t.persistence)||[],a=(Array.isArray(r)?r:[r]).map(Yr);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function WP(s,t,r){const a=Fn(s);et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),o=q5(t),{host:l,port:d}=GP(t),x=d===null?"":`:${d}`,p={url:`${o}//${l}${x}/`},N=Object.freeze({host:l,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!a._canInitEmulator){et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),et(Ha(p,a.config.emulator)&&Ha(N,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=N,a.settings.appVerificationDisabledForTesting=!0,i||HP()}function q5(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function GP(s){const t=q5(s),r=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(a);if(i){const o=i[1];return{host:o,port:db(a.substr(o.length+1))}}else{const[o,l]=a.split(":");return{host:o,port:db(l)}}}function db(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function HP(){function s(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Kr("not implemented")}_getIdTokenResponse(t){return Kr("not implemented")}_linkToIdToken(t,r){return Kr("not implemented")}_getReauthenticationResolver(t){return Kr("not implemented")}}async function QP(s,t){return Br(s,"POST","/v1/accounts:update",t)}async function KP(s,t){return Br(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(s,t){return Bo(s,"POST","/v1/accounts:signInWithPassword",xa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(s,t){return Bo(s,"POST","/v1/accounts:signInWithEmailLink",xa(s,t))}async function JP(s,t){return Bo(s,"POST","/v1/accounts:signInWithEmailLink",xa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends vp{constructor(t,r,a,i=null){super("password",a),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new bo(t,r,"password")}static _fromEmailAndCode(t,r,a=null){return new bo(t,r,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(t,r,"signInWithPassword",YP,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return XP(t,{email:this._email,oobCode:this._password});default:Nr(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const a={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(t,a,"signUpPassword",KP,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return JP(t,{idToken:r,email:this._email,oobCode:this._password});default:Nr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vi(s,t){return Bo(s,"POST","/v1/accounts:signInWithIdp",xa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="http://localhost";class Tn extends vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Tn(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Nr("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:i}=r,o=fp(r,["providerId","signInMethod"]);if(!a||!i)return null;const l=new Tn(a,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const r=this.buildRequest();return vi(t,r)}_linkToIdToken(t,r){const a=this.buildRequest();return a.idToken=r,vi(t,a)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,vi(t,r)}buildRequest(){const t={requestUri:ZP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=_o(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tT(s){const t=jl(vl(s)).link,r=t?jl(vl(t)).deep_link_id:null,a=jl(vl(s)).deep_link_id;return(a?jl(vl(a)).link:null)||a||r||t||s}class Np{constructor(t){var r,a,i,o,l,d;const x=jl(vl(t)),p=(r=x.apiKey)!==null&&r!==void 0?r:null,N=(a=x.oobCode)!==null&&a!==void 0?a:null,E=eT((i=x.mode)!==null&&i!==void 0?i:null);et(p&&N&&E,"argument-error"),this.apiKey=p,this.operation=E,this.code=N,this.continueUrl=(o=x.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=x.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(d=x.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const r=tT(t);try{return new Np(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.providerId=Hi.PROVIDER_ID}static credential(t,r){return bo._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const a=Np.parseLink(r);return et(a,"argument-error"),bo._fromEmailAndCode(t,a.code,a.tenantId)}}Hi.PROVIDER_ID="password";Hi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends W5{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Uo{constructor(){super("facebook.com")}static credential(t){return Tn._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ka.credentialFromTaggedObject(t)}static credentialFromError(t){return ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ka.credential(t.oauthAccessToken)}catch{return null}}}ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Tn._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Ca.credentialFromTaggedObject(t)}static credentialFromError(t){return Ca.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:a}=t;if(!r&&!a)return null;try{return Ca.credential(r,a)}catch{return null}}}Ca.GOOGLE_SIGN_IN_METHOD="google.com";Ca.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Uo{constructor(){super("github.com")}static credential(t){return Tn._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ea.credentialFromTaggedObject(t)}static credentialFromError(t){return Ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ea.credential(t.oauthAccessToken)}catch{return null}}}Ea.GITHUB_SIGN_IN_METHOD="github.com";Ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Uo{constructor(){super("twitter.com")}static credential(t,r){return Tn._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Ia.credentialFromTaggedObject(t)}static credentialFromError(t){return Ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=t;if(!r||!a)return null;try{return Ia.credential(r,a)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sT(s,t){return Bo(s,"POST","/v1/accounts:signUp",xa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,a,i=!1){const o=await pr._fromIdTokenResponse(t,a,i),l=ub(a);return new Dn({user:o,providerId:l,_tokenResponse:a,operationType:r})}static async _forOperation(t,r,a){await t._updateTokensIfNecessary(a,!0);const i=ub(a);return new Dn({user:t,providerId:i,_tokenResponse:a,operationType:r})}}function ub(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends or{constructor(t,r,a,i){var o;super(r.code,r.message),this.operationType=a,this.user=i,Object.setPrototypeOf(this,Yd.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,r,a,i){return new Yd(t,r,a,i)}}function G5(s,t,r,a){return(t==="reauthenticate"?r._getReauthenticationResolver(s):r._getIdTokenResponse(s)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Yd._fromErrorAndOperation(s,o,t,a):o})}async function rT(s,t,r=!1){const a=await Oi(s,t._linkToIdToken(s.auth,await s.getIdToken()),r);return Dn._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aT(s,t,r=!1){const{auth:a}=s;if(Ws(a.app))return Promise.reject(Zr(a));const i="reauthenticate";try{const o=await Oi(s,G5(a,i,t,s),r);et(o.idToken,a,"internal-error");const l=bp(o.idToken);et(l,a,"internal-error");const{sub:d}=l;return et(s.uid===d,a,"user-mismatch"),Dn._forOperation(s,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Nr(a,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(s,t,r=!1){if(Ws(s.app))return Promise.reject(Zr(s));const a="signIn",i=await G5(s,a,t),o=await Dn._fromIdTokenResponse(s,a,i);return r||await s._updateCurrentUser(o.user),o}async function nT(s,t){return H5(Fn(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(s){const t=Fn(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function iT(s,t,r){if(Ws(s.app))return Promise.reject(Zr(s));const a=Fn(s),l=await fh(a,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sT,"EMAIL_PASSWORD_PROVIDER").catch(x=>{throw x.code==="auth/password-does-not-meet-requirements"&&Q5(s),x}),d=await Dn._fromIdTokenResponse(a,"signIn",l);return await a._updateCurrentUser(d.user),d}function lT(s,t,r){return Ws(s.app)?Promise.reject(Zr(s)):nT(Tt(s),Hi.credential(t,r)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Q5(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(s,t){return Br(s,"POST","/v1/accounts:createAuthUri",xa(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(s,t){const r=I5()?Hd():"http://localhost",a={identifier:t,continueUri:r},{signinMethods:i}=await oT(Tt(s),a);return i||[]}function K5(s,t){return dT(Tt(s),null,t)}async function dT(s,t,r){const{auth:a}=s,o={idToken:await s.getIdToken(),returnSecureToken:!0};t&&(o.email=t),r&&(o.password=r);const l=await Oi(s,QP(a,o));await s._updateTokensIfNecessary(l,!0)}function uT(s,t,r,a){return Tt(s).onIdTokenChanged(t,r,a)}function xT(s,t,r){return Tt(s).beforeAuthStateChanged(t,r)}function bt(s,t,r,a){return Tt(s).onAuthStateChanged(t,r,a)}function jo(s){return Tt(s).signOut()}const Xd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Xd,"1"),this.storage.removeItem(Xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=1e3,hT=10;class X5 extends Y5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F5(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),i=this.localCache[r];a!==i&&t(r,i,a)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((l,d,x)=>{this.notifyListeners(l,x)});return}const a=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(a);!r&&this.localCache[a]===l||this.notifyListeners(a,l)},o=this.storage.getItem(a);_P()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,hT):i()}notifyListeners(t,r){this.localCache[t]=r;const a=this.listeners[t];if(a)for(const i of Array.from(a))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:a}),!0)})},mT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}X5.type="LOCAL";const pT=X5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5 extends Y5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}J5.type="SESSION";const Z5=J5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const a=new Gu(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:a,eventType:i,data:o}=r.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:i});const d=Array.from(l).map(async p=>p(r.origin,o)),x=await fT(d);r.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:x})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(s="",t=10){let r="";for(let a=0;a<t;a++)r+=Math.floor(Math.random()*10);return s+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,a=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((d,x)=>{const p=wp("",20);i.port1.start();const N=setTimeout(()=>{x(new Error("unsupported_event"))},a);l={messageChannel:i,onMessage(E){const P=E;if(P.data.eventId===p)switch(P.data.status){case"ack":clearTimeout(N),o=setTimeout(()=>{x(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(P.data.response);break;default:clearTimeout(N),clearTimeout(o),x(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:p,data:r},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function yT(s){Mr().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function bT(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jT(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function vT(){return e2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firebaseLocalStorageDb",NT=1,Jd="firebaseLocalStorage",s2="fbase_key";class $o{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Hu(s,t){return s.transaction([Jd],t?"readwrite":"readonly").objectStore(Jd)}function wT(){const s=indexedDB.deleteDatabase(t2);return new $o(s).toPromise()}function gh(){const s=indexedDB.open(t2,NT);return new Promise((t,r)=>{s.addEventListener("error",()=>{r(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Jd,{keyPath:s2})}catch(i){r(i)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Jd)?t(a):(a.close(),await wT(),t(await gh()))})})}async function xb(s,t,r){const a=Hu(s,!0).put({[s2]:t,value:r});return new $o(a).toPromise()}async function kT(s,t){const r=Hu(s,!1).get(t),a=await new $o(r).toPromise();return a===void 0?null:a.value}function mb(s,t){const r=Hu(s,!0).delete(t);return new $o(r).toPromise()}const CT=800,ET=3;class r2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gh(),this.db)}async _withRetries(t){let r=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(r++>ET)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gu._getInstance(vT()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await bT(),!this.activeServiceWorker)return;this.sender=new gT(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((r=a[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await gh();return await xb(t,Xd,"1"),await mb(t,Xd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>xb(a,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(a=>kT(a,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>mb(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=Hu(i,!1).getAll();return new $o(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)a.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!a.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const a=this.listeners[t];if(a)for(const i of Array.from(a))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r2.type="LOCAL";const IT=r2;new Fo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(s,t){return t?Yr(t):(et(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends vp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return vi(t,this._buildIdpRequest())}_linkToIdToken(t,r){return vi(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return vi(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function _T(s){return H5(s.auth,new kp(s),s.bypassAuthState)}function PT(s){const{auth:t,user:r}=s;return et(r,t,"internal-error"),aT(r,new kp(s),s.bypassAuthState)}async function TT(s){const{auth:t,user:r}=s;return et(r,t,"internal-error"),rT(r,new kp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,r,a,i,o=!1){this.auth=t,this.resolver=a,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:a,postBody:i,tenantId:o,error:l,type:d}=t;if(l){this.reject(l);return}const x={auth:this.auth,requestUri:r,sessionId:a,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(x))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _T;case"linkViaPopup":case"linkViaRedirect":return TT;case"reauthViaPopup":case"reauthViaRedirect":return PT;default:Nr(this.auth,"internal-error")}}resolve(t){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Fo(2e3,1e4);class ui extends a2{constructor(t,r,a,i,o){super(t,r,i,o),this.provider=a,this.authWindow=null,this.pollId=null,ui.currentPopupAction&&ui.currentPopupAction.cancel(),ui.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return et(t,this.auth,"internal-error"),t}async onExecution(){oa(this.filter.length===1,"Popup operations only handle one event");const t=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ui.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,a;if(!((a=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,DT.get())};t()}}ui.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="pendingRedirect",ed=new Map;class RT extends a2{constructor(t,r,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let t=ed.get(this.auth._key());if(!t){try{const a=await MT(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(r){t=()=>Promise.reject(r)}ed.set(this.auth._key(),t)}return this.bypassAuthState||ed.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MT(s,t){const r=LT(t),a=zT(s);if(!await a._isAvailable())return!1;const i=await a._get(r)==="true";return await a._remove(r),i}function OT(s,t){ed.set(s._key(),t)}function zT(s){return Yr(s._redirectPersistence)}function LT(s){return Zc(AT,s.config.apiKey,s.name)}async function VT(s,t,r=!1){if(Ws(s.app))return Promise.reject(Zr(s));const a=Fn(s),i=ST(a,t),l=await new RT(a,i,r).execute();return l&&!r&&(delete l.user._redirectEventId,await a._persistUserIfCurrent(l.user),await a._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=10*60*1e3;class BT{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(r=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!UT(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var a;if(t.error&&!n2(t)){const i=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";r.onError(Rr(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const a=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FT&&this.cachedEventUids.clear(),this.cachedEventUids.has(hb(t))}saveEventToCache(t){this.cachedEventUids.add(hb(t)),this.lastProcessedEventTime=Date.now()}}function hb(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function n2({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function UT(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n2(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $T(s,t={}){return Br(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WT=/^https?/;async function GT(s){if(s.config.emulator)return;const{authorizedDomains:t}=await $T(s);for(const r of t)try{if(HT(r))return}catch{}Nr(s,"unauthorized-domain")}function HT(s){const t=Hd(),{protocol:r,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const l=new URL(s);return l.hostname===""&&a===""?r==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===a}if(!WT.test(r))return!1;if(qT.test(s))return a===s;const i=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=new Fo(3e4,6e4);function pb(){const s=Mr().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let r=0;r<s.CP.length;r++)s.CP[r]=null}}function KT(s){return new Promise((t,r)=>{var a,i,o;function l(){pb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pb(),r(Rr(s,"network-request-failed"))},timeout:QT.get()})}if(!((i=(a=Mr().gapi)===null||a===void 0?void 0:a.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=Mr().gapi)===null||o===void 0)&&o.load)l();else{const d=LP("iframefcb");return Mr()[d]=()=>{gapi.load?l():r(Rr(s,"network-request-failed"))},U5(`${zP()}?onload=${d}`).catch(x=>r(x))}}).catch(t=>{throw td=null,t})}let td=null;function YT(s){return td=td||KT(s),td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new Fo(5e3,15e3),JT="__/auth/iframe",ZT="emulator/auth/iframe",e6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s6(s){const t=s.config;et(t.authDomain,s,"auth-domain-config-required");const r=t.emulator?yp(t,ZT):`https://${s.config.authDomain}/${JT}`,a={apiKey:t.apiKey,appName:s.name,v:zn},i=t6.get(s.config.apiHost);i&&(a.eid=i);const o=s._getFrameworks();return o.length&&(a.fw=o.join(",")),`${r}?${_o(a).slice(1)}`}async function r6(s){const t=await YT(s),r=Mr().gapi;return et(r,s,"internal-error"),t.open({where:document.body,url:s6(s),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e6,dontclear:!0},a=>new Promise(async(i,o)=>{await a.restyle({setHideOnLeave:!1});const l=Rr(s,"network-request-failed"),d=Mr().setTimeout(()=>{o(l)},XT.get());function x(){Mr().clearTimeout(d),i(a)}a.ping(x).then(x,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n6=500,i6=600,l6="_blank",o6="http://localhost";class fb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c6(s,t,r,a=n6,i=i6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const x=Object.assign(Object.assign({},a6),{width:a.toString(),height:i.toString(),top:o,left:l}),p=Es().toLowerCase();r&&(d=M5(p)?l6:r),A5(p)&&(t=t||o6,x.scrollbars="yes");const N=Object.entries(x).reduce((P,[A,f])=>`${P}${A}=${f},`,"");if(SP(p)&&d!=="_self")return d6(t||"",d),new fb(null);const E=window.open(t||"",d,N);et(E,s,"popup-blocked");try{E.focus()}catch{}return new fb(E)}function d6(s,t){const r=document.createElement("a");r.href=s,r.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="__/auth/handler",x6="emulator/auth/handler",m6=encodeURIComponent("fac");async function gb(s,t,r,a,i,o){et(s.config.authDomain,s,"auth-domain-config-required"),et(s.config.apiKey,s,"invalid-api-key");const l={apiKey:s.config.apiKey,appName:s.name,authType:r,redirectUrl:a,v:zn,eventId:i};if(t instanceof W5){t.setDefaultLanguage(s.languageCode),l.providerId=t.providerId||"",bE(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[N,E]of Object.entries(o||{}))l[N]=E}if(t instanceof Uo){const N=t.getScopes().filter(E=>E!=="");N.length>0&&(l.scopes=N.join(","))}s.tenantId&&(l.tid=s.tenantId);const d=l;for(const N of Object.keys(d))d[N]===void 0&&delete d[N];const x=await s._getAppCheckToken(),p=x?`#${m6}=${encodeURIComponent(x)}`:"";return`${h6(s)}?${_o(d).slice(1)}${p}`}function h6({config:s}){return s.emulator?yp(s,x6):`https://${s.authDomain}/${u6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="webStorageSupport";class p6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z5,this._completeRedirectFn=VT,this._overrideRedirectResult=OT}async _openPopup(t,r,a,i){var o;oa((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await gb(t,r,a,Hd(),i);return c6(t,l,wp())}async _openRedirect(t,r,a,i){await this._originValidation(t);const o=await gb(t,r,a,Hd(),i);return yT(o),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(oa(o,"If manager is not set, promise should be"),o)}const a=this.initAndGetManager(t);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(t){const r=await r6(t),a=new BT(t);return r.register("authEvent",i=>(et(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:a.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=r,a}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(Qx,{type:Qx},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Qx];l!==void 0&&r(!!l),Nr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=GT(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return F5()||R5()||jp()}}const f6=p6;var yb="@firebase/auth",bb="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b6(s){jr(new lr("auth",(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=a.options;et(l&&!l.includes(":"),"invalid-api-key",{appName:a.name});const x={apiKey:l,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B5(s)},p=new RP(a,i,o,x);return qP(p,r),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,a)=>{t.getProvider("auth-internal").initialize()})),jr(new lr("auth-internal",t=>{const r=Fn(t.getProvider("auth").getImmediate());return(a=>new g6(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bs(yb,bb,y6(s)),Bs(yb,bb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=5*60,v6=uN("authIdTokenMaxAge")||j6;let jb=null;const N6=s=>async t=>{const r=t&&await t.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>v6)return;const i=r==null?void 0:r.token;jb!==i&&(jb=i,await fetch(s,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function i2(s=wu()){const t=rn(s,"auth");if(t.isInitialized())return t.getImmediate();const r=$P(s,{popupRedirectResolver:f6,persistence:[IT,pT,Z5]}),a=uN("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(a,location.origin);if(location.origin===o.origin){const l=N6(o.toString());xT(r,l,()=>l(r.currentUser)),uT(r,d=>l(d))}}const i=oN("auth");return i&&WP(r,`http://${i}`),r}function w6(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}MP({loadJS(s){return new Promise((t,r)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=i=>{const o=Rr("internal-error");o.customData=i,r(o)},a.type="text/javascript",a.charset="UTF-8",w6().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b6("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="firebasestorage.googleapis.com",k6="storageBucket",C6=2*60*1e3,E6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends or{constructor(t,r,a=0){super(Kx(t),`Firebase Storage: ${r} (${Kx(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ur.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Kx(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vr;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vr||(Vr={}));function Kx(s){return"storage/"+s}function I6(){const s="An unknown error occurred, please check the error payload for server response.";return new Ur(Vr.UNKNOWN,s)}function S6(){return new Ur(Vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _6(){return new Ur(Vr.CANCELED,"User canceled the upload/download.")}function P6(s){return new Ur(Vr.INVALID_URL,"Invalid URL '"+s+"'.")}function T6(s){return new Ur(Vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function vb(s){return new Ur(Vr.INVALID_ARGUMENT,s)}function o2(){return new Ur(Vr.APP_DELETED,"The Firebase app was deleted.")}function D6(s){return new Ur(Vr.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let a;try{a=fr.makeFromUrl(t,r)}catch{return new fr(t,"")}if(a.path==="")return a;throw T6(t)}static makeFromUrl(t,r){let a=null;const i="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+i+l,"i"),x={bucket:1,path:3};function p(Y){Y.path_=decodeURIComponent(Y.path)}const N="v[A-Za-z0-9_]+",E=r.replace(/[.]/g,"\\."),P="(/([^?#]*).*)?$",A=new RegExp(`^https?://${E}/${N}/b/${i}/o${P}`,"i"),f={bucket:1,path:3},L=r===l2?"(?:storage.googleapis.com|storage.cloud.google.com)":r,k="([^?#]*)",_=new RegExp(`^https?://${L}/${i}/${k}`,"i"),M=[{regex:d,indices:x,postModify:o},{regex:A,indices:f,postModify:p},{regex:_,indices:{bucket:1,path:2},postModify:p}];for(let Y=0;Y<M.length;Y++){const G=M[Y],W=G.regex.exec(t);if(W){const D=W[G.indices.bucket];let c=W[G.indices.path];c||(c=""),a=new fr(D,c),G.postModify(a);break}}if(a==null)throw P6(t);return a}}class A6{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(s,t,r){let a=1,i=null,o=null,l=!1,d=0;function x(){return d===2}let p=!1;function N(...k){p||(p=!0,t.apply(null,k))}function E(k){i=setTimeout(()=>{i=null,s(A,x())},k)}function P(){o&&clearTimeout(o)}function A(k,..._){if(p){P();return}if(k){P(),N.call(null,k,..._);return}if(x()||l){P(),N.call(null,k,..._);return}a<64&&(a*=2);let M;d===1?(d=2,M=0):M=(a+Math.random())*1e3,E(M)}let f=!1;function L(k){f||(f=!0,P(),!p&&(i!==null?(k||(d=2),clearTimeout(i),E(0)):k||(d=1)))}return E(0),o=setTimeout(()=>{l=!0,L(!0)},r),L}function M6(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(s){return s!==void 0}function Nb(s,t,r,a){if(a<t)throw vb(`Invalid value for '${s}'. Expected ${t} or greater.`);if(a>r)throw vb(`Invalid value for '${s}'. Expected ${r} or less.`)}function z6(s){const t=encodeURIComponent;let r="?";for(const a in s)if(s.hasOwnProperty(a)){const i=t(a)+"="+t(s[a]);r=r+i+"&"}return r=r.slice(0,-1),r}var Zd;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Zd||(Zd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(s,t){const r=s>=500&&s<600,i=[408,429].indexOf(s)!==-1,o=t.indexOf(s)!==-1;return r||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(t,r,a,i,o,l,d,x,p,N,E,P=!0){this.url_=t,this.method_=r,this.headers_=a,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=x,this.timeout_=p,this.progressCallback_=N,this.connectionFactory_=E,this.retry=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,f)=>{this.resolve_=A,this.reject_=f,this.start_()})}start_(){const t=(a,i)=>{if(i){a(!1,new Pc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=d=>{const x=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(x,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const d=o.getErrorCode()===Zd.NO_ERROR,x=o.getStatus();if(!d||L6(x,this.additionalRetryCodes_)&&this.retry){const N=o.getErrorCode()===Zd.ABORT;a(!1,new Pc(!1,null,N));return}const p=this.successCodes_.indexOf(x)!==-1;a(!0,new Pc(p,o))})},r=(a,i)=>{const o=this.resolve_,l=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const x=this.callback_(d,d.getResponse());O6(x)?o(x):o()}catch(x){l(x)}else if(d!==null){const x=I6();x.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,x)):l(x)}else if(i.canceled){const x=this.appDelete_?o2():_6();l(x)}else{const x=S6();l(x)}};this.canceled_?r(!1,new Pc(!1,null,!0)):this.backoffId_=R6(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&M6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pc{constructor(t,r,a){this.wasSuccessCode=t,this.connection=r,this.canceled=!!a}}function F6(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function B6(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function U6(s,t){t&&(s["X-Firebase-GMPID"]=t)}function $6(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function q6(s,t,r,a,i,o,l=!0){const d=z6(s.urlParams),x=s.url+d,p=Object.assign({},s.headers);return U6(p,t),F6(p,r),B6(p,o),$6(p,a),new V6(x,s.method,p,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function G6(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,r){this._service=t,r instanceof fr?this._location=r:this._location=fr.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new eu(t,r)}get root(){const t=new fr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G6(this._location.path)}get storage(){return this._service}get parent(){const t=W6(this._location.path);if(t===null)return null;const r=new fr(this._location.bucket,t);return new eu(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw D6(t)}}function wb(s,t){const r=t==null?void 0:t[k6];return r==null?null:fr.makeFromBucketSpec(r,s)}function H6(s,t,r,a={}){s.host=`${t}:${r}`,s._protocol="http";const{mockUserToken:i}=a;i&&(s._overrideAuthToken=typeof i=="string"?i:xN(i,s.app.options.projectId))}class Q6{constructor(t,r,a,i,o){this.app=t,this._authProvider=r,this._appCheckProvider=a,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=l2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=C6,this._maxUploadRetryTime=E6,this._requests=new Set,i!=null?this._bucket=fr.makeFromBucketSpec(i,this._host):this._bucket=wb(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,t):this._bucket=wb(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Nb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Nb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Ws(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new eu(this,t)}_makeRequest(t,r,a,i,o=!0){if(this._deleted)return new A6(o2());{const l=q6(t,this._appId,a,i,r,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(t,r){const[a,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,a,i).getPromise()}}const kb="@firebase/storage",Cb="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="storage";function K6(s=wu(),t){s=Tt(s);const a=rn(s,c2).getImmediate({identifier:t}),i=cN("storage");return i&&Y6(a,...i),a}function Y6(s,t,r,a={}){H6(s,t,r,a)}function X6(s,{instanceIdentifier:t}){const r=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),i=s.getProvider("app-check-internal");return new Q6(r,a,i,t,zn)}function J6(){jr(new lr(c2,X6,"PUBLIC").setMultipleInstances(!0)),Bs(kb,Cb,""),Bs(kb,Cb,"esm2017")}J6();const Z6={apiKey:"AIzaSyDYacL_WIzZUSP-Tjl3794P_jHocMDqN9g",authDomain:"blackkstreaming-55f0e.firebaseapp.com",projectId:"blackkstreaming-55f0e",storageBucket:"blackkstreaming-55f0e.firebasestorage.app",messagingSenderId:"998157647233",appId:"1:998157647233:web:3e5b8128a0275ae4553c80",measurementId:"G-GFM50WNMSP"},Qu=bN(Z6);XS(Qu);const C=K8(Qu),Ae=i2(Qu);K6(Qu);const Ve="/assets/logo-e43e9960.png",eD="/assets/brooklyn99-7c1a6c47.png",tD="/assets/stranger-things-31a579dc.png",sD="/assets/breaking-bad-482f4098.png",rD="/assets/naruto-54b60bd0.png",aD="/assets/alice-5ff5523e.png",nD="/assets/netflix-e3c8e0d2.png",iD="/assets/spotify-d09996b4.png",lD="/assets/disney-0c4f0934.png",oD="/assets/max-c00a4c65.png",cD="/assets/prime-video-72b85c51.png",dD="/assets/vix-ee8ed6dc.png",uD="/assets/Canva-e7a7d520.png",xD="/assets/ChatGPT-b8d712b1.png",mD="/assets/crunchyroll-562435fc.png",hD="/assets/redessociales-65298696.png",pD="/assets/dgo-7ac16535.png",fD="/assets/ligamax-7ac6606f.png",gD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAB4CAYAAADblO/uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACnFJREFUeNrsnd912zYbh+Gc3FedoPQEVSYINUHUm+bS0gS2JlA8ga0JrF7qyvYElieIMkHYCapvAn+EQEb2sUgR1AsSIJ/nHKU9jkOKIH54/+AFcPby8qIAoNucIXQAhA4ACB0AEDoAIHQAQOgAgNABAKEDAEIHQOgAgNABAKEDAEIHAIQOAAgdABA6ACB0AIQOAAgdABA6AHRX6GdnZ7RiVVZJlP45Tj+D9PM5++k2/fxIPxv1NXqgkeA1UoYYoTcj8En652X6GR75TS36Rfq5TUW/peEAoYchcG29b9JPZPkvk/QzTcW+phEROkL3V+DaNb/L3PRT0GJf0qAIHaH7KfKnCm46YgeEjsjf8CkV+4YGRugIvbsiz2P2TyToEHpdPtCUYtw4ErkmSj9XNDGEadHNvLL+xK9+qq3WJqiMs8mu3zdwp/O0XRK6LRbdf6EbF1dbpwt1fNpJF5AsvBa9eZ6fyhTBuGaZtsWU7o/Q/Rb6KvmmTOGIrSi04KdexqjmmeYN3vF3YnWE7qfQZRJV2mX9y6vsc7PWPGeWtsEtEkDofgl9lQwzkUuIQVuykTdiXyU6BLlp+K5J+vznne7dxks6FLYkCN1HobuxeP6IfZX8VPblrRJ0e159lRzqlKM+lgRLCf2j4+/5pOTdWhMGrJJ2xW4WqkQt3V0nMjeOnitWb2dB6rDeDcgU+XjDR4dCcDmvrMV+n96jzSKSixbf23gXq7tBi/zU5OI86wPbTPSPlPG2ywdHItedxXWBR6SambsuyjvELb63KKtB8J1BNijdpd/3v8wLgs4IvbnpprggceOaSw/e3TiwvjbIBH+f5W4gaKHLxHh2g4qxsE1Z84EnIvscaJ9rqooQHMfo8xaeQ6/9/tTQvSaq2Xnzsli6Scqz3vty5igbhMYl7WQ8sa/RNyQYokVvL3YdZsm/vrjtxhX2KU7Xc9x6INBJN1Omq+f6b0vbERc+WNe9zUz0VRY2uHTbY9XelNrhAc5X9GzI10jPDExLYnZW5AUq9EnLz+Paql949v6G3vcwM61WtLvtFyQYmtCNtRu03vFdZeGNmznx7P2FkpC7LnlfuO+BWXRfRmdXWfiJh+8vDJGYCrkkWK+kA0hm3WOPnku78CPha156+P5CEokWetToYPU2ZzPI2stsbJJ/p54slPko1KADzzpdvKvCkiq79C8J9/q7RYF01ucCYzAsieFt39GX7HrDygNI3TLdw/UiSe0+V3Q9vWrPI4vuo2W5SRvvQagWXjoJpzvWIvtvXoAzr2ndohK3uE9okdTJ4uftP077i34Hs4pHY8Xqfc3I+gRhSl/PSYwee/ji80MUTreYsvG57kijXWcyU1BJtpHEuXK1Ig1sBs37lsqqnSIldF+zv2OBhRSSIp8W7g5jPI86K9LiQPpaUR/xcXCbZxt+EqMfGAl9Rbvwm1pro401nwuKvNwN05Vlq2QdkHhtPaxDSC4zXqv96bTbkkEkP812XNJ373bvoiP78/VB6KdsVCG1+GJpkaR57JzQy5O1Mhbdvm7+YedBFW8Hlsfuyy68gg8CLzGETpmLfVy5Y66SOyWTZEwsXfIuxulXhW3TtsU0oVTR++lM5V6fTmrJd6W5K63GMgPXk2Bsfm3ZmW07vt/VcaatL0usavsYsScH/qYzxTwSrntojTHZffTUm5nbzS1orPbzsHIxo+28qg4vVkmXXPayfQP/8ejbPhzwPCKE/tZShshYud9A4lr1kf3mHDcl/WPt2eaR/3b5lXxU4IpNx7YnvqiQj/kt84iO/Z4OT6bevS+EDjVYdOx5JoLXmnJYZH+Ens9z+lYnL/NsbG9cbMmrlZhKhxPHvIwhQpdHi2D2KxttXsJ9wPH+oeer2yG72uHevnO3otb5gc8VwwgsuiOSd0f/moowvaz0qSNiP8Vtt31+n2PLtTIFQA+NuOqm3FlXMkZIu32hHxaBmVbShQt3gbfppuH4838N3WdmMag0u87bZPlvlJ+bg/RW6MWdRce1q0TPZYe8oODUJJyvHo3Pswh3Fn1mXdLuQ4Qux7EYbZbFVaG68KcmmobC7dltjLs+LjEqi2yQ2hy5TpyFjghdKEYs75ja5VslC9XOQRCni7z52u2+r2GfFxqMoiXBPUSi1t22Y0dHf8OsREoCbM9HgWv8SbesbM2HBf1picjlhe5KkLMA21NiftguZOlW9Z0tRS77NdKWFrp9djWueF0tmnVQIpdx222EvqULi/RJKaLuCt1gI0gb1zQkq/4odB2bZBx7zPlF54WeOOnIJlO67JHb7kvYBPXzBlGXhf7DatSza4xZAC7qpqWdUn70XFbbArGNG3nnh5l0Wei2LmRc+TeNgHxfCdbWBgp9d92LQsY6U7ORUNtfWq9XMAPTF/+Fbp/5/WJ5/W+eu6ltuO3bnmfcy85004c33h/1HM3egHq3oe/KtvTaJPwOiT3fn/Bb4ZZl5r7jbFuzn8os6HJalSdZGbe2sNRxjevPlNyurNJueyIq4GqZ9wcFmusCkeanrzxkIc7m1yBgNsiIBcS1KLj3IPMq5rutxt+GGNWPi/LQdbd1IwfWu8f6O90m/Z0eKg4GzBWbfrE88g7y467us4/+/ysRC3r83rmw41efVkq7JYX+7NR931v1rsfni0rtwA4tr/lLIF+xqeklSdx7qxznW+SEbr9ryLjGPXybbkvENzg01yvbT23K7jXv2kznKz5lXs62hsCn2b9/rnVvc0T3bc3BRb9rfe7eo8smkl69ZhOnR7vspL1QZtkg4cPqtoWjjquX62qLfaH22WCzEsu9JS9yR5vM8I9q3V8nbVeJFtxEmR1mDrnKufV8VO93ol3Wes783DyzGOv1vd8bBnP953f3drzF99nLy8tpFzg7U6++bNHxNmUuqP1IaH8fF2x3I3FHzuaCljEnuL47Nvnl7z9GvsXoqkaMU+/ccTM4tD2HvEDkEAqyQi+eWyxiWHo8Ujlt7gu+rRmTARTxRzhCN9hmoeuVK5r4pq0pphnWHISJQhO6rfte/5BAUzHXdOHIkqw3NCT0xF+h27vv8Yl3nDYYr29UmBtigM+YUt1DQv/XX6EbbKadTnNZ9vOY6wZEPsJlBwdMCn4u1qdlp9f2I5ROsOli/aqJtpHIAo1Voqfcrhy8iNv0+2HJwYU11yWy3w/8jS4C+v1Ufbq16MbqNR/HGjGOBGObdTYIIXKQFvggmzt/EvCKW7Lo+7jje0Wrfi5e8WX2+76okQPQg5RO8P3T+2WgUNerzBfMHCqprXK09K9iLCmL7k7o5qGrVLDpevFzx4kO3ah/quIVS89Z467Fa9ehj0I/JXzcZl7krh+GIXTz4E9HRi822ocuCV2743MJkUsK/UMDj66X8RUJ+RaRQ8eoG4IuM3fdiUfp3qK/d6GjX3Ewa6qhexZd9+/LLEyMVPH08UbtV7IVngngjesOAP6D0AEQOgAgdABA6ACA0AEAoQMAQgcAhA4ACB0AoQMAQgcAhA4ACB0AEDoAIHQAQOgAgNABEDoAIHQAQOgAgNABAKEDAEIHAIQOAAgdAKEjdIDu838BBgAP9Pzi++BqOAAAAABJRU5ErkJggg==",yD="/assets/youtube-49ca55e1.png",bD="/assets/deezer-17be4fc1.png",jD="/assets/tidal-d3f361cb.png",vD="/assets/vpn-62bcb4e7.png",ND="/assets/wintv-4112ccf1.png",wD="/assets/applemusic-67f0cc24.png",kD="/assets/appletv-e2fd6c55.png",CD="/assets/iptv-a55016d0.png",ED="/assets/flujotv-4d1c58b0.png",ID="/assets/vikirakuten-116faf85.png",SD="/assets/pornhub-46f32d0d.png",_D="/assets/paramount-5ab87b8f.png",PD="/assets/licencias-80ba80ab.png",TD="/assets/capcut-bc65a6c0.png",DD="/assets/duolingo-4d803f89.png",AD="/assets/buscapersonas-88e00efa.png",er=[{src:eD,title:"Brooklyn Nine-Nine"},{src:tD,title:"Stranger Things"},{src:sD,title:"Breaking Bad"},{src:rD,title:"Naruto"},{src:aD,title:"Alice in Borderland"}],RD=[{name:"Netflix",logo:nD,route:"/netflix"},{name:"Spotify",logo:iD,route:"/spotify"},{name:"Disney+",logo:lD,route:"/disney"},{name:"Max",logo:oD,route:"/max"},{name:"Prime Video",logo:cD,route:"/primevideo"},{name:"Vix",logo:dD,route:"/vix"},{name:"Canva",logo:uD,route:"/canva"},{name:"ChatGPT",logo:xD,route:"/chatgpt"},{name:"Crunchyroll",logo:mD,route:"/crunchyroll"},{name:"Redes Sociales",logo:hD,route:"/redessociales"},{name:"Dgo",logo:pD,route:"/dgo"},{name:"Liga Max",logo:fD,route:"/ligamax"},{name:"Movistar Play",logo:gD,route:"/movistarplay"},{name:"Youtube",logo:yD,route:"/youtube"},{name:"Deezer",logo:bD,route:"/deezer"},{name:"Tidal",logo:jD,route:"/tidal"},{name:"Vpn",logo:vD,route:"/vpn"},{name:"Win Tv",logo:ND,route:"/wintv"},{name:"Apple Music",logo:wD,route:"/applemusic"},{name:"Apple Tv",logo:kD,route:"/appletv"},{name:"Iptv",logo:CD,route:"/iptv"},{name:"Flujo Tv",logo:ED,route:"/flujotv"},{name:"Viki Rakuten",logo:ID,route:"/vikirakuten"},{name:"Pornhub",logo:SD,route:"/pornhub"},{name:"Paramount",logo:_D,route:"/paramount"},{name:"Licencias",logo:PD,route:"/licencias"},{name:"Capcut",logo:TD,route:"/capcut"},{name:"Duolingo",logo:DD,route:"/duolingo"},{name:"Busca Personas",logo:AD,route:"/buscapersonas"}],MD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState(0),[i,o]=j.useState(null),[l,d]=j.useState(0),[x,p]=j.useState("user"),[N,E]=j.useState(""),P=ct();j.useEffect(()=>{const k=setInterval(()=>{a(_=>(_+1)%er.length)},5e3);return()=>clearInterval(k)},[]),j.useEffect(()=>{(async()=>{if(Ae.currentUser)try{const _=te(C,"users"),z=me(_,he("email","==",Ae.currentUser.email)),M=await ft(z);if(!M.empty){const Y=M.docs[0].data();o({name:Y.username||"Usuario",email:Ae.currentUser.email}),d(Y.balance||0),p(Y.role||"user")}}catch(_){console.error("Error loading user data:",_)}})()},[Ae.currentUser]);const A=()=>{Ae.signOut().then(()=>{o(null),P("/login")}).catch(k=>{console.error("Logout error:",k)})},f=()=>{x==="user"?P("/dashboard/user"):x==="affiliate"?P("/dashboard/affiliate"):x==="provider"?P("/dashboard/provider"):x==="admin"&&P("/dashboard/admin")},L=k=>{k.preventDefault(),N.trim()&&P(`/search?q=${encodeURIComponent(N)}`)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsxs("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:[e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(y0,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar películas, series...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:N,onChange:k=>E(k.target.value)}),e.jsx("button",{onClick:L,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(b0,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:i?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:["👤 ",i.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",l.toFixed(2)]}),e.jsx("button",{onClick:f,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Rg,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:A,className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(Mg,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>P("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>P("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]}),s&&e.jsx("div",{className:"fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform translate-x-0 transition-transform duration-300 ease-in-out z-50 md:hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"flex flex-col space-y-2 p-4",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[e.jsxs("span",{className:"font-medium",children:["👤 ",i.name]}),e.jsxs("span",{className:"font-medium",children:["S/ ",l.toFixed(2)]})]}),e.jsxs("button",{onClick:f,className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors flex items-center space-x-2",children:[e.jsx(Rg,{className:"text-cyan-400"}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs("button",{onClick:A,className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors flex items-center space-x-2 text-red-400",children:[e.jsx(Mg,{}),e.jsx("span",{children:"Salir"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>P("/login"),className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors",children:"Ingresar"}),e.jsx("button",{onClick:()=>P("/register"),className:"px-3 py-2 text-left rounded-xl bg-cyan-500 hover:bg-cyan-600 transition-colors",children:"Registrarse"})]})})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),e.jsxs("main",{className:"flex-grow",children:[e.jsx("section",{className:"py-6 px-4 text-center",children:e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white",children:"Tus plataformas favoritas al instante"})}),e.jsxs("section",{className:"relative flex justify-center items-center space-x-4 mt-6 px-4 sm:px-6",children:[e.jsx("div",{className:"hidden sm:block w-40 h-56 rounded-2xl overflow-hidden shadow-lg",children:e.jsx("img",{src:er[(r-1+er.length)%er.length].src,alt:"Previous show",className:"w-full h-full object-cover opacity-50 transition-all duration-500 scale-95"})}),e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-xl border border-gray-700/50",children:[e.jsx("img",{src:er[r].src,alt:"Featured show",className:"w-48 h-64 sm:w-64 sm:h-80 object-cover transition-all duration-700 scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/80 to-transparent"}),e.jsx("h2",{className:"absolute bottom-0 w-full text-center text-base sm:text-lg font-bold text-white py-3 drop-shadow-lg",children:er[r].title})]}),e.jsx("div",{className:"hidden sm:block w-40 h-56 rounded-2xl overflow-hidden shadow-lg",children:e.jsx("img",{src:er[(r+1)%er.length].src,alt:"Next show",className:"w-full h-full object-cover opacity-50 transition-all duration-500 scale-95"})}),e.jsx("button",{onClick:()=>a(k=>(k-1+er.length)%er.length),className:"absolute left-4 sm:left-6 text-2xl sm:text-3xl bg-gray-900/80 backdrop-blur-sm hover:bg-gray-700/80 px-3 py-2 sm:px-4 sm:py-2 rounded-full transition-all border border-gray-700/50",children:e.jsx(QC,{})}),e.jsx("button",{onClick:()=>a(k=>(k+1)%er.length),className:"absolute right-4 sm:right-6 text-2xl sm:text-3xl bg-gray-900/80 backdrop-blur-sm hover:bg-gray-700/80 px-3 py-2 sm:px-4 sm:py-2 rounded-full transition-all border border-gray-700/50",children:e.jsx(KC,{})})]}),e.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:er.map((k,_)=>e.jsx("div",{className:`w-3 h-3 rounded-full ${_===r?"bg-cyan-400":"bg-gray-600"} transition-all duration-300`},_))}),e.jsxs("section",{className:"py-12 container mx-auto px-4",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Plataformas de Streaming"}),e.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto",children:"Acceso a todas tus plataformas favoritas en un solo lugar"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-8 sm:gap-10",children:RD.map((k,_)=>e.jsxs(h,{to:k.route,className:"group relative overflow-hidden rounded-2xl bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 p-4 flex flex-col items-center shadow-xl border border-gray-700/50",children:[e.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 mb-4 flex items-center justify-center",children:e.jsx("img",{src:k.logo,alt:k.name,className:"max-h-full max-w-full object-contain group-hover:scale-105 transition-transform duration-300"})}),e.jsx("span",{className:"font-medium text-center text-gray-200",children:k.name})]},_))})]}),!i&&e.jsx("section",{className:"py-12 bg-gradient-to-r from-gray-900/80 to-blue-950/80",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"¿Listo para adquirir?"}),e.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto mb-6",children:"Únete a miles de usuarios satisfechos accediendo a todas tus plataformas favoritas en un solo lugar."}),e.jsx("button",{onClick:()=>P("/register"),className:"px-6 py-3 rounded-xl bg-cyan-500 hover:bg-cyan-600 transition-all duration-300 font-medium text-white",children:"Regístrate - Gratis por tiempo limitado"})]})})]}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},OD=()=>{const[s,t]=j.useState(""),[r,a]=j.useState(""),[i,o]=j.useState(null),[l,d]=j.useState(!1),x=ct(),p=async N=>{N.preventDefault(),o(null);try{const E=te(C,"users"),P=me(E,he("username","==",s)),A=await ft(P);if(A.empty){o("Nombre de usuario no encontrado.");return}const k=A.docs[0].data().email,z=(await lT(Ae,k,r)).user;x("/")}catch{o("Usuario o contraseña incorrectos.")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsxs("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:[e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>d(!l),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(y0,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx("button",{onClick:()=>x("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>x("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})]}),l&&e.jsx("div",{className:"fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform translate-x-0 transition-transform duration-300 ease-in-out z-50 md:hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"flex flex-col space-y-2 p-4",children:[e.jsx("button",{onClick:()=>x("/login"),className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors",children:"Ingresar"}),e.jsx("button",{onClick:()=>x("/register"),className:"px-3 py-2 text-left rounded-xl bg-cyan-500 hover:bg-cyan-600 transition-colors",children:"Registrarse"})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>d(!1)})]}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-md rounded-2xl shadow-xl p-8 w-full max-w-md border border-gray-700/50",children:[e.jsxs("h1",{className:"text-2xl font-bold text-white mb-6 text-center",children:["Black",e.jsx("span",{className:"text-cyan-400",children:"Streaming"})]}),e.jsx("p",{className:"text-sm text-center text-gray-400 mb-6",children:"Bienvenido de nuevo. Inicia sesión para continuar."}),i&&e.jsxs("div",{className:"mb-4 p-3 bg-red-900/80 border-l-4 border-red-500 rounded-xl flex items-center",children:[e.jsx(rt,{className:"mr-2 text-red-400"}),e.jsx("span",{className:"text-red-300",children:i})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de Usuario"}),e.jsxs("div",{className:"relative",children:[e.jsx(Me,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Tu nombre de usuario",value:s,onChange:N=>t(N.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(rN,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"password",placeholder:"••••••••",value:r,onChange:N=>a(N.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",required:!0})]})]}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Iniciar Sesión"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(h,{to:"/register",className:"text-gray-400 hover:text-cyan-400 flex items-center justify-center transition-all",children:[e.jsx(sN,{className:"mr-1"})," ¿No tienes una cuenta? Regístrate"]})})]})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},zD=({isOpen:s,message:t,type:r,onClose:a})=>s?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:`bg-gray-800/90 backdrop-blur-md p-6 rounded-2xl shadow-2xl max-w-sm w-full border transform transition-all duration-300 ${r==="success"?"border-green-500 scale-100":"border-red-500 scale-100"}`,children:[e.jsxs("div",{className:"flex items-center mb-4",children:[r==="success"?e.jsx(_i,{className:"text-green-400 text-2xl mr-2"}):e.jsx(rt,{className:"text-red-400 text-2xl mr-2"}),e.jsx("h3",{className:`text-lg font-bold ${r==="success"?"text-green-400":"text-red-400"}`,children:r==="success"?"Éxito":"Error"})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("button",{onClick:a,className:`w-full py-2 rounded-xl font-medium transition-all duration-300 ${r==="success"?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:"Cerrar"})]})}):null,LD=()=>{const[s,t]=j.useState(""),[r,a]=j.useState(""),[i,o]=j.useState(""),[l,d]=j.useState("user"),[x,p]=j.useState(""),[N,E]=j.useState(!1),[P,A]=j.useState({isOpen:!1,message:"",type:"success"}),[f,L]=j.useState(!1),k=ct(),_=async z=>{z.preventDefault(),A({isOpen:!1,message:"",type:"success"}),E(!0);try{if(!s||s.length<3)throw new Error("El nombre de usuario debe tener al menos 3 caracteres.");if(!r||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))throw new Error("Por favor, ingresa un correo electrónico válido.");if(!i||i.length<6)throw new Error("La contraseña debe tener al menos 6 caracteres.");if(!["user","affiliate","provider"].includes(l))throw new Error("Rol no válido.");await Ta(B(C,"pendingRegistrations",r),{username:s,email:r,password:i,role:l,status:"pending",referrerCode:x||null,createdAt:new Date().toISOString()}),A({isOpen:!0,message:"Tu solicitud de registro ha sido enviada y está pendiente de aprobación.",type:"success"}),setTimeout(()=>{k("/login")},2e3)}catch(M){console.error("Error al registrar la solicitud:",M.message),A({isOpen:!0,message:M.message||"Error al enviar la solicitud de registro. Por favor, inténtalo de nuevo.",type:"error"})}finally{E(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsxs("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:[e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>L(!f),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(y0,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx("button",{onClick:()=>k("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:textcyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>k("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})]}),f&&e.jsx("div",{className:"fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform translate-x-0 transition-transform duration-300 ease-in-out z-50 md:hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>L(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"flex flex-col space-y-2 p-4",children:[e.jsx("button",{onClick:()=>k("/login"),className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors",children:"Ingresar"}),e.jsx("button",{onClick:()=>k("/register"),className:"px-3 py-2 text-left rounded-xl bg-cyan-500 hover:bg-cyan-600 transition-colors",children:"Registrarse"})]})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>L(!1)})]}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-md rounded-2xl shadow-xl p-8 w-full max-w-md border border-gray-700/50",children:[e.jsxs("h1",{className:"text-2xl font-bold text-white mb-6 text-center",children:["Black",e.jsx("span",{className:"text-cyan-400",children:"Streaming"})]}),e.jsx("p",{className:"text-sm text-center text-gray-400 mb-6",children:"Regístrate para acceder al sistema."}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de Usuario"}),e.jsxs("div",{className:"relative",children:[e.jsx(Me,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"text",value:s,onChange:z=>t(z.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Elige un nombre de usuario",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo Electrónico"}),e.jsxs("div",{className:"relative",children:[e.jsx(JC,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"email",value:r,onChange:z=>a(z.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Tu correo electrónico",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(rN,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"password",value:i,onChange:z=>o(z.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Elige una contraseña",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Rol"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:l,onChange:z=>d(z.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all appearance-none",children:[e.jsx("option",{value:"user",children:"Usuario"}),e.jsx("option",{value:"affiliate",children:"Afiliado"}),e.jsx("option",{value:"provider",children:"Proveedor"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Código de Referido (opcional)"}),e.jsx("input",{type:"text",value:x,onChange:z=>p(z.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ingresa un código de referido (si tienes)"})]}),e.jsx("button",{type:"submit",disabled:N,className:`w-full py-3 rounded-xl font-medium transition-all duration-300 ${N?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:N?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white mr-2",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h-8z"})]}),"Registrando..."]}):"Registrarse"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(h,{to:"/login",className:"text-gray-400 hover:text-cyan-400 flex items-center justify-center transition-all",children:[e.jsx(sN,{className:"mr-1"})," ¿Ya tienes una cuenta? Inicia sesión"]})})]})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})}),e.jsx(zD,{isOpen:P.isOpen,message:P.message,type:P.type,onClose:()=>A({isOpen:!1,message:"",type:"success"})})]})},VD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState(""),[i,o]=j.useState([]),[l,d]=j.useState(""),[x,p]=j.useState(""),[N,E]=j.useState(0),[P,A]=j.useState(null),[f,L]=j.useState("inicio"),[k,_]=j.useState([]),[z,M]=j.useState({}),[Y,G]=j.useState(!0),[W,D]=j.useState(null),[c,F]=j.useState({show:!1,message:"",title:""}),[V,H]=j.useState(""),I=ct(),q=(ae,n)=>{F({show:!0,title:ae,message:n})},_e=()=>{F({show:!1,message:"",title:""})};j.useEffect(()=>{(async()=>{try{const n=me(te(C,"products")),b=await ft(n),g={};b.forEach(O=>{g[O.id]=O.data()}),M(g)}catch(n){console.error("Error fetching products:",n),D("Error al cargar productos")}})()},[]);const Ce=async ae=>{var n,b,g,O,K,U;try{G(!0),D(null);const v=parseFloat(ae.price)||0;if(N<v){D("Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const Q=parseInt(ae.durationDays)||30,S=Kt.now(),y=S.toDate(),m=new Date(y.getTime()+Q*24*60*60*1e3),R=m.toISOString(),J={customerId:P,customerName:((n=ae.client)==null?void 0:n.customerName)||"Cliente desconocido",customerEmail:((b=ae.client)==null?void 0:b.email)||x,phoneNumber:((g=ae.client)==null?void 0:g.phone)||"No especificado",productName:ae.productName||"Producto sin nombre",type:ae.category||"netflix",price:v,accountDetails:{email:((O=ae.account)==null?void 0:O.email)||"No especificado",password:((K=ae.account)==null?void 0:K.password)||"No especificado",profile:((U=ae.account)==null?void 0:U.profile)||"No especificado"},provider:ae.provider||"Proveedor desconocido",providerId:ae.providerId||"",providerPhone:ae.providerPhone||ae.providerWhatsapp||"51999999999",status:"completed",createdAt:S,saleDate:S,startDate:S,endDate:R,durationDays:Q,renewedAt:S},ee=await jn(te(C,"sales"),J),X=B(C,"users",P);await Ms(X,{balance:N-v}),E(ne=>ne-v),_(ne=>[...ne,{...J,id:ee.id,saleDate:y,startDate:y,endDate:m,account:J.accountDetails,client:{customerName:J.customerName,email:J.customerEmail,phone:J.phoneNumber},orderId:`BS-${ee.id.slice(0,8).toUpperCase()}`}]),console.log("Pedido renovado:",{saleDate:y.toISOString(),startDate:y.toISOString(),endDate:m.toISOString()}),q("Éxito","¡Pedido renovado exitosamente!")}catch(v){console.error("Error al renovar el pedido:",v),D("Error al renovar el pedido: "+v.message)}finally{G(!1)}},Se=async()=>{try{await jo(Ae),I("/")}catch(ae){console.error("Error al cerrar sesión:",ae),D("Error al cerrar sesión")}};j.useEffect(()=>{const ae=bt(Ae,n=>{n?(console.log("Usuario autenticado, userId:",n.uid),A(n.uid),p(n.email||"No especificado"),G(!1)):(console.log("Usuario no autenticado, redirigiendo a /login"),I("/login"))});return()=>ae()},[I]),j.useEffect(()=>{if(!P)return;(async()=>{try{const n=B(C,"users",P);return je(n,g=>{if(g.exists()){const O=g.data();d(O.username||"Usuario"),p(O.email||"No especificado"),E(Number(O.balance)||0)}else D("Usuario no encontrado")},g=>{console.error("Error al obtener datos del usuario:",g),D("Error al cargar datos del usuario")})}catch(n){console.error("Error al obtener datos del usuario:",n),D("Error al cargar datos del usuario")}})()},[P]),j.useEffect(()=>{if(!P){console.log("userId no está definido, no se cargarán los pedidos.");return}console.log("Cargando pedidos para userId:",P),(()=>{const n=me(te(C,"sales"),he("customerId","==",P)),b=je(n,O=>{if(console.log("Snapshot recibido, documentos encontrados:",O.docs.length),O.empty){console.log("No se encontraron pedidos para este usuario."),_([]),G(!1);return}const K=O.docs.map(U=>{var nt,it,ot,$t,Gt,rs,ma,Zt,wr,kr;const v=U.data();console.log("Procesando documento:",U.id,v);const Q=((it=(nt=v.saleDate)==null?void 0:nt.toDate)==null?void 0:it.call(nt))||(($t=(ot=v.createdAt)==null?void 0:ot.toDate)==null?void 0:$t.call(ot));Q||console.warn(`Documento ${U.id} no tiene saleDate ni createdAt. Usando fecha actual como respaldo.`);const S=Q||new Date;let y=(rs=(Gt=v.startDate)==null?void 0:Gt.toDate)==null?void 0:rs.call(Gt),m=y||S,R=!1;y||(console.log(`Documento ${U.id} no tiene startDate. Usando saleDate:`,S),R=!0);const J=v.durationDays||30;let ee;v.endDate?(ee=new Date(v.endDate),console.log(`Documento ${U.id} - endDate leído de Firestore:`,ee)):(ee=new Date(m.getTime()+J*24*60*60*1e3),console.log(`Documento ${U.id} - endDate calculado:`,ee),R=!0),R&&(console.log(`Actualizando documento ${U.id} en Firestore con startDate y/o endDate`),Ms(B(C,"sales",U.id),{startDate:y||Kt.fromDate(S),endDate:ee.toISOString(),durationDays:J}).catch(ie=>{console.error("Error al actualizar startDate/endDate en Firestore:",ie)}));const X=new Date,ne=ee.getTime()-m.getTime(),Ke=X.getTime()-m.getTime(),ve=ee.getTime()-X.getTime(),se=Math.ceil(ne/(1e3*60*60*24)),ue=Math.max(0,Math.ceil(ve/(1e3*60*60*24))),pe=Math.ceil(Ke/(1e3*60*60*24)),ce=se>0?pe/se*100:100,we=((ma=z[v.providerId])==null?void 0:ma.terms)||"No se especificaron términos y condiciones.",at={id:U.id,productName:v.productName||"Producto sin nombre",category:v.type||"netflix",price:parseFloat(v.price)||0,provider:v.provider||"No especificado",providerId:v.providerId||"",providerPhone:v.providerPhone||v.providerWhatsapp||"51999999999",providerWhatsapp:v.providerPhone||v.providerWhatsapp||"51999999999",status:v.status||"completed",saleDate:S,startDate:m,endDate:ee,durationDays:J,daysRemaining:ue,totalDays:se,timeElapsedPercentage:ce,account:{email:((Zt=v.accountDetails)==null?void 0:Zt.email)||"No especificado",password:((wr=v.accountDetails)==null?void 0:wr.password)||"No especificado",profile:((kr=v.accountDetails)==null?void 0:kr.profile)||"No especificado"},client:{customerName:v.customerName||"Cliente desconocido",email:v.customerEmail||"No especificado",phone:v.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${U.id.slice(0,8).toUpperCase()}`,termsAndConditions:we};return console.log(`Documento ${U.id} - Fechas procesadas:`,{saleDate:S.toISOString(),startDate:m.toISOString(),endDate:ee.toISOString(),daysRemaining:ue,totalDays:se,timeElapsedPercentage:ce}),at});console.log("Pedidos formateados:",K),_(K),G(!1)},O=>{console.error("Error al obtener pedidos:",O),D("Error al cargar pedidos: "+O.message),G(!1)}),g=setInterval(()=>{_(O=>O.map(K=>{const U=new Date,v=new Date(K.endDate).getTime()-new Date(K.startDate).getTime(),Q=U.getTime()-new Date(K.startDate).getTime(),S=new Date(K.endDate).getTime()-U.getTime(),y=Math.ceil(v/(1e3*60*60*24)),m=Math.max(0,Math.ceil(S/(1e3*60*60*24))),R=Math.ceil(Q/(1e3*60*60*24)),J=y>0?R/y*100:100;return{...K,daysRemaining:m,totalDays:y,timeElapsedPercentage:J}}))},6e4);return()=>{b(),clearInterval(g)}})()},[P,z]),j.useEffect(()=>{if(!P)return;(()=>{const n=me(te(C,"pendingTopUps"),he("userId","==",P));return je(n,g=>{const O=g.docs.map(K=>{var U,v;return{id:K.id,...K.data(),date:((v=(U=K.data().requestedAt)==null?void 0:U.toDate)==null?void 0:v.call(U))||new Date,amount:parseFloat(K.data().amount)||0}});o(O)},g=>{console.error("Error al obtener recargas:",g),D("Error al cargar recargas")})})()},[P]);const De=async()=>{try{if(!r||isNaN(r)){D("Ingrese un monto válido");return}const ae=parseFloat(r);if(ae<10){D("El monto mínimo de recarga es S/ 10.00");return}await jn(te(C,"pendingTopUps"),{userId:P,username:l,amount:ae,status:"pendiente",requestedAt:zt()}),a(""),q("Éxito","Solicitud de recarga enviada correctamente")}catch(ae){console.error("Error al solicitar recarga:",ae),D("Error al enviar solicitud de recarga")}},oe=ae=>{if(!ae)return"No especificada";try{const n=ae instanceof Date?ae:new Date(ae);return isNaN(n.getTime())?"Fecha inválida":n.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(n){return console.error("Error formatting date:",n),"Fecha inválida"}},ye=async()=>{try{if(!V){D("Por favor, ingrese una nueva contraseña");return}const ae=Ae.currentUser;ae&&(await K5(ae,V),H(""),q("Éxito","Contraseña actualizada correctamente"))}catch(ae){console.error("Error al actualizar la contraseña:",ae),D("Error al actualizar la contraseña: "+ae.message)}},de=()=>{if(Y)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(W)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(rt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:W}),e.jsx("button",{onClick:()=>D(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(f){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:l})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:l})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(_r,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:x})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",N.toFixed(2)]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Pedidos activos"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:k.filter(ae=>new Date(ae.endDate)>new Date&&ae.status==="completed").length})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),k.slice(0,3).map((ae,n)=>{const b=new Date(ae.endDate)>new Date&&ae.status==="completed",g=ae.status==="pending";return e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:ae.productName}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${g?"bg-yellow-900/80 text-yellow-400":b?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:g?"A pedido":b?"Activo":"Expirado"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",oe(ae.endDate)]})]},n)}),k.length===0&&e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),k.length>3&&e.jsx("button",{onClick:()=>L("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]})]});case"recargar":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Recargar saldo"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),e.jsx("input",{type:"number",value:r,onChange:ae=>a(ae.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),e.jsx("button",{onClick:De,disabled:!r||parseFloat(r)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${r&&parseFloat(r)>=10?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Solicitar recarga"})]}),e.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50 max-w-md mx-auto",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(ks,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),e.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",e.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),e.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 940505969"}),e.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),e.jsxs("a",{href:"https://wa.me/51940505969?text=Hola%2C%20he%20realizado%20una%20recarga%20a%20trav%C3%A9s%20de%20Yape.%20Por%20favor%2C%20confirma%20mi%20pago.",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[e.jsx(_r,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),i.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:i.map((ae,n)=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",ae.amount.toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ae.status==="aprobado"?"bg-green-900/80 text-green-400":ae.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:ae.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:oe(ae.date)})]},n))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ks,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Mis pedidos"}),k.length>0?e.jsx("div",{className:"space-y-6",children:k.map((ae,n)=>{var R,J,ee,X,ne,Ke,ve,se,ue,pe;const b=parseFloat(ae.price)||0,g=new Date(ae.endDate)>new Date&&ae.status==="completed",O=ae.status==="pending",K=ae.daysRemaining||0,U=ae.timeElapsedPercentage||0;let v="text-green-400";U>70&&U<=90?v="text-yellow-400":U>90&&(v="text-red-400");const Q=O?e.jsx(bu,{className:"text-yellow-400"}):g?e.jsx(_i,{className:"text-green-400"}):e.jsx(rt,{className:"text-red-400"}),S=encodeURIComponent(`*Consulta sobre Pedido - ${ae.productName||"Sin nombre"}*

*N° Pedido:* ${ae.orderId||"No especificado"}
*Producto:* ${ae.productName||"No especificado"}
*Precio:* S/ ${b.toFixed(2)}
*Estado:* ${O?"A pedido":g?"Activo":"Expirado"}
*Fecha de Inicio:* ${oe(ae.startDate)}
*Fecha de Vencimiento:* ${oe(ae.endDate)}

`+(O?`Hola, he comprado un producto a pedido (${ae.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),y=encodeURIComponent(`👋 Estimado/a ${((R=ae.client)==null?void 0:R.customerName)||"Cliente"} 👋

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📺 *Tipo:* ${ae.productName||"Sin nombre"}
🔢 *Código:* ${ae.orderId||"No especificado"}
📧 *Correo:* ${((J=ae.account)==null?void 0:J.email)||"No especificado"}
🔒 *Contraseña:* ${((ee=ae.account)==null?void 0:ee.password)||"No especificado"}
👤 *Perfil:* ${((X=ae.account)==null?void 0:X.profile)||"No especificado"}
🌐 *URL:* Sin URL
📌 *Pin:* 0000
📅 *Fecha de creación:* ${oe(ae.startDate)}
📅 *Fecha de vencimiento:* ${oe(ae.endDate)}
⏳ *Días contratados:* ${ae.durationDays||30} días

`+(O?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${ae.termsAndConditions||"No se especificaron términos y condiciones."}

Si tienes alguna duda o necesitas soporte, no dudes en contactarnos. ¡Gracias por elegir BlackStreaming!`),m=ae.providerPhone?ae.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[Q,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:ae.productName||"Producto sin nombre"}),ae.orderId&&e.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",ae.orderId]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",b.toFixed(2)]}),e.jsx("p",{className:`text-xs font-medium ${O?"text-yellow-400":v}`,children:O?"Pendiente de activación":`${K} día${K===1?"":"s"} restante${K===1?"":"s"}`})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Me,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:O?e.jsx("p",{className:"text-gray-400",children:'Este pedido está "A pedido". El proveedor se contactará contigo para proporcionarte los detalles.'}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:((ne=ae.account)==null?void 0:ne.email)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white break-all",children:((Ke=ae.account)==null?void 0:Ke.password)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:((ve=ae.account)==null?void 0:ve.profile)||"No especificado"})]})]})})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Fe,{className:"mr-2"})," Información del Pedido"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"block text-white",children:ae.provider||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),e.jsx("span",{className:"block text-white",children:ae.providerPhone||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),e.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${O?"bg-yellow-900/80 text-yellow-400":g?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:O?"A pedido":g?"Activo":"Expirado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),e.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),e.jsx("span",{className:"block text-white",children:oe(ae.startDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),e.jsx("span",{className:"block text-white",children:oe(ae.endDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Días restantes:"}),e.jsx("span",{className:`block ${v}`,children:K})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Me,{className:"mr-2"})," Información del Cliente"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:((se=ae.client)==null?void 0:se.customerName)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),e.jsx("span",{className:"block text-white",children:((ue=ae.client)==null?void 0:ue.phone)||"No especificado"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("a",{href:`https://wa.me/51${m}?text=${S}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(_r,{size:18})," Contactar Proveedor"]}),e.jsxs("button",{onClick:()=>Ce(ae),disabled:Y,className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${Y?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:[e.jsx(aN,{size:18})," Renovar Pedido"]}),((pe=ae.client)==null?void 0:pe.phone)&&e.jsxs("a",{href:`https://wa.me/${ae.client.phone.replace(/^\+/,"")}?text=${y}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(_r,{size:18})," Contactar Cliente por WhatsApp"]})]})]})]},n)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ut,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:l,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),e.jsx("input",{type:"email",value:x,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cambiar contraseña"}),e.jsx("input",{type:"password",value:V,onChange:ae=>H(ae.target.value),placeholder:"Nueva contraseña",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsx("button",{onClick:ye,disabled:!V,className:`w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 ${V?"":"opacity-50 cursor-not-allowed"}`,children:"Guardar cambios"})]}),e.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:e.jsxs("button",{onClick:Se,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(xt,{})," Cerrar sesión"]})})]});default:return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(rt,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>L("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(Nt,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(re,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:l.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:l}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:x})]})]}),e.jsxs("nav",{className:"flex-1 space-y-1",children:[e.jsxs("button",{onClick:()=>{L("inicio"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${f==="inicio"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ju,{})," ",e.jsx("span",{children:"Inicio"})]}),e.jsxs("button",{onClick:()=>{L("recargar"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${f==="recargar"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ks,{})," ",e.jsx("span",{children:"Recargar saldo"})]}),e.jsxs("button",{onClick:()=>{L("pedidos"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${f==="pedidos"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ut,{})," ",e.jsx("span",{children:"Mis pedidos"})]}),e.jsxs("button",{onClick:()=>{L("configuracion"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${f==="configuracion"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(lo,{})," ",e.jsx("span",{children:"Configuración"})]})]}),e.jsx("div",{className:"mt-auto pt-4",children:e.jsxs("button",{onClick:Se,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx(xt,{})," ",e.jsx("span",{children:"Cerrar sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 pt-20 md:pt-6",children:de()}),c.show&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:c.title}),e.jsx("button",{onClick:_e,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(re,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:c.message}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:_e,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},FD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState("inicio"),[i,o]=j.useState(""),[l,d]=j.useState(""),[x,p]=j.useState(""),[N,E]=j.useState(""),[P,A]=j.useState(""),[f,L]=j.useState(""),[k,_]=j.useState([]),[z,M]=j.useState(0),[Y,G]=j.useState(0),[W,D]=j.useState(null),[c,F]=j.useState(!0),[V,H]=j.useState(null),[I,q]=j.useState([]),[_e,Ce]=j.useState(!1),[Se,De]=j.useState(""),[oe,ye]=j.useState(""),[de,ae]=j.useState([]),[n,b]=j.useState([]),[g,O]=j.useState(""),[K,U]=j.useState(""),[v,Q]=j.useState({show:!1,message:"",title:""}),S=ct(),y=(se,ue)=>{Q({show:!0,title:se,message:ue})},m=()=>{Q({show:!1,message:"",title:""})};j.useEffect(()=>{const se=bt(Ae,ue=>{ue?(D(ue.uid),d(ue.email||""),p(ue.email||""),F(!1)):S("/login")});return()=>se()},[S]),j.useEffect(()=>{(async()=>{if(W)try{const ue=B(C,"users",W),pe=await ze(ue);if(pe.exists()){const at=pe.data();if(o(at.username||"Usuario"),G(Number(at.balance)||0),at.orders){const nt=at.orders.map(it=>{var ot,$t,Gt,rs;return{...it,startDate:(($t=(ot=it.startDate)==null?void 0:ot.toDate)==null?void 0:$t.call(ot))||new Date,endDate:((rs=(Gt=it.endDate)==null?void 0:Gt.toDate)==null?void 0:rs.call(Gt))||new Date(Date.now()+2592e6)}});b(nt)}}const ce=B(C,"affiliates",W),we=await ze(ce);if(we.exists()){const at=we.data();L(at.affiliateCode||""),M(Number(at.earnings)||0)}else{const at=`AFF-${Math.random().toString(36).substring(2,8).toUpperCase()}`;await Ta(ce,{username:i||"Nuevo Afiliado",email:l,affiliateCode:at,earnings:0,createdAt:zt(),updatedAt:zt()}),L(at)}}catch(ue){console.error("Error al manejar datos:",ue),H("Error al cargar datos")}finally{F(!1)}})()},[W,l,i]),j.useEffect(()=>{if(!W)return;const se=te(C,"pendingTopUps"),ue=me(se,he("userId","==",W)),pe=je(ue,async ce=>{const we=ce.docs.map(at=>{var nt;return{id:at.id,...at.data(),date:((nt=at.data().requestedAt)==null?void 0:nt.toDate())||new Date}});ae(we);for(const at of we)if(at.status==="aprobado"&&!at.processed)try{const nt=B(C,"users",W),it=await ze(nt);if(it.exists()){const $t=(Number(it.data().balance)||0)+Number(at.amount||0);await Ms(nt,{balance:$t,updatedAt:zt()}),G($t),await Ms(B(C,"pendingTopUps",at.id),{processed:!0,updatedAt:zt()})}}catch(nt){console.error("Error al actualizar saldo:",nt),H("Error al actualizar saldo tras aprobación de recarga")}},ce=>{console.error("Error al escuchar recargas:",ce),H("Error al cargar recargas")});return()=>pe()},[W]),j.useEffect(()=>{if(!f)return;const se=me(te(C,"users"),he("referrerCode","==",f),hh("createdAt","desc"),kt(5)),ue=je(se,pe=>{const ce=pe.docs.map(we=>{var at;return{id:we.id,...we.data(),joinDate:((at=we.data().createdAt)==null?void 0:at.toDate())||new Date}});q(ce)});return()=>ue()},[f]),j.useEffect(()=>{if(!f)return;const se=me(te(C,"users"),he("referrerCode","==",f)),ue=je(se,pe=>{const ce=pe.docs.map(we=>{var at;return{id:we.id,...we.data(),joinDate:((at=we.data().createdAt)==null?void 0:at.toDate())||new Date}});_(ce)});return()=>ue()},[f]);const R=async()=>{try{if(!oe||isNaN(oe)){H("Ingrese un monto válido");return}const se=parseFloat(oe);if(se<10){H("El monto mínimo de recarga es S/ 10.00");return}await jn(te(C,"pendingTopUps"),{userId:W,username:i,amount:se,status:"pendiente",requestedAt:zt(),processed:!1}),ye(""),y("Éxito","Solicitud de recarga enviada correctamente")}catch(se){console.error("Error al solicitar recarga:",se),H("Error al enviar solicitud de recarga")}},J=async se=>{var ue,pe,ce,we,at,nt;try{F(!0),H(null);const it=parseFloat(se.price)||0;if(Y<it){H("Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const ot={customerId:W,customerName:((ue=se.client)==null?void 0:ue.name)||"Cliente desconocido",customerEmail:((pe=se.client)==null?void 0:pe.email)||l,phoneNumber:((ce=se.client)==null?void 0:ce.phone)||"No especificado",productName:se.productName||"Producto sin nombre",type:se.category||"netflix",price:it,accountDetails:{email:((we=se.account)==null?void 0:we.email)||"No especificado",password:((at=se.account)==null?void 0:at.password)||"No especificado",profile:((nt=se.account)==null?void 0:nt.profile)||"No especificado"},provider:se.provider||"Proveedor desconocido",providerId:se.providerId||"",providerPhone:se.providerPhone||se.providerWhatsapp||"51999999999",status:"completed",createdAt:zt(),saleDate:zt(),startDate:zt(),endDate:new Date(Date.now()+30*24*60*60*1e3).toISOString(),renewedAt:zt()},$t=await jn(te(C,"sales"),ot),Gt=B(C,"users",W);await Ms(Gt,{balance:Y-it}),G(rs=>rs-it),b(rs=>[...rs,{...ot,id:$t.id,saleDate:new Date,startDate:new Date,endDate:new Date(Date.now()+30*24*60*60*1e3),account:ot.accountDetails,client:{name:ot.customerName,email:ot.customerEmail,phone:ot.phoneNumber},orderId:`BS-${$t.id.slice(0,8).toUpperCase()}`}]),y("Éxito","¡Pedido renovado exitosamente!")}catch(it){console.error("Error al renovar el pedido:",it),H("Error al renovar el pedido: "+it.message)}finally{F(!1)}},ee=()=>{f&&(navigator.clipboard.writeText(f),Ce(!0),setTimeout(()=>Ce(!1),2e3))},X=se=>{if(!se)return"No especificada";try{const ue=se instanceof Date?se:new Date(se);return isNaN(ue.getTime())?"Fecha inválida":ue.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(ue){return console.error("Error formatting date:",ue),"Fecha inválida"}},ne=async()=>{try{await jo(Ae),S("/")}catch(se){console.error("Error al cerrar sesión:",se),H("Error al cerrar sesión")}},Ke=async se=>{se.preventDefault(),O(""),U("");try{if(N&&N!==P){O("Las contraseñas no coinciden");return}const ue=B(C,"users",W),pe={username:i};x!==l&&(pe.email=x),await Ta(ue,pe,{merge:!0}),U(N?"Cambio de contraseña no disponible en esta versión":"Configuración actualizada correctamente"),d(x),E(""),A(""),y("Éxito",K)}catch(ue){console.error("Error al actualizar configuración:",ue),O("Error al actualizar la configuración")}},ve=()=>{if(c)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(V)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(rt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:V}),e.jsx("button",{onClick:()=>H(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:i})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:i})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(_r,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:l})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",Y.toFixed(2)]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias totales"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",z.toFixed(2)]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu código de afiliado"}),e.jsxs("button",{onClick:ee,disabled:!f,className:`flex items-center gap-2 px-3 py-1 rounded-xl transition-all duration-300 ${f?"bg-cyan-900/80 text-cyan-400 hover:bg-cyan-800/80":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(XC,{size:16}),_e?"¡Copiado!":"Copiar"]})]}),e.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 border border-gray-600/50",children:e.jsx("p",{className:"text-2xl font-bold text-center tracking-wider text-white",children:f||"Generando código..."})}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Comparte este código con tus amigos para que se registren y ganes comisiones por sus compras."}),e.jsxs("div",{className:"bg-cyan-900/30 p-4 rounded-xl border border-cyan-800/50",children:[e.jsx("h4",{className:"font-medium text-cyan-400 mb-2",children:"Enlace de afiliado:"}),e.jsx("p",{className:"text-sm bg-gray-800/50 p-2 rounded-xl border border-gray-600/50 overflow-x-auto text-gray-300",children:f?`https://blackkstreaming.com/registro?ref=${f}`:"Generando enlace..."})]})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recargar saldo"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),e.jsx("input",{type:"number",value:oe,onChange:se=>ye(se.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),e.jsx("button",{onClick:R,disabled:!oe||parseFloat(oe)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${oe&&parseFloat(oe)>=10?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Solicitar recarga"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Pedidos recientes"}),n.slice(0,3).map((se,ue)=>{const pe=new Date(se.endDate)>new Date&&se.status==="completed",ce=se.status==="pending";return e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:se.productName}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ce?"bg-yellow-900/80 text-yellow-400":pe?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ce?"A pedido":pe?"Activo":"Expirado"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",X(se.endDate)]})]},ue)}),n.length===0&&e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),n.length>3&&e.jsx("button",{onClick:()=>a("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]})]})]});case"recargas":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Recargar saldo"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),e.jsx("input",{type:"number",value:oe,onChange:se=>ye(se.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),e.jsx("button",{onClick:R,disabled:!oe||parseFloat(oe)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${oe&&parseFloat(oe)>=10?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Solicitar recarga"}),e.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(ks,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),e.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",e.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),e.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 940505969"}),e.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),e.jsxs("a",{href:"https://wa.me/51940505969?text=Hola%2C%20he%20realizado%20una%20recarga%20a%20trav%C3%A9s%20de%20Yape.%20Por%20favor%2C%20confirma%20mi%20pago.",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[e.jsx(_r,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),de.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acción"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:de.map((se,ue)=>{var ce,we;const pe=encodeURIComponent(`Hola, he pedido una recarga de S/ ${((ce=se.amount)==null?void 0:ce.toFixed(2))||"0.00"} con el nombre ${i}. Adjunto la captura de mi pago, por favor.`);return e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",((we=se.amount)==null?void 0:we.toFixed(2))||"0.00"]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${se.status==="aprobado"?"bg-green-900/80 text-green-400":se.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:se.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:X(se.date)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:se.status==="pendiente"?e.jsxs("a",{href:`https://wa.me/51940505969?text=${pe}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 text-sm",children:[e.jsx(_r,{className:"mr-2"})," Enviar captura"]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"—"})})]},ue)})})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ks,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Mis pedidos"}),n.length>0?e.jsx("div",{className:"space-y-6",children:n.map((se,ue)=>{var ot,$t,Gt,rs,ma,Zt,wr,kr,ie,Ne,Te;const pe=parseFloat(se.price)||0,ce=new Date(se.endDate)>new Date&&se.status==="completed",we=se.status==="pending",at=we?e.jsx(bu,{className:"text-yellow-400"}):ce?e.jsx(_i,{className:"text-green-400"}):e.jsx(rt,{className:"text-red-400"}),nt=encodeURIComponent(`*Consulta sobre Pedido - ${se.productName||"Sin nombre"}*

*N° Pedido:* ${se.orderId||"No especificado"}
*Producto:* ${se.productName||"No especificado"}
*Precio:* S/ ${pe.toFixed(2)}
*Estado:* ${we?"A pedido":ce?"Activo":"Expirado"}
*Fecha de Inicio:* ${X(se.startDate)}
*Fecha de Vencimiento:* ${X(se.endDate)}

`+(we?`Hola, he comprado un producto a pedido (${se.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),it=encodeURIComponent(`Hola ${((ot=se.client)==null?void 0:ot.name)||"Cliente"},

*Aquí tienes la información de tu pedido en BlackStreaming:*
*Producto:* ${se.productName||"Sin nombre"}
*N° Pedido:* ${se.orderId||"No especificado"}
*Precio:* S/ ${pe.toFixed(2)}
*Estado:* ${we?"A pedido":ce?"Activo":"Expirado"}
*Fecha de Inicio:* ${X(se.startDate)}
*Fecha de Vencimiento:* ${X(se.endDate)}

`+(we?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:`*Detalles de la Cuenta:*
📧 *Email:* ${(($t=se.account)==null?void 0:$t.email)||"No especificado"}
🔑 *Contraseña:* ${((Gt=se.account)==null?void 0:Gt.password)||"No especificado"}
👤 *Perfil:* ${((rs=se.account)==null?void 0:rs.profile)||"No especificado"}

`)+"Si tienes alguna duda o necesitas soporte, no dudes en contactarnos. ¡Gracias por elegir BlackStreaming!");return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[at,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:se.productName||"Producto sin nombre"}),se.orderId&&e.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",se.orderId]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",pe.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-gray-400",children:[X(se.startDate)," - ",X(se.endDate)]})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Me,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:we?e.jsx("p",{className:"text-gray-400",children:'Este pedido está "A pedido". El proveedor se contactará contigo para proporcionarte los detalles.'}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:((ma=se.account)==null?void 0:ma.email)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white break-all",children:((Zt=se.account)==null?void 0:Zt.password)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:((wr=se.account)==null?void 0:wr.profile)||"No especificado"})]})]})})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Fe,{className:"mr-2"})," Información del Pedido"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"block text-white",children:se.provider||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),e.jsx("span",{className:"block text-white",children:se.providerPhone||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),e.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${we?"bg-yellow-900/80 text-yellow-400":ce?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:we?"A pedido":ce?"Activo":"Expirado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),e.jsx("span",{className:"block text-white",children:se.paymentMethod||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),e.jsx("span",{className:"block text-white",children:X(se.startDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),e.jsx("span",{className:"block text-white",children:X(se.endDate)})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Me,{className:"mr-2"})," Información del Cliente"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:((kr=se.client)==null?void 0:kr.name)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),e.jsx("span",{className:"block text-white",children:((ie=se.client)==null?void 0:ie.phone)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white",children:((Ne=se.client)==null?void 0:Ne.email)||"No especificado"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("a",{href:`https://wa.me/${se.providerPhone||se.providerWhatsapp||"51999999999"}?text=${nt}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(_r,{size:18})," Contactar Proveedor"]}),e.jsxs("button",{onClick:()=>J(se),disabled:c,className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${c?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:[e.jsx(aN,{size:18})," Renovar Pedido"]}),((Te=se.client)==null?void 0:Te.phone)&&e.jsxs("a",{href:`https://wa.me/${se.client.phone}?text=${it}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(_r,{size:18})," Contactar Cliente por WhatsApp"]})]})]})]},ue)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ut,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"referidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos tus referidos (",k.length,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar referidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:Se,onChange:se=>De(se.target.value)}),e.jsx(b0,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),k.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de registro"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:k.filter(se=>{const ue=se.username||"",pe=se.email||"";return ue.toLowerCase().includes(Se.toLowerCase())||pe.toLowerCase().includes(Se.toLowerCase())}).map((se,ue)=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:se.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:se.email||"Sin email"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:se.joinDate?X(se.joinDate):"No especificada"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:se.status||"Activo"})})]},ue))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ml,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes referidos aún"}),e.jsx("p",{className:"text-gray-400",children:"Comparte tu código de afiliado para empezar a ganar comisiones"})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde ayer"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde la semana pasada"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias totales"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",z.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[k.length," referidos"]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(Wm,{className:"mr-2 text-cyan-400"})," Historial de comisiones"]}),k.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-800/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Referido"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Origen"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:k.map((se,ue)=>e.jsxs("tr",{className:"hover:bg-gray-600/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:se.username||"Usuario sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:se.joinDate?X(se.joinDate):"No especificada"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:"S/ 0.00"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:"Registro"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900/80 text-yellow-400",children:"Pendiente"})})]},ue))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ks,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay comisiones registradas"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gana comisiones cuando tus referidos realicen compras"})]})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),e.jsxs("form",{onSubmit:Ke,children:[g&&e.jsxs("div",{className:"bg-red-900/80 text-red-300 p-3 rounded-xl mb-4 flex items-center",children:[e.jsx(rt,{className:"mr-2"})," ",g]}),K&&e.jsxs("div",{className:"bg-green-900/80 text-green-300 p-3 rounded-xl mb-4 flex items-center",children:[e.jsx(_i,{className:"mr-2"})," ",K]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:i,onChange:se=>o(se.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),e.jsx("input",{type:"email",value:x,onChange:se=>p(se.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña"}),e.jsx("input",{type:"password",value:N,onChange:se=>E(se.target.value),placeholder:"Dejar en blanco para no cambiar",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",disabled:!0}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Cambio de contraseña no disponible en esta versión."})]}),N&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Confirmar nueva contraseña"}),e.jsx("input",{type:"password",value:P,onChange:se=>A(se.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",disabled:!0})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium transition-all duration-300",children:"Guardar cambios"})})]})]}),e.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:e.jsxs("button",{onClick:ne,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(xt,{})," Cerrar sesión"]})})]});default:return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(rt,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>a("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(Nt,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(re,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:i.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:i}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:l})]})]}),e.jsxs("nav",{className:"flex-1 space-y-1",children:[e.jsxs("button",{onClick:()=>{a("inicio"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="inicio"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ju,{})," ",e.jsx("span",{children:"Inicio"})]}),e.jsxs("button",{onClick:()=>{a("recargas"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="recargas"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ks,{})," ",e.jsx("span",{children:"Recargas"})]}),e.jsxs("button",{onClick:()=>{a("pedidos"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="pedidos"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ut,{})," ",e.jsx("span",{children:"Mis pedidos"})]}),e.jsxs("button",{onClick:()=>{a("referidos"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="referidos"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(Ml,{})," ",e.jsx("span",{children:"Referidos"})]}),e.jsxs("button",{onClick:()=>{a("ganancias"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="ganancias"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(Wm,{})," ",e.jsx("span",{children:"Ganancias"})]}),e.jsxs("button",{onClick:()=>{a("configuracion"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="configuracion"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(lo,{})," ",e.jsx("span",{children:"Configuración"})]})]}),e.jsx("div",{className:"mt-auto pt-4",children:e.jsxs("button",{onClick:ne,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx(xt,{})," ",e.jsx("span",{children:"Cerrar sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 pt-20 md:pt-6",children:ve()}),v.show&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:v.title}),e.jsx("button",{onClick:m,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(re,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:v.message}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:m,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},BD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState("inicio"),[i,o]=j.useState("Usuario"),[l,d]=j.useState(""),[x,p]=j.useState(""),[N,E]=j.useState([]),[P,A]=j.useState([]),[f,L]=j.useState(!0),[k,_]=j.useState(""),[z,M]=j.useState({image:"",category:"Netflix",name:"",price:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:Array(1).fill({email:"",password:"",profile:""})}),[Y,G]=j.useState(null),[W,D]=j.useState(!1),[c,F]=j.useState(""),[V,H]=j.useState({open:!1,message:""}),[I,q]=j.useState({email:"",password:"",preferences:""}),[_e,Ce]=j.useState([]),[Se,De]=j.useState(""),[oe,ye]=j.useState("Yape"),[de,ae]=j.useState(""),[n,b]=j.useState(!1),[g,O]=j.useState([]),[K,U]=j.useState(!0),[v,Q]=j.useState(0),S=ct(),y=i2(),m=ie=>{var Ne;if(!ie)return"No especificada";try{const Te=ie instanceof Date?ie:((Ne=ie==null?void 0:ie.toDate)==null?void 0:Ne.call(ie))||new Date(ie);return isNaN(Te.getTime())?"Fecha inválida":Te.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Te){return console.error("Error formatting date:",Te),"Fecha inválida"}},R=ie=>({netflix:"Netflix",spotify:"Spotify",disney:"Disney",max:"Max",primevideo:"Prime Video",vix:"Vix",crunchyroll:"Crunchyroll",canva:"Canva",chatgpt:"ChatGPT",redessociales:"Redes Sociales",dgo:"Dgo",ligamax:"Liga Max",movistarplay:"Movistar Play",youtube:"Youtube",deezer:"Deezer",tidal:"Tidal",vpn:"Vpn",wintv:"WinTv",applemusic:"Apple Music",appletv:"Apple TV",iptv:"Iptv",flujotv:"Flujo Tv",vikirakuten:"Viki Rakuten",pornhub:"Pornhub",paramount:"Paramount",licencias:"Licencias",capcut:"Capcut",duolingo:"Duolingo",buscapersonas:"BuscaPersonas"})[ie==null?void 0:ie.toLowerCase()]||"Otro";j.useEffect(()=>{const ie=bt(y,Ne=>{Ne?(d(Ne.email||""),p(Ne.uid),J(Ne.uid)):S("/login")});return()=>ie()},[y,S]);const J=async ie=>{try{const Ne=B(C,"users",ie),Te=await ze(Ne);if(Te.exists()){const Je=Te.data();o(Je.username||"Usuario"),q({email:Je.email||"",password:"",preferences:Je.preferences||""})}L(!1)}catch(Ne){_("Error al cargar datos del usuario"),console.error("Error fetching user data:",Ne),L(!1)}};j.useEffect(()=>{l&&(async Ne=>{try{const Te=await ze(B(C,"admins",Ne));b(Te.exists())}catch(Te){console.error("Error checking admin status:",Te)}})(l)},[l]),j.useEffect(()=>{if(!i)return;const ie=me(te(C,"products"),he("provider","==",i)),Ne=je(ie,Te=>{const Je=Te.docs.map(Dt=>({id:Dt.id,...Dt.data()}));A(Je)},Te=>{console.error("Error fetching products:",Te),_("Error al cargar productos")});return()=>Ne()},[i]),j.useEffect(()=>{if(!x)return;const ie=me(te(C,"sales"),he("providerId","==",x)),Ne=je(ie,Te=>{const Je=Te.docs.map(Dt=>{const jt=Dt.data();return{id:Dt.id,productName:jt.productName||"Producto sin nombre",category:jt.type||"netflix",buyer:jt.customerName||jt.customerNAME||"Comprador desconocido",buyerEmail:jt.customerEmail||"Sin email",buyerPhone:jt.phoneNumber||"Sin teléfono",date:jt.saleDate?jt.saleDate:jt.createdAt||new Date,amount:parseFloat(jt.price)||0,status:jt.status||"completed",accountDetails:jt.accountDetails||{email:"No disponible",password:"No disponible",profile:"N/A"}}});E(Je),U(!1)},Te=>{console.error("Error fetching sales:",Te),_("Error al cargar ventas"),U(!1)});return()=>Ne()},[x]),j.useEffect(()=>{if(!i)return;const ie=me(te(C,"withdrawals"),he("provider","==",i),hh("createdAt","desc")),Ne=je(ie,Te=>{const Je=Te.docs.map(Dt=>{const jt=Dt.data();return{id:Dt.id,...jt,amount:parseFloat(jt.amount)||0,createdAt:jt.createdAt||new Date,processedAt:jt.processedAt||null}});Ce(Je),U(!1)},Te=>{console.error("Error fetching withdrawals:",Te),_("Error al cargar retiros")});return()=>Ne()},[i]),j.useEffect(()=>{if(!n)return;const ie=me(te(C,"withdrawals"),he("status","==","pending"),hh("createdAt","desc")),Ne=je(ie,Te=>{const Je=Te.docs.map(Dt=>{const jt=Dt.data();return{id:Dt.id,...jt,amount:parseFloat(jt.amount)||0,createdAt:jt.createdAt||new Date}});O(Je)},Te=>{console.error("Error fetching pending withdrawals:",Te),_("Error al cargar solicitudes de retiro pendientes")});return()=>Ne()},[n]),j.useEffect(()=>{if(!i)return;const ie=B(C,"providerBalances",i),Ne=je(ie,Te=>{Te.exists()?Q(Te.data().balance||0):(Ta(ie,{balance:0,provider:i,updatedAt:zt()}),Q(0)),U(!1)},Te=>{console.error("Error fetching provider balance:",Te),_("Error al cargar el saldo del proveedor"),U(!1)});return()=>Ne()},[i]);const ee=()=>{jo(y).then(()=>S("/login")).catch(ie=>{_("Error al cerrar sesión"),console.error("Logout error:",ie)})},X=ie=>{const{name:Ne,value:Te}=ie.target;M(Je=>({...Je,[Ne]:Te}))},ne=ie=>{const{name:Ne,value:Te}=ie.target;q(Je=>({...Je,[Ne]:Te}))},Ke=(ie,Ne=!1)=>{const Te=ie.target.files[0];if(Te){if(Te.size>10485760){Ne?F("La imagen no debe exceder los 10MB"):_("La imagen no debe exceder los 10MB");return}const Dt=new FileReader;Dt.onloadend=()=>{Ne?G(jt=>({...jt,image:Dt.result})):M(jt=>({...jt,image:Dt.result}))},Dt.readAsDataURL(Te)}},ve=ie=>{const Ne=parseInt(ie.target.value)||1,Te=z.accounts||[];if(Ne>Te.length){const Je=[...Te];for(;Je.length<Ne;)Je.push({email:"",password:"",profile:""});M({...z,stock:Ne,accounts:Je})}else if(Ne<Te.length){const Je=Te.slice(0,Math.max(Ne,1));M({...z,stock:Ne,accounts:Je})}else M({...z,stock:Ne})},se=ie=>{const Ne=parseInt(ie.target.value)||1;let Je=[...Y.accounts||[]];if(Ne>Je.length)for(;Je.length<Ne;)Je.push({email:"",password:"",profile:""});else Ne<Je.length&&(Je=Je.slice(0,Math.max(Ne,1)));G({...Y,stock:Ne,accounts:Je})},ue=(ie,Ne,Te)=>{const Je=[...z.accounts];Je[ie]={...Je[ie],[Ne]:Te},M({...z,accounts:Je})},pe=(ie,Ne,Te)=>{G(Je=>({...Je,accounts:Je.accounts.map((Dt,jt)=>jt===ie?{...Dt,[Ne]:Te}:Dt)}))},ce=async()=>{if(_(""),z.status==="En stock"&&z.accounts.some(Ne=>!Ne.email||!Ne.password)){_("Por favor complete todos los campos de las cuentas");return}try{const ie={...z,provider:i,providerId:x,providerPhone:z.status==="En stock"?z.providerPhone||"":z.providerPhone||"No especificado",createdAt:zt(),availableAccounts:z.status==="En stock"?z.accounts.length:0},Ne=await jn(te(C,"products"),ie);if(z.status==="En stock"){const Te=te(C,`products/${Ne.id}/accounts`);for(const Je of z.accounts)await jn(Te,{email:Je.email,password:Je.password,profile:Je.profile||"",status:"available"})}M({image:"",category:"Netflix",name:"",price:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:[{email:"",password:"",profile:""}]}),a("inventario"),H({open:!0,message:"Producto subido exitosamente!"})}catch(ie){console.error("Error al subir el producto:",ie),_(`Error al subir el producto: ${ie.message}`)}},we=ie=>{F(""),G({...ie,accounts:ie.status==="En stock"?ie.accounts||Array(Math.max(ie.stock||1,1)).fill({email:"",password:"",profile:""}):[],providerId:ie.providerId||x}),D(!0)},at=async()=>{var ie;if(F(""),Y.status==="En stock"&&Y.accounts.some(Te=>!Te.email||!Te.password)){F("Por favor complete todos los campos de las cuentas");return}try{const Ne=B(C,"products",Y.id);await Ta(Ne,{...Y,providerId:Y.providerId||x,availableAccounts:Y.status==="En stock"&&((ie=Y.accounts)==null?void 0:ie.length)||0},{merge:!0}),D(!1),H({open:!0,message:"Producto actualizado exitosamente!"})}catch(Ne){console.error("Error al actualizar el producto:",Ne),F("Error al actualizar el producto")}},nt=async ie=>{try{await nP(B(C,"products",ie)),H({open:!0,message:"Producto eliminado exitosamente!"})}catch(Ne){console.error("Error al eliminar el producto:",Ne),_("Error al eliminar el producto")}},it=async()=>{try{const ie=y.currentUser;if(ie){const Ne=B(C,"users",ie.uid);await Ta(Ne,{username:i,email:I.email,preferences:I.preferences,...I.password&&{password:I.password}},{merge:!0}),H({open:!0,message:"Configuración actualizada correctamente!"})}}catch(ie){console.error("Error al actualizar la configuración:",ie),_("Error al actualizar la configuración")}},ot=async()=>{if(!Se||parseFloat(Se)<=0){_("Ingrese un monto válido");return}if(parseFloat(Se)>v){_("No tienes suficientes fondos disponibles");return}if(!de){_("Ingrese los datos de su cuenta");return}try{await jn(te(C,"withdrawals"),{provider:i,providerEmail:l,amount:parseFloat(Se),method:oe,account:de,status:"pending",createdAt:zt()}),De(""),ae(""),H({open:!0,message:"Solicitud de retiro enviada correctamente"})}catch(ie){console.error("Error al solicitar retiro:",ie),_("Error al solicitar retiro")}},$t=async(ie,Ne)=>{try{const Te=B(C,"withdrawals",ie),Je=await ze(Te);if(!Je.exists())throw new Error("Solicitud de retiro no encontrada");const Dt=Je.data(),jt=Dt.provider,ha=parseFloat(Dt.amount);if(Ne==="approved"){const Bn=B(C,"providerBalances",jt),Un=await ze(Bn);let cr=0;if(Un.exists()&&(cr=Un.data().balance||0),ha>cr){_("El proveedor no tiene suficientes fondos para aprobar este retiro");return}await Ta(Bn,{balance:cr-ha,provider:jt,updatedAt:zt()},{merge:!0})}await Ms(Te,{status:Ne,processedAt:zt(),processedBy:l}),H({open:!0,message:Ne==="approved"?"Retiro aprobado y saldo actualizado correctamente":"Retiro rechazado"})}catch(Te){console.error("Error al procesar retiro:",Te),_("Error al procesar retiro: "+Te.message)}},Gt=K?0:N.reduce((ie,Ne)=>ie+(Ne.amount||0),0),rs=K?0:_e.reduce((ie,Ne)=>ie+(Ne.status==="approved"?Ne.amount:0),0),Zt=(()=>K?0:v)(),wr=P.reduce((ie,Ne)=>ie+(parseInt(Ne.stock)||0),0),kr=()=>{if(f)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(k)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(rt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:k}),e.jsx("button",{onClick:()=>_(""),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:i})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(wc,{className:"mr-2"})," Inventario"]}),e.jsx("p",{className:"text-3xl font-bold text-white",children:P.length}),e.jsx("p",{className:"text-gray-400",children:"Productos registrados"}),e.jsxs("p",{className:"text-gray-400",children:["Stock total: ",wr]}),e.jsx("button",{onClick:()=>a("inventario"),className:"text-cyan-400 hover:underline text-sm mt-2",children:"Ver inventario"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(ks,{className:"mr-2"})," Ganancias"]}),K?e.jsx("div",{className:"animate-pulse text-gray-400",children:"Cargando..."}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",Gt.toFixed(2)]}),e.jsxs("p",{className:"text-gray-400",children:[N.length," ventas realizadas"]}),e.jsxs("p",{className:"text-gray-400",children:["Disponible: S/ ",Zt.toFixed(2)]}),e.jsx("button",{onClick:()=>a("retiros"),className:"text-cyan-400 hover:underline text-sm mt-2",children:"Retirar fondos"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Me,{className:"mr-2"})," Mi Cuenta"]}),e.jsx("p",{className:"text-lg font-medium text-white",children:i}),e.jsx("p",{className:"text-sm text-gray-400 truncate",children:l}),e.jsx("p",{className:"text-xs mt-2 bg-cyan-900 text-cyan-400 py-1 px-2 rounded-full inline-block",children:n?"Administrador":"Proveedor"}),e.jsx("button",{onClick:()=>a("configuracion"),className:"text-cyan-400 hover:underline text-sm mt-2",children:"Editar perfil"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[e.jsx(ut,{className:"mr-2"})," Pedidos recientes"]}),N.length===0?e.jsx("p",{className:"text-gray-400 py-2 text-center",children:"No hay pedidos recientes."}):N.slice(0,3).map((ie,Ne)=>e.jsx("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"w-2/3",children:[e.jsx("p",{className:"font-medium text-white truncate",children:ie.productName}),e.jsxs("p",{className:"text-sm text-gray-400 truncate",children:["Comprador: ",ie.buyer]})]}),e.jsxs("div",{className:"text-right w-1/3",children:[e.jsxs("p",{className:"font-medium text-white",children:["S/ ",(ie.amount||0).toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-400",children:m(ie.date)})]})]})},Ne)),N.length>3&&e.jsx("button",{onClick:()=>a("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]})]});case"inventario":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white flex items-center",children:[e.jsx(wc,{className:"mr-2"})," Inventario"]}),e.jsxs("button",{onClick:()=>a("subirProducto"),className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl flex items-center w-full md:w-auto justify-center transition-all duration-300",children:[e.jsx(zg,{className:"mr-2"})," Nuevo Producto"]})]}),P.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Precio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:P.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[ie.image&&e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:ie.image,alt:ie.name})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-white truncate max-w-xs",children:ie.name}),e.jsx("div",{className:"text-xs text-gray-400",children:R(ie.category)})]})]})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["S/ ",(parseFloat(ie.price)||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:ie.stock||0}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ie.status==="En stock"?"bg-green-900/80 text-green-400":"bg-yellow-900/80 text-yellow-400"}`,children:ie.status})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{onClick:()=>we(ie),className:"text-cyan-400 hover:text-cyan-500 mr-3",title:"Editar",children:e.jsx(Og,{})}),e.jsx("button",{onClick:()=>nt(ie.id),className:"text-red-400 hover:text-red-500",title:"Eliminar",children:e.jsx(ZC,{})})]})]},ie.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(wc,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes productos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Agrega tu primer producto para comenzar"}),e.jsxs("button",{onClick:()=>a("subirProducto"),className:"mt-4 px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl flex items-center mx-auto transition-all duration-300",children:[e.jsx(zg,{className:"mr-2"})," Agregar Producto"]})]})]});case"subirProducto":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-4xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(Lg,{className:"mr-2"})," Subir Nuevo Producto"]}),k&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 mb-6 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(rt,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:k})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Imagen del producto"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-600/50 border-dashed rounded-xl bg-gray-700/50 backdrop-blur-sm",children:z.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:z.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain"}),e.jsx("button",{type:"button",onClick:()=>M({...z,image:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1",children:e.jsx(re,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-gray-800/50 rounded-xl font-medium text-cyan-400 hover:text-cyan-500 focus-within:outline-none",children:[e.jsx("span",{children:"Subir una imagen"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:ie=>Ke(ie),accept:"image/*"})]})}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),e.jsxs("div",{className:"col-span-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre del producto*"}),e.jsx("input",{type:"text",name:"name",value:z.name,onChange:X,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Categoría*"}),e.jsxs("select",{name:"category",value:z.category,onChange:X,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Spotify",children:"Spotify"}),e.jsx("option",{value:"Disney",children:"Disney+"}),e.jsx("option",{value:"Max",children:"Max"}),e.jsx("option",{value:"Prime Video",children:"Prime Video"}),e.jsx("option",{value:"Vix",children:"Vix"}),e.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),e.jsx("option",{value:"Canva",children:"Canva"}),e.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),e.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),e.jsx("option",{value:"Dgo",children:"DGO"}),e.jsx("option",{value:"Liga Max",children:"Liga Max"}),e.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),e.jsx("option",{value:"Youtube",children:"YouTube"}),e.jsx("option",{value:"Deezer",children:"Deezer"}),e.jsx("option",{value:"Tidal",children:"Tidal"}),e.jsx("option",{value:"Vpn",children:"VPN"}),e.jsx("option",{value:"WinTv",children:"WinTV"}),e.jsx("option",{value:"Apple Music",children:"Apple Music"}),e.jsx("option",{value:"Apple Tv",children:"Apple TV"}),e.jsx("option",{value:"Iptv",children:"IPTV"}),e.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),e.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),e.jsx("option",{value:"Pornhub",children:"Pornhub"}),e.jsx("option",{value:"Paramount",children:"Paramount"}),e.jsx("option",{value:"Licencias",children:"Licencias"}),e.jsx("option",{value:"Capcut",children:"Capcut"}),e.jsx("option",{value:"Duolingo",children:"Duolingo"}),e.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Estado*"}),e.jsxs("select",{name:"status",value:z.status,onChange:X,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"En stock",children:"En stock"}),e.jsx("option",{value:"A pedido",children:"A pedido"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio (S/)*"}),e.jsx("input",{type:"number",name:"price",value:z.price,onChange:X,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Stock*"}),e.jsx("input",{type:"number",name:"stock",value:z.stock,onChange:ve,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"1",required:!0})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Duración (días)"}),e.jsx("input",{type:"number",name:"duration",value:z.duration,onChange:X,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Dejar vacío para ilimitado",min:"1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Teléfono de contacto ",z.status==="A pedido"?"*":""]}),e.jsx("input",{type:"text",name:"providerPhone",value:z.providerPhone,onChange:X,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: +51 987654321",required:z.status==="A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Detalles del producto"}),e.jsx("textarea",{name:"details",value:z.details,onChange:X,rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Describe los detalles y características del producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Términos y condiciones"}),e.jsx("textarea",{name:"terms",value:z.terms,onChange:X,rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Especifica los términos y condiciones de uso"})]}),z.status==="En stock"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cuentas asociadas*"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Debe completar todas las cuentas según el stock indicado"}),e.jsx("div",{className:"space-y-4",children:z.accounts.map((ie,Ne)=>e.jsxs("div",{className:"border border-gray-600/50 rounded-xl p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("h4",{className:"text-sm font-medium text-white mb-3",children:["Cuenta ",Ne+1]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Correo electrónico*"}),e.jsx("input",{type:"email",value:ie.email,onChange:Te=>ue(Ne,"email",Te.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Contraseña*"}),e.jsx("input",{type:"text",value:ie.password,onChange:Te=>ue(Ne,"password",Te.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",value:ie.profile,onChange:Te=>ue(Ne,"profile",Te.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: Perfil 1"})]})]})]},Ne))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>a("inventario"),className:"px-4 py-2 bg-gray-700/50 text-gray-300 rounded-xl hover:bg-gray-600/50 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:ce,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Subir Producto"})]})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(ks,{className:"mr-2"})," Ganancias"]}),e.jsx("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 mb-6 border border-gray-600/50 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-1",children:"Ganancias totales"}),e.jsxs("p",{className:"text-sm text-gray-400",children:[N.length," ventas realizadas"]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Retirado: S/ ",rs.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Disponible: S/ ",Zt.toFixed(2)]})]}),e.jsxs("div",{className:"text-3xl font-bold text-white mt-2 md:mt-0",children:["S/ ",Gt.toFixed(2)]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Categoría"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Comprador"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Contacto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:N.map((ie,Ne)=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:ie.productName}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:R(ie.category)}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-white",children:ie.buyer}),e.jsx("div",{className:"text-xs text-gray-400",children:ie.buyerEmail})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:ie.buyerPhone}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:m(ie.date)}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-white",children:["S/ ",(ie.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:"Completado"})})]},Ne))})]})}),N.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ks,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay ventas registradas"}),e.jsx("p",{className:"text-gray-400",children:"Tus ventas aparecerán aquí."})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(ut,{className:"mr-2"})," Pedidos"]}),N.length>0?e.jsx("div",{className:"space-y-6",children:N.map((ie,Ne)=>{const Je=ie.status==="pending"?e.jsx(bu,{className:"text-yellow-400"}):e.jsx(_i,{className:"text-green-400"});return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[Je,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:ie.productName}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Categoría: ",R(ie.category)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",(ie.amount||0).toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-400",children:m(ie.date)})]})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Me,{className:"mr-2"})," Información del Comprador"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:ie.buyer})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white",children:ie.buyerEmail})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),e.jsx("span",{className:"block text-white",children:ie.buyerPhone})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Me,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:ie.accountDetails?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:ie.accountDetails.email})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white break-all",children:ie.accountDetails.password})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:ie.accountDetails.profile||"N/A"})]})]}):e.jsx("p",{className:"text-gray-400",children:"No disponible"})})]})]})})]},Ne)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ut,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Los pedidos de tus productos aparecerán aquí."})]})]});case"retiros":return e.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(hl,{className:"mr-2"})," Solicitudes de Retiro Pendientes"]}),g.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Método"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto (S/)"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:g.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-white truncate max-w-xs",children:ie.provider}),e.jsx("div",{className:"text-xs text-gray-400 truncate max-w-xs",children:ie.providerEmail})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:ie.method}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-white",children:["S/ ",(ie.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:m(ie.createdAt)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs("button",{onClick:()=>$t(ie.id,"approved"),className:"text-green-400 hover:text-green-500 flex items-center text-sm",children:[e.jsx(Wc,{className:"mr-1"})," Aprobar"]}),e.jsxs("button",{onClick:()=>$t(ie.id,"rejected"),className:"text-red-400 hover:text-red-500 flex items-center text-sm",children:[e.jsx(re,{className:"mr-1"})," Rechazar"]})]})})]},ie.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(hl,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay solicitudes pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Las solicitudes de retiro aparecerán aquí"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(hl,{className:"mr-2"})," Retirar Dinero"]}),e.jsx("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 mb-6 border border-gray-600/50 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-1",children:"Saldo disponible"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Ganancias totales: S/ ",Gt.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Retirado: S/ ",rs.toFixed(2)]})]}),e.jsxs("div",{className:"text-3xl font-bold text-white mt-2 md:mt-0",children:["S/ ",Zt.toFixed(2)]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Solicitar Retiro"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a retirar (S/)*"}),e.jsx("input",{type:"number",value:Se,onChange:ie=>De(ie.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 150.00",step:"0.01",min:"0",max:Zt}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Máximo disponible: S/ ",Zt.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Método de pago*"}),e.jsxs("select",{value:oe,onChange:ie=>ye(ie.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Yape",children:"Yape"}),e.jsx("option",{value:"Plin",children:"Plin"}),e.jsx("option",{value:"Transferencia",children:"Transferencia Bancaria"}),e.jsx("option",{value:"Otro",children:"Otro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Datos de la cuenta*"}),e.jsx("input",{type:"text",value:de,onChange:ie=>ae(ie.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:oe==="Yape"?"Número de teléfono":"Número de cuenta",required:!0})]}),e.jsx("button",{onClick:ot,disabled:!Se||parseFloat(Se)<=0||parseFloat(Se)>Zt||!de,className:`w-full px-6 py-3 rounded-xl font-medium transition-all duration-300 ${Se&&parseFloat(Se)>0&&parseFloat(Se)<=Zt&&de?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Solicitar Retiro"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Historial de Retiros"}),_e.length>0?e.jsx("div",{className:"space-y-4",children:_e.map((ie,Ne)=>e.jsx("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-white",children:["S/ ",(ie.amount||0).toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:[ie.method," - ",ie.account]}),e.jsxs("p",{className:"text-xs text-gray-400",children:[ie.status==="pending"?"Solicitado":"Procesado",": ",m(ie.status==="pending"?ie.createdAt:ie.processedAt)]})]}),e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${ie.status==="approved"?"bg-green-900/80 text-green-400":ie.status==="rejected"?"bg-red-900/80 text-red-400":"bg-yellow-900/80 text-yellow-400"}`,children:ie.status==="approved"?"Aprobado":ie.status==="rejected"?"Rechazado":"Pendiente"})]})},Ne))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(hl,{className:"mx-auto text-3xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-400",children:"No hay retiros registrados"})]})]})]})]})});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(lo,{className:"mr-2"})," Configuración de cuenta"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario*"}),e.jsx("input",{type:"text",value:i,onChange:ie=>o(ie.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico*"}),e.jsx("input",{type:"email",name:"email",value:I.email,onChange:ne,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña"}),e.jsx("input",{type:"password",name:"password",value:I.password,onChange:ne,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Dejar vacío para no cambiar"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Preferencias"}),e.jsx("textarea",{name:"preferences",value:I.preferences,onChange:ne,rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Tus preferencias y configuraciones"})]}),e.jsx("button",{onClick:it,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium transition-all duration-300",children:"Guardar cambios"})]}),e.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:e.jsxs("button",{onClick:ee,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(xt,{})," Cerrar sesión"]})})]});default:return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(rt,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>a("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(Nt,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(re,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:i.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white truncate",children:i}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:l}),e.jsx("p",{className:"text-xs mt-2 bg-cyan-900 text-cyan-400 py-1 px-2 rounded-full inline-block",children:n?"Administrador":"Proveedor"})]})]}),e.jsx("nav",{className:"flex-1",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsxs("button",{onClick:()=>{a("inicio"),t(!1)},className:`w-full flex items-center px-4 py-3 rounded-xl transition-all duration-300 ${r==="inicio"?"bg-cyan-500/20 text-cyan-400":"text-gray-300 hover:bg-gray-800/50"}`,children:[e.jsx(ju,{className:"mr-3"})," Inicio"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>{a("inventario"),t(!1)},className:`w-full flex items-center px-4 py-3 rounded-xl transition-all duration-300 ${r==="inventario"?"bg-cyan-500/20 text-cyan-400":"text-gray-300 hover:bg-gray-800/50"}`,children:[e.jsx(wc,{className:"mr-3"})," Inventario"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>{a("subirProducto"),t(!1)},className:`w-full flex items-center px-4 py-3 rounded-xl transition-all duration-300 ${r==="subirProducto"?"bg-cyan-500/20 text-cyan-400":"text-gray-300 hover:bg-gray-800/50"}`,children:[e.jsx(Lg,{className:"mr-3"})," Subir Producto"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>{a("ganancias"),t(!1)},className:`w-full flex items-center px-4 py-3 rounded-xl transition-all duration-300 ${r==="ganancias"?"bg-cyan-500/20 text-cyan-400":"text-gray-300 hover:bg-gray-800/50"}`,children:[e.jsx(ks,{className:"mr-3"})," Ganancias"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>{a("pedidos"),t(!1)},className:`w-full flex items-center px-4 py-3 rounded-xl transition-all duration-300 ${r==="pedidos"?"bg-cyan-500/20 text-cyan-400":"text-gray-300 hover:bg-gray-800/50"}`,children:[e.jsx(ut,{className:"mr-3"})," Pedidos"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>{a("retiros"),t(!1)},className:`w-full flex items-center px-4 py-3 rounded-xl transition-all duration-300 ${r==="retiros"?"bg-cyan-500/20 text-cyan-400":"text-gray-300 hover:bg-gray-800/50"}`,children:[e.jsx(hl,{className:"mr-3"})," Retiros"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>{a("configuracion"),t(!1)},className:`w-full flex items-center px-4 py-3 rounded-xl transition-all duration-300 ${r==="configuracion"?"bg-cyan-500/20 text-cyan-400":"text-gray-300 hover:bg-gray-800/50"}`,children:[e.jsx(lo,{className:"mr-3"})," Configuración"]})})]})}),e.jsxs("button",{onClick:ee,className:"mt-4 flex items-center px-4 py-3 text-red-400 hover:bg-gray-800/50 rounded-xl transition-all duration-300",children:[e.jsx(xt,{className:"mr-3"})," Cerrar Sesión"]})]})}),e.jsxs("main",{className:"md:ml-64 p-4 sm:p-6",children:[kr(),W&&Y&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-sm rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-gray-700/50",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white flex items-center",children:[e.jsx(Og,{className:"mr-2"})," Editar Producto"]}),e.jsx("button",{onClick:()=>D(!1),className:"p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(re,{className:"text-xl text-gray-300"})})]}),c&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 mb-6 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(rt,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:c})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Imagen del producto"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-600/50 border-dashed rounded-xl bg-gray-700/50 backdrop-blur-sm",children:Y.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Y.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain"}),e.jsx("button",{type:"button",onClick:()=>G({...Y,image:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1",children:e.jsx(re,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:e.jsxs("label",{htmlFor:"edit-file-upload",className:"relative cursor-pointer bg-gray-800/50 rounded-xl font-medium text-cyan-400 hover:text-cyan-500 focus-within:outline-none",children:[e.jsx("span",{children:"Subir una imagen"}),e.jsx("input",{id:"edit-file-upload",name:"edit-file-upload",type:"file",className:"sr-only",onChange:ie=>Ke(ie,!0),accept:"image/*"})]})}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),e.jsxs("div",{className:"col-span-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre del producto*"}),e.jsx("input",{type:"text",name:"name",value:Y.name,onChange:ie=>G({...Y,name:ie.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Categoría*"}),e.jsxs("select",{name:"category",value:Y.category,onChange:ie=>G({...Y,category:ie.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Spotify",children:"Spotify"}),e.jsx("option",{value:"Disney",children:"Disney+"}),e.jsx("option",{value:"Max",children:"Max"}),e.jsx("option",{value:"Prime Video",children:"Prime Video"}),e.jsx("option",{value:"Vix",children:"Vix"}),e.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),e.jsx("option",{value:"Canva",children:"Canva"}),e.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),e.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),e.jsx("option",{value:"Dgo",children:"DGO"}),e.jsx("option",{value:"Liga Max",children:"Liga Max"}),e.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),e.jsx("option",{value:"Youtube",children:"YouTube"}),e.jsx("option",{value:"Deezer",children:"Deezer"}),e.jsx("option",{value:"Tidal",children:"Tidal"}),e.jsx("option",{value:"Vpn",children:"VPN"}),e.jsx("option",{value:"WinTv",children:"WinTV"}),e.jsx("option",{value:"Apple Music",children:"Apple Music"}),e.jsx("option",{value:"Apple Tv",children:"Apple TV"}),e.jsx("option",{value:"Iptv",children:"IPTV"}),e.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),e.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),e.jsx("option",{value:"Pornhub",children:"Pornhub"}),e.jsx("option",{value:"Paramount",children:"Paramount"}),e.jsx("option",{value:"Licencias",children:"Licencias"}),e.jsx("option",{value:"Capcut",children:"Capcut"}),e.jsx("option",{value:"Duolingo",children:"Duolingo"}),e.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Estado*"}),e.jsxs("select",{name:"status",value:Y.status,onChange:ie=>G({...Y,status:ie.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"En stock",children:"En stock"}),e.jsx("option",{value:"A pedido",children:"A pedido"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio (S/)*"}),e.jsx("input",{type:"number",name:"price",value:Y.price,onChange:ie=>G({...Y,price:ie.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Stock*"}),e.jsx("input",{type:"number",name:"stock",value:Y.stock,onChange:se,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"1",required:!0})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Duración (días)"}),e.jsx("input",{type:"number",name:"duration",value:Y.duration,onChange:ie=>G({...Y,duration:ie.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Dejar vacío para ilimitado",min:"1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Teléfono de contacto ",Y.status==="A pedido"?"*":""]}),e.jsx("input",{type:"text",name:"providerPhone",value:Y.providerPhone,onChange:ie=>G({...Y,providerPhone:ie.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: +51 987654321",required:Y.status==="A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Detalles del producto"}),e.jsx("textarea",{name:"details",value:Y.details,onChange:ie=>G({...Y,details:ie.target.value}),rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Describe los detalles y características del producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Términos y condiciones"}),e.jsx("textarea",{name:"terms",value:Y.terms,onChange:ie=>G({...Y,terms:ie.target.value}),rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Especifica los términos y condiciones de uso"})]}),Y.status==="En stock"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cuentas asociadas*"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Debe completar todas las cuentas según el stock indicado"}),e.jsx("div",{className:"space-y-4",children:Y.accounts.map((ie,Ne)=>e.jsxs("div",{className:"border border-gray-600/50 rounded-xl p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("h4",{className:"text-sm font-medium text-white mb-3",children:["Cuenta ",Ne+1]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Correo electrónico*"}),e.jsx("input",{type:"email",value:ie.email,onChange:Te=>pe(Ne,"email",Te.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Contraseña*"}),e.jsx("input",{type:"text",value:ie.password,onChange:Te=>pe(Ne,"password",Te.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",value:ie.profile,onChange:Te=>pe(Ne,"profile",Te.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: Perfil 1"})]})]})]},Ne))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-gray-700/50 text-gray-300 rounded-xl hover:bg-gray-600/50 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:at,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})]})]})]})})}),V.open&&e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-sm rounded-2xl shadow-2xl p-6 max-w-md w-full border border-gray-700/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_i,{className:"mx-auto text-4xl text-green-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"¡Éxito!"}),e.jsx("p",{className:"text-gray-300 mb-6",children:V.message}),e.jsx("button",{onClick:()=>H({open:!1,message:""}),className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium transition-all duration-300",children:"Aceptar"})]})})})]})]})},UD=({isOpen:s,message:t,type:r,onClose:a})=>s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:e.jsxs("div",{className:`bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full border ${r==="success"?"border-green-500":"border-red-500"}`,children:[e.jsx("h3",{className:`text-lg font-bold mb-2 ${r==="success"?"text-green-400":"text-red-400"}`,children:r==="success"?"Éxito":"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:t}),e.jsx("button",{onClick:a,className:`w-full py-2 rounded-lg ${r==="success"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} text-white transition-colors`,children:"Cerrar"})]})}):null,$D=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState("inicio"),[i,o]=j.useState(""),[l,d]=j.useState(""),[x,p]=j.useState(0),[N,E]=j.useState([]),[P,A]=j.useState([]),[f,L]=j.useState([]),[k,_]=j.useState([]),[z,M]=j.useState([]),[Y,G]=j.useState({day:0,week:0,month:0,total:0}),[W,D]=j.useState(!0),[c,F]=j.useState({}),[V,H]=j.useState(null),[I,q]=j.useState(""),[_e,Ce]=j.useState({isOpen:!1,message:"",type:"success"}),[Se,De]=j.useState(!1),oe=ct();j.useEffect(()=>{const y=bt(Ae,m=>{!m&&!Se?oe("/login"):m&&(d(m.email),ye(m.uid),D(!1))});return()=>y()},[oe,Se]);const ye=async y=>{try{const m=B(C,"users",y),R=await ze(m);if(R.exists()){const J=R.data();o(J.username||J.email.split("@")[0])}else H("Usuario no encontrado en la base de datos")}catch(m){console.error("Error al obtener el nombre de usuario:",m),H("Error al cargar datos del usuario")}},de=y=>{const R=y*5,J=R*.25,ee=R*.05;G({day:ee,week:J,month:R,total:R})};j.useEffect(()=>{(async()=>{try{const X=await ft(te(C,"users")),ne=X.size,Ke=X.docs.map(nt=>({id:nt.id,...nt.data()}));p(ne),E(Ke.slice(-5)),A(Ke),de(ne);const ve=me(te(C,"pendingRegistrations"),he("status","==","pending")),se=await ft(ve);L(se.docs.map(nt=>({id:nt.id,...nt.data()})));const ue=me(te(C,"pendingTopUps"),he("status","==","pendiente")),pe=await ft(ue);_(pe.docs.map(nt=>({id:nt.id,...nt.data()})));const ce=me(te(C,"withdrawals"),he("status","==","pending")),at=(await ft(ce)).docs.map(nt=>({id:nt.id,...nt.data()}));M(at)}catch(X){console.error("Error al obtener datos:",X),H("Error al cargar datos")}})();const m=je(te(C,"users"),X=>{const ne=X.size,Ke=X.docs.map(ve=>({id:ve.id,...ve.data()}));p(ne),E(Ke.slice(-5)),A(Ke),de(ne)}),R=je(me(te(C,"pendingRegistrations"),he("status","==","pending")),X=>{L(X.docs.map(ne=>({id:ne.id,...ne.data()})))}),J=je(me(te(C,"pendingTopUps"),he("status","==","pendiente")),X=>{_(X.docs.map(ne=>({id:ne.id,...ne.data()})))}),ee=je(me(te(C,"withdrawals"),he("status","==","pending")),X=>{const ne=X.docs.map(Ke=>({id:Ke.id,...Ke.data()}));M(ne)});return()=>{m(),R(),J(),ee()}},[]);const ae=async y=>{try{F(R=>({...R,[y]:!0}));const m=B(C,"withdrawals",y);await Ms(m,{status:"approved",updatedAt:zt()}),H(null),Ce({isOpen:!0,message:"Retiro aprobado exitosamente",type:"success"})}catch(m){console.error("Error al aprobar retiro:",m),H(m.message||"Error al aprobar el retiro"),Ce({isOpen:!0,message:m.message||"Error al aprobar el retiro",type:"error"})}finally{F(m=>({...m,[y]:!1}))}},n=async y=>{try{F(R=>({...R,[y]:!0}));const m=B(C,"withdrawals",y);await Ms(m,{status:"denied",updatedAt:zt()}),H(null),Ce({isOpen:!0,message:"Retiro rechazado exitosamente",type:"success"})}catch(m){console.error("Error al rechazar retiro:",m),H(m.message||"Error al rechazar el retiro"),Ce({isOpen:!0,message:m.message||"Error al rechazar el retiro",type:"error"})}finally{F(m=>({...m,[y]:!1}))}},b=async y=>{try{F(ee=>({...ee,[y]:!0}));const m=B(C,"pendingTopUps",y),R=k.find(ee=>ee.id===y);if(!(R!=null&&R.userId))throw new Error("Usuario no encontrado para la recarga");await Ms(m,{status:"aprobado",updatedAt:zt()});const J=B(C,"users",R.userId);await Ms(J,{balance:Ue(R.amount||0)}),H(null),Ce({isOpen:!0,message:"Recarga aprobada exitosamente",type:"success"})}catch(m){console.error("Error al aprobar recarga:",m),H(m.message||"Error al aprobar la recarga"),Ce({isOpen:!0,message:m.message||"Error al aprobar la recarga",type:"error"})}finally{F(m=>({...m,[y]:!1}))}},g=async y=>{try{F(R=>({...R,[y]:!0}));const m=B(C,"pendingTopUps",y);await Ms(m,{status:"rechazado",updatedAt:zt()}),H(null),Ce({isOpen:!0,message:"Recarga rechazada exitosamente",type:"success"})}catch(m){console.error("Error al rechazar recarga:",m),H(m.message||"Error al rechazar la recarga"),Ce({isOpen:!0,message:m.message||"Error al rechazar la recarga",type:"error"})}finally{F(m=>({...m,[y]:!1}))}},O=async y=>{try{F(ne=>({...ne,[y]:!0})),De(!0);const m=B(C,"pendingRegistrations",y),R=f.find(ne=>ne.id===y);if(!R)throw new Error("Solicitud no encontrada");if((await cT(Ae,R.email)).length>0)throw new Error("El correo ya está registrado");const X=(await iT(Ae,R.email,R.password)).user;await Ta(B(C,"users",X.uid),{username:R.username,email:R.email,role:R.role||"usuario",balance:0,createdAt:zt()}),await Ms(m,{status:"approved",updatedAt:zt()}),await jo(Ae),H(null),Ce({isOpen:!0,message:"Solicitud de registro aprobada exitosamente",type:"success"})}catch(m){console.error("Error al aceptar solicitud:",m),H(m.message||"Error al aceptar la solicitud de registro"),Ce({isOpen:!0,message:m.message||"Error al aceptar la solicitud de registro",type:"error"})}finally{F(m=>({...m,[y]:!1})),De(!1)}},K=async y=>{try{F(R=>({...R,[y]:!0}));const m=B(C,"pendingRegistrations",y);await Ms(m,{status:"denied",updatedAt:zt()}),H(null),Ce({isOpen:!0,message:"Solicitud de registro rechazada exitosamente",type:"success"})}catch(m){console.error("Error al rechazar solicitud:",m),H(m.message||"Error al rechazar la solicitud de registro"),Ce({isOpen:!0,message:m.message||"Error al rechazar la solicitud de registro",type:"error"})}finally{F(m=>({...m,[y]:!1}))}},U=async()=>{try{await jo(Ae),oe("/")}catch(y){console.error("Error al cerrar sesión:",y),H(y.message||"Error al cerrar sesión"),Ce({isOpen:!0,message:y.message||"Error al cerrar sesión",type:"error"})}},v=async y=>{y.preventDefault();try{F(ee=>({...ee,config:!0}));const m=Ae.currentUser;if(!m)throw new Error("Usuario no autenticado");const R=B(C,"users",m.uid);await Ms(R,{username:i,updatedAt:zt()});const J=y.target.password.value;if(J){if(J.length<6)throw new Error("La contraseña debe tener al menos 6 caracteres");await K5(m,J)}H(null),Ce({isOpen:!0,message:"Cambios guardados exitosamente",type:"success"})}catch(m){console.error("Error al guardar cambios:",m),H(m.message||"Error al guardar cambios"),Ce({isOpen:!0,message:m.message||"Error al guardar cambios",type:"error"})}finally{F(m=>({...m,config:!1}))}},Q=y=>{if(!y)return"No especificada";try{const m=y.toDate?y.toDate():new Date(y);return isNaN(m.getTime())?"Fecha inválida":m.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},S=()=>{if(W)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-500"})});if(V)return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-center max-w-2xl mx-auto",children:[e.jsx(rt,{className:"mx-auto text-4xl text-red-500 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:V}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700",children:"Recargar"})]});switch(r){case"inicio":return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-6xl mx-auto",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:i})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:i})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(_r,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:l})]})]})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias del mes"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",Y.month.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"(5 soles por cada usuario)"})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Usuarios registrados"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:x}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Total ganancias: S/ ",Y.total.toFixed(2)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Últimos usuarios"}),N.length>0?N.map(y=>e.jsxs("div",{className:"border-b border-gray-600 py-3 last:border-0 hover:bg-gray-600 transition-colors rounded-lg px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:y.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-cyan-900 text-cyan-400",children:y.role||"usuario"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:y.email})]},y.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay usuarios registrados"})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Solicitudes pendientes"}),f.length>0?f.slice(0,3).map(y=>e.jsxs("div",{className:"border-b border-gray-600 py-3 last:border-0 hover:bg-gray-600 transition-colors rounded-lg px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:y.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-900 text-purple-400",children:y.role||"usuario"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:y.email})]},y.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay solicitudes pendientes"})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Retiros pendientes"}),z.length>0?z.slice(0,3).map(y=>e.jsxs("div",{className:"border-b border-gray-600 py-3 last:border-0 hover:bg-gray-600 transition-colors rounded-lg px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:y.provider||"Sin proveedor"}),e.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-900 text-yellow-400",children:["S/ ",(y.amount||0).toFixed(2)]})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Método: ",y.method||"No especificado"]})]},y.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay retiros pendientes"})]})]})]});case"usuarios":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Solicitudes de registro"}),f.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600",children:[e.jsx("thead",{className:"bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-600",children:f.map(y=>e.jsxs("tr",{className:"hover:bg-gray-700 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:y.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:y.email}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-cyan-900 text-cyan-400",children:y.role||"usuario"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>O(y.id),disabled:c[y.id],className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:bg-green-800",title:"Aceptar",children:c[y.id]?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsx(Wc,{size:16})}),e.jsx("button",{onClick:()=>K(y.id),disabled:c[y.id],className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:bg-red-800",title:"Rechazar",children:c[y.id]?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsx(re,{size:16})})]})})]},y.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ml,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay solicitudes de registro pendientes"})]})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Todos los usuarios (",x,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:"px-4 py-2 rounded-full bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 transition-all text-sm",value:I,onChange:y=>q(y.target.value)}),e.jsx(b0,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),P.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600",children:[e.jsx("thead",{className:"bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px | 4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Saldo"})]})}),e.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-600",children:P.filter(y=>(y.username||"").toLowerCase().includes(I.toLowerCase())||(y.email||"").toLowerCase().includes(I.toLowerCase())).map(y=>e.jsxs("tr",{className:"hover:bg-gray-700 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:y.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:y.email}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-cyan-900 text-cyan-400",children:y.role||"usuario"})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(y.balance||0).toFixed(2)]})]},y.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ml,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay usuarios registrados"})]})]})]});case"recargas":return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-6xl mx-auto",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Recargas pendientes"}),k.length>0?e.jsx("div",{className:"space-y-4",children:k.map(y=>e.jsxs("div",{className:"border border-gray-600 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"bg-gray-700 px-4 py-3 border-b border-gray-600 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-cyan-900 rounded-full flex items-center justify-center text-cyan-400",children:e.jsx(ks,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:y.username||"Sin nombre"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Solicitado: ",Q(y.requestedAt)]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-medium text-white",children:["S/ ",(y.amount||0).toFixed(2)]})})]}),e.jsx("div",{className:"p-4 bg-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>b(y.id),disabled:c[y.id],className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 disabled:bg-green-800 transition-colors",children:c[y.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(Wc,{size:18})," Aprobar Recarga"]})}),e.jsx("button",{onClick:()=>g(y.id),disabled:c[y.id],className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 disabled:bg-red-800 transition-colors",children:c[y.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(re,{size:18})," Rechazar Recarga"]})})]})})]},y.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ks,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay recargas pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Todas las solicitudes han sido procesadas"})]})]});case"retiros":return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-6xl mx-auto",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Solicitudes de retiro"}),z.length>0?e.jsx("div",{className:"space-y-4",children:z.map(y=>e.jsxs("div",{className:"border border-gray-600 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"bg-gray-700 px-4 py-3 border-b border-gray-600 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-900 rounded-full flex items-center justify-center text-yellow-400",children:e.jsx(ks,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:y.provider||"Sin proveedor"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Email: ",y.providerEmail||"No disponible"]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Solicitado: ",Q(y.createdAt)]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Método: ",y.method||"No especificado"]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Cuenta: ",y.account||"No especificada"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-medium text-white",children:["S/ ",(y.amount||0).toFixed(2)]})})]}),e.jsx("div",{className:"p-4 bg-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>ae(y.id),disabled:c[y.id],className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 disabled:bg-green-800 transition-colors",children:c[y.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(Wc,{size:18})," Aprobar Retiro"]})}),e.jsx("button",{onClick:()=>n(y.id),disabled:c[y.id],className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 disabled:bg-red-800 transition-colors",children:c[y.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(re,{size:18})," Rechazar Retiro"]})})]})})]},y.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ks,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay retiros pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Todas las solicitudes han sido procesadas"})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-6xl mx-auto",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Reporte de ganancias"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-6 text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",Y.day.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"(5 soles por usuario)"})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-6 text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",Y.week.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"(25% del total de usuarios)"})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-6 text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias este mes"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",Y.month.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"(5 soles por cada usuario)"})]})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Resumen de ganancias"}),e.jsxs("span",{className:"px-3 py-1 bg-cyan-900 text-cyan-400 rounded-full text-sm",children:["Total: S/ ",Y.total.toFixed(2)]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600",children:[e.jsx("thead",{className:"bg-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Concepto"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Valor"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Cálculo"})]})}),e.jsxs("tbody",{className:"bg-gray-700 divide-y divide-gray-600",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:"Ganancias por usuario"}),e.jsx("td",{className:"px-4 py-3 text-white",children:"S/ 5.00"}),e.jsx("td",{className:"px-4 py-3 text-gray-400",children:"Fijo por cada usuario registrado"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:"Total usuarios"}),e.jsx("td",{className:"px-4 py-3 text-white",children:x}),e.jsx("td",{className:"px-4 py-3 text-gray-400",children:"Usuarios activos en el sistema"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:"Ganancias totales"}),e.jsxs("td",{className:"px-4 py-3 text-white",children:["S/ ",Y.total.toFixed(2)]}),e.jsxs("td",{className:"px-4 py-3 text-gray-400",children:[x," usuarios × S/ 5.00"]})]})]})]})})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Configuración de cuenta"}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-1",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:i,onChange:y=>o(y.target.value),className:"w-full px-4 py-2 border border-gray-600 bg-gray-700 text-white rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-1",children:"Correo electrónico"}),e.jsx("input",{type:"email",value:l,readOnly:!0,className:"w-full px-4 py-2 border border-gray-600 bg-gray-700 text-gray-400 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-1",children:"Nueva contraseña (opcional)"}),e.jsx("input",{type:"password",name:"password",placeholder:"Nueva contraseña",className:"w-full px-4 py-2 border border-gray-600 bg-gray-700 text-white rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500"})]}),e.jsx("button",{type:"submit",disabled:c.config,className:"w-full py-3 px-4 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium mt-4 transition-colors disabled:bg-cyan-800",children:c.config?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]})]});default:return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-center max-w-2xl mx-auto",children:[e.jsx(rt,{className:"mx-auto text-4xl text-yellow-500 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>a("inicio"),className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-700 focus:outline-none",children:e.jsx(Nt,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-800 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-lg hover:bg-gray-700",children:e.jsx(re,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-600 flex items-center justify-center text-white font-bold",children:i.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:i}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:l})]})]}),e.jsxs("nav",{className:"flex-1 space-y-1",children:[e.jsxs("button",{onClick:()=>a("inicio"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="inicio"?"bg-cyan-900 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(ju,{})," ",e.jsx("span",{children:"Inicio"})]}),e.jsxs("button",{onClick:()=>a("recargas"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="recargas"?"bg-cyan-900 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(ks,{})," ",e.jsx("span",{children:"Recargas"})]}),e.jsxs("button",{onClick:()=>a("retiros"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="retiros"?"bg-cyan-900 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(YC,{})," ",e.jsx("span",{children:"Retiros"})]}),e.jsxs("button",{onClick:()=>a("usuarios"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="usuarios"?"bg-cyan-900 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(Ml,{})," ",e.jsx("span",{children:"Usuarios"})]}),e.jsxs("button",{onClick:()=>a("ganancias"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="ganancias"?"bg-cyan-900 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(Wm,{})," ",e.jsx("span",{children:"Ganancias"})]}),e.jsxs("button",{onClick:()=>a("configuracion"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="configuracion"?"bg-cyan-900 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(lo,{})," ",e.jsx("span",{children:"Configuración"})]})]}),e.jsx("div",{className:"mt-auto pt-4",children:e.jsxs("button",{onClick:U,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 transition-colors",children:[e.jsx(xt,{})," ",e.jsx("span",{children:"Cerrar sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 pt-20 md:pt-4",children:S()}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:()=>t(!1)}),e.jsx(UD,{isOpen:_e.isOpen,message:_e.message,type:_e.type,onClose:()=>Ce({isOpen:!1,message:"",type:"success"})})]})},qD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Netflix")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,netflix:S.length}))},v=>{A("Error al cargar productos de Netflix"),console.error(v)}),g=me(te(C,"netflix_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");const X=B(C,"users",n.providerId),ne=await g.get(X);if(!ne.exists())throw new Error("Proveedor no encontrado");let Ke=n.providerPhone||"";Ke||(Ke=ne.data().phoneNumber||""),g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const se=(Number(ee.data().balance)||0)-n.price;if(se<0)throw new Error("Saldo insuficiente");const ue=ee.data().orders||[],pe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:Ke,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"netflix"};g.update(J,{balance:se,orders:[...ue,pe]});const we=(Number(ne.data().balance)||0)+n.price,at=ne.data().sales||[],nt={saleId:B(te(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(X,{balance:we,sales:[...at,nt]});const it=B(te(C,"sales"));return g.set(it,{...pe,provider:n.provider,providerId:n.providerId,providerPhone:Ke,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleId:nt.saleId}),R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");const U=B(C,"users",n.providerId),v=await g.get(U);if(!v.exists())throw new Error("Proveedor no encontrado");let Q=n.providerPhone||"";Q||(Q=v.data().phoneNumber||"");const y=(Number(K.data().balance)||0)-n.price;if(y<0)throw new Error("Saldo insuficiente");const m=K.data().orders||[],R={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:Q,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"netflix"};g.update(O,{balance:y,orders:[...m,R]});const ee=(Number(v.data().balance)||0)+n.price,X=v.data().sales||[],ne={saleId:B(te(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(U,{balance:ee,sales:[...X,ne]});const Ke=B(te(C,"sales"));g.set(Ke,{...R,provider:n.provider,providerId:n.providerId,providerPhone:Q,saleDate:new Date().toISOString(),status:"pending",saleId:ne.saleId})}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Netflix`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Netflix...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Netflix"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus series y películas favoritas con nuestras cuentas premium de Netflix"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},WD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Disney")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,disney:S.length}))},v=>{A("Error al cargar productos de Disney+"),console.error(v)}),g=me(te(C,"disney_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"disney"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"disney"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Disney`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Disney+...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1593642532973-d31b97d0e6b8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Disney+"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de películas, series y contenido exclusivo de Disney, Pixar, Marvel, Star Wars y más con nuestras cuentas premium"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},GD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Max")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,max:S.length}))},v=>{A("Error al cargar productos de Max"),console.error(v)}),g=me(te(C,"max_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"max"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"max"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Max`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Max...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Max"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de películas y series exclusivas con nuestras cuentas Premium de Max"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},HD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Spotify")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,spotify:S.length}))},v=>{A("Error al cargar productos de Spotify"),console.error(v)}),g=me(te(C,"spotify_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"spotify"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"spotify"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Spotify`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Spotify...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-green-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Spotify"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de música sin anuncios, descargas offline y millones de canciones y podcasts con nuestras cuentas premium de Spotify"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},QD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Prime Video")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,primevideo:S.length}))},v=>{A("Error al cargar productos de Prime Video"),console.error(v)}),g=me(te(C,"primevideo_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"primevideo"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"primevideo"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Prime Video`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Prime Video...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616531770192-6eaea74c2456?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Prime Video"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de películas, series exclusivas, deportes y contenido original de Amazon con nuestras cuentas premium de Prime Video"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},KD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Vix")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,vix:S.length}))},v=>{A("Error al cargar productos de Vix"),console.error(v)}),g=me(te(C,"vix_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"vix"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"vix"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Vix`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Vix...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1536440136628-0e7b5ffabd18?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-red-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Vix"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de series, películas y contenido exclusivo en español con nuestras cuentas premium de Vix"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},YD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Canva")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Pro",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,canva:S.length}))},v=>{A("Error al cargar productos de Canva"),console.error(v)}),g=me(te(C,"canva_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"canva"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"canva"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Canva`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Canva...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Pro de Canva"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Crea diseños profesionales con nuestras cuentas Pro de Canva"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Pro"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},XD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","ChatGPT")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Plus",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,chatgpt:S.length}))},v=>{A("Error al cargar productos de ChatGPT"),console.error(v)}),g=me(te(C,"chatgpt_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"chatgpt"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"chatgpt"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=ChatGPT`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en ChatGPT...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1677442136019-21780ecad339?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Plus de ChatGPT"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Accede a funciones avanzadas de ChatGPT con nuestras cuentas Plus"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Plus"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},JD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Crunchyroll")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,crunchyroll:S.length}))},v=>{A("Error al cargar productos de Crunchyroll"),console.error(v)}),g=me(te(C,"crunchyroll_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"crunchyroll"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"crunchyroll"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Crunchyroll`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Crunchyroll...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1618336753974-aae8e04506aa?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Crunchyroll"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus animes y dramas asiáticos favoritos con nuestras cuentas premium de Crunchyroll"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},ZD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Redes Sociales")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,redessociales:S.length}))},v=>{A("Error al cargar productos de Redes Sociales"),console.error(v)}),g=me(te(C,"redessociales_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"redessociales"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"redessociales"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Redes Sociales`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Redes Sociales...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl text\r
\r
-gray-300 hover:bg-gray-800/50 transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1611162616305-c69b3fa7fbe0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Redes Sociales"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Accede a funciones premium en tus redes sociales favoritas"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},eA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Apple Music")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,applemusic:S.length}))},v=>{A("Error al cargar productos de Apple Music"),console.error(v)}),g=me(te(C,"applemusic_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas","Netflix"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"applemusic"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"applemusic"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Apple Music`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Apple Music...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Apple Music"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tu música favorita con nuestras cuentas premium de Apple Music"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:["removing duplicate code here for brevity",e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},tA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Apple Tv")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,appletv:S.length}))},v=>{A("Error al cargar productos de Apple TV"),console.error(v)}),g=me(te(C,"appletv_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"appletv"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"appletv"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Apple Tv`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gray-500 text-white rounded-full hover:bg-gray-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-gray-800 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-gray-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Apple TV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-gray-400 focus:border-gray-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-gray-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-gray-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-gray-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-gray-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-gray-500 text-white hover:bg-gray-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-gray-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-gray-600/30 text-white border border-gray-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-400"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-gray-700/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Apple TV"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de series originales y películas exclusivas con nuestras cuentas premium de Apple TV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-gray-400 hover:text-gray-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gray-500 hover:bg-gray-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-gray-400 focus:border-gray-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-gray-400 focus:border-gray-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-gray-400 focus:ring-gray-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-gray-400 hover:text-gray-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-gray-400 hover:text-gray-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-gray-500 text-white rounded-xl hover:bg-gray-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sy:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-gray-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},sA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Iptv")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Suscripción",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,iptv:S.length}))},v=>{A("Error al cargar productos de IPTV"),console.error(v)}),g=me(te(C,"iptv_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"iptv"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"iptv"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Iptv`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en IPTV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:" Kyrgyz Republicflex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"IPTV"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Accede a una amplia variedad de canales en vivo con nuestras suscripciones IPTV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Suscripción"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},rA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Flujo Tv")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,flujotv:S.length}))},v=>{A("Error al cargar productos de Flujo TV"),console.error(v)}),g=me(te(C,"flujotv_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"flujotv"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"flujotv"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Flujo Tv`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Flujo TV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1598899134739-24c46f58b8c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Flujo TV"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de entretenimiento en streaming con nuestras cuentas premium de Flujo TV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},aA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Viki Rakuten")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,vikirakuten:S.length}))},v=>{A("Error al cargar productos de Viki Rakuten"),console.error(v)}),g=me(te(C,"vikirakuten_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"vikirakuten"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"vikirakuten"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Viki Rakuten`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Viki Rakuten...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Viki Rakuten"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de dramas asiáticos y contenido global con nuestras cuentas premium de Viki Rakuten"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},nA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Pornhub")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,pornhub:S.length}))},v=>{A("Error al cargar productos de Pornhub"),console.error(v)}),g=me(te(C,"pornhub_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"pornhub"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"pornhub"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Pornhub`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Pornhub...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Pornhub"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Accede a contenido exclusivo con nuestras cuentas premium de Pornhub"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},iA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Paramount")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Suscripción",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,paramount:S.length}))},v=>{A("Error al cargar productos de Paramount"),console.error(v)}),g=me(te(C,"paramount_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");Lawyer.com;const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"paramount"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"paramount"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Paramount`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Paramount...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space        		-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Paramount+"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de series y películas exclusivas con nuestras suscripciones a Paramount+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Suscripción"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},lA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Licencias")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"Permanente",type:m.type||"Licencia",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S.filter(y=>y.name.toLowerCase().includes("microsoft"))),F(y=>({...y,licencias:S.length}))},v=>{A("Error al cargar licencias de Microsoft"),console.error(v)}),g=me(te(C,"licencias_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar licencias:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay licencias disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay licencias disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{licenseKey:R.licenseKey||"No proporcionado",email:R.email||"No proporcionado",activationInstructions:R.activationInstructions||"No proporcionado"},terms:n.terms,type:"licencias"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{licenseKey:R.licenseKey||"No proporcionado",email:R.email||"No proporcionado",activationInstructions:R.activationInstructions||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{licenseKey:R.licenseKey||"No proporcionado",email:R.email||"No proporcionado",activationInstructions:R.activationInstructions||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"licencias"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{licenseKey:(b==null?void 0:b.licenseKey)||"No proporcionado",email:(b==null?void 0:b.email)||"No proporcionado",activationInstructions:(b==null?void 0:b.activationInstructions)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de la licencia.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Licencias`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar licencias Microsoft...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Licencias Microsoft"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Adquiere licencias oficiales de Microsoft para tus necesidades personales o profesionales"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Licencias Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron licencias que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"Permanente"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Licencia"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la licencia:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los detalles de la licencia."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todas las licencias tienen una garantía de 7 días. Si tienes problemas con tu licencia durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la licencia adquirida. No nos hacemos responsables por problemas derivados de un uso indebido."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Activación"}),e.jsx("p",{children:"Las licencias deben activarse siguiendo las instrucciones proporcionadas por el proveedor. No se admiten devoluciones por errores en el proceso de activación."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},oA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Capcut")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Pro",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,capcut:S.length}))},v=>{A("Error al cargar productos de Capcut"),console.error(v)}),g=me(te(C,"capcut_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"capcut"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"capcut"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Capcut`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Capcut...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616530940355-351fabd68e18?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Licencias Premium de Capcut"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Crea videos impresionantes con nuestras licencias premium de Capcut"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Pro"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},cA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Duolingo")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,duolingo:S.length}))},v=>{A("Error al cargar productos de Duolingo"),console.error(v)}),g=me(te(C,"duolingo_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"duolingo"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"duolingo"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Duolingo`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Duolingo...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Duolingo"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Aprende idiomas de forma divertida y efectiva con nuestras cuentas premium de Duolingo"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},dA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Dgo")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,dgo:S.length}))},v=>{A("Error al cargar productos de Dgo"),console.error(v)}),g=me(te(C,"dgo_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"dgo"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"dgo"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Dgo`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Dgo...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Dgo"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus programas y eventos favoritos con nuestras cuentas premium de Dgo"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},uA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Liga Max")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,ligamax:S.length}))},v=>{A("Error al cargar productos de Liga Max"),console.error(v)}),g=me(te(C,"ligamax_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas","Liga Max"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"ligamax"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"ligamax"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Liga Max`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Liga Max...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1541348263662-e068662d82af?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Liga Max"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de los mejores partidos y eventos deportivos con nuestras cuentas premium de Liga Max"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},xA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Movistar Play")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,movistarplay:S.length}))},v=>{A("Error al cargar productos de Movistar Play"),console.error(v)}),g=me(te(C,"movistarplay_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"movistarplay"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"movistarplay"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Movistar Play`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Movistar Play...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Movistar Play"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus series, películas y eventos en vivo con nuestras cuentas premium de Movistar Play"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:`mb-6 p-4 bg-gray-7\r
00/50 rounded-xl border border-gray-600/50`,children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},mA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Youtube")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,youtube:S.length}))},v=>{A("Error al cargar productos de Youtube"),console.error(v)}),g=me(te(C,"youtube_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"youtube"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"youtube"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Youtube`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Youtube...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1611162617213-7d15a376f5ac?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Youtube"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de videos sin anuncios y contenido exclusivo con nuestras cuentas premium de Youtube"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border русских-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},hA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Deezer")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,deezer:S.length}))},v=>{A("Error al cargar productos de Deezer"),console.error(v)}),g=me(te(C,"deezer_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"deezer"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"deezer"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Deezer`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-purple-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-purple-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-purple-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-purple-500 text-white rounded-full hover:bg-purple-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-purple-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-purple-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Deezer...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-purple-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-purple-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-purple-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-purple-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-purple-500 text-white hover:bg-purple-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-purple-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-purple-600/30 text-white border border-purple-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1511671786164-2bd9ebeb2088?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-purple-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Deezer"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tu música favorita sin límites con nuestras cuentas premium de Deezer"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-purple-400 hover:text-purple-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-purple-500 hover:bg-purple-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-purple-400 focus:ring-purple-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-purple-400 hover:text-purple-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-purple-400 hover:text-purple-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-purple-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},pA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Tidal")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"HiFi",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,tidal:S.length}))},v=>{A("Error al cargar productos de Tidal"),console.error(v)}),g=me(te(C,"tidal_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"tidal"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"tidal"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Tidal`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Tidal...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514327605112-b887c0e61c0a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Tidal"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de música en alta fidelidad con nuestras cuentas premium de Tidal"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"HiFi"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md consolidated-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},fA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","Vpn")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,vpn:S.length}))},v=>{A("Error al cargar productos de VPN"),console.error(v)}),g=me(te(C,"vpn_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"vpn"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"vpn"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Vpn`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en VPN...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de VPN"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Navega de forma segura y privada con nuestras cuentas premium de VPN"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},gA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","WinTv")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,wintv:S.length}))},v=>{A("Error al cargar productos de Win TV"),console.error(v)}),g=me(te(C,"wintv_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"wintv"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"wintv"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Win Tv`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Win TV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Win TV"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de entretenimiento en streaming con nuestras cuentas premium de Win TV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel~~tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},yA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,d]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[P,A]=j.useState(null),[f,L]=j.useState(null),[k,_]=j.useState(null),[z,M]=j.useState(!1),[Y,G]=j.useState(!1),[W,D]=j.useState(null),[c,F]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,H]=j.useState(""),I=ct(),q=n=>{const b=Number(n);return isNaN(b)?"0.00":b.toFixed(2)};j.useEffect(()=>{const n=bt(Ae,async b=>{if(b)try{const g=await ze(B(C,"users",b.uid));if(g.exists()){const O=g.data();d({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),p(Number(O.balance)||0)}else A("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){A("Error al cargar datos del usuario"),console.error(g)}else d(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=me(te(C,"products"),he("category","==","BuscaPersonas")),b=je(n,async v=>{const Q=v.docs.map(y=>{const m=y.data();return{id:y.id,...m,price:Number(m.price)||0,stock:Number(m.availableAccounts)||0,accountDetails:m.details||"Detalles no disponibles",terms:m.terms||"Términos del proveedor",provider:m.provider||"Proveedor no especificado",providerId:m.providerId||"",providerPhone:m.providerPhone||"",acceptsOrders:m.status==="A pedido",duration:m.duration||"1 mes",type:m.type||"Premium",status:m.status||"En stock"}}),S=await Promise.all(Q.map(async y=>{if(!y.provider||y.provider==="Proveedor no especificado")try{if(y.providerId){const m=await ze(B(C,"users",y.providerId));if(m.exists())return{...y,provider:m.data().username||m.data().email||y.provider,providerPhone:m.data().phoneNumber||y.providerPhone}}}catch(m){console.error("Error al cargar datos del proveedor:",m)}return y}));a(S),F(y=>({...y,buscapersonas:S.length}))},v=>{A("Error al cargar productos de Busca Personas"),console.error(v)}),g=me(te(C,"buscapersonas_accounts"),he("status","==","available")),O=je(g,v=>{const Q=v.docs.map(S=>({id:S.id,...S.data(),productId:S.data().productId||"",providerId:S.data().providerId||""}));o(Q)},v=>{console.error("Error al cargar cuentas:",v)}),U=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo"].map(v=>{const Q=v.toLowerCase().replace(/\s+/g,""),S=me(te(C,"products"),he("category","==",v));return je(S,y=>{F(m=>({...m,[Q]:y.docs.length}))},y=>{console.error(`Error al cargar productos de ${v}:`,y)})});return()=>{b(),O(),U.forEach(v=>v())}},[]);const _e=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>I("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Ce=async()=>{if(!document.getElementById("termsCheck").checked){A("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(f.phoneNumber)){A("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=f.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;n.status==="En stock"?b=await Qe(C,async g=>{const O=B(C,"products",n.id),K=await g.get(O);if(!K.exists())throw new Error("Producto no encontrado");if(K.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const v=te(C,`products/${n.id}/accounts`),Q=me(v,he("status","==","available"),kt(1)),S=await ft(Q);if(S.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=S.docs[0],m=y.ref,R=y.data(),J=B(C,"users",l.id),ee=await g.get(J);if(!ee.exists())throw new Error("Usuario no encontrado");let X=null,ne=n.providerPhone||"";if(n.providerId&&!ne){const ce=B(C,"users",n.providerId);X=await g.get(ce),X.exists()&&(ne=X.data().phoneNumber||"")}g.update(m,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(O,{availableAccounts:Ue(-1),stock:Ue(-1)});const ve=(Number(ee.data().balance)||0)-n.price;if(ve<0)throw new Error("Saldo insuficiente");const se=ee.data().orders||[],ue={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ne,status:"active",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},terms:n.terms,type:"buscapersonas"};g.update(J,{balance:ve,orders:[...se,ue]});const pe=B(te(C,"sales"));if(g.set(pe,{...ue,provider:n.provider,providerId:n.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"}}),X&&X.exists()){const ce=X.data().sales||[],we={saleId:pe.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:{email:R.email||"No proporcionado",password:R.password||"No proporcionado",profile:R.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(B(C,"users",n.providerId),{sales:[...ce,we]})}return R}):await Qe(C,async g=>{const O=B(C,"users",l.id),K=await g.get(O);if(!K.exists())throw new Error("Usuario no encontrado");let U=null,v=n.providerPhone||"";if(n.providerId&&!v){const J=B(C,"users",n.providerId);U=await g.get(J),U.exists()&&(v=U.data().phoneNumber||"")}const S=(Number(K.data().balance)||0)-n.price;if(S<0)throw new Error("Saldo insuficiente");const y=K.data().orders||[],m={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:v,status:"pending",customerName:f.customerName,customerId:l.id,phoneNumber:f.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"buscapersonas"};g.update(O,{balance:S,orders:[...y,m]});const R=B(te(C,"sales"));if(g.set(R,{...m,provider:n.provider,providerId:n.providerId,providerPhone:v,saleDate:new Date().toISOString(),status:"pending"}),U&&U.exists()){const J=U.data().sales||[],ee={saleId:R.id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:f.customerName,customerPhone:f.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(B(C,"users",n.providerId),{sales:[...J,ee]})}}),p(g=>g-n.price),d(g=>({...g,orders:[...g.orders,{...f,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),L(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){A(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Se=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},De=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},oe=()=>{if(!l){I("/login");return}(l==null?void 0:l.role)==="user"?I("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?I("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?I("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&I("/dashboard/admin")},ye=n=>{n.preventDefault(),V.trim()&&I(`/search?q=${encodeURIComponent(V)}&category=Busca Personas`)},de=r.filter(n=>n.name.toLowerCase().includes(V.toLowerCase())),ae=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(We,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):P?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(rt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:P}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Nt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Busca Personas...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:V,onChange:n=>H(n.target.value)}),e.jsx("button",{onClick:ye,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Be,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Me,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:oe,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),I("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(xt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>I("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>I("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ie,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fe,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:c.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321497487-e288fb19713f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Servicios de Busca Personas"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Accede a herramientas y servicios premium para localizar personas de manera rápida y segura"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>G(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:de.map(n=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image||"https://via.placeholder.com/300",alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),ae(n)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:n.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Se(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Et,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>De(n),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Fe,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>_e(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),f&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:f.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(f.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",f.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",f.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:f.customerName,onChange:n=>L(b=>({...b,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:f.phoneNumber,onChange:n=>L(b=>({...b,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>G(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Ce,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(We,{className:"animate-spin mr-2"}),e.jsx("span",{children:f.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),k&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:k.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:k.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",k.name]}),e.jsx("button",{onClick:()=>{M(!1),_({name:k.name,accountDetails:k.accountDetails,provider:k.provider,terms:k.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",k.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:k.terms})}),e.jsx("button",{onClick:()=>{M(!1),G(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>setGeneralTimeModal(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(re,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu servicio."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu servicio durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé al servicio adquirido. No nos hacemos responsables por suspensiones o restricciones por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>G(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})};j.memo(()=>{const[s,t]=j.useState(null),[r,a]=j.useState(0),[i,o]=j.useState(!0),[l,d]=j.useState(null),[x,p]=j.useState(!1),[N,E]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0}),[P,A]=j.useState(""),f=ct();j.useEffect(()=>{const _=bt(Ae,async z=>{if(z)try{const M=await ze(B(C,"users",z.uid));if(M.exists()){const Y=M.data();t({id:z.uid,name:Y.username||"Usuario",email:z.email,orders:Y.orders||[],role:Y.role||"user"}),a(Number(Y.balance)||0)}else d("Usuario no encontrado"),console.error("Usuario no encontrado en la base de datos")}catch(M){d("Error al cargar datos"),console.error(M)}else t(null),a(0);o(!1)});return()=>_()},[]),j.useEffect(()=>{const z=[{name:"Netflix",key:"netflix"},{name:"Spotify",key:"spotify"},{name:"Disney",key:"disney"},{name:"Max",key:"max"},{name:"Prime Video",key:"primevideo"},{name:"Vix",key:"vix"},{name:"Crunchyroll",key:"crunchyroll"},{name:"Canva",key:"canva"},{name:"ChatGPT",key:"chatgpt"},{name:"Redes Sociales",key:"redessociales"}].map(({name:M,key:Y})=>{const G=me(te(C,"products"),he("category","==",M));return je(G,W=>{E(D=>({...D,[Y]:W.docs.length}))},W=>console.error(`Error loading ${M}:`,W))});return()=>z.forEach(M=>M())},[]);const L=()=>{if(!s)return f("/login");f({user:"/dashboard/user",affiliate:"/dashboard/affiliate",provider:"/dashboard/provider",admin:"/dashboard/admin"}[s.role]||"/dashboard/user")},k=_=>{_.preventDefault(),P.trim()&&f(`/search?q=${encodeURIComponent(P)}`)};return i?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:[e.jsx(Mx,{className:"animate-spin text-4xl text-cyan-500"}),e.jsx("span",{className:"ml-2 text-white",children:"Cargando..."})]}):l?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 p-4",children:[e.jsx(Mx,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-400 mb-6",children:l}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600",children:"Reintentar"})]}):e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-800/80 backdrop-blur-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(h,{to:"/",className:"flex items-center gap-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-8"}),e.jsx("span",{className:"text-lg font-bold text-cyan-500 hidden sm:block",children:"BlackStreaming"})]})}),e.jsx("form",{onSubmit:k,className:"flex-1 max-w-md mx-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"w-full py-2 px-4 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-2 focus:ring-cyan-500 focus:border-transparent",value:P,onChange:_=>A(_.target.value)}),e.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-cyan-500",children:e.jsx(Be,{size:20})})]})}),e.jsx("div",{className:"flex items-center gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden sm:block text-sm text-gray-300",children:s.name}),e.jsxs("span",{className:"px-3 py-1 bg-gray-700 rounded-lg text-sm",children:["S/ ",r.toFixed(2)]}),e.jsx("button",{onClick:L,className:"p-2 hover:bg-gray-700 rounded-lg",title:"Dashboard",children:e.jsx(Me,{className:"text-cyan-500",size:20})}),e.jsxs("button",{onClick:()=>{Ae.signOut(),f("/")},className:"flex items-center gap-1 px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:[e.jsx(xt,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>f("/login"),className:"px-3 py-2 text-sm hover:text-cyan-500",children:"Ingresar"}),e.jsx("button",{onClick:()=>f("/register"),className:"px-3 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 text-sm",children:"Registrarse"})]})})]})}),e.jsx("main",{className:"flex-1 p-6 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-lg text-center",children:[e.jsx("div",{className:"p-4 bg-gray-800 rounded-full inline-flex mb-6",children:e.jsx(Mx,{className:"text-4xl text-cyan-500"})}),e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"En Mantenimiento"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Estamos mejorando nuestra plataforma para ti."}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-300 mb-6",children:[e.jsx(bu,{className:"text-yellow-500"}),e.jsx("span",{children:"Volveremos pronto."})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"¿Qué estamos haciendo?"}),e.jsxs("ul",{className:"text-left space-y-2 text-gray-300",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Corrección de errores en el sistema de pedidos"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Solución de fallos en el retiro de dinero"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Arreglo de errores al pasar del sistema al pedido"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Actualización del dashboard del proveedor"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Actualización del dashboard del usuario"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Refuerzo de la seguridad general del sitio"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Mejora en la visualización y diseño"]})]}),e.jsx("button",{onClick:()=>p(!0),className:"mt-4 text-cyan-500 hover:text-cyan-400 underline",children:"Términos Generales"})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-800 rounded-lg max-w-lg w-full max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Términos y Condiciones"}),e.jsx("button",{onClick:()=>p(!1),className:"hover:text-gray-300",children:e.jsx(FiX,{size:24})})]}),e.jsx("div",{className:"space-y-4 text-gray-300",children:[{title:"Proceso de Compra",text:"El proveedor te contactará en 24 horas hábiles para los accesos."},{title:"Garantía",text:"7 días de garantía. El proveedor resolverá problemas o reembolsará."},{title:"Uso Responsable",text:"No nos responsabilizamos por suspensiones por mal uso."},{title:"Soporte",text:"Contacta al proveedor vía WhatsApp."},{title:"Renovaciones",text:"Solicita renovaciones manuales antes del fin del período."}].map(({title:_,text:z},M)=>e.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:_}),e.jsx("p",{children:z})]},M))}),e.jsx("button",{onClick:()=>p(!1),className:"w-full mt-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-800 py-6",children:e.jsxs("div",{className:"container mx-auto px-4 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:Ve,alt:"BlackStreaming",className:"h-6"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-500",children:"BlackStreaming"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Desarrollado por Saiph"})]})})]})});const bA=()=>e.jsx(lC,{children:e.jsxs(e.Fragment,{children:[e.jsx(dt,{path:"/",element:e.jsx(MD,{})}),e.jsx(dt,{path:"/login",element:e.jsx(OD,{})}),e.jsx(dt,{path:"/register",element:e.jsx(LD,{})}),e.jsx(dt,{path:"/dashboard/user",element:e.jsx(VD,{})}),e.jsx(dt,{path:"/dashboard/affiliate",element:e.jsx(FD,{})}),e.jsx(dt,{path:"/dashboard/provider",element:e.jsx(BD,{})}),e.jsx(dt,{path:"/dashboard/admin",element:e.jsx($D,{})}),e.jsx(dt,{path:"/netflix",element:e.jsx(qD,{})}),e.jsx(dt,{path:"/disney",element:e.jsx(WD,{})}),e.jsx(dt,{path:"/max",element:e.jsx(GD,{})}),e.jsx(dt,{path:"/spotify",element:e.jsx(HD,{})}),e.jsx(dt,{path:"/primevideo",element:e.jsx(QD,{})}),e.jsx(dt,{path:"/vix",element:e.jsx(KD,{})}),e.jsx(dt,{path:"/canva",element:e.jsx(YD,{})}),e.jsx(dt,{path:"/chatgpt",element:e.jsx(XD,{})}),e.jsx(dt,{path:"/crunchyroll",element:e.jsx(JD,{})}),e.jsx(dt,{path:"/redessociales",element:e.jsx(ZD,{})}),e.jsx(dt,{path:"/applemusic",element:e.jsx(eA,{})}),e.jsx(dt,{path:"/appletv",element:e.jsx(tA,{})}),e.jsx(dt,{path:"/iptv",element:e.jsx(sA,{})}),e.jsx(dt,{path:"/flujotv",element:e.jsx(rA,{})}),e.jsx(dt,{path:"/vikirakuten",element:e.jsx(aA,{})}),e.jsx(dt,{path:"/pornhub",element:e.jsx(nA,{})}),e.jsx(dt,{path:"/paramount",element:e.jsx(iA,{})}),e.jsx(dt,{path:"/licencias",element:e.jsx(lA,{})}),e.jsx(dt,{path:"/capcut",element:e.jsx(oA,{})}),e.jsx(dt,{path:"/duolingo",element:e.jsx(cA,{})}),e.jsx(dt,{path:"/dgo",element:e.jsx(dA,{})}),e.jsx(dt,{path:"/ligamax",element:e.jsx(uA,{})}),e.jsx(dt,{path:"/movistarplay",element:e.jsx(xA,{})}),e.jsx(dt,{path:"/youtube",element:e.jsx(mA,{})}),e.jsx(dt,{path:"/deezer",element:e.jsx(hA,{})}),e.jsx(dt,{path:"/tidal",element:e.jsx(pA,{})}),e.jsx(dt,{path:"/vpn",element:e.jsx(fA,{})}),e.jsx(dt,{path:"/wintv",element:e.jsx(gA,{})}),e.jsx(dt,{path:"/buscapersonas",element:e.jsx(yA,{})})]})});Yx.createRoot(document.getElementById("root")).render(e.jsx(Da.StrictMode,{children:e.jsx(TC,{children:e.jsx(bA,{})})}));
