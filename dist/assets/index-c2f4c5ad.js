(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();function hC(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ew={exports:{}},_m={},Iw={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc=Symbol.for("react.element"),pC=Symbol.for("react.portal"),fC=Symbol.for("react.fragment"),gC=Symbol.for("react.strict_mode"),yC=Symbol.for("react.profiler"),bC=Symbol.for("react.provider"),vC=Symbol.for("react.context"),jC=Symbol.for("react.forward_ref"),NC=Symbol.for("react.suspense"),wC=Symbol.for("react.memo"),kC=Symbol.for("react.lazy"),ob=Symbol.iterator;function SC(s){return s===null||typeof s!="object"?null:(s=ob&&s[ob]||s["@@iterator"],typeof s=="function"?s:null)}var Pw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tw=Object.assign,_w={};function Ro(s,t,r){this.props=s,this.context=t,this.refs=_w,this.updater=r||Pw}Ro.prototype.isReactComponent={};Ro.prototype.setState=function(s,t){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,t,"setState")};Ro.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function Dw(){}Dw.prototype=Ro.prototype;function Pp(s,t,r){this.props=s,this.context=t,this.refs=_w,this.updater=r||Pw}var Tp=Pp.prototype=new Dw;Tp.constructor=Pp;Tw(Tp,Ro.prototype);Tp.isPureReactComponent=!0;var lb=Array.isArray,Aw=Object.prototype.hasOwnProperty,_p={current:null},Rw={key:!0,ref:!0,__self:!0,__source:!0};function Mw(s,t,r){var a,n={},l=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Aw.call(t,a)&&!Rw.hasOwnProperty(a)&&(n[a]=t[a]);var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){for(var d=Array(c),m=0;m<c;m++)d[m]=arguments[m+2];n.children=d}if(s&&s.defaultProps)for(a in c=s.defaultProps,c)n[a]===void 0&&(n[a]=c[a]);return{$$typeof:Rc,type:s,key:l,ref:o,props:n,_owner:_p.current}}function CC(s,t){return{$$typeof:Rc,type:s.type,key:t,ref:s.ref,props:s.props,_owner:s._owner}}function Dp(s){return typeof s=="object"&&s!==null&&s.$$typeof===Rc}function EC(s){var t={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(r){return t[r]})}var cb=/\/+/g;function Lx(s,t){return typeof s=="object"&&s!==null&&s.key!=null?EC(""+s.key):t.toString(36)}function Zd(s,t,r,a,n){var l=typeof s;(l==="undefined"||l==="boolean")&&(s=null);var o=!1;if(s===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(s.$$typeof){case Rc:case pC:o=!0}}if(o)return o=s,n=n(o),s=a===""?"."+Lx(o,0):a,lb(n)?(r="",s!=null&&(r=s.replace(cb,"$&/")+"/"),Zd(n,t,r,"",function(m){return m})):n!=null&&(Dp(n)&&(n=CC(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(cb,"$&/")+"/")+s)),t.push(n)),1;if(o=0,a=a===""?".":a+":",lb(s))for(var c=0;c<s.length;c++){l=s[c];var d=a+Lx(l,c);o+=Zd(l,t,r,d,n)}else if(d=SC(s),typeof d=="function")for(s=d.call(s),c=0;!(l=s.next()).done;)l=l.value,d=a+Lx(l,c++),o+=Zd(l,t,r,d,n);else if(l==="object")throw t=String(s),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Nd(s,t,r){if(s==null)return s;var a=[],n=0;return Zd(s,a,"","",function(l){return t.call(r,l,n++)}),a}function IC(s){if(s._status===-1){var t=s._result;t=t(),t.then(function(r){(s._status===0||s._status===-1)&&(s._status=1,s._result=r)},function(r){(s._status===0||s._status===-1)&&(s._status=2,s._result=r)}),s._status===-1&&(s._status=0,s._result=t)}if(s._status===1)return s._result.default;throw s._result}var nr={current:null},eu={transition:null},PC={ReactCurrentDispatcher:nr,ReactCurrentBatchConfig:eu,ReactCurrentOwner:_p};function Ow(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:Nd,forEach:function(s,t,r){Nd(s,function(){t.apply(this,arguments)},r)},count:function(s){var t=0;return Nd(s,function(){t++}),t},toArray:function(s){return Nd(s,function(t){return t})||[]},only:function(s){if(!Dp(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};St.Component=Ro;St.Fragment=fC;St.Profiler=yC;St.PureComponent=Pp;St.StrictMode=gC;St.Suspense=NC;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PC;St.act=Ow;St.cloneElement=function(s,t,r){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var a=Tw({},s.props),n=s.key,l=s.ref,o=s._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=_p.current),t.key!==void 0&&(n=""+t.key),s.type&&s.type.defaultProps)var c=s.type.defaultProps;for(d in t)Aw.call(t,d)&&!Rw.hasOwnProperty(d)&&(a[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)a.children=r;else if(1<d){c=Array(d);for(var m=0;m<d;m++)c[m]=arguments[m+2];a.children=c}return{$$typeof:Rc,type:s.type,key:n,ref:l,props:a,_owner:o}};St.createContext=function(s){return s={$$typeof:vC,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:bC,_context:s},s.Consumer=s};St.createElement=Mw;St.createFactory=function(s){var t=Mw.bind(null,s);return t.type=s,t};St.createRef=function(){return{current:null}};St.forwardRef=function(s){return{$$typeof:jC,render:s}};St.isValidElement=Dp;St.lazy=function(s){return{$$typeof:kC,_payload:{_status:-1,_result:s},_init:IC}};St.memo=function(s,t){return{$$typeof:wC,type:s,compare:t===void 0?null:t}};St.startTransition=function(s){var t=eu.transition;eu.transition={};try{s()}finally{eu.transition=t}};St.unstable_act=Ow;St.useCallback=function(s,t){return nr.current.useCallback(s,t)};St.useContext=function(s){return nr.current.useContext(s)};St.useDebugValue=function(){};St.useDeferredValue=function(s){return nr.current.useDeferredValue(s)};St.useEffect=function(s,t){return nr.current.useEffect(s,t)};St.useId=function(){return nr.current.useId()};St.useImperativeHandle=function(s,t,r){return nr.current.useImperativeHandle(s,t,r)};St.useInsertionEffect=function(s,t){return nr.current.useInsertionEffect(s,t)};St.useLayoutEffect=function(s,t){return nr.current.useLayoutEffect(s,t)};St.useMemo=function(s,t){return nr.current.useMemo(s,t)};St.useReducer=function(s,t,r){return nr.current.useReducer(s,t,r)};St.useRef=function(s){return nr.current.useRef(s)};St.useState=function(s){return nr.current.useState(s)};St.useSyncExternalStore=function(s,t,r){return nr.current.useSyncExternalStore(s,t,r)};St.useTransition=function(){return nr.current.useTransition()};St.version="18.3.1";Iw.exports=St;var v=Iw.exports;const pn=hC(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC=v,_C=Symbol.for("react.element"),DC=Symbol.for("react.fragment"),AC=Object.prototype.hasOwnProperty,RC=TC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MC={key:!0,ref:!0,__self:!0,__source:!0};function Vw(s,t,r){var a,n={},l=null,o=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)AC.call(t,a)&&!MC.hasOwnProperty(a)&&(n[a]=t[a]);if(s&&s.defaultProps)for(a in t=s.defaultProps,t)n[a]===void 0&&(n[a]=t[a]);return{$$typeof:_C,type:s,key:l,ref:o,props:n,_owner:RC.current}}_m.Fragment=DC;_m.jsx=Vw;_m.jsxs=Vw;Ew.exports=_m;var e=Ew.exports,Fh={},zw={exports:{}},Er={},Lw={exports:{}},Bw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function t(de,me){var xe=de.length;de.push(me);e:for(;0<xe;){var oe=xe-1>>>1,te=de[oe];if(0<n(te,me))de[oe]=me,de[xe]=te,xe=oe;else break e}}function r(de){return de.length===0?null:de[0]}function a(de){if(de.length===0)return null;var me=de[0],xe=de.pop();if(xe!==me){de[0]=xe;e:for(var oe=0,te=de.length,i=te>>>1;oe<i;){var b=2*(oe+1)-1,y=de[b],O=b+1,H=de[O];if(0>n(y,xe))O<te&&0>n(H,y)?(de[oe]=H,de[O]=xe,oe=O):(de[oe]=y,de[b]=xe,oe=b);else if(O<te&&0>n(H,xe))de[oe]=H,de[O]=xe,oe=O;else break e}}return me}function n(de,me){var xe=de.sortIndex-me.sortIndex;return xe!==0?xe:de.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var o=Date,c=o.now();s.unstable_now=function(){return o.now()-c}}var d=[],m=[],p=1,N=null,k=3,I=!1,h=!1,V=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(de){for(var me=r(m);me!==null;){if(me.callback===null)a(m);else if(me.startTime<=de)a(m),me.sortIndex=me.expirationTime,t(d,me);else break;me=r(m)}}function W(de){if(V=!1,T(de),!h)if(r(d)!==null)h=!0,Te($);else{var me=r(m);me!==null&&Ee(W,me.startTime-de)}}function $(de,me){h=!1,V&&(V=!1,C(u),u=-1),I=!0;var xe=k;try{for(T(me),N=r(d);N!==null&&(!(N.expirationTime>me)||de&&!Q());){var oe=N.callback;if(typeof oe=="function"){N.callback=null,k=N.priorityLevel;var te=oe(N.expirationTime<=me);me=s.unstable_now(),typeof te=="function"?N.callback=te:N===r(d)&&a(d),T(me)}else a(d);N=r(d)}if(N!==null)var i=!0;else{var b=r(m);b!==null&&Ee(W,b.startTime-me),i=!1}return i}finally{N=null,k=xe,I=!1}}var U=!1,A=null,u=-1,F=5,B=-1;function Q(){return!(s.unstable_now()-B<F)}function D(){if(A!==null){var de=s.unstable_now();B=de;var me=!0;try{me=A(!0,de)}finally{me?G():(U=!1,A=null)}}else U=!1}var G;if(typeof z=="function")G=function(){z(D)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Le=Ae.port2;Ae.port1.onmessage=D,G=function(){Le.postMessage(null)}}else G=function(){w(D,0)};function Te(de){A=de,U||(U=!0,G())}function Ee(de,me){u=w(function(){de(s.unstable_now())},me)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(de){de.callback=null},s.unstable_continueExecution=function(){h||I||(h=!0,Te($))},s.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<de?Math.floor(1e3/de):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_getFirstCallbackNode=function(){return r(d)},s.unstable_next=function(de){switch(k){case 1:case 2:case 3:var me=3;break;default:me=k}var xe=k;k=me;try{return de()}finally{k=xe}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(de,me){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var xe=k;k=de;try{return me()}finally{k=xe}},s.unstable_scheduleCallback=function(de,me,xe){var oe=s.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?oe+xe:oe):xe=oe,de){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=xe+te,de={id:p++,callback:me,priorityLevel:de,startTime:xe,expirationTime:te,sortIndex:-1},xe>oe?(de.sortIndex=xe,t(m,de),r(d)===null&&de===r(m)&&(V?(C(u),u=-1):V=!0,Ee(W,xe-oe))):(de.sortIndex=te,t(d,de),h||I||(h=!0,Te($))),de},s.unstable_shouldYield=Q,s.unstable_wrapCallback=function(de){var me=k;return function(){var xe=k;k=me;try{return de.apply(this,arguments)}finally{k=xe}}}})(Bw);Lw.exports=Bw;var OC=Lw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=v,Cr=OC;function De(s){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+s,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+s+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fw=new Set,Kl={};function Si(s,t){yo(s,t),yo(s+"Capture",t)}function yo(s,t){for(Kl[s]=t,s=0;s<t.length;s++)Fw.add(t[s])}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uh=Object.prototype.hasOwnProperty,zC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,db={},ub={};function LC(s){return Uh.call(ub,s)?!0:Uh.call(db,s)?!1:zC.test(s)?ub[s]=!0:(db[s]=!0,!1)}function BC(s,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function FC(s,t,r,a){if(t===null||typeof t>"u"||BC(s,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ir(s,t,r,a,n,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=s,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var zs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){zs[s]=new ir(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var t=s[0];zs[t]=new ir(t,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){zs[s]=new ir(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){zs[s]=new ir(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){zs[s]=new ir(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){zs[s]=new ir(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){zs[s]=new ir(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){zs[s]=new ir(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){zs[s]=new ir(s,5,!1,s.toLowerCase(),null,!1,!1)});var Ap=/[\-:]([a-z])/g;function Rp(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var t=s.replace(Ap,Rp);zs[t]=new ir(t,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var t=s.replace(Ap,Rp);zs[t]=new ir(t,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var t=s.replace(Ap,Rp);zs[t]=new ir(t,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){zs[s]=new ir(s,1,!1,s.toLowerCase(),null,!1,!1)});zs.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){zs[s]=new ir(s,1,!1,s.toLowerCase(),null,!0,!0)});function Mp(s,t,r,a){var n=zs.hasOwnProperty(t)?zs[t]:null;(n!==null?n.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FC(t,r,n,a)&&(r=null),a||n===null?LC(t)&&(r===null?s.removeAttribute(t):s.setAttribute(t,""+r)):n.mustUseProperty?s[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,a=n.attributeNamespace,r===null?s.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?s.setAttributeNS(a,t,r):s.setAttribute(t,r))))}var Ha=VC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wd=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),Op=Symbol.for("react.strict_mode"),$h=Symbol.for("react.profiler"),Uw=Symbol.for("react.provider"),$w=Symbol.for("react.context"),Vp=Symbol.for("react.forward_ref"),qh=Symbol.for("react.suspense"),Wh=Symbol.for("react.suspense_list"),zp=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),qw=Symbol.for("react.offscreen"),mb=Symbol.iterator;function sl(s){return s===null||typeof s!="object"?null:(s=mb&&s[mb]||s["@@iterator"],typeof s=="function"?s:null)}var ls=Object.assign,Bx;function hl(s){if(Bx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bx=t&&t[1]||""}return`
`+Bx+s}var Fx=!1;function Ux(s,t){if(!s||Fx)return"";Fx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var a=m}Reflect.construct(s,[],t)}else{try{t.call()}catch(m){a=m}s.call(t.prototype)}else{try{throw Error()}catch(m){a=m}s()}}catch(m){if(m&&a&&typeof m.stack=="string"){for(var n=m.stack.split(`
`),l=a.stack.split(`
`),o=n.length-1,c=l.length-1;1<=o&&0<=c&&n[o]!==l[c];)c--;for(;1<=o&&0<=c;o--,c--)if(n[o]!==l[c]){if(o!==1||c!==1)do if(o--,c--,0>c||n[o]!==l[c]){var d=`
`+n[o].replace(" at new "," at ");return s.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",s.displayName)),d}while(1<=o&&0<=c);break}}}finally{Fx=!1,Error.prepareStackTrace=r}return(s=s?s.displayName||s.name:"")?hl(s):""}function UC(s){switch(s.tag){case 5:return hl(s.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return s=Ux(s.type,!1),s;case 11:return s=Ux(s.type.render,!1),s;case 1:return s=Ux(s.type,!0),s;default:return""}}function Gh(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case $i:return"Fragment";case Ui:return"Portal";case $h:return"Profiler";case Op:return"StrictMode";case qh:return"Suspense";case Wh:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case $w:return(s.displayName||"Context")+".Consumer";case Uw:return(s._context.displayName||"Context")+".Provider";case Vp:var t=s.render;return s=s.displayName,s||(s=t.displayName||t.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case zp:return t=s.displayName||null,t!==null?t:Gh(s.type)||"Memo";case rn:t=s._payload,s=s._init;try{return Gh(s(t))}catch{}}return null}function $C(s){var t=s.type;switch(s.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=t.render,s=s.displayName||s.name||"",t.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gh(t);case 8:return t===Op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function In(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ww(s){var t=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qC(s){var t=Ww(s)?"checked":"value",r=Object.getOwnPropertyDescriptor(s.constructor.prototype,t),a=""+s[t];if(!s.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,l=r.set;return Object.defineProperty(s,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){a=""+o,l.call(this,o)}}),Object.defineProperty(s,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){s._valueTracker=null,delete s[t]}}}}function kd(s){s._valueTracker||(s._valueTracker=qC(s))}function Gw(s){if(!s)return!1;var t=s._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return s&&(a=Ww(s)?s.checked?"true":"false":s.value),s=a,s!==r?(t.setValue(s),!0):!1}function Eu(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Hh(s,t){var r=t.checked;return ls({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??s._wrapperState.initialChecked})}function xb(s,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=In(t.value!=null?t.value:r),s._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hw(s,t){t=t.checked,t!=null&&Mp(s,"checked",t,!1)}function Kh(s,t){Hw(s,t);var r=In(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+r):s.value!==""+r&&(s.value=""+r);else if(a==="submit"||a==="reset"){s.removeAttribute("value");return}t.hasOwnProperty("value")?Qh(s,t.type,r):t.hasOwnProperty("defaultValue")&&Qh(s,t.type,In(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(s.defaultChecked=!!t.defaultChecked)}function hb(s,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+s._wrapperState.initialValue,r||t===s.value||(s.value=t),s.defaultValue=t}r=s.name,r!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,r!==""&&(s.name=r)}function Qh(s,t,r){(t!=="number"||Eu(s.ownerDocument)!==s)&&(r==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+r&&(s.defaultValue=""+r))}var pl=Array.isArray;function oo(s,t,r,a){if(s=s.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<s.length;r++)n=t.hasOwnProperty("$"+s[r].value),s[r].selected!==n&&(s[r].selected=n),n&&a&&(s[r].defaultSelected=!0)}else{for(r=""+In(r),t=null,n=0;n<s.length;n++){if(s[n].value===r){s[n].selected=!0,a&&(s[n].defaultSelected=!0);return}t!==null||s[n].disabled||(t=s[n])}t!==null&&(t.selected=!0)}}function Yh(s,t){if(t.dangerouslySetInnerHTML!=null)throw Error(De(91));return ls({},t,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function pb(s,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(De(92));if(pl(r)){if(1<r.length)throw Error(De(93));r=r[0]}t=r}t==null&&(t=""),r=t}s._wrapperState={initialValue:In(r)}}function Kw(s,t){var r=In(t.value),a=In(t.defaultValue);r!=null&&(r=""+r,r!==s.value&&(s.value=r),t.defaultValue==null&&s.defaultValue!==r&&(s.defaultValue=r)),a!=null&&(s.defaultValue=""+a)}function fb(s){var t=s.textContent;t===s._wrapperState.initialValue&&t!==""&&t!==null&&(s.value=t)}function Qw(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xh(s,t){return s==null||s==="http://www.w3.org/1999/xhtml"?Qw(t):s==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Sd,Yw=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,n){MSApp.execUnsafeLocalFunction(function(){return s(t,r,a,n)})}:s}(function(s,t){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=t;else{for(Sd=Sd||document.createElement("div"),Sd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sd.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;t.firstChild;)s.appendChild(t.firstChild)}});function Ql(s,t){if(t){var r=s.firstChild;if(r&&r===s.lastChild&&r.nodeType===3){r.nodeValue=t;return}}s.textContent=t}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WC=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(s){WC.forEach(function(t){t=t+s.charAt(0).toUpperCase()+s.substring(1),Sl[t]=Sl[s]})});function Xw(s,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sl.hasOwnProperty(s)&&Sl[s]?(""+t).trim():t+"px"}function Jw(s,t){s=s.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=Xw(r,t[r],a);r==="float"&&(r="cssFloat"),a?s.setProperty(r,n):s[r]=n}}var GC=ls({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jh(s,t){if(t){if(GC[s]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(De(137,s));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(De(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(De(61))}if(t.style!=null&&typeof t.style!="object")throw Error(De(62))}}function Zh(s,t){if(s.indexOf("-")===-1)return typeof t.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e0=null;function Lp(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var t0=null,lo=null,co=null;function gb(s){if(s=Vc(s)){if(typeof t0!="function")throw Error(De(280));var t=s.stateNode;t&&(t=Om(t),t0(s.stateNode,s.type,t))}}function Zw(s){lo?co?co.push(s):co=[s]:lo=s}function e5(){if(lo){var s=lo,t=co;if(co=lo=null,gb(s),t)for(s=0;s<t.length;s++)gb(t[s])}}function t5(s,t){return s(t)}function s5(){}var $x=!1;function r5(s,t,r){if($x)return s(t,r);$x=!0;try{return t5(s,t,r)}finally{$x=!1,(lo!==null||co!==null)&&(s5(),e5())}}function Yl(s,t){var r=s.stateNode;if(r===null)return null;var a=Om(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(s=s.type,a=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!a;break e;default:s=!1}if(s)return null;if(r&&typeof r!="function")throw Error(De(231,t,typeof r));return r}var s0=!1;if(Oa)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){s0=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{s0=!1}function HC(s,t,r,a,n,l,o,c,d){var m=Array.prototype.slice.call(arguments,3);try{t.apply(r,m)}catch(p){this.onError(p)}}var Cl=!1,Iu=null,Pu=!1,r0=null,KC={onError:function(s){Cl=!0,Iu=s}};function QC(s,t,r,a,n,l,o,c,d){Cl=!1,Iu=null,HC.apply(KC,arguments)}function YC(s,t,r,a,n,l,o,c,d){if(QC.apply(this,arguments),Cl){if(Cl){var m=Iu;Cl=!1,Iu=null}else throw Error(De(198));Pu||(Pu=!0,r0=m)}}function Ci(s){var t=s,r=s;if(s.alternate)for(;t.return;)t=t.return;else{s=t;do t=s,t.flags&4098&&(r=t.return),s=t.return;while(s)}return t.tag===3?r:null}function a5(s){if(s.tag===13){var t=s.memoizedState;if(t===null&&(s=s.alternate,s!==null&&(t=s.memoizedState)),t!==null)return t.dehydrated}return null}function yb(s){if(Ci(s)!==s)throw Error(De(188))}function XC(s){var t=s.alternate;if(!t){if(t=Ci(s),t===null)throw Error(De(188));return t!==s?null:s}for(var r=s,a=t;;){var n=r.return;if(n===null)break;var l=n.alternate;if(l===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===r)return yb(n),s;if(l===a)return yb(n),t;l=l.sibling}throw Error(De(188))}if(r.return!==a.return)r=n,a=l;else{for(var o=!1,c=n.child;c;){if(c===r){o=!0,r=n,a=l;break}if(c===a){o=!0,a=n,r=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===r){o=!0,r=l,a=n;break}if(c===a){o=!0,a=l,r=n;break}c=c.sibling}if(!o)throw Error(De(189))}}if(r.alternate!==a)throw Error(De(190))}if(r.tag!==3)throw Error(De(188));return r.stateNode.current===r?s:t}function n5(s){return s=XC(s),s!==null?i5(s):null}function i5(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var t=i5(s);if(t!==null)return t;s=s.sibling}return null}var o5=Cr.unstable_scheduleCallback,bb=Cr.unstable_cancelCallback,JC=Cr.unstable_shouldYield,ZC=Cr.unstable_requestPaint,fs=Cr.unstable_now,eE=Cr.unstable_getCurrentPriorityLevel,Bp=Cr.unstable_ImmediatePriority,l5=Cr.unstable_UserBlockingPriority,Tu=Cr.unstable_NormalPriority,tE=Cr.unstable_LowPriority,c5=Cr.unstable_IdlePriority,Dm=null,la=null;function sE(s){if(la&&typeof la.onCommitFiberRoot=="function")try{la.onCommitFiberRoot(Dm,s,void 0,(s.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:nE,rE=Math.log,aE=Math.LN2;function nE(s){return s>>>=0,s===0?32:31-(rE(s)/aE|0)|0}var Cd=64,Ed=4194304;function fl(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function _u(s,t){var r=s.pendingLanes;if(r===0)return 0;var a=0,n=s.suspendedLanes,l=s.pingedLanes,o=r&268435455;if(o!==0){var c=o&~n;c!==0?a=fl(c):(l&=o,l!==0&&(a=fl(l)))}else o=r&~n,o!==0?a=fl(o):l!==0&&(a=fl(l));if(a===0)return 0;if(t!==0&&t!==a&&!(t&n)&&(n=a&-a,l=t&-t,n>=l||n===16&&(l&4194240)!==0))return t;if(a&4&&(a|=r&16),t=s.entangledLanes,t!==0)for(s=s.entanglements,t&=a;0<t;)r=31-Yr(t),n=1<<r,a|=s[r],t&=~n;return a}function iE(s,t){switch(s){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oE(s,t){for(var r=s.suspendedLanes,a=s.pingedLanes,n=s.expirationTimes,l=s.pendingLanes;0<l;){var o=31-Yr(l),c=1<<o,d=n[o];d===-1?(!(c&r)||c&a)&&(n[o]=iE(c,t)):d<=t&&(s.expiredLanes|=c),l&=~c}}function a0(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function d5(){var s=Cd;return Cd<<=1,!(Cd&4194240)&&(Cd=64),s}function qx(s){for(var t=[],r=0;31>r;r++)t.push(s);return t}function Mc(s,t,r){s.pendingLanes|=t,t!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,t=31-Yr(t),s[t]=r}function lE(s,t){var r=s.pendingLanes&~t;s.pendingLanes=t,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=t,s.mutableReadLanes&=t,s.entangledLanes&=t,t=s.entanglements;var a=s.eventTimes;for(s=s.expirationTimes;0<r;){var n=31-Yr(r),l=1<<n;t[n]=0,a[n]=-1,s[n]=-1,r&=~l}}function Fp(s,t){var r=s.entangledLanes|=t;for(s=s.entanglements;r;){var a=31-Yr(r),n=1<<a;n&t|s[a]&t&&(s[a]|=t),r&=~n}}var zt=0;function u5(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var m5,Up,x5,h5,p5,n0=!1,Id=[],fn=null,gn=null,yn=null,Xl=new Map,Jl=new Map,nn=[],cE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vb(s,t){switch(s){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":Xl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(t.pointerId)}}function al(s,t,r,a,n,l){return s===null||s.nativeEvent!==l?(s={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:l,targetContainers:[n]},t!==null&&(t=Vc(t),t!==null&&Up(t)),s):(s.eventSystemFlags|=a,t=s.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),s)}function dE(s,t,r,a,n){switch(t){case"focusin":return fn=al(fn,s,t,r,a,n),!0;case"dragenter":return gn=al(gn,s,t,r,a,n),!0;case"mouseover":return yn=al(yn,s,t,r,a,n),!0;case"pointerover":var l=n.pointerId;return Xl.set(l,al(Xl.get(l)||null,s,t,r,a,n)),!0;case"gotpointercapture":return l=n.pointerId,Jl.set(l,al(Jl.get(l)||null,s,t,r,a,n)),!0}return!1}function f5(s){var t=ti(s.target);if(t!==null){var r=Ci(t);if(r!==null){if(t=r.tag,t===13){if(t=a5(r),t!==null){s.blockedOn=t,p5(s.priority,function(){x5(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){s.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}s.blockedOn=null}function tu(s){if(s.blockedOn!==null)return!1;for(var t=s.targetContainers;0<t.length;){var r=i0(s.domEventName,s.eventSystemFlags,t[0],s.nativeEvent);if(r===null){r=s.nativeEvent;var a=new r.constructor(r.type,r);e0=a,r.target.dispatchEvent(a),e0=null}else return t=Vc(r),t!==null&&Up(t),s.blockedOn=r,!1;t.shift()}return!0}function jb(s,t,r){tu(s)&&r.delete(t)}function uE(){n0=!1,fn!==null&&tu(fn)&&(fn=null),gn!==null&&tu(gn)&&(gn=null),yn!==null&&tu(yn)&&(yn=null),Xl.forEach(jb),Jl.forEach(jb)}function nl(s,t){s.blockedOn===t&&(s.blockedOn=null,n0||(n0=!0,Cr.unstable_scheduleCallback(Cr.unstable_NormalPriority,uE)))}function Zl(s){function t(n){return nl(n,s)}if(0<Id.length){nl(Id[0],s);for(var r=1;r<Id.length;r++){var a=Id[r];a.blockedOn===s&&(a.blockedOn=null)}}for(fn!==null&&nl(fn,s),gn!==null&&nl(gn,s),yn!==null&&nl(yn,s),Xl.forEach(t),Jl.forEach(t),r=0;r<nn.length;r++)a=nn[r],a.blockedOn===s&&(a.blockedOn=null);for(;0<nn.length&&(r=nn[0],r.blockedOn===null);)f5(r),r.blockedOn===null&&nn.shift()}var uo=Ha.ReactCurrentBatchConfig,Du=!0;function mE(s,t,r,a){var n=zt,l=uo.transition;uo.transition=null;try{zt=1,$p(s,t,r,a)}finally{zt=n,uo.transition=l}}function xE(s,t,r,a){var n=zt,l=uo.transition;uo.transition=null;try{zt=4,$p(s,t,r,a)}finally{zt=n,uo.transition=l}}function $p(s,t,r,a){if(Du){var n=i0(s,t,r,a);if(n===null)eh(s,t,a,Au,r),vb(s,a);else if(dE(n,s,t,r,a))a.stopPropagation();else if(vb(s,a),t&4&&-1<cE.indexOf(s)){for(;n!==null;){var l=Vc(n);if(l!==null&&m5(l),l=i0(s,t,r,a),l===null&&eh(s,t,a,Au,r),l===n)break;n=l}n!==null&&a.stopPropagation()}else eh(s,t,a,null,r)}}var Au=null;function i0(s,t,r,a){if(Au=null,s=Lp(a),s=ti(s),s!==null)if(t=Ci(s),t===null)s=null;else if(r=t.tag,r===13){if(s=a5(t),s!==null)return s;s=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;s=null}else t!==s&&(s=null);return Au=s,null}function g5(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eE()){case Bp:return 1;case l5:return 4;case Tu:case tE:return 16;case c5:return 536870912;default:return 16}default:return 16}}var mn=null,qp=null,su=null;function y5(){if(su)return su;var s,t=qp,r=t.length,a,n="value"in mn?mn.value:mn.textContent,l=n.length;for(s=0;s<r&&t[s]===n[s];s++);var o=r-s;for(a=1;a<=o&&t[r-a]===n[l-a];a++);return su=n.slice(s,1<a?1-a:void 0)}function ru(s){var t=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&t===13&&(s=13)):s=t,s===10&&(s=13),32<=s||s===13?s:0}function Pd(){return!0}function Nb(){return!1}function Ir(s){function t(r,a,n,l,o){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var c in s)s.hasOwnProperty(c)&&(r=s[c],this[c]=r?r(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Pd:Nb,this.isPropagationStopped=Nb,this}return ls(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pd)},persist:function(){},isPersistent:Pd}),t}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wp=Ir(Mo),Oc=ls({},Mo,{view:0,detail:0}),hE=Ir(Oc),Wx,Gx,il,Am=ls({},Oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gp,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==il&&(il&&s.type==="mousemove"?(Wx=s.screenX-il.screenX,Gx=s.screenY-il.screenY):Gx=Wx=0,il=s),Wx)},movementY:function(s){return"movementY"in s?s.movementY:Gx}}),wb=Ir(Am),pE=ls({},Am,{dataTransfer:0}),fE=Ir(pE),gE=ls({},Oc,{relatedTarget:0}),Hx=Ir(gE),yE=ls({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),bE=Ir(yE),vE=ls({},Mo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),jE=Ir(vE),NE=ls({},Mo,{data:0}),kb=Ir(NE),wE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CE(s){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(s):(s=SE[s])?!!t[s]:!1}function Gp(){return CE}var EE=ls({},Oc,{key:function(s){if(s.key){var t=wE[s.key]||s.key;if(t!=="Unidentified")return t}return s.type==="keypress"?(s=ru(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?kE[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gp,charCode:function(s){return s.type==="keypress"?ru(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ru(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),IE=Ir(EE),PE=ls({},Am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sb=Ir(PE),TE=ls({},Oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gp}),_E=Ir(TE),DE=ls({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),AE=Ir(DE),RE=ls({},Am,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ME=Ir(RE),OE=[9,13,27,32],Hp=Oa&&"CompositionEvent"in window,El=null;Oa&&"documentMode"in document&&(El=document.documentMode);var VE=Oa&&"TextEvent"in window&&!El,b5=Oa&&(!Hp||El&&8<El&&11>=El),Cb=String.fromCharCode(32),Eb=!1;function v5(s,t){switch(s){case"keyup":return OE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j5(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var qi=!1;function zE(s,t){switch(s){case"compositionend":return j5(t);case"keypress":return t.which!==32?null:(Eb=!0,Cb);case"textInput":return s=t.data,s===Cb&&Eb?null:s;default:return null}}function LE(s,t){if(qi)return s==="compositionend"||!Hp&&v5(s,t)?(s=y5(),su=qp=mn=null,qi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return b5&&t.locale!=="ko"?null:t.data;default:return null}}var BE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ib(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t==="input"?!!BE[s.type]:t==="textarea"}function N5(s,t,r,a){Zw(a),t=Ru(t,"onChange"),0<t.length&&(r=new Wp("onChange","change",null,r,a),s.push({event:r,listeners:t}))}var Il=null,ec=null;function FE(s){A5(s,0)}function Rm(s){var t=Hi(s);if(Gw(t))return s}function UE(s,t){if(s==="change")return t}var w5=!1;if(Oa){var Kx;if(Oa){var Qx="oninput"in document;if(!Qx){var Pb=document.createElement("div");Pb.setAttribute("oninput","return;"),Qx=typeof Pb.oninput=="function"}Kx=Qx}else Kx=!1;w5=Kx&&(!document.documentMode||9<document.documentMode)}function Tb(){Il&&(Il.detachEvent("onpropertychange",k5),ec=Il=null)}function k5(s){if(s.propertyName==="value"&&Rm(ec)){var t=[];N5(t,ec,s,Lp(s)),r5(FE,t)}}function $E(s,t,r){s==="focusin"?(Tb(),Il=t,ec=r,Il.attachEvent("onpropertychange",k5)):s==="focusout"&&Tb()}function qE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Rm(ec)}function WE(s,t){if(s==="click")return Rm(t)}function GE(s,t){if(s==="input"||s==="change")return Rm(t)}function HE(s,t){return s===t&&(s!==0||1/s===1/t)||s!==s&&t!==t}var Jr=typeof Object.is=="function"?Object.is:HE;function tc(s,t){if(Jr(s,t))return!0;if(typeof s!="object"||s===null||typeof t!="object"||t===null)return!1;var r=Object.keys(s),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!Uh.call(t,n)||!Jr(s[n],t[n]))return!1}return!0}function _b(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Db(s,t){var r=_b(s);s=0;for(var a;r;){if(r.nodeType===3){if(a=s+r.textContent.length,s<=t&&a>=t)return{node:r,offset:t-s};s=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_b(r)}}function S5(s,t){return s&&t?s===t?!0:s&&s.nodeType===3?!1:t&&t.nodeType===3?S5(s,t.parentNode):"contains"in s?s.contains(t):s.compareDocumentPosition?!!(s.compareDocumentPosition(t)&16):!1:!1}function C5(){for(var s=window,t=Eu();t instanceof s.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)s=t.contentWindow;else break;t=Eu(s.document)}return t}function Kp(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t&&(t==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||t==="textarea"||s.contentEditable==="true")}function KE(s){var t=C5(),r=s.focusedElem,a=s.selectionRange;if(t!==r&&r&&r.ownerDocument&&S5(r.ownerDocument.documentElement,r)){if(a!==null&&Kp(r)){if(t=a.start,s=a.end,s===void 0&&(s=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(s,r.value.length);else if(s=(t=r.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var n=r.textContent.length,l=Math.min(a.start,n);a=a.end===void 0?l:Math.min(a.end,n),!s.extend&&l>a&&(n=a,a=l,l=n),n=Db(r,l);var o=Db(r,a);n&&o&&(s.rangeCount!==1||s.anchorNode!==n.node||s.anchorOffset!==n.offset||s.focusNode!==o.node||s.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),s.removeAllRanges(),l>a?(s.addRange(t),s.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),s.addRange(t)))}}for(t=[],s=r;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)s=t[r],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var QE=Oa&&"documentMode"in document&&11>=document.documentMode,Wi=null,o0=null,Pl=null,l0=!1;function Ab(s,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;l0||Wi==null||Wi!==Eu(a)||(a=Wi,"selectionStart"in a&&Kp(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Pl&&tc(Pl,a)||(Pl=a,a=Ru(o0,"onSelect"),0<a.length&&(t=new Wp("onSelect","select",null,t,r),s.push({event:t,listeners:a}),t.target=Wi)))}function Td(s,t){var r={};return r[s.toLowerCase()]=t.toLowerCase(),r["Webkit"+s]="webkit"+t,r["Moz"+s]="moz"+t,r}var Gi={animationend:Td("Animation","AnimationEnd"),animationiteration:Td("Animation","AnimationIteration"),animationstart:Td("Animation","AnimationStart"),transitionend:Td("Transition","TransitionEnd")},Yx={},E5={};Oa&&(E5=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Mm(s){if(Yx[s])return Yx[s];if(!Gi[s])return s;var t=Gi[s],r;for(r in t)if(t.hasOwnProperty(r)&&r in E5)return Yx[s]=t[r];return s}var I5=Mm("animationend"),P5=Mm("animationiteration"),T5=Mm("animationstart"),_5=Mm("transitionend"),D5=new Map,Rb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(s,t){D5.set(s,t),Si(t,[s])}for(var Xx=0;Xx<Rb.length;Xx++){var Jx=Rb[Xx],YE=Jx.toLowerCase(),XE=Jx[0].toUpperCase()+Jx.slice(1);Ln(YE,"on"+XE)}Ln(I5,"onAnimationEnd");Ln(P5,"onAnimationIteration");Ln(T5,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(_5,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JE=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function Mb(s,t,r){var a=s.type||"unknown-event";s.currentTarget=r,YC(a,t,void 0,s),s.currentTarget=null}function A5(s,t){t=(t&4)!==0;for(var r=0;r<s.length;r++){var a=s[r],n=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var o=a.length-1;0<=o;o--){var c=a[o],d=c.instance,m=c.currentTarget;if(c=c.listener,d!==l&&n.isPropagationStopped())break e;Mb(n,c,m),l=d}else for(o=0;o<a.length;o++){if(c=a[o],d=c.instance,m=c.currentTarget,c=c.listener,d!==l&&n.isPropagationStopped())break e;Mb(n,c,m),l=d}}}if(Pu)throw s=r0,Pu=!1,r0=null,s}function Jt(s,t){var r=t[x0];r===void 0&&(r=t[x0]=new Set);var a=s+"__bubble";r.has(a)||(R5(t,s,2,!1),r.add(a))}function Zx(s,t,r){var a=0;t&&(a|=4),R5(r,s,a,t)}var _d="_reactListening"+Math.random().toString(36).slice(2);function sc(s){if(!s[_d]){s[_d]=!0,Fw.forEach(function(r){r!=="selectionchange"&&(JE.has(r)||Zx(r,!1,s),Zx(r,!0,s))});var t=s.nodeType===9?s:s.ownerDocument;t===null||t[_d]||(t[_d]=!0,Zx("selectionchange",!1,t))}}function R5(s,t,r,a){switch(g5(t)){case 1:var n=mE;break;case 4:n=xE;break;default:n=$p}r=n.bind(null,t,r,s),n=void 0,!s0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?s.addEventListener(t,r,{capture:!0,passive:n}):s.addEventListener(t,r,!0):n!==void 0?s.addEventListener(t,r,{passive:n}):s.addEventListener(t,r,!1)}function eh(s,t,r,a,n){var l=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var c=a.stateNode.containerInfo;if(c===n||c.nodeType===8&&c.parentNode===n)break;if(o===4)for(o=a.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===n||d.nodeType===8&&d.parentNode===n))return;o=o.return}for(;c!==null;){if(o=ti(c),o===null)return;if(d=o.tag,d===5||d===6){a=l=o;continue e}c=c.parentNode}}a=a.return}r5(function(){var m=l,p=Lp(r),N=[];e:{var k=D5.get(s);if(k!==void 0){var I=Wp,h=s;switch(s){case"keypress":if(ru(r)===0)break e;case"keydown":case"keyup":I=IE;break;case"focusin":h="focus",I=Hx;break;case"focusout":h="blur",I=Hx;break;case"beforeblur":case"afterblur":I=Hx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=wb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=fE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=_E;break;case I5:case P5:case T5:I=bE;break;case _5:I=AE;break;case"scroll":I=hE;break;case"wheel":I=ME;break;case"copy":case"cut":case"paste":I=jE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Sb}var V=(t&4)!==0,w=!V&&s==="scroll",C=V?k!==null?k+"Capture":null:k;V=[];for(var z=m,T;z!==null;){T=z;var W=T.stateNode;if(T.tag===5&&W!==null&&(T=W,C!==null&&(W=Yl(z,C),W!=null&&V.push(rc(z,W,T)))),w)break;z=z.return}0<V.length&&(k=new I(k,h,null,r,p),N.push({event:k,listeners:V}))}}if(!(t&7)){e:{if(k=s==="mouseover"||s==="pointerover",I=s==="mouseout"||s==="pointerout",k&&r!==e0&&(h=r.relatedTarget||r.fromElement)&&(ti(h)||h[Va]))break e;if((I||k)&&(k=p.window===p?p:(k=p.ownerDocument)?k.defaultView||k.parentWindow:window,I?(h=r.relatedTarget||r.toElement,I=m,h=h?ti(h):null,h!==null&&(w=Ci(h),h!==w||h.tag!==5&&h.tag!==6)&&(h=null)):(I=null,h=m),I!==h)){if(V=wb,W="onMouseLeave",C="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(V=Sb,W="onPointerLeave",C="onPointerEnter",z="pointer"),w=I==null?k:Hi(I),T=h==null?k:Hi(h),k=new V(W,z+"leave",I,r,p),k.target=w,k.relatedTarget=T,W=null,ti(p)===m&&(V=new V(C,z+"enter",h,r,p),V.target=T,V.relatedTarget=w,W=V),w=W,I&&h)t:{for(V=I,C=h,z=0,T=V;T;T=Vi(T))z++;for(T=0,W=C;W;W=Vi(W))T++;for(;0<z-T;)V=Vi(V),z--;for(;0<T-z;)C=Vi(C),T--;for(;z--;){if(V===C||C!==null&&V===C.alternate)break t;V=Vi(V),C=Vi(C)}V=null}else V=null;I!==null&&Ob(N,k,I,V,!1),h!==null&&w!==null&&Ob(N,w,h,V,!0)}}e:{if(k=m?Hi(m):window,I=k.nodeName&&k.nodeName.toLowerCase(),I==="select"||I==="input"&&k.type==="file")var $=UE;else if(Ib(k))if(w5)$=GE;else{$=qE;var U=$E}else(I=k.nodeName)&&I.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&($=WE);if($&&($=$(s,m))){N5(N,$,r,p);break e}U&&U(s,k,m),s==="focusout"&&(U=k._wrapperState)&&U.controlled&&k.type==="number"&&Qh(k,"number",k.value)}switch(U=m?Hi(m):window,s){case"focusin":(Ib(U)||U.contentEditable==="true")&&(Wi=U,o0=m,Pl=null);break;case"focusout":Pl=o0=Wi=null;break;case"mousedown":l0=!0;break;case"contextmenu":case"mouseup":case"dragend":l0=!1,Ab(N,r,p);break;case"selectionchange":if(QE)break;case"keydown":case"keyup":Ab(N,r,p)}var A;if(Hp)e:{switch(s){case"compositionstart":var u="onCompositionStart";break e;case"compositionend":u="onCompositionEnd";break e;case"compositionupdate":u="onCompositionUpdate";break e}u=void 0}else qi?v5(s,r)&&(u="onCompositionEnd"):s==="keydown"&&r.keyCode===229&&(u="onCompositionStart");u&&(b5&&r.locale!=="ko"&&(qi||u!=="onCompositionStart"?u==="onCompositionEnd"&&qi&&(A=y5()):(mn=p,qp="value"in mn?mn.value:mn.textContent,qi=!0)),U=Ru(m,u),0<U.length&&(u=new kb(u,s,null,r,p),N.push({event:u,listeners:U}),A?u.data=A:(A=j5(r),A!==null&&(u.data=A)))),(A=VE?zE(s,r):LE(s,r))&&(m=Ru(m,"onBeforeInput"),0<m.length&&(p=new kb("onBeforeInput","beforeinput",null,r,p),N.push({event:p,listeners:m}),p.data=A))}A5(N,t)})}function rc(s,t,r){return{instance:s,listener:t,currentTarget:r}}function Ru(s,t){for(var r=t+"Capture",a=[];s!==null;){var n=s,l=n.stateNode;n.tag===5&&l!==null&&(n=l,l=Yl(s,r),l!=null&&a.unshift(rc(s,l,n)),l=Yl(s,t),l!=null&&a.push(rc(s,l,n))),s=s.return}return a}function Vi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ob(s,t,r,a,n){for(var l=t._reactName,o=[];r!==null&&r!==a;){var c=r,d=c.alternate,m=c.stateNode;if(d!==null&&d===a)break;c.tag===5&&m!==null&&(c=m,n?(d=Yl(r,l),d!=null&&o.unshift(rc(r,d,c))):n||(d=Yl(r,l),d!=null&&o.push(rc(r,d,c)))),r=r.return}o.length!==0&&s.push({event:t,listeners:o})}var ZE=/\r\n?/g,eI=/\u0000|\uFFFD/g;function Vb(s){return(typeof s=="string"?s:""+s).replace(ZE,`
`).replace(eI,"")}function Dd(s,t,r){if(t=Vb(t),Vb(s)!==t&&r)throw Error(De(425))}function Mu(){}var c0=null,d0=null;function u0(s,t){return s==="textarea"||s==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var m0=typeof setTimeout=="function"?setTimeout:void 0,tI=typeof clearTimeout=="function"?clearTimeout:void 0,zb=typeof Promise=="function"?Promise:void 0,sI=typeof queueMicrotask=="function"?queueMicrotask:typeof zb<"u"?function(s){return zb.resolve(null).then(s).catch(rI)}:m0;function rI(s){setTimeout(function(){throw s})}function th(s,t){var r=t,a=0;do{var n=r.nextSibling;if(s.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){s.removeChild(n),Zl(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);Zl(t)}function bn(s){for(;s!=null;s=s.nextSibling){var t=s.nodeType;if(t===1||t===3)break;if(t===8){if(t=s.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return s}function Lb(s){s=s.previousSibling;for(var t=0;s;){if(s.nodeType===8){var r=s.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return s;t--}else r==="/$"&&t++}s=s.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),ia="__reactFiber$"+Oo,ac="__reactProps$"+Oo,Va="__reactContainer$"+Oo,x0="__reactEvents$"+Oo,aI="__reactListeners$"+Oo,nI="__reactHandles$"+Oo;function ti(s){var t=s[ia];if(t)return t;for(var r=s.parentNode;r;){if(t=r[Va]||r[ia]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(s=Lb(s);s!==null;){if(r=s[ia])return r;s=Lb(s)}return t}s=r,r=s.parentNode}return null}function Vc(s){return s=s[ia]||s[Va],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Hi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(De(33))}function Om(s){return s[ac]||null}var h0=[],Ki=-1;function Bn(s){return{current:s}}function Zt(s){0>Ki||(s.current=h0[Ki],h0[Ki]=null,Ki--)}function Kt(s,t){Ki++,h0[Ki]=s.current,s.current=t}var Pn={},Qs=Bn(Pn),mr=Bn(!1),xi=Pn;function bo(s,t){var r=s.type.contextTypes;if(!r)return Pn;var a=s.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n={},l;for(l in r)n[l]=t[l];return a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=t,s.__reactInternalMemoizedMaskedChildContext=n),n}function xr(s){return s=s.childContextTypes,s!=null}function Ou(){Zt(mr),Zt(Qs)}function Bb(s,t,r){if(Qs.current!==Pn)throw Error(De(168));Kt(Qs,t),Kt(mr,r)}function M5(s,t,r){var a=s.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in t))throw Error(De(108,$C(s)||"Unknown",n));return ls({},r,a)}function Vu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Pn,xi=Qs.current,Kt(Qs,s),Kt(mr,mr.current),!0}function Fb(s,t,r){var a=s.stateNode;if(!a)throw Error(De(169));r?(s=M5(s,t,xi),a.__reactInternalMemoizedMergedChildContext=s,Zt(mr),Zt(Qs),Kt(Qs,s)):Zt(mr),Kt(mr,r)}var Ia=null,Vm=!1,sh=!1;function O5(s){Ia===null?Ia=[s]:Ia.push(s)}function iI(s){Vm=!0,O5(s)}function Fn(){if(!sh&&Ia!==null){sh=!0;var s=0,t=zt;try{var r=Ia;for(zt=1;s<r.length;s++){var a=r[s];do a=a(!0);while(a!==null)}Ia=null,Vm=!1}catch(n){throw Ia!==null&&(Ia=Ia.slice(s+1)),o5(Bp,Fn),n}finally{zt=t,sh=!1}}return null}var Qi=[],Yi=0,zu=null,Lu=0,_r=[],Dr=0,hi=null,Pa=1,Ta="";function Xn(s,t){Qi[Yi++]=Lu,Qi[Yi++]=zu,zu=s,Lu=t}function V5(s,t,r){_r[Dr++]=Pa,_r[Dr++]=Ta,_r[Dr++]=hi,hi=s;var a=Pa;s=Ta;var n=32-Yr(a)-1;a&=~(1<<n),r+=1;var l=32-Yr(t)+n;if(30<l){var o=n-n%5;l=(a&(1<<o)-1).toString(32),a>>=o,n-=o,Pa=1<<32-Yr(t)+n|r<<n|a,Ta=l+s}else Pa=1<<l|r<<n|a,Ta=s}function Qp(s){s.return!==null&&(Xn(s,1),V5(s,1,0))}function Yp(s){for(;s===zu;)zu=Qi[--Yi],Qi[Yi]=null,Lu=Qi[--Yi],Qi[Yi]=null;for(;s===hi;)hi=_r[--Dr],_r[Dr]=null,Ta=_r[--Dr],_r[Dr]=null,Pa=_r[--Dr],_r[Dr]=null}var wr=null,jr=null,es=!1,Hr=null;function z5(s,t){var r=Rr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=s,t=s.deletions,t===null?(s.deletions=[r],s.flags|=16):t.push(r)}function Ub(s,t){switch(s.tag){case 5:var r=s.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(s.stateNode=t,wr=s,jr=bn(t.firstChild),!0):!1;case 6:return t=s.pendingProps===""||t.nodeType!==3?null:t,t!==null?(s.stateNode=t,wr=s,jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hi!==null?{id:Pa,overflow:Ta}:null,s.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Rr(18,null,null,0),r.stateNode=t,r.return=s,s.child=r,wr=s,jr=null,!0):!1;default:return!1}}function p0(s){return(s.mode&1)!==0&&(s.flags&128)===0}function f0(s){if(es){var t=jr;if(t){var r=t;if(!Ub(s,t)){if(p0(s))throw Error(De(418));t=bn(r.nextSibling);var a=wr;t&&Ub(s,t)?z5(a,r):(s.flags=s.flags&-4097|2,es=!1,wr=s)}}else{if(p0(s))throw Error(De(418));s.flags=s.flags&-4097|2,es=!1,wr=s}}}function $b(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;wr=s}function Ad(s){if(s!==wr)return!1;if(!es)return $b(s),es=!0,!1;var t;if((t=s.tag!==3)&&!(t=s.tag!==5)&&(t=s.type,t=t!=="head"&&t!=="body"&&!u0(s.type,s.memoizedProps)),t&&(t=jr)){if(p0(s))throw L5(),Error(De(418));for(;t;)z5(s,t),t=bn(t.nextSibling)}if($b(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(De(317));e:{for(s=s.nextSibling,t=0;s;){if(s.nodeType===8){var r=s.data;if(r==="/$"){if(t===0){jr=bn(s.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}s=s.nextSibling}jr=null}}else jr=wr?bn(s.stateNode.nextSibling):null;return!0}function L5(){for(var s=jr;s;)s=bn(s.nextSibling)}function vo(){jr=wr=null,es=!1}function Xp(s){Hr===null?Hr=[s]:Hr.push(s)}var oI=Ha.ReactCurrentBatchConfig;function ol(s,t,r){if(s=r.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(De(309));var a=r.stateNode}if(!a)throw Error(De(147,s));var n=a,l=""+s;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var c=n.refs;o===null?delete c[l]:c[l]=o},t._stringRef=l,t)}if(typeof s!="string")throw Error(De(284));if(!r._owner)throw Error(De(290,s))}return s}function Rd(s,t){throw s=Object.prototype.toString.call(t),Error(De(31,s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s))}function qb(s){var t=s._init;return t(s._payload)}function B5(s){function t(C,z){if(s){var T=C.deletions;T===null?(C.deletions=[z],C.flags|=16):T.push(z)}}function r(C,z){if(!s)return null;for(;z!==null;)t(C,z),z=z.sibling;return null}function a(C,z){for(C=new Map;z!==null;)z.key!==null?C.set(z.key,z):C.set(z.index,z),z=z.sibling;return C}function n(C,z){return C=wn(C,z),C.index=0,C.sibling=null,C}function l(C,z,T){return C.index=T,s?(T=C.alternate,T!==null?(T=T.index,T<z?(C.flags|=2,z):T):(C.flags|=2,z)):(C.flags|=1048576,z)}function o(C){return s&&C.alternate===null&&(C.flags|=2),C}function c(C,z,T,W){return z===null||z.tag!==6?(z=ch(T,C.mode,W),z.return=C,z):(z=n(z,T),z.return=C,z)}function d(C,z,T,W){var $=T.type;return $===$i?p(C,z,T.props.children,W,T.key):z!==null&&(z.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===rn&&qb($)===z.type)?(W=n(z,T.props),W.ref=ol(C,z,T),W.return=C,W):(W=du(T.type,T.key,T.props,null,C.mode,W),W.ref=ol(C,z,T),W.return=C,W)}function m(C,z,T,W){return z===null||z.tag!==4||z.stateNode.containerInfo!==T.containerInfo||z.stateNode.implementation!==T.implementation?(z=dh(T,C.mode,W),z.return=C,z):(z=n(z,T.children||[]),z.return=C,z)}function p(C,z,T,W,$){return z===null||z.tag!==7?(z=ci(T,C.mode,W,$),z.return=C,z):(z=n(z,T),z.return=C,z)}function N(C,z,T){if(typeof z=="string"&&z!==""||typeof z=="number")return z=ch(""+z,C.mode,T),z.return=C,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case wd:return T=du(z.type,z.key,z.props,null,C.mode,T),T.ref=ol(C,null,z),T.return=C,T;case Ui:return z=dh(z,C.mode,T),z.return=C,z;case rn:var W=z._init;return N(C,W(z._payload),T)}if(pl(z)||sl(z))return z=ci(z,C.mode,T,null),z.return=C,z;Rd(C,z)}return null}function k(C,z,T,W){var $=z!==null?z.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return $!==null?null:c(C,z,""+T,W);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wd:return T.key===$?d(C,z,T,W):null;case Ui:return T.key===$?m(C,z,T,W):null;case rn:return $=T._init,k(C,z,$(T._payload),W)}if(pl(T)||sl(T))return $!==null?null:p(C,z,T,W,null);Rd(C,T)}return null}function I(C,z,T,W,$){if(typeof W=="string"&&W!==""||typeof W=="number")return C=C.get(T)||null,c(z,C,""+W,$);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case wd:return C=C.get(W.key===null?T:W.key)||null,d(z,C,W,$);case Ui:return C=C.get(W.key===null?T:W.key)||null,m(z,C,W,$);case rn:var U=W._init;return I(C,z,T,U(W._payload),$)}if(pl(W)||sl(W))return C=C.get(T)||null,p(z,C,W,$,null);Rd(z,W)}return null}function h(C,z,T,W){for(var $=null,U=null,A=z,u=z=0,F=null;A!==null&&u<T.length;u++){A.index>u?(F=A,A=null):F=A.sibling;var B=k(C,A,T[u],W);if(B===null){A===null&&(A=F);break}s&&A&&B.alternate===null&&t(C,A),z=l(B,z,u),U===null?$=B:U.sibling=B,U=B,A=F}if(u===T.length)return r(C,A),es&&Xn(C,u),$;if(A===null){for(;u<T.length;u++)A=N(C,T[u],W),A!==null&&(z=l(A,z,u),U===null?$=A:U.sibling=A,U=A);return es&&Xn(C,u),$}for(A=a(C,A);u<T.length;u++)F=I(A,C,u,T[u],W),F!==null&&(s&&F.alternate!==null&&A.delete(F.key===null?u:F.key),z=l(F,z,u),U===null?$=F:U.sibling=F,U=F);return s&&A.forEach(function(Q){return t(C,Q)}),es&&Xn(C,u),$}function V(C,z,T,W){var $=sl(T);if(typeof $!="function")throw Error(De(150));if(T=$.call(T),T==null)throw Error(De(151));for(var U=$=null,A=z,u=z=0,F=null,B=T.next();A!==null&&!B.done;u++,B=T.next()){A.index>u?(F=A,A=null):F=A.sibling;var Q=k(C,A,B.value,W);if(Q===null){A===null&&(A=F);break}s&&A&&Q.alternate===null&&t(C,A),z=l(Q,z,u),U===null?$=Q:U.sibling=Q,U=Q,A=F}if(B.done)return r(C,A),es&&Xn(C,u),$;if(A===null){for(;!B.done;u++,B=T.next())B=N(C,B.value,W),B!==null&&(z=l(B,z,u),U===null?$=B:U.sibling=B,U=B);return es&&Xn(C,u),$}for(A=a(C,A);!B.done;u++,B=T.next())B=I(A,C,u,B.value,W),B!==null&&(s&&B.alternate!==null&&A.delete(B.key===null?u:B.key),z=l(B,z,u),U===null?$=B:U.sibling=B,U=B);return s&&A.forEach(function(D){return t(C,D)}),es&&Xn(C,u),$}function w(C,z,T,W){if(typeof T=="object"&&T!==null&&T.type===$i&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case wd:e:{for(var $=T.key,U=z;U!==null;){if(U.key===$){if($=T.type,$===$i){if(U.tag===7){r(C,U.sibling),z=n(U,T.props.children),z.return=C,C=z;break e}}else if(U.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===rn&&qb($)===U.type){r(C,U.sibling),z=n(U,T.props),z.ref=ol(C,U,T),z.return=C,C=z;break e}r(C,U);break}else t(C,U);U=U.sibling}T.type===$i?(z=ci(T.props.children,C.mode,W,T.key),z.return=C,C=z):(W=du(T.type,T.key,T.props,null,C.mode,W),W.ref=ol(C,z,T),W.return=C,C=W)}return o(C);case Ui:e:{for(U=T.key;z!==null;){if(z.key===U)if(z.tag===4&&z.stateNode.containerInfo===T.containerInfo&&z.stateNode.implementation===T.implementation){r(C,z.sibling),z=n(z,T.children||[]),z.return=C,C=z;break e}else{r(C,z);break}else t(C,z);z=z.sibling}z=dh(T,C.mode,W),z.return=C,C=z}return o(C);case rn:return U=T._init,w(C,z,U(T._payload),W)}if(pl(T))return h(C,z,T,W);if(sl(T))return V(C,z,T,W);Rd(C,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,z!==null&&z.tag===6?(r(C,z.sibling),z=n(z,T),z.return=C,C=z):(r(C,z),z=ch(T,C.mode,W),z.return=C,C=z),o(C)):r(C,z)}return w}var jo=B5(!0),F5=B5(!1),Bu=Bn(null),Fu=null,Xi=null,Jp=null;function Zp(){Jp=Xi=Fu=null}function ef(s){var t=Bu.current;Zt(Bu),s._currentValue=t}function g0(s,t,r){for(;s!==null;){var a=s.alternate;if((s.childLanes&t)!==t?(s.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),s===r)break;s=s.return}}function mo(s,t){Fu=s,Jp=Xi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&t&&(dr=!0),s.firstContext=null)}function Vr(s){var t=s._currentValue;if(Jp!==s)if(s={context:s,memoizedValue:t,next:null},Xi===null){if(Fu===null)throw Error(De(308));Xi=s,Fu.dependencies={lanes:0,firstContext:s}}else Xi=Xi.next=s;return t}var si=null;function tf(s){si===null?si=[s]:si.push(s)}function U5(s,t,r,a){var n=t.interleaved;return n===null?(r.next=r,tf(t)):(r.next=n.next,n.next=r),t.interleaved=r,za(s,a)}function za(s,t){s.lanes|=t;var r=s.alternate;for(r!==null&&(r.lanes|=t),r=s,s=s.return;s!==null;)s.childLanes|=t,r=s.alternate,r!==null&&(r.childLanes|=t),r=s,s=s.return;return r.tag===3?r.stateNode:null}var an=!1;function sf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $5(s,t){s=s.updateQueue,t.updateQueue===s&&(t.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Aa(s,t){return{eventTime:s,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(s,t,r){var a=s.updateQueue;if(a===null)return null;if(a=a.shared,At&2){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,za(s,r)}return n=a.interleaved,n===null?(t.next=t,tf(a)):(t.next=n.next,n.next=t),a.interleaved=t,za(s,r)}function au(s,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=s.pendingLanes,r|=a,t.lanes=r,Fp(s,r)}}function Wb(s,t){var r=s.updateQueue,a=s.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?n=l=o:l=l.next=o,r=r.next}while(r!==null);l===null?n=l=t:l=l.next=t}else n=l=t;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:a.shared,effects:a.effects},s.updateQueue=r;return}s=r.lastBaseUpdate,s===null?r.firstBaseUpdate=t:s.next=t,r.lastBaseUpdate=t}function Uu(s,t,r,a){var n=s.updateQueue;an=!1;var l=n.firstBaseUpdate,o=n.lastBaseUpdate,c=n.shared.pending;if(c!==null){n.shared.pending=null;var d=c,m=d.next;d.next=null,o===null?l=m:o.next=m,o=d;var p=s.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==o&&(c===null?p.firstBaseUpdate=m:c.next=m,p.lastBaseUpdate=d))}if(l!==null){var N=n.baseState;o=0,p=m=d=null,c=l;do{var k=c.lane,I=c.eventTime;if((a&k)===k){p!==null&&(p=p.next={eventTime:I,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var h=s,V=c;switch(k=t,I=r,V.tag){case 1:if(h=V.payload,typeof h=="function"){N=h.call(I,N,k);break e}N=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=V.payload,k=typeof h=="function"?h.call(I,N,k):h,k==null)break e;N=ls({},N,k);break e;case 2:an=!0}}c.callback!==null&&c.lane!==0&&(s.flags|=64,k=n.effects,k===null?n.effects=[c]:k.push(c))}else I={eventTime:I,lane:k,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(m=p=I,d=N):p=p.next=I,o|=k;if(c=c.next,c===null){if(c=n.shared.pending,c===null)break;k=c,c=k.next,k.next=null,n.lastBaseUpdate=k,n.shared.pending=null}}while(1);if(p===null&&(d=N),n.baseState=d,n.firstBaseUpdate=m,n.lastBaseUpdate=p,t=n.shared.interleaved,t!==null){n=t;do o|=n.lane,n=n.next;while(n!==t)}else l===null&&(n.shared.lanes=0);fi|=o,s.lanes=o,s.memoizedState=N}}function Gb(s,t,r){if(s=t.effects,t.effects=null,s!==null)for(t=0;t<s.length;t++){var a=s[t],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(De(191,n));n.call(a)}}}var zc={},ca=Bn(zc),nc=Bn(zc),ic=Bn(zc);function ri(s){if(s===zc)throw Error(De(174));return s}function rf(s,t){switch(Kt(ic,t),Kt(nc,s),Kt(ca,zc),s=t.nodeType,s){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xh(null,"");break;default:s=s===8?t.parentNode:t,t=s.namespaceURI||null,s=s.tagName,t=Xh(t,s)}Zt(ca),Kt(ca,t)}function No(){Zt(ca),Zt(nc),Zt(ic)}function q5(s){ri(ic.current);var t=ri(ca.current),r=Xh(t,s.type);t!==r&&(Kt(nc,s),Kt(ca,r))}function af(s){nc.current===s&&(Zt(ca),Zt(nc))}var ss=Bn(0);function $u(s){for(var t=s;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rh=[];function nf(){for(var s=0;s<rh.length;s++)rh[s]._workInProgressVersionPrimary=null;rh.length=0}var nu=Ha.ReactCurrentDispatcher,ah=Ha.ReactCurrentBatchConfig,pi=0,as=null,js=null,Es=null,qu=!1,Tl=!1,oc=0,lI=0;function Us(){throw Error(De(321))}function of(s,t){if(t===null)return!1;for(var r=0;r<t.length&&r<s.length;r++)if(!Jr(s[r],t[r]))return!1;return!0}function lf(s,t,r,a,n,l){if(pi=l,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nu.current=s===null||s.memoizedState===null?mI:xI,s=r(a,n),Tl){l=0;do{if(Tl=!1,oc=0,25<=l)throw Error(De(301));l+=1,Es=js=null,t.updateQueue=null,nu.current=hI,s=r(a,n)}while(Tl)}if(nu.current=Wu,t=js!==null&&js.next!==null,pi=0,Es=js=as=null,qu=!1,t)throw Error(De(300));return s}function cf(){var s=oc!==0;return oc=0,s}function aa(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Es===null?as.memoizedState=Es=s:Es=Es.next=s,Es}function zr(){if(js===null){var s=as.alternate;s=s!==null?s.memoizedState:null}else s=js.next;var t=Es===null?as.memoizedState:Es.next;if(t!==null)Es=t,js=s;else{if(s===null)throw Error(De(310));js=s,s={memoizedState:js.memoizedState,baseState:js.baseState,baseQueue:js.baseQueue,queue:js.queue,next:null},Es===null?as.memoizedState=Es=s:Es=Es.next=s}return Es}function lc(s,t){return typeof t=="function"?t(s):t}function nh(s){var t=zr(),r=t.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=s;var a=js,n=a.baseQueue,l=r.pending;if(l!==null){if(n!==null){var o=n.next;n.next=l.next,l.next=o}a.baseQueue=n=l,r.pending=null}if(n!==null){l=n.next,a=a.baseState;var c=o=null,d=null,m=l;do{var p=m.lane;if((pi&p)===p)d!==null&&(d=d.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),a=m.hasEagerState?m.eagerState:s(a,m.action);else{var N={lane:p,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};d===null?(c=d=N,o=a):d=d.next=N,as.lanes|=p,fi|=p}m=m.next}while(m!==null&&m!==l);d===null?o=a:d.next=c,Jr(a,t.memoizedState)||(dr=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=d,r.lastRenderedState=a}if(s=r.interleaved,s!==null){n=s;do l=n.lane,as.lanes|=l,fi|=l,n=n.next;while(n!==s)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ih(s){var t=zr(),r=t.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=s;var a=r.dispatch,n=r.pending,l=t.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do l=s(l,o.action),o=o.next;while(o!==n);Jr(l,t.memoizedState)||(dr=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,a]}function W5(){}function G5(s,t){var r=as,a=zr(),n=t(),l=!Jr(a.memoizedState,n);if(l&&(a.memoizedState=n,dr=!0),a=a.queue,df(Q5.bind(null,r,a,s),[s]),a.getSnapshot!==t||l||Es!==null&&Es.memoizedState.tag&1){if(r.flags|=2048,cc(9,K5.bind(null,r,a,n,t),void 0,null),Ps===null)throw Error(De(349));pi&30||H5(r,t,n)}return n}function H5(s,t,r){s.flags|=16384,s={getSnapshot:t,value:r},t=as.updateQueue,t===null?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[s]):(r=t.stores,r===null?t.stores=[s]:r.push(s))}function K5(s,t,r,a){t.value=r,t.getSnapshot=a,Y5(t)&&X5(s)}function Q5(s,t,r){return r(function(){Y5(t)&&X5(s)})}function Y5(s){var t=s.getSnapshot;s=s.value;try{var r=t();return!Jr(s,r)}catch{return!0}}function X5(s){var t=za(s,1);t!==null&&Xr(t,s,1,-1)}function Hb(s){var t=aa();return typeof s=="function"&&(s=s()),t.memoizedState=t.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:s},t.queue=s,s=s.dispatch=uI.bind(null,as,s),[t.memoizedState,s]}function cc(s,t,r,a){return s={tag:s,create:t,destroy:r,deps:a,next:null},t=as.updateQueue,t===null?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=s.next=s):(r=t.lastEffect,r===null?t.lastEffect=s.next=s:(a=r.next,r.next=s,s.next=a,t.lastEffect=s)),s}function J5(){return zr().memoizedState}function iu(s,t,r,a){var n=aa();as.flags|=s,n.memoizedState=cc(1|t,r,void 0,a===void 0?null:a)}function zm(s,t,r,a){var n=zr();a=a===void 0?null:a;var l=void 0;if(js!==null){var o=js.memoizedState;if(l=o.destroy,a!==null&&of(a,o.deps)){n.memoizedState=cc(t,r,l,a);return}}as.flags|=s,n.memoizedState=cc(1|t,r,l,a)}function Kb(s,t){return iu(8390656,8,s,t)}function df(s,t){return zm(2048,8,s,t)}function Z5(s,t){return zm(4,2,s,t)}function e2(s,t){return zm(4,4,s,t)}function t2(s,t){if(typeof t=="function")return s=s(),t(s),function(){t(null)};if(t!=null)return s=s(),t.current=s,function(){t.current=null}}function s2(s,t,r){return r=r!=null?r.concat([s]):null,zm(4,4,t2.bind(null,t,s),r)}function uf(){}function r2(s,t){var r=zr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&of(t,a[1])?a[0]:(r.memoizedState=[s,t],s)}function a2(s,t){var r=zr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&of(t,a[1])?a[0]:(s=s(),r.memoizedState=[s,t],s)}function n2(s,t,r){return pi&21?(Jr(r,t)||(r=d5(),as.lanes|=r,fi|=r,s.baseState=!0),t):(s.baseState&&(s.baseState=!1,dr=!0),s.memoizedState=r)}function cI(s,t){var r=zt;zt=r!==0&&4>r?r:4,s(!0);var a=ah.transition;ah.transition={};try{s(!1),t()}finally{zt=r,ah.transition=a}}function i2(){return zr().memoizedState}function dI(s,t,r){var a=Nn(s);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},o2(s))l2(t,r);else if(r=U5(s,t,r,a),r!==null){var n=rr();Xr(r,s,a,n),c2(r,t,a)}}function uI(s,t,r){var a=Nn(s),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(o2(s))l2(t,n);else{var l=s.alternate;if(s.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,c=l(o,r);if(n.hasEagerState=!0,n.eagerState=c,Jr(c,o)){var d=t.interleaved;d===null?(n.next=n,tf(t)):(n.next=d.next,d.next=n),t.interleaved=n;return}}catch{}finally{}r=U5(s,t,n,a),r!==null&&(n=rr(),Xr(r,s,a,n),c2(r,t,a))}}function o2(s){var t=s.alternate;return s===as||t!==null&&t===as}function l2(s,t){Tl=qu=!0;var r=s.pending;r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t}function c2(s,t,r){if(r&4194240){var a=t.lanes;a&=s.pendingLanes,r|=a,t.lanes=r,Fp(s,r)}}var Wu={readContext:Vr,useCallback:Us,useContext:Us,useEffect:Us,useImperativeHandle:Us,useInsertionEffect:Us,useLayoutEffect:Us,useMemo:Us,useReducer:Us,useRef:Us,useState:Us,useDebugValue:Us,useDeferredValue:Us,useTransition:Us,useMutableSource:Us,useSyncExternalStore:Us,useId:Us,unstable_isNewReconciler:!1},mI={readContext:Vr,useCallback:function(s,t){return aa().memoizedState=[s,t===void 0?null:t],s},useContext:Vr,useEffect:Kb,useImperativeHandle:function(s,t,r){return r=r!=null?r.concat([s]):null,iu(4194308,4,t2.bind(null,t,s),r)},useLayoutEffect:function(s,t){return iu(4194308,4,s,t)},useInsertionEffect:function(s,t){return iu(4,2,s,t)},useMemo:function(s,t){var r=aa();return t=t===void 0?null:t,s=s(),r.memoizedState=[s,t],s},useReducer:function(s,t,r){var a=aa();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:t},a.queue=s,s=s.dispatch=dI.bind(null,as,s),[a.memoizedState,s]},useRef:function(s){var t=aa();return s={current:s},t.memoizedState=s},useState:Hb,useDebugValue:uf,useDeferredValue:function(s){return aa().memoizedState=s},useTransition:function(){var s=Hb(!1),t=s[0];return s=cI.bind(null,s[1]),aa().memoizedState=s,[t,s]},useMutableSource:function(){},useSyncExternalStore:function(s,t,r){var a=as,n=aa();if(es){if(r===void 0)throw Error(De(407));r=r()}else{if(r=t(),Ps===null)throw Error(De(349));pi&30||H5(a,t,r)}n.memoizedState=r;var l={value:r,getSnapshot:t};return n.queue=l,Kb(Q5.bind(null,a,l,s),[s]),a.flags|=2048,cc(9,K5.bind(null,a,l,r,t),void 0,null),r},useId:function(){var s=aa(),t=Ps.identifierPrefix;if(es){var r=Ta,a=Pa;r=(a&~(1<<32-Yr(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=oc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=lI++,t=":"+t+"r"+r.toString(32)+":";return s.memoizedState=t},unstable_isNewReconciler:!1},xI={readContext:Vr,useCallback:r2,useContext:Vr,useEffect:df,useImperativeHandle:s2,useInsertionEffect:Z5,useLayoutEffect:e2,useMemo:a2,useReducer:nh,useRef:J5,useState:function(){return nh(lc)},useDebugValue:uf,useDeferredValue:function(s){var t=zr();return n2(t,js.memoizedState,s)},useTransition:function(){var s=nh(lc)[0],t=zr().memoizedState;return[s,t]},useMutableSource:W5,useSyncExternalStore:G5,useId:i2,unstable_isNewReconciler:!1},hI={readContext:Vr,useCallback:r2,useContext:Vr,useEffect:df,useImperativeHandle:s2,useInsertionEffect:Z5,useLayoutEffect:e2,useMemo:a2,useReducer:ih,useRef:J5,useState:function(){return ih(lc)},useDebugValue:uf,useDeferredValue:function(s){var t=zr();return js===null?t.memoizedState=s:n2(t,js.memoizedState,s)},useTransition:function(){var s=ih(lc)[0],t=zr().memoizedState;return[s,t]},useMutableSource:W5,useSyncExternalStore:G5,useId:i2,unstable_isNewReconciler:!1};function Wr(s,t){if(s&&s.defaultProps){t=ls({},t),s=s.defaultProps;for(var r in s)t[r]===void 0&&(t[r]=s[r]);return t}return t}function y0(s,t,r,a){t=s.memoizedState,r=r(a,t),r=r==null?t:ls({},t,r),s.memoizedState=r,s.lanes===0&&(s.updateQueue.baseState=r)}var Lm={isMounted:function(s){return(s=s._reactInternals)?Ci(s)===s:!1},enqueueSetState:function(s,t,r){s=s._reactInternals;var a=rr(),n=Nn(s),l=Aa(a,n);l.payload=t,r!=null&&(l.callback=r),t=vn(s,l,n),t!==null&&(Xr(t,s,n,a),au(t,s,n))},enqueueReplaceState:function(s,t,r){s=s._reactInternals;var a=rr(),n=Nn(s),l=Aa(a,n);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=vn(s,l,n),t!==null&&(Xr(t,s,n,a),au(t,s,n))},enqueueForceUpdate:function(s,t){s=s._reactInternals;var r=rr(),a=Nn(s),n=Aa(r,a);n.tag=2,t!=null&&(n.callback=t),t=vn(s,n,a),t!==null&&(Xr(t,s,a,r),au(t,s,a))}};function Qb(s,t,r,a,n,l,o){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(a,l,o):t.prototype&&t.prototype.isPureReactComponent?!tc(r,a)||!tc(n,l):!0}function d2(s,t,r){var a=!1,n=Pn,l=t.contextType;return typeof l=="object"&&l!==null?l=Vr(l):(n=xr(t)?xi:Qs.current,a=t.contextTypes,l=(a=a!=null)?bo(s,n):Pn),t=new t(r,l),s.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lm,s.stateNode=t,t._reactInternals=s,a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=n,s.__reactInternalMemoizedMaskedChildContext=l),t}function Yb(s,t,r,a){s=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==s&&Lm.enqueueReplaceState(t,t.state,null)}function b0(s,t,r,a){var n=s.stateNode;n.props=r,n.state=s.memoizedState,n.refs={},sf(s);var l=t.contextType;typeof l=="object"&&l!==null?n.context=Vr(l):(l=xr(t)?xi:Qs.current,n.context=bo(s,l)),n.state=s.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(y0(s,t,l,r),n.state=s.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&Lm.enqueueReplaceState(n,n.state,null),Uu(s,r,n,a),n.state=s.memoizedState),typeof n.componentDidMount=="function"&&(s.flags|=4194308)}function wo(s,t){try{var r="",a=t;do r+=UC(a),a=a.return;while(a);var n=r}catch(l){n=`
Error generating stack: `+l.message+`
`+l.stack}return{value:s,source:t,stack:n,digest:null}}function oh(s,t,r){return{value:s,source:null,stack:r??null,digest:t??null}}function v0(s,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pI=typeof WeakMap=="function"?WeakMap:Map;function u2(s,t,r){r=Aa(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Hu||(Hu=!0,T0=a),v0(s,t)},r}function m2(s,t,r){r=Aa(-1,r),r.tag=3;var a=s.type.getDerivedStateFromError;if(typeof a=="function"){var n=t.value;r.payload=function(){return a(n)},r.callback=function(){v0(s,t)}}var l=s.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){v0(s,t),typeof a!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Xb(s,t,r){var a=s.pingCache;if(a===null){a=s.pingCache=new pI;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(r)||(n.add(r),s=PI.bind(null,s,t,r),t.then(s,s))}function Jb(s){do{var t;if((t=s.tag===13)&&(t=s.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return s;s=s.return}while(s!==null);return null}function Zb(s,t,r,a,n){return s.mode&1?(s.flags|=65536,s.lanes=n,s):(s===t?s.flags|=65536:(s.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Aa(-1,1),t.tag=2,vn(r,t,1))),r.lanes|=1),s)}var fI=Ha.ReactCurrentOwner,dr=!1;function er(s,t,r,a){t.child=s===null?F5(t,null,r,a):jo(t,s.child,r,a)}function ev(s,t,r,a,n){r=r.render;var l=t.ref;return mo(t,n),a=lf(s,t,r,a,l,n),r=cf(),s!==null&&!dr?(t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~n,La(s,t,n)):(es&&r&&Qp(t),t.flags|=1,er(s,t,a,n),t.child)}function tv(s,t,r,a,n){if(s===null){var l=r.type;return typeof l=="function"&&!bf(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,x2(s,t,l,a,n)):(s=du(r.type,null,a,t,t.mode,n),s.ref=t.ref,s.return=t,t.child=s)}if(l=s.child,!(s.lanes&n)){var o=l.memoizedProps;if(r=r.compare,r=r!==null?r:tc,r(o,a)&&s.ref===t.ref)return La(s,t,n)}return t.flags|=1,s=wn(l,a),s.ref=t.ref,s.return=t,t.child=s}function x2(s,t,r,a,n){if(s!==null){var l=s.memoizedProps;if(tc(l,a)&&s.ref===t.ref)if(dr=!1,t.pendingProps=a=l,(s.lanes&n)!==0)s.flags&131072&&(dr=!0);else return t.lanes=s.lanes,La(s,t,n)}return j0(s,t,r,a,n)}function h2(s,t,r){var a=t.pendingProps,n=a.children,l=s!==null?s.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(Zi,br),br|=r;else{if(!(r&1073741824))return s=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:s,cachePool:null,transitions:null},t.updateQueue=null,Kt(Zi,br),br|=s,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:r,Kt(Zi,br),br|=a}else l!==null?(a=l.baseLanes|r,t.memoizedState=null):a=r,Kt(Zi,br),br|=a;return er(s,t,n,r),t.child}function p2(s,t){var r=t.ref;(s===null&&r!==null||s!==null&&s.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function j0(s,t,r,a,n){var l=xr(r)?xi:Qs.current;return l=bo(t,l),mo(t,n),r=lf(s,t,r,a,l,n),a=cf(),s!==null&&!dr?(t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~n,La(s,t,n)):(es&&a&&Qp(t),t.flags|=1,er(s,t,r,n),t.child)}function sv(s,t,r,a,n){if(xr(r)){var l=!0;Vu(t)}else l=!1;if(mo(t,n),t.stateNode===null)ou(s,t),d2(t,r,a),b0(t,r,a,n),a=!0;else if(s===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var d=o.context,m=r.contextType;typeof m=="object"&&m!==null?m=Vr(m):(m=xr(r)?xi:Qs.current,m=bo(t,m));var p=r.getDerivedStateFromProps,N=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";N||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==a||d!==m)&&Yb(t,o,a,m),an=!1;var k=t.memoizedState;o.state=k,Uu(t,a,o,n),d=t.memoizedState,c!==a||k!==d||mr.current||an?(typeof p=="function"&&(y0(t,r,p,a),d=t.memoizedState),(c=an||Qb(t,r,c,a,k,d,m))?(N||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=d),o.props=a,o.state=d,o.context=m,a=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,$5(s,t),c=t.memoizedProps,m=t.type===t.elementType?c:Wr(t.type,c),o.props=m,N=t.pendingProps,k=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=Vr(d):(d=xr(r)?xi:Qs.current,d=bo(t,d));var I=r.getDerivedStateFromProps;(p=typeof I=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==N||k!==d)&&Yb(t,o,a,d),an=!1,k=t.memoizedState,o.state=k,Uu(t,a,o,n);var h=t.memoizedState;c!==N||k!==h||mr.current||an?(typeof I=="function"&&(y0(t,r,I,a),h=t.memoizedState),(m=an||Qb(t,r,m,a,k,h,d)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,h,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,h,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===s.memoizedProps&&k===s.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===s.memoizedProps&&k===s.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),o.props=a,o.state=h,o.context=d,a=m):(typeof o.componentDidUpdate!="function"||c===s.memoizedProps&&k===s.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===s.memoizedProps&&k===s.memoizedState||(t.flags|=1024),a=!1)}return N0(s,t,r,a,l,n)}function N0(s,t,r,a,n,l){p2(s,t);var o=(t.flags&128)!==0;if(!a&&!o)return n&&Fb(t,r,!1),La(s,t,l);a=t.stateNode,fI.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,s!==null&&o?(t.child=jo(t,s.child,null,l),t.child=jo(t,null,c,l)):er(s,t,c,l),t.memoizedState=a.state,n&&Fb(t,r,!0),t.child}function f2(s){var t=s.stateNode;t.pendingContext?Bb(s,t.pendingContext,t.pendingContext!==t.context):t.context&&Bb(s,t.context,!1),rf(s,t.containerInfo)}function rv(s,t,r,a,n){return vo(),Xp(n),t.flags|=256,er(s,t,r,a),t.child}var w0={dehydrated:null,treeContext:null,retryLane:0};function k0(s){return{baseLanes:s,cachePool:null,transitions:null}}function g2(s,t,r){var a=t.pendingProps,n=ss.current,l=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=s!==null&&s.memoizedState===null?!1:(n&2)!==0),c?(l=!0,t.flags&=-129):(s===null||s.memoizedState!==null)&&(n|=1),Kt(ss,n&1),s===null)return f0(t),s=t.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(t.mode&1?s.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,s=a.fallback,l?(a=t.mode,l=t.child,o={mode:"hidden",children:o},!(a&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Um(o,a,0,null),s=ci(s,a,r,null),l.return=t,s.return=t,l.sibling=s,t.child=l,t.child.memoizedState=k0(r),t.memoizedState=w0,s):mf(t,o));if(n=s.memoizedState,n!==null&&(c=n.dehydrated,c!==null))return gI(s,t,o,a,c,n,r);if(l){l=a.fallback,o=t.mode,n=s.child,c=n.sibling;var d={mode:"hidden",children:a.children};return!(o&1)&&t.child!==n?(a=t.child,a.childLanes=0,a.pendingProps=d,t.deletions=null):(a=wn(n,d),a.subtreeFlags=n.subtreeFlags&14680064),c!==null?l=wn(c,l):(l=ci(l,o,r,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,o=s.child.memoizedState,o=o===null?k0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=s.childLanes&~r,t.memoizedState=w0,a}return l=s.child,s=l.sibling,a=wn(l,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,s!==null&&(r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)),t.child=a,t.memoizedState=null,a}function mf(s,t){return t=Um({mode:"visible",children:t},s.mode,0,null),t.return=s,s.child=t}function Md(s,t,r,a){return a!==null&&Xp(a),jo(t,s.child,null,r),s=mf(t,t.pendingProps.children),s.flags|=2,t.memoizedState=null,s}function gI(s,t,r,a,n,l,o){if(r)return t.flags&256?(t.flags&=-257,a=oh(Error(De(422))),Md(s,t,o,a)):t.memoizedState!==null?(t.child=s.child,t.flags|=128,null):(l=a.fallback,n=t.mode,a=Um({mode:"visible",children:a.children},n,0,null),l=ci(l,n,o,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,t.mode&1&&jo(t,s.child,null,o),t.child.memoizedState=k0(o),t.memoizedState=w0,l);if(!(t.mode&1))return Md(s,t,o,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var c=a.dgst;return a=c,l=Error(De(419)),a=oh(l,a,void 0),Md(s,t,o,a)}if(c=(o&s.childLanes)!==0,dr||c){if(a=Ps,a!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|o)?0:n,n!==0&&n!==l.retryLane&&(l.retryLane=n,za(s,n),Xr(a,s,n,-1))}return yf(),a=oh(Error(De(421))),Md(s,t,o,a)}return n.data==="$?"?(t.flags|=128,t.child=s.child,t=TI.bind(null,s),n._reactRetry=t,null):(s=l.treeContext,jr=bn(n.nextSibling),wr=t,es=!0,Hr=null,s!==null&&(_r[Dr++]=Pa,_r[Dr++]=Ta,_r[Dr++]=hi,Pa=s.id,Ta=s.overflow,hi=t),t=mf(t,a.children),t.flags|=4096,t)}function av(s,t,r){s.lanes|=t;var a=s.alternate;a!==null&&(a.lanes|=t),g0(s.return,t,r)}function lh(s,t,r,a,n){var l=s.memoizedState;l===null?s.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=r,l.tailMode=n)}function y2(s,t,r){var a=t.pendingProps,n=a.revealOrder,l=a.tail;if(er(s,t,a.children,r),a=ss.current,a&2)a=a&1|2,t.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=t.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&av(s,r,t);else if(s.tag===19)av(s,r,t);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a&=1}if(Kt(ss,a),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)s=r.alternate,s!==null&&$u(s)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),lh(t,!1,n,r,l);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(s=n.alternate,s!==null&&$u(s)===null){t.child=n;break}s=n.sibling,n.sibling=r,r=n,n=s}lh(t,!0,r,null,l);break;case"together":lh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ou(s,t){!(t.mode&1)&&s!==null&&(s.alternate=null,t.alternate=null,t.flags|=2)}function La(s,t,r){if(s!==null&&(t.dependencies=s.dependencies),fi|=t.lanes,!(r&t.childLanes))return null;if(s!==null&&t.child!==s.child)throw Error(De(153));if(t.child!==null){for(s=t.child,r=wn(s,s.pendingProps),t.child=r,r.return=t;s.sibling!==null;)s=s.sibling,r=r.sibling=wn(s,s.pendingProps),r.return=t;r.sibling=null}return t.child}function yI(s,t,r){switch(t.tag){case 3:f2(t),vo();break;case 5:q5(t);break;case 1:xr(t.type)&&Vu(t);break;case 4:rf(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;Kt(Bu,a._currentValue),a._currentValue=n;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Kt(ss,ss.current&1),t.flags|=128,null):r&t.child.childLanes?g2(s,t,r):(Kt(ss,ss.current&1),s=La(s,t,r),s!==null?s.sibling:null);Kt(ss,ss.current&1);break;case 19:if(a=(r&t.childLanes)!==0,s.flags&128){if(a)return y2(s,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Kt(ss,ss.current),a)break;return null;case 22:case 23:return t.lanes=0,h2(s,t,r)}return La(s,t,r)}var b2,S0,v2,j2;b2=function(s,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};S0=function(){};v2=function(s,t,r,a){var n=s.memoizedProps;if(n!==a){s=t.stateNode,ri(ca.current);var l=null;switch(r){case"input":n=Hh(s,n),a=Hh(s,a),l=[];break;case"select":n=ls({},n,{value:void 0}),a=ls({},a,{value:void 0}),l=[];break;case"textarea":n=Yh(s,n),a=Yh(s,a),l=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(s.onclick=Mu)}Jh(r,a);var o;r=null;for(m in n)if(!a.hasOwnProperty(m)&&n.hasOwnProperty(m)&&n[m]!=null)if(m==="style"){var c=n[m];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Kl.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in a){var d=a[m];if(c=n!=null?n[m]:void 0,a.hasOwnProperty(m)&&d!==c&&(d!=null||c!=null))if(m==="style")if(c){for(o in c)!c.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&c[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(l||(l=[]),l.push(m,r)),r=d;else m==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(l=l||[]).push(m,d)):m==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(m,""+d):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(m)?(d!=null&&m==="onScroll"&&Jt("scroll",s),l||c===d||(l=[])):(l=l||[]).push(m,d))}r&&(l=l||[]).push("style",r);var m=l;(t.updateQueue=m)&&(t.flags|=4)}};j2=function(s,t,r,a){r!==a&&(t.flags|=4)};function ll(s,t){if(!es)switch(s.tailMode){case"hidden":t=s.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?s.tail=null:r.sibling=null;break;case"collapsed":r=s.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||s.tail===null?s.tail=null:s.tail.sibling=null:a.sibling=null}}function $s(s){var t=s.alternate!==null&&s.alternate.child===s.child,r=0,a=0;if(t)for(var n=s.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=s,n=n.sibling;else for(n=s.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=s,n=n.sibling;return s.subtreeFlags|=a,s.childLanes=r,t}function bI(s,t,r){var a=t.pendingProps;switch(Yp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(t),null;case 1:return xr(t.type)&&Ou(),$s(t),null;case 3:return a=t.stateNode,No(),Zt(mr),Zt(Qs),nf(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(Ad(t)?t.flags|=4:s===null||s.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hr!==null&&(A0(Hr),Hr=null))),S0(s,t),$s(t),null;case 5:af(t);var n=ri(ic.current);if(r=t.type,s!==null&&t.stateNode!=null)v2(s,t,r,a,n),s.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(De(166));return $s(t),null}if(s=ri(ca.current),Ad(t)){a=t.stateNode,r=t.type;var l=t.memoizedProps;switch(a[ia]=t,a[ac]=l,s=(t.mode&1)!==0,r){case"dialog":Jt("cancel",a),Jt("close",a);break;case"iframe":case"object":case"embed":Jt("load",a);break;case"video":case"audio":for(n=0;n<gl.length;n++)Jt(gl[n],a);break;case"source":Jt("error",a);break;case"img":case"image":case"link":Jt("error",a),Jt("load",a);break;case"details":Jt("toggle",a);break;case"input":xb(a,l),Jt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},Jt("invalid",a);break;case"textarea":pb(a,l),Jt("invalid",a)}Jh(r,l),n=null;for(var o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="children"?typeof c=="string"?a.textContent!==c&&(l.suppressHydrationWarning!==!0&&Dd(a.textContent,c,s),n=["children",c]):typeof c=="number"&&a.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Dd(a.textContent,c,s),n=["children",""+c]):Kl.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Jt("scroll",a)}switch(r){case"input":kd(a),hb(a,l,!0);break;case"textarea":kd(a),fb(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=Mu)}a=n,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Qw(r)),s==="http://www.w3.org/1999/xhtml"?r==="script"?(s=o.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof a.is=="string"?s=o.createElement(r,{is:a.is}):(s=o.createElement(r),r==="select"&&(o=s,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):s=o.createElementNS(s,r),s[ia]=t,s[ac]=a,b2(s,t,!1,!1),t.stateNode=s;e:{switch(o=Zh(r,a),r){case"dialog":Jt("cancel",s),Jt("close",s),n=a;break;case"iframe":case"object":case"embed":Jt("load",s),n=a;break;case"video":case"audio":for(n=0;n<gl.length;n++)Jt(gl[n],s);n=a;break;case"source":Jt("error",s),n=a;break;case"img":case"image":case"link":Jt("error",s),Jt("load",s),n=a;break;case"details":Jt("toggle",s),n=a;break;case"input":xb(s,a),n=Hh(s,a),Jt("invalid",s);break;case"option":n=a;break;case"select":s._wrapperState={wasMultiple:!!a.multiple},n=ls({},a,{value:void 0}),Jt("invalid",s);break;case"textarea":pb(s,a),n=Yh(s,a),Jt("invalid",s);break;default:n=a}Jh(r,n),c=n;for(l in c)if(c.hasOwnProperty(l)){var d=c[l];l==="style"?Jw(s,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Yw(s,d)):l==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Ql(s,d):typeof d=="number"&&Ql(s,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Kl.hasOwnProperty(l)?d!=null&&l==="onScroll"&&Jt("scroll",s):d!=null&&Mp(s,l,d,o))}switch(r){case"input":kd(s),hb(s,a,!1);break;case"textarea":kd(s),fb(s);break;case"option":a.value!=null&&s.setAttribute("value",""+In(a.value));break;case"select":s.multiple=!!a.multiple,l=a.value,l!=null?oo(s,!!a.multiple,l,!1):a.defaultValue!=null&&oo(s,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(s.onclick=Mu)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $s(t),null;case 6:if(s&&t.stateNode!=null)j2(s,t,s.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(De(166));if(r=ri(ic.current),ri(ca.current),Ad(t)){if(a=t.stateNode,r=t.memoizedProps,a[ia]=t,(l=a.nodeValue!==r)&&(s=wr,s!==null))switch(s.tag){case 3:Dd(a.nodeValue,r,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Dd(a.nodeValue,r,(s.mode&1)!==0)}l&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[ia]=t,t.stateNode=a}return $s(t),null;case 13:if(Zt(ss),a=t.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(es&&jr!==null&&t.mode&1&&!(t.flags&128))L5(),vo(),t.flags|=98560,l=!1;else if(l=Ad(t),a!==null&&a.dehydrated!==null){if(s===null){if(!l)throw Error(De(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(De(317));l[ia]=t}else vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$s(t),l=!1}else Hr!==null&&(A0(Hr),Hr=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(s!==null&&s.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(s===null||ss.current&1?ws===0&&(ws=3):yf())),t.updateQueue!==null&&(t.flags|=4),$s(t),null);case 4:return No(),S0(s,t),s===null&&sc(t.stateNode.containerInfo),$s(t),null;case 10:return ef(t.type._context),$s(t),null;case 17:return xr(t.type)&&Ou(),$s(t),null;case 19:if(Zt(ss),l=t.memoizedState,l===null)return $s(t),null;if(a=(t.flags&128)!==0,o=l.rendering,o===null)if(a)ll(l,!1);else{if(ws!==0||s!==null&&s.flags&128)for(s=t.child;s!==null;){if(o=$u(s),o!==null){for(t.flags|=128,ll(l,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)l=r,s=a,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=s,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,s=o.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r=r.sibling;return Kt(ss,ss.current&1|2),t.child}s=s.sibling}l.tail!==null&&fs()>ko&&(t.flags|=128,a=!0,ll(l,!1),t.lanes=4194304)}else{if(!a)if(s=$u(o),s!==null){if(t.flags|=128,a=!0,r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!es)return $s(t),null}else 2*fs()-l.renderingStartTime>ko&&r!==1073741824&&(t.flags|=128,a=!0,ll(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(r=l.last,r!==null?r.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=fs(),t.sibling=null,r=ss.current,Kt(ss,a?r&1|2:r&1),t):($s(t),null);case 22:case 23:return gf(),a=t.memoizedState!==null,s!==null&&s.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?br&1073741824&&($s(t),t.subtreeFlags&6&&(t.flags|=8192)):$s(t),null;case 24:return null;case 25:return null}throw Error(De(156,t.tag))}function vI(s,t){switch(Yp(t),t.tag){case 1:return xr(t.type)&&Ou(),s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 3:return No(),Zt(mr),Zt(Qs),nf(),s=t.flags,s&65536&&!(s&128)?(t.flags=s&-65537|128,t):null;case 5:return af(t),null;case 13:if(Zt(ss),s=t.memoizedState,s!==null&&s.dehydrated!==null){if(t.alternate===null)throw Error(De(340));vo()}return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 19:return Zt(ss),null;case 4:return No(),null;case 10:return ef(t.type._context),null;case 22:case 23:return gf(),null;case 24:return null;default:return null}}var Od=!1,Hs=!1,jI=typeof WeakSet=="function"?WeakSet:Set,He=null;function Ji(s,t){var r=s.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){ms(s,t,a)}else r.current=null}function C0(s,t,r){try{r()}catch(a){ms(s,t,a)}}var nv=!1;function NI(s,t){if(c0=Du,s=C5(),Kp(s)){if("selectionStart"in s)var r={start:s.selectionStart,end:s.selectionEnd};else e:{r=(r=s.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var o=0,c=-1,d=-1,m=0,p=0,N=s,k=null;t:for(;;){for(var I;N!==r||n!==0&&N.nodeType!==3||(c=o+n),N!==l||a!==0&&N.nodeType!==3||(d=o+a),N.nodeType===3&&(o+=N.nodeValue.length),(I=N.firstChild)!==null;)k=N,N=I;for(;;){if(N===s)break t;if(k===r&&++m===n&&(c=o),k===l&&++p===a&&(d=o),(I=N.nextSibling)!==null)break;N=k,k=N.parentNode}N=I}r=c===-1||d===-1?null:{start:c,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(d0={focusedElem:s,selectionRange:r},Du=!1,He=t;He!==null;)if(t=He,s=t.child,(t.subtreeFlags&1028)!==0&&s!==null)s.return=t,He=s;else for(;He!==null;){t=He;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var V=h.memoizedProps,w=h.memoizedState,C=t.stateNode,z=C.getSnapshotBeforeUpdate(t.elementType===t.type?V:Wr(t.type,V),w);C.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(W){ms(t,t.return,W)}if(s=t.sibling,s!==null){s.return=t.return,He=s;break}He=t.return}return h=nv,nv=!1,h}function _l(s,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&s)===s){var l=n.destroy;n.destroy=void 0,l!==void 0&&C0(t,r,l)}n=n.next}while(n!==a)}}function Bm(s,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&s)===s){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function E0(s){var t=s.ref;if(t!==null){var r=s.stateNode;switch(s.tag){case 5:s=r;break;default:s=r}typeof t=="function"?t(s):t.current=s}}function N2(s){var t=s.alternate;t!==null&&(s.alternate=null,N2(t)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(t=s.stateNode,t!==null&&(delete t[ia],delete t[ac],delete t[x0],delete t[aI],delete t[nI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function w2(s){return s.tag===5||s.tag===3||s.tag===4}function iv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||w2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function I0(s,t,r){var a=s.tag;if(a===5||a===6)s=s.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(s,t):r.insertBefore(s,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(s,r)):(t=r,t.appendChild(s)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Mu));else if(a!==4&&(s=s.child,s!==null))for(I0(s,t,r),s=s.sibling;s!==null;)I0(s,t,r),s=s.sibling}function P0(s,t,r){var a=s.tag;if(a===5||a===6)s=s.stateNode,t?r.insertBefore(s,t):r.appendChild(s);else if(a!==4&&(s=s.child,s!==null))for(P0(s,t,r),s=s.sibling;s!==null;)P0(s,t,r),s=s.sibling}var _s=null,Gr=!1;function en(s,t,r){for(r=r.child;r!==null;)k2(s,t,r),r=r.sibling}function k2(s,t,r){if(la&&typeof la.onCommitFiberUnmount=="function")try{la.onCommitFiberUnmount(Dm,r)}catch{}switch(r.tag){case 5:Hs||Ji(r,t);case 6:var a=_s,n=Gr;_s=null,en(s,t,r),_s=a,Gr=n,_s!==null&&(Gr?(s=_s,r=r.stateNode,s.nodeType===8?s.parentNode.removeChild(r):s.removeChild(r)):_s.removeChild(r.stateNode));break;case 18:_s!==null&&(Gr?(s=_s,r=r.stateNode,s.nodeType===8?th(s.parentNode,r):s.nodeType===1&&th(s,r),Zl(s)):th(_s,r.stateNode));break;case 4:a=_s,n=Gr,_s=r.stateNode.containerInfo,Gr=!0,en(s,t,r),_s=a,Gr=n;break;case 0:case 11:case 14:case 15:if(!Hs&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var l=n,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&C0(r,t,o),n=n.next}while(n!==a)}en(s,t,r);break;case 1:if(!Hs&&(Ji(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(c){ms(r,t,c)}en(s,t,r);break;case 21:en(s,t,r);break;case 22:r.mode&1?(Hs=(a=Hs)||r.memoizedState!==null,en(s,t,r),Hs=a):en(s,t,r);break;default:en(s,t,r)}}function ov(s){var t=s.updateQueue;if(t!==null){s.updateQueue=null;var r=s.stateNode;r===null&&(r=s.stateNode=new jI),t.forEach(function(a){var n=_I.bind(null,s,a);r.has(a)||(r.add(a),a.then(n,n))})}}function $r(s,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var l=s,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:_s=c.stateNode,Gr=!1;break e;case 3:_s=c.stateNode.containerInfo,Gr=!0;break e;case 4:_s=c.stateNode.containerInfo,Gr=!0;break e}c=c.return}if(_s===null)throw Error(De(160));k2(l,o,n),_s=null,Gr=!1;var d=n.alternate;d!==null&&(d.return=null),n.return=null}catch(m){ms(n,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S2(t,s),t=t.sibling}function S2(s,t){var r=s.alternate,a=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if($r(t,s),ra(s),a&4){try{_l(3,s,s.return),Bm(3,s)}catch(V){ms(s,s.return,V)}try{_l(5,s,s.return)}catch(V){ms(s,s.return,V)}}break;case 1:$r(t,s),ra(s),a&512&&r!==null&&Ji(r,r.return);break;case 5:if($r(t,s),ra(s),a&512&&r!==null&&Ji(r,r.return),s.flags&32){var n=s.stateNode;try{Ql(n,"")}catch(V){ms(s,s.return,V)}}if(a&4&&(n=s.stateNode,n!=null)){var l=s.memoizedProps,o=r!==null?r.memoizedProps:l,c=s.type,d=s.updateQueue;if(s.updateQueue=null,d!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&Hw(n,l),Zh(c,o);var m=Zh(c,l);for(o=0;o<d.length;o+=2){var p=d[o],N=d[o+1];p==="style"?Jw(n,N):p==="dangerouslySetInnerHTML"?Yw(n,N):p==="children"?Ql(n,N):Mp(n,p,N,m)}switch(c){case"input":Kh(n,l);break;case"textarea":Kw(n,l);break;case"select":var k=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var I=l.value;I!=null?oo(n,!!l.multiple,I,!1):k!==!!l.multiple&&(l.defaultValue!=null?oo(n,!!l.multiple,l.defaultValue,!0):oo(n,!!l.multiple,l.multiple?[]:"",!1))}n[ac]=l}catch(V){ms(s,s.return,V)}}break;case 6:if($r(t,s),ra(s),a&4){if(s.stateNode===null)throw Error(De(162));n=s.stateNode,l=s.memoizedProps;try{n.nodeValue=l}catch(V){ms(s,s.return,V)}}break;case 3:if($r(t,s),ra(s),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Zl(t.containerInfo)}catch(V){ms(s,s.return,V)}break;case 4:$r(t,s),ra(s);break;case 13:$r(t,s),ra(s),n=s.child,n.flags&8192&&(l=n.memoizedState!==null,n.stateNode.isHidden=l,!l||n.alternate!==null&&n.alternate.memoizedState!==null||(pf=fs())),a&4&&ov(s);break;case 22:if(p=r!==null&&r.memoizedState!==null,s.mode&1?(Hs=(m=Hs)||p,$r(t,s),Hs=m):$r(t,s),ra(s),a&8192){if(m=s.memoizedState!==null,(s.stateNode.isHidden=m)&&!p&&s.mode&1)for(He=s,p=s.child;p!==null;){for(N=He=p;He!==null;){switch(k=He,I=k.child,k.tag){case 0:case 11:case 14:case 15:_l(4,k,k.return);break;case 1:Ji(k,k.return);var h=k.stateNode;if(typeof h.componentWillUnmount=="function"){a=k,r=k.return;try{t=a,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(V){ms(a,r,V)}}break;case 5:Ji(k,k.return);break;case 22:if(k.memoizedState!==null){cv(N);continue}}I!==null?(I.return=k,He=I):cv(N)}p=p.sibling}e:for(p=null,N=s;;){if(N.tag===5){if(p===null){p=N;try{n=N.stateNode,m?(l=n.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=N.stateNode,d=N.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Xw("display",o))}catch(V){ms(s,s.return,V)}}}else if(N.tag===6){if(p===null)try{N.stateNode.nodeValue=m?"":N.memoizedProps}catch(V){ms(s,s.return,V)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===s)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;p===N&&(p=null),N=N.return}p===N&&(p=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:$r(t,s),ra(s),a&4&&ov(s);break;case 21:break;default:$r(t,s),ra(s)}}function ra(s){var t=s.flags;if(t&2){try{e:{for(var r=s.return;r!==null;){if(w2(r)){var a=r;break e}r=r.return}throw Error(De(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(Ql(n,""),a.flags&=-33);var l=iv(s);P0(s,l,n);break;case 3:case 4:var o=a.stateNode.containerInfo,c=iv(s);I0(s,c,o);break;default:throw Error(De(161))}}catch(d){ms(s,s.return,d)}s.flags&=-3}t&4096&&(s.flags&=-4097)}function wI(s,t,r){He=s,C2(s)}function C2(s,t,r){for(var a=(s.mode&1)!==0;He!==null;){var n=He,l=n.child;if(n.tag===22&&a){var o=n.memoizedState!==null||Od;if(!o){var c=n.alternate,d=c!==null&&c.memoizedState!==null||Hs;c=Od;var m=Hs;if(Od=o,(Hs=d)&&!m)for(He=n;He!==null;)o=He,d=o.child,o.tag===22&&o.memoizedState!==null?dv(n):d!==null?(d.return=o,He=d):dv(n);for(;l!==null;)He=l,C2(l),l=l.sibling;He=n,Od=c,Hs=m}lv(s)}else n.subtreeFlags&8772&&l!==null?(l.return=n,He=l):lv(s)}}function lv(s){for(;He!==null;){var t=He;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Hs||Bm(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Hs)if(r===null)a.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:Wr(t.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Gb(t,l,a);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Gb(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var p=m.memoizedState;if(p!==null){var N=p.dehydrated;N!==null&&Zl(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}Hs||t.flags&512&&E0(t)}catch(k){ms(t,t.return,k)}}if(t===s){He=null;break}if(r=t.sibling,r!==null){r.return=t.return,He=r;break}He=t.return}}function cv(s){for(;He!==null;){var t=He;if(t===s){He=null;break}var r=t.sibling;if(r!==null){r.return=t.return,He=r;break}He=t.return}}function dv(s){for(;He!==null;){var t=He;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bm(4,t)}catch(d){ms(t,r,d)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var n=t.return;try{a.componentDidMount()}catch(d){ms(t,n,d)}}var l=t.return;try{E0(t)}catch(d){ms(t,l,d)}break;case 5:var o=t.return;try{E0(t)}catch(d){ms(t,o,d)}}}catch(d){ms(t,t.return,d)}if(t===s){He=null;break}var c=t.sibling;if(c!==null){c.return=t.return,He=c;break}He=t.return}}var kI=Math.ceil,Gu=Ha.ReactCurrentDispatcher,xf=Ha.ReactCurrentOwner,Mr=Ha.ReactCurrentBatchConfig,At=0,Ps=null,bs=null,Os=0,br=0,Zi=Bn(0),ws=0,dc=null,fi=0,Fm=0,hf=0,Dl=null,cr=null,pf=0,ko=1/0,Ea=null,Hu=!1,T0=null,jn=null,Vd=!1,xn=null,Ku=0,Al=0,_0=null,lu=-1,cu=0;function rr(){return At&6?fs():lu!==-1?lu:lu=fs()}function Nn(s){return s.mode&1?At&2&&Os!==0?Os&-Os:oI.transition!==null?(cu===0&&(cu=d5()),cu):(s=zt,s!==0||(s=window.event,s=s===void 0?16:g5(s.type)),s):1}function Xr(s,t,r,a){if(50<Al)throw Al=0,_0=null,Error(De(185));Mc(s,r,a),(!(At&2)||s!==Ps)&&(s===Ps&&(!(At&2)&&(Fm|=r),ws===4&&on(s,Os)),hr(s,a),r===1&&At===0&&!(t.mode&1)&&(ko=fs()+500,Vm&&Fn()))}function hr(s,t){var r=s.callbackNode;oE(s,t);var a=_u(s,s===Ps?Os:0);if(a===0)r!==null&&bb(r),s.callbackNode=null,s.callbackPriority=0;else if(t=a&-a,s.callbackPriority!==t){if(r!=null&&bb(r),t===1)s.tag===0?iI(uv.bind(null,s)):O5(uv.bind(null,s)),sI(function(){!(At&6)&&Fn()}),r=null;else{switch(u5(a)){case 1:r=Bp;break;case 4:r=l5;break;case 16:r=Tu;break;case 536870912:r=c5;break;default:r=Tu}r=R2(r,E2.bind(null,s))}s.callbackPriority=t,s.callbackNode=r}}function E2(s,t){if(lu=-1,cu=0,At&6)throw Error(De(327));var r=s.callbackNode;if(xo()&&s.callbackNode!==r)return null;var a=_u(s,s===Ps?Os:0);if(a===0)return null;if(a&30||a&s.expiredLanes||t)t=Qu(s,a);else{t=a;var n=At;At|=2;var l=P2();(Ps!==s||Os!==t)&&(Ea=null,ko=fs()+500,li(s,t));do try{EI();break}catch(c){I2(s,c)}while(1);Zp(),Gu.current=l,At=n,bs!==null?t=0:(Ps=null,Os=0,t=ws)}if(t!==0){if(t===2&&(n=a0(s),n!==0&&(a=n,t=D0(s,n))),t===1)throw r=dc,li(s,0),on(s,a),hr(s,fs()),r;if(t===6)on(s,a);else{if(n=s.current.alternate,!(a&30)&&!SI(n)&&(t=Qu(s,a),t===2&&(l=a0(s),l!==0&&(a=l,t=D0(s,l))),t===1))throw r=dc,li(s,0),on(s,a),hr(s,fs()),r;switch(s.finishedWork=n,s.finishedLanes=a,t){case 0:case 1:throw Error(De(345));case 2:Jn(s,cr,Ea);break;case 3:if(on(s,a),(a&130023424)===a&&(t=pf+500-fs(),10<t)){if(_u(s,0)!==0)break;if(n=s.suspendedLanes,(n&a)!==a){rr(),s.pingedLanes|=s.suspendedLanes&n;break}s.timeoutHandle=m0(Jn.bind(null,s,cr,Ea),t);break}Jn(s,cr,Ea);break;case 4:if(on(s,a),(a&4194240)===a)break;for(t=s.eventTimes,n=-1;0<a;){var o=31-Yr(a);l=1<<o,o=t[o],o>n&&(n=o),a&=~l}if(a=n,a=fs()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*kI(a/1960))-a,10<a){s.timeoutHandle=m0(Jn.bind(null,s,cr,Ea),a);break}Jn(s,cr,Ea);break;case 5:Jn(s,cr,Ea);break;default:throw Error(De(329))}}}return hr(s,fs()),s.callbackNode===r?E2.bind(null,s):null}function D0(s,t){var r=Dl;return s.current.memoizedState.isDehydrated&&(li(s,t).flags|=256),s=Qu(s,t),s!==2&&(t=cr,cr=r,t!==null&&A0(t)),s}function A0(s){cr===null?cr=s:cr.push.apply(cr,s)}function SI(s){for(var t=s;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],l=n.getSnapshot;n=n.value;try{if(!Jr(l(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function on(s,t){for(t&=~hf,t&=~Fm,s.suspendedLanes|=t,s.pingedLanes&=~t,s=s.expirationTimes;0<t;){var r=31-Yr(t),a=1<<r;s[r]=-1,t&=~a}}function uv(s){if(At&6)throw Error(De(327));xo();var t=_u(s,0);if(!(t&1))return hr(s,fs()),null;var r=Qu(s,t);if(s.tag!==0&&r===2){var a=a0(s);a!==0&&(t=a,r=D0(s,a))}if(r===1)throw r=dc,li(s,0),on(s,t),hr(s,fs()),r;if(r===6)throw Error(De(345));return s.finishedWork=s.current.alternate,s.finishedLanes=t,Jn(s,cr,Ea),hr(s,fs()),null}function ff(s,t){var r=At;At|=1;try{return s(t)}finally{At=r,At===0&&(ko=fs()+500,Vm&&Fn())}}function gi(s){xn!==null&&xn.tag===0&&!(At&6)&&xo();var t=At;At|=1;var r=Mr.transition,a=zt;try{if(Mr.transition=null,zt=1,s)return s()}finally{zt=a,Mr.transition=r,At=t,!(At&6)&&Fn()}}function gf(){br=Zi.current,Zt(Zi)}function li(s,t){s.finishedWork=null,s.finishedLanes=0;var r=s.timeoutHandle;if(r!==-1&&(s.timeoutHandle=-1,tI(r)),bs!==null)for(r=bs.return;r!==null;){var a=r;switch(Yp(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Ou();break;case 3:No(),Zt(mr),Zt(Qs),nf();break;case 5:af(a);break;case 4:No();break;case 13:Zt(ss);break;case 19:Zt(ss);break;case 10:ef(a.type._context);break;case 22:case 23:gf()}r=r.return}if(Ps=s,bs=s=wn(s.current,null),Os=br=t,ws=0,dc=null,hf=Fm=fi=0,cr=Dl=null,si!==null){for(t=0;t<si.length;t++)if(r=si[t],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,l=r.pending;if(l!==null){var o=l.next;l.next=n,a.next=o}r.pending=a}si=null}return s}function I2(s,t){do{var r=bs;try{if(Zp(),nu.current=Wu,qu){for(var a=as.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}qu=!1}if(pi=0,Es=js=as=null,Tl=!1,oc=0,xf.current=null,r===null||r.return===null){ws=1,dc=t,bs=null;break}e:{var l=s,o=r.return,c=r,d=t;if(t=Os,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=d,p=c,N=p.tag;if(!(p.mode&1)&&(N===0||N===11||N===15)){var k=p.alternate;k?(p.updateQueue=k.updateQueue,p.memoizedState=k.memoizedState,p.lanes=k.lanes):(p.updateQueue=null,p.memoizedState=null)}var I=Jb(o);if(I!==null){I.flags&=-257,Zb(I,o,c,l,t),I.mode&1&&Xb(l,m,t),t=I,d=m;var h=t.updateQueue;if(h===null){var V=new Set;V.add(d),t.updateQueue=V}else h.add(d);break e}else{if(!(t&1)){Xb(l,m,t),yf();break e}d=Error(De(426))}}else if(es&&c.mode&1){var w=Jb(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Zb(w,o,c,l,t),Xp(wo(d,c));break e}}l=d=wo(d,c),ws!==4&&(ws=2),Dl===null?Dl=[l]:Dl.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var C=u2(l,d,t);Wb(l,C);break e;case 1:c=d;var z=l.type,T=l.stateNode;if(!(l.flags&128)&&(typeof z.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(jn===null||!jn.has(T)))){l.flags|=65536,t&=-t,l.lanes|=t;var W=m2(l,c,t);Wb(l,W);break e}}l=l.return}while(l!==null)}_2(r)}catch($){t=$,bs===r&&r!==null&&(bs=r=r.return);continue}break}while(1)}function P2(){var s=Gu.current;return Gu.current=Wu,s===null?Wu:s}function yf(){(ws===0||ws===3||ws===2)&&(ws=4),Ps===null||!(fi&268435455)&&!(Fm&268435455)||on(Ps,Os)}function Qu(s,t){var r=At;At|=2;var a=P2();(Ps!==s||Os!==t)&&(Ea=null,li(s,t));do try{CI();break}catch(n){I2(s,n)}while(1);if(Zp(),At=r,Gu.current=a,bs!==null)throw Error(De(261));return Ps=null,Os=0,ws}function CI(){for(;bs!==null;)T2(bs)}function EI(){for(;bs!==null&&!JC();)T2(bs)}function T2(s){var t=A2(s.alternate,s,br);s.memoizedProps=s.pendingProps,t===null?_2(s):bs=t,xf.current=null}function _2(s){var t=s;do{var r=t.alternate;if(s=t.return,t.flags&32768){if(r=vI(r,t),r!==null){r.flags&=32767,bs=r;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ws=6,bs=null;return}}else if(r=bI(r,t,br),r!==null){bs=r;return}if(t=t.sibling,t!==null){bs=t;return}bs=t=s}while(t!==null);ws===0&&(ws=5)}function Jn(s,t,r){var a=zt,n=Mr.transition;try{Mr.transition=null,zt=1,II(s,t,r,a)}finally{Mr.transition=n,zt=a}return null}function II(s,t,r,a){do xo();while(xn!==null);if(At&6)throw Error(De(327));r=s.finishedWork;var n=s.finishedLanes;if(r===null)return null;if(s.finishedWork=null,s.finishedLanes=0,r===s.current)throw Error(De(177));s.callbackNode=null,s.callbackPriority=0;var l=r.lanes|r.childLanes;if(lE(s,l),s===Ps&&(bs=Ps=null,Os=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vd||(Vd=!0,R2(Tu,function(){return xo(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Mr.transition,Mr.transition=null;var o=zt;zt=1;var c=At;At|=4,xf.current=null,NI(s,r),S2(r,s),KE(d0),Du=!!c0,d0=c0=null,s.current=r,wI(r),ZC(),At=c,zt=o,Mr.transition=l}else s.current=r;if(Vd&&(Vd=!1,xn=s,Ku=n),l=s.pendingLanes,l===0&&(jn=null),sE(r.stateNode),hr(s,fs()),t!==null)for(a=s.onRecoverableError,r=0;r<t.length;r++)n=t[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Hu)throw Hu=!1,s=T0,T0=null,s;return Ku&1&&s.tag!==0&&xo(),l=s.pendingLanes,l&1?s===_0?Al++:(Al=0,_0=s):Al=0,Fn(),null}function xo(){if(xn!==null){var s=u5(Ku),t=Mr.transition,r=zt;try{if(Mr.transition=null,zt=16>s?16:s,xn===null)var a=!1;else{if(s=xn,xn=null,Ku=0,At&6)throw Error(De(331));var n=At;for(At|=4,He=s.current;He!==null;){var l=He,o=l.child;if(He.flags&16){var c=l.deletions;if(c!==null){for(var d=0;d<c.length;d++){var m=c[d];for(He=m;He!==null;){var p=He;switch(p.tag){case 0:case 11:case 15:_l(8,p,l)}var N=p.child;if(N!==null)N.return=p,He=N;else for(;He!==null;){p=He;var k=p.sibling,I=p.return;if(N2(p),p===m){He=null;break}if(k!==null){k.return=I,He=k;break}He=I}}}var h=l.alternate;if(h!==null){var V=h.child;if(V!==null){h.child=null;do{var w=V.sibling;V.sibling=null,V=w}while(V!==null)}}He=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,He=o;else e:for(;He!==null;){if(l=He,l.flags&2048)switch(l.tag){case 0:case 11:case 15:_l(9,l,l.return)}var C=l.sibling;if(C!==null){C.return=l.return,He=C;break e}He=l.return}}var z=s.current;for(He=z;He!==null;){o=He;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,He=T;else e:for(o=z;He!==null;){if(c=He,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Bm(9,c)}}catch($){ms(c,c.return,$)}if(c===o){He=null;break e}var W=c.sibling;if(W!==null){W.return=c.return,He=W;break e}He=c.return}}if(At=n,Fn(),la&&typeof la.onPostCommitFiberRoot=="function")try{la.onPostCommitFiberRoot(Dm,s)}catch{}a=!0}return a}finally{zt=r,Mr.transition=t}}return!1}function mv(s,t,r){t=wo(r,t),t=u2(s,t,1),s=vn(s,t,1),t=rr(),s!==null&&(Mc(s,1,t),hr(s,t))}function ms(s,t,r){if(s.tag===3)mv(s,s,r);else for(;t!==null;){if(t.tag===3){mv(t,s,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(jn===null||!jn.has(a))){s=wo(r,s),s=m2(t,s,1),t=vn(t,s,1),s=rr(),t!==null&&(Mc(t,1,s),hr(t,s));break}}t=t.return}}function PI(s,t,r){var a=s.pingCache;a!==null&&a.delete(t),t=rr(),s.pingedLanes|=s.suspendedLanes&r,Ps===s&&(Os&r)===r&&(ws===4||ws===3&&(Os&130023424)===Os&&500>fs()-pf?li(s,0):hf|=r),hr(s,t)}function D2(s,t){t===0&&(s.mode&1?(t=Ed,Ed<<=1,!(Ed&130023424)&&(Ed=4194304)):t=1);var r=rr();s=za(s,t),s!==null&&(Mc(s,t,r),hr(s,r))}function TI(s){var t=s.memoizedState,r=0;t!==null&&(r=t.retryLane),D2(s,r)}function _I(s,t){var r=0;switch(s.tag){case 13:var a=s.stateNode,n=s.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=s.stateNode;break;default:throw Error(De(314))}a!==null&&a.delete(t),D2(s,r)}var A2;A2=function(s,t,r){if(s!==null)if(s.memoizedProps!==t.pendingProps||mr.current)dr=!0;else{if(!(s.lanes&r)&&!(t.flags&128))return dr=!1,yI(s,t,r);dr=!!(s.flags&131072)}else dr=!1,es&&t.flags&1048576&&V5(t,Lu,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ou(s,t),s=t.pendingProps;var n=bo(t,Qs.current);mo(t,r),n=lf(null,t,a,s,n,r);var l=cf();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xr(a)?(l=!0,Vu(t)):l=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,sf(t),n.updater=Lm,t.stateNode=n,n._reactInternals=t,b0(t,a,s,r),t=N0(null,t,a,!0,l,r)):(t.tag=0,es&&l&&Qp(t),er(null,t,n,r),t=t.child),t;case 16:a=t.elementType;e:{switch(ou(s,t),s=t.pendingProps,n=a._init,a=n(a._payload),t.type=a,n=t.tag=AI(a),s=Wr(a,s),n){case 0:t=j0(null,t,a,s,r);break e;case 1:t=sv(null,t,a,s,r);break e;case 11:t=ev(null,t,a,s,r);break e;case 14:t=tv(null,t,a,Wr(a.type,s),r);break e}throw Error(De(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Wr(a,n),j0(s,t,a,n,r);case 1:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Wr(a,n),sv(s,t,a,n,r);case 3:e:{if(f2(t),s===null)throw Error(De(387));a=t.pendingProps,l=t.memoizedState,n=l.element,$5(s,t),Uu(t,a,null,r);var o=t.memoizedState;if(a=o.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){n=wo(Error(De(423)),t),t=rv(s,t,a,r,n);break e}else if(a!==n){n=wo(Error(De(424)),t),t=rv(s,t,a,r,n);break e}else for(jr=bn(t.stateNode.containerInfo.firstChild),wr=t,es=!0,Hr=null,r=F5(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vo(),a===n){t=La(s,t,r);break e}er(s,t,a,r)}t=t.child}return t;case 5:return q5(t),s===null&&f0(t),a=t.type,n=t.pendingProps,l=s!==null?s.memoizedProps:null,o=n.children,u0(a,n)?o=null:l!==null&&u0(a,l)&&(t.flags|=32),p2(s,t),er(s,t,o,r),t.child;case 6:return s===null&&f0(t),null;case 13:return g2(s,t,r);case 4:return rf(t,t.stateNode.containerInfo),a=t.pendingProps,s===null?t.child=jo(t,null,a,r):er(s,t,a,r),t.child;case 11:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Wr(a,n),ev(s,t,a,n,r);case 7:return er(s,t,t.pendingProps,r),t.child;case 8:return er(s,t,t.pendingProps.children,r),t.child;case 12:return er(s,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,l=t.memoizedProps,o=n.value,Kt(Bu,a._currentValue),a._currentValue=o,l!==null)if(Jr(l.value,o)){if(l.children===n.children&&!mr.current){t=La(s,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){o=l.child;for(var d=c.firstContext;d!==null;){if(d.context===a){if(l.tag===1){d=Aa(-1,r&-r),d.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var p=m.pending;p===null?d.next=d:(d.next=p.next,p.next=d),m.pending=d}}l.lanes|=r,d=l.alternate,d!==null&&(d.lanes|=r),g0(l.return,r,t),c.lanes|=r;break}d=d.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(De(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),g0(o,r,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}er(s,t,n.children,r),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,mo(t,r),n=Vr(n),a=a(n),t.flags|=1,er(s,t,a,r),t.child;case 14:return a=t.type,n=Wr(a,t.pendingProps),n=Wr(a.type,n),tv(s,t,a,n,r);case 15:return x2(s,t,t.type,t.pendingProps,r);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:Wr(a,n),ou(s,t),t.tag=1,xr(a)?(s=!0,Vu(t)):s=!1,mo(t,r),d2(t,a,n),b0(t,a,n,r),N0(null,t,a,!0,s,r);case 19:return y2(s,t,r);case 22:return h2(s,t,r)}throw Error(De(156,t.tag))};function R2(s,t){return o5(s,t)}function DI(s,t,r,a){this.tag=s,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(s,t,r,a){return new DI(s,t,r,a)}function bf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function AI(s){if(typeof s=="function")return bf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===Vp)return 11;if(s===zp)return 14}return 2}function wn(s,t){var r=s.alternate;return r===null?(r=Rr(s.tag,t,s.key,s.mode),r.elementType=s.elementType,r.type=s.type,r.stateNode=s.stateNode,r.alternate=s,s.alternate=r):(r.pendingProps=t,r.type=s.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=s.flags&14680064,r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,t=s.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=s.sibling,r.index=s.index,r.ref=s.ref,r}function du(s,t,r,a,n,l){var o=2;if(a=s,typeof s=="function")bf(s)&&(o=1);else if(typeof s=="string")o=5;else e:switch(s){case $i:return ci(r.children,n,l,t);case Op:o=8,n|=8;break;case $h:return s=Rr(12,r,t,n|2),s.elementType=$h,s.lanes=l,s;case qh:return s=Rr(13,r,t,n),s.elementType=qh,s.lanes=l,s;case Wh:return s=Rr(19,r,t,n),s.elementType=Wh,s.lanes=l,s;case qw:return Um(r,n,l,t);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Uw:o=10;break e;case $w:o=9;break e;case Vp:o=11;break e;case zp:o=14;break e;case rn:o=16,a=null;break e}throw Error(De(130,s==null?s:typeof s,""))}return t=Rr(o,r,t,n),t.elementType=s,t.type=a,t.lanes=l,t}function ci(s,t,r,a){return s=Rr(7,s,a,t),s.lanes=r,s}function Um(s,t,r,a){return s=Rr(22,s,a,t),s.elementType=qw,s.lanes=r,s.stateNode={isHidden:!1},s}function ch(s,t,r){return s=Rr(6,s,null,t),s.lanes=r,s}function dh(s,t,r){return t=Rr(4,s.children!==null?s.children:[],s.key,t),t.lanes=r,t.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},t}function RI(s,t,r,a,n){this.tag=t,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qx(0),this.expirationTimes=qx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qx(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function vf(s,t,r,a,n,l,o,c,d){return s=new RI(s,t,r,c,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Rr(3,null,null,t),s.current=l,l.stateNode=s,l.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sf(l),s}function MI(s,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:a==null?null:""+a,children:s,containerInfo:t,implementation:r}}function M2(s){if(!s)return Pn;s=s._reactInternals;e:{if(Ci(s)!==s||s.tag!==1)throw Error(De(170));var t=s;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(De(171))}if(s.tag===1){var r=s.type;if(xr(r))return M5(s,r,t)}return t}function O2(s,t,r,a,n,l,o,c,d){return s=vf(r,a,!0,s,n,l,o,c,d),s.context=M2(null),r=s.current,a=rr(),n=Nn(r),l=Aa(a,n),l.callback=t??null,vn(r,l,n),s.current.lanes=n,Mc(s,n,a),hr(s,a),s}function $m(s,t,r,a){var n=t.current,l=rr(),o=Nn(n);return r=M2(r),t.context===null?t.context=r:t.pendingContext=r,t=Aa(l,o),t.payload={element:s},a=a===void 0?null:a,a!==null&&(t.callback=a),s=vn(n,t,o),s!==null&&(Xr(s,n,o,l),au(s,n,o)),o}function Yu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function xv(s,t){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var r=s.retryLane;s.retryLane=r!==0&&r<t?r:t}}function jf(s,t){xv(s,t),(s=s.alternate)&&xv(s,t)}function OI(){return null}var V2=typeof reportError=="function"?reportError:function(s){console.error(s)};function Nf(s){this._internalRoot=s}qm.prototype.render=Nf.prototype.render=function(s){var t=this._internalRoot;if(t===null)throw Error(De(409));$m(s,t,null,null)};qm.prototype.unmount=Nf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var t=s.containerInfo;gi(function(){$m(null,s,null,null)}),t[Va]=null}};function qm(s){this._internalRoot=s}qm.prototype.unstable_scheduleHydration=function(s){if(s){var t=h5();s={blockedOn:null,target:s,priority:t};for(var r=0;r<nn.length&&t!==0&&t<nn[r].priority;r++);nn.splice(r,0,s),r===0&&f5(s)}};function wf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Wm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function hv(){}function VI(s,t,r,a,n){if(n){if(typeof a=="function"){var l=a;a=function(){var m=Yu(o);l.call(m)}}var o=O2(t,a,s,0,null,!1,!1,"",hv);return s._reactRootContainer=o,s[Va]=o.current,sc(s.nodeType===8?s.parentNode:s),gi(),o}for(;n=s.lastChild;)s.removeChild(n);if(typeof a=="function"){var c=a;a=function(){var m=Yu(d);c.call(m)}}var d=vf(s,0,!1,null,null,!1,!1,"",hv);return s._reactRootContainer=d,s[Va]=d.current,sc(s.nodeType===8?s.parentNode:s),gi(function(){$m(t,d,r,a)}),d}function Gm(s,t,r,a,n){var l=r._reactRootContainer;if(l){var o=l;if(typeof n=="function"){var c=n;n=function(){var d=Yu(o);c.call(d)}}$m(t,o,s,n)}else o=VI(r,t,s,n,a);return Yu(o)}m5=function(s){switch(s.tag){case 3:var t=s.stateNode;if(t.current.memoizedState.isDehydrated){var r=fl(t.pendingLanes);r!==0&&(Fp(t,r|1),hr(t,fs()),!(At&6)&&(ko=fs()+500,Fn()))}break;case 13:gi(function(){var a=za(s,1);if(a!==null){var n=rr();Xr(a,s,1,n)}}),jf(s,1)}};Up=function(s){if(s.tag===13){var t=za(s,134217728);if(t!==null){var r=rr();Xr(t,s,134217728,r)}jf(s,134217728)}};x5=function(s){if(s.tag===13){var t=Nn(s),r=za(s,t);if(r!==null){var a=rr();Xr(r,s,t,a)}jf(s,t)}};h5=function(){return zt};p5=function(s,t){var r=zt;try{return zt=s,t()}finally{zt=r}};t0=function(s,t,r){switch(t){case"input":if(Kh(s,r),t=r.name,r.type==="radio"&&t!=null){for(r=s;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==s&&a.form===s.form){var n=Om(a);if(!n)throw Error(De(90));Gw(a),Kh(a,n)}}}break;case"textarea":Kw(s,r);break;case"select":t=r.value,t!=null&&oo(s,!!r.multiple,t,!1)}};t5=ff;s5=gi;var zI={usingClientEntryPoint:!1,Events:[Vc,Hi,Om,Zw,e5,ff]},cl={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LI={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ha.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=n5(s),s===null?null:s.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||OI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{Dm=zd.inject(LI),la=zd}catch{}}Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zI;Er.createPortal=function(s,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wf(t))throw Error(De(200));return MI(s,t,null,r)};Er.createRoot=function(s,t){if(!wf(s))throw Error(De(299));var r=!1,a="",n=V2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=vf(s,1,!1,null,null,r,!1,a,n),s[Va]=t.current,sc(s.nodeType===8?s.parentNode:s),new Nf(t)};Er.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var t=s._reactInternals;if(t===void 0)throw typeof s.render=="function"?Error(De(188)):(s=Object.keys(s).join(","),Error(De(268,s)));return s=n5(t),s=s===null?null:s.stateNode,s};Er.flushSync=function(s){return gi(s)};Er.hydrate=function(s,t,r){if(!Wm(t))throw Error(De(200));return Gm(null,s,t,!0,r)};Er.hydrateRoot=function(s,t,r){if(!wf(s))throw Error(De(405));var a=r!=null&&r.hydratedSources||null,n=!1,l="",o=V2;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=O2(t,null,s,1,r??null,n,!1,l,o),s[Va]=t.current,sc(s),a)for(s=0;s<a.length;s++)r=a[s],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new qm(t)};Er.render=function(s,t,r){if(!Wm(t))throw Error(De(200));return Gm(null,s,t,!1,r)};Er.unmountComponentAtNode=function(s){if(!Wm(s))throw Error(De(40));return s._reactRootContainer?(gi(function(){Gm(null,null,s,!1,function(){s._reactRootContainer=null,s[Va]=null})}),!0):!1};Er.unstable_batchedUpdates=ff;Er.unstable_renderSubtreeIntoContainer=function(s,t,r,a){if(!Wm(r))throw Error(De(200));if(s==null||s._reactInternals===void 0)throw Error(De(38));return Gm(s,t,r,!1,a)};Er.version="18.3.1-next-f1338f8080-20240426";function z2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z2)}catch(s){console.error(s)}}z2(),zw.exports=Er;var BI=zw.exports,pv=BI;Fh.createRoot=pv.createRoot,Fh.hydrateRoot=pv.hydrateRoot;const FI="modulepreload",UI=function(s){return"/"+s},fv={},$I=function(t,r,a){if(!r||r.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(r.map(l=>{if(l=UI(l),l in fv)return;fv[l]=!0;const o=l.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(!!a)for(let p=n.length-1;p>=0;p--){const N=n[p];if(N.href===l&&(!o||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const m=document.createElement("link");if(m.rel=o?"stylesheet":FI,o||(m.as="script",m.crossOrigin=""),m.href=l,document.head.appendChild(m),o)return new Promise((p,N)=>{m.addEventListener("load",p),m.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l})};var kf={};Object.defineProperty(kf,"__esModule",{value:!0});kf.parse=YI;kf.serialize=XI;const qI=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,WI=/^[\u0021-\u003A\u003C-\u007E]*$/,GI=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,HI=/^[\u0020-\u003A\u003D-\u007E]*$/,KI=Object.prototype.toString,QI=(()=>{const s=function(){};return s.prototype=Object.create(null),s})();function YI(s,t){const r=new QI,a=s.length;if(a<2)return r;const n=(t==null?void 0:t.decode)||JI;let l=0;do{const o=s.indexOf("=",l);if(o===-1)break;const c=s.indexOf(";",l),d=c===-1?a:c;if(o>d){l=s.lastIndexOf(";",o-1)+1;continue}const m=gv(s,l,o),p=yv(s,o,m),N=s.slice(m,p);if(r[N]===void 0){let k=gv(s,o+1,d),I=yv(s,d,k);const h=n(s.slice(k,I));r[N]=h}l=d+1}while(l<a);return r}function gv(s,t,r){do{const a=s.charCodeAt(t);if(a!==32&&a!==9)return t}while(++t<r);return r}function yv(s,t,r){for(;t>r;){const a=s.charCodeAt(--t);if(a!==32&&a!==9)return t+1}return r}function XI(s,t,r){const a=(r==null?void 0:r.encode)||encodeURIComponent;if(!qI.test(s))throw new TypeError(`argument name is invalid: ${s}`);const n=a(t);if(!WI.test(n))throw new TypeError(`argument val is invalid: ${t}`);let l=s+"="+n;if(!r)return l;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);l+="; Max-Age="+r.maxAge}if(r.domain){if(!GI.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);l+="; Domain="+r.domain}if(r.path){if(!HI.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);l+="; Path="+r.path}if(r.expires){if(!ZI(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);l+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(l+="; HttpOnly"),r.secure&&(l+="; Secure"),r.partitioned&&(l+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return l}function JI(s){if(s.indexOf("%")===-1)return s;try{return decodeURIComponent(s)}catch{return s}}function ZI(s){return KI.call(s)==="[object Date]"}var bv="popstate";function eP(s={}){function t(a,n){let{pathname:l,search:o,hash:c}=a.location;return R0("",{pathname:l,search:o,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:uc(n)}return sP(t,r,null,s)}function ns(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function ga(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tP(){return Math.random().toString(36).substring(2,10)}function vv(s,t){return{usr:s.state,key:s.key,idx:t}}function R0(s,t,r=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Vo(t):t,state:r,key:t&&t.key||a||tP()}}function uc({pathname:s="/",search:t="",hash:r=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Vo(s){let t={};if(s){let r=s.indexOf("#");r>=0&&(t.hash=s.substring(r),s=s.substring(0,r));let a=s.indexOf("?");a>=0&&(t.search=s.substring(a),s=s.substring(0,a)),s&&(t.pathname=s)}return t}function sP(s,t,r,a={}){let{window:n=document.defaultView,v5Compat:l=!1}=a,o=n.history,c="POP",d=null,m=p();m==null&&(m=0,o.replaceState({...o.state,idx:m},""));function p(){return(o.state||{idx:null}).idx}function N(){c="POP";let w=p(),C=w==null?null:w-m;m=w,d&&d({action:c,location:V.location,delta:C})}function k(w,C){c="PUSH";let z=R0(V.location,w,C);r&&r(z,w),m=p()+1;let T=vv(z,m),W=V.createHref(z);try{o.pushState(T,"",W)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;n.location.assign(W)}l&&d&&d({action:c,location:V.location,delta:1})}function I(w,C){c="REPLACE";let z=R0(V.location,w,C);r&&r(z,w),m=p();let T=vv(z,m),W=V.createHref(z);o.replaceState(T,"",W),l&&d&&d({action:c,location:V.location,delta:0})}function h(w){let C=n.location.origin!=="null"?n.location.origin:n.location.href,z=typeof w=="string"?w:uc(w);return z=z.replace(/ $/,"%20"),ns(C,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,C)}let V={get action(){return c},get location(){return s(n,o)},listen(w){if(d)throw new Error("A history only accepts one active listener");return n.addEventListener(bv,N),d=w,()=>{n.removeEventListener(bv,N),d=null}},createHref(w){return t(n,w)},createURL:h,encodeLocation(w){let C=h(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:k,replace:I,go(w){return o.go(w)}};return V}function L2(s,t,r="/"){return rP(s,t,r,!1)}function rP(s,t,r,a){let n=typeof t=="string"?Vo(t):t,l=Ba(n.pathname||"/",r);if(l==null)return null;let o=B2(s);aP(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let m=pP(l);c=xP(o[d],m,a)}return c}function B2(s,t=[],r=[],a=""){let n=(l,o,c)=>{let d={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};d.relativePath.startsWith("/")&&(ns(d.relativePath.startsWith(a),`Absolute route path "${d.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(a.length));let m=Ra([a,d.relativePath]),p=r.concat(d);l.children&&l.children.length>0&&(ns(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),B2(l.children,t,p,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:uP(m,l.index),routesMeta:p})};return s.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))n(l,o);else for(let d of F2(l.path))n(l,o,d)}),t}function F2(s){let t=s.split("/");if(t.length===0)return[];let[r,...a]=t,n=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return n?[l,""]:[l];let o=F2(a.join("/")),c=[];return c.push(...o.map(d=>d===""?l:[l,d].join("/"))),n&&c.push(...o),c.map(d=>s.startsWith("/")&&d===""?"/":d)}function aP(s){s.sort((t,r)=>t.score!==r.score?r.score-t.score:mP(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var nP=/^:[\w-]+$/,iP=3,oP=2,lP=1,cP=10,dP=-2,jv=s=>s==="*";function uP(s,t){let r=s.split("/"),a=r.length;return r.some(jv)&&(a+=dP),t&&(a+=oP),r.filter(n=>!jv(n)).reduce((n,l)=>n+(nP.test(l)?iP:l===""?lP:cP),a)}function mP(s,t){return s.length===t.length&&s.slice(0,-1).every((a,n)=>a===t[n])?s[s.length-1]-t[t.length-1]:0}function xP(s,t,r=!1){let{routesMeta:a}=s,n={},l="/",o=[];for(let c=0;c<a.length;++c){let d=a[c],m=c===a.length-1,p=l==="/"?t:t.slice(l.length)||"/",N=Xu({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},p),k=d.route;if(!N&&m&&r&&!a[a.length-1].route.index&&(N=Xu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!N)return null;Object.assign(n,N.params),o.push({params:n,pathname:Ra([l,N.pathname]),pathnameBase:bP(Ra([l,N.pathnameBase])),route:k}),N.pathnameBase!=="/"&&(l=Ra([l,N.pathnameBase]))}return o}function Xu(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,a]=hP(s.path,s.caseSensitive,s.end),n=t.match(r);if(!n)return null;let l=n[0],o=l.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:a.reduce((m,{paramName:p,isOptional:N},k)=>{if(p==="*"){let h=c[k]||"";o=l.slice(0,l.length-h.length).replace(/(.)\/+$/,"$1")}const I=c[k];return N&&!I?m[p]=void 0:m[p]=(I||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:o,pattern:s}}function hP(s,t=!1,r=!0){ga(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],n="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(a.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),n+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":s!==""&&s!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function pP(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ga(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Ba(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=s.charAt(r);return a&&a!=="/"?null:s.slice(r)||"/"}function fP(s,t="/"){let{pathname:r,search:a="",hash:n=""}=typeof s=="string"?Vo(s):s;return{pathname:r?r.startsWith("/")?r:gP(r,t):t,search:vP(a),hash:jP(n)}}function gP(s,t){let r=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function uh(s,t,r,a){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yP(s){return s.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function U2(s){let t=yP(s);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function $2(s,t,r,a=!1){let n;typeof s=="string"?n=Vo(s):(n={...s},ns(!n.pathname||!n.pathname.includes("?"),uh("?","pathname","search",n)),ns(!n.pathname||!n.pathname.includes("#"),uh("#","pathname","hash",n)),ns(!n.search||!n.search.includes("#"),uh("#","search","hash",n)));let l=s===""||n.pathname==="",o=l?"/":n.pathname,c;if(o==null)c=r;else{let N=t.length-1;if(!a&&o.startsWith("..")){let k=o.split("/");for(;k[0]==="..";)k.shift(),N-=1;n.pathname=k.join("/")}c=N>=0?t[N]:"/"}let d=fP(n,c),m=o&&o!=="/"&&o.endsWith("/"),p=(l||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(m||p)&&(d.pathname+="/"),d}var Ra=s=>s.join("/").replace(/\/\/+/g,"/"),bP=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),vP=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,jP=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function NP(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var q2=["POST","PUT","PATCH","DELETE"];new Set(q2);var wP=["GET",...q2];new Set(wP);var zo=v.createContext(null);zo.displayName="DataRouter";var Hm=v.createContext(null);Hm.displayName="DataRouterState";var W2=v.createContext({isTransitioning:!1});W2.displayName="ViewTransition";var kP=v.createContext(new Map);kP.displayName="Fetchers";var SP=v.createContext(null);SP.displayName="Await";var ja=v.createContext(null);ja.displayName="Navigation";var Lc=v.createContext(null);Lc.displayName="Location";var Ka=v.createContext({outlet:null,matches:[],isDataRoute:!1});Ka.displayName="Route";var Sf=v.createContext(null);Sf.displayName="RouteError";function CP(s,{relative:t}={}){ns(Bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=v.useContext(ja),{hash:n,pathname:l,search:o}=Fc(s,{relative:t}),c=l;return r!=="/"&&(c=l==="/"?r:Ra([r,l])),a.createHref({pathname:c,search:o,hash:n})}function Bc(){return v.useContext(Lc)!=null}function Ei(){return ns(Bc(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Lc).location}var G2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H2(s){v.useContext(ja).static||v.useLayoutEffect(s)}function jt(){let{isDataRoute:s}=v.useContext(Ka);return s?LP():EP()}function EP(){ns(Bc(),"useNavigate() may be used only in the context of a <Router> component.");let s=v.useContext(zo),{basename:t,navigator:r}=v.useContext(ja),{matches:a}=v.useContext(Ka),{pathname:n}=Ei(),l=JSON.stringify(U2(a)),o=v.useRef(!1);return H2(()=>{o.current=!0}),v.useCallback((d,m={})=>{if(ga(o.current,G2),!o.current)return;if(typeof d=="number"){r.go(d);return}let p=$2(d,JSON.parse(l),n,m.relative==="path");s==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Ra([t,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[t,r,l,n,s])}v.createContext(null);function Fc(s,{relative:t}={}){let{matches:r}=v.useContext(Ka),{pathname:a}=Ei(),n=JSON.stringify(U2(r));return v.useMemo(()=>$2(s,JSON.parse(n),a,t==="path"),[s,n,a,t])}function IP(s,t){return K2(s,t)}function K2(s,t,r,a){var z;ns(Bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n,static:l}=v.useContext(ja),{matches:o}=v.useContext(Ka),c=o[o.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",N=c&&c.route;{let T=N&&N.path||"";Q2(m,!N||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let k=Ei(),I;if(t){let T=typeof t=="string"?Vo(t):t;ns(p==="/"||((z=T.pathname)==null?void 0:z.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),I=T}else I=k;let h=I.pathname||"/",V=h;if(p!=="/"){let T=p.replace(/^\//,"").split("/");V="/"+h.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=!l&&r&&r.matches&&r.matches.length>0?r.matches:L2(s,{pathname:V});ga(N||w!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),ga(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=AP(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:Ra([p,n.encodeLocation?n.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:Ra([p,n.encodeLocation?n.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,r,a);return t&&C?v.createElement(Lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},C):C}function PP(){let s=zP(),t=NP(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",s),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:l},"ErrorBoundary")," or"," ",v.createElement("code",{style:l},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:n},r):null,o)}var TP=v.createElement(PP,null),_P=class extends v.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?v.createElement(Ka.Provider,{value:this.props.routeContext},v.createElement(Sf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DP({routeContext:s,match:t,children:r}){let a=v.useContext(zo);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Ka.Provider,{value:s},r)}function AP(s,t=[],r=null,a=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let n=s,l=r==null?void 0:r.errors;if(l!=null){let d=n.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);ns(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),n=n.slice(0,Math.min(n.length,d+1))}let o=!1,c=-1;if(r)for(let d=0;d<n.length;d++){let m=n[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:p,errors:N}=r,k=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!N||N[m.route.id]===void 0);if(m.route.lazy||k){o=!0,c>=0?n=n.slice(0,c+1):n=[n[0]];break}}}return n.reduceRight((d,m,p)=>{let N,k=!1,I=null,h=null;r&&(N=l&&m.route.id?l[m.route.id]:void 0,I=m.route.errorElement||TP,o&&(c<0&&p===0?(Q2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,h=null):c===p&&(k=!0,h=m.route.hydrateFallbackElement||null)));let V=t.concat(n.slice(0,p+1)),w=()=>{let C;return N?C=I:k?C=h:m.route.Component?C=v.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=d,v.createElement(DP,{match:m,routeContext:{outlet:d,matches:V,isDataRoute:r!=null},children:C})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?v.createElement(_P,{location:r.location,revalidation:r.revalidation,component:I,error:N,children:w(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):w()},null)}function Cf(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RP(s){let t=v.useContext(zo);return ns(t,Cf(s)),t}function MP(s){let t=v.useContext(Hm);return ns(t,Cf(s)),t}function OP(s){let t=v.useContext(Ka);return ns(t,Cf(s)),t}function Ef(s){let t=OP(s),r=t.matches[t.matches.length-1];return ns(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function VP(){return Ef("useRouteId")}function zP(){var a;let s=v.useContext(Sf),t=MP("useRouteError"),r=Ef("useRouteError");return s!==void 0?s:(a=t.errors)==null?void 0:a[r]}function LP(){let{router:s}=RP("useNavigate"),t=Ef("useNavigate"),r=v.useRef(!1);return H2(()=>{r.current=!0}),v.useCallback(async(n,l={})=>{ga(r.current,G2),r.current&&(typeof n=="number"?s.navigate(n):await s.navigate(n,{fromRouteId:t,...l}))},[s,t])}var Nv={};function Q2(s,t,r){!t&&!Nv[s]&&(Nv[s]=!0,ga(!1,r))}v.memo(BP);function BP({routes:s,future:t,state:r}){return K2(s,void 0,r,t)}function wt(s){ns(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FP({basename:s="/",children:t=null,location:r,navigationType:a="POP",navigator:n,static:l=!1}){ns(!Bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=s.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:o,navigator:n,static:l,future:{}}),[o,n,l]);typeof r=="string"&&(r=Vo(r));let{pathname:d="/",search:m="",hash:p="",state:N=null,key:k="default"}=r,I=v.useMemo(()=>{let h=Ba(d,o);return h==null?null:{location:{pathname:h,search:m,hash:p,state:N,key:k},navigationType:a}},[o,d,m,p,N,k,a]);return ga(I!=null,`<Router basename="${o}"> is not able to match the URL "${d}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:v.createElement(ja.Provider,{value:c},v.createElement(Lc.Provider,{children:t,value:I}))}function UP({children:s,location:t}){return IP(M0(s),t)}function M0(s,t=[]){let r=[];return v.Children.forEach(s,(a,n)=>{if(!v.isValidElement(a))return;let l=[...t,n];if(a.type===v.Fragment){r.push.apply(r,M0(a.props.children,l));return}ns(a.type===wt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ns(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=M0(a.props.children,l)),r.push(o)}),r}var uu="get",mu="application/x-www-form-urlencoded";function Km(s){return s!=null&&typeof s.tagName=="string"}function $P(s){return Km(s)&&s.tagName.toLowerCase()==="button"}function qP(s){return Km(s)&&s.tagName.toLowerCase()==="form"}function WP(s){return Km(s)&&s.tagName.toLowerCase()==="input"}function GP(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function HP(s,t){return s.button===0&&(!t||t==="_self")&&!GP(s)}var Ld=null;function KP(){if(Ld===null)try{new FormData(document.createElement("form"),0),Ld=!1}catch{Ld=!0}return Ld}var QP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mh(s){return s!=null&&!QP.has(s)?(ga(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mu}"`),null):s}function YP(s,t){let r,a,n,l,o;if(qP(s)){let c=s.getAttribute("action");a=c?Ba(c,t):null,r=s.getAttribute("method")||uu,n=mh(s.getAttribute("enctype"))||mu,l=new FormData(s)}else if($P(s)||WP(s)&&(s.type==="submit"||s.type==="image")){let c=s.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||c.getAttribute("action");if(a=d?Ba(d,t):null,r=s.getAttribute("formmethod")||c.getAttribute("method")||uu,n=mh(s.getAttribute("formenctype"))||mh(c.getAttribute("enctype"))||mu,l=new FormData(c,s),!KP()){let{name:m,type:p,value:N}=s;if(p==="image"){let k=m?`${m}.`:"";l.append(`${k}x`,"0"),l.append(`${k}y`,"0")}else m&&l.append(m,N)}}else{if(Km(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=uu,a=null,n=mu,o=s}return l&&n==="text/plain"&&(o=l,l=void 0),{action:a,method:r.toLowerCase(),encType:n,formData:l,body:o}}function If(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function XP(s,t){if(s.id in t)return t[s.id];try{let r=await $I(()=>import(s.module),[]);return t[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JP(s){return s!=null&&typeof s.page=="string"}function ZP(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function eT(s,t,r){let a=await Promise.all(s.map(async n=>{let l=t.routes[n.route.id];if(l){let o=await XP(l,r);return o.links?o.links():[]}return[]}));return aT(a.flat(1).filter(ZP).filter(n=>n.rel==="stylesheet"||n.rel==="preload").map(n=>n.rel==="stylesheet"?{...n,rel:"prefetch",as:"style"}:{...n,rel:"prefetch"}))}function wv(s,t,r,a,n,l){let o=(d,m)=>r[m]?d.route.id!==r[m].route.id:!0,c=(d,m)=>{var p;return r[m].pathname!==d.pathname||((p=r[m].route.path)==null?void 0:p.endsWith("*"))&&r[m].params["*"]!==d.params["*"]};return l==="assets"?t.filter((d,m)=>o(d,m)||c(d,m)):l==="data"?t.filter((d,m)=>{var N;let p=a.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(o(d,m)||c(d,m))return!0;if(d.route.shouldRevalidate){let k=d.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:((N=r[0])==null?void 0:N.params)||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function tT(s,t,{includeHydrateFallback:r}={}){return sT(s.map(a=>{let n=t.routes[a.route.id];if(!n)return[];let l=[n.module];return n.clientActionModule&&(l=l.concat(n.clientActionModule)),n.clientLoaderModule&&(l=l.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(l=l.concat(n.hydrateFallbackModule)),n.imports&&(l=l.concat(n.imports)),l}).flat(1))}function sT(s){return[...new Set(s)]}function rT(s){let t={},r=Object.keys(s).sort();for(let a of r)t[a]=s[a];return t}function aT(s,t){let r=new Set,a=new Set(t);return s.reduce((n,l)=>{if(t&&!JP(l)&&l.as==="script"&&l.href&&a.has(l.href))return n;let c=JSON.stringify(rT(l));return r.has(c)||(r.add(c),n.push({key:c,link:l})),n},[])}function nT(s,t){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname="_root.data":t&&Ba(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function Y2(){let s=v.useContext(zo);return If(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function iT(){let s=v.useContext(Hm);return If(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Pf=v.createContext(void 0);Pf.displayName="FrameworkContext";function X2(){let s=v.useContext(Pf);return If(s,"You must render this element inside a <HydratedRouter> element"),s}function oT(s,t){let r=v.useContext(Pf),[a,n]=v.useState(!1),[l,o]=v.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:m,onMouseLeave:p,onTouchStart:N}=t,k=v.useRef(null);v.useEffect(()=>{if(s==="render"&&o(!0),s==="viewport"){let V=C=>{C.forEach(z=>{o(z.isIntersecting)})},w=new IntersectionObserver(V,{threshold:.5});return k.current&&w.observe(k.current),()=>{w.disconnect()}}},[s]),v.useEffect(()=>{if(a){let V=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(V)}}},[a]);let I=()=>{n(!0)},h=()=>{n(!1),o(!1)};return r?s!=="intent"?[l,k,{}]:[l,k,{onFocus:dl(c,I),onBlur:dl(d,h),onMouseEnter:dl(m,I),onMouseLeave:dl(p,h),onTouchStart:dl(N,I)}]:[!1,k,{}]}function dl(s,t){return r=>{s&&s(r),r.defaultPrevented||t(r)}}function lT({page:s,...t}){let{router:r}=Y2(),a=v.useMemo(()=>L2(r.routes,s,r.basename),[r.routes,s,r.basename]);return a?v.createElement(dT,{page:s,matches:a,...t}):null}function cT(s){let{manifest:t,routeModules:r}=X2(),[a,n]=v.useState([]);return v.useEffect(()=>{let l=!1;return eT(s,t,r).then(o=>{l||n(o)}),()=>{l=!0}},[s,t,r]),a}function dT({page:s,matches:t,...r}){let a=Ei(),{manifest:n,routeModules:l}=X2(),{basename:o}=Y2(),{loaderData:c,matches:d}=iT(),m=v.useMemo(()=>wv(s,t,d,n,a,"data"),[s,t,d,n,a]),p=v.useMemo(()=>wv(s,t,d,n,a,"assets"),[s,t,d,n,a]),N=v.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let h=new Set,V=!1;if(t.forEach(C=>{var T;let z=n.routes[C.route.id];!z||!z.hasLoader||(!m.some(W=>W.route.id===C.route.id)&&C.route.id in c&&((T=l[C.route.id])!=null&&T.shouldRevalidate)||z.hasClientLoader?V=!0:h.add(C.route.id))}),h.size===0)return[];let w=nT(s,o);return V&&h.size>0&&w.searchParams.set("_routes",t.filter(C=>h.has(C.route.id)).map(C=>C.route.id).join(",")),[w.pathname+w.search]},[o,c,a,n,m,t,s,l]),k=v.useMemo(()=>tT(p,n),[p,n]),I=cT(p);return v.createElement(v.Fragment,null,N.map(h=>v.createElement("link",{key:h,rel:"prefetch",as:"fetch",href:h,...r})),k.map(h=>v.createElement("link",{key:h,rel:"modulepreload",href:h,...r})),I.map(({key:h,link:V})=>v.createElement("link",{key:h,...V})))}function uT(...s){return t=>{s.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var J2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{J2&&(window.__reactRouterVersion="7.5.0")}catch{}function mT({basename:s,children:t,window:r}){let a=v.useRef();a.current==null&&(a.current=eP({window:r,v5Compat:!0}));let n=a.current,[l,o]=v.useState({action:n.action,location:n.location}),c=v.useCallback(d=>{v.startTransition(()=>o(d))},[o]);return v.useLayoutEffect(()=>n.listen(c),[n,c]),v.createElement(FP,{basename:s,children:t,location:l.location,navigationType:l.action,navigator:n})}var Z2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f=v.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:n,reloadDocument:l,replace:o,state:c,target:d,to:m,preventScrollReset:p,viewTransition:N,...k},I){let{basename:h}=v.useContext(ja),V=typeof m=="string"&&Z2.test(m),w,C=!1;if(typeof m=="string"&&V&&(w=m,J2))try{let F=new URL(window.location.href),B=m.startsWith("//")?new URL(F.protocol+m):new URL(m),Q=Ba(B.pathname,h);B.origin===F.origin&&Q!=null?m=Q+B.search+B.hash:C=!0}catch{ga(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=CP(m,{relative:n}),[T,W,$]=oT(a,k),U=fT(m,{replace:o,state:c,target:d,preventScrollReset:p,relative:n,viewTransition:N});function A(F){t&&t(F),F.defaultPrevented||U(F)}let u=v.createElement("a",{...k,...$,href:w||z,onClick:C||l?t:A,ref:uT(I,W),target:d,"data-discover":!V&&r==="render"?"true":void 0});return T&&!V?v.createElement(v.Fragment,null,u,v.createElement(lT,{page:z})):u});f.displayName="Link";var xT=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:n=!1,style:l,to:o,viewTransition:c,children:d,...m},p){let N=Fc(o,{relative:m.relative}),k=Ei(),I=v.useContext(Hm),{navigator:h,basename:V}=v.useContext(ja),w=I!=null&&jT(N)&&c===!0,C=h.encodeLocation?h.encodeLocation(N).pathname:N.pathname,z=k.pathname,T=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;r||(z=z.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&V&&(T=Ba(T,V)||T);const W=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let $=z===C||!n&&z.startsWith(C)&&z.charAt(W)==="/",U=T!=null&&(T===C||!n&&T.startsWith(C)&&T.charAt(C.length)==="/"),A={isActive:$,isPending:U,isTransitioning:w},u=$?t:void 0,F;typeof a=="function"?F=a(A):F=[a,$?"active":null,U?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let B=typeof l=="function"?l(A):l;return v.createElement(f,{...m,"aria-current":u,className:F,ref:p,style:B,to:o,viewTransition:c},typeof d=="function"?d(A):d)});xT.displayName="NavLink";var hT=v.forwardRef(({discover:s="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:n,state:l,method:o=uu,action:c,onSubmit:d,relative:m,preventScrollReset:p,viewTransition:N,...k},I)=>{let h=bT(),V=vT(c,{relative:m}),w=o.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&Z2.test(c),z=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let W=T.nativeEvent.submitter,$=(W==null?void 0:W.getAttribute("formmethod"))||o;h(W||T.currentTarget,{fetcherKey:t,method:$,navigate:r,replace:n,state:l,relative:m,preventScrollReset:p,viewTransition:N})};return v.createElement("form",{ref:I,method:w,action:V,onSubmit:a?d:z,...k,"data-discover":!C&&s==="render"?"true":void 0})});hT.displayName="Form";function pT(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e4(s){let t=v.useContext(zo);return ns(t,pT(s)),t}function fT(s,{target:t,replace:r,state:a,preventScrollReset:n,relative:l,viewTransition:o}={}){let c=jt(),d=Ei(),m=Fc(s,{relative:l});return v.useCallback(p=>{if(HP(p,t)){p.preventDefault();let N=r!==void 0?r:uc(d)===uc(m);c(s,{replace:N,state:a,preventScrollReset:n,relative:l,viewTransition:o})}},[d,c,m,r,a,t,s,n,l,o])}var gT=0,yT=()=>`__${String(++gT)}__`;function bT(){let{router:s}=e4("useSubmit"),{basename:t}=v.useContext(ja),r=VP();return v.useCallback(async(a,n={})=>{let{action:l,method:o,encType:c,formData:d,body:m}=YP(a,t);if(n.navigate===!1){let p=n.fetcherKey||yT();await s.fetch(p,r,n.action||l,{preventScrollReset:n.preventScrollReset,formData:d,body:m,formMethod:n.method||o,formEncType:n.encType||c,flushSync:n.flushSync})}else await s.navigate(n.action||l,{preventScrollReset:n.preventScrollReset,formData:d,body:m,formMethod:n.method||o,formEncType:n.encType||c,replace:n.replace,state:n.state,fromRouteId:r,flushSync:n.flushSync,viewTransition:n.viewTransition})},[s,t,r])}function vT(s,{relative:t}={}){let{basename:r}=v.useContext(ja),a=v.useContext(Ka);ns(a,"useFormAction must be used inside a RouteContext");let[n]=a.matches.slice(-1),l={...Fc(s||".",{relative:t})},o=Ei();if(s==null){l.search=o.search;let c=new URLSearchParams(l.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(N=>N).forEach(N=>c.append("index",N));let p=c.toString();l.search=p?`?${p}`:""}}return(!s||s===".")&&n.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Ra([r,l.pathname])),uc(l)}function jT(s,t={}){let r=v.useContext(W2);ns(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=e4("useViewTransitionState"),n=Fc(s,{relative:t.relative});if(!r.isTransitioning)return!1;let l=Ba(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=Ba(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Xu(n.pathname,o)!=null||Xu(n.pathname,l)!=null}new TextEncoder;var t4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},kv=pn.createContext&&pn.createContext(t4),NT=["attr","size","title"];function wT(s,t){if(s==null)return{};var r=kT(s,t),a,n;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(n=0;n<l.length;n++)a=l[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(r[a]=s[a])}return r}function kT(s,t){if(s==null)return{};var r={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(t.indexOf(a)>=0)continue;r[a]=s[a]}return r}function Ju(){return Ju=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])}return s},Ju.apply(this,arguments)}function Sv(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),r.push.apply(r,a)}return r}function Zu(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sv(Object(r),!0).forEach(function(a){ST(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Sv(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}function ST(s,t,r){return t=CT(t),t in s?Object.defineProperty(s,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[t]=r,s}function CT(s){var t=ET(s,"string");return typeof t=="symbol"?t:t+""}function ET(s,t){if(typeof s!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var a=r.call(s,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function s4(s){return s&&s.map((t,r)=>pn.createElement(t.tag,Zu({key:r},t.attr),s4(t.child)))}function rt(s){return t=>pn.createElement(IT,Ju({attr:Zu({},s.attr)},t),s4(s.child))}function IT(s){var t=r=>{var{attr:a,size:n,title:l}=s,o=wT(s,NT),c=n||r.size||"1em",d;return r.className&&(d=r.className),s.className&&(d=(d?d+" ":"")+s.className),pn.createElement("svg",Ju({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,o,{className:d,style:Zu(Zu({color:s.color||r.color},r.style),s.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&pn.createElement("title",null,l),s.children)};return kv!==void 0?pn.createElement(kv.Consumer,null,r=>t(r)):t(t4)}function r4(s){return rt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(s)}function PT(s){return rt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M150.94 192h33.73c11.01 0 18.61-10.83 14.86-21.18-4.93-13.58-7.55-27.98-7.55-42.82s2.62-29.24 7.55-42.82C203.29 74.83 195.68 64 184.67 64h-33.73c-7.01 0-13.46 4.49-15.41 11.23C130.64 92.21 128 109.88 128 128c0 18.12 2.64 35.79 7.54 52.76 1.94 6.74 8.39 11.24 15.4 11.24zM89.92 23.34C95.56 12.72 87.97 0 75.96 0H40.63c-6.27 0-12.14 3.59-14.74 9.31C9.4 45.54 0 85.65 0 128c0 24.75 3.12 68.33 26.69 118.86 2.62 5.63 8.42 9.14 14.61 9.14h34.84c12.02 0 19.61-12.74 13.95-23.37-49.78-93.32-16.71-178.15-.17-209.29zM614.06 9.29C611.46 3.58 605.6 0 599.33 0h-35.42c-11.98 0-19.66 12.66-14.02 23.25 18.27 34.29 48.42 119.42.28 209.23-5.72 10.68 1.8 23.52 13.91 23.52h35.23c6.27 0 12.13-3.58 14.73-9.29C630.57 210.48 640 170.36 640 128s-9.42-82.48-25.94-118.71zM489.06 64h-33.73c-11.01 0-18.61 10.83-14.86 21.18 4.93 13.58 7.55 27.98 7.55 42.82s-2.62 29.24-7.55 42.82c-3.76 10.35 3.85 21.18 14.86 21.18h33.73c7.02 0 13.46-4.49 15.41-11.24 4.9-16.97 7.53-34.64 7.53-52.76 0-18.12-2.64-35.79-7.54-52.76-1.94-6.75-8.39-11.24-15.4-11.24zm-116.3 100.12c7.05-10.29 11.2-22.71 11.2-36.12 0-35.35-28.63-64-63.96-64-35.32 0-63.96 28.65-63.96 64 0 13.41 4.15 25.83 11.2 36.12l-130.5 313.41c-3.4 8.15.46 17.52 8.61 20.92l29.51 12.31c8.15 3.4 17.52-.46 20.91-8.61L244.96 384h150.07l49.2 118.15c3.4 8.16 12.76 12.01 20.91 8.61l29.51-12.31c8.15-3.4 12-12.77 8.61-20.92l-130.5-313.41zM271.62 320L320 203.81 368.38 320h-96.76z"},child:[]}]})(s)}function TT(s){return rt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(s)}function _T(s){return rt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(s)}function DT(s){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(s)}function Tf(s){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(s)}function a4(s){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(s)}function _f(s){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(s)}function AT(s){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(s)}function Df(s){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(s)}function n4(s){return rt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(s)}const RT=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=function(s){const t=[];let r=0;for(let a=0;a<s.length;a++){let n=s.charCodeAt(a);n<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=n&63|128):(n&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(n=65536+((n&1023)<<10)+(s.charCodeAt(++a)&1023),t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=n&63|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=n&63|128)}return t},MT=function(s){const t=[];let r=0,a=0;for(;r<s.length;){const n=s[r++];if(n<128)t[a++]=String.fromCharCode(n);else if(n>191&&n<224){const l=s[r++];t[a++]=String.fromCharCode((n&31)<<6|l&63)}else if(n>239&&n<365){const l=s[r++],o=s[r++],c=s[r++],d=((n&7)<<18|(l&63)<<12|(o&63)<<6|c&63)-65536;t[a++]=String.fromCharCode(55296+(d>>10)),t[a++]=String.fromCharCode(56320+(d&1023))}else{const l=s[r++],o=s[r++];t[a++]=String.fromCharCode((n&15)<<12|(l&63)<<6|o&63)}}return t.join("")},o4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let n=0;n<s.length;n+=3){const l=s[n],o=n+1<s.length,c=o?s[n+1]:0,d=n+2<s.length,m=d?s[n+2]:0,p=l>>2,N=(l&3)<<4|c>>4;let k=(c&15)<<2|m>>6,I=m&63;d||(I=64,o||(k=64)),a.push(r[p],r[N],r[k],r[I])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(i4(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):MT(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let n=0;n<s.length;){const l=r[s.charAt(n++)],c=n<s.length?r[s.charAt(n)]:0;++n;const m=n<s.length?r[s.charAt(n)]:64;++n;const N=n<s.length?r[s.charAt(n)]:64;if(++n,l==null||c==null||m==null||N==null)throw new OT;const k=l<<2|c>>4;if(a.push(k),m!==64){const I=c<<4&240|m>>2;if(a.push(I),N!==64){const h=m<<6&192|N;a.push(h)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class OT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VT=function(s){const t=i4(s);return o4.encodeByteArray(t,!0)},em=function(s){return VT(s).replace(/\./g,"")},l4=function(s){try{return o4.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=()=>zT().__FIREBASE_DEFAULTS__,BT=()=>{if(typeof process>"u"||typeof process.env>"u")return;const s={}.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},FT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&l4(s[1]);return t&&JSON.parse(t)},Qm=()=>{try{return RT()||LT()||BT()||FT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},c4=s=>{var t,r;return(r=(t=Qm())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[s]},d4=s=>{const t=c4(s);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),a]:[t.substring(0,r),a]},u4=()=>{var s;return(s=Qm())===null||s===void 0?void 0:s.config},m4=s=>{var t;return(t=Qm())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=t||"demo-project",n=s.iat||0,l=s.sub||s.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:n,exp:n+3600,auth_time:n,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},s),c="";return[em(JSON.stringify(r)),em(JSON.stringify(o)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $T(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ys())}function qT(){var s;const t=(s=Qm())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h4(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function GT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HT(){const s=Ys();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function KT(){return!qT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p4(){try{return typeof indexedDB=="object"}catch{return!1}}function f4(){return new Promise((s,t)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(a);n.onsuccess=()=>{n.result.close(),r||self.indexedDB.deleteDatabase(a),s(!0)},n.onupgradeneeded=()=>{r=!1},n.onerror=()=>{var l;t(((l=n.error)===null||l===void 0?void 0:l.message)||"")}}catch(r){t(r)}})}function QT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="FirebaseError";class Br extends Error{constructor(t,r,a){super(r),this.code=t,this.customData=a,this.name=YT,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ii.prototype.create)}}class Ii{constructor(t,r,a){this.service=t,this.serviceName=r,this.errors=a}create(t,...r){const a=r[0]||{},n=`${this.service}/${t}`,l=this.errors[t],o=l?XT(l,a):"Error",c=`${this.serviceName}: ${o} (${n}).`;return new Br(n,c,a)}}function XT(s,t){return s.replace(JT,(r,a)=>{const n=t[a];return n!=null?String(n):`<${a}?>`})}const JT=/\{\$([^}]+)}/g;function ZT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Tn(s,t){if(s===t)return!0;const r=Object.keys(s),a=Object.keys(t);for(const n of r){if(!a.includes(n))return!1;const l=s[n],o=t[n];if(Cv(l)&&Cv(o)){if(!Tn(l,o))return!1}else if(l!==o)return!1}for(const n of a)if(!r.includes(n))return!1;return!0}function Cv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(s){const t=[];for(const[r,a]of Object.entries(s))Array.isArray(a)?a.forEach(n=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function yl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[n,l]=a.split("=");t[decodeURIComponent(n)]=decodeURIComponent(l)}}),t}function bl(s){const t=s.indexOf("?");if(!t)return"";const r=s.indexOf("#",t);return s.substring(t,r>0?r:void 0)}function e6(s,t){const r=new t6(s,t);return r.subscribe.bind(r)}class t6{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,a){let n;if(t===void 0&&r===void 0&&a===void 0)throw new Error("Missing Observer.");s6(t,["next","error","complete"])?n=t:n={next:t,error:r,complete:a},n.next===void 0&&(n.next=xh),n.error===void 0&&(n.error=xh),n.complete===void 0&&(n.complete=xh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch{}}),this.observers.push(n),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s6(s,t){if(typeof s!="object"||s===null)return!1;for(const r of t)if(r in s&&typeof s[r]=="function")return!0;return!1}function xh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=1e3,a6=2,n6=4*60*60*1e3,i6=.5;function Ev(s,t=r6,r=a6){const a=t*Math.pow(r,s),n=Math.round(i6*a*(Math.random()-.5)*2);return Math.min(n6,a+n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(s){return s&&s._delegate?s._delegate:s}class Lr{constructor(t,r,a){this.name=t,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const a=new UT;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:r});n&&a.resolve(n)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(n)return null;throw l}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(c6(t))try{this.getOrInitializeService({instanceIdentifier:Zn})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(r);try{const l=this.getOrInitializeService({instanceIdentifier:n});a.resolve(l)}catch{}}}}clearInstance(t=Zn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zn){return this.instances.has(t)}getOptions(t=Zn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[l,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);a===c&&o.resolve(n)}return n}onInit(t,r){var a;const n=this.normalizeInstanceIdentifier(r),l=(a=this.onInitCallbacks.get(n))!==null&&a!==void 0?a:new Set;l.add(t),this.onInitCallbacks.set(n,l);const o=this.instances.get(n);return o&&t(o,n),()=>{l.delete(t)}}invokeOnInitCallbacks(t,r){const a=this.onInitCallbacks.get(r);if(a)for(const n of a)try{n(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:l6(t),options:r}),this.instances.set(t,a),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Zn){return this.component?this.component.multipleInstances?t:Zn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l6(s){return s===Zn?void 0:s}function c6(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new o6(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ct||(Ct={}));const u6={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},m6=Ct.INFO,x6={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},h6=(s,t,...r)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),n=x6[t];if(n)console[n](`[${a}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ym{constructor(t){this.name=t,this._logLevel=m6,this._logHandler=h6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?u6[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...t),this._logHandler(this,Ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...t),this._logHandler(this,Ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...t),this._logHandler(this,Ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...t),this._logHandler(this,Ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...t),this._logHandler(this,Ct.ERROR,...t)}}const p6=(s,t)=>t.some(r=>s instanceof r);let Iv,Pv;function f6(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g6(){return Pv||(Pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g4=new WeakMap,O0=new WeakMap,y4=new WeakMap,hh=new WeakMap,Af=new WeakMap;function y6(s){const t=new Promise((r,a)=>{const n=()=>{s.removeEventListener("success",l),s.removeEventListener("error",o)},l=()=>{r(kn(s.result)),n()},o=()=>{a(s.error),n()};s.addEventListener("success",l),s.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&g4.set(r,s)}).catch(()=>{}),Af.set(t,s),t}function b6(s){if(O0.has(s))return;const t=new Promise((r,a)=>{const n=()=>{s.removeEventListener("complete",l),s.removeEventListener("error",o),s.removeEventListener("abort",o)},l=()=>{r(),n()},o=()=>{a(s.error||new DOMException("AbortError","AbortError")),n()};s.addEventListener("complete",l),s.addEventListener("error",o),s.addEventListener("abort",o)});O0.set(s,t)}let V0={get(s,t,r){if(s instanceof IDBTransaction){if(t==="done")return O0.get(s);if(t==="objectStoreNames")return s.objectStoreNames||y4.get(s);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return kn(s[t])},set(s,t,r){return s[t]=r,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function v6(s){V0=s(V0)}function j6(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const a=s.call(ph(this),t,...r);return y4.set(a,t.sort?t.sort():[t]),kn(a)}:g6().includes(s)?function(...t){return s.apply(ph(this),t),kn(g4.get(this))}:function(...t){return kn(s.apply(ph(this),t))}}function N6(s){return typeof s=="function"?j6(s):(s instanceof IDBTransaction&&b6(s),p6(s,f6())?new Proxy(s,V0):s)}function kn(s){if(s instanceof IDBRequest)return y6(s);if(hh.has(s))return hh.get(s);const t=N6(s);return t!==s&&(hh.set(s,t),Af.set(t,s)),t}const ph=s=>Af.get(s);function b4(s,t,{blocked:r,upgrade:a,blocking:n,terminated:l}={}){const o=indexedDB.open(s,t),c=kn(o);return a&&o.addEventListener("upgradeneeded",d=>{a(kn(o.result),d.oldVersion,d.newVersion,kn(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{l&&d.addEventListener("close",()=>l()),n&&d.addEventListener("versionchange",m=>n(m.oldVersion,m.newVersion,m))}).catch(()=>{}),c}const w6=["get","getKey","getAll","getAllKeys","count"],k6=["put","add","delete","clear"],fh=new Map;function Tv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(fh.get(t))return fh.get(t);const r=t.replace(/FromIndex$/,""),a=t!==r,n=k6.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(n||w6.includes(r)))return;const l=async function(o,...c){const d=this.transaction(o,n?"readwrite":"readonly");let m=d.store;return a&&(m=m.index(c.shift())),(await Promise.all([m[r](...c),n&&d.done]))[0]};return fh.set(t,l),l}v6(s=>({...s,get:(t,r,a)=>Tv(t,r)||s.get(t,r,a),has:(t,r)=>!!Tv(t,r)||s.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(C6(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function C6(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const z0="@firebase/app",_v="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new Ym("@firebase/app"),E6="@firebase/app-compat",I6="@firebase/analytics-compat",P6="@firebase/analytics",T6="@firebase/app-check-compat",_6="@firebase/app-check",D6="@firebase/auth",A6="@firebase/auth-compat",R6="@firebase/database",M6="@firebase/data-connect",O6="@firebase/database-compat",V6="@firebase/functions",z6="@firebase/functions-compat",L6="@firebase/installations",B6="@firebase/installations-compat",F6="@firebase/messaging",U6="@firebase/messaging-compat",$6="@firebase/performance",q6="@firebase/performance-compat",W6="@firebase/remote-config",G6="@firebase/remote-config-compat",H6="@firebase/storage",K6="@firebase/storage-compat",Q6="@firebase/firestore",Y6="@firebase/vertexai",X6="@firebase/firestore-compat",J6="firebase",Z6="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="[DEFAULT]",e_={[z0]:"fire-core",[E6]:"fire-core-compat",[P6]:"fire-analytics",[I6]:"fire-analytics-compat",[_6]:"fire-app-check",[T6]:"fire-app-check-compat",[D6]:"fire-auth",[A6]:"fire-auth-compat",[R6]:"fire-rtdb",[M6]:"fire-data-connect",[O6]:"fire-rtdb-compat",[V6]:"fire-fn",[z6]:"fire-fn-compat",[L6]:"fire-iid",[B6]:"fire-iid-compat",[F6]:"fire-fcm",[U6]:"fire-fcm-compat",[$6]:"fire-perf",[q6]:"fire-perf-compat",[W6]:"fire-rc",[G6]:"fire-rc-compat",[H6]:"fire-gcs",[K6]:"fire-gcs-compat",[Q6]:"fire-fst",[X6]:"fire-fst-compat",[Y6]:"fire-vertex","fire-js":"fire-js",[J6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new Map,t_=new Map,B0=new Map;function Dv(s,t){try{s.container.addComponent(t)}catch(r){Fa.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,r)}}function Zr(s){const t=s.name;if(B0.has(t))return Fa.debug(`There were multiple attempts to register component ${t}.`),!1;B0.set(t,s);for(const r of tm.values())Dv(r,s);for(const r of t_.values())Dv(r,s);return!0}function Un(s,t){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(t)}function vr(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sn=new Ii("app","Firebase",s_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(t,r,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=Z6;function v4(s,t={}){let r=s;typeof t!="object"&&(t={name:t});const a=Object.assign({name:L0,automaticDataCollectionEnabled:!1},t),n=a.name;if(typeof n!="string"||!n)throw Sn.create("bad-app-name",{appName:String(n)});if(r||(r=u4()),!r)throw Sn.create("no-options");const l=tm.get(n);if(l){if(Tn(r,l.options)&&Tn(a,l.config))return l;throw Sn.create("duplicate-app",{appName:n})}const o=new d6(n);for(const d of B0.values())o.addComponent(d);const c=new r_(r,a,o);return tm.set(n,c),c}function Xm(s=L0){const t=tm.get(s);if(!t&&s===L0&&u4())return v4();if(!t)throw Sn.create("no-app",{appName:s});return t}function pr(s,t,r){var a;let n=(a=e_[s])!==null&&a!==void 0?a:s;r&&(n+=`-${r}`);const l=n.match(/\s|\//),o=t.match(/\s|\//);if(l||o){const c=[`Unable to register library "${n}" with version "${t}":`];l&&c.push(`library name "${n}" contains illegal characters (whitespace or "/")`),l&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fa.warn(c.join(" "));return}Zr(new Lr(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="firebase-heartbeat-database",n_=1,mc="firebase-heartbeat-store";let gh=null;function j4(){return gh||(gh=b4(a_,n_,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(mc)}catch(r){console.warn(r)}}}}).catch(s=>{throw Sn.create("idb-open",{originalErrorMessage:s.message})})),gh}async function i_(s){try{const r=(await j4()).transaction(mc),a=await r.objectStore(mc).get(N4(s));return await r.done,a}catch(t){if(t instanceof Br)Fa.warn(t.message);else{const r=Sn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fa.warn(r.message)}}}async function Av(s,t){try{const a=(await j4()).transaction(mc,"readwrite");await a.objectStore(mc).put(t,N4(s)),await a.done}catch(r){if(r instanceof Br)Fa.warn(r.message);else{const a=Sn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Fa.warn(a.message)}}}function N4(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=1024,l_=30;class c_{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new u_(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,r;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Rv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:n}),this._heartbeatsCache.heartbeats.length>l_){const o=m_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Fa.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Rv(),{heartbeatsToSend:a,unsentEntries:n}=d_(this._heartbeatsCache.heartbeats),l=em(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=r,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(r){return Fa.warn(r),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function d_(s,t=o_){const r=[];let a=s.slice();for(const n of s){const l=r.find(o=>o.agent===n.agent);if(l){if(l.dates.push(n.date),Mv(r)>t){l.dates.pop();break}}else if(r.push({agent:n.agent,dates:[n.date]}),Mv(r)>t){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class u_{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p4()?f4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await i_(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const n=await this.read();return Av(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const n=await this.read();return Av(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function Mv(s){return em(JSON.stringify({version:2,heartbeats:s})).length}function m_(s){if(s.length===0)return-1;let t=0,r=s[0].date;for(let a=1;a<s.length;a++)s[a].date<r&&(r=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(s){Zr(new Lr("platform-logger",t=>new S6(t),"PRIVATE")),Zr(new Lr("heartbeat",t=>new c_(t),"PRIVATE")),pr(z0,_v,s),pr(z0,_v,"esm2017"),pr("fire-js","")}x_("");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cn,w4;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,u){function F(){}F.prototype=u.prototype,A.D=u.prototype,A.prototype=new F,A.prototype.constructor=A,A.C=function(B,Q,D){for(var G=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)G[Ae-2]=arguments[Ae];return u.prototype[Q].apply(B,G)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function n(A,u,F){F||(F=0);var B=Array(16);if(typeof u=="string")for(var Q=0;16>Q;++Q)B[Q]=u.charCodeAt(F++)|u.charCodeAt(F++)<<8|u.charCodeAt(F++)<<16|u.charCodeAt(F++)<<24;else for(Q=0;16>Q;++Q)B[Q]=u[F++]|u[F++]<<8|u[F++]<<16|u[F++]<<24;u=A.g[0],F=A.g[1],Q=A.g[2];var D=A.g[3],G=u+(D^F&(Q^D))+B[0]+3614090360&4294967295;u=F+(G<<7&4294967295|G>>>25),G=D+(Q^u&(F^Q))+B[1]+3905402710&4294967295,D=u+(G<<12&4294967295|G>>>20),G=Q+(F^D&(u^F))+B[2]+606105819&4294967295,Q=D+(G<<17&4294967295|G>>>15),G=F+(u^Q&(D^u))+B[3]+3250441966&4294967295,F=Q+(G<<22&4294967295|G>>>10),G=u+(D^F&(Q^D))+B[4]+4118548399&4294967295,u=F+(G<<7&4294967295|G>>>25),G=D+(Q^u&(F^Q))+B[5]+1200080426&4294967295,D=u+(G<<12&4294967295|G>>>20),G=Q+(F^D&(u^F))+B[6]+2821735955&4294967295,Q=D+(G<<17&4294967295|G>>>15),G=F+(u^Q&(D^u))+B[7]+4249261313&4294967295,F=Q+(G<<22&4294967295|G>>>10),G=u+(D^F&(Q^D))+B[8]+1770035416&4294967295,u=F+(G<<7&4294967295|G>>>25),G=D+(Q^u&(F^Q))+B[9]+2336552879&4294967295,D=u+(G<<12&4294967295|G>>>20),G=Q+(F^D&(u^F))+B[10]+4294925233&4294967295,Q=D+(G<<17&4294967295|G>>>15),G=F+(u^Q&(D^u))+B[11]+2304563134&4294967295,F=Q+(G<<22&4294967295|G>>>10),G=u+(D^F&(Q^D))+B[12]+1804603682&4294967295,u=F+(G<<7&4294967295|G>>>25),G=D+(Q^u&(F^Q))+B[13]+4254626195&4294967295,D=u+(G<<12&4294967295|G>>>20),G=Q+(F^D&(u^F))+B[14]+2792965006&4294967295,Q=D+(G<<17&4294967295|G>>>15),G=F+(u^Q&(D^u))+B[15]+1236535329&4294967295,F=Q+(G<<22&4294967295|G>>>10),G=u+(Q^D&(F^Q))+B[1]+4129170786&4294967295,u=F+(G<<5&4294967295|G>>>27),G=D+(F^Q&(u^F))+B[6]+3225465664&4294967295,D=u+(G<<9&4294967295|G>>>23),G=Q+(u^F&(D^u))+B[11]+643717713&4294967295,Q=D+(G<<14&4294967295|G>>>18),G=F+(D^u&(Q^D))+B[0]+3921069994&4294967295,F=Q+(G<<20&4294967295|G>>>12),G=u+(Q^D&(F^Q))+B[5]+3593408605&4294967295,u=F+(G<<5&4294967295|G>>>27),G=D+(F^Q&(u^F))+B[10]+38016083&4294967295,D=u+(G<<9&4294967295|G>>>23),G=Q+(u^F&(D^u))+B[15]+3634488961&4294967295,Q=D+(G<<14&4294967295|G>>>18),G=F+(D^u&(Q^D))+B[4]+3889429448&4294967295,F=Q+(G<<20&4294967295|G>>>12),G=u+(Q^D&(F^Q))+B[9]+568446438&4294967295,u=F+(G<<5&4294967295|G>>>27),G=D+(F^Q&(u^F))+B[14]+3275163606&4294967295,D=u+(G<<9&4294967295|G>>>23),G=Q+(u^F&(D^u))+B[3]+4107603335&4294967295,Q=D+(G<<14&4294967295|G>>>18),G=F+(D^u&(Q^D))+B[8]+1163531501&4294967295,F=Q+(G<<20&4294967295|G>>>12),G=u+(Q^D&(F^Q))+B[13]+2850285829&4294967295,u=F+(G<<5&4294967295|G>>>27),G=D+(F^Q&(u^F))+B[2]+4243563512&4294967295,D=u+(G<<9&4294967295|G>>>23),G=Q+(u^F&(D^u))+B[7]+1735328473&4294967295,Q=D+(G<<14&4294967295|G>>>18),G=F+(D^u&(Q^D))+B[12]+2368359562&4294967295,F=Q+(G<<20&4294967295|G>>>12),G=u+(F^Q^D)+B[5]+4294588738&4294967295,u=F+(G<<4&4294967295|G>>>28),G=D+(u^F^Q)+B[8]+2272392833&4294967295,D=u+(G<<11&4294967295|G>>>21),G=Q+(D^u^F)+B[11]+1839030562&4294967295,Q=D+(G<<16&4294967295|G>>>16),G=F+(Q^D^u)+B[14]+4259657740&4294967295,F=Q+(G<<23&4294967295|G>>>9),G=u+(F^Q^D)+B[1]+2763975236&4294967295,u=F+(G<<4&4294967295|G>>>28),G=D+(u^F^Q)+B[4]+1272893353&4294967295,D=u+(G<<11&4294967295|G>>>21),G=Q+(D^u^F)+B[7]+4139469664&4294967295,Q=D+(G<<16&4294967295|G>>>16),G=F+(Q^D^u)+B[10]+3200236656&4294967295,F=Q+(G<<23&4294967295|G>>>9),G=u+(F^Q^D)+B[13]+681279174&4294967295,u=F+(G<<4&4294967295|G>>>28),G=D+(u^F^Q)+B[0]+3936430074&4294967295,D=u+(G<<11&4294967295|G>>>21),G=Q+(D^u^F)+B[3]+3572445317&4294967295,Q=D+(G<<16&4294967295|G>>>16),G=F+(Q^D^u)+B[6]+76029189&4294967295,F=Q+(G<<23&4294967295|G>>>9),G=u+(F^Q^D)+B[9]+3654602809&4294967295,u=F+(G<<4&4294967295|G>>>28),G=D+(u^F^Q)+B[12]+3873151461&4294967295,D=u+(G<<11&4294967295|G>>>21),G=Q+(D^u^F)+B[15]+530742520&4294967295,Q=D+(G<<16&4294967295|G>>>16),G=F+(Q^D^u)+B[2]+3299628645&4294967295,F=Q+(G<<23&4294967295|G>>>9),G=u+(Q^(F|~D))+B[0]+4096336452&4294967295,u=F+(G<<6&4294967295|G>>>26),G=D+(F^(u|~Q))+B[7]+1126891415&4294967295,D=u+(G<<10&4294967295|G>>>22),G=Q+(u^(D|~F))+B[14]+2878612391&4294967295,Q=D+(G<<15&4294967295|G>>>17),G=F+(D^(Q|~u))+B[5]+4237533241&4294967295,F=Q+(G<<21&4294967295|G>>>11),G=u+(Q^(F|~D))+B[12]+1700485571&4294967295,u=F+(G<<6&4294967295|G>>>26),G=D+(F^(u|~Q))+B[3]+2399980690&4294967295,D=u+(G<<10&4294967295|G>>>22),G=Q+(u^(D|~F))+B[10]+4293915773&4294967295,Q=D+(G<<15&4294967295|G>>>17),G=F+(D^(Q|~u))+B[1]+2240044497&4294967295,F=Q+(G<<21&4294967295|G>>>11),G=u+(Q^(F|~D))+B[8]+1873313359&4294967295,u=F+(G<<6&4294967295|G>>>26),G=D+(F^(u|~Q))+B[15]+4264355552&4294967295,D=u+(G<<10&4294967295|G>>>22),G=Q+(u^(D|~F))+B[6]+2734768916&4294967295,Q=D+(G<<15&4294967295|G>>>17),G=F+(D^(Q|~u))+B[13]+1309151649&4294967295,F=Q+(G<<21&4294967295|G>>>11),G=u+(Q^(F|~D))+B[4]+4149444226&4294967295,u=F+(G<<6&4294967295|G>>>26),G=D+(F^(u|~Q))+B[11]+3174756917&4294967295,D=u+(G<<10&4294967295|G>>>22),G=Q+(u^(D|~F))+B[2]+718787259&4294967295,Q=D+(G<<15&4294967295|G>>>17),G=F+(D^(Q|~u))+B[9]+3951481745&4294967295,A.g[0]=A.g[0]+u&4294967295,A.g[1]=A.g[1]+(Q+(G<<21&4294967295|G>>>11))&4294967295,A.g[2]=A.g[2]+Q&4294967295,A.g[3]=A.g[3]+D&4294967295}a.prototype.u=function(A,u){u===void 0&&(u=A.length);for(var F=u-this.blockSize,B=this.B,Q=this.h,D=0;D<u;){if(Q==0)for(;D<=F;)n(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<u;)if(B[Q++]=A.charCodeAt(D++),Q==this.blockSize){n(this,B),Q=0;break}}else for(;D<u;)if(B[Q++]=A[D++],Q==this.blockSize){n(this,B),Q=0;break}}this.h=Q,this.o+=u},a.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var u=1;u<A.length-8;++u)A[u]=0;var F=8*this.o;for(u=A.length-8;u<A.length;++u)A[u]=F&255,F/=256;for(this.u(A),A=Array(16),u=F=0;4>u;++u)for(var B=0;32>B;B+=8)A[F++]=this.g[u]>>>B&255;return A};function l(A,u){var F=c;return Object.prototype.hasOwnProperty.call(F,A)?F[A]:F[A]=u(A)}function o(A,u){this.h=u;for(var F=[],B=!0,Q=A.length-1;0<=Q;Q--){var D=A[Q]|0;B&&D==u||(F[Q]=D,B=!1)}this.g=F}var c={};function d(A){return-128<=A&&128>A?l(A,function(u){return new o([u|0],0>u?-1:0)}):new o([A|0],0>A?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return N;if(0>A)return w(m(-A));for(var u=[],F=1,B=0;A>=F;B++)u[B]=A/F|0,F*=4294967296;return new o(u,0)}function p(A,u){if(A.length==0)throw Error("number format error: empty string");if(u=u||10,2>u||36<u)throw Error("radix out of range: "+u);if(A.charAt(0)=="-")return w(p(A.substring(1),u));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=m(Math.pow(u,8)),B=N,Q=0;Q<A.length;Q+=8){var D=Math.min(8,A.length-Q),G=parseInt(A.substring(Q,Q+D),u);8>D?(D=m(Math.pow(u,D)),B=B.j(D).add(m(G))):(B=B.j(F),B=B.add(m(G)))}return B}var N=d(0),k=d(1),I=d(16777216);s=o.prototype,s.m=function(){if(V(this))return-w(this).m();for(var A=0,u=1,F=0;F<this.g.length;F++){var B=this.i(F);A+=(0<=B?B:4294967296+B)*u,u*=4294967296}return A},s.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(h(this))return"0";if(V(this))return"-"+w(this).toString(A);for(var u=m(Math.pow(A,6)),F=this,B="";;){var Q=W(F,u).g;F=C(F,Q.j(u));var D=((0<F.g.length?F.g[0]:F.h)>>>0).toString(A);if(F=Q,h(F))return D+B;for(;6>D.length;)D="0"+D;B=D+B}},s.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function h(A){if(A.h!=0)return!1;for(var u=0;u<A.g.length;u++)if(A.g[u]!=0)return!1;return!0}function V(A){return A.h==-1}s.l=function(A){return A=C(this,A),V(A)?-1:h(A)?0:1};function w(A){for(var u=A.g.length,F=[],B=0;B<u;B++)F[B]=~A.g[B];return new o(F,~A.h).add(k)}s.abs=function(){return V(this)?w(this):this},s.add=function(A){for(var u=Math.max(this.g.length,A.g.length),F=[],B=0,Q=0;Q<=u;Q++){var D=B+(this.i(Q)&65535)+(A.i(Q)&65535),G=(D>>>16)+(this.i(Q)>>>16)+(A.i(Q)>>>16);B=G>>>16,D&=65535,G&=65535,F[Q]=G<<16|D}return new o(F,F[F.length-1]&-2147483648?-1:0)};function C(A,u){return A.add(w(u))}s.j=function(A){if(h(this)||h(A))return N;if(V(this))return V(A)?w(this).j(w(A)):w(w(this).j(A));if(V(A))return w(this.j(w(A)));if(0>this.l(I)&&0>A.l(I))return m(this.m()*A.m());for(var u=this.g.length+A.g.length,F=[],B=0;B<2*u;B++)F[B]=0;for(B=0;B<this.g.length;B++)for(var Q=0;Q<A.g.length;Q++){var D=this.i(B)>>>16,G=this.i(B)&65535,Ae=A.i(Q)>>>16,Le=A.i(Q)&65535;F[2*B+2*Q]+=G*Le,z(F,2*B+2*Q),F[2*B+2*Q+1]+=D*Le,z(F,2*B+2*Q+1),F[2*B+2*Q+1]+=G*Ae,z(F,2*B+2*Q+1),F[2*B+2*Q+2]+=D*Ae,z(F,2*B+2*Q+2)}for(B=0;B<u;B++)F[B]=F[2*B+1]<<16|F[2*B];for(B=u;B<2*u;B++)F[B]=0;return new o(F,0)};function z(A,u){for(;(A[u]&65535)!=A[u];)A[u+1]+=A[u]>>>16,A[u]&=65535,u++}function T(A,u){this.g=A,this.h=u}function W(A,u){if(h(u))throw Error("division by zero");if(h(A))return new T(N,N);if(V(A))return u=W(w(A),u),new T(w(u.g),w(u.h));if(V(u))return u=W(A,w(u)),new T(w(u.g),u.h);if(30<A.g.length){if(V(A)||V(u))throw Error("slowDivide_ only works with positive integers.");for(var F=k,B=u;0>=B.l(A);)F=$(F),B=$(B);var Q=U(F,1),D=U(B,1);for(B=U(B,2),F=U(F,2);!h(B);){var G=D.add(B);0>=G.l(A)&&(Q=Q.add(F),D=G),B=U(B,1),F=U(F,1)}return u=C(A,Q.j(u)),new T(Q,u)}for(Q=N;0<=A.l(u);){for(F=Math.max(1,Math.floor(A.m()/u.m())),B=Math.ceil(Math.log(F)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),D=m(F),G=D.j(u);V(G)||0<G.l(A);)F-=B,D=m(F),G=D.j(u);h(D)&&(D=k),Q=Q.add(D),A=C(A,G)}return new T(Q,A)}s.A=function(A){return W(this,A).h},s.and=function(A){for(var u=Math.max(this.g.length,A.g.length),F=[],B=0;B<u;B++)F[B]=this.i(B)&A.i(B);return new o(F,this.h&A.h)},s.or=function(A){for(var u=Math.max(this.g.length,A.g.length),F=[],B=0;B<u;B++)F[B]=this.i(B)|A.i(B);return new o(F,this.h|A.h)},s.xor=function(A){for(var u=Math.max(this.g.length,A.g.length),F=[],B=0;B<u;B++)F[B]=this.i(B)^A.i(B);return new o(F,this.h^A.h)};function $(A){for(var u=A.g.length+1,F=[],B=0;B<u;B++)F[B]=A.i(B)<<1|A.i(B-1)>>>31;return new o(F,A.h)}function U(A,u){var F=u>>5;u%=32;for(var B=A.g.length-F,Q=[],D=0;D<B;D++)Q[D]=0<u?A.i(D+F)>>>u|A.i(D+F+1)<<32-u:A.i(D+F);return new o(Q,A.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,w4=a,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=m,o.fromString=p,Cn=o}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k4,vl,S4,xu,F0,C4,E4,I4;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,E,M){return x==Array.prototype||x==Object.prototype||(x[E]=M.value),x};function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var E=0;E<x.length;++E){var M=x[E];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var a=r(this);function n(x,E){if(E)e:{var M=a;x=x.split(".");for(var K=0;K<x.length-1;K++){var ce=x[K];if(!(ce in M))break e;M=M[ce]}x=x[x.length-1],K=M[x],E=E(K),E!=K&&E!=null&&t(M,x,{configurable:!0,writable:!0,value:E})}}function l(x,E){x instanceof String&&(x+="");var M=0,K=!1,ce={next:function(){if(!K&&M<x.length){var ge=M++;return{value:E(ge,x[ge]),done:!1}}return K=!0,{done:!0,value:void 0}}};return ce[Symbol.iterator]=function(){return ce},ce}n("Array.prototype.values",function(x){return x||function(){return l(this,function(E,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function d(x){var E=typeof x;return E=E!="object"?E:x?Array.isArray(x)?"array":E:"null",E=="array"||E=="object"&&typeof x.length=="number"}function m(x){var E=typeof x;return E=="object"&&x!=null||E=="function"}function p(x,E,M){return x.call.apply(x.bind,arguments)}function N(x,E,M){if(!x)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ce,K),x.apply(E,ce)}}return function(){return x.apply(E,arguments)}}function k(x,E,M){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:N,k.apply(null,arguments)}function I(x,E){var M=Array.prototype.slice.call(arguments,1);return function(){var K=M.slice();return K.push.apply(K,arguments),x.apply(this,K)}}function h(x,E){function M(){}M.prototype=E.prototype,x.aa=E.prototype,x.prototype=new M,x.prototype.constructor=x,x.Qb=function(K,ce,ge){for(var Ve=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)Ve[Wt-2]=arguments[Wt];return E.prototype[ce].apply(K,Ve)}}function V(x){const E=x.length;if(0<E){const M=Array(E);for(let K=0;K<E;K++)M[K]=x[K];return M}return[]}function w(x,E){for(let M=1;M<arguments.length;M++){const K=arguments[M];if(d(K)){const ce=x.length||0,ge=K.length||0;x.length=ce+ge;for(let Ve=0;Ve<ge;Ve++)x[ce+Ve]=K[Ve]}else x.push(K)}}class C{constructor(E,M){this.i=E,this.j=M,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function z(x){return/^[\s\xa0]*$/.test(x)}function T(){var x=c.navigator;return x&&(x=x.userAgent)?x:""}function W(x){return W[" "](x),x}W[" "]=function(){};var $=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function U(x,E,M){for(const K in x)E.call(M,x[K],K,x)}function A(x,E){for(const M in x)E.call(void 0,x[M],M,x)}function u(x){const E={};for(const M in x)E[M]=x[M];return E}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(x,E){let M,K;for(let ce=1;ce<arguments.length;ce++){K=arguments[ce];for(M in K)x[M]=K[M];for(let ge=0;ge<F.length;ge++)M=F[ge],Object.prototype.hasOwnProperty.call(K,M)&&(x[M]=K[M])}}function Q(x){var E=1;x=x.split(":");const M=[];for(;0<E&&x.length;)M.push(x.shift()),E--;return x.length&&M.push(x.join(":")),M}function D(x){c.setTimeout(()=>{throw x},0)}function G(){var x=me;let E=null;return x.g&&(E=x.g,x.g=x.g.next,x.g||(x.h=null),E.next=null),E}class Ae{constructor(){this.h=this.g=null}add(E,M){const K=Le.get();K.set(E,M),this.h?this.h.next=K:this.g=K,this.h=K}}var Le=new C(()=>new Te,x=>x.reset());class Te{constructor(){this.next=this.g=this.h=null}set(E,M){this.h=E,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,de=!1,me=new Ae,xe=()=>{const x=c.Promise.resolve(void 0);Ee=()=>{x.then(oe)}};var oe=()=>{for(var x;x=G();){try{x.h.call(x.g)}catch(M){D(M)}var E=Le;E.j(x),100>E.h&&(E.h++,x.next=E.g,E.g=x)}de=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function i(x,E){this.type=x,this.g=this.target=E,this.defaultPrevented=!1}i.prototype.h=function(){this.defaultPrevented=!0};var b=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var x=!1,E=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const M=()=>{};c.addEventListener("test",M,E),c.removeEventListener("test",M,E)}catch{}return x}();function y(x,E){if(i.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var M=this.type=x.type,K=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=E,E=x.relatedTarget){if($){e:{try{W(E.nodeName);var ce=!0;break e}catch{}ce=!1}ce||(E=null)}}else M=="mouseover"?E=x.fromElement:M=="mouseout"&&(E=x.toElement);this.relatedTarget=E,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:O[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&y.aa.h.call(this)}}h(y,i);var O={2:"touch",3:"pen",4:"mouse"};y.prototype.h=function(){y.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var H="closure_listenable_"+(1e6*Math.random()|0),Z=0;function S(x,E,M,K,ce){this.listener=x,this.proxy=null,this.src=E,this.type=M,this.capture=!!K,this.ha=ce,this.key=++Z,this.da=this.fa=!1}function _(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function R(x){this.src=x,this.g={},this.h=0}R.prototype.add=function(x,E,M,K,ce){var ge=x.toString();x=this.g[ge],x||(x=this.g[ge]=[],this.h++);var Ve=g(x,E,K,ce);return-1<Ve?(E=x[Ve],M||(E.fa=!1)):(E=new S(E,this.src,ge,!!K,ce),E.fa=M,x.push(E)),E};function j(x,E){var M=E.type;if(M in x.g){var K=x.g[M],ce=Array.prototype.indexOf.call(K,E,void 0),ge;(ge=0<=ce)&&Array.prototype.splice.call(K,ce,1),ge&&(_(E),x.g[M].length==0&&(delete x.g[M],x.h--))}}function g(x,E,M,K){for(var ce=0;ce<x.length;++ce){var ge=x[ce];if(!ge.da&&ge.listener==E&&ge.capture==!!M&&ge.ha==K)return ce}return-1}var L="closure_lm_"+(1e6*Math.random()|0),ue={};function ae(x,E,M,K,ce){if(K&&K.once)return se(x,E,M,K,ce);if(Array.isArray(E)){for(var ge=0;ge<E.length;ge++)ae(x,E[ge],M,K,ce);return null}return M=Pe(M),x&&x[H]?x.K(E,M,m(K)?!!K.capture:!!K,ce):ne(x,E,M,!1,K,ce)}function ne(x,E,M,K,ce,ge){if(!E)throw Error("Invalid event type");var Ve=m(ce)?!!ce.capture:!!ce,Wt=_e(x);if(Wt||(x[L]=Wt=new R(x)),M=Wt.add(E,M,K,Ve,ge),M.proxy)return M;if(K=J(),M.proxy=K,K.src=x,K.listener=M,x.addEventListener)b||(ce=Ve),ce===void 0&&(ce=!1),x.addEventListener(E.toString(),K,ce);else if(x.attachEvent)x.attachEvent(fe(E.toString()),K);else if(x.addListener&&x.removeListener)x.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return M}function J(){function x(M){return E.call(x.src,x.listener,M)}const E=he;return x}function se(x,E,M,K,ce){if(Array.isArray(E)){for(var ge=0;ge<E.length;ge++)se(x,E[ge],M,K,ce);return null}return M=Pe(M),x&&x[H]?x.L(E,M,m(K)?!!K.capture:!!K,ce):ne(x,E,M,!0,K,ce)}function at(x,E,M,K,ce){if(Array.isArray(E))for(var ge=0;ge<E.length;ge++)at(x,E[ge],M,K,ce);else K=m(K)?!!K.capture:!!K,M=Pe(M),x&&x[H]?(x=x.i,E=String(E).toString(),E in x.g&&(ge=x.g[E],M=g(ge,M,K,ce),-1<M&&(_(ge[M]),Array.prototype.splice.call(ge,M,1),ge.length==0&&(delete x.g[E],x.h--)))):x&&(x=_e(x))&&(E=x.g[E.toString()],x=-1,E&&(x=g(E,M,K,ce)),(M=-1<x?E[x]:null)&&Y(M))}function Y(x){if(typeof x!="number"&&x&&!x.da){var E=x.src;if(E&&E[H])j(E.i,x);else{var M=x.type,K=x.proxy;E.removeEventListener?E.removeEventListener(M,K,x.capture):E.detachEvent?E.detachEvent(fe(M),K):E.addListener&&E.removeListener&&E.removeListener(K),(M=_e(E))?(j(M,x),M.h==0&&(M.src=null,E[L]=null)):_(x)}}}function fe(x){return x in ue?ue[x]:ue[x]="on"+x}function he(x,E){if(x.da)x=!0;else{E=new y(E,this);var M=x.listener,K=x.ha||x.src;x.fa&&Y(x),x=M.call(K,E)}return x}function _e(x){return x=x[L],x instanceof R?x:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pe(x){return typeof x=="function"?x:(x[Ce]||(x[Ce]=function(E){return x.handleEvent(E)}),x[Ce])}function pe(){te.call(this),this.i=new R(this),this.M=this,this.F=null}h(pe,te),pe.prototype[H]=!0,pe.prototype.removeEventListener=function(x,E,M,K){at(this,x,E,M,K)};function ve(x,E){var M,K=x.F;if(K)for(M=[];K;K=K.F)M.push(K);if(x=x.M,K=E.type||E,typeof E=="string")E=new i(E,x);else if(E instanceof i)E.target=E.target||x;else{var ce=E;E=new i(K,x),B(E,ce)}if(ce=!0,M)for(var ge=M.length-1;0<=ge;ge--){var Ve=E.g=M[ge];ce=Dt(Ve,K,!0,E)&&ce}if(Ve=E.g=x,ce=Dt(Ve,K,!0,E)&&ce,ce=Dt(Ve,K,!1,E)&&ce,M)for(ge=0;ge<M.length;ge++)Ve=E.g=M[ge],ce=Dt(Ve,K,!1,E)&&ce}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var x=this.i,E;for(E in x.g){for(var M=x.g[E],K=0;K<M.length;K++)_(M[K]);delete x.g[E],x.h--}}this.F=null},pe.prototype.K=function(x,E,M,K){return this.i.add(String(x),E,!1,M,K)},pe.prototype.L=function(x,E,M,K){return this.i.add(String(x),E,!0,M,K)};function Dt(x,E,M,K){if(E=x.i.g[String(E)],!E)return!0;E=E.concat();for(var ce=!0,ge=0;ge<E.length;++ge){var Ve=E[ge];if(Ve&&!Ve.da&&Ve.capture==M){var Wt=Ve.listener,Ts=Ve.ha||Ve.src;Ve.fa&&j(x.i,Ve),ce=Wt.call(Ts,K)!==!1&&ce}}return ce&&!K.defaultPrevented}function ie(x,E,M){if(typeof x=="function")M&&(x=k(x,M));else if(x&&typeof x.handleEvent=="function")x=k(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(x,E||0)}function we(x){x.g=ie(()=>{x.g=null,x.i&&(x.i=!1,we(x))},x.l);const E=x.h;x.h=null,x.m.apply(null,E)}class Be extends te{constructor(E,M){super(),this.m=E,this.l=M,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:we(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(x){te.call(this),this.h=x,this.g={}}h(lt,te);var Nt=[];function Pt(x){U(x.g,function(E,M){this.g.hasOwnProperty(M)&&Y(E)},x),x.g={}}lt.prototype.N=function(){lt.aa.N.call(this),Pt(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ht=c.JSON.stringify,Xs=c.JSON.parse,yt=class{stringify(x){return c.JSON.stringify(x,void 0)}parse(x){return c.JSON.parse(x,void 0)}};function ft(){}ft.prototype.h=null;function ts(x){return x.h||(x.h=x.i())}function xs(){}var Yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Js(){i.call(this,"d")}h(Js,i);function Zs(){i.call(this,"c")}h(Zs,i);var Ss={},ka=null;function or(){return ka=ka||new pe}Ss.La="serverreachability";function re(x){i.call(this,Ss.La,x)}h(re,i);function ke(x){const E=or();ve(E,new re(E))}Ss.STAT_EVENT="statevent";function Re(x,E){i.call(this,Ss.STAT_EVENT,x),this.stat=E}h(Re,i);function $e(x){const E=or();ve(E,new Re(E,x))}Ss.Ma="timingevent";function it(x,E){i.call(this,Ss.Ma,x),this.size=E}h(it,i);function pt(x,E){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){x()},E)}function Fr(){this.g=!0}Fr.prototype.xa=function(){this.g=!1};function Gn(x,E,M,K,ce,ge){x.info(function(){if(x.g)if(ge)for(var Ve="",Wt=ge.split("&"),Ts=0;Ts<Wt.length;Ts++){var Mt=Wt[Ts].split("=");if(1<Mt.length){var Bs=Mt[0];Mt=Mt[1];var Fs=Bs.split("_");Ve=2<=Fs.length&&Fs[1]=="type"?Ve+(Bs+"="+Mt+"&"):Ve+(Bs+"=redacted&")}}else Ve=null;else Ve=ge;return"XMLHTTP REQ ("+K+") [attempt "+ce+"]: "+E+`
`+M+`
`+Ve})}function Ai(x,E,M,K,ce,ge,Ve){x.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+ce+"]: "+E+`
`+M+`
`+ge+" "+Ve})}function sa(x,E,M,K){x.info(function(){return"XMLHTTP TEXT ("+E+"): "+KS(x,M)+(K?" "+K:"")})}function HS(x,E){x.info(function(){return"TIMEOUT: "+E})}Fr.prototype.info=function(){};function KS(x,E){if(!x.g)return E;if(!E)return null;try{var M=JSON.parse(E);if(M){for(x=0;x<M.length;x++)if(Array.isArray(M[x])){var K=M[x];if(!(2>K.length)){var ce=K[1];if(Array.isArray(ce)&&!(1>ce.length)){var ge=ce[0];if(ge!="noop"&&ge!="stop"&&ge!="close")for(var Ve=1;Ve<ce.length;Ve++)ce[Ve]=""}}}}return Ht(M)}catch{return E}}var ld={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ny={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ex;function cd(){}h(cd,ft),cd.prototype.g=function(){return new XMLHttpRequest},cd.prototype.i=function(){return{}},Ex=new cd;function Xa(x,E,M,K){this.j=x,this.i=E,this.l=M,this.R=K||1,this.U=new lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wy}function wy(){this.i=null,this.g="",this.h=!1}var ky={},Ix={};function Px(x,E,M){x.L=1,x.v=xd(Sa(E)),x.m=M,x.P=!0,Sy(x,null)}function Sy(x,E){x.F=Date.now(),dd(x),x.A=Sa(x.v);var M=x.A,K=x.R;Array.isArray(K)||(K=[String(K)]),Ly(M.i,"t",K),x.C=0,M=x.j.J,x.h=new wy,x.g=rb(x.j,M?E:null,!x.m),0<x.O&&(x.M=new Be(k(x.Y,x,x.g),x.O)),E=x.U,M=x.g,K=x.ca;var ce="readystatechange";Array.isArray(ce)||(ce&&(Nt[0]=ce.toString()),ce=Nt);for(var ge=0;ge<ce.length;ge++){var Ve=ae(M,ce[ge],K||E.handleEvent,!1,E.h||E);if(!Ve)break;E.g[Ve.key]=Ve}E=x.H?u(x.H):{},x.m?(x.u||(x.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,E)):(x.u="GET",x.g.ea(x.A,x.u,null,E)),ke(),Gn(x.i,x.u,x.A,x.l,x.R,x.m)}Xa.prototype.ca=function(x){x=x.target;const E=this.M;E&&Ca(x)==3?E.j():this.Y(x)},Xa.prototype.Y=function(x){try{if(x==this.g)e:{const Fs=Ca(this.g);var E=this.g.Ba();const Oi=this.g.Z();if(!(3>Fs)&&(Fs!=3||this.g&&(this.h.h||this.g.oa()||Gy(this.g)))){this.J||Fs!=4||E==7||(E==8||0>=Oi?ke(3):ke(2)),Tx(this);var M=this.g.Z();this.X=M;t:if(Cy(this)){var K=Gy(this.g);x="";var ce=K.length,ge=Ca(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),Ko(this);var Ve="";break t}this.h.i=new c.TextDecoder}for(E=0;E<ce;E++)this.h.h=!0,x+=this.h.i.decode(K[E],{stream:!(ge&&E==ce-1)});K.length=0,this.h.g+=x,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=M==200,Ai(this.i,this.u,this.A,this.l,this.R,Fs,M),this.o){if(this.T&&!this.K){t:{if(this.g){var Wt,Ts=this.g;if((Wt=Ts.g?Ts.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Wt)){var Mt=Wt;break t}}Mt=null}if(M=Mt)sa(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_x(this,M);else{this.o=!1,this.s=3,$e(12),Hn(this),Ko(this);break e}}if(this.P){M=!0;let Ur;for(;!this.J&&this.C<Ve.length;)if(Ur=QS(this,Ve),Ur==Ix){Fs==4&&(this.s=4,$e(14),M=!1),sa(this.i,this.l,null,"[Incomplete Response]");break}else if(Ur==ky){this.s=4,$e(15),sa(this.i,this.l,Ve,"[Invalid Chunk]"),M=!1;break}else sa(this.i,this.l,Ur,null),_x(this,Ur);if(Cy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fs!=4||Ve.length!=0||this.h.h||(this.s=1,$e(16),M=!1),this.o=this.o&&M,!M)sa(this.i,this.l,Ve,"[Invalid Chunked Response]"),Hn(this),Ko(this);else if(0<Ve.length&&!this.W){this.W=!0;var Bs=this.j;Bs.g==this&&Bs.ba&&!Bs.M&&(Bs.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),Vx(Bs),Bs.M=!0,$e(11))}}else sa(this.i,this.l,Ve,null),_x(this,Ve);Fs==4&&Hn(this),this.o&&!this.J&&(Fs==4?Zy(this.j,this):(this.o=!1,dd(this)))}else mC(this.g),M==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,$e(12)):(this.s=0,$e(13)),Hn(this),Ko(this)}}}catch{}finally{}};function Cy(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function QS(x,E){var M=x.C,K=E.indexOf(`
`,M);return K==-1?Ix:(M=Number(E.substring(M,K)),isNaN(M)?ky:(K+=1,K+M>E.length?Ix:(E=E.slice(K,K+M),x.C=K+M,E)))}Xa.prototype.cancel=function(){this.J=!0,Hn(this)};function dd(x){x.S=Date.now()+x.I,Ey(x,x.I)}function Ey(x,E){if(x.B!=null)throw Error("WatchDog timer not null");x.B=pt(k(x.ba,x),E)}function Tx(x){x.B&&(c.clearTimeout(x.B),x.B=null)}Xa.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(HS(this.i,this.A),this.L!=2&&(ke(),$e(17)),Hn(this),this.s=2,Ko(this)):Ey(this,this.S-x)};function Ko(x){x.j.G==0||x.J||Zy(x.j,x)}function Hn(x){Tx(x);var E=x.M;E&&typeof E.ma=="function"&&E.ma(),x.M=null,Pt(x.U),x.g&&(E=x.g,x.g=null,E.abort(),E.ma())}function _x(x,E){try{var M=x.j;if(M.G!=0&&(M.g==x||Dx(M.h,x))){if(!x.K&&Dx(M.h,x)&&M.G==3){try{var K=M.Da.g.parse(E)}catch{K=null}if(Array.isArray(K)&&K.length==3){var ce=K;if(ce[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<x.F)bd(M),gd(M);else break e;Ox(M),$e(18)}}else M.za=ce[1],0<M.za-M.T&&37500>ce[2]&&M.F&&M.v==0&&!M.C&&(M.C=pt(k(M.Za,M),6e3));if(1>=Ty(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Qn(M,11)}else if((x.K||M.g==x)&&bd(M),!z(E))for(ce=M.Da.g.parse(E),E=0;E<ce.length;E++){let Mt=ce[E];if(M.T=Mt[0],Mt=Mt[1],M.G==2)if(Mt[0]=="c"){M.K=Mt[1],M.ia=Mt[2];const Bs=Mt[3];Bs!=null&&(M.la=Bs,M.j.info("VER="+M.la));const Fs=Mt[4];Fs!=null&&(M.Aa=Fs,M.j.info("SVER="+M.Aa));const Oi=Mt[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(K=1.5*Oi,M.L=K,M.j.info("backChannelRequestTimeoutMs_="+K)),K=M;const Ur=x.g;if(Ur){const jd=Ur.g?Ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jd){var ge=K.h;ge.g||jd.indexOf("spdy")==-1&&jd.indexOf("quic")==-1&&jd.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Ax(ge,ge.h),ge.h=null))}if(K.D){const zx=Ur.g?Ur.g.getResponseHeader("X-HTTP-Session-Id"):null;zx&&(K.ya=zx,Xt(K.I,K.D,zx))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-x.F,M.j.info("Handshake RTT: "+M.R+"ms")),K=M;var Ve=x;if(K.qa=sb(K,K.J?K.ia:null,K.W),Ve.K){_y(K.h,Ve);var Wt=Ve,Ts=K.L;Ts&&(Wt.I=Ts),Wt.B&&(Tx(Wt),dd(Wt)),K.g=Ve}else Xy(K);0<M.i.length&&yd(M)}else Mt[0]!="stop"&&Mt[0]!="close"||Qn(M,7);else M.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Qn(M,7):Mx(M):Mt[0]!="noop"&&M.l&&M.l.ta(Mt),M.v=0)}}ke(4)}catch{}}var YS=class{constructor(x,E){this.g=x,this.map=E}};function Iy(x){this.l=x||10,c.PerformanceNavigationTiming?(x=c.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Py(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function Ty(x){return x.h?1:x.g?x.g.size:0}function Dx(x,E){return x.h?x.h==E:x.g?x.g.has(E):!1}function Ax(x,E){x.g?x.g.add(E):x.h=E}function _y(x,E){x.h&&x.h==E?x.h=null:x.g&&x.g.has(E)&&x.g.delete(E)}Iy.prototype.cancel=function(){if(this.i=Dy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function Dy(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let E=x.i;for(const M of x.g.values())E=E.concat(M.D);return E}return V(x.i)}function XS(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(d(x)){for(var E=[],M=x.length,K=0;K<M;K++)E.push(x[K]);return E}E=[],M=0;for(K in x)E[M++]=x[K];return E}function JS(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(d(x)||typeof x=="string"){var E=[];x=x.length;for(var M=0;M<x;M++)E.push(M);return E}E=[],M=0;for(const K in x)E[M++]=K;return E}}}function Ay(x,E){if(x.forEach&&typeof x.forEach=="function")x.forEach(E,void 0);else if(d(x)||typeof x=="string")Array.prototype.forEach.call(x,E,void 0);else for(var M=JS(x),K=XS(x),ce=K.length,ge=0;ge<ce;ge++)E.call(void 0,K[ge],M&&M[ge],x)}var Ry=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZS(x,E){if(x){x=x.split("&");for(var M=0;M<x.length;M++){var K=x[M].indexOf("="),ce=null;if(0<=K){var ge=x[M].substring(0,K);ce=x[M].substring(K+1)}else ge=x[M];E(ge,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function Kn(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof Kn){this.h=x.h,ud(this,x.j),this.o=x.o,this.g=x.g,md(this,x.s),this.l=x.l;var E=x.i,M=new Xo;M.i=E.i,E.g&&(M.g=new Map(E.g),M.h=E.h),My(this,M),this.m=x.m}else x&&(E=String(x).match(Ry))?(this.h=!1,ud(this,E[1]||"",!0),this.o=Qo(E[2]||""),this.g=Qo(E[3]||"",!0),md(this,E[4]),this.l=Qo(E[5]||"",!0),My(this,E[6]||"",!0),this.m=Qo(E[7]||"")):(this.h=!1,this.i=new Xo(null,this.h))}Kn.prototype.toString=function(){var x=[],E=this.j;E&&x.push(Yo(E,Oy,!0),":");var M=this.g;return(M||E=="file")&&(x.push("//"),(E=this.o)&&x.push(Yo(E,Oy,!0),"@"),x.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&x.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&x.push("/"),x.push(Yo(M,M.charAt(0)=="/"?sC:tC,!0))),(M=this.i.toString())&&x.push("?",M),(M=this.m)&&x.push("#",Yo(M,aC)),x.join("")};function Sa(x){return new Kn(x)}function ud(x,E,M){x.j=M?Qo(E,!0):E,x.j&&(x.j=x.j.replace(/:$/,""))}function md(x,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);x.s=E}else x.s=null}function My(x,E,M){E instanceof Xo?(x.i=E,nC(x.i,x.h)):(M||(E=Yo(E,rC)),x.i=new Xo(E,x.h))}function Xt(x,E,M){x.i.set(E,M)}function xd(x){return Xt(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function Qo(x,E){return x?E?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Yo(x,E,M){return typeof x=="string"?(x=encodeURI(x).replace(E,eC),M&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function eC(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Oy=/[#\/\?@]/g,tC=/[#\?:]/g,sC=/[#\?]/g,rC=/[#\?@]/g,aC=/#/g;function Xo(x,E){this.h=this.g=null,this.i=x||null,this.j=!!E}function Ja(x){x.g||(x.g=new Map,x.h=0,x.i&&ZS(x.i,function(E,M){x.add(decodeURIComponent(E.replace(/\+/g," ")),M)}))}s=Xo.prototype,s.add=function(x,E){Ja(this),this.i=null,x=Ri(this,x);var M=this.g.get(x);return M||this.g.set(x,M=[]),M.push(E),this.h+=1,this};function Vy(x,E){Ja(x),E=Ri(x,E),x.g.has(E)&&(x.i=null,x.h-=x.g.get(E).length,x.g.delete(E))}function zy(x,E){return Ja(x),E=Ri(x,E),x.g.has(E)}s.forEach=function(x,E){Ja(this),this.g.forEach(function(M,K){M.forEach(function(ce){x.call(E,ce,K,this)},this)},this)},s.na=function(){Ja(this);const x=Array.from(this.g.values()),E=Array.from(this.g.keys()),M=[];for(let K=0;K<E.length;K++){const ce=x[K];for(let ge=0;ge<ce.length;ge++)M.push(E[K])}return M},s.V=function(x){Ja(this);let E=[];if(typeof x=="string")zy(this,x)&&(E=E.concat(this.g.get(Ri(this,x))));else{x=Array.from(this.g.values());for(let M=0;M<x.length;M++)E=E.concat(x[M])}return E},s.set=function(x,E){return Ja(this),this.i=null,x=Ri(this,x),zy(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[E]),this.h+=1,this},s.get=function(x,E){return x?(x=this.V(x),0<x.length?String(x[0]):E):E};function Ly(x,E,M){Vy(x,E),0<M.length&&(x.i=null,x.g.set(Ri(x,E),V(M)),x.h+=M.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],E=Array.from(this.g.keys());for(var M=0;M<E.length;M++){var K=E[M];const ge=encodeURIComponent(String(K)),Ve=this.V(K);for(K=0;K<Ve.length;K++){var ce=ge;Ve[K]!==""&&(ce+="="+encodeURIComponent(String(Ve[K]))),x.push(ce)}}return this.i=x.join("&")};function Ri(x,E){return E=String(E),x.j&&(E=E.toLowerCase()),E}function nC(x,E){E&&!x.j&&(Ja(x),x.i=null,x.g.forEach(function(M,K){var ce=K.toLowerCase();K!=ce&&(Vy(this,K),Ly(this,ce,M))},x)),x.j=E}function iC(x,E){const M=new Fr;if(c.Image){const K=new Image;K.onload=I(Za,M,"TestLoadImage: loaded",!0,E,K),K.onerror=I(Za,M,"TestLoadImage: error",!1,E,K),K.onabort=I(Za,M,"TestLoadImage: abort",!1,E,K),K.ontimeout=I(Za,M,"TestLoadImage: timeout",!1,E,K),c.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=x}else E(!1)}function oC(x,E){const M=new Fr,K=new AbortController,ce=setTimeout(()=>{K.abort(),Za(M,"TestPingServer: timeout",!1,E)},1e4);fetch(x,{signal:K.signal}).then(ge=>{clearTimeout(ce),ge.ok?Za(M,"TestPingServer: ok",!0,E):Za(M,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ce),Za(M,"TestPingServer: error",!1,E)})}function Za(x,E,M,K,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),K(M)}catch{}}function lC(){this.g=new yt}function cC(x,E,M){const K=M||"";try{Ay(x,function(ce,ge){let Ve=ce;m(ce)&&(Ve=Ht(ce)),E.push(K+ge+"="+encodeURIComponent(Ve))})}catch(ce){throw E.push(K+"type="+encodeURIComponent("_badmap")),ce}}function hd(x){this.l=x.Ub||null,this.j=x.eb||!1}h(hd,ft),hd.prototype.g=function(){return new pd(this.l,this.j)},hd.prototype.i=function(x){return function(){return x}}({});function pd(x,E){pe.call(this),this.D=x,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}h(pd,pe),s=pd.prototype,s.open=function(x,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=E,this.readyState=1,Zo(this)},s.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(E.body=x),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jo(this)),this.readyState=0},s.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Zo(this)),this.g&&(this.readyState=3,Zo(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;By(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function By(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}s.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var E=x.value?x.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!x.done}))&&(this.response=this.responseText+=E)}x.done?Jo(this):Zo(this),this.readyState==3&&By(this)}},s.Ra=function(x){this.g&&(this.response=this.responseText=x,Jo(this))},s.Qa=function(x){this.g&&(this.response=x,Jo(this))},s.ga=function(){this.g&&Jo(this)};function Jo(x){x.readyState=4,x.l=null,x.j=null,x.v=null,Zo(x)}s.setRequestHeader=function(x,E){this.u.append(x,E)},s.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],E=this.h.entries();for(var M=E.next();!M.done;)M=M.value,x.push(M[0]+": "+M[1]),M=E.next();return x.join(`\r
`)};function Zo(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Fy(x){let E="";return U(x,function(M,K){E+=K,E+=":",E+=M,E+=`\r
`}),E}function Rx(x,E,M){e:{for(K in M){var K=!1;break e}K=!0}K||(M=Fy(M),typeof x=="string"?M!=null&&encodeURIComponent(String(M)):Xt(x,E,M))}function ds(x){pe.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}h(ds,pe);var dC=/^https?$/i,uC=["POST","PUT"];s=ds.prototype,s.Ha=function(x){this.J=x},s.ea=function(x,E,M,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);E=E?E.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ex.g(),this.v=this.o?ts(this.o):ts(Ex),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(E,String(x),!0),this.B=!1}catch(ge){Uy(this,ge);return}if(x=M||"",M=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var ce in K)M.set(ce,K[ce]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const ge of K.keys())M.set(ge,K.get(ge));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(M.keys()).find(ge=>ge.toLowerCase()=="content-type"),ce=c.FormData&&x instanceof c.FormData,!(0<=Array.prototype.indexOf.call(uC,E,void 0))||K||ce||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Ve]of M)this.g.setRequestHeader(ge,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wy(this),this.u=!0,this.g.send(x),this.u=!1}catch(ge){Uy(this,ge)}};function Uy(x,E){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=E,x.m=5,$y(x),fd(x)}function $y(x){x.A||(x.A=!0,ve(x,"complete"),ve(x,"error"))}s.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,ve(this,"complete"),ve(this,"abort"),fd(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fd(this,!0)),ds.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?qy(this):this.bb())},s.bb=function(){qy(this)};function qy(x){if(x.h&&typeof o<"u"&&(!x.v[1]||Ca(x)!=4||x.Z()!=2)){if(x.u&&Ca(x)==4)ie(x.Ea,0,x);else if(ve(x,"readystatechange"),Ca(x)==4){x.h=!1;try{const Ve=x.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var M;if(!(M=E)){var K;if(K=Ve===0){var ce=String(x.D).match(Ry)[1]||null;!ce&&c.self&&c.self.location&&(ce=c.self.location.protocol.slice(0,-1)),K=!dC.test(ce?ce.toLowerCase():"")}M=K}if(M)ve(x,"complete"),ve(x,"success");else{x.m=6;try{var ge=2<Ca(x)?x.g.statusText:""}catch{ge=""}x.l=ge+" ["+x.Z()+"]",$y(x)}}finally{fd(x)}}}}function fd(x,E){if(x.g){Wy(x);const M=x.g,K=x.v[0]?()=>{}:null;x.g=null,x.v=null,E||ve(x,"ready");try{M.onreadystatechange=K}catch{}}}function Wy(x){x.I&&(c.clearTimeout(x.I),x.I=null)}s.isActive=function(){return!!this.g};function Ca(x){return x.g?x.g.readyState:0}s.Z=function(){try{return 2<Ca(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(x){if(this.g){var E=this.g.responseText;return x&&E.indexOf(x)==0&&(E=E.substring(x.length)),Xs(E)}};function Gy(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function mC(x){const E={};x=(x.g&&2<=Ca(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<x.length;K++){if(z(x[K]))continue;var M=Q(x[K]);const ce=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ge=E[ce]||[];E[ce]=ge,ge.push(M)}A(E,function(K){return K.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function el(x,E,M){return M&&M.internalChannelParams&&M.internalChannelParams[x]||E}function Hy(x){this.Aa=0,this.i=[],this.j=new Fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=el("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=el("baseRetryDelayMs",5e3,x),this.cb=el("retryDelaySeedMs",1e4,x),this.Wa=el("forwardChannelMaxRetries",2,x),this.wa=el("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new Iy(x&&x.concurrentRequestLimit),this.Da=new lC,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Hy.prototype,s.la=8,s.G=1,s.connect=function(x,E,M,K){$e(0),this.W=x,this.H=E||{},M&&K!==void 0&&(this.H.OSID=M,this.H.OAID=K),this.F=this.X,this.I=sb(this,null,this.W),yd(this)};function Mx(x){if(Ky(x),x.G==3){var E=x.U++,M=Sa(x.I);if(Xt(M,"SID",x.K),Xt(M,"RID",E),Xt(M,"TYPE","terminate"),tl(x,M),E=new Xa(x,x.j,E),E.L=2,E.v=xd(Sa(M)),M=!1,c.navigator&&c.navigator.sendBeacon)try{M=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!M&&c.Image&&(new Image().src=E.v,M=!0),M||(E.g=rb(E.j,null),E.g.ea(E.v)),E.F=Date.now(),dd(E)}tb(x)}function gd(x){x.g&&(Vx(x),x.g.cancel(),x.g=null)}function Ky(x){gd(x),x.u&&(c.clearTimeout(x.u),x.u=null),bd(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&c.clearTimeout(x.s),x.s=null)}function yd(x){if(!Py(x.h)&&!x.s){x.s=!0;var E=x.Ga;Ee||xe(),de||(Ee(),de=!0),me.add(E,x),x.B=0}}function xC(x,E){return Ty(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=E.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=pt(k(x.Ga,x,E),eb(x,x.B)),x.B++,!0)}s.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const ce=new Xa(this,this.j,x);let ge=this.o;if(this.S&&(ge?(ge=u(ge),B(ge,this.S)):ge=this.S),this.m!==null||this.O||(ce.H=ge,ge=null),this.P)e:{for(var E=0,M=0;M<this.i.length;M++){t:{var K=this.i[M];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(E+=K,4096<E){E=M;break e}if(E===4096||M===this.i.length-1){E=M+1;break e}}E=1e3}else E=1e3;E=Yy(this,ce,E),M=Sa(this.I),Xt(M,"RID",x),Xt(M,"CVER",22),this.D&&Xt(M,"X-HTTP-Session-Id",this.D),tl(this,M),ge&&(this.O?E="headers="+encodeURIComponent(String(Fy(ge)))+"&"+E:this.m&&Rx(M,this.m,ge)),Ax(this.h,ce),this.Ua&&Xt(M,"TYPE","init"),this.P?(Xt(M,"$req",E),Xt(M,"SID","null"),ce.T=!0,Px(ce,M,null)):Px(ce,M,E),this.G=2}}else this.G==3&&(x?Qy(this,x):this.i.length==0||Py(this.h)||Qy(this))};function Qy(x,E){var M;E?M=E.l:M=x.U++;const K=Sa(x.I);Xt(K,"SID",x.K),Xt(K,"RID",M),Xt(K,"AID",x.T),tl(x,K),x.m&&x.o&&Rx(K,x.m,x.o),M=new Xa(x,x.j,M,x.B+1),x.m===null&&(M.H=x.o),E&&(x.i=E.D.concat(x.i)),E=Yy(x,M,1e3),M.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),Ax(x.h,M),Px(M,K,E)}function tl(x,E){x.H&&U(x.H,function(M,K){Xt(E,K,M)}),x.l&&Ay({},function(M,K){Xt(E,K,M)})}function Yy(x,E,M){M=Math.min(x.i.length,M);var K=x.l?k(x.l.Na,x.l,x):null;e:{var ce=x.i;let ge=-1;for(;;){const Ve=["count="+M];ge==-1?0<M?(ge=ce[0].g,Ve.push("ofs="+ge)):ge=0:Ve.push("ofs="+ge);let Wt=!0;for(let Ts=0;Ts<M;Ts++){let Mt=ce[Ts].g;const Bs=ce[Ts].map;if(Mt-=ge,0>Mt)ge=Math.max(0,ce[Ts].g-100),Wt=!1;else try{cC(Bs,Ve,"req"+Mt+"_")}catch{K&&K(Bs)}}if(Wt){K=Ve.join("&");break e}}}return x=x.i.splice(0,M),E.D=x,K}function Xy(x){if(!x.g&&!x.u){x.Y=1;var E=x.Fa;Ee||xe(),de||(Ee(),de=!0),me.add(E,x),x.v=0}}function Ox(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=pt(k(x.Fa,x),eb(x,x.v)),x.v++,!0)}s.Fa=function(){if(this.u=null,Jy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=pt(k(this.ab,this),x)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$e(10),gd(this),Jy(this))};function Vx(x){x.A!=null&&(c.clearTimeout(x.A),x.A=null)}function Jy(x){x.g=new Xa(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var E=Sa(x.qa);Xt(E,"RID","rpc"),Xt(E,"SID",x.K),Xt(E,"AID",x.T),Xt(E,"CI",x.F?"0":"1"),!x.F&&x.ja&&Xt(E,"TO",x.ja),Xt(E,"TYPE","xmlhttp"),tl(x,E),x.m&&x.o&&Rx(E,x.m,x.o),x.L&&(x.g.I=x.L);var M=x.g;x=x.ia,M.L=1,M.v=xd(Sa(E)),M.m=null,M.P=!0,Sy(M,x)}s.Za=function(){this.C!=null&&(this.C=null,gd(this),Ox(this),$e(19))};function bd(x){x.C!=null&&(c.clearTimeout(x.C),x.C=null)}function Zy(x,E){var M=null;if(x.g==E){bd(x),Vx(x),x.g=null;var K=2}else if(Dx(x.h,E))M=E.D,_y(x.h,E),K=1;else return;if(x.G!=0){if(E.o)if(K==1){M=E.m?E.m.length:0,E=Date.now()-E.F;var ce=x.B;K=or(),ve(K,new it(K,M)),yd(x)}else Xy(x);else if(ce=E.s,ce==3||ce==0&&0<E.X||!(K==1&&xC(x,E)||K==2&&Ox(x)))switch(M&&0<M.length&&(E=x.h,E.i=E.i.concat(M)),ce){case 1:Qn(x,5);break;case 4:Qn(x,10);break;case 3:Qn(x,6);break;default:Qn(x,2)}}}function eb(x,E){let M=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(M*=2),M*E}function Qn(x,E){if(x.j.info("Error code "+E),E==2){var M=k(x.fb,x),K=x.Xa;const ce=!K;K=new Kn(K||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ud(K,"https"),xd(K),ce?iC(K.toString(),M):oC(K.toString(),M)}else $e(2);x.G=0,x.l&&x.l.sa(E),tb(x),Ky(x)}s.fb=function(x){x?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function tb(x){if(x.G=0,x.ka=[],x.l){const E=Dy(x.h);(E.length!=0||x.i.length!=0)&&(w(x.ka,E),w(x.ka,x.i),x.h.i.length=0,V(x.i),x.i.length=0),x.l.ra()}}function sb(x,E,M){var K=M instanceof Kn?Sa(M):new Kn(M);if(K.g!="")E&&(K.g=E+"."+K.g),md(K,K.s);else{var ce=c.location;K=ce.protocol,E=E?E+"."+ce.hostname:ce.hostname,ce=+ce.port;var ge=new Kn(null);K&&ud(ge,K),E&&(ge.g=E),ce&&md(ge,ce),M&&(ge.l=M),K=ge}return M=x.D,E=x.ya,M&&E&&Xt(K,M,E),Xt(K,"VER",x.la),tl(x,K),K}function rb(x,E,M){if(E&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=x.Ca&&!x.pa?new ds(new hd({eb:M})):new ds(x.pa),E.Ha(x.J),E}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ab(){}s=ab.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function vd(){}vd.prototype.g=function(x,E){return new gr(x,E)};function gr(x,E){pe.call(this),this.g=new Hy(E),this.l=x,this.h=E&&E.messageUrlParams||null,x=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(x?x["X-WebChannel-Content-Type"]=E.messageContentType:x={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(x?x["X-WebChannel-Client-Profile"]=E.va:x={"X-WebChannel-Client-Profile":E.va}),this.g.S=x,(x=E&&E.Sb)&&!z(x)&&(this.g.m=x),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!z(E)&&(this.g.D=E,x=this.h,x!==null&&E in x&&(x=this.h,E in x&&delete x[E])),this.j=new Mi(this)}h(gr,pe),gr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gr.prototype.close=function(){Mx(this.g)},gr.prototype.o=function(x){var E=this.g;if(typeof x=="string"){var M={};M.__data__=x,x=M}else this.u&&(M={},M.__data__=Ht(x),x=M);E.i.push(new YS(E.Ya++,x)),E.G==3&&yd(E)},gr.prototype.N=function(){this.g.l=null,delete this.j,Mx(this.g),delete this.g,gr.aa.N.call(this)};function nb(x){Js.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var E=x.__sm__;if(E){e:{for(const M in E){x=M;break e}x=void 0}(this.i=x)&&(x=this.i,E=E!==null&&x in E?E[x]:void 0),this.data=E}else this.data=x}h(nb,Js);function ib(){Zs.call(this),this.status=1}h(ib,Zs);function Mi(x){this.g=x}h(Mi,ab),Mi.prototype.ua=function(){ve(this.g,"a")},Mi.prototype.ta=function(x){ve(this.g,new nb(x))},Mi.prototype.sa=function(x){ve(this.g,new ib)},Mi.prototype.ra=function(){ve(this.g,"b")},vd.prototype.createWebChannel=vd.prototype.g,gr.prototype.send=gr.prototype.o,gr.prototype.open=gr.prototype.m,gr.prototype.close=gr.prototype.close,I4=function(){return new vd},E4=function(){return or()},C4=Ss,F0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ld.NO_ERROR=0,ld.TIMEOUT=8,ld.HTTP_ERROR=6,xu=ld,Ny.COMPLETE="complete",S4=Ny,xs.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",pe.prototype.listen=pe.prototype.K,vl=xs,ds.prototype.listenOnce=ds.prototype.L,ds.prototype.getLastError=ds.prototype.Ka,ds.prototype.getLastErrorCode=ds.prototype.Ba,ds.prototype.getStatus=ds.prototype.Z,ds.prototype.getResponseJson=ds.prototype.Oa,ds.prototype.getResponseText=ds.prototype.oa,ds.prototype.send=ds.prototype.ea,ds.prototype.setWithCredentials=ds.prototype.Ha,k4=ds}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});const Vv="@firebase/firestore",zv="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gs.UNAUTHENTICATED=new Gs(null),Gs.GOOGLE_CREDENTIALS=new Gs("google-credentials-uid"),Gs.FIRST_PARTY=new Gs("first-party-uid"),Gs.MOCK_USER=new Gs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Ym("@firebase/firestore");function zi(){return yi.logLevel}function qe(s,...t){if(yi.logLevel<=Ct.DEBUG){const r=t.map(Rf);yi.debug(`Firestore (${Lo}): ${s}`,...r)}}function Ua(s,...t){if(yi.logLevel<=Ct.ERROR){const r=t.map(Rf);yi.error(`Firestore (${Lo}): ${s}`,...r)}}function So(s,...t){if(yi.logLevel<=Ct.WARN){const r=t.map(Rf);yi.warn(`Firestore (${Lo}): ${s}`,...r)}}function Rf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(s="Unexpected state"){const t=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+s;throw Ua(t),new Error(t)}function _t(s,t){s||ot()}function xt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Br{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class h_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Gs.UNAUTHENTICATED))}shutdown(){}}class p_{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class f_{constructor(t){this.t=t,this.currentUser=Gs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){_t(this.o===void 0);let a=this.i;const n=d=>this.i!==a?(a=this.i,r(d)):Promise.resolve();let l=new da;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new da,t.enqueueRetryable(()=>n(this.currentUser))};const o=()=>{const d=l;t.enqueueRetryable(async()=>{await d.promise,await n(this.currentUser)})},c=d=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new da)}},0),o()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==t?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(_t(typeof a.accessToken=="string"),new P4(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _t(t===null||typeof t=="string"),new Gs(t)}}class g_{constructor(t,r,a){this.l=t,this.h=r,this.P=a,this.type="FirstParty",this.user=Gs.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class y_{constructor(t,r,a){this.l=t,this.h=r,this.P=a}getToken(){return Promise.resolve(new g_(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Gs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b_{constructor(t,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vr(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,r){_t(this.o===void 0);const a=l=>{l.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const o=l.token!==this.R;return this.R=l.token,qe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>a(l))};const n=l=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>n(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?n(l):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Lv(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(_t(typeof r.token=="string"),this.R=r.token,new Lv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let a=0;a<s;a++)r[a]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const n=v_(40);for(let l=0;l<n.length;++l)a.length<20&&n[l]<r&&(a+=t.charAt(n[l]%62))}return a}}function bt(s,t){return s<t?-1:s>t?1:0}function U0(s,t){let r=0;for(;r<s.length&&r<t.length;){const a=s.codePointAt(r),n=t.codePointAt(r);if(a!==n){if(a<128&&n<128)return bt(a,n);{const l=T4(),o=j_(l.encode(Bv(s,r)),l.encode(Bv(t,r)));return o!==0?o:bt(a,n)}}r+=a>65535?2:1}return bt(s.length,t.length)}function Bv(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function j_(s,t){for(let r=0;r<s.length&&r<t.length;++r)if(s[r]!==t[r])return bt(s[r],t[r]);return bt(s.length,t.length)}function Co(s,t,r){return s.length===t.length&&s.every((a,n)=>r(a,t[n]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=-62135596800,Uv=1e6;class is{static now(){return is.fromMillis(Date.now())}static fromDate(t){return is.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor((t-1e3*r)*Uv);return new is(r,a)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Fe(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Fe(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<Fv)throw new Fe(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fe(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Uv}_compareTo(t){return this.seconds===t.seconds?bt(this.nanoseconds,t.nanoseconds):bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Fv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{static fromTimestamp(t){return new ct(t)}static min(){return new ct(new is(0,0))}static max(){return new ct(new is(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="__name__";class na{constructor(t,r,a){r===void 0?r=0:r>t.length&&ot(),a===void 0?a=t.length-r:a>t.length-r&&ot(),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return na.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof na?t.forEach(a=>{r.push(a)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let n=0;n<a;n++){const l=na.compareSegments(t.get(n),r.get(n));if(l!==0)return l}return bt(t.length,r.length)}static compareSegments(t,r){const a=na.isNumericId(t),n=na.isNumericId(r);return a&&!n?-1:!a&&n?1:a&&n?na.extractNumericId(t).compare(na.extractNumericId(r)):U0(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cn.fromString(t.substring(4,t.length-2))}}class Gt extends na{construct(t,r,a){return new Gt(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new Fe(je.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(n=>n.length>0))}return new Gt(r)}static emptyPath(){return new Gt([])}}const N_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rs extends na{construct(t,r,a){return new Rs(t,r,a)}static isValidIdentifier(t){return N_.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rs.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$v}static keyField(){return new Rs([$v])}static fromServerFormat(t){const r=[];let a="",n=0;const l=()=>{if(a.length===0)throw new Fe(je.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let o=!1;for(;n<t.length;){const c=t[n];if(c==="\\"){if(n+1===t.length)throw new Fe(je.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[n+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Fe(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=d,n+=2}else c==="`"?(o=!o,n++):c!=="."||o?(a+=c,n++):(l(),n++)}if(l(),o)throw new Fe(je.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Rs(r)}static emptyPath(){return new Rs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.path=t}static fromPath(t){return new nt(Gt.fromString(t))}static fromName(t){return new nt(Gt.fromString(t).popFirst(5))}static empty(){return new nt(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Gt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Gt.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nt(new Gt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=-1;function w_(s,t){const r=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,n=ct.fromTimestamp(a===1e9?new is(r+1,0):new is(r,a));return new _n(n,nt.empty(),t)}function k_(s){return new _n(s.readTime,s.key,xc)}class _n{constructor(t,r,a){this.readTime=t,this.documentKey=r,this.largestBatchId=a}static min(){return new _n(ct.min(),nt.empty(),xc)}static max(){return new _n(ct.max(),nt.empty(),xc)}}function S_(s,t){let r=s.readTime.compareTo(t.readTime);return r!==0?r:(r=nt.comparator(s.documentKey,t.documentKey),r!==0?r:bt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(s){if(s.code!==je.FAILED_PRECONDITION||s.message!==C_)throw s;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Se((a,n)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(a,n)},this.catchCallback=l=>{this.wrapFailure(r,l).next(a,n)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof Se?r:Se.resolve(r)}catch(r){return Se.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):Se.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):Se.reject(r)}static resolve(t){return new Se((r,a)=>{r(t)})}static reject(t){return new Se((r,a)=>{a(t)})}static waitFor(t){return new Se((r,a)=>{let n=0,l=0,o=!1;t.forEach(c=>{++n,c.next(()=>{++l,o&&l===n&&r()},d=>a(d))}),o=!0,l===n&&r()})}static or(t){let r=Se.resolve(!1);for(const a of t)r=r.next(n=>n?Se.resolve(n):a());return r}static forEach(t,r){const a=[];return t.forEach((n,l)=>{a.push(r.call(this,n,l))}),this.waitFor(a)}static mapArray(t,r){return new Se((a,n)=>{const l=t.length,o=new Array(l);let c=0;for(let d=0;d<l;d++){const m=d;r(t[m]).next(p=>{o[m]=p,++c,c===l&&a(o)},p=>n(p))}})}static doWhile(t,r){return new Se((a,n)=>{const l=()=>{t()===!0?r().next(()=>{l()},n):a()};l()})}}function I_(s){const t=s.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Fo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.oe(a),this._e=a=>r.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Jm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=-1;function $c(s){return s==null}function sm(s){return s===0&&1/s==-1/0}function P_(s){return typeof s=="number"&&Number.isInteger(s)&&!sm(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="";function T_(s){let t="";for(let r=0;r<s.length;r++)t.length>0&&(t=qv(t)),t=__(s.get(r),t);return qv(t)}function __(s,t){let r=t;const a=s.length;for(let n=0;n<a;n++){const l=s.charAt(n);switch(l){case"\0":r+="";break;case D4:r+="";break;default:r+=l}}return r}function qv(s){return s+D4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(s){let t=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t++;return t}function $n(s,t){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t(r,s[r])}function A4(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(t,r){this.comparator=t,this.root=r||As.EMPTY}insert(t,r){return new cs(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,As.BLACK,null,null))}remove(t){return new cs(this.comparator,this.root.remove(t,this.comparator).copy(null,null,As.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(t){let r=0,a=this.root;for(;!a.isEmpty();){const n=this.comparator(t,a.key);if(n===0)return r+a.left.size;n<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,a)=>(t(r,a),!1))}toString(){const t=[];return this.inorderTraversal((r,a)=>(t.push(`${r}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fd(this.root,t,this.comparator,!0)}}class Fd{constructor(t,r,a,n){this.isReverse=n,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=r?a(t.key,r):1,r&&n&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class As{constructor(t,r,a,n,l){this.key=t,this.value=r,this.color=a??As.RED,this.left=n??As.EMPTY,this.right=l??As.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,a,n,l){return new As(t??this.key,r??this.value,a??this.color,n??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let n=this;const l=a(t,n.key);return n=l<0?n.copy(null,null,null,n.left.insert(t,r,a),null):l===0?n.copy(null,r,null,null,null):n.copy(null,null,null,null,n.right.insert(t,r,a)),n.fixUp()}removeMin(){if(this.left.isEmpty())return As.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let a,n=this;if(r(t,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(t,r),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),r(t,n.key)===0){if(n.right.isEmpty())return As.EMPTY;a=n.right.min(),n=n.copy(a.key,a.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(t,r))}return n.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,As.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,As.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const t=this.left.check();if(t!==this.right.check())throw ot();return t+(this.isRed()?0:1)}}As.EMPTY=null,As.RED=!0,As.BLACK=!1;As.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(t,r,a,n,l){return this}insert(t,r,a){return new As(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.comparator=t,this.data=new cs(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,a)=>(t(r),!1))}forEachInRange(t,r){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const n=a.getNext();if(this.comparator(n.key,t[1])>=0)return;r(n.key)}}forEachWhile(t,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Gv(this.data.getIterator())}getIteratorFrom(t){return new Gv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(a=>{r=r.add(a)}),r}isEqual(t){if(!(t instanceof ks)||this.size!==t.size)return!1;const r=this.data.getIterator(),a=t.data.getIterator();for(;r.hasNext();){const n=r.getNext().key,l=a.getNext().key;if(this.comparator(n,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new ks(this.comparator);return r.data=t,r}}class Gv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t){this.fields=t,t.sort(Rs.comparator)}static empty(){return new Nr([])}unionWith(t){let r=new ks(Rs.comparator);for(const a of this.fields)r=r.add(a);for(const a of t)r=r.add(a);return new Nr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Co(this.fields,t.fields,(r,a)=>r.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(n){try{return atob(n)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new R4("Invalid base64 string: "+l):l}}(t);return new Ls(r)}static fromUint8Array(t){const r=function(n){let l="";for(let o=0;o<n.length;++o)l+=String.fromCharCode(n[o]);return l}(t);return new Ls(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let n=0;n<r.length;n++)a[n]=r.charCodeAt(n);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ls.EMPTY_BYTE_STRING=new Ls("");const D_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dn(s){if(_t(!!s),typeof s=="string"){let t=0;const r=D_.exec(s);if(_t(!!r),r[1]){let n=r[1];n=(n+"000000000").substr(0,9),t=Number(n)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ps(s.seconds),nanos:ps(s.nanos)}}function ps(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function An(s){return typeof s=="string"?Ls.fromBase64String(s):Ls.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="server_timestamp",O4="__type__",V4="__previous_value__",z4="__local_write_time__";function Of(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[O4])===null||r===void 0?void 0:r.stringValue)===M4}function Zm(s){const t=s.mapValue.fields[V4];return Of(t)?Zm(t):t}function hc(s){const t=Dn(s.mapValue.fields[z4].timestampValue);return new is(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(t,r,a,n,l,o,c,d,m){this.databaseId=t,this.appId=r,this.persistenceKey=a,this.host=n,this.ssl=l,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=m}}const rm="(default)";class pc{constructor(t,r){this.projectId=t,this.database=r||rm}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===rm}isEqual(t){return t instanceof pc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="__type__",B4="__max__",Ud={mapValue:{fields:{__type__:{stringValue:B4}}}},F4="__vector__",am="value";function Rn(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Of(s)?4:M_(s)?9007199254740991:R_(s)?10:11:ot()}function ya(s,t){if(s===t)return!0;const r=Rn(s);if(r!==Rn(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return hc(s).isEqual(hc(t));case 3:return function(n,l){if(typeof n.timestampValue=="string"&&typeof l.timestampValue=="string"&&n.timestampValue.length===l.timestampValue.length)return n.timestampValue===l.timestampValue;const o=Dn(n.timestampValue),c=Dn(l.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(n,l){return An(n.bytesValue).isEqual(An(l.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(n,l){return ps(n.geoPointValue.latitude)===ps(l.geoPointValue.latitude)&&ps(n.geoPointValue.longitude)===ps(l.geoPointValue.longitude)}(s,t);case 2:return function(n,l){if("integerValue"in n&&"integerValue"in l)return ps(n.integerValue)===ps(l.integerValue);if("doubleValue"in n&&"doubleValue"in l){const o=ps(n.doubleValue),c=ps(l.doubleValue);return o===c?sm(o)===sm(c):isNaN(o)&&isNaN(c)}return!1}(s,t);case 9:return Co(s.arrayValue.values||[],t.arrayValue.values||[],ya);case 10:case 11:return function(n,l){const o=n.mapValue.fields||{},c=l.mapValue.fields||{};if(Wv(o)!==Wv(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!ya(o[d],c[d])))return!1;return!0}(s,t);default:return ot()}}function fc(s,t){return(s.values||[]).find(r=>ya(r,t))!==void 0}function Eo(s,t){if(s===t)return 0;const r=Rn(s),a=Rn(t);if(r!==a)return bt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return bt(s.booleanValue,t.booleanValue);case 2:return function(l,o){const c=ps(l.integerValue||l.doubleValue),d=ps(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(s,t);case 3:return Hv(s.timestampValue,t.timestampValue);case 4:return Hv(hc(s),hc(t));case 5:return U0(s.stringValue,t.stringValue);case 6:return function(l,o){const c=An(l),d=An(o);return c.compareTo(d)}(s.bytesValue,t.bytesValue);case 7:return function(l,o){const c=l.split("/"),d=o.split("/");for(let m=0;m<c.length&&m<d.length;m++){const p=bt(c[m],d[m]);if(p!==0)return p}return bt(c.length,d.length)}(s.referenceValue,t.referenceValue);case 8:return function(l,o){const c=bt(ps(l.latitude),ps(o.latitude));return c!==0?c:bt(ps(l.longitude),ps(o.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return Kv(s.arrayValue,t.arrayValue);case 10:return function(l,o){var c,d,m,p;const N=l.fields||{},k=o.fields||{},I=(c=N[am])===null||c===void 0?void 0:c.arrayValue,h=(d=k[am])===null||d===void 0?void 0:d.arrayValue,V=bt(((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0,((p=h==null?void 0:h.values)===null||p===void 0?void 0:p.length)||0);return V!==0?V:Kv(I,h)}(s.mapValue,t.mapValue);case 11:return function(l,o){if(l===Ud.mapValue&&o===Ud.mapValue)return 0;if(l===Ud.mapValue)return 1;if(o===Ud.mapValue)return-1;const c=l.fields||{},d=Object.keys(c),m=o.fields||{},p=Object.keys(m);d.sort(),p.sort();for(let N=0;N<d.length&&N<p.length;++N){const k=U0(d[N],p[N]);if(k!==0)return k;const I=Eo(c[d[N]],m[p[N]]);if(I!==0)return I}return bt(d.length,p.length)}(s.mapValue,t.mapValue);default:throw ot()}}function Hv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return bt(s,t);const r=Dn(s),a=Dn(t),n=bt(r.seconds,a.seconds);return n!==0?n:bt(r.nanos,a.nanos)}function Kv(s,t){const r=s.values||[],a=t.values||[];for(let n=0;n<r.length&&n<a.length;++n){const l=Eo(r[n],a[n]);if(l)return l}return bt(r.length,a.length)}function Io(s){return $0(s)}function $0(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const a=Dn(r);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return An(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return nt.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let a="[",n=!0;for(const l of r.values||[])n?n=!1:a+=",",a+=$0(l);return a+"]"}(s.arrayValue):"mapValue"in s?function(r){const a=Object.keys(r.fields||{}).sort();let n="{",l=!0;for(const o of a)l?l=!1:n+=",",n+=`${o}:${$0(r.fields[o])}`;return n+"}"}(s.mapValue):ot()}function hu(s){switch(Rn(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Zm(s);return t?16+hu(t):16;case 5:return 2*s.stringValue.length;case 6:return An(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((n,l)=>n+hu(l),0)}(s.arrayValue);case 10:case 11:return function(a){let n=0;return $n(a.fields,(l,o)=>{n+=l.length+hu(o)}),n}(s.mapValue);default:throw ot()}}function Qv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function q0(s){return!!s&&"integerValue"in s}function Vf(s){return!!s&&"arrayValue"in s}function Yv(s){return!!s&&"nullValue"in s}function Xv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function pu(s){return!!s&&"mapValue"in s}function R_(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[L4])===null||r===void 0?void 0:r.stringValue)===F4}function Rl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return $n(s.mapValue.fields,(r,a)=>t.mapValue.fields[r]=Rl(a)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Rl(s.arrayValue.values[r]);return t}return Object.assign({},s)}function M_(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===B4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this.value=t}static empty(){return new tr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let a=0;a<t.length-1;++a)if(r=(r.mapValue.fields||{})[t.get(a)],!pu(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(r)}setAll(t){let r=Rs.emptyPath(),a={},n=[];t.forEach((o,c)=>{if(!r.isImmediateParentOf(c)){const d=this.getFieldsMap(r);this.applyChanges(d,a,n),a={},n=[],r=c.popLast()}o?a[c.lastSegment()]=Rl(o):n.push(c.lastSegment())});const l=this.getFieldsMap(r);this.applyChanges(l,a,n)}delete(t){const r=this.field(t.popLast());pu(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return ya(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<t.length;++a){let n=r.mapValue.fields[t.get(a)];pu(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},r.mapValue.fields[t.get(a)]=n),r=n}return r.mapValue.fields}applyChanges(t,r,a){$n(r,(n,l)=>t[n]=l);for(const n of a)delete t[n]}clone(){return new tr(Rl(this.value))}}function U4(s){const t=[];return $n(s.fields,(r,a)=>{const n=new Rs([r]);if(pu(a)){const l=U4(a.mapValue).fields;if(l.length===0)t.push(n);else for(const o of l)t.push(n.child(o))}else t.push(n)}),new Nr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t,r,a,n,l,o,c){this.key=t,this.documentType=r,this.version=a,this.readTime=n,this.createTime=l,this.data=o,this.documentState=c}static newInvalidDocument(t){return new Is(t,0,ct.min(),ct.min(),ct.min(),tr.empty(),0)}static newFoundDocument(t,r,a,n){return new Is(t,1,r,ct.min(),a,n,0)}static newNoDocument(t,r){return new Is(t,2,r,ct.min(),ct.min(),tr.empty(),0)}static newUnknownDocument(t,r){return new Is(t,3,r,ct.min(),ct.min(),tr.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Is&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,r){this.position=t,this.inclusive=r}}function Jv(s,t,r){let a=0;for(let n=0;n<s.position.length;n++){const l=t[n],o=s.position[n];if(l.field.isKeyField()?a=nt.comparator(nt.fromName(o.referenceValue),r.key):a=Eo(o,r.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function Zv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!ya(s.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,r="asc"){this.field=t,this.dir=r}}function O_(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{}class vs extends $4{constructor(t,r,a){super(),this.field=t,this.op=r,this.value=a}static create(t,r,a){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,a):new z_(t,r,a):r==="array-contains"?new F_(t,a):r==="in"?new U_(t,a):r==="not-in"?new $_(t,a):r==="array-contains-any"?new q_(t,a):new vs(t,r,a)}static createKeyFieldInFilter(t,r,a){return r==="in"?new L_(t,a):new B_(t,a)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Eo(r,this.value)):r!==null&&Rn(this.value)===Rn(r)&&this.matchesComparison(Eo(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ea extends $4{constructor(t,r){super(),this.filters=t,this.op=r,this.ce=null}static create(t,r){return new ea(t,r)}matches(t){return q4(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function q4(s){return s.op==="and"}function W4(s){return V_(s)&&q4(s)}function V_(s){for(const t of s.filters)if(t instanceof ea)return!1;return!0}function W0(s){if(s instanceof vs)return s.field.canonicalString()+s.op.toString()+Io(s.value);if(W4(s))return s.filters.map(t=>W0(t)).join(",");{const t=s.filters.map(r=>W0(r)).join(",");return`${s.op}(${t})`}}function G4(s,t){return s instanceof vs?function(a,n){return n instanceof vs&&a.op===n.op&&a.field.isEqual(n.field)&&ya(a.value,n.value)}(s,t):s instanceof ea?function(a,n){return n instanceof ea&&a.op===n.op&&a.filters.length===n.filters.length?a.filters.reduce((l,o,c)=>l&&G4(o,n.filters[c]),!0):!1}(s,t):void ot()}function H4(s){return s instanceof vs?function(r){return`${r.field.canonicalString()} ${r.op} ${Io(r.value)}`}(s):s instanceof ea?function(r){return r.op.toString()+" {"+r.getFilters().map(H4).join(" ,")+"}"}(s):"Filter"}class z_ extends vs{constructor(t,r,a){super(t,r,a),this.key=nt.fromName(a.referenceValue)}matches(t){const r=nt.comparator(t.key,this.key);return this.matchesComparison(r)}}class L_ extends vs{constructor(t,r){super(t,"in",r),this.keys=K4("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class B_ extends vs{constructor(t,r){super(t,"not-in",r),this.keys=K4("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function K4(s,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(a=>nt.fromName(a.referenceValue))}class F_ extends vs{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Vf(r)&&fc(r.arrayValue,this.value)}}class U_ extends vs{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&fc(this.value.arrayValue,r)}}class $_ extends vs{constructor(t,r){super(t,"not-in",r)}matches(t){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!fc(this.value.arrayValue,r)}}class q_ extends vs{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Vf(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>fc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(t,r=null,a=[],n=[],l=null,o=null,c=null){this.path=t,this.collectionGroup=r,this.orderBy=a,this.filters=n,this.limit=l,this.startAt=o,this.endAt=c,this.le=null}}function ej(s,t=null,r=[],a=[],n=null,l=null,o=null){return new W_(s,t,r,a,n,l,o)}function zf(s){const t=xt(s);if(t.le===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(a=>W0(a)).join(","),r+="|ob:",r+=t.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),$c(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Io(a)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Io(a)).join(",")),t.le=r}return t.le}function Lf(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!O_(s.orderBy[r],t.orderBy[r]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!G4(s.filters[r],t.filters[r]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Zv(s.startAt,t.startAt)&&Zv(s.endAt,t.endAt)}function G0(s){return nt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t,r=null,a=[],n=[],l=null,o="F",c=null,d=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=n,this.limit=l,this.limitType=o,this.startAt=c,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function G_(s,t,r,a,n,l,o,c){return new Uo(s,t,r,a,n,l,o,c)}function ex(s){return new Uo(s)}function tj(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Q4(s){return s.collectionGroup!==null}function Ml(s){const t=xt(s);if(t.he===null){t.he=[];const r=new Set;for(const l of t.explicitOrderBy)t.he.push(l),r.add(l.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ks(Rs.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(c=c.add(m.field))})}),c})(t).forEach(l=>{r.has(l.canonicalString())||l.isKeyField()||t.he.push(new gc(l,a))}),r.has(Rs.keyField().canonicalString())||t.he.push(new gc(Rs.keyField(),a))}return t.he}function ua(s){const t=xt(s);return t.Pe||(t.Pe=H_(t,Ml(s))),t.Pe}function H_(s,t){if(s.limitType==="F")return ej(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(n=>{const l=n.dir==="desc"?"asc":"desc";return new gc(n.field,l)});const r=s.endAt?new nm(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new nm(s.startAt.position,s.startAt.inclusive):null;return ej(s.path,s.collectionGroup,t,s.filters,s.limit,r,a)}}function H0(s,t){const r=s.filters.concat([t]);return new Uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),r,s.limit,s.limitType,s.startAt,s.endAt)}function im(s,t,r){return new Uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,r,s.startAt,s.endAt)}function tx(s,t){return Lf(ua(s),ua(t))&&s.limitType===t.limitType}function Y4(s){return`${zf(ua(s))}|lt:${s.limitType}`}function Li(s){return`Query(target=${function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(n=>H4(n)).join(", ")}]`),$c(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(n=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(n)).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(n=>Io(n)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(n=>Io(n)).join(",")),`Target(${a})`}(ua(s))}; limitType=${s.limitType})`}function sx(s,t){return t.isFoundDocument()&&function(a,n){const l=n.key.path;return a.collectionGroup!==null?n.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):nt.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)}(s,t)&&function(a,n){for(const l of Ml(a))if(!l.field.isKeyField()&&n.data.field(l.field)===null)return!1;return!0}(s,t)&&function(a,n){for(const l of a.filters)if(!l.matches(n))return!1;return!0}(s,t)&&function(a,n){return!(a.startAt&&!function(o,c,d){const m=Jv(o,c,d);return o.inclusive?m<=0:m<0}(a.startAt,Ml(a),n)||a.endAt&&!function(o,c,d){const m=Jv(o,c,d);return o.inclusive?m>=0:m>0}(a.endAt,Ml(a),n))}(s,t)}function K_(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function X4(s){return(t,r)=>{let a=!1;for(const n of Ml(s)){const l=Q_(n,t,r);if(l!==0)return l;a=a||n.field.isKeyField()}return 0}}function Q_(s,t,r){const a=s.field.isKeyField()?nt.comparator(t.key,r.key):function(l,o,c){const d=o.data.field(l),m=c.data.field(l);return d!==null&&m!==null?Eo(d,m):ot()}(s.field,t,r);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a!==void 0){for(const[n,l]of a)if(this.equalsFn(n,t))return l}}has(t){return this.get(t)!==void 0}set(t,r){const a=this.mapKeyFn(t),n=this.inner[a];if(n===void 0)return this.inner[a]=[[t,r]],void this.innerSize++;for(let l=0;l<n.length;l++)if(this.equalsFn(n[l][0],t))return void(n[l]=[t,r]);n.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return!1;for(let n=0;n<a.length;n++)if(this.equalsFn(a[n][0],t))return a.length===1?delete this.inner[r]:a.splice(n,1),this.innerSize--,!0;return!1}forEach(t){$n(this.inner,(r,a)=>{for(const[n,l]of a)t(n,l)})}isEmpty(){return A4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new cs(nt.comparator);function $a(){return Y_}const J4=new cs(nt.comparator);function jl(...s){let t=J4;for(const r of s)t=t.insert(r.key,r);return t}function Z4(s){let t=J4;return s.forEach((r,a)=>t=t.insert(r,a.overlayedDocument)),t}function ai(){return Ol()}function ek(){return Ol()}function Ol(){return new Ti(s=>s.toString(),(s,t)=>s.isEqual(t))}const X_=new cs(nt.comparator),J_=new ks(nt.comparator);function Et(...s){let t=J_;for(const r of s)t=t.add(r);return t}const Z_=new ks(bt);function e8(){return Z_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(t)?"-0":t}}function tk(s){return{integerValue:""+s}}function sk(s,t){return P_(t)?tk(t):Bf(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this._=void 0}}function t8(s,t,r){return s instanceof yc?function(n,l){const o={fields:{[O4]:{stringValue:M4},[z4]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return l&&Of(l)&&(l=Zm(l)),l&&(o.fields[V4]=l),{mapValue:o}}(r,t):s instanceof bc?ak(s,t):s instanceof vc?nk(s,t):function(n,l){const o=rk(n,l),c=sj(o)+sj(n.Ie);return q0(o)&&q0(n.Ie)?tk(c):Bf(n.serializer,c)}(s,t)}function s8(s,t,r){return s instanceof bc?ak(s,t):s instanceof vc?nk(s,t):r}function rk(s,t){return s instanceof jc?function(a){return q0(a)||function(l){return!!l&&"doubleValue"in l}(a)}(t)?t:{integerValue:0}:null}class yc extends rx{}class bc extends rx{constructor(t){super(),this.elements=t}}function ak(s,t){const r=ik(t);for(const a of s.elements)r.some(n=>ya(n,a))||r.push(a);return{arrayValue:{values:r}}}class vc extends rx{constructor(t){super(),this.elements=t}}function nk(s,t){let r=ik(t);for(const a of s.elements)r=r.filter(n=>!ya(n,a));return{arrayValue:{values:r}}}class jc extends rx{constructor(t,r){super(),this.serializer=t,this.Ie=r}}function sj(s){return ps(s.integerValue||s.doubleValue)}function ik(s){return Vf(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(t,r){this.field=t,this.transform=r}}function r8(s,t){return s.field.isEqual(t.field)&&function(a,n){return a instanceof bc&&n instanceof bc||a instanceof vc&&n instanceof vc?Co(a.elements,n.elements,ya):a instanceof jc&&n instanceof jc?ya(a.Ie,n.Ie):a instanceof yc&&n instanceof yc}(s.transform,t.transform)}class a8{constructor(t,r){this.version=t,this.transformResults=r}}class Ms{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Ms}static exists(t){return new Ms(void 0,t)}static updateTime(t){return new Ms(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fu(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class ax{}function lk(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new nx(s.key,Ms.none()):new qc(s.key,s.data,Ms.none());{const r=s.data,a=tr.empty();let n=new ks(Rs.comparator);for(let l of t.fields)if(!n.has(l)){let o=r.field(l);o===null&&l.length>1&&(l=l.popLast(),o=r.field(l)),o===null?a.delete(l):a.set(l,o),n=n.add(l)}return new qn(s.key,a,new Nr(n.toArray()),Ms.none())}}function n8(s,t,r){s instanceof qc?function(n,l,o){const c=n.value.clone(),d=aj(n.fieldTransforms,l,o.transformResults);c.setAll(d),l.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(s,t,r):s instanceof qn?function(n,l,o){if(!fu(n.precondition,l))return void l.convertToUnknownDocument(o.version);const c=aj(n.fieldTransforms,l,o.transformResults),d=l.data;d.setAll(ck(n)),d.setAll(c),l.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(s,t,r):function(n,l,o){l.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,r)}function Vl(s,t,r,a){return s instanceof qc?function(l,o,c,d){if(!fu(l.precondition,o))return c;const m=l.value.clone(),p=nj(l.fieldTransforms,d,o);return m.setAll(p),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(s,t,r,a):s instanceof qn?function(l,o,c,d){if(!fu(l.precondition,o))return c;const m=nj(l.fieldTransforms,d,o),p=o.data;return p.setAll(ck(l)),p.setAll(m),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(N=>N.field))}(s,t,r,a):function(l,o,c){return fu(l.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(s,t,r)}function i8(s,t){let r=null;for(const a of s.fieldTransforms){const n=t.data.field(a.field),l=rk(a.transform,n||null);l!=null&&(r===null&&(r=tr.empty()),r.set(a.field,l))}return r||null}function rj(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(a,n){return a===void 0&&n===void 0||!(!a||!n)&&Co(a,n,(l,o)=>r8(l,o))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class qc extends ax{constructor(t,r,a,n=[]){super(),this.key=t,this.value=r,this.precondition=a,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class qn extends ax{constructor(t,r,a,n,l=[]){super(),this.key=t,this.data=r,this.fieldMask=a,this.precondition=n,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function ck(s){const t=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=s.data.field(r);t.set(r,a)}}),t}function aj(s,t,r){const a=new Map;_t(s.length===r.length);for(let n=0;n<r.length;n++){const l=s[n],o=l.transform,c=t.data.field(l.field);a.set(l.field,s8(o,c,r[n]))}return a}function nj(s,t,r){const a=new Map;for(const n of s){const l=n.transform,o=r.data.field(n.field);a.set(n.field,t8(l,o,t))}return a}class nx extends ax{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dk extends ax{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(t,r,a,n){this.batchId=t,this.localWriteTime=r,this.baseMutations=a,this.mutations=n}applyToRemoteDocument(t,r){const a=r.mutationResults;for(let n=0;n<this.mutations.length;n++){const l=this.mutations[n];l.key.isEqual(t.key)&&n8(l,t,a[n])}}applyToLocalView(t,r){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(r=Vl(a,t,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(r=Vl(a,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const a=ek();return this.mutations.forEach(n=>{const l=t.get(n.key),o=l.overlayedDocument;let c=this.applyToLocalView(o,l.mutatedFields);c=r.has(n.key)?null:c;const d=lk(o,c);d!==null&&a.set(n.key,d),o.isValidDocument()||o.convertToNoDocument(ct.min())}),a}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Et())}isEqual(t){return this.batchId===t.batchId&&Co(this.mutations,t.mutations,(r,a)=>rj(r,a))&&Co(this.baseMutations,t.baseMutations,(r,a)=>rj(r,a))}}class Ff{constructor(t,r,a,n){this.batch=t,this.commitVersion=r,this.mutationResults=a,this.docVersions=n}static from(t,r,a){_t(t.mutations.length===a.length);let n=function(){return X_}();const l=t.mutations;for(let o=0;o<l.length;o++)n=n.insert(l[o].key,a[o].version);return new Ff(t,r,a,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gs,Tt;function uk(s){switch(s){case je.OK:return ot();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0;default:return ot()}}function mk(s){if(s===void 0)return Ua("GRPC error has no .code"),je.UNKNOWN;switch(s){case gs.OK:return je.OK;case gs.CANCELLED:return je.CANCELLED;case gs.UNKNOWN:return je.UNKNOWN;case gs.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case gs.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case gs.INTERNAL:return je.INTERNAL;case gs.UNAVAILABLE:return je.UNAVAILABLE;case gs.UNAUTHENTICATED:return je.UNAUTHENTICATED;case gs.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case gs.NOT_FOUND:return je.NOT_FOUND;case gs.ALREADY_EXISTS:return je.ALREADY_EXISTS;case gs.PERMISSION_DENIED:return je.PERMISSION_DENIED;case gs.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case gs.ABORTED:return je.ABORTED;case gs.OUT_OF_RANGE:return je.OUT_OF_RANGE;case gs.UNIMPLEMENTED:return je.UNIMPLEMENTED;case gs.DATA_LOSS:return je.DATA_LOSS;default:return ot()}}(Tt=gs||(gs={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=new Cn([4294967295,4294967295],0);function ij(s){const t=T4().encode(s),r=new w4;return r.update(t),new Uint8Array(r.digest())}function oj(s){const t=new DataView(s.buffer),r=t.getUint32(0,!0),a=t.getUint32(4,!0),n=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Cn([r,a],0),new Cn([n,l],0)]}class Uf{constructor(t,r,a){if(this.bitmap=t,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Nl(`Invalid padding: ${r}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(t.length===0&&r!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*t.length-r,this.de=Cn.fromNumber(this.Ee)}Ae(t,r,a){let n=t.add(r.multiply(Cn.fromNumber(a)));return n.compare(d8)===1&&(n=new Cn([n.getBits(0),n.getBits(1)],0)),n.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const r=ij(t),[a,n]=oj(r);for(let l=0;l<this.hashCount;l++){const o=this.Ae(a,n,l);if(!this.Re(o))return!1}return!0}static create(t,r,a){const n=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),o=new Uf(l,n,r);return a.forEach(c=>o.insert(c)),o}insert(t){if(this.Ee===0)return;const r=ij(t),[a,n]=oj(r);for(let l=0;l<this.hashCount;l++){const o=this.Ae(a,n,l);this.Ve(o)}}Ve(t){const r=Math.floor(t/8),a=t%8;this.bitmap[r]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t,r,a,n,l){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=n,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,r,a){const n=new Map;return n.set(t,Wc.createSynthesizedTargetChangeForCurrentChange(t,r,a)),new ix(ct.min(),n,new cs(bt),$a(),Et())}}class Wc{constructor(t,r,a,n,l){this.resumeToken=t,this.current=r,this.addedDocuments=a,this.modifiedDocuments=n,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,r,a){return new Wc(a,r,Et(),Et(),Et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,r,a,n){this.me=t,this.removedTargetIds=r,this.key=a,this.fe=n}}class xk{constructor(t,r){this.targetId=t,this.ge=r}}class hk{constructor(t,r,a=Ls.EMPTY_BYTE_STRING,n=null){this.state=t,this.targetIds=r,this.resumeToken=a,this.cause=n}}class lj{constructor(){this.pe=0,this.ye=cj(),this.we=Ls.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Et(),r=Et(),a=Et();return this.ye.forEach((n,l)=>{switch(l){case 0:t=t.add(n);break;case 2:r=r.add(n);break;case 1:a=a.add(n);break;default:ot()}}),new Wc(this.we,this.Se,t,r,a)}Me(){this.be=!1,this.ye=cj()}xe(t,r){this.be=!0,this.ye=this.ye.insert(t,r)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,_t(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class u8{constructor(t){this.ke=t,this.qe=new Map,this.Qe=$a(),this.$e=$d(),this.Ue=$d(),this.Ke=new cs(bt)}We(t){for(const r of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(r,t.fe):this.ze(r,t.key,t.fe);for(const r of t.removedTargetIds)this.ze(r,t.key,t.fe)}je(t){this.forEachTarget(t,r=>{const a=this.He(r);switch(t.state){case 0:this.Je(r)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(r);break;case 3:this.Je(r)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),a.Ce(t.resumeToken));break;default:ot()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.qe.forEach((a,n)=>{this.Je(n)&&r(n)})}Ze(t){const r=t.targetId,a=t.ge.count,n=this.Xe(r);if(n){const l=n.target;if(G0(l))if(a===0){const o=new nt(l.path);this.ze(r,o,Is.newNoDocument(o,ct.min()))}else _t(a===1);else{const o=this.et(r);if(o!==a){const c=this.tt(t),d=c?this.nt(c,t,o):1;if(d!==0){this.Ye(r);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,m)}}}}}tt(t){const r=t.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:n=0},hashCount:l=0}=r;let o,c;try{o=An(a).toUint8Array()}catch(d){if(d instanceof R4)return So("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Uf(o,n,l)}catch(d){return So(d instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ee===0?null:c}nt(t,r,a){return r.ge.count===a-this.st(t,r.targetId)?0:2}st(t,r){const a=this.ke.getRemoteKeysForTarget(r);let n=0;return a.forEach(l=>{const o=this.ke.it(),c=`projects/${o.projectId}/databases/${o.database}/documents/${l.path.canonicalString()}`;t.mightContain(c)||(this.ze(r,l,null),n++)}),n}ot(t){const r=new Map;this.qe.forEach((l,o)=>{const c=this.Xe(o);if(c){if(l.current&&G0(c.target)){const d=new nt(c.target.path);this._t(d).has(o)||this.ut(o,d)||this.ze(o,d,Is.newNoDocument(d,t))}l.ve&&(r.set(o,l.Fe()),l.Me())}});let a=Et();this.Ue.forEach((l,o)=>{let c=!0;o.forEachWhile(d=>{const m=this.Xe(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(a=a.add(l))}),this.Qe.forEach((l,o)=>o.setReadTime(t));const n=new ix(t,r,this.Ke,this.Qe,a);return this.Qe=$a(),this.$e=$d(),this.Ue=$d(),this.Ke=new cs(bt),n}Ge(t,r){if(!this.Je(t))return;const a=this.ut(t,r.key)?2:0;this.He(t).xe(r.key,a),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(t)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(t))}ze(t,r,a){if(!this.Je(t))return;const n=this.He(t);this.ut(t,r)?n.xe(r,1):n.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(t)),this.Ue=this.Ue.insert(r,this.ct(r).add(t)),a&&(this.Qe=this.Qe.insert(r,a))}removeTarget(t){this.qe.delete(t)}et(t){const r=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let r=this.qe.get(t);return r||(r=new lj,this.qe.set(t,r)),r}ct(t){let r=this.Ue.get(t);return r||(r=new ks(bt),this.Ue=this.Ue.insert(t,r)),r}_t(t){let r=this.$e.get(t);return r||(r=new ks(bt),this.$e=this.$e.insert(t,r)),r}Je(t){const r=this.Xe(t)!==null;return r||qe("WatchChangeAggregator","Detected inactive target",t),r}Xe(t){const r=this.qe.get(t);return r&&r.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new lj),this.ke.getRemoteKeysForTarget(t).forEach(r=>{this.ze(t,r,null)})}ut(t,r){return this.ke.getRemoteKeysForTarget(t).has(r)}}function $d(){return new cs(nt.comparator)}function cj(){return new cs(nt.comparator)}const m8=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),x8=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),h8=(()=>({and:"AND",or:"OR"}))();class p8{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function K0(s,t){return s.useProto3Json||$c(t)?t:{value:t}}function om(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pk(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function f8(s,t){return om(s,t.toTimestamp())}function kr(s){return _t(!!s),ct.fromTimestamp(function(r){const a=Dn(r);return new is(a.seconds,a.nanos)}(s))}function $f(s,t){return Q0(s,t).canonicalString()}function Q0(s,t){const r=function(n){return new Gt(["projects",n.projectId,"databases",n.database])}(s).child("documents");return t===void 0?r:r.child(t)}function fk(s){const t=Gt.fromString(s);return _t(Nk(t)),t}function lm(s,t){return $f(s.databaseId,t.path)}function zl(s,t){const r=fk(t);if(r.get(1)!==s.databaseId.projectId)throw new Fe(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new Fe(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new nt(yk(r))}function gk(s,t){return $f(s.databaseId,t)}function g8(s){const t=fk(s);return t.length===4?Gt.emptyPath():yk(t)}function Y0(s){return new Gt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function yk(s){return _t(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function dj(s,t,r){return{name:lm(s,t),fields:r.value.mapValue.fields}}function y8(s,t){return"found"in t?function(a,n){_t(!!n.found),n.found.name,n.found.updateTime;const l=zl(a,n.found.name),o=kr(n.found.updateTime),c=n.found.createTime?kr(n.found.createTime):ct.min(),d=new tr({mapValue:{fields:n.found.fields}});return Is.newFoundDocument(l,o,c,d)}(s,t):"missing"in t?function(a,n){_t(!!n.missing),_t(!!n.readTime);const l=zl(a,n.missing),o=kr(n.readTime);return Is.newNoDocument(l,o)}(s,t):ot()}function b8(s,t){let r;if("targetChange"in t){t.targetChange;const a=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ot()}(t.targetChange.targetChangeType||"NO_CHANGE"),n=t.targetChange.targetIds||[],l=function(m,p){return m.useProto3Json?(_t(p===void 0||typeof p=="string"),Ls.fromBase64String(p||"")):(_t(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Ls.fromUint8Array(p||new Uint8Array))}(s,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(m){const p=m.code===void 0?je.UNKNOWN:mk(m.code);return new Fe(p,m.message||"")}(o);r=new hk(a,n,l,c||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const n=zl(s,a.document.name),l=kr(a.document.updateTime),o=a.document.createTime?kr(a.document.createTime):ct.min(),c=new tr({mapValue:{fields:a.document.fields}}),d=Is.newFoundDocument(n,l,o,c),m=a.targetIds||[],p=a.removedTargetIds||[];r=new gu(m,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const n=zl(s,a.document),l=a.readTime?kr(a.readTime):ct.min(),o=Is.newNoDocument(n,l),c=a.removedTargetIds||[];r=new gu([],c,o.key,o)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const n=zl(s,a.document),l=a.removedTargetIds||[];r=new gu([],l,n,null)}else{if(!("filter"in t))return ot();{t.filter;const a=t.filter;a.targetId;const{count:n=0,unchangedNames:l}=a,o=new c8(n,l),c=a.targetId;r=new xk(c,o)}}return r}function bk(s,t){let r;if(t instanceof qc)r={update:dj(s,t.key,t.value)};else if(t instanceof nx)r={delete:lm(s,t.key)};else if(t instanceof qn)r={update:dj(s,t.key,t.data),updateMask:I8(t.fieldMask)};else{if(!(t instanceof dk))return ot();r={verify:lm(s,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(a=>function(l,o){const c=o.transform;if(c instanceof yc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof vc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof jc)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw ot()}(0,a))),t.precondition.isNone||(r.currentDocument=function(n,l){return l.updateTime!==void 0?{updateTime:f8(n,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ot()}(s,t.precondition)),r}function v8(s,t){return s&&s.length>0?(_t(t!==void 0),s.map(r=>function(n,l){let o=n.updateTime?kr(n.updateTime):kr(l);return o.isEqual(ct.min())&&(o=kr(l)),new a8(o,n.transformResults||[])}(r,t))):[]}function j8(s,t){return{documents:[gk(s,t.path)]}}function N8(s,t){const r={structuredQuery:{}},a=t.path;let n;t.collectionGroup!==null?(n=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=gk(s,n);const l=function(m){if(m.length!==0)return jk(ea.create(m,"and"))}(t.filters);l&&(r.structuredQuery.where=l);const o=function(m){if(m.length!==0)return m.map(p=>function(k){return{field:Bi(k.field),direction:S8(k.dir)}}(p))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);const c=K0(s,t.limit);return c!==null&&(r.structuredQuery.limit=c),t.startAt&&(r.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),{ht:r,parent:n}}function w8(s){let t=g8(s.parent);const r=s.structuredQuery,a=r.from?r.from.length:0;let n=null;if(a>0){_t(a===1);const p=r.from[0];p.allDescendants?n=p.collectionId:t=t.child(p.collectionId)}let l=[];r.where&&(l=function(N){const k=vk(N);return k instanceof ea&&W4(k)?k.getFilters():[k]}(r.where));let o=[];r.orderBy&&(o=function(N){return N.map(k=>function(h){return new gc(Fi(h.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(k))}(r.orderBy));let c=null;r.limit&&(c=function(N){let k;return k=typeof N=="object"?N.value:N,$c(k)?null:k}(r.limit));let d=null;r.startAt&&(d=function(N){const k=!!N.before,I=N.values||[];return new nm(I,k)}(r.startAt));let m=null;return r.endAt&&(m=function(N){const k=!N.before,I=N.values||[];return new nm(I,k)}(r.endAt)),G_(t,n,o,l,c,"F",d,m)}function k8(s,t){const r=function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function vk(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Fi(r.unaryFilter.field);return vs.create(a,"==",{doubleValue:NaN});case"IS_NULL":const n=Fi(r.unaryFilter.field);return vs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Fi(r.unaryFilter.field);return vs.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fi(r.unaryFilter.field);return vs.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(s):s.fieldFilter!==void 0?function(r){return vs.create(Fi(r.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return ea.create(r.compositeFilter.filters.map(a=>vk(a)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ot()}}(r.compositeFilter.op))}(s):ot()}function S8(s){return m8[s]}function C8(s){return x8[s]}function E8(s){return h8[s]}function Bi(s){return{fieldPath:s.canonicalString()}}function Fi(s){return Rs.fromServerFormat(s.fieldPath)}function jk(s){return s instanceof vs?function(r){if(r.op==="=="){if(Xv(r.value))return{unaryFilter:{field:Bi(r.field),op:"IS_NAN"}};if(Yv(r.value))return{unaryFilter:{field:Bi(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Xv(r.value))return{unaryFilter:{field:Bi(r.field),op:"IS_NOT_NAN"}};if(Yv(r.value))return{unaryFilter:{field:Bi(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bi(r.field),op:C8(r.op),value:r.value}}}(s):s instanceof ea?function(r){const a=r.getFilters().map(n=>jk(n));return a.length===1?a[0]:{compositeFilter:{op:E8(r.op),filters:a}}}(s):ot()}function I8(s){const t=[];return s.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Nk(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,r,a,n,l=ct.min(),o=ct.min(),c=Ls.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=r,this.purpose=a,this.sequenceNumber=n,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(t){return new hn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new hn(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(t){this.Tt=t}}function T8(s){const t=w8({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?im(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(){this.Tn=new D8}addToCollectionParentIndex(t,r){return this.Tn.add(r),Se.resolve()}getCollectionParents(t,r){return Se.resolve(this.Tn.getEntries(r))}addFieldIndex(t,r){return Se.resolve()}deleteFieldIndex(t,r){return Se.resolve()}deleteAllFieldIndexes(t){return Se.resolve()}createTargetIndexes(t,r){return Se.resolve()}getDocumentsMatchingTarget(t,r){return Se.resolve(null)}getIndexType(t,r){return Se.resolve(0)}getFieldIndexes(t,r){return Se.resolve([])}getNextCollectionGroupToUpdate(t){return Se.resolve(null)}getMinOffset(t,r){return Se.resolve(_n.min())}getMinOffsetFromCollectionGroup(t,r){return Se.resolve(_n.min())}updateCollectionGroup(t,r,a){return Se.resolve()}updateIndexEntries(t,r){return Se.resolve()}}class D8{constructor(){this.index={}}add(t){const r=t.lastSegment(),a=t.popLast(),n=this.index[r]||new ks(Gt.comparator),l=!n.has(a);return this.index[r]=n.add(a),l}has(t){const r=t.lastSegment(),a=t.popLast(),n=this.index[r];return n&&n.has(a)}getEntries(t){return(this.index[t]||new ks(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wk=41943040;class lr{static withCacheSize(t){return new lr(t,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(wk,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Po(0)}static Kn(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="LruGarbageCollector",A8=1048576;function xj([s,t],[r,a]){const n=bt(s,r);return n===0?bt(t,a):n}class R8{constructor(t){this.Hn=t,this.buffer=new ks(xj),this.Jn=0}Yn(){return++this.Jn}Zn(t){const r=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();xj(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class M8{constructor(t,r,a){this.garbageCollector=t,this.asyncQueue=r,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){qe(mj,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Fo(r)?qe(mj,"Ignoring IndexedDB error during garbage collection: ",r):await Bo(r)}await this.er(3e5)})}}class O8{constructor(t,r){this.tr=t,this.params=r}calculateTargetCount(t,r){return this.tr.nr(t).next(a=>Math.floor(r/100*a))}nthSequenceNumber(t,r){if(r===0)return Se.resolve(Jm.ae);const a=new R8(r);return this.tr.forEachTarget(t,n=>a.Zn(n.sequenceNumber)).next(()=>this.tr.rr(t,n=>a.Zn(n))).next(()=>a.maxValue)}removeTargets(t,r,a){return this.tr.removeTargets(t,r,a)}removeOrphanedDocuments(t,r){return this.tr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(uj)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uj):this.ir(t,r))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,r){let a,n,l,o,c,d,m;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),n=this.params.maximumSequenceNumbersToCollect):n=N,o=Date.now(),this.nthSequenceNumber(t,n))).next(N=>(a=N,c=Date.now(),this.removeTargets(t,a,r))).next(N=>(l=N,d=Date.now(),this.removeOrphanedDocuments(t,a))).next(N=>(m=Date.now(),zi()<=Ct.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${n} in `+(c-o)+`ms
	Removed ${l} targets in `+(d-c)+`ms
	Removed ${N} documents in `+(m-d)+`ms
Total Duration: ${m-p}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:l,documentsRemoved:N})))}}function V8(s,t){return new O8(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(){this.changes=new Ti(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Is.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?Se.resolve(a):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(t,r,a,n){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=n}getDocument(t,r){let a=null;return this.documentOverlayCache.getOverlay(t,r).next(n=>(a=n,this.remoteDocumentCache.getEntry(t,r))).next(n=>(a!==null&&Vl(a.mutation,n,Nr.empty(),is.now()),n))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.getLocalViewOfDocuments(t,a,Et()).next(()=>a))}getLocalViewOfDocuments(t,r,a=Et()){const n=ai();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,a).next(l=>{let o=jl();return l.forEach((c,d)=>{o=o.insert(c,d.overlayedDocument)}),o}))}getOverlayedDocuments(t,r){const a=ai();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,Et()))}populateOverlays(t,r,a){const n=[];return a.forEach(l=>{r.has(l)||n.push(l)}),this.documentOverlayCache.getOverlays(t,n).next(l=>{l.forEach((o,c)=>{r.set(o,c)})})}computeViews(t,r,a,n){let l=$a();const o=Ol(),c=function(){return Ol()}();return r.forEach((d,m)=>{const p=a.get(m.key);n.has(m.key)&&(p===void 0||p.mutation instanceof qn)?l=l.insert(m.key,m):p!==void 0?(o.set(m.key,p.mutation.getFieldMask()),Vl(p.mutation,m,p.mutation.getFieldMask(),is.now())):o.set(m.key,Nr.empty())}),this.recalculateAndSaveOverlays(t,l).next(d=>(d.forEach((m,p)=>o.set(m,p)),r.forEach((m,p)=>{var N;return c.set(m,new L8(p,(N=o.get(m))!==null&&N!==void 0?N:null))}),c))}recalculateAndSaveOverlays(t,r){const a=Ol();let n=new cs((o,c)=>o-c),l=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(o=>{for(const c of o)c.keys().forEach(d=>{const m=r.get(d);if(m===null)return;let p=a.get(d)||Nr.empty();p=c.applyToLocalView(m,p),a.set(d,p);const N=(n.get(c.batchId)||Et()).add(d);n=n.insert(c.batchId,N)})}).next(()=>{const o=[],c=n.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),m=d.key,p=d.value,N=ek();p.forEach(k=>{if(!l.has(k)){const I=lk(r.get(k),a.get(k));I!==null&&N.set(k,I),l=l.add(k)}}),o.push(this.documentOverlayCache.saveOverlays(t,m,N))}return Se.waitFor(o)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,r,a,n){return function(o){return nt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):Q4(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,a,n):this.getDocumentsMatchingCollectionQuery(t,r,a,n)}getNextDocuments(t,r,a,n){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,a,n).next(l=>{const o=n-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,a.largestBatchId,n-l.size):Se.resolve(ai());let c=xc,d=l;return o.next(m=>Se.forEach(m,(p,N)=>(c<N.largestBatchId&&(c=N.largestBatchId),l.get(p)?Se.resolve():this.remoteDocumentCache.getEntry(t,p).next(k=>{d=d.insert(p,k)}))).next(()=>this.populateOverlays(t,m,l)).next(()=>this.computeViews(t,d,m,Et())).next(p=>({batchId:c,changes:Z4(p)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new nt(r)).next(a=>{let n=jl();return a.isFoundDocument()&&(n=n.insert(a.key,a)),n})}getDocumentsMatchingCollectionGroupQuery(t,r,a,n){const l=r.collectionGroup;let o=jl();return this.indexManager.getCollectionParents(t,l).next(c=>Se.forEach(c,d=>{const m=function(N,k){return new Uo(k,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(r,d.child(l));return this.getDocumentsMatchingCollectionQuery(t,m,a,n).next(p=>{p.forEach((N,k)=>{o=o.insert(N,k)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,r,a,n){let l;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,a.largestBatchId).next(o=>(l=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,a,l,n))).next(o=>{l.forEach((d,m)=>{const p=m.getKey();o.get(p)===null&&(o=o.insert(p,Is.newInvalidDocument(p)))});let c=jl();return o.forEach((d,m)=>{const p=l.get(d);p!==void 0&&Vl(p.mutation,m,Nr.empty(),is.now()),sx(r,m)&&(c=c.insert(d,m))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,r){return Se.resolve(this.dr.get(r))}saveBundleMetadata(t,r){return this.dr.set(r.id,function(n){return{id:n.id,version:n.version,createTime:kr(n.createTime)}}(r)),Se.resolve()}getNamedQuery(t,r){return Se.resolve(this.Ar.get(r))}saveNamedQuery(t,r){return this.Ar.set(r.name,function(n){return{name:n.name,query:T8(n.bundledQuery),readTime:kr(n.readTime)}}(r)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(){this.overlays=new cs(nt.comparator),this.Rr=new Map}getOverlay(t,r){return Se.resolve(this.overlays.get(r))}getOverlays(t,r){const a=ai();return Se.forEach(r,n=>this.getOverlay(t,n).next(l=>{l!==null&&a.set(n,l)})).next(()=>a)}saveOverlays(t,r,a){return a.forEach((n,l)=>{this.Et(t,r,l)}),Se.resolve()}removeOverlaysForBatchId(t,r,a){const n=this.Rr.get(a);return n!==void 0&&(n.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(a)),Se.resolve()}getOverlaysForCollection(t,r,a){const n=ai(),l=r.length+1,o=new nt(r.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,m=d.getKey();if(!r.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>a&&n.set(d.getKey(),d)}return Se.resolve(n)}getOverlaysForCollectionGroup(t,r,a,n){let l=new cs((m,p)=>m-p);const o=this.overlays.getIterator();for(;o.hasNext();){const m=o.getNext().value;if(m.getKey().getCollectionGroup()===r&&m.largestBatchId>a){let p=l.get(m.largestBatchId);p===null&&(p=ai(),l=l.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const c=ai(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,p)=>c.set(m,p)),!(c.size()>=n)););return Se.resolve(c)}Et(t,r,a){const n=this.overlays.get(a.key);if(n!==null){const o=this.Rr.get(n.largestBatchId).delete(a.key);this.Rr.set(n.largestBatchId,o)}this.overlays=this.overlays.insert(a.key,new l8(r,a));let l=this.Rr.get(r);l===void 0&&(l=Et(),this.Rr.set(r,l)),this.Rr.set(r,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(){this.sessionToken=Ls.EMPTY_BYTE_STRING}getSessionToken(t){return Se.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this.Vr=new ks(Cs.mr),this.gr=new ks(Cs.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,r){const a=new Cs(t,r);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,r){t.forEach(a=>this.addReference(a,r))}removeReference(t,r){this.wr(new Cs(t,r))}Sr(t,r){t.forEach(a=>this.removeReference(a,r))}br(t){const r=new nt(new Gt([])),a=new Cs(r,t),n=new Cs(r,t+1),l=[];return this.gr.forEachInRange([a,n],o=>{this.wr(o),l.push(o.key)}),l}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const r=new nt(new Gt([])),a=new Cs(r,t),n=new Cs(r,t+1);let l=Et();return this.gr.forEachInRange([a,n],o=>{l=l.add(o.key)}),l}containsKey(t){const r=new Cs(t,0),a=this.Vr.firstAfterOrEqual(r);return a!==null&&t.isEqual(a.key)}}class Cs{constructor(t,r){this.key=t,this.Cr=r}static mr(t,r){return nt.comparator(t.key,r.key)||bt(t.Cr,r.Cr)}static pr(t,r){return bt(t.Cr,r.Cr)||nt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new ks(Cs.mr)}checkEmpty(t){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,a,n){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new o8(l,r,a,n);this.mutationQueue.push(o);for(const c of n)this.Mr=this.Mr.add(new Cs(c.key,l)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return Se.resolve(o)}lookupMutationBatch(t,r){return Se.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(t,r){const a=r+1,n=this.Nr(a),l=n<0?0:n;return Se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?Mf:this.Fr-1)}getAllMutationBatches(t){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const a=new Cs(r,0),n=new Cs(r,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([a,n],o=>{const c=this.Or(o.Cr);l.push(c)}),Se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new ks(bt);return r.forEach(n=>{const l=new Cs(n,0),o=new Cs(n,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,o],c=>{a=a.add(c.Cr)})}),Se.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,n=a.length+1;let l=a;nt.isDocumentKey(l)||(l=l.child(""));const o=new Cs(new nt(l),0);let c=new ks(bt);return this.Mr.forEachWhile(d=>{const m=d.key.path;return!!a.isPrefixOf(m)&&(m.length===n&&(c=c.add(d.Cr)),!0)},o),Se.resolve(this.Br(c))}Br(t){const r=[];return t.forEach(a=>{const n=this.Or(a);n!==null&&r.push(n)}),r}removeMutationBatch(t,r){_t(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Se.forEach(r.mutations,n=>{const l=new Cs(n.key,r.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,n.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,r){const a=new Cs(r,0),n=this.Mr.firstAfterOrEqual(a);return Se.resolve(r.isEqual(n&&n.key))}performConsistencyCheck(t){return this.mutationQueue.length,Se.resolve()}Lr(t,r){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const r=this.Nr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(t){this.kr=t,this.docs=function(){return new cs(nt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const a=r.key,n=this.docs.get(a),l=n?n.size:0,o=this.kr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:o}),this.size+=o-l,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const a=this.docs.get(r);return Se.resolve(a?a.document.mutableCopy():Is.newInvalidDocument(r))}getEntries(t,r){let a=$a();return r.forEach(n=>{const l=this.docs.get(n);a=a.insert(n,l?l.document.mutableCopy():Is.newInvalidDocument(n))}),Se.resolve(a)}getDocumentsMatchingQuery(t,r,a,n){let l=$a();const o=r.path,c=new nt(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:m,value:{document:p}}=d.getNext();if(!o.isPrefixOf(m.path))break;m.path.length>o.length+1||S_(k_(p),a)<=0||(n.has(p.key)||sx(r,p))&&(l=l.insert(p.key,p.mutableCopy()))}return Se.resolve(l)}getAllFromCollectionGroup(t,r,a,n){ot()}qr(t,r){return Se.forEach(this.docs,a=>r(a))}newChangeBuffer(t){return new G8(this)}getSize(t){return Se.resolve(this.size)}}class G8 extends z8{constructor(t){super(),this.Ir=t}applyChanges(t){const r=[];return this.changes.forEach((a,n)=>{n.isValidDocument()?r.push(this.Ir.addEntry(t,n)):this.Ir.removeEntry(a)}),Se.waitFor(r)}getFromCache(t,r){return this.Ir.getEntry(t,r)}getAllFromCache(t,r){return this.Ir.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(t){this.persistence=t,this.Qr=new Ti(r=>zf(r),Lf),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.$r=0,this.Ur=new qf,this.targetCount=0,this.Kr=Po.Un()}forEachTarget(t,r){return this.Qr.forEach((a,n)=>r(n)),Se.resolve()}getLastRemoteSnapshotVersion(t){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Se.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(t,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.$r&&(this.$r=r),Se.resolve()}zn(t){this.Qr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Kr=new Po(r),this.highestTargetId=r),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,r){return this.zn(r),this.targetCount+=1,Se.resolve()}updateTargetData(t,r){return this.zn(r),Se.resolve()}removeTargetData(t,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,Se.resolve()}removeTargets(t,r,a){let n=0;const l=[];return this.Qr.forEach((o,c)=>{c.sequenceNumber<=r&&a.get(c.targetId)===null&&(this.Qr.delete(o),l.push(this.removeMatchingKeysForTargetId(t,c.targetId)),n++)}),Se.waitFor(l).next(()=>n)}getTargetCount(t){return Se.resolve(this.targetCount)}getTargetData(t,r){const a=this.Qr.get(r)||null;return Se.resolve(a)}addMatchingKeys(t,r,a){return this.Ur.yr(r,a),Se.resolve()}removeMatchingKeys(t,r,a){this.Ur.Sr(r,a);const n=this.persistence.referenceDelegate,l=[];return n&&r.forEach(o=>{l.push(n.markPotentiallyOrphaned(t,o))}),Se.waitFor(l)}removeMatchingKeysForTargetId(t,r){return this.Ur.br(r),Se.resolve()}getMatchingKeysForTargetId(t,r){const a=this.Ur.vr(r);return Se.resolve(a)}containsKey(t,r){return Se.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t,r){this.Wr={},this.overlays={},this.Gr=new Jm(0),this.zr=!1,this.zr=!0,this.jr=new $8,this.referenceDelegate=t(this),this.Hr=new H8(this),this.indexManager=new _8,this.remoteDocumentCache=function(n){return new W8(n)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new P8(r),this.Yr=new F8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new U8,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let a=this.Wr[t.toKey()];return a||(a=new q8(r,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,r,a){qe("MemoryPersistence","Starting transaction:",t);const n=new K8(this.Gr.next());return this.referenceDelegate.Zr(),a(n).next(l=>this.referenceDelegate.Xr(n).next(()=>l)).toPromise().then(l=>(n.raiseOnCommittedEvent(),l))}ei(t,r){return Se.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,r)))}}class K8 extends E_{constructor(t){super(),this.currentSequenceNumber=t}}class Wf{constructor(t){this.persistence=t,this.ti=new qf,this.ni=null}static ri(t){return new Wf(t)}get ii(){if(this.ni)return this.ni;throw ot()}addReference(t,r,a){return this.ti.addReference(a,r),this.ii.delete(a.toString()),Se.resolve()}removeReference(t,r,a){return this.ti.removeReference(a,r),this.ii.add(a.toString()),Se.resolve()}markPotentiallyOrphaned(t,r){return this.ii.add(r.toString()),Se.resolve()}removeTarget(t,r){this.ti.br(r.targetId).forEach(n=>this.ii.add(n.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,r.targetId).next(n=>{n.forEach(l=>this.ii.add(l.toString()))}).next(()=>a.removeTargetData(t,r))}Zr(){this.ni=new Set}Xr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.ii,a=>{const n=nt.fromPath(a);return this.si(t,n).next(l=>{l||r.removeEntry(n,ct.min())})}).next(()=>(this.ni=null,r.apply(t)))}updateLimboDocument(t,r){return this.si(t,r).next(a=>{a?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(t){return 0}si(t,r){return Se.or([()=>Se.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.ei(t,r)])}}class cm{constructor(t,r){this.persistence=t,this.oi=new Ti(a=>T_(a.path),(a,n)=>a.isEqual(n)),this.garbageCollector=V8(this,r)}static ri(t,r){return new cm(t,r)}Zr(){}Xr(t){return Se.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}nr(t){const r=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>r.next(n=>a+n))}sr(t){let r=0;return this.rr(t,a=>{r++}).next(()=>r)}rr(t,r){return Se.forEach(this.oi,(a,n)=>this.ar(t,a,n).next(l=>l?Se.resolve():r(n)))}removeTargets(t,r,a){return this.persistence.getTargetCache().removeTargets(t,r,a)}removeOrphanedDocuments(t,r){let a=0;const n=this.persistence.getRemoteDocumentCache(),l=n.newChangeBuffer();return n.qr(t,o=>this.ar(t,o,r).next(c=>{c||(a++,l.removeEntry(o,ct.min()))})).next(()=>l.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,r){return this.oi.set(r,t.currentSequenceNumber),Se.resolve()}removeTarget(t,r){const a=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,r,a){return this.oi.set(a,t.currentSequenceNumber),Se.resolve()}removeReference(t,r,a){return this.oi.set(a,t.currentSequenceNumber),Se.resolve()}updateLimboDocument(t,r){return this.oi.set(r,t.currentSequenceNumber),Se.resolve()}Jr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=hu(t.data.value)),r}ar(t,r,a){return Se.or([()=>this.persistence.ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const n=this.oi.get(r);return Se.resolve(n!==void 0&&n>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,r,a,n){this.targetId=t,this.fromCache=r,this.Hi=a,this.Ji=n}static Yi(t,r){let a=Et(),n=Et();for(const l of r.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:n=n.add(l.doc.key)}return new Gf(t,r.fromCache,a,n)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return KT()?8:I_(Ys())>0?6:4}()}initialize(t,r){this.ns=t,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(t,r,a,n){const l={result:null};return this.rs(t,r).next(o=>{l.result=o}).next(()=>{if(!l.result)return this.ss(t,r,n,a).next(o=>{l.result=o})}).next(()=>{if(l.result)return;const o=new Q8;return this._s(t,r,o).next(c=>{if(l.result=c,this.Xi)return this.us(t,r,o,c.size)})}).next(()=>l.result)}us(t,r,a,n){return a.documentReadCount<this.es?(zi()<=Ct.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",Li(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Se.resolve()):(zi()<=Ct.DEBUG&&qe("QueryEngine","Query:",Li(r),"scans",a.documentReadCount,"local documents and returns",n,"documents as results."),a.documentReadCount>this.ts*n?(zi()<=Ct.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",Li(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ua(r))):Se.resolve())}rs(t,r){if(tj(r))return Se.resolve(null);let a=ua(r);return this.indexManager.getIndexType(t,a).next(n=>n===0?null:(r.limit!==null&&n===1&&(r=im(r,null,"F"),a=ua(r)),this.indexManager.getDocumentsMatchingTarget(t,a).next(l=>{const o=Et(...l);return this.ns.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,a).next(d=>{const m=this.cs(r,c);return this.ls(r,m,o,d.readTime)?this.rs(t,im(r,null,"F")):this.hs(t,m,r,d)}))})))}ss(t,r,a,n){return tj(r)||n.isEqual(ct.min())?Se.resolve(null):this.ns.getDocuments(t,a).next(l=>{const o=this.cs(r,l);return this.ls(r,o,a,n)?Se.resolve(null):(zi()<=Ct.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Li(r)),this.hs(t,o,r,w_(n,xc)).next(c=>c))})}cs(t,r){let a=new ks(X4(t));return r.forEach((n,l)=>{sx(t,l)&&(a=a.add(l))}),a}ls(t,r,a,n){if(t.limit===null)return!1;if(a.size!==r.size)return!0;const l=t.limitType==="F"?r.last():r.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(n)>0)}_s(t,r,a){return zi()<=Ct.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",Li(r)),this.ns.getDocumentsMatchingQuery(t,r,_n.min(),a)}hs(t,r,a,n){return this.ns.getDocumentsMatchingQuery(t,a,n).next(l=>(r.forEach(o=>{l=l.insert(o.key,o)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="LocalStore",X8=3e8;class J8{constructor(t,r,a,n){this.persistence=t,this.Ps=r,this.serializer=n,this.Ts=new cs(bt),this.Is=new Ti(l=>zf(l),Lf),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new B8(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ts))}}function Z8(s,t,r,a){return new J8(s,t,r,a)}async function Sk(s,t){const r=xt(s);return await r.persistence.runTransaction("Handle user change","readonly",a=>{let n;return r.mutationQueue.getAllMutationBatches(a).next(l=>(n=l,r.As(t),r.mutationQueue.getAllMutationBatches(a))).next(l=>{const o=[],c=[];let d=Et();for(const m of n){o.push(m.batchId);for(const p of m.mutations)d=d.add(p.key)}for(const m of l){c.push(m.batchId);for(const p of m.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(a,d).next(m=>({Rs:m,removedBatchIds:o,addedBatchIds:c}))})})}function eD(s,t){const r=xt(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const n=t.batch.keys(),l=r.ds.newChangeBuffer({trackRemovals:!0});return function(c,d,m,p){const N=m.batch,k=N.keys();let I=Se.resolve();return k.forEach(h=>{I=I.next(()=>p.getEntry(d,h)).next(V=>{const w=m.docVersions.get(h);_t(w!==null),V.version.compareTo(w)<0&&(N.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),p.addEntry(V)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(d,N))}(r,a,t,l).next(()=>l.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,n,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(c){let d=Et();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(d=d.add(c.batch.mutations[m].key));return d}(t))).next(()=>r.localDocuments.getDocuments(a,n))})}function Ck(s){const t=xt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Hr.getLastRemoteSnapshotVersion(r))}function tD(s,t){const r=xt(s),a=t.snapshotVersion;let n=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const o=r.ds.newChangeBuffer({trackRemovals:!0});n=r.Ts;const c=[];t.targetChanges.forEach((p,N)=>{const k=n.get(N);if(!k)return;c.push(r.Hr.removeMatchingKeys(l,p.removedDocuments,N).next(()=>r.Hr.addMatchingKeys(l,p.addedDocuments,N)));let I=k.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(N)!==null?I=I.withResumeToken(Ls.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):p.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(p.resumeToken,a)),n=n.insert(N,I),function(V,w,C){return V.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=X8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(k,I,p)&&c.push(r.Hr.updateTargetData(l,I))});let d=$a(),m=Et();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(l,p))}),c.push(sD(l,o,t.documentUpdates).next(p=>{d=p.Vs,m=p.fs})),!a.isEqual(ct.min())){const p=r.Hr.getLastRemoteSnapshotVersion(l).next(N=>r.Hr.setTargetsMetadata(l,l.currentSequenceNumber,a));c.push(p)}return Se.waitFor(c).next(()=>o.apply(l)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,d,m)).next(()=>d)}).then(l=>(r.Ts=n,l))}function sD(s,t,r){let a=Et(),n=Et();return r.forEach(l=>a=a.add(l)),t.getEntries(s,a).next(l=>{let o=$a();return r.forEach((c,d)=>{const m=l.get(c);d.isFoundDocument()!==m.isFoundDocument()&&(n=n.add(c)),d.isNoDocument()&&d.version.isEqual(ct.min())?(t.removeEntry(c,d.readTime),o=o.insert(c,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d),o=o.insert(c,d)):qe(Hf,"Ignoring outdated watch update for ",c,". Current version:",m.version," Watch version:",d.version)}),{Vs:o,fs:n}})}function rD(s,t){const r=xt(s);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Mf),r.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function aD(s,t){const r=xt(s);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let n;return r.Hr.getTargetData(a,t).next(l=>l?(n=l,Se.resolve(n)):r.Hr.allocateTargetId(a).next(o=>(n=new hn(t,o,"TargetPurposeListen",a.currentSequenceNumber),r.Hr.addTargetData(a,n).next(()=>n))))}).then(a=>{const n=r.Ts.get(a.targetId);return(n===null||a.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(a.targetId,a),r.Is.set(t,a.targetId)),a})}async function X0(s,t,r){const a=xt(s),n=a.Ts.get(t),l=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",l,o=>a.persistence.referenceDelegate.removeTarget(o,n))}catch(o){if(!Fo(o))throw o;qe(Hf,`Failed to update sequence numbers for target ${t}: ${o}`)}a.Ts=a.Ts.remove(t),a.Is.delete(n.target)}function hj(s,t,r){const a=xt(s);let n=ct.min(),l=Et();return a.persistence.runTransaction("Execute query","readwrite",o=>function(d,m,p){const N=xt(d),k=N.Is.get(p);return k!==void 0?Se.resolve(N.Ts.get(k)):N.Hr.getTargetData(m,p)}(a,o,ua(t)).next(c=>{if(c)return n=c.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(o,c.targetId).next(d=>{l=d})}).next(()=>a.Ps.getDocumentsMatchingQuery(o,t,r?n:ct.min(),r?l:Et())).next(c=>(nD(a,K_(t),c),{documents:c,gs:l})))}function nD(s,t,r){let a=s.Es.get(t)||ct.min();r.forEach((n,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)}),s.Es.set(t,a)}class pj{constructor(){this.activeTargetIds=e8()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iD{constructor(){this.ho=new pj,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,a){}addLocalQueryTarget(t,r=!0){return r&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,r,a){this.Po[t]=r}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new pj,Promise.resolve()}handleUserChange(t,r,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="ConnectivityMonitor";class gj{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){qe(fj,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){qe(fj,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd=null;function J0(){return qd===null?qd=function(){return 268435456+Math.round(2147483648*Math.random())}():qd++,"0x"+qd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="RestConnection",lD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cD{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${a}/databases/${n}`,this.wo=this.databaseId.database===rm?`project_id=${a}`:`project_id=${a}&database_id=${n}`}So(t,r,a,n,l){const o=J0(),c=this.bo(t,r.toUriEncodedString());qe(yh,`Sending RPC '${t}' ${o}:`,c,a);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,n,l),this.vo(t,c,d,a).then(m=>(qe(yh,`Received RPC '${t}' ${o}: `,m),m),m=>{throw So(yh,`RPC '${t}' ${o} failed with error: `,m,"url: ",c,"request:",a),m})}Co(t,r,a,n,l,o){return this.So(t,r,a,n,l)}Do(t,r,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((n,l)=>t[l]=n),a&&a.headers.forEach((n,l)=>t[l]=n)}bo(t,r){const a=lD[t];return`${this.po}/v1/${r}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="WebChannelConnection";class uD extends cD{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,r,a,n){const l=J0();return new Promise((o,c)=>{const d=new k4;d.setWithCredentials(!0),d.listenOnce(S4.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case xu.NO_ERROR:const p=d.getResponseJson();qe(qs,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(p)),o(p);break;case xu.TIMEOUT:qe(qs,`RPC '${t}' ${l} timed out`),c(new Fe(je.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:const N=d.getStatus();if(qe(qs,`RPC '${t}' ${l} failed with status:`,N,"response text:",d.getResponseText()),N>0){let k=d.getResponseJson();Array.isArray(k)&&(k=k[0]);const I=k==null?void 0:k.error;if(I&&I.status&&I.message){const h=function(w){const C=w.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(C)>=0?C:je.UNKNOWN}(I.status);c(new Fe(h,I.message))}else c(new Fe(je.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Fe(je.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{qe(qs,`RPC '${t}' ${l} completed.`)}});const m=JSON.stringify(n);qe(qs,`RPC '${t}' ${l} sending request:`,n),d.send(r,"POST",m,a,15)})}Wo(t,r,a){const n=J0(),l=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=I4(),c=E4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,r,a),d.encodeInitMessageHeaders=!0;const p=l.join("");qe(qs,`Creating RPC '${t}' stream ${n}: ${p}`,d);const N=o.createWebChannel(p,d);let k=!1,I=!1;const h=new dD({Fo:w=>{I?qe(qs,`Not sending because RPC '${t}' stream ${n} is closed:`,w):(k||(qe(qs,`Opening RPC '${t}' stream ${n} transport.`),N.open(),k=!0),qe(qs,`RPC '${t}' stream ${n} sending:`,w),N.send(w))},Mo:()=>N.close()}),V=(w,C,z)=>{w.listen(C,T=>{try{z(T)}catch(W){setTimeout(()=>{throw W},0)}})};return V(N,vl.EventType.OPEN,()=>{I||(qe(qs,`RPC '${t}' stream ${n} transport opened.`),h.Qo())}),V(N,vl.EventType.CLOSE,()=>{I||(I=!0,qe(qs,`RPC '${t}' stream ${n} transport closed`),h.Uo())}),V(N,vl.EventType.ERROR,w=>{I||(I=!0,So(qs,`RPC '${t}' stream ${n} transport errored:`,w),h.Uo(new Fe(je.UNAVAILABLE,"The operation could not be completed")))}),V(N,vl.EventType.MESSAGE,w=>{var C;if(!I){const z=w.data[0];_t(!!z);const T=z,W=(T==null?void 0:T.error)||((C=T[0])===null||C===void 0?void 0:C.error);if(W){qe(qs,`RPC '${t}' stream ${n} received error:`,W);const $=W.status;let U=function(F){const B=gs[F];if(B!==void 0)return mk(B)}($),A=W.message;U===void 0&&(U=je.INTERNAL,A="Unknown error status: "+$+" with message "+W.message),I=!0,h.Uo(new Fe(U,A)),N.close()}else qe(qs,`RPC '${t}' stream ${n} received:`,z),h.Ko(z)}}),V(c,C4.STAT_EVENT,w=>{w.stat===F0.PROXY?qe(qs,`RPC '${t}' stream ${n} detected buffering proxy`):w.stat===F0.NOPROXY&&qe(qs,`RPC '${t}' stream ${n} detected no buffering proxy`)}),setTimeout(()=>{h.$o()},0),h}}function bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(s){return new p8(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t,r,a=1e3,n=1.5,l=6e4){this.Ti=t,this.timerId=r,this.Go=a,this.zo=n,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const r=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),n=Math.max(0,r-a);n>0&&qe("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,n,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="PersistentStream";class Ek{constructor(t,r,a,n,l,o,c,d){this.Ti=t,this.n_=a,this.r_=n,this.connection=l,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Kf(t,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():r&&r.code===je.RESOURCE_EXHAUSTED?(Ua(r.toString()),Ua("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,n])=>{this.i_===r&&this.V_(a,n)},a=>{t(()=>{const n=new Fe(je.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(n)})})}V_(t,r){const a=this.R_(this.i_);this.stream=this.f_(t,r),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(n=>{a(()=>this.m_(n))}),this.stream.onMessage(n=>{a(()=>++this.__==1?this.g_(n):this.onNext(n))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return qe(yj,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return r=>{this.Ti.enqueueAndForget(()=>this.i_===t?r():(qe(yj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mD extends Ek{constructor(t,r,a,n,l,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,n,o),this.serializer=l}f_(t,r){return this.connection.Wo("Listen",t,r)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const r=b8(this.serializer,t),a=function(l){if(!("targetChange"in l))return ct.min();const o=l.targetChange;return o.targetIds&&o.targetIds.length?ct.min():o.readTime?kr(o.readTime):ct.min()}(t);return this.listener.p_(r,a)}y_(t){const r={};r.database=Y0(this.serializer),r.addTarget=function(l,o){let c;const d=o.target;if(c=G0(d)?{documents:j8(l,d)}:{query:N8(l,d).ht},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=pk(l,o.resumeToken);const m=K0(l,o.expectedCount);m!==null&&(c.expectedCount=m)}else if(o.snapshotVersion.compareTo(ct.min())>0){c.readTime=om(l,o.snapshotVersion.toTimestamp());const m=K0(l,o.expectedCount);m!==null&&(c.expectedCount=m)}return c}(this.serializer,t);const a=k8(this.serializer,t);a&&(r.labels=a),this.I_(r)}w_(t){const r={};r.database=Y0(this.serializer),r.removeTarget=t,this.I_(r)}}class xD extends Ek{constructor(t,r,a,n,l,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,n,o),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,r){return this.connection.Wo("Write",t,r)}g_(t){return _t(!!t.streamToken),this.lastStreamToken=t.streamToken,_t(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){_t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const r=v8(t.writeResults,t.commitTime),a=kr(t.commitTime);return this.listener.v_(a,r)}C_(){const t={};t.database=Y0(this.serializer),this.I_(t)}b_(t){const r={streamToken:this.lastStreamToken,writes:t.map(a=>bk(this.serializer,a))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{}class pD extends hD{constructor(t,r,a,n){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=a,this.serializer=n,this.F_=!1}M_(){if(this.F_)throw new Fe(je.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,r,a,n){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,o])=>this.connection.So(t,Q0(r,a),n,l,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Fe(je.UNKNOWN,l.toString())})}Co(t,r,a,n,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Co(t,Q0(r,a),n,o,c,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(je.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class fD{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ua(r),this.N_=!1):qe("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="RemoteStore";class gD{constructor(t,r,a,n,l){this.localStore=t,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(o=>{a.enqueueAndForget(async()=>{_i(this)&&(qe(bi,"Restarting streams for network reachability change."),await async function(d){const m=xt(d);m.W_.add(4),await Gc(m),m.j_.set("Unknown"),m.W_.delete(4),await lx(m)}(this))})}),this.j_=new fD(a,n)}}async function lx(s){if(_i(s))for(const t of s.G_)await t(!0)}async function Gc(s){for(const t of s.G_)await t(!1)}function Ik(s,t){const r=xt(s);r.K_.has(t.targetId)||(r.K_.set(t.targetId,t),Jf(r)?Xf(r):$o(r).c_()&&Yf(r,t))}function Qf(s,t){const r=xt(s),a=$o(r);r.K_.delete(t),a.c_()&&Pk(r,t),r.K_.size===0&&(a.c_()?a.P_():_i(r)&&r.j_.set("Unknown"))}function Yf(s,t){if(s.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ct.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}$o(s).y_(t)}function Pk(s,t){s.H_.Ne(t),$o(s).w_(t)}function Xf(s){s.H_=new u8({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>s.K_.get(t)||null,it:()=>s.datastore.serializer.databaseId}),$o(s).start(),s.j_.B_()}function Jf(s){return _i(s)&&!$o(s).u_()&&s.K_.size>0}function _i(s){return xt(s).W_.size===0}function Tk(s){s.H_=void 0}async function yD(s){s.j_.set("Online")}async function bD(s){s.K_.forEach((t,r)=>{Yf(s,t)})}async function vD(s,t){Tk(s),Jf(s)?(s.j_.q_(t),Xf(s)):s.j_.set("Unknown")}async function jD(s,t,r){if(s.j_.set("Online"),t instanceof hk&&t.state===2&&t.cause)try{await async function(n,l){const o=l.cause;for(const c of l.targetIds)n.K_.has(c)&&(await n.remoteSyncer.rejectListen(c,o),n.K_.delete(c),n.H_.removeTarget(c))}(s,t)}catch(a){qe(bi,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await dm(s,a)}else if(t instanceof gu?s.H_.We(t):t instanceof xk?s.H_.Ze(t):s.H_.je(t),!r.isEqual(ct.min()))try{const a=await Ck(s.localStore);r.compareTo(a)>=0&&await function(l,o){const c=l.H_.ot(o);return c.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const p=l.K_.get(m);p&&l.K_.set(m,p.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach((d,m)=>{const p=l.K_.get(d);if(!p)return;l.K_.set(d,p.withResumeToken(Ls.EMPTY_BYTE_STRING,p.snapshotVersion)),Pk(l,d);const N=new hn(p.target,d,m,p.sequenceNumber);Yf(l,N)}),l.remoteSyncer.applyRemoteEvent(c)}(s,r)}catch(a){qe(bi,"Failed to raise snapshot:",a),await dm(s,a)}}async function dm(s,t,r){if(!Fo(t))throw t;s.W_.add(1),await Gc(s),s.j_.set("Offline"),r||(r=()=>Ck(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{qe(bi,"Retrying IndexedDB access"),await r(),s.W_.delete(1),await lx(s)})}function _k(s,t){return t().catch(r=>dm(s,r,t))}async function cx(s){const t=xt(s),r=Mn(t);let a=t.U_.length>0?t.U_[t.U_.length-1].batchId:Mf;for(;ND(t);)try{const n=await rD(t.localStore,a);if(n===null){t.U_.length===0&&r.P_();break}a=n.batchId,wD(t,n)}catch(n){await dm(t,n)}Dk(t)&&Ak(t)}function ND(s){return _i(s)&&s.U_.length<10}function wD(s,t){s.U_.push(t);const r=Mn(s);r.c_()&&r.S_&&r.b_(t.mutations)}function Dk(s){return _i(s)&&!Mn(s).u_()&&s.U_.length>0}function Ak(s){Mn(s).start()}async function kD(s){Mn(s).C_()}async function SD(s){const t=Mn(s);for(const r of s.U_)t.b_(r.mutations)}async function CD(s,t,r){const a=s.U_.shift(),n=Ff.from(a,t,r);await _k(s,()=>s.remoteSyncer.applySuccessfulWrite(n)),await cx(s)}async function ED(s,t){t&&Mn(s).S_&&await async function(a,n){if(function(o){return uk(o)&&o!==je.ABORTED}(n.code)){const l=a.U_.shift();Mn(a).h_(),await _k(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,n)),await cx(a)}}(s,t),Dk(s)&&Ak(s)}async function bj(s,t){const r=xt(s);r.asyncQueue.verifyOperationInProgress(),qe(bi,"RemoteStore received new credentials");const a=_i(r);r.W_.add(3),await Gc(r),a&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.W_.delete(3),await lx(r)}async function ID(s,t){const r=xt(s);t?(r.W_.delete(2),await lx(r)):t||(r.W_.add(2),await Gc(r),r.j_.set("Unknown"))}function $o(s){return s.J_||(s.J_=function(r,a,n){const l=xt(r);return l.M_(),new mD(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,n)}(s.datastore,s.asyncQueue,{xo:yD.bind(null,s),No:bD.bind(null,s),Lo:vD.bind(null,s),p_:jD.bind(null,s)}),s.G_.push(async t=>{t?(s.J_.h_(),Jf(s)?Xf(s):s.j_.set("Unknown")):(await s.J_.stop(),Tk(s))})),s.J_}function Mn(s){return s.Y_||(s.Y_=function(r,a,n){const l=xt(r);return l.M_(),new xD(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,n)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:kD.bind(null,s),Lo:ED.bind(null,s),D_:SD.bind(null,s),v_:CD.bind(null,s)}),s.G_.push(async t=>{t?(s.Y_.h_(),await cx(s)):(await s.Y_.stop(),s.U_.length>0&&(qe(bi,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(t,r,a,n,l){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=n,this.removalCallback=l,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,n,l){const o=Date.now()+a,c=new Zf(t,r,o,n,l);return c.start(a),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(je.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(s,t){if(Ua("AsyncQueue",`${t}: ${s}`),Fo(s))return new Fe(je.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(t){return new ho(t.comparator)}constructor(t){this.comparator=t?(r,a)=>t(r,a)||nt.comparator(r.key,a.key):(r,a)=>nt.comparator(r.key,a.key),this.keyedMap=jl(),this.sortedSet=new cs(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,a)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof ho)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;r.hasNext();){const n=r.getNext().key,l=a.getNext().key;if(!n.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const a=new ho;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=r,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this.Z_=new cs(nt.comparator)}track(t){const r=t.doc.key,a=this.Z_.get(r);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(r,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(r,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(r):t.type===1&&a.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):ot():this.Z_=this.Z_.insert(r,t)}X_(){const t=[];return this.Z_.inorderTraversal((r,a)=>{t.push(a)}),t}}class To{constructor(t,r,a,n,l,o,c,d,m){this.query=t,this.docs=r,this.oldDocs=a,this.docChanges=n,this.mutatedKeys=l,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(t,r,a,n,l){const o=[];return r.forEach(c=>{o.push({type:0,doc:c})}),new To(t,r,ho.emptySet(r),o,a,n,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tx(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,a=t.docChanges;if(r.length!==a.length)return!1;for(let n=0;n<r.length;n++)if(r[n].type!==a[n].type||!r[n].doc.isEqual(a[n].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class TD{constructor(){this.queries=jj(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,a){const n=xt(r),l=n.queries;n.queries=jj(),l.forEach((o,c)=>{for(const d of c.ta)d.onError(a)})})(this,new Fe(je.ABORTED,"Firestore shutting down"))}}function jj(){return new Ti(s=>Y4(s),tx)}async function tg(s,t){const r=xt(s);let a=3;const n=t.query;let l=r.queries.get(n);l?!l.na()&&t.ra()&&(a=2):(l=new PD,a=t.ra()?0:1);try{switch(a){case 0:l.ea=await r.onListen(n,!0);break;case 1:l.ea=await r.onListen(n,!1);break;case 2:await r.onFirstRemoteStoreListen(n)}}catch(o){const c=eg(o,`Initialization of query '${Li(t.query)}' failed`);return void t.onError(c)}r.queries.set(n,l),l.ta.push(t),t.sa(r.onlineState),l.ea&&t.oa(l.ea)&&rg(r)}async function sg(s,t){const r=xt(s),a=t.query;let n=3;const l=r.queries.get(a);if(l){const o=l.ta.indexOf(t);o>=0&&(l.ta.splice(o,1),l.ta.length===0?n=t.ra()?0:1:!l.na()&&t.ra()&&(n=2))}switch(n){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function _D(s,t){const r=xt(s);let a=!1;for(const n of t){const l=n.query,o=r.queries.get(l);if(o){for(const c of o.ta)c.oa(n)&&(a=!0);o.ea=n}}a&&rg(r)}function DD(s,t,r){const a=xt(s),n=a.queries.get(t);if(n)for(const l of n.ta)l.onError(r);a.queries.delete(t)}function rg(s){s.ia.forEach(t=>{t.next()})}var Z0,Nj;(Nj=Z0||(Z0={}))._a="default",Nj.Cache="cache";class ag{constructor(t,r,a){this.query=t,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const n of t.docChanges)n.type!==3&&a.push(n);t=new To(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ua?this.la(t)&&(this.aa.next(t),r=!0):this.ha(t,this.onlineState)&&(this.Pa(t),r=!0),this.ca=t,r}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),r=!0),r}ha(t,r){if(!t.fromCache||!this.ra())return!0;const a=r!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}la(t){if(t.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(t){t=To.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Z0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t){this.key=t}}class Mk{constructor(t){this.key=t}}class AD{constructor(t,r){this.query=t,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Et(),this.mutatedKeys=Et(),this.ya=X4(t),this.wa=new ho(this.ya)}get Sa(){return this.fa}ba(t,r){const a=r?r.Da:new vj,n=r?r.wa:this.wa;let l=r?r.mutatedKeys:this.mutatedKeys,o=n,c=!1;const d=this.query.limitType==="F"&&n.size===this.query.limit?n.last():null,m=this.query.limitType==="L"&&n.size===this.query.limit?n.first():null;if(t.inorderTraversal((p,N)=>{const k=n.get(p),I=sx(this.query,N)?N:null,h=!!k&&this.mutatedKeys.has(k.key),V=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let w=!1;k&&I?k.data.isEqual(I.data)?h!==V&&(a.track({type:3,doc:I}),w=!0):this.va(k,I)||(a.track({type:2,doc:I}),w=!0,(d&&this.ya(I,d)>0||m&&this.ya(I,m)<0)&&(c=!0)):!k&&I?(a.track({type:0,doc:I}),w=!0):k&&!I&&(a.track({type:1,doc:k}),w=!0,(d||m)&&(c=!0)),w&&(I?(o=o.add(I),l=V?l.add(p):l.delete(p)):(o=o.delete(p),l=l.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),l=l.delete(p.key),a.track({type:1,doc:p})}return{wa:o,Da:a,ls:c,mutatedKeys:l}}va(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,a,n){const l=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const o=t.Da.X_();o.sort((p,N)=>function(I,h){const V=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return V(I)-V(h)}(p.type,N.type)||this.ya(p.doc,N.doc)),this.Ca(a),n=n!=null&&n;const c=r&&!n?this.Fa():[],d=this.pa.size===0&&this.current&&!n?1:0,m=d!==this.ga;return this.ga=d,o.length!==0||m?{snapshot:new To(this.query,t.wa,l,o,t.mutatedKeys,d===0,m,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new vj,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Et(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const r=[];return t.forEach(a=>{this.pa.has(a)||r.push(new Mk(a))}),this.pa.forEach(a=>{t.has(a)||r.push(new Rk(a))}),r}Oa(t){this.fa=t.gs,this.pa=Et();const r=this.ba(t.documents);return this.applyChanges(r,!0)}Na(){return To.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ng="SyncEngine";class RD{constructor(t,r,a){this.query=t,this.targetId=r,this.view=a}}class MD{constructor(t){this.key=t,this.Ba=!1}}class OD{constructor(t,r,a,n,l,o){this.localStore=t,this.remoteStore=r,this.eventManager=a,this.sharedClientState=n,this.currentUser=l,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Ti(c=>Y4(c),tx),this.qa=new Map,this.Qa=new Set,this.$a=new cs(nt.comparator),this.Ua=new Map,this.Ka=new qf,this.Wa={},this.Ga=new Map,this.za=Po.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function VD(s,t,r=!0){const a=Fk(s);let n;const l=a.ka.get(t);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),n=l.view.Na()):n=await Ok(a,t,r,!0),n}async function zD(s,t){const r=Fk(s);await Ok(r,t,!0,!1)}async function Ok(s,t,r,a){const n=await aD(s.localStore,ua(t)),l=n.targetId,o=s.sharedClientState.addLocalQueryTarget(l,r);let c;return a&&(c=await LD(s,t,l,o==="current",n.resumeToken)),s.isPrimaryClient&&r&&Ik(s.remoteStore,n),c}async function LD(s,t,r,a,n){s.Ha=(N,k,I)=>async function(V,w,C,z){let T=w.view.ba(C);T.ls&&(T=await hj(V.localStore,w.query,!1).then(({documents:A})=>w.view.ba(A,T)));const W=z&&z.targetChanges.get(w.targetId),$=z&&z.targetMismatches.get(w.targetId)!=null,U=w.view.applyChanges(T,V.isPrimaryClient,W,$);return kj(V,w.targetId,U.Ma),U.snapshot}(s,N,k,I);const l=await hj(s.localStore,t,!0),o=new AD(t,l.gs),c=o.ba(l.documents),d=Wc.createSynthesizedTargetChangeForCurrentChange(r,a&&s.onlineState!=="Offline",n),m=o.applyChanges(c,s.isPrimaryClient,d);kj(s,r,m.Ma);const p=new RD(t,r,o);return s.ka.set(t,p),s.qa.has(r)?s.qa.get(r).push(t):s.qa.set(r,[t]),m.snapshot}async function BD(s,t,r){const a=xt(s),n=a.ka.get(t),l=a.qa.get(n.targetId);if(l.length>1)return a.qa.set(n.targetId,l.filter(o=>!tx(o,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(n.targetId),a.sharedClientState.isActiveQueryTarget(n.targetId)||await X0(a.localStore,n.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(n.targetId),r&&Qf(a.remoteStore,n.targetId),ep(a,n.targetId)}).catch(Bo)):(ep(a,n.targetId),await X0(a.localStore,n.targetId,!0))}async function FD(s,t){const r=xt(s),a=r.ka.get(t),n=r.qa.get(a.targetId);r.isPrimaryClient&&n.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),Qf(r.remoteStore,a.targetId))}async function UD(s,t,r){const a=QD(s);try{const n=await function(o,c){const d=xt(o),m=is.now(),p=c.reduce((I,h)=>I.add(h.key),Et());let N,k;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let h=$a(),V=Et();return d.ds.getEntries(I,p).next(w=>{h=w,h.forEach((C,z)=>{z.isValidDocument()||(V=V.add(C))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,h)).next(w=>{N=w;const C=[];for(const z of c){const T=i8(z,N.get(z.key).overlayedDocument);T!=null&&C.push(new qn(z.key,T,U4(T.value.mapValue),Ms.exists(!0)))}return d.mutationQueue.addMutationBatch(I,m,C,c)}).next(w=>{k=w;const C=w.applyToLocalDocumentSet(N,V);return d.documentOverlayCache.saveOverlays(I,w.batchId,C)})}).then(()=>({batchId:k.batchId,changes:Z4(N)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(n.batchId),function(o,c,d){let m=o.Wa[o.currentUser.toKey()];m||(m=new cs(bt)),m=m.insert(c,d),o.Wa[o.currentUser.toKey()]=m}(a,n.batchId,r),await Hc(a,n.changes),await cx(a.remoteStore)}catch(n){const l=eg(n,"Failed to persist write");r.reject(l)}}async function Vk(s,t){const r=xt(s);try{const a=await tD(r.localStore,t);t.targetChanges.forEach((n,l)=>{const o=r.Ua.get(l);o&&(_t(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1),n.addedDocuments.size>0?o.Ba=!0:n.modifiedDocuments.size>0?_t(o.Ba):n.removedDocuments.size>0&&(_t(o.Ba),o.Ba=!1))}),await Hc(r,a,t)}catch(a){await Bo(a)}}function wj(s,t,r){const a=xt(s);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const n=[];a.ka.forEach((l,o)=>{const c=o.view.sa(t);c.snapshot&&n.push(c.snapshot)}),function(o,c){const d=xt(o);d.onlineState=c;let m=!1;d.queries.forEach((p,N)=>{for(const k of N.ta)k.sa(c)&&(m=!0)}),m&&rg(d)}(a.eventManager,t),n.length&&a.La.p_(n),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function $D(s,t,r){const a=xt(s);a.sharedClientState.updateQueryState(t,"rejected",r);const n=a.Ua.get(t),l=n&&n.key;if(l){let o=new cs(nt.comparator);o=o.insert(l,Is.newNoDocument(l,ct.min()));const c=Et().add(l),d=new ix(ct.min(),new Map,new cs(bt),o,c);await Vk(a,d),a.$a=a.$a.remove(l),a.Ua.delete(t),ig(a)}else await X0(a.localStore,t,!1).then(()=>ep(a,t,r)).catch(Bo)}async function qD(s,t){const r=xt(s),a=t.batch.batchId;try{const n=await eD(r.localStore,t);Lk(r,a,null),zk(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await Hc(r,n)}catch(n){await Bo(n)}}async function WD(s,t,r){const a=xt(s);try{const n=await function(o,c){const d=xt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let p;return d.mutationQueue.lookupMutationBatch(m,c).next(N=>(_t(N!==null),p=N.keys(),d.mutationQueue.removeMutationBatch(m,N))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p)).next(()=>d.localDocuments.getDocuments(m,p))})}(a.localStore,t);Lk(a,t,r),zk(a,t),a.sharedClientState.updateMutationState(t,"rejected",r),await Hc(a,n)}catch(n){await Bo(n)}}function zk(s,t){(s.Ga.get(t)||[]).forEach(r=>{r.resolve()}),s.Ga.delete(t)}function Lk(s,t,r){const a=xt(s);let n=a.Wa[a.currentUser.toKey()];if(n){const l=n.get(t);l&&(r?l.reject(r):l.resolve(),n=n.remove(t)),a.Wa[a.currentUser.toKey()]=n}}function ep(s,t,r=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.qa.get(t))s.ka.delete(a),r&&s.La.Ja(a,r);s.qa.delete(t),s.isPrimaryClient&&s.Ka.br(t).forEach(a=>{s.Ka.containsKey(a)||Bk(s,a)})}function Bk(s,t){s.Qa.delete(t.path.canonicalString());const r=s.$a.get(t);r!==null&&(Qf(s.remoteStore,r),s.$a=s.$a.remove(t),s.Ua.delete(r),ig(s))}function kj(s,t,r){for(const a of r)a instanceof Rk?(s.Ka.addReference(a.key,t),GD(s,a)):a instanceof Mk?(qe(ng,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,t),s.Ka.containsKey(a.key)||Bk(s,a.key)):ot()}function GD(s,t){const r=t.key,a=r.path.canonicalString();s.$a.get(r)||s.Qa.has(a)||(qe(ng,"New document in limbo: "+r),s.Qa.add(a),ig(s))}function ig(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const t=s.Qa.values().next().value;s.Qa.delete(t);const r=new nt(Gt.fromString(t)),a=s.za.next();s.Ua.set(a,new MD(r)),s.$a=s.$a.insert(r,a),Ik(s.remoteStore,new hn(ua(ex(r.path)),a,"TargetPurposeLimboResolution",Jm.ae))}}async function Hc(s,t,r){const a=xt(s),n=[],l=[],o=[];a.ka.isEmpty()||(a.ka.forEach((c,d)=>{o.push(a.Ha(d,t,r).then(m=>{var p;if((m||r)&&a.isPrimaryClient){const N=m?!m.fromCache:(p=r==null?void 0:r.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;a.sharedClientState.updateQueryState(d.targetId,N?"current":"not-current")}if(m){n.push(m);const N=Gf.Yi(d.targetId,m);l.push(N)}}))}),await Promise.all(o),a.La.p_(n),await async function(d,m){const p=xt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Se.forEach(m,k=>Se.forEach(k.Hi,I=>p.persistence.referenceDelegate.addReference(N,k.targetId,I)).next(()=>Se.forEach(k.Ji,I=>p.persistence.referenceDelegate.removeReference(N,k.targetId,I)))))}catch(N){if(!Fo(N))throw N;qe(Hf,"Failed to update sequence numbers: "+N)}for(const N of m){const k=N.targetId;if(!N.fromCache){const I=p.Ts.get(k),h=I.snapshotVersion,V=I.withLastLimboFreeSnapshotVersion(h);p.Ts=p.Ts.insert(k,V)}}}(a.localStore,l))}async function HD(s,t){const r=xt(s);if(!r.currentUser.isEqual(t)){qe(ng,"User change. New user:",t.toKey());const a=await Sk(r.localStore,t);r.currentUser=t,function(l,o){l.Ga.forEach(c=>{c.forEach(d=>{d.reject(new Fe(je.CANCELLED,o))})}),l.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Hc(r,a.Rs)}}function KD(s,t){const r=xt(s),a=r.Ua.get(t);if(a&&a.Ba)return Et().add(a.key);{let n=Et();const l=r.qa.get(t);if(!l)return n;for(const o of l){const c=r.ka.get(o);n=n.unionWith(c.view.Sa)}return n}}function Fk(s){const t=xt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$D.bind(null,t),t.La.p_=_D.bind(null,t.eventManager),t.La.Ja=DD.bind(null,t.eventManager),t}function QD(s){const t=xt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WD.bind(null,t),t}class um{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ox(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,r){return null}nu(t,r){return null}eu(t){return Z8(this.persistence,new Y8,t.initialUser,this.serializer)}Xa(t){return new kk(Wf.ri,this.serializer)}Za(t){return new iD}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}um.provider={build:()=>new um};class YD extends um{constructor(t){super(),this.cacheSizeBytes=t}tu(t,r){_t(this.persistence.referenceDelegate instanceof cm);const a=this.persistence.referenceDelegate.garbageCollector;return new M8(a,t.asyncQueue,r)}Xa(t){const r=this.cacheSizeBytes!==void 0?lr.withCacheSize(this.cacheSizeBytes):lr.DEFAULT;return new kk(a=>cm.ri(a,r),this.serializer)}}class tp{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>wj(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=HD.bind(null,this.syncEngine),await ID(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new TD}()}createDatastore(t){const r=ox(t.databaseInfo.databaseId),a=function(l){return new uD(l)}(t.databaseInfo);return function(l,o,c,d){return new pD(l,o,c,d)}(t.authCredentials,t.appCheckCredentials,a,r)}createRemoteStore(t){return function(a,n,l,o,c){return new gD(a,n,l,o,c)}(this.localStore,this.datastore,t.asyncQueue,r=>wj(this.syncEngine,r,0),function(){return gj.D()?new gj:new oD}())}createSyncEngine(t,r){return function(n,l,o,c,d,m,p){const N=new OD(n,l,o,c,d,m);return p&&(N.ja=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(n){const l=xt(n);qe(bi,"RemoteStore shutting down."),l.W_.add(5),await Gc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}tp.provider={build:()=>new tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Ua("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Fe(je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await async function(n,l){const o=xt(n),c={documents:l.map(N=>lm(o.serializer,N))},d=await o.Co("BatchGetDocuments",o.serializer.databaseId,Gt.emptyPath(),c,l.length),m=new Map;d.forEach(N=>{const k=y8(o.serializer,N);m.set(k.key.toString(),k)});const p=[];return l.forEach(N=>{const k=m.get(N.toString());_t(!!k),p.push(k)}),p}(this.datastore,t);return r.forEach(a=>this.recordVersion(a)),r}set(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(t.toString())}delete(t){this.write(new nx(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const n=nt.fromPath(a);this.mutations.push(new dk(n,this.precondition(n)))}),await async function(a,n){const l=xt(a),o={writes:n.map(c=>bk(l.serializer,c))};await l.So("Commit",l.serializer.databaseId,Gt.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let r;if(t.isFoundDocument())r=t.version;else{if(!t.isNoDocument())throw ot();r=ct.min()}const a=this.readVersions.get(t.key.toString());if(a){if(!r.isEqual(a))throw new Fe(je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)}precondition(t){const r=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&r?r.isEqual(ct.min())?Ms.exists(!1):Ms.updateTime(r):Ms.none()}preconditionForUpdate(t){const r=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&r){if(r.isEqual(ct.min()))throw new Fe(je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ms.updateTime(r)}return Ms.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t,r,a,n,l){this.asyncQueue=t,this.datastore=r,this.options=a,this.updateFunction=n,this.deferred=l,this.Tu=a.maxAttempts,this.a_=new Kf(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const t=new XD(this.datastore),r=this.du(t);r&&r.then(a=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(a)}).catch(n=>{this.Au(n)}))}).catch(a=>{this.Au(a)})})}du(t){try{const r=this.updateFunction(t);return!$c(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Au(t){this.Tu>0&&this.Ru(t)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(t)}Ru(t){if(t.name==="FirebaseError"){const r=t.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!uk(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="FirestoreClient";class ZD{constructor(t,r,a,n,l){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=n,this.user=Gs.UNAUTHENTICATED,this.clientId=_4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,async o=>{qe(On,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(a,o=>(qe(On,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=eg(r,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function vh(s,t){s.asyncQueue.verifyOperationInProgress(),qe(On,"Initializing OfflineComponentProvider");const r=s.configuration;await t.initialize(r);let a=r.initialUser;s.setCredentialChangeListener(async n=>{a.isEqual(n)||(await Sk(t.localStore,n),a=n)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Sj(s,t){s.asyncQueue.verifyOperationInProgress();const r=await eA(s);qe(On,"Initializing OnlineComponentProvider"),await t.initialize(r,s.configuration),s.setCredentialChangeListener(a=>bj(t.remoteStore,a)),s.setAppCheckTokenChangeListener((a,n)=>bj(t.remoteStore,n)),s._onlineComponents=t}async function eA(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){qe(On,"Using user provided OfflineComponentProvider");try{await vh(s,s._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(n){return n.name==="FirebaseError"?n.code===je.FAILED_PRECONDITION||n.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}(r))throw r;So("Error using user provided cache. Falling back to memory cache: "+r),await vh(s,new um)}}else qe(On,"Using default OfflineComponentProvider"),await vh(s,new YD(void 0));return s._offlineComponents}async function lg(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(qe(On,"Using user provided OnlineComponentProvider"),await Sj(s,s._uninitializedComponentsProvider._online)):(qe(On,"Using default OnlineComponentProvider"),await Sj(s,new tp))),s._onlineComponents}function tA(s){return lg(s).then(t=>t.syncEngine)}function sA(s){return lg(s).then(t=>t.datastore)}async function mm(s){const t=await lg(s),r=t.eventManager;return r.onListen=VD.bind(null,t.syncEngine),r.onUnlisten=BD.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=zD.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=FD.bind(null,t.syncEngine),r}function rA(s,t,r={}){const a=new da;return s.asyncQueue.enqueueAndForget(async()=>function(l,o,c,d,m){const p=new og({next:k=>{p.su(),o.enqueueAndForget(()=>sg(l,N));const I=k.docs.has(c);!I&&k.fromCache?m.reject(new Fe(je.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&k.fromCache&&d&&d.source==="server"?m.reject(new Fe(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(k)},error:k=>m.reject(k)}),N=new ag(ex(c.path),p,{includeMetadataChanges:!0,Ta:!0});return tg(l,N)}(await mm(s),s.asyncQueue,t,r,a)),a.promise}function aA(s,t,r={}){const a=new da;return s.asyncQueue.enqueueAndForget(async()=>function(l,o,c,d,m){const p=new og({next:k=>{p.su(),o.enqueueAndForget(()=>sg(l,N)),k.fromCache&&d.source==="server"?m.reject(new Fe(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(k)},error:k=>m.reject(k)}),N=new ag(c,p,{includeMetadataChanges:!0,Ta:!0});return tg(l,N)}(await mm(s),s.asyncQueue,t,r,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(s,t,r){if(!r)throw new Fe(je.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function nA(s,t,r,a){if(t===!0&&a===!0)throw new Fe(je.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function Ej(s){if(!nt.isDocumentKey(s))throw new Fe(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ij(s){if(nt.isDocumentKey(s))throw new Fe(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function dx(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":ot()}function ar(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new Fe(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=dx(s);throw new Fe(je.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return s}function iA(s,t){if(t<=0)throw new Fe(je.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="firestore.googleapis.com",Pj=!0;class Tj{constructor(t){var r,a;if(t.host===void 0){if(t.ssl!==void 0)throw new Fe(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qk,this.ssl=Pj}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:Pj;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wk;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<A8)throw new Fe(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uk((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Fe(je.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Fe(je.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Fe(je.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,n){return a.timeoutSeconds===n.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ux{constructor(t,r,a,n){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Fe(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tj(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new h_;switch(a.type){case"firstParty":return new y_(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Fe(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=Cj.get(r);a&&(qe("ComponentProvider","Removing Datastore"),Cj.delete(r),a.terminate())}(this),Promise.resolve()}}function oA(s,t,r,a={}){var n;const l=(s=ar(s,ux))._getSettings(),o=Object.assign(Object.assign({},l),{emulatorOptions:s._getEmulatorOptions()}),c=`${t}:${r}`;l.host!==qk&&l.host!==c&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:c,ssl:!1,emulatorOptions:a});if(!Tn(d,o)&&(s._setSettings(d),a.mockUserToken)){let m,p;if(typeof a.mockUserToken=="string")m=a.mockUserToken,p=Gs.MOCK_USER;else{m=x4(a.mockUserToken,(n=s._app)===null||n===void 0?void 0:n.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new Fe(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Gs(N)}s._authCredentials=new p_(new P4(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Qa(this.firestore,t,this._query)}}class Vs{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new En(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vs(this.firestore,t,this._key)}}class En extends Qa{constructor(t,r,a){super(t,r,ex(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vs(this.firestore,null,new nt(t))}withConverter(t){return new En(this.firestore,t,this._path)}}function X(s,t,...r){if(s=Qt(s),$k("collection","path",t),s instanceof ux){const a=Gt.fromString(t,...r);return Ij(a),new En(s,null,a)}{if(!(s instanceof Vs||s instanceof En))throw new Fe(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Gt.fromString(t,...r));return Ij(a),new En(s.firestore,null,a)}}function q(s,t,...r){if(s=Qt(s),arguments.length===1&&(t=_4.newId()),$k("doc","path",t),s instanceof ux){const a=Gt.fromString(t,...r);return Ej(a),new Vs(s,null,new nt(a))}{if(!(s instanceof Vs||s instanceof En))throw new Fe(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Gt.fromString(t,...r));return Ej(a),new Vs(s.firestore,s instanceof En?s.converter:null,new nt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="AsyncQueue";class Dj{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Kf(this,"async_queue_retry"),this.Su=()=>{const a=bh();a&&qe(_j,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const r=bh();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const r=bh();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const r=new da;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Fo(t))throw t;qe(_j,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const r=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const n=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(a);throw Ua("INTERNAL UNHANDLED ERROR: ",n),a}).then(a=>(this.pu=!1,a))));return this.bu=r,r}enqueueAfterDelay(t,r,a){this.Du(),this.wu.indexOf(t)>-1&&(r=0);const n=Zf.createAndSchedule(this,t,r,a,l=>this.Fu(l));return this.fu.push(n),n}Du(){this.gu&&ot()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const r of this.fu)if(r.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const r=this.fu.indexOf(t);this.fu.splice(r,1)}}function Aj(s){return function(r,a){if(typeof r!="object"||r===null)return!1;const n=r;for(const l of a)if(l in n&&typeof n[l]=="function")return!0;return!1}(s,["next","error","complete"])}class ba extends ux{constructor(t,r,a,n){super(t,r,a,n),this.type="firestore",this._queue=new Dj,this._persistenceKey=(n==null?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Dj(t),this._firestoreClient=void 0,await t}}}function lA(s,t){const r=typeof s=="object"?s:Xm(),a=typeof s=="string"?s:t||rm,n=Un(r,"firestore").getImmediate({identifier:a});if(!n._initialized){const l=d4("firestore");l&&oA(n,...l)}return n}function Kc(s){if(s._terminated)throw new Fe(je.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||cA(s),s._firestoreClient}function cA(s){var t,r,a;const n=s._freezeSettings(),l=function(c,d,m,p){return new A_(c,d,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Uk(p.experimentalLongPollingOptions),p.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,n);s._componentsProvider||!((r=n.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((a=n.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),s._firestoreClient=new ZD(s._authCredentials,s._appCheckCredentials,s._queue,l,s._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vi(Ls.fromBase64String(t))}catch(r){throw new Fe(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new vi(Ls.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Fe(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Fe(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Fe(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return bt(this._lat,t._lat)||bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,n){if(a.length!==n.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==n[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=/^__.*__$/;class uA{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return this.fieldMask!==null?new qn(t,this.data,this.fieldMask,r,this.fieldTransforms):new qc(t,this.data,r,this.fieldTransforms)}}class Wk{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return new qn(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function Gk(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class ug{constructor(t,r,a,n,l,o){this.settings=t,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=n,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new ug(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),n=this.ku({path:a,Qu:!1});return n.$u(t),n}Uu(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),n=this.ku({path:a,Qu:!1});return n.Bu(),n}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return xm(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(Gk(this.Lu)&&dA.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class mA{constructor(t,r,a){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=a||ox(t)}ju(t,r,a,n=!1){return new ug({Lu:t,methodName:r,zu:a,path:Rs.emptyPath(),Qu:!1,Gu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xc(s){const t=s._freezeSettings(),r=ox(s._databaseId);return new mA(s._databaseId,!!t.ignoreUndefinedProperties,r)}function mg(s,t,r,a,n,l={}){const o=s.ju(l.merge||l.mergeFields?2:0,t,r,n);pg("Data must be an object, but it was:",o,a);const c=Qk(a,o);let d,m;if(l.merge)d=new Nr(o.fieldMask),m=o.fieldTransforms;else if(l.mergeFields){const p=[];for(const N of l.mergeFields){const k=sp(t,N,r);if(!o.contains(k))throw new Fe(je.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);Xk(p,k)||p.push(k)}d=new Nr(p),m=o.fieldTransforms.filter(N=>d.covers(N.field))}else d=null,m=o.fieldTransforms;return new uA(new tr(c),d,m)}class mx extends Yc{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof mx}}class xg extends Yc{_toFieldTransform(t){return new ok(t.path,new yc)}isEqual(t){return t instanceof xg}}class hg extends Yc{constructor(t,r){super(t),this.Ju=r}_toFieldTransform(t){const r=new jc(t.serializer,sk(t.serializer,this.Ju));return new ok(t.path,r)}isEqual(t){return t instanceof hg&&this.Ju===t.Ju}}function Hk(s,t,r,a){const n=s.ju(1,t,r);pg("Data must be an object, but it was:",n,a);const l=[],o=tr.empty();$n(a,(d,m)=>{const p=fg(t,d,r);m=Qt(m);const N=n.Uu(p);if(m instanceof mx)l.push(p);else{const k=Jc(m,N);k!=null&&(l.push(p),o.set(p,k))}});const c=new Nr(l);return new Wk(o,c,n.fieldTransforms)}function Kk(s,t,r,a,n,l){const o=s.ju(1,t,r),c=[sp(t,a,r)],d=[n];if(l.length%2!=0)throw new Fe(je.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<l.length;k+=2)c.push(sp(t,l[k])),d.push(l[k+1]);const m=[],p=tr.empty();for(let k=c.length-1;k>=0;--k)if(!Xk(m,c[k])){const I=c[k];let h=d[k];h=Qt(h);const V=o.Uu(I);if(h instanceof mx)m.push(I);else{const w=Jc(h,V);w!=null&&(m.push(I),p.set(I,w))}}const N=new Nr(m);return new Wk(p,N,o.fieldTransforms)}function xA(s,t,r,a=!1){return Jc(r,s.ju(a?4:3,t))}function Jc(s,t){if(Yk(s=Qt(s)))return pg("Unsupported field value:",t,s),Qk(s,t);if(s instanceof Yc)return function(a,n){if(!Gk(n.Lu))throw n.Wu(`${a._methodName}() can only be used with update() and set()`);if(!n.path)throw n.Wu(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(n);l&&n.fieldTransforms.push(l)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,n){const l=[];let o=0;for(const c of a){let d=Jc(c,n.Ku(o));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),o++}return{arrayValue:{values:l}}}(s,t)}return function(a,n){if((a=Qt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return sk(n.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=is.fromDate(a);return{timestampValue:om(n.serializer,l)}}if(a instanceof is){const l=new is(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:om(n.serializer,l)}}if(a instanceof cg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof vi)return{bytesValue:pk(n.serializer,a._byteString)};if(a instanceof Vs){const l=n.databaseId,o=a.firestore._databaseId;if(!o.isEqual(l))throw n.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$f(a.firestore._databaseId||n.databaseId,a._key.path)}}if(a instanceof dg)return function(o,c){return{mapValue:{fields:{[L4]:{stringValue:F4},[am]:{arrayValue:{values:o.toArray().map(m=>{if(typeof m!="number")throw c.Wu("VectorValues must only contain numeric values.");return Bf(c.serializer,m)})}}}}}}(a,n);throw n.Wu(`Unsupported field value: ${dx(a)}`)}(s,t)}function Qk(s,t){const r={};return A4(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$n(s,(a,n)=>{const l=Jc(n,t.qu(a));l!=null&&(r[a]=l)}),{mapValue:{fields:r}}}function Yk(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof is||s instanceof cg||s instanceof vi||s instanceof Vs||s instanceof Yc||s instanceof dg)}function pg(s,t,r){if(!Yk(r)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(r)){const a=dx(r);throw a==="an object"?t.Wu(s+" a custom object"):t.Wu(s+" "+a)}}function sp(s,t,r){if((t=Qt(t))instanceof Qc)return t._internalPath;if(typeof t=="string")return fg(s,t);throw xm("Field path arguments must be of type string or ",s,!1,void 0,r)}const hA=new RegExp("[~\\*/\\[\\]]");function fg(s,t,r){if(t.search(hA)>=0)throw xm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new Qc(...t.split("."))._internalPath}catch{throw xm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function xm(s,t,r,a,n){const l=a&&!a.isEmpty(),o=n!==void 0;let c=`Function ${t}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(l||o)&&(d+=" (found",l&&(d+=` in field ${a}`),o&&(d+=` in document ${n}`),d+=")"),new Fe(je.INVALID_ARGUMENT,c+s+d)}function Xk(s,t){return s.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,r,a,n,l){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=n,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(xx("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class pA extends hm{data(){return super.data()}}function xx(s,t){return typeof t=="string"?fg(s,t):t instanceof Qc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Fe(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class yg extends gg{}function ye(s,t,...r){let a=[];t instanceof gg&&a.push(t),a=a.concat(r),function(l){const o=l.filter(d=>d instanceof bg).length,c=l.filter(d=>d instanceof hx).length;if(o>1||o>0&&c>0)throw new Fe(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const n of a)s=n._apply(s);return s}class hx extends yg{constructor(t,r,a){super(),this._field=t,this._op=r,this._value=a,this.type="where"}static _create(t,r,a){return new hx(t,r,a)}_apply(t){const r=this._parse(t);return Zk(t._query,r),new Qa(t.firestore,t.converter,H0(t._query,r))}_parse(t){const r=Xc(t.firestore);return function(l,o,c,d,m,p,N){let k;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Fe(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Mj(N,p);const h=[];for(const V of N)h.push(Rj(d,l,V));k={arrayValue:{values:h}}}else k=Rj(d,l,N)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Mj(N,p),k=xA(c,o,N,p==="in"||p==="not-in");return vs.create(m,p,k)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function be(s,t,r){const a=t,n=xx("where",s);return hx._create(n,a,r)}class bg extends gg{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new bg(t,r)}_parse(t){const r=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return r.length===1?r[0]:ea.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(n,l){let o=n;const c=l.getFlattenedFilters();for(const d of c)Zk(o,d),o=H0(o,d)}(t._query,r),new Qa(t.firestore,t.converter,H0(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vg extends yg{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new vg(t,r)}_apply(t){const r=function(n,l,o){if(n.startAt!==null)throw new Fe(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(n.endAt!==null)throw new Fe(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gc(l,o)}(t._query,this._field,this._direction);return new Qa(t.firestore,t.converter,function(n,l){const o=n.explicitOrderBy.concat([l]);return new Uo(n.path,n.collectionGroup,o,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}(t._query,r))}}function rp(s,t="asc"){const r=t,a=xx("orderBy",s);return vg._create(a,r)}class jg extends yg{constructor(t,r,a){super(),this.type=t,this._limit=r,this._limitType=a}static _create(t,r,a){return new jg(t,r,a)}_apply(t){return new Qa(t.firestore,t.converter,im(t._query,this._limit,this._limitType))}}function Vt(s){return iA("limit",s),jg._create("limit",s,"F")}function Rj(s,t,r){if(typeof(r=Qt(r))=="string"){if(r==="")throw new Fe(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q4(t)&&r.indexOf("/")!==-1)throw new Fe(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=t.path.child(Gt.fromString(r));if(!nt.isDocumentKey(a))throw new Fe(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Qv(s,new nt(a))}if(r instanceof Vs)return Qv(s,r._key);throw new Fe(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dx(r)}.`)}function Mj(s,t){if(!Array.isArray(s)||s.length===0)throw new Fe(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Zk(s,t){const r=function(n,l){for(const o of n)for(const c of o.getFlattenedFilters())if(l.indexOf(c.op)>=0)return c.op;return null}(s.filters,function(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Fe(je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Fe(je.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class e3{convertValue(t,r="none"){switch(Rn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ps(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(An(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw ot()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const a={};return $n(t,(n,l)=>{a[n]=this.convertValue(l,r)}),a}convertVectorValue(t){var r,a,n;const l=(n=(a=(r=t.fields)===null||r===void 0?void 0:r[am].arrayValue)===null||a===void 0?void 0:a.values)===null||n===void 0?void 0:n.map(o=>ps(o.doubleValue));return new dg(l)}convertGeoPoint(t){return new cg(ps(t.latitude),ps(t.longitude))}convertArray(t,r){return(t.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(t,r){switch(r){case"previous":const a=Zm(t);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(hc(t));default:return null}}convertTimestamp(t){const r=Dn(t);return new is(r.seconds,r.nanos)}convertDocumentKey(t,r){const a=Gt.fromString(t);_t(Nk(a));const n=new pc(a.get(1),a.get(3)),l=new nt(a.popFirst(5));return n.isEqual(r)||Ua(`Document ${l} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(s,t,r){let a;return a=s?r&&(r.merge||r.mergeFields)?s.toFirestore(t,r):s.toFirestore(t):t,a}class fA extends e3{constructor(t){super(),this.firestore=t}convertBytes(t){return new vi(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Vs(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wg extends hm{constructor(t,r,a,n,l,o){super(t,r,a,n,o),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(xx("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class yu extends wg{data(t={}){return super.data(t)}}class t3{constructor(t,r,a,n){this._firestore=t,this._userDataWriter=r,this._snapshot=n,this.metadata=new eo(n.hasPendingWrites,n.fromCache),this.query=a}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(a=>{t.call(r,new yu(this._firestore,this._userDataWriter,a.key,a,new eo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Fe(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(n,l){if(n._snapshot.oldDocs.isEmpty()){let o=0;return n._snapshot.docChanges.map(c=>{const d=new yu(n._firestore,n._userDataWriter,c.doc.key,c.doc,new eo(n._snapshot.mutatedKeys.has(c.doc.key),n._snapshot.fromCache),n.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(c=>l||c.type!==3).map(c=>{const d=new yu(n._firestore,n._userDataWriter,c.doc.key,c.doc,new eo(n._snapshot.mutatedKeys.has(c.doc.key),n._snapshot.fromCache),n.query.converter);let m=-1,p=-1;return c.type!==0&&(m=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:gA(c.type),doc:d,oldIndex:m,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function gA(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(s){s=ar(s,Vs);const t=ar(s.firestore,ba);return rA(Kc(t),s._key).then(r=>s3(t,s,r))}class px extends e3{constructor(t){super(),this.firestore=t}convertBytes(t){return new vi(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Vs(this.firestore,null,r)}}function gt(s){s=ar(s,Qa);const t=ar(s.firestore,ba),r=Kc(t),a=new px(t);return Jk(s._query),aA(r,s._query).then(n=>new t3(t,a,s,n))}function Ar(s,t,r){s=ar(s,Vs);const a=ar(s.firestore,ba),n=Ng(s.converter,t,r);return fx(a,[mg(Xc(a),"setDoc",s._key,n,s.converter!==null,r).toMutation(s._key,Ms.none())])}function ys(s,t,r,...a){s=ar(s,Vs);const n=ar(s.firestore,ba),l=Xc(n);let o;return o=typeof(t=Qt(t))=="string"||t instanceof Qc?Kk(l,"updateDoc",s._key,t,r,a):Hk(l,"updateDoc",s._key,t),fx(n,[o.toMutation(s._key,Ms.exists(!0))])}function yA(s){return fx(ar(s.firestore,ba),[new nx(s._key,Ms.none())])}function di(s,t){const r=ar(s.firestore,ba),a=q(s),n=Ng(s.converter,t);return fx(r,[mg(Xc(s.firestore),"addDoc",a._key,n,s.converter!==null,{}).toMutation(a._key,Ms.exists(!1))]).then(()=>a)}function Ie(s,...t){var r,a,n;s=Qt(s);let l={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||Aj(t[o])||(l=t[o],o++);const c={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Aj(t[o])){const N=t[o];t[o]=(r=N.next)===null||r===void 0?void 0:r.bind(N),t[o+1]=(a=N.error)===null||a===void 0?void 0:a.bind(N),t[o+2]=(n=N.complete)===null||n===void 0?void 0:n.bind(N)}let d,m,p;if(s instanceof Vs)m=ar(s.firestore,ba),p=ex(s._key.path),d={next:N=>{t[o]&&t[o](s3(m,s,N))},error:t[o+1],complete:t[o+2]};else{const N=ar(s,Qa);m=ar(N.firestore,ba),p=N._query;const k=new px(m);d={next:I=>{t[o]&&t[o](new t3(m,k,N,I))},error:t[o+1],complete:t[o+2]},Jk(s._query)}return function(k,I,h,V){const w=new og(V),C=new ag(I,w,h);return k.asyncQueue.enqueueAndForget(async()=>tg(await mm(k),C)),()=>{w.su(),k.asyncQueue.enqueueAndForget(async()=>sg(await mm(k),C))}}(Kc(m),p,c,d)}function fx(s,t){return function(a,n){const l=new da;return a.asyncQueue.enqueueAndForget(async()=>UD(await tA(a),n,l)),l.promise}(Kc(s),t)}function s3(s,t,r){const a=r.docs.get(t._key),n=new px(s);return new wg(s,n,t._key,a,new eo(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA={maxAttempts:5};function wl(s,t){if((s=Qt(s)).firestore!==t)throw new Fe(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Xc(t)}get(t){const r=wl(t,this._firestore),a=new fA(this._firestore);return this._transaction.lookup([r._key]).then(n=>{if(!n||n.length!==1)return ot();const l=n[0];if(l.isFoundDocument())return new hm(this._firestore,a,l.key,l,r.converter);if(l.isNoDocument())return new hm(this._firestore,a,r._key,null,r.converter);throw ot()})}set(t,r,a){const n=wl(t,this._firestore),l=Ng(n.converter,r,a),o=mg(this._dataReader,"Transaction.set",n._key,l,n.converter!==null,a);return this._transaction.set(n._key,o),this}update(t,r,a,...n){const l=wl(t,this._firestore);let o;return o=typeof(r=Qt(r))=="string"||r instanceof Qc?Kk(this._dataReader,"Transaction.update",l._key,r,a,n):Hk(this._dataReader,"Transaction.update",l._key,r),this._transaction.update(l._key,o),this}delete(t){const r=wl(t,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA extends vA{constructor(t,r){super(t,r),this._firestore=t}get(t){const r=wl(t,this._firestore),a=new px(this._firestore);return super.get(t).then(n=>new wg(this._firestore,a,r._key,n._document,new eo(!1,!1),r.converter))}}function Xe(s,t,r){s=ar(s,ba);const a=Object.assign(Object.assign({},bA),r);return function(l){if(l.maxAttempts<1)throw new Fe(je.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(l,o,c){const d=new da;return l.asyncQueue.enqueueAndForget(async()=>{const m=await sA(l);new JD(l.asyncQueue,m,c,o,d).Iu()}),d.promise}(Kc(s),n=>t(new jA(s,n)),a)}function Ft(){return new xg("serverTimestamp")}function Qe(s){return new hg("increment",s)}(function(t,r=!0){(function(n){Lo=n})(Pi),Zr(new Lr("firestore",(a,{instanceIdentifier:n,options:l})=>{const o=a.getProvider("app").getImmediate(),c=new ba(new f_(a.getProvider("auth-internal")),new b_(o,a.getProvider("app-check-internal")),function(m,p){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Fe(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(m.options.projectId,p)}(o,n),o);return l=Object.assign({useFetchStreams:r},l),c._setSettings(l),c},"PUBLIC").setMultipleInstances(!0)),pr(Vv,zv,t),pr(Vv,zv,"esm2017")})();var NA="firebase",wA="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(NA,wA,"app");const r3="@firebase/installations",kg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=1e4,n3=`w:${kg}`,i3="FIS_v2",kA="https://firebaseinstallations.googleapis.com/v1",SA=60*60*1e3,CA="installations",EA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ji=new Ii(CA,EA,IA);function o3(s){return s instanceof Br&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3({projectId:s}){return`${kA}/projects/${s}/installations`}function c3(s){return{token:s.token,requestStatus:2,expiresIn:TA(s.expiresIn),creationTime:Date.now()}}async function d3(s,t){const a=(await t.json()).error;return ji.create("request-failed",{requestName:s,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function u3({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function PA(s,{refreshToken:t}){const r=u3(s);return r.append("Authorization",_A(t)),r}async function m3(s){const t=await s();return t.status>=500&&t.status<600?s():t}function TA(s){return Number(s.replace("s","000"))}function _A(s){return`${i3} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA({appConfig:s,heartbeatServiceProvider:t},{fid:r}){const a=l3(s),n=u3(s),l=t.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&n.append("x-firebase-client",m)}const o={fid:r,authVersion:i3,appId:s.appId,sdkVersion:n3},c={method:"POST",headers:n,body:JSON.stringify(o)},d=await m3(()=>fetch(a,c));if(d.ok){const m=await d.json();return{fid:m.fid||r,registrationStatus:2,refreshToken:m.refreshToken,authToken:c3(m.authToken)}}else throw await d3("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(s){return new Promise(t=>{setTimeout(t,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=/^[cdef][\w-]{21}$/,ap="";function MA(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const r=OA(s);return RA.test(r)?r:ap}catch{return ap}}function OA(s){return AA(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new Map;function p3(s,t){const r=gx(s);f3(r,t),VA(r,t)}function f3(s,t){const r=h3.get(s);if(r)for(const a of r)a(t)}function VA(s,t){const r=zA();r&&r.postMessage({key:s,fid:t}),LA()}let ni=null;function zA(){return!ni&&"BroadcastChannel"in self&&(ni=new BroadcastChannel("[Firebase] FID Change"),ni.onmessage=s=>{f3(s.data.key,s.data.fid)}),ni}function LA(){h3.size===0&&ni&&(ni.close(),ni=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firebase-installations-database",FA=1,Ni="firebase-installations-store";let jh=null;function Sg(){return jh||(jh=b4(BA,FA,{upgrade:(s,t)=>{switch(t){case 0:s.createObjectStore(Ni)}}})),jh}async function pm(s,t){const r=gx(s),n=(await Sg()).transaction(Ni,"readwrite"),l=n.objectStore(Ni),o=await l.get(r);return await l.put(t,r),await n.done,(!o||o.fid!==t.fid)&&p3(s,t.fid),t}async function g3(s){const t=gx(s),a=(await Sg()).transaction(Ni,"readwrite");await a.objectStore(Ni).delete(t),await a.done}async function yx(s,t){const r=gx(s),n=(await Sg()).transaction(Ni,"readwrite"),l=n.objectStore(Ni),o=await l.get(r),c=t(o);return c===void 0?await l.delete(r):await l.put(c,r),await n.done,c&&(!o||o.fid!==c.fid)&&p3(s,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cg(s){let t;const r=await yx(s.appConfig,a=>{const n=UA(a),l=$A(s,n);return t=l.registrationPromise,l.installationEntry});return r.fid===ap?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function UA(s){const t=s||{fid:MA(),registrationStatus:0};return y3(t)}function $A(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const n=Promise.reject(ji.create("app-offline"));return{installationEntry:t,registrationPromise:n}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=qA(s,r);return{installationEntry:r,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:WA(s)}:{installationEntry:t}}async function qA(s,t){try{const r=await DA(s,t);return pm(s.appConfig,r)}catch(r){throw o3(r)&&r.customData.serverCode===409?await g3(s.appConfig):await pm(s.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function WA(s){let t=await Oj(s.appConfig);for(;t.registrationStatus===1;)await x3(100),t=await Oj(s.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:a}=await Cg(s);return a||r}return t}function Oj(s){return yx(s,t=>{if(!t)throw ji.create("installation-not-found");return y3(t)})}function y3(s){return GA(s)?{fid:s.fid,registrationStatus:0}:s}function GA(s){return s.registrationStatus===1&&s.registrationTime+a3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HA({appConfig:s,heartbeatServiceProvider:t},r){const a=KA(s,r),n=PA(s,r),l=t.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&n.append("x-firebase-client",m)}const o={installation:{sdkVersion:n3,appId:s.appId}},c={method:"POST",headers:n,body:JSON.stringify(o)},d=await m3(()=>fetch(a,c));if(d.ok){const m=await d.json();return c3(m)}else throw await d3("Generate Auth Token",d)}function KA(s,{fid:t}){return`${l3(s)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eg(s,t=!1){let r;const a=await yx(s.appConfig,l=>{if(!b3(l))throw ji.create("not-registered");const o=l.authToken;if(!t&&XA(o))return l;if(o.requestStatus===1)return r=QA(s,t),l;{if(!navigator.onLine)throw ji.create("app-offline");const c=ZA(l);return r=YA(s,c),c}});return r?await r:a.authToken}async function QA(s,t){let r=await Vj(s.appConfig);for(;r.authToken.requestStatus===1;)await x3(100),r=await Vj(s.appConfig);const a=r.authToken;return a.requestStatus===0?Eg(s,t):a}function Vj(s){return yx(s,t=>{if(!b3(t))throw ji.create("not-registered");const r=t.authToken;return eR(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function YA(s,t){try{const r=await HA(s,t),a=Object.assign(Object.assign({},t),{authToken:r});return await pm(s.appConfig,a),r}catch(r){if(o3(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await g3(s.appConfig);else{const a=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await pm(s.appConfig,a)}throw r}}function b3(s){return s!==void 0&&s.registrationStatus===2}function XA(s){return s.requestStatus===2&&!JA(s)}function JA(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+SA}function ZA(s){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:t})}function eR(s){return s.requestStatus===1&&s.requestTime+a3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(s){const t=s,{installationEntry:r,registrationPromise:a}=await Cg(t);return a?a.catch(console.error):Eg(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(s,t=!1){const r=s;return await rR(r),(await Eg(r,t)).token}async function rR(s){const{registrationPromise:t}=await Cg(s);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(s){if(!s||!s.options)throw Nh("App Configuration");if(!s.name)throw Nh("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!s.options[r])throw Nh(r);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Nh(s){return ji.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="installations",nR="installations-internal",iR=s=>{const t=s.getProvider("app").getImmediate(),r=aR(t),a=Un(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},oR=s=>{const t=s.getProvider("app").getImmediate(),r=Un(t,v3).getImmediate();return{getId:()=>tR(r),getToken:n=>sR(r,n)}};function lR(){Zr(new Lr(v3,iR,"PUBLIC")),Zr(new Lr(nR,oR,"PRIVATE"))}lR();pr(r3,kg);pr(r3,kg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="analytics",cR="firebase_id",dR="origin",uR=60*1e3,mR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ig="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Ym("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sr=new Ii("analytics","Analytics",xR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(s){if(!s.startsWith(Ig)){const t=Sr.create("invalid-gtag-resource",{gtagURL:s});return fr.warn(t.message),""}return s}function j3(s){return Promise.all(s.map(t=>t.catch(r=>r)))}function pR(s,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(s,t)),r}function fR(s,t){const r=pR("firebase-js-sdk-policy",{createScriptURL:hR}),a=document.createElement("script"),n=`${Ig}?l=${s}&id=${t}`;a.src=r?r==null?void 0:r.createScriptURL(n):n,a.async=!0,document.head.appendChild(a)}function gR(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function yR(s,t,r,a,n,l){const o=a[n];try{if(o)await t[o];else{const d=(await j3(r)).find(m=>m.measurementId===n);d&&await t[d.appId]}}catch(c){fr.error(c)}s("config",n,l)}async function bR(s,t,r,a,n){try{let l=[];if(n&&n.send_to){let o=n.send_to;Array.isArray(o)||(o=[o]);const c=await j3(r);for(const d of o){const m=c.find(N=>N.measurementId===d),p=m&&t[m.appId];if(p)l.push(p);else{l=[];break}}}l.length===0&&(l=Object.values(t)),await Promise.all(l),s("event",a,n||{})}catch(l){fr.error(l)}}function vR(s,t,r,a){async function n(l,...o){try{if(l==="event"){const[c,d]=o;await bR(s,t,r,c,d)}else if(l==="config"){const[c,d]=o;await yR(s,t,r,a,c,d)}else if(l==="consent"){const[c,d]=o;s("consent",c,d)}else if(l==="get"){const[c,d,m]=o;s("get",c,d,m)}else if(l==="set"){const[c]=o;s("set",c)}else s(l,...o)}catch(c){fr.error(c)}}return n}function jR(s,t,r,a,n){let l=function(...o){window[a].push(arguments)};return window[n]&&typeof window[n]=="function"&&(l=window[n]),window[n]=vR(l,s,t,r),{gtagCore:l,wrappedGtag:window[n]}}function NR(s){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(Ig)&&r.src.includes(s))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=30,kR=1e3;class SR{constructor(t={},r=kR){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const N3=new SR;function CR(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function ER(s){var t;const{appId:r,apiKey:a}=s,n={method:"GET",headers:CR(a)},l=mR.replace("{app-id}",r),o=await fetch(l,n);if(o.status!==200&&o.status!==304){let c="";try{const d=await o.json();!((t=d.error)===null||t===void 0)&&t.message&&(c=d.error.message)}catch{}throw Sr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function IR(s,t=N3,r){const{appId:a,apiKey:n,measurementId:l}=s.options;if(!a)throw Sr.create("no-app-id");if(!n){if(l)return{measurementId:l,appId:a};throw Sr.create("no-api-key")}const o=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new _R;return setTimeout(async()=>{c.abort()},r!==void 0?r:uR),w3({appId:a,apiKey:n,measurementId:l},o,c,t)}async function w3(s,{throttleEndTimeMillis:t,backoffCount:r},a,n=N3){var l;const{appId:o,measurementId:c}=s;try{await PR(a,t)}catch(d){if(c)return fr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:c};throw d}try{const d=await ER(s);return n.deleteThrottleMetadata(o),d}catch(d){const m=d;if(!TR(m)){if(n.deleteThrottleMetadata(o),c)return fr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:o,measurementId:c};throw d}const p=Number((l=m==null?void 0:m.customData)===null||l===void 0?void 0:l.httpStatus)===503?Ev(r,n.intervalMillis,wR):Ev(r,n.intervalMillis),N={throttleEndTimeMillis:Date.now()+p,backoffCount:r+1};return n.setThrottleMetadata(o,N),fr.debug(`Calling attemptFetch again in ${p} millis`),w3(s,N,a,n)}}function PR(s,t){return new Promise((r,a)=>{const n=Math.max(t-Date.now(),0),l=setTimeout(r,n);s.addEventListener(()=>{clearTimeout(l),a(Sr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function TR(s){if(!(s instanceof Br)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class _R{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function DR(s,t,r,a,n){if(n&&n.global){s("event",r,a);return}else{const l=await t,o=Object.assign(Object.assign({},a),{send_to:l});s("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(){if(p4())try{await f4()}catch(s){return fr.warn(Sr.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return fr.warn(Sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RR(s,t,r,a,n,l,o){var c;const d=IR(s);d.then(I=>{r[I.measurementId]=I.appId,s.options.measurementId&&I.measurementId!==s.options.measurementId&&fr.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>fr.error(I)),t.push(d);const m=AR().then(I=>{if(I)return a.getId()}),[p,N]=await Promise.all([d,m]);NR(l)||fR(l,p.measurementId),n("js",new Date);const k=(c=o==null?void 0:o.config)!==null&&c!==void 0?c:{};return k[dR]="firebase",k.update=!0,N!=null&&(k[cR]=N),n("config",p.measurementId,k),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t){this.app=t}_delete(){return delete Ll[this.app.options.appId],Promise.resolve()}}let Ll={},zj=[];const Lj={};let wh="dataLayer",OR="gtag",Bj,k3,Fj=!1;function VR(){const s=[];if(h4()&&s.push("This is a browser extension environment."),QT()||s.push("Cookies are not available."),s.length>0){const t=s.map((a,n)=>`(${n+1}) ${a}`).join(" "),r=Sr.create("invalid-analytics-context",{errorInfo:t});fr.warn(r.message)}}function zR(s,t,r){VR();const a=s.options.appId;if(!a)throw Sr.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)fr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sr.create("no-api-key");if(Ll[a]!=null)throw Sr.create("already-exists",{id:a});if(!Fj){gR(wh);const{wrappedGtag:l,gtagCore:o}=jR(Ll,zj,Lj,wh,OR);k3=l,Bj=o,Fj=!0}return Ll[a]=RR(s,zj,Lj,t,Bj,wh,r),new MR(s)}function LR(s=Xm()){s=Qt(s);const t=Un(s,fm);return t.isInitialized()?t.getImmediate():BR(s)}function BR(s,t={}){const r=Un(s,fm);if(r.isInitialized()){const n=r.getImmediate();if(Tn(t,r.getOptions()))return n;throw Sr.create("already-initialized")}return r.initialize({options:t})}function FR(s,t,r,a){s=Qt(s),DR(k3,Ll[s.app.options.appId],t,r,a).catch(n=>fr.error(n))}const Uj="@firebase/analytics",$j="0.10.12";function UR(){Zr(new Lr(fm,(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),n=t.getProvider("installations-internal").getImmediate();return zR(a,n,r)},"PUBLIC")),Zr(new Lr("analytics-internal",s,"PRIVATE")),pr(Uj,$j),pr(Uj,$j,"esm2017");function s(t){try{const r=t.getProvider(fm).getImmediate();return{logEvent:(a,n,l)=>FR(r,a,n,l)}}catch(r){throw Sr.create("interop-component-reg-failed",{reason:r})}}}UR();function Pg(s,t){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(s);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(s,a[n])&&(r[a[n]]=s[a[n]]);return r}function S3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $R=S3,C3=new Ii("auth","Firebase",S3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Ym("@firebase/auth");function qR(s,...t){gm.logLevel<=Ct.WARN&&gm.warn(`Auth (${Pi}): ${s}`,...t)}function bu(s,...t){gm.logLevel<=Ct.ERROR&&gm.error(`Auth (${Pi}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(s,...t){throw Tg(s,...t)}function ma(s,...t){return Tg(s,...t)}function E3(s,t,r){const a=Object.assign(Object.assign({},$R()),{[t]:r});return new Ii("auth","Firebase",a).create(t,{appName:s.name})}function Ma(s){return E3(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tg(s,...t){if(typeof s!="string"){const r=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(r,...a)}return C3.create(s,...t)}function dt(s,t,...r){if(!s)throw Tg(t,...r)}function _a(s){const t="INTERNAL ASSERTION FAILED: "+s;throw bu(t),new Error(t)}function qa(s,t){s||_a(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function I3(){return qj()==="http:"||qj()==="https:"}function qj(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I3()||h4()||"connection"in navigator)?navigator.onLine:!0}function GR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,r){this.shortDelay=t,this.longDelay=r,qa(r>t,"Short delay should be less than long delay!"),this.isMobile=$T()||GT()}get(){return WR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(s,t){qa(s.emulator,"Emulator should always be set here");const{url:r}=s.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{static initialize(t,r,a){this.fetchImpl=t,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QR=new Zc(3e4,6e4);function Ya(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function Na(s,t,r,a,n={}){return T3(s,n,async()=>{let l={},o={};a&&(t==="GET"?o=a:l={body:JSON.stringify(a)});const c=Uc(Object.assign({key:s.config.apiKey},o)).slice(1),d=await s._getAdditionalHeaders();d["Content-Type"]="application/json",s.languageCode&&(d["X-Firebase-Locale"]=s.languageCode);const m=Object.assign({method:t,headers:d},l);return WT()||(m.referrerPolicy="no-referrer"),P3.fetch()(await _3(s,s.config.apiHost,r,c),m)})}async function T3(s,t,r){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},HR),t);try{const n=new XR(s),l=await Promise.race([r(),n.promise]);n.clearNetworkTimeout();const o=await l.json();if("needConfirmation"in o)throw Wd(s,"account-exists-with-different-credential",o);if(l.ok&&!("errorMessage"in o))return o;{const c=l.ok?o.errorMessage:o.error.message,[d,m]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(s,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Wd(s,"email-already-in-use",o);if(d==="USER_DISABLED")throw Wd(s,"user-disabled",o);const p=a[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw E3(s,p,m);ta(s,p)}}catch(n){if(n instanceof Br)throw n;ta(s,"network-request-failed",{message:String(n)})}}async function ed(s,t,r,a,n={}){const l=await Na(s,t,r,a,n);return"mfaPendingCredential"in l&&ta(s,"multi-factor-auth-required",{_serverResponse:l}),l}async function _3(s,t,r,a){const n=`${t}${r}?${a}`,l=s,o=l.config.emulator?_g(s.config,n):`${s.config.apiScheme}://${n}`;return KR.includes(r)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(o).toString():o}function YR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a(ma(this.auth,"network-request-failed")),QR.get())})}}function Wd(s,t,r){const a={appName:s.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const n=ma(s,t,a);return n.customData._tokenResponse=r,n}function Wj(s){return s!==void 0&&s.enterprise!==void 0}class JR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return YR(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZR(s,t){return Na(s,"GET","/v2/recaptchaConfig",Ya(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(s,t){return Na(s,"POST","/v1/accounts:delete",t)}async function bm(s,t){return Na(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tM(s,t=!1){const r=Qt(s),a=await r.getIdToken(t),n=Dg(a);dt(n&&n.exp&&n.auth_time&&n.iat,r.auth,"internal-error");const l=typeof n.firebase=="object"?n.firebase:void 0,o=l==null?void 0:l.sign_in_provider;return{claims:n,token:a,authTime:Bl(kh(n.auth_time)),issuedAtTime:Bl(kh(n.iat)),expirationTime:Bl(kh(n.exp)),signInProvider:o||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function kh(s){return Number(s)*1e3}function Dg(s){const[t,r,a]=s.split(".");if(t===void 0||r===void 0||a===void 0)return bu("JWT malformed, contained fewer than 3 sections"),null;try{const n=l4(r);return n?JSON.parse(n):(bu("Failed to decode base64 JWT payload"),null)}catch(n){return bu("Caught error parsing JWT payload as JSON",n==null?void 0:n.toString()),null}}function Gj(s){const t=Dg(s);return dt(t,"internal-error"),dt(typeof t.exp<"u","internal-error"),dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(s,t,r=!1){if(r)return t;try{return await t}catch(a){throw a instanceof Br&&sM(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function sM({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const n=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(s){var t;const r=s.auth,a=await s.getIdToken(),n=await _o(s,bm(r,{idToken:a}));dt(n==null?void 0:n.users.length,r,"internal-error");const l=n.users[0];s._notifyReloadListener(l);const o=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?D3(l.providerUserInfo):[],c=nM(s.providerData,o),d=s.isAnonymous,m=!(s.email&&l.passwordHash)&&!(c!=null&&c.length),p=d?m:!1,N={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new np(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,N)}async function aM(s){const t=Qt(s);await vm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nM(s,t){return[...s.filter(a=>!t.some(n=>n.providerId===a.providerId)),...t]}function D3(s){return s.map(t=>{var{providerId:r}=t,a=Pg(t,["providerId"]);return{providerId:r,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(s,t){const r=await T3(s,{},async()=>{const a=Uc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:n,apiKey:l}=s.config,o=await _3(s,n,"/v1/token",`key=${l}`),c=await s._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",P3.fetch()(o,{method:"POST",headers:c,body:a})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function oM(s,t){return Na(s,"POST","/v2/accounts:revokeToken",Ya(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){dt(t.idToken,"internal-error"),dt(typeof t.idToken<"u","internal-error"),dt(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Gj(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){dt(t.length!==0,"internal-error");const r=Gj(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:a,refreshToken:n,expiresIn:l}=await iM(t,r);this.updateTokensAndExpiration(a,n,Number(l))}updateTokensAndExpiration(t,r,a){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,r){const{refreshToken:a,accessToken:n,expirationTime:l}=r,o=new po;return a&&(dt(typeof a=="string","internal-error",{appName:t}),o.refreshToken=a),n&&(dt(typeof n=="string","internal-error",{appName:t}),o.accessToken=n),l&&(dt(typeof l=="number","internal-error",{appName:t}),o.expirationTime=l),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return _a("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(s,t){dt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Kr{constructor(t){var{uid:r,auth:a,stsTokenManager:n}=t,l=Pg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=a,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new np(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const r=await _o(this,this.stsTokenManager.getToken(this.auth,t));return dt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return tM(this,t)}reload(){return aM(this)}_assign(t){this!==t&&(dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Kr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),r&&await vm(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(Ma(this.auth));const t=await this.getIdToken();return await _o(this,eM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var a,n,l,o,c,d,m,p;const N=(a=r.displayName)!==null&&a!==void 0?a:void 0,k=(n=r.email)!==null&&n!==void 0?n:void 0,I=(l=r.phoneNumber)!==null&&l!==void 0?l:void 0,h=(o=r.photoURL)!==null&&o!==void 0?o:void 0,V=(c=r.tenantId)!==null&&c!==void 0?c:void 0,w=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,C=(m=r.createdAt)!==null&&m!==void 0?m:void 0,z=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:T,emailVerified:W,isAnonymous:$,providerData:U,stsTokenManager:A}=r;dt(T&&A,t,"internal-error");const u=po.fromJSON(this.name,A);dt(typeof T=="string",t,"internal-error"),tn(N,t.name),tn(k,t.name),dt(typeof W=="boolean",t,"internal-error"),dt(typeof $=="boolean",t,"internal-error"),tn(I,t.name),tn(h,t.name),tn(V,t.name),tn(w,t.name),tn(C,t.name),tn(z,t.name);const F=new Kr({uid:T,auth:t,email:k,emailVerified:W,displayName:N,isAnonymous:$,photoURL:h,phoneNumber:I,tenantId:V,stsTokenManager:u,createdAt:C,lastLoginAt:z});return U&&Array.isArray(U)&&(F.providerData=U.map(B=>Object.assign({},B))),w&&(F._redirectEventId=w),F}static async _fromIdTokenResponse(t,r,a=!1){const n=new po;n.updateFromServerResponse(r);const l=new Kr({uid:r.localId,auth:t,stsTokenManager:n,isAnonymous:a});return await vm(l),l}static async _fromGetAccountInfoResponse(t,r,a){const n=r.users[0];dt(n.localId!==void 0,"internal-error");const l=n.providerUserInfo!==void 0?D3(n.providerUserInfo):[],o=!(n.email&&n.passwordHash)&&!(l!=null&&l.length),c=new po;c.updateFromIdToken(a);const d=new Kr({uid:n.localId,auth:t,stsTokenManager:c,isAnonymous:o}),m={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:l,metadata:new np(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=new Map;function Da(s){qa(s instanceof Function,"Expected a class definition");let t=Hj.get(s);return t?(qa(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Hj.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}A3.type="NONE";const Kj=A3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(s,t,r){return`firebase:${s}:${t}:${r}`}class fo{constructor(t,r,a){this.persistence=t,this.auth=r,this.userKey=a;const{config:n,name:l}=this.auth;this.fullUserKey=vu(this.userKey,n.apiKey,l),this.fullPersistenceKey=vu("persistence",n.apiKey,l),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await bm(this.auth,{idToken:t}).catch(()=>{});return r?Kr._fromGetAccountInfoResponse(this.auth,r,t):null}return Kr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,a="authUser"){if(!r.length)return new fo(Da(Kj),t,a);const n=(await Promise.all(r.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=n[0]||Da(Kj);const o=vu(a,t.config.apiKey,t.name);let c=null;for(const m of r)try{const p=await m._get(o);if(p){let N;if(typeof p=="string"){const k=await bm(t,{idToken:p}).catch(()=>{});if(!k)break;N=await Kr._fromGetAccountInfoResponse(t,k,p)}else N=Kr._fromJSON(t,p);m!==l&&(c=N),l=m;break}}catch{}const d=n.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new fo(l,t,a):(l=d[0],c&&await l._set(o,c.toJSON()),await Promise.all(r.map(async m=>{if(m!==l)try{await m._remove(o)}catch{}})),new fo(l,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(V3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(R3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(L3(t))return"Blackberry";if(B3(t))return"Webos";if(M3(t))return"Safari";if((t.includes("chrome/")||O3(t))&&!t.includes("edge/"))return"Chrome";if(z3(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(r);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function R3(s=Ys()){return/firefox\//i.test(s)}function M3(s=Ys()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function O3(s=Ys()){return/crios\//i.test(s)}function V3(s=Ys()){return/iemobile/i.test(s)}function z3(s=Ys()){return/android/i.test(s)}function L3(s=Ys()){return/blackberry/i.test(s)}function B3(s=Ys()){return/webos/i.test(s)}function Ag(s=Ys()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function lM(s=Ys()){var t;return Ag(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function cM(){return HT()&&document.documentMode===10}function F3(s=Ys()){return Ag(s)||z3(s)||B3(s)||L3(s)||/windows phone/i.test(s)||V3(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(s,t=[]){let r;switch(s){case"Browser":r=Qj(Ys());break;case"Worker":r=`${Qj(Ys())}-${s}`;break;default:r=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Pi}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const a=l=>new Promise((o,c)=>{try{const d=t(l);o(d)}catch(d){c(d)}});a.onAbort=r,this.queue.push(a);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const a of this.queue)await a(t),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const n of r)try{n()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(s,t={}){return Na(s,"GET","/v2/passwordPolicy",Ya(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=6;class xM{constructor(t){var r,a,n,l;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:mM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(n=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&n!==void 0?n:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,a,n,l,o,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,d),this.validatePasswordCharacterOptions(t,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(n=d.containsLowercaseLetter)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(t,r){const a=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=t.length>=a),n&&(r.meetsMaxPasswordLength=t.length<=n)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let n=0;n<t.length;n++)a=t.charAt(n),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,r,a,n,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t,r,a,n){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yj(this),this.idTokenSubscription=new Yj(this),this.beforeStateQueue=new dM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Da(r)),this._initializationPromise=this.queue(async()=>{var a,n,l;if(!this._deleted&&(this.persistenceManager=await fo.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await bm(this,{idToken:t}),a=await Kr._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(vr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let n=a,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=n==null?void 0:n._redirectEventId,d=await this.tryRedirectSignIn(t);(!o||o===c)&&(d!=null&&d.user)&&(n=d.user,l=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await vm(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=GR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vr(this.app))return Promise.reject(Ma(this));const r=t?Qt(t):null;return r&&dt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(Ma(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vr(this.app)?Promise.reject(Ma(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Da(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await uM(this),r=new xM(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ii("auth","Firebase",t())}onAuthStateChanged(t,r,a){return this.registerStateListener(this.authStateSubscription,t,r,a)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,a){return this.registerStateListener(this.idTokenSubscription,t,r,a)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await oM(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const a=await this.getOrInitRedirectPersistenceManager(r);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Da(t)||this._popupRedirectResolver;dt(r,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[Da(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,a;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,a,n){if(this._deleted)return()=>{};const l=typeof r=="function"?r:r.next.bind(r);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(c,this,"internal-error"),c.then(()=>{o||l(this.currentUser)}),typeof r=="function"){const d=t.addObserver(r,a,n);return()=>{o=!0,d()}}else{const d=t.addObserver(r);return()=>{o=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=U3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(r["X-Firebase-Client"]=a);const n=await this._getAppCheckToken();return n&&(r["X-Firebase-AppCheck"]=n),r}async _getAppCheckToken(){var t;if(vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&qR(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Di(s){return Qt(s)}class Yj{constructor(t){this.auth=t,this.observer=null,this.addObserver=e6(r=>this.observer=r)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pM(s){bx=s}function $3(s){return bx.loadJS(s)}function fM(){return bx.recaptchaEnterpriseScript}function gM(){return bx.gapiScript}function yM(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class bM{constructor(){this.enterprise=new vM}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class vM{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const jM="recaptcha-enterprise",q3="NO_RECAPTCHA";class NM{constructor(t){this.type=jM,this.auth=Di(t)}async verify(t="verify",r=!1){async function a(l){if(!r){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(o,c)=>{ZR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const m=new JR(d);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,o(m.siteKey)}}).catch(d=>{c(d)})})}function n(l,o,c){const d=window.grecaptcha;Wj(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:t}).then(m=>{o(m)}).catch(()=>{o(q3)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bM().execute("siteKey",{action:"verify"}):new Promise((l,o)=>{a(this.auth).then(c=>{if(!r&&Wj(window.grecaptcha))n(c,l,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=fM();d.length!==0&&(d+=c),$3(d).then(()=>{n(c,l,o)}).catch(m=>{o(m)})}}).catch(c=>{o(c)})})}}async function ul(s,t,r,a=!1,n=!1){const l=new NM(s);let o;if(n)o=q3;else try{o=await l.verify(r)}catch{o=await l.verify(r,!0)}const c=Object.assign({},t);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,m=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return a?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function ip(s,t,r,a,n){var l,o;if(n==="EMAIL_PASSWORD_PROVIDER")if(!((l=s._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ul(s,t,r,r==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await ul(s,t,r,r==="getOobCode");return a(s,d)}else return Promise.reject(c)});else if(n==="PHONE_PROVIDER")if(!((o=s._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const c=await ul(s,t,r);return a(s,c).catch(async d=>{var m;if(((m=s._getRecaptchaConfig())===null||m===void 0?void 0:m.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const p=await ul(s,t,r,!1,!0);return a(s,p)}return Promise.reject(d)})}else{const c=await ul(s,t,r,!1,!0);return a(s,c)}else return Promise.reject(n+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(s,t){const r=Un(s,"auth");if(r.isInitialized()){const n=r.getImmediate(),l=r.getOptions();if(Tn(l,t??{}))return n;ta(n,"already-initialized")}return r.initialize({options:t})}function kM(s,t){const r=(t==null?void 0:t.persistence)||[],a=(Array.isArray(r)?r:[r]).map(Da);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function SM(s,t,r){const a=Di(s);dt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const n=!!(r!=null&&r.disableWarnings),l=W3(t),{host:o,port:c}=CM(t),d=c===null?"":`:${c}`,m={url:`${l}//${o}${d}/`},p=Object.freeze({host:o,port:c,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:n})});if(!a._canInitEmulator){dt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),dt(Tn(m,a.config.emulator)&&Tn(p,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=m,a.emulatorConfig=p,a.settings.appVerificationDisabledForTesting=!0,n||EM()}function W3(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function CM(s){const t=W3(s),r=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",n=/^(\[[^\]]+\])(:|$)/.exec(a);if(n){const l=n[1];return{host:l,port:Xj(a.substr(l.length+1))}}else{const[l,o]=a.split(":");return{host:l,port:Xj(o)}}}function Xj(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function EM(){function s(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return _a("not implemented")}_getIdTokenResponse(t){return _a("not implemented")}_linkToIdToken(t,r){return _a("not implemented")}_getReauthenticationResolver(t){return _a("not implemented")}}async function IM(s,t){return Na(s,"POST","/v1/accounts:update",t)}async function PM(s,t){return Na(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(s,t){return ed(s,"POST","/v1/accounts:signInWithPassword",Ya(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(s,t){return ed(s,"POST","/v1/accounts:signInWithEmailLink",Ya(s,t))}async function DM(s,t){return ed(s,"POST","/v1/accounts:signInWithEmailLink",Ya(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends Rg{constructor(t,r,a,n=null){super("password",a),this._email=t,this._password=r,this._tenantId=n}static _fromEmailAndPassword(t,r){return new Nc(t,r,"password")}static _fromEmailAndCode(t,r,a=null){return new Nc(t,r,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(t,r,"signInWithPassword",TM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return _M(t,{email:this._email,oobCode:this._password});default:ta(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const a={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(t,a,"signUpPassword",PM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return DM(t,{idToken:r,email:this._email,oobCode:this._password});default:ta(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(s,t){return ed(s,"POST","/v1/accounts:signInWithIdp",Ya(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="http://localhost";class wi extends Rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new wi(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):ta("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:n}=r,l=Pg(r,["providerId","signInMethod"]);if(!a||!n)return null;const o=new wi(a,n);return o.idToken=l.idToken||void 0,o.accessToken=l.accessToken||void 0,o.secret=l.secret,o.nonce=l.nonce,o.pendingToken=l.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return go(t,r)}_linkToIdToken(t,r){const a=this.buildRequest();return a.idToken=r,go(t,a)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,go(t,r)}buildRequest(){const t={requestUri:AM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Uc(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MM(s){const t=yl(bl(s)).link,r=t?yl(bl(t)).deep_link_id:null,a=yl(bl(s)).deep_link_id;return(a?yl(bl(a)).link:null)||a||r||t||s}class Mg{constructor(t){var r,a,n,l,o,c;const d=yl(bl(t)),m=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(a=d.oobCode)!==null&&a!==void 0?a:null,N=RM((n=d.mode)!==null&&n!==void 0?n:null);dt(m&&p&&N,"argument-error"),this.apiKey=m,this.operation=N,this.code=p,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(o=d.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const r=MM(t);try{return new Mg(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(t,r){return Nc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const a=Mg.parseLink(r);return dt(a,"argument-error"),Nc._fromEmailAndCode(t,a.code,a.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends G3{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln extends td{constructor(){super("facebook.com")}static credential(t){return wi._fromParams({providerId:ln.PROVIDER_ID,signInMethod:ln.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ln.credentialFromTaggedObject(t)}static credentialFromError(t){return ln.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ln.credential(t.oauthAccessToken)}catch{return null}}}ln.FACEBOOK_SIGN_IN_METHOD="facebook.com";ln.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends td{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return wi._fromParams({providerId:cn.PROVIDER_ID,signInMethod:cn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return cn.credentialFromTaggedObject(t)}static credentialFromError(t){return cn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:a}=t;if(!r&&!a)return null;try{return cn.credential(r,a)}catch{return null}}}cn.GOOGLE_SIGN_IN_METHOD="google.com";cn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn extends td{constructor(){super("github.com")}static credential(t){return wi._fromParams({providerId:dn.PROVIDER_ID,signInMethod:dn.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return dn.credentialFromTaggedObject(t)}static credentialFromError(t){return dn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return dn.credential(t.oauthAccessToken)}catch{return null}}}dn.GITHUB_SIGN_IN_METHOD="github.com";dn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un extends td{constructor(){super("twitter.com")}static credential(t,r){return wi._fromParams({providerId:un.PROVIDER_ID,signInMethod:un.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return un.credentialFromTaggedObject(t)}static credentialFromError(t){return un.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=t;if(!r||!a)return null;try{return un.credential(r,a)}catch{return null}}}un.TWITTER_SIGN_IN_METHOD="twitter.com";un.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(s,t){return ed(s,"POST","/v1/accounts:signUp",Ya(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,a,n=!1){const l=await Kr._fromIdTokenResponse(t,a,n),o=Jj(a);return new ki({user:l,providerId:o,_tokenResponse:a,operationType:r})}static async _forOperation(t,r,a){await t._updateTokensIfNecessary(a,!0);const n=Jj(a);return new ki({user:t,providerId:n,_tokenResponse:a,operationType:r})}}function Jj(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends Br{constructor(t,r,a,n){var l;super(r.code,r.message),this.operationType=a,this.user=n,Object.setPrototypeOf(this,jm.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,r,a,n){return new jm(t,r,a,n)}}function H3(s,t,r,a){return(t==="reauthenticate"?r._getReauthenticationResolver(s):r._getIdTokenResponse(s)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?jm._fromErrorAndOperation(s,l,t,a):l})}async function VM(s,t,r=!1){const a=await _o(s,t._linkToIdToken(s.auth,await s.getIdToken()),r);return ki._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(s,t,r=!1){const{auth:a}=s;if(vr(a.app))return Promise.reject(Ma(a));const n="reauthenticate";try{const l=await _o(s,H3(a,n,t,s),r);dt(l.idToken,a,"internal-error");const o=Dg(l.idToken);dt(o,a,"internal-error");const{sub:c}=o;return dt(s.uid===c,a,"user-mismatch"),ki._forOperation(s,n,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ta(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(s,t,r=!1){if(vr(s.app))return Promise.reject(Ma(s));const a="signIn",n=await H3(s,a,t),l=await ki._fromIdTokenResponse(s,a,n);return r||await s._updateCurrentUser(l.user),l}async function LM(s,t){return K3(Di(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(s){const t=Di(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function BM(s,t,r){if(vr(s.app))return Promise.reject(Ma(s));const a=Di(s),o=await ip(a,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OM,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Q3(s),d}),c=await ki._fromIdTokenResponse(a,"signIn",o);return await a._updateCurrentUser(c.user),c}function FM(s,t,r){return vr(s.app)?Promise.reject(Ma(s)):LM(Qt(s),qo.credential(t,r)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Q3(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(s,t){return Na(s,"POST","/v1/accounts:createAuthUri",Ya(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(s,t){const r=I3()?ym():"http://localhost",a={identifier:t,continueUri:r},{signinMethods:n}=await UM(Qt(s),a);return n||[]}function Og(s,t){return qM(Qt(s),null,t)}async function qM(s,t,r){const{auth:a}=s,l={idToken:await s.getIdToken(),returnSecureToken:!0};t&&(l.email=t),r&&(l.password=r);const o=await _o(s,IM(a,l));await s._updateTokensIfNecessary(o,!0)}function WM(s,t,r,a){return Qt(s).onIdTokenChanged(t,r,a)}function GM(s,t,r){return Qt(s).beforeAuthStateChanged(t,r)}function It(s,t,r,a){return Qt(s).onAuthStateChanged(t,r,a)}function wc(s){return Qt(s).signOut()}const Nm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Nm,"1"),this.storage.removeItem(Nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=1e3,KM=10;class X3 extends Y3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),n=this.localCache[r];a!==n&&t(r,n,a)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const a=t.key;r?this.detachListener():this.stopPolling();const n=()=>{const o=this.storage.getItem(a);!r&&this.localCache[a]===o||this.notifyListeners(a,o)},l=this.storage.getItem(a);cM()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(n,KM):n()}notifyListeners(t,r){this.localCache[t]=r;const a=this.listeners[t];if(a)for(const n of Array.from(a))n(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:a}),!0)})},HM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}X3.type="LOCAL";const QM=X3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3 extends Y3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}J3.type="SESSION";const Z3=J3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(n=>n.isListeningto(t));if(r)return r;const a=new vx(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:a,eventType:n,data:l}=r.data,o=this.handlersMap[n];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:n});const c=Array.from(o).map(async m=>m(r.origin,l)),d=await YM(c);r.ports[0].postMessage({status:"done",eventId:a,eventType:n,response:d})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(s="",t=10){let r="";for(let a=0;a<t;a++)r+=Math.floor(Math.random()*10);return s+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,a=50){const n=typeof MessageChannel<"u"?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let l,o;return new Promise((c,d)=>{const m=Vg("",20);n.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},a);o={messageChannel:n,onMessage(N){const k=N;if(k.data.eventId===m)switch(k.data.status){case"ack":clearTimeout(p),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),c(k.data.response);break;default:clearTimeout(p),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(o),n.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:m,data:r},[n.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(){return window}function JM(s){xa().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return typeof xa().WorkerGlobalScope<"u"&&typeof xa().importScripts=="function"}async function ZM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e7(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function t7(){return e1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firebaseLocalStorageDb",s7=1,wm="firebaseLocalStorage",s1="fbase_key";class sd{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function jx(s,t){return s.transaction([wm],t?"readwrite":"readonly").objectStore(wm)}function r7(){const s=indexedDB.deleteDatabase(t1);return new sd(s).toPromise()}function op(){const s=indexedDB.open(t1,s7);return new Promise((t,r)=>{s.addEventListener("error",()=>{r(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(wm,{keyPath:s1})}catch(n){r(n)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(wm)?t(a):(a.close(),await r7(),t(await op()))})})}async function Zj(s,t,r){const a=jx(s,!0).put({[s1]:t,value:r});return new sd(a).toPromise()}async function a7(s,t){const r=jx(s,!1).get(t),a=await new sd(r).toPromise();return a===void 0?null:a.value}function eN(s,t){const r=jx(s,!0).delete(t);return new sd(r).toPromise()}const n7=800,i7=3;class r1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await op(),this.db)}async _withRetries(t){let r=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(r++>i7)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vx._getInstance(t7()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await ZM(),!this.activeServiceWorker)return;this.sender=new XM(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((r=a[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||e7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await op();return await Zj(t,Nm,"1"),await eN(t,Nm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>Zj(a,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(a=>a7(a,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>eN(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(n=>{const l=jx(n,!1).getAll();return new sd(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(t.length!==0)for(const{fbase_key:n,value:l}of t)a.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(l)&&(this.notifyListeners(n,l),r.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!a.has(n)&&(this.notifyListeners(n,null),r.push(n));return r}notifyListeners(t,r){this.localCache[t]=r;const a=this.listeners[t];if(a)for(const n of Array.from(a))n(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r1.type="LOCAL";const o7=r1;new Zc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(s,t){return t?Da(t):(dt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends Rg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return go(t,this._buildIdpRequest())}_linkToIdToken(t,r){return go(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return go(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function c7(s){return K3(s.auth,new zg(s),s.bypassAuthState)}function d7(s){const{auth:t,user:r}=s;return dt(r,t,"internal-error"),zM(r,new zg(s),s.bypassAuthState)}async function u7(s){const{auth:t,user:r}=s;return dt(r,t,"internal-error"),VM(r,new zg(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,r,a,n,l=!1){this.auth=t,this.resolver=a,this.user=n,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:a,postBody:n,tenantId:l,error:o,type:c}=t;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:r,sessionId:a,tenantId:l||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return c7;case"linkViaPopup":case"linkViaRedirect":return u7;case"reauthViaPopup":case"reauthViaRedirect":return d7;default:ta(this.auth,"internal-error")}}resolve(t){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=new Zc(2e3,1e4);class to extends a1{constructor(t,r,a,n,l){super(t,r,n,l),this.provider=a,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return dt(t,this.auth,"internal-error"),t}async onExecution(){qa(this.filter.length===1,"Popup operations only handle one event");const t=Vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ma(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,a;if(!((a=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ma(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,m7.get())};t()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7="pendingRedirect",ju=new Map;class h7 extends a1{constructor(t,r,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let t=ju.get(this.auth._key());if(!t){try{const a=await p7(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(r){t=()=>Promise.reject(r)}ju.set(this.auth._key(),t)}return this.bypassAuthState||ju.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p7(s,t){const r=y7(t),a=g7(s);if(!await a._isAvailable())return!1;const n=await a._get(r)==="true";return await a._remove(r),n}function f7(s,t){ju.set(s._key(),t)}function g7(s){return Da(s._redirectPersistence)}function y7(s){return vu(x7,s.config.apiKey,s.name)}async function b7(s,t,r=!1){if(vr(s.app))return Promise.reject(Ma(s));const a=Di(s),n=l7(a,t),o=await new h7(a,n,r).execute();return o&&!r&&(delete o.user._redirectEventId,await a._persistUserIfCurrent(o.user),await a._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=10*60*1e3;class j7{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(r=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!N7(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var a;if(t.error&&!n1(t)){const n=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";r.onError(ma(this.auth,n))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const a=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=v7&&this.cachedEventUids.clear(),this.cachedEventUids.has(tN(t))}saveEventToCache(t){this.cachedEventUids.add(tN(t)),this.lastProcessedEventTime=Date.now()}}function tN(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function n1({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function N7(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n1(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(s,t={}){return Na(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,S7=/^https?/;async function C7(s){if(s.config.emulator)return;const{authorizedDomains:t}=await w7(s);for(const r of t)try{if(E7(r))return}catch{}ta(s,"unauthorized-domain")}function E7(s){const t=ym(),{protocol:r,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const o=new URL(s);return o.hostname===""&&a===""?r==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===a}if(!S7.test(r))return!1;if(k7.test(s))return a===s;const n=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+n+"|"+n+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=new Zc(3e4,6e4);function sN(){const s=xa().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let r=0;r<s.CP.length;r++)s.CP[r]=null}}function P7(s){return new Promise((t,r)=>{var a,n,l;function o(){sN(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sN(),r(ma(s,"network-request-failed"))},timeout:I7.get()})}if(!((n=(a=xa().gapi)===null||a===void 0?void 0:a.iframes)===null||n===void 0)&&n.Iframe)t(gapi.iframes.getContext());else if(!((l=xa().gapi)===null||l===void 0)&&l.load)o();else{const c=yM("iframefcb");return xa()[c]=()=>{gapi.load?o():r(ma(s,"network-request-failed"))},$3(`${gM()}?onload=${c}`).catch(d=>r(d))}}).catch(t=>{throw Nu=null,t})}let Nu=null;function T7(s){return Nu=Nu||P7(s),Nu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=new Zc(5e3,15e3),D7="__/auth/iframe",A7="emulator/auth/iframe",R7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O7(s){const t=s.config;dt(t.authDomain,s,"auth-domain-config-required");const r=t.emulator?_g(t,A7):`https://${s.config.authDomain}/${D7}`,a={apiKey:t.apiKey,appName:s.name,v:Pi},n=M7.get(s.config.apiHost);n&&(a.eid=n);const l=s._getFrameworks();return l.length&&(a.fw=l.join(",")),`${r}?${Uc(a).slice(1)}`}async function V7(s){const t=await T7(s),r=xa().gapi;return dt(r,s,"internal-error"),t.open({where:document.body,url:O7(s),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R7,dontclear:!0},a=>new Promise(async(n,l)=>{await a.restyle({setHideOnLeave:!1});const o=ma(s,"network-request-failed"),c=xa().setTimeout(()=>{l(o)},_7.get());function d(){xa().clearTimeout(c),n(a)}a.ping(d).then(d,()=>{l(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L7=500,B7=600,F7="_blank",U7="http://localhost";class rN{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $7(s,t,r,a=L7,n=B7){const l=Math.max((window.screen.availHeight-n)/2,0).toString(),o=Math.max((window.screen.availWidth-a)/2,0).toString();let c="";const d=Object.assign(Object.assign({},z7),{width:a.toString(),height:n.toString(),top:l,left:o}),m=Ys().toLowerCase();r&&(c=O3(m)?F7:r),R3(m)&&(t=t||U7,d.scrollbars="yes");const p=Object.entries(d).reduce((k,[I,h])=>`${k}${I}=${h},`,"");if(lM(m)&&c!=="_self")return q7(t||"",c),new rN(null);const N=window.open(t||"",c,p);dt(N,s,"popup-blocked");try{N.focus()}catch{}return new rN(N)}function q7(s,t){const r=document.createElement("a");r.href=s,r.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7="__/auth/handler",G7="emulator/auth/handler",H7=encodeURIComponent("fac");async function aN(s,t,r,a,n,l){dt(s.config.authDomain,s,"auth-domain-config-required"),dt(s.config.apiKey,s,"invalid-api-key");const o={apiKey:s.config.apiKey,appName:s.name,authType:r,redirectUrl:a,v:Pi,eventId:n};if(t instanceof G3){t.setDefaultLanguage(s.languageCode),o.providerId=t.providerId||"",ZT(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,N]of Object.entries(l||{}))o[p]=N}if(t instanceof td){const p=t.getScopes().filter(N=>N!=="");p.length>0&&(o.scopes=p.join(","))}s.tenantId&&(o.tid=s.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await s._getAppCheckToken(),m=d?`#${H7}=${encodeURIComponent(d)}`:"";return`${K7(s)}?${Uc(c).slice(1)}${m}`}function K7({config:s}){return s.emulator?_g(s,G7):`https://${s.authDomain}/${W7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="webStorageSupport";class Q7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z3,this._completeRedirectFn=b7,this._overrideRedirectResult=f7}async _openPopup(t,r,a,n){var l;qa((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const o=await aN(t,r,a,ym(),n);return $7(t,o,Vg())}async _openRedirect(t,r,a,n){await this._originValidation(t);const l=await aN(t,r,a,ym(),n);return JM(l),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:n,promise:l}=this.eventManagers[r];return n?Promise.resolve(n):(qa(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(t);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(t){const r=await V7(t),a=new j7(t);return r.register("authEvent",n=>(dt(n==null?void 0:n.authEvent,t,"invalid-auth-event"),{status:a.onEvent(n.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=r,a}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(Sh,{type:Sh},n=>{var l;const o=(l=n==null?void 0:n[0])===null||l===void 0?void 0:l[Sh];o!==void 0&&r(!!o),ta(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=C7(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return F3()||M3()||Ag()}}const Y7=Q7;var nN="@firebase/auth",iN="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z7(s){Zr(new Lr("auth",(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=a.options;dt(o&&!o.includes(":"),"invalid-api-key",{appName:a.name});const d={apiKey:o,authDomain:c,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U3(s)},m=new hM(a,n,l,d);return kM(m,r),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,a)=>{t.getProvider("auth-internal").initialize()})),Zr(new Lr("auth-internal",t=>{const r=Di(t.getProvider("auth").getImmediate());return(a=>new X7(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(nN,iN,J7(s)),pr(nN,iN,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=5*60,tO=m4("authIdTokenMaxAge")||eO;let oN=null;const sO=s=>async t=>{const r=t&&await t.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>tO)return;const n=r==null?void 0:r.token;oN!==n&&(oN=n,await fetch(s,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))};function Lg(s=Xm()){const t=Un(s,"auth");if(t.isInitialized())return t.getImmediate();const r=wM(s,{popupRedirectResolver:Y7,persistence:[o7,QM,Z3]}),a=m4("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const o=sO(l.toString());GM(r,o,()=>o(r.currentUser)),WM(r,c=>o(c))}}const n=c4("auth");return n&&SM(r,`http://${n}`),r}function rO(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}pM({loadJS(s){return new Promise((t,r)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=n=>{const l=ma("internal-error");l.customData=n,r(l)},a.type="text/javascript",a.charset="UTF-8",rO().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z7("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="firebasestorage.googleapis.com",aO="storageBucket",nO=2*60*1e3,iO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Br{constructor(t,r,a=0){super(Ch(t),`Firebase Storage: ${r} (${Ch(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wa.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ch(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var va;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(va||(va={}));function Ch(s){return"storage/"+s}function oO(){const s="An unknown error occurred, please check the error payload for server response.";return new wa(va.UNKNOWN,s)}function lO(){return new wa(va.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cO(){return new wa(va.CANCELED,"User canceled the upload/download.")}function dO(s){return new wa(va.INVALID_URL,"Invalid URL '"+s+"'.")}function uO(s){return new wa(va.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function lN(s){return new wa(va.INVALID_ARGUMENT,s)}function o1(){return new wa(va.APP_DELETED,"The Firebase app was deleted.")}function mO(s){return new wa(va.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let a;try{a=Qr.makeFromUrl(t,r)}catch{return new Qr(t,"")}if(a.path==="")return a;throw uO(t)}static makeFromUrl(t,r){let a=null;const n="([A-Za-z0-9.\\-_]+)";function l(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+n+o,"i"),d={bucket:1,path:3};function m(W){W.path_=decodeURIComponent(W.path)}const p="v[A-Za-z0-9_]+",N=r.replace(/[.]/g,"\\."),k="(/([^?#]*).*)?$",I=new RegExp(`^https?://${N}/${p}/b/${n}/o${k}`,"i"),h={bucket:1,path:3},V=r===i1?"(?:storage.googleapis.com|storage.cloud.google.com)":r,w="([^?#]*)",C=new RegExp(`^https?://${V}/${n}/${w}`,"i"),T=[{regex:c,indices:d,postModify:l},{regex:I,indices:h,postModify:m},{regex:C,indices:{bucket:1,path:2},postModify:m}];for(let W=0;W<T.length;W++){const $=T[W],U=$.regex.exec(t);if(U){const A=U[$.indices.bucket];let u=U[$.indices.path];u||(u=""),a=new Qr(A,u),$.postModify(a);break}}if(a==null)throw dO(t);return a}}class xO{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(s,t,r){let a=1,n=null,l=null,o=!1,c=0;function d(){return c===2}let m=!1;function p(...w){m||(m=!0,t.apply(null,w))}function N(w){n=setTimeout(()=>{n=null,s(I,d())},w)}function k(){l&&clearTimeout(l)}function I(w,...C){if(m){k();return}if(w){k(),p.call(null,w,...C);return}if(d()||o){k(),p.call(null,w,...C);return}a<64&&(a*=2);let T;c===1?(c=2,T=0):T=(a+Math.random())*1e3,N(T)}let h=!1;function V(w){h||(h=!0,k(),!m&&(n!==null?(w||(c=2),clearTimeout(n),N(0)):w||(c=1)))}return N(0),l=setTimeout(()=>{o=!0,V(!0)},r),V}function pO(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(s){return s!==void 0}function cN(s,t,r,a){if(a<t)throw lN(`Invalid value for '${s}'. Expected ${t} or greater.`);if(a>r)throw lN(`Invalid value for '${s}'. Expected ${r} or less.`)}function gO(s){const t=encodeURIComponent;let r="?";for(const a in s)if(s.hasOwnProperty(a)){const n=t(a)+"="+t(s[a]);r=r+n+"&"}return r=r.slice(0,-1),r}var km;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(km||(km={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(s,t){const r=s>=500&&s<600,n=[408,429].indexOf(s)!==-1,l=t.indexOf(s)!==-1;return r||n||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t,r,a,n,l,o,c,d,m,p,N,k=!0){this.url_=t,this.method_=r,this.headers_=a,this.body_=n,this.successCodes_=l,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=p,this.connectionFactory_=N,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,h)=>{this.resolve_=I,this.reject_=h,this.start_()})}start_(){const t=(a,n)=>{if(n){a(!1,new Gd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const o=c=>{const d=c.loaded,m=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(o),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(o),this.pendingConnection_=null;const c=l.getErrorCode()===km.NO_ERROR,d=l.getStatus();if(!c||yO(d,this.additionalRetryCodes_)&&this.retry){const p=l.getErrorCode()===km.ABORT;a(!1,new Gd(!1,null,p));return}const m=this.successCodes_.indexOf(d)!==-1;a(!0,new Gd(m,l))})},r=(a,n)=>{const l=this.resolve_,o=this.reject_,c=n.connection;if(n.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());fO(d)?l(d):l()}catch(d){o(d)}else if(c!==null){const d=oO();d.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,d)):o(d)}else if(n.canceled){const d=this.appDelete_?o1():cO();o(d)}else{const d=lO();o(d)}};this.canceled_?r(!1,new Gd(!1,null,!0)):this.backoffId_=hO(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&pO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gd{constructor(t,r,a){this.wasSuccessCode=t,this.connection=r,this.canceled=!!a}}function vO(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function jO(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function NO(s,t){t&&(s["X-Firebase-GMPID"]=t)}function wO(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function kO(s,t,r,a,n,l,o=!0){const c=gO(s.urlParams),d=s.url+c,m=Object.assign({},s.headers);return NO(m,t),vO(m,r),jO(m,l),wO(m,a),new bO(d,s.method,m,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function CO(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,r){this._service=t,r instanceof Qr?this._location=r:this._location=Qr.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Sm(t,r)}get root(){const t=new Qr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CO(this._location.path)}get storage(){return this._service}get parent(){const t=SO(this._location.path);if(t===null)return null;const r=new Qr(this._location.bucket,t);return new Sm(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw mO(t)}}function dN(s,t){const r=t==null?void 0:t[aO];return r==null?null:Qr.makeFromBucketSpec(r,s)}function EO(s,t,r,a={}){s.host=`${t}:${r}`,s._protocol="http";const{mockUserToken:n}=a;n&&(s._overrideAuthToken=typeof n=="string"?n:x4(n,s.app.options.projectId))}class IO{constructor(t,r,a,n,l){this.app=t,this._authProvider=r,this._appCheckProvider=a,this._url=n,this._firebaseVersion=l,this._bucket=null,this._host=i1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nO,this._maxUploadRetryTime=iO,this._requests=new Set,n!=null?this._bucket=Qr.makeFromBucketSpec(n,this._host):this._bucket=dN(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Qr.makeFromBucketSpec(this._url,t):this._bucket=dN(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){cN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){cN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Sm(this,t)}_makeRequest(t,r,a,n,l=!0){if(this._deleted)return new xO(o1());{const o=kO(t,this._appId,a,n,r,this._firebaseVersion,l);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,r){const[a,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,a,n).getPromise()}}const uN="@firebase/storage",mN="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="storage";function PO(s=Xm(),t){s=Qt(s);const a=Un(s,l1).getImmediate({identifier:t}),n=d4("storage");return n&&TO(a,...n),a}function TO(s,t,r,a={}){EO(s,t,r,a)}function _O(s,{instanceIdentifier:t}){const r=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),n=s.getProvider("app-check-internal");return new IO(r,a,n,t,Pi)}function DO(){Zr(new Lr(l1,_O,"PUBLIC").setMultipleInstances(!0)),pr(uN,mN,""),pr(uN,mN,"esm2017")}DO();const AO={apiKey:"AIzaSyDYacL_WIzZUSP-Tjl3794P_jHocMDqN9g",authDomain:"blackkstreaming-55f0e.firebaseapp.com",projectId:"blackkstreaming-55f0e",storageBucket:"blackkstreaming-55f0e.firebasestorage.app",messagingSenderId:"998157647233",appId:"1:998157647233:web:3e5b8128a0275ae4553c80",measurementId:"G-GFM50WNMSP"},rd=v4(AO);LR(rd);const P=lA(rd);PO(rd);const ze=Lg(rd),Bg=v.createContext({});function Fg(s){const t=v.useRef(null);return t.current===null&&(t.current=s()),t.current}const Ug=typeof window<"u",c1=Ug?v.useLayoutEffect:v.useEffect,Nx=v.createContext(null);function $g(s,t){s.indexOf(t)===-1&&s.push(t)}function qg(s,t){const r=s.indexOf(t);r>-1&&s.splice(r,1)}const Wa=(s,t,r)=>r>t?t:r<s?s:r;let Wg=()=>{};const Ga={},d1=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s);function u1(s){return typeof s=="object"&&s!==null}const m1=s=>/^0[^.\s]+$/u.test(s);function Gg(s){let t;return()=>(t===void 0&&(t=s()),t)}const Or=s=>s,RO=(s,t)=>r=>t(s(r)),ad=(...s)=>s.reduce(RO),kc=(s,t,r)=>{const a=t-s;return a===0?1:(r-s)/a};class Hg{constructor(){this.subscriptions=[]}add(t){return $g(this.subscriptions,t),()=>qg(this.subscriptions,t)}notify(t,r,a){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,r,a);else for(let l=0;l<n;l++){const o=this.subscriptions[l];o&&o(t,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ha=s=>s*1e3,pa=s=>s/1e3;function x1(s,t){return t?s*(1e3/t):0}const h1=(s,t,r)=>(((1-3*r+3*t)*s+(3*r-6*t))*s+3*t)*s,MO=1e-7,OO=12;function VO(s,t,r,a,n){let l,o,c=0;do o=t+(r-t)/2,l=h1(o,a,n)-s,l>0?r=o:t=o;while(Math.abs(l)>MO&&++c<OO);return o}function nd(s,t,r,a){if(s===t&&r===a)return Or;const n=l=>VO(l,0,1,s,r);return l=>l===0||l===1?l:h1(n(l),t,a)}const p1=s=>t=>t<=.5?s(2*t)/2:(2-s(2*(1-t)))/2,f1=s=>t=>1-s(1-t),g1=nd(.33,1.53,.69,.99),Kg=f1(g1),y1=p1(Kg),b1=s=>(s*=2)<1?.5*Kg(s):.5*(2-Math.pow(2,-10*(s-1))),Qg=s=>1-Math.sin(Math.acos(s)),v1=f1(Qg),j1=p1(Qg),zO=nd(.42,0,1,1),LO=nd(0,0,.58,1),N1=nd(.42,0,.58,1),BO=s=>Array.isArray(s)&&typeof s[0]!="number",w1=s=>Array.isArray(s)&&typeof s[0]=="number",FO={linear:Or,easeIn:zO,easeInOut:N1,easeOut:LO,circIn:Qg,circInOut:j1,circOut:v1,backIn:Kg,backInOut:y1,backOut:g1,anticipate:b1},UO=s=>typeof s=="string",xN=s=>{if(w1(s)){Wg(s.length===4);const[t,r,a,n]=s;return nd(t,r,a,n)}else if(UO(s))return FO[s];return s},Hd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],hN={value:null,addProjectionMetrics:null};function $O(s,t){let r=new Set,a=new Set,n=!1,l=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function m(N){o.has(N)&&(p.schedule(N),s()),d++,N(c)}const p={schedule:(N,k=!1,I=!1)=>{const V=I&&n?r:a;return k&&o.add(N),V.has(N)||V.add(N),N},cancel:N=>{a.delete(N),o.delete(N)},process:N=>{if(c=N,n){l=!0;return}n=!0,[r,a]=[a,r],r.forEach(m),t&&hN.value&&hN.value.frameloop[t].push(d),d=0,r.clear(),n=!1,l&&(l=!1,p.process(N))}};return p}const qO=40;function k1(s,t){let r=!1,a=!0;const n={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,o=Hd.reduce((T,W)=>(T[W]=$O(l,t?W:void 0),T),{}),{setup:c,read:d,resolveKeyframes:m,preUpdate:p,update:N,preRender:k,render:I,postRender:h}=o,V=()=>{const T=Ga.useManualTiming?n.timestamp:performance.now();r=!1,Ga.useManualTiming||(n.delta=a?1e3/60:Math.max(Math.min(T-n.timestamp,qO),1)),n.timestamp=T,n.isProcessing=!0,c.process(n),d.process(n),m.process(n),p.process(n),N.process(n),k.process(n),I.process(n),h.process(n),n.isProcessing=!1,r&&t&&(a=!1,s(V))},w=()=>{r=!0,a=!0,n.isProcessing||s(V)};return{schedule:Hd.reduce((T,W)=>{const $=o[W];return T[W]=(U,A=!1,u=!1)=>(r||w(),$.schedule(U,A,u)),T},{}),cancel:T=>{for(let W=0;W<Hd.length;W++)o[Hd[W]].cancel(T)},state:n,steps:o}}const{schedule:os,cancel:Vn,state:Ds,steps:Eh}=k1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Or,!0);let wu;function WO(){wu=void 0}const ur={now:()=>(wu===void 0&&ur.set(Ds.isProcessing||Ga.useManualTiming?Ds.timestamp:performance.now()),wu),set:s=>{wu=s,queueMicrotask(WO)}},S1=s=>t=>typeof t=="string"&&t.startsWith(s),Yg=S1("--"),GO=S1("var(--"),Xg=s=>GO(s)?HO.test(s.split("/*")[0].trim()):!1,HO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wo={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},Sc={...Wo,transform:s=>Wa(0,1,s)},Kd={...Wo,default:1},Fl=s=>Math.round(s*1e5)/1e5,Jg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KO(s){return s==null}const QO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zg=(s,t)=>r=>!!(typeof r=="string"&&QO.test(r)&&r.startsWith(s)||t&&!KO(r)&&Object.prototype.hasOwnProperty.call(r,t)),C1=(s,t,r)=>a=>{if(typeof a!="string")return a;const[n,l,o,c]=a.match(Jg);return{[s]:parseFloat(n),[t]:parseFloat(l),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},YO=s=>Wa(0,255,s),Ih={...Wo,transform:s=>Math.round(YO(s))},ii={test:Zg("rgb","red"),parse:C1("red","green","blue"),transform:({red:s,green:t,blue:r,alpha:a=1})=>"rgba("+Ih.transform(s)+", "+Ih.transform(t)+", "+Ih.transform(r)+", "+Fl(Sc.transform(a))+")"};function XO(s){let t="",r="",a="",n="";return s.length>5?(t=s.substring(1,3),r=s.substring(3,5),a=s.substring(5,7),n=s.substring(7,9)):(t=s.substring(1,2),r=s.substring(2,3),a=s.substring(3,4),n=s.substring(4,5),t+=t,r+=r,a+=a,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:n?parseInt(n,16)/255:1}}const lp={test:Zg("#"),parse:XO,transform:ii.transform},id=s=>({test:t=>typeof t=="string"&&t.endsWith(s)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${s}`}),sn=id("deg"),fa=id("%"),mt=id("px"),JO=id("vh"),ZO=id("vw"),pN=(()=>({...fa,parse:s=>fa.parse(s)/100,transform:s=>fa.transform(s*100)}))(),so={test:Zg("hsl","hue"),parse:C1("hue","saturation","lightness"),transform:({hue:s,saturation:t,lightness:r,alpha:a=1})=>"hsla("+Math.round(s)+", "+fa.transform(Fl(t))+", "+fa.transform(Fl(r))+", "+Fl(Sc.transform(a))+")"},Ws={test:s=>ii.test(s)||lp.test(s)||so.test(s),parse:s=>ii.test(s)?ii.parse(s):so.test(s)?so.parse(s):lp.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?ii.transform(s):so.transform(s)},eV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function tV(s){var t,r;return isNaN(s)&&typeof s=="string"&&(((t=s.match(Jg))==null?void 0:t.length)||0)+(((r=s.match(eV))==null?void 0:r.length)||0)>0}const E1="number",I1="color",sV="var",rV="var(",fN="${}",aV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cc(s){const t=s.toString(),r=[],a={color:[],number:[],var:[]},n=[];let l=0;const c=t.replace(aV,d=>(Ws.test(d)?(a.color.push(l),n.push(I1),r.push(Ws.parse(d))):d.startsWith(rV)?(a.var.push(l),n.push(sV),r.push(d)):(a.number.push(l),n.push(E1),r.push(parseFloat(d))),++l,fN)).split(fN);return{values:r,split:c,indexes:a,types:n}}function P1(s){return Cc(s).values}function T1(s){const{split:t,types:r}=Cc(s),a=t.length;return n=>{let l="";for(let o=0;o<a;o++)if(l+=t[o],n[o]!==void 0){const c=r[o];c===E1?l+=Fl(n[o]):c===I1?l+=Ws.transform(n[o]):l+=n[o]}return l}}const nV=s=>typeof s=="number"?0:s;function iV(s){const t=P1(s);return T1(s)(t.map(nV))}const zn={test:tV,parse:P1,createTransformer:T1,getAnimatableNone:iV};function Ph(s,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?s+(t-s)*6*r:r<1/2?t:r<2/3?s+(t-s)*(2/3-r)*6:s}function oV({hue:s,saturation:t,lightness:r,alpha:a}){s/=360,t/=100,r/=100;let n=0,l=0,o=0;if(!t)n=l=o=r;else{const c=r<.5?r*(1+t):r+t-r*t,d=2*r-c;n=Ph(d,c,s+1/3),l=Ph(d,c,s),o=Ph(d,c,s-1/3)}return{red:Math.round(n*255),green:Math.round(l*255),blue:Math.round(o*255),alpha:a}}function Cm(s,t){return r=>r>0?t:s}const rs=(s,t,r)=>s+(t-s)*r,Th=(s,t,r)=>{const a=s*s,n=r*(t*t-a)+a;return n<0?0:Math.sqrt(n)},lV=[lp,ii,so],cV=s=>lV.find(t=>t.test(s));function gN(s){const t=cV(s);if(!t)return!1;let r=t.parse(s);return t===so&&(r=oV(r)),r}const yN=(s,t)=>{const r=gN(s),a=gN(t);if(!r||!a)return Cm(s,t);const n={...r};return l=>(n.red=Th(r.red,a.red,l),n.green=Th(r.green,a.green,l),n.blue=Th(r.blue,a.blue,l),n.alpha=rs(r.alpha,a.alpha,l),ii.transform(n))},cp=new Set(["none","hidden"]);function dV(s,t){return cp.has(s)?r=>r<=0?s:t:r=>r>=1?t:s}function uV(s,t){return r=>rs(s,t,r)}function ey(s){return typeof s=="number"?uV:typeof s=="string"?Xg(s)?Cm:Ws.test(s)?yN:hV:Array.isArray(s)?_1:typeof s=="object"?Ws.test(s)?yN:mV:Cm}function _1(s,t){const r=[...s],a=r.length,n=s.map((l,o)=>ey(l)(l,t[o]));return l=>{for(let o=0;o<a;o++)r[o]=n[o](l);return r}}function mV(s,t){const r={...s,...t},a={};for(const n in r)s[n]!==void 0&&t[n]!==void 0&&(a[n]=ey(s[n])(s[n],t[n]));return n=>{for(const l in a)r[l]=a[l](n);return r}}function xV(s,t){const r=[],a={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const l=t.types[n],o=s.indexes[l][a[l]],c=s.values[o]??0;r[n]=c,a[l]++}return r}const hV=(s,t)=>{const r=zn.createTransformer(t),a=Cc(s),n=Cc(t);return a.indexes.var.length===n.indexes.var.length&&a.indexes.color.length===n.indexes.color.length&&a.indexes.number.length>=n.indexes.number.length?cp.has(s)&&!n.values.length||cp.has(t)&&!a.values.length?dV(s,t):ad(_1(xV(a,n),n.values),r):Cm(s,t)};function D1(s,t,r){return typeof s=="number"&&typeof t=="number"&&typeof r=="number"?rs(s,t,r):ey(s)(s,t)}const pV=s=>{const t=({timestamp:r})=>s(r);return{start:(r=!0)=>os.update(t,r),stop:()=>Vn(t),now:()=>Ds.isProcessing?Ds.timestamp:ur.now()}},A1=(s,t,r=10)=>{let a="";const n=Math.max(Math.round(t/r),2);for(let l=0;l<n;l++)a+=s(l/(n-1))+", ";return`linear(${a.substring(0,a.length-2)})`},Em=2e4;function ty(s){let t=0;const r=50;let a=s.next(t);for(;!a.done&&t<Em;)t+=r,a=s.next(t);return t>=Em?1/0:t}function fV(s,t=100,r){const a=r({...s,keyframes:[0,t]}),n=Math.min(ty(a),Em);return{type:"keyframes",ease:l=>a.next(n*l).value/t,duration:pa(n)}}const gV=5;function R1(s,t,r){const a=Math.max(t-gV,0);return x1(r-s(a),t-a)}const us={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_h=.001;function yV({duration:s=us.duration,bounce:t=us.bounce,velocity:r=us.velocity,mass:a=us.mass}){let n,l,o=1-t;o=Wa(us.minDamping,us.maxDamping,o),s=Wa(us.minDuration,us.maxDuration,pa(s)),o<1?(n=m=>{const p=m*o,N=p*s,k=p-r,I=dp(m,o),h=Math.exp(-N);return _h-k/I*h},l=m=>{const N=m*o*s,k=N*r+r,I=Math.pow(o,2)*Math.pow(m,2)*s,h=Math.exp(-N),V=dp(Math.pow(m,2),o);return(-n(m)+_h>0?-1:1)*((k-I)*h)/V}):(n=m=>{const p=Math.exp(-m*s),N=(m-r)*s+1;return-_h+p*N},l=m=>{const p=Math.exp(-m*s),N=(r-m)*(s*s);return p*N});const c=5/s,d=vV(n,l,c);if(s=ha(s),isNaN(d))return{stiffness:us.stiffness,damping:us.damping,duration:s};{const m=Math.pow(d,2)*a;return{stiffness:m,damping:o*2*Math.sqrt(a*m),duration:s}}}const bV=12;function vV(s,t,r){let a=r;for(let n=1;n<bV;n++)a=a-s(a)/t(a);return a}function dp(s,t){return s*Math.sqrt(1-t*t)}const jV=["duration","bounce"],NV=["stiffness","damping","mass"];function bN(s,t){return t.some(r=>s[r]!==void 0)}function wV(s){let t={velocity:us.velocity,stiffness:us.stiffness,damping:us.damping,mass:us.mass,isResolvedFromDuration:!1,...s};if(!bN(s,NV)&&bN(s,jV))if(s.visualDuration){const r=s.visualDuration,a=2*Math.PI/(r*1.2),n=a*a,l=2*Wa(.05,1,1-(s.bounce||0))*Math.sqrt(n);t={...t,mass:us.mass,stiffness:n,damping:l}}else{const r=yV(s);t={...t,...r,mass:us.mass},t.isResolvedFromDuration=!0}return t}function Im(s=us.visualDuration,t=us.bounce){const r=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:t}:s;let{restSpeed:a,restDelta:n}=r;const l=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:l},{stiffness:d,damping:m,mass:p,duration:N,velocity:k,isResolvedFromDuration:I}=wV({...r,velocity:-pa(r.velocity||0)}),h=k||0,V=m/(2*Math.sqrt(d*p)),w=o-l,C=pa(Math.sqrt(d/p)),z=Math.abs(w)<5;a||(a=z?us.restSpeed.granular:us.restSpeed.default),n||(n=z?us.restDelta.granular:us.restDelta.default);let T;if(V<1){const $=dp(C,V);T=U=>{const A=Math.exp(-V*C*U);return o-A*((h+V*C*w)/$*Math.sin($*U)+w*Math.cos($*U))}}else if(V===1)T=$=>o-Math.exp(-C*$)*(w+(h+C*w)*$);else{const $=C*Math.sqrt(V*V-1);T=U=>{const A=Math.exp(-V*C*U),u=Math.min($*U,300);return o-A*((h+V*C*w)*Math.sinh(u)+$*w*Math.cosh(u))/$}}const W={calculatedDuration:I&&N||null,next:$=>{const U=T($);if(I)c.done=$>=N;else{let A=$===0?h:0;V<1&&(A=$===0?ha(h):R1(T,$,U));const u=Math.abs(A)<=a,F=Math.abs(o-U)<=n;c.done=u&&F}return c.value=c.done?o:U,c},toString:()=>{const $=Math.min(ty(W),Em),U=A1(A=>W.next($*A).value,$,30);return $+"ms "+U},toTransition:()=>{}};return W}Im.applyToOptions=s=>{const t=fV(s,100,Im);return s.ease=t.ease,s.duration=ha(t.duration),s.type="keyframes",s};function up({keyframes:s,velocity:t=0,power:r=.8,timeConstant:a=325,bounceDamping:n=10,bounceStiffness:l=500,modifyTarget:o,min:c,max:d,restDelta:m=.5,restSpeed:p}){const N=s[0],k={done:!1,value:N},I=u=>c!==void 0&&u<c||d!==void 0&&u>d,h=u=>c===void 0?d:d===void 0||Math.abs(c-u)<Math.abs(d-u)?c:d;let V=r*t;const w=N+V,C=o===void 0?w:o(w);C!==w&&(V=C-N);const z=u=>-V*Math.exp(-u/a),T=u=>C+z(u),W=u=>{const F=z(u),B=T(u);k.done=Math.abs(F)<=m,k.value=k.done?C:B};let $,U;const A=u=>{I(k.value)&&($=u,U=Im({keyframes:[k.value,h(k.value)],velocity:R1(T,u,k.value),damping:n,stiffness:l,restDelta:m,restSpeed:p}))};return A(0),{calculatedDuration:null,next:u=>{let F=!1;return!U&&$===void 0&&(F=!0,W(u),A(u)),$!==void 0&&u>=$?U.next(u-$):(!F&&W(u),k)}}}function kV(s,t,r){const a=[],n=r||Ga.mix||D1,l=s.length-1;for(let o=0;o<l;o++){let c=n(s[o],s[o+1]);if(t){const d=Array.isArray(t)?t[o]||Or:t;c=ad(d,c)}a.push(c)}return a}function SV(s,t,{clamp:r=!0,ease:a,mixer:n}={}){const l=s.length;if(Wg(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const o=s[0]===s[1];s[0]>s[l-1]&&(s=[...s].reverse(),t=[...t].reverse());const c=kV(t,a,n),d=c.length,m=p=>{if(o&&p<s[0])return t[0];let N=0;if(d>1)for(;N<s.length-2&&!(p<s[N+1]);N++);const k=kc(s[N],s[N+1],p);return c[N](k)};return r?p=>m(Wa(s[0],s[l-1],p)):m}function CV(s,t){const r=s[s.length-1];for(let a=1;a<=t;a++){const n=kc(0,t,a);s.push(rs(r,1,n))}}function EV(s){const t=[0];return CV(t,s.length-1),t}function IV(s,t){return s.map(r=>r*t)}function PV(s,t){return s.map(()=>t||N1).splice(0,s.length-1)}function Ul({duration:s=300,keyframes:t,times:r,ease:a="easeInOut"}){const n=BO(a)?a.map(xN):xN(a),l={done:!1,value:t[0]},o=IV(r&&r.length===t.length?r:EV(t),s),c=SV(o,t,{ease:Array.isArray(n)?n:PV(t,n)});return{calculatedDuration:s,next:d=>(l.value=c(d),l.done=d>=s,l)}}const TV=s=>s!==null;function sy(s,{repeat:t,repeatType:r="loop"},a,n=1){const l=s.filter(TV),c=n<0||t&&r!=="loop"&&t%2===1?0:l.length-1;return!c||a===void 0?l[c]:a}const _V={decay:up,inertia:up,tween:Ul,keyframes:Ul,spring:Im};function M1(s){typeof s.type=="string"&&(s.type=_V[s.type])}class ry{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const DV=s=>s/100;class ay extends ry{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var a,n;if(r){const{motionValue:l}=this.options;l&&l.updatedAt!==ur.now()&&this.tick(ur.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(a=this.options).onStop)==null||n.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;M1(t);const{type:r=Ul,repeat:a=0,repeatDelay:n=0,repeatType:l,velocity:o=0}=t;let{keyframes:c}=t;const d=r||Ul;d!==Ul&&typeof c[0]!="number"&&(this.mixKeyframes=ad(DV,D1(c[0],c[1])),c=[0,100]);const m=d({...t,keyframes:c});l==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=ty(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+n,this.totalDuration=this.resolvedDuration*(a+1)-n,this.generator=m}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:a,totalDuration:n,mixKeyframes:l,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return a.next(0);const{delay:m=0,keyframes:p,repeat:N,repeatType:k,repeatDelay:I,type:h,onUpdate:V,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const C=this.currentTime-m*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?C<0:C>n;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let T=this.currentTime,W=a;if(N){const u=Math.min(this.currentTime,n)/c;let F=Math.floor(u),B=u%1;!B&&u>=1&&(B=1),B===1&&F--,F=Math.min(F,N+1),!!(F%2)&&(k==="reverse"?(B=1-B,I&&(B-=I/c)):k==="mirror"&&(W=o)),T=Wa(0,1,B)*c}const $=z?{done:!1,value:p[0]}:W.next(T);l&&($.value=l($.value));let{done:U}=$;!z&&d!==null&&(U=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return A&&h!==up&&($.value=sy(p,this.options,w,this.speed)),V&&V($.value),A&&this.finish(),$}then(t,r){return this.finished.then(t,r)}get duration(){return pa(this.calculatedDuration)}get time(){return pa(this.currentTime)}set time(t){var r;t=ha(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ur.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=pa(this.currentTime))}play(){var n,l;if(this.isStopped)return;const{driver:t=pV,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(l=(n=this.options).onPlay)==null||l.call(n);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ur.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function AV(s){for(let t=1;t<s.length;t++)s[t]??(s[t]=s[t-1])}const oi=s=>s*180/Math.PI,mp=s=>{const t=oi(Math.atan2(s[1],s[0]));return xp(t)},RV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:s=>(Math.abs(s[0])+Math.abs(s[3]))/2,rotate:mp,rotateZ:mp,skewX:s=>oi(Math.atan(s[1])),skewY:s=>oi(Math.atan(s[2])),skew:s=>(Math.abs(s[1])+Math.abs(s[2]))/2},xp=s=>(s=s%360,s<0&&(s+=360),s),vN=mp,jN=s=>Math.sqrt(s[0]*s[0]+s[1]*s[1]),NN=s=>Math.sqrt(s[4]*s[4]+s[5]*s[5]),MV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jN,scaleY:NN,scale:s=>(jN(s)+NN(s))/2,rotateX:s=>xp(oi(Math.atan2(s[6],s[5]))),rotateY:s=>xp(oi(Math.atan2(-s[2],s[0]))),rotateZ:vN,rotate:vN,skewX:s=>oi(Math.atan(s[4])),skewY:s=>oi(Math.atan(s[1])),skew:s=>(Math.abs(s[1])+Math.abs(s[4]))/2};function hp(s){return s.includes("scale")?1:0}function pp(s,t){if(!s||s==="none")return hp(t);const r=s.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,n;if(r)a=MV,n=r;else{const c=s.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=RV,n=c}if(!n)return hp(t);const l=a[t],o=n[1].split(",").map(VV);return typeof l=="function"?l(o):o[l]}const OV=(s,t)=>{const{transform:r="none"}=getComputedStyle(s);return pp(r,t)};function VV(s){return parseFloat(s.trim())}const Go=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ho=(()=>new Set(Go))(),wN=s=>s===Wo||s===mt,zV=new Set(["x","y","z"]),LV=Go.filter(s=>!zV.has(s));function BV(s){const t=[];return LV.forEach(r=>{const a=s.getValue(r);a!==void 0&&(t.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),t}const ui={width:({x:s},{paddingLeft:t="0",paddingRight:r="0"})=>s.max-s.min-parseFloat(t)-parseFloat(r),height:({y:s},{paddingTop:t="0",paddingBottom:r="0"})=>s.max-s.min-parseFloat(t)-parseFloat(r),top:(s,{top:t})=>parseFloat(t),left:(s,{left:t})=>parseFloat(t),bottom:({y:s},{top:t})=>parseFloat(t)+(s.max-s.min),right:({x:s},{left:t})=>parseFloat(t)+(s.max-s.min),x:(s,{transform:t})=>pp(t,"x"),y:(s,{transform:t})=>pp(t,"y")};ui.translateX=ui.x;ui.translateY=ui.y;const mi=new Set;let fp=!1,gp=!1,yp=!1;function O1(){if(gp){const s=Array.from(mi).filter(a=>a.needsMeasurement),t=new Set(s.map(a=>a.element)),r=new Map;t.forEach(a=>{const n=BV(a);n.length&&(r.set(a,n),a.render())}),s.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const n=r.get(a);n&&n.forEach(([l,o])=>{var c;(c=a.getValue(l))==null||c.set(o)})}),s.forEach(a=>a.measureEndState()),s.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}gp=!1,fp=!1,mi.forEach(s=>s.complete(yp)),mi.clear()}function V1(){mi.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(gp=!0)})}function FV(){yp=!0,V1(),O1(),yp=!1}class ny{constructor(t,r,a,n,l,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=a,this.motionValue=n,this.element=l,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(mi.add(this),fp||(fp=!0,os.read(V1),os.resolveKeyframes(O1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:a,motionValue:n}=this;if(t[0]===null){const l=n==null?void 0:n.get(),o=t[t.length-1];if(l!==void 0)t[0]=l;else if(a&&r){const c=a.readValue(r,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),n&&l===void 0&&n.set(t[0])}AV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),mi.delete(this)}cancel(){this.state==="scheduled"&&(mi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const UV=s=>s.startsWith("--");function $V(s,t,r){UV(t)?s.style.setProperty(t,r):s.style[t]=r}const qV=Gg(()=>window.ScrollTimeline!==void 0),WV={};function GV(s,t){const r=Gg(s);return()=>WV[t]??r()}const z1=GV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kl=([s,t,r,a])=>`cubic-bezier(${s}, ${t}, ${r}, ${a})`,kN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kl([0,.65,.55,1]),circOut:kl([.55,0,1,.45]),backIn:kl([.31,.01,.66,-.59]),backOut:kl([.33,1.53,.69,.99])};function L1(s,t){if(s)return typeof s=="function"?z1()?A1(s,t):"ease-out":w1(s)?kl(s):Array.isArray(s)?s.map(r=>L1(r,t)||kN.easeOut):kN[s]}function HV(s,t,r,{delay:a=0,duration:n=300,repeat:l=0,repeatType:o="loop",ease:c="easeOut",times:d}={},m=void 0){const p={[t]:r};d&&(p.offset=d);const N=L1(c,n);Array.isArray(N)&&(p.easing=N);const k={delay:a,duration:n,easing:Array.isArray(N)?"linear":N,fill:"both",iterations:l+1,direction:o==="reverse"?"alternate":"normal"};return m&&(k.pseudoElement=m),s.animate(p,k)}function B1(s){return typeof s=="function"&&"applyToOptions"in s}function KV({type:s,...t}){return B1(s)&&z1()?s.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class QV extends ry{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:a,keyframes:n,pseudoElement:l,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!l,this.allowFlatten=o,this.options=t,Wg(typeof t.type!="string");const m=KV(t);this.animation=HV(r,a,n,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=sy(n,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):$V(r,a,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,a;const t=((a=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:a.call(r).duration)||0;return pa(Number(t))}get time(){return pa(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ha(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&qV()?(this.animation.timeline=t,Or):r(this)}}const F1={anticipate:b1,backInOut:y1,circInOut:j1};function YV(s){return s in F1}function XV(s){typeof s.ease=="string"&&YV(s.ease)&&(s.ease=F1[s.ease])}const SN=10;class JV extends QV{constructor(t){XV(t),M1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:a,onComplete:n,element:l,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const c=new ay({...o,autoplay:!1}),d=ha(this.finishedTime??this.time);r.setWithVelocity(c.sample(d-SN).value,c.sample(d).value,SN),c.stop()}}const CN=(s,t)=>t==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(zn.test(s)||s==="0")&&!s.startsWith("url("));function ZV(s){const t=s[0];if(s.length===1)return!0;for(let r=0;r<s.length;r++)if(s[r]!==t)return!0}function e9(s,t,r,a){const n=s[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const l=s[s.length-1],o=CN(n,t),c=CN(l,t);return!o||!c?!1:ZV(s)||(r==="spring"||B1(r))&&a}function iy(s){return u1(s)&&"offsetHeight"in s}const t9=new Set(["opacity","clipPath","filter","transform"]),s9=Gg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function r9(s){var m;const{motionValue:t,name:r,repeatDelay:a,repeatType:n,damping:l,type:o}=s;if(!iy((m=t==null?void 0:t.owner)==null?void 0:m.current))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return s9()&&r&&t9.has(r)&&(r!=="transform"||!d)&&!c&&!a&&n!=="mirror"&&l!==0&&o!=="inertia"}const a9=40;class n9 extends ry{constructor({autoplay:t=!0,delay:r=0,type:a="keyframes",repeat:n=0,repeatDelay:l=0,repeatType:o="loop",keyframes:c,name:d,motionValue:m,element:p,...N}){var h;super(),this.stop=()=>{var V,w;this._animation&&(this._animation.stop(),(V=this.stopTimeline)==null||V.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=ur.now();const k={autoplay:t,delay:r,type:a,repeat:n,repeatDelay:l,repeatType:o,name:d,motionValue:m,element:p,...N},I=(p==null?void 0:p.KeyframeResolver)||ny;this.keyframeResolver=new I(c,(V,w,C)=>this.onKeyframesResolved(V,w,k,!C),d,m,p),(h=this.keyframeResolver)==null||h.scheduleResolve()}onKeyframesResolved(t,r,a,n){this.keyframeResolver=void 0;const{name:l,type:o,velocity:c,delay:d,isHandoff:m,onUpdate:p}=a;this.resolvedAt=ur.now(),e9(t,l,o,c)||((Ga.instantAnimations||!d)&&(p==null||p(sy(t,a,r))),t[0]=t[t.length-1],a.duration=0,a.repeat=0);const k={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>a9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:t},I=!m&&r9(k)?new JV({...k,element:k.motionValue.owner.current}):new ay(k);I.finished.then(()=>this.notifyFinished()).catch(Or),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),FV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const i9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function o9(s){const t=i9.exec(s);if(!t)return[,];const[,r,a,n]=t;return[`--${r??a}`,n]}function U1(s,t,r=1){const[a,n]=o9(s);if(!a)return;const l=window.getComputedStyle(t).getPropertyValue(a);if(l){const o=l.trim();return d1(o)?parseFloat(o):o}return Xg(n)?U1(n,t,r+1):n}function oy(s,t){return(s==null?void 0:s[t])??(s==null?void 0:s.default)??s}const $1=new Set(["width","height","top","left","right","bottom",...Go]),l9={test:s=>s==="auto",parse:s=>s},q1=s=>t=>t.test(s),W1=[Wo,mt,fa,sn,ZO,JO,l9],EN=s=>W1.find(q1(s));function c9(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||m1(s):!0}const d9=new Set(["brightness","contrast","saturate","opacity"]);function u9(s){const[t,r]=s.slice(0,-1).split("(");if(t==="drop-shadow")return s;const[a]=r.match(Jg)||[];if(!a)return s;const n=r.replace(a,"");let l=d9.has(t)?1:0;return a!==r&&(l*=100),t+"("+l+n+")"}const m9=/\b([a-z-]*)\(.*?\)/gu,bp={...zn,getAnimatableNone:s=>{const t=s.match(m9);return t?t.map(u9).join(" "):s}},IN={...Wo,transform:Math.round},x9={rotate:sn,rotateX:sn,rotateY:sn,rotateZ:sn,scale:Kd,scaleX:Kd,scaleY:Kd,scaleZ:Kd,skew:sn,skewX:sn,skewY:sn,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:Sc,originX:pN,originY:pN,originZ:mt},ly={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,backgroundPositionX:mt,backgroundPositionY:mt,...x9,zIndex:IN,fillOpacity:Sc,strokeOpacity:Sc,numOctaves:IN},h9={...ly,color:Ws,backgroundColor:Ws,outlineColor:Ws,fill:Ws,stroke:Ws,borderColor:Ws,borderTopColor:Ws,borderRightColor:Ws,borderBottomColor:Ws,borderLeftColor:Ws,filter:bp,WebkitFilter:bp},G1=s=>h9[s];function H1(s,t){let r=G1(s);return r!==bp&&(r=zn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const p9=new Set(["auto","none","0"]);function f9(s,t,r){let a=0,n;for(;a<s.length&&!n;){const l=s[a];typeof l=="string"&&!p9.has(l)&&Cc(l).values.length&&(n=s[a]),a++}if(n&&r)for(const l of t)s[l]=H1(r,n)}class g9 extends ny{constructor(t,r,a,n,l){super(t,r,a,n,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let m=t[d];if(typeof m=="string"&&(m=m.trim(),Xg(m))){const p=U1(m,r.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!$1.has(a)||t.length!==2)return;const[n,l]=t,o=EN(n),c=EN(l);if(o!==c)if(wN(o)&&wN(c))for(let d=0;d<t.length;d++){const m=t[d];typeof m=="string"&&(t[d]=parseFloat(m))}else ui[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,a=[];for(let n=0;n<t.length;n++)(t[n]===null||c9(t[n]))&&a.push(n);a.length&&f9(t,a,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ui[a](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const n=r[r.length-1];n!==void 0&&t.getValue(a,n).jump(n,!1)}measureEndState(){var c;const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const n=t.getValue(r);n&&n.jump(this.measuredOrigin,!1);const l=a.length-1,o=a[l];a[l]=ui[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function y9(s,t,r){if(s instanceof EventTarget)return[s];if(typeof s=="string"){let a=document;t&&(a=t.current);const n=(r==null?void 0:r[s])??a.querySelectorAll(s);return n?Array.from(n):[]}return Array.from(s)}const PN=30,b9=s=>!isNaN(parseFloat(s));class v9{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,n=!0)=>{var o,c;const l=ur.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();n&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ur.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=b9(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Hg);const a=this.events[t].add(r);return t==="change"?()=>{a(),os.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ur.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>PN)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,PN);return x1(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Do(s,t){return new v9(s,t)}const K1=(s,t)=>t&&typeof s=="number"?t.transform(s):s,{schedule:cy,cancel:sU}=k1(queueMicrotask,!1),qr={x:!1,y:!1};function Q1(){return qr.x||qr.y}function j9(s){return s==="x"||s==="y"?qr[s]?null:(qr[s]=!0,()=>{qr[s]=!1}):qr.x||qr.y?null:(qr.x=qr.y=!0,()=>{qr.x=qr.y=!1})}function Y1(s,t){const r=y9(s),a=new AbortController,n={passive:!0,...t,signal:a.signal};return[r,n,()=>a.abort()]}function TN(s){return!(s.pointerType==="touch"||Q1())}function N9(s,t,r={}){const[a,n,l]=Y1(s,r),o=c=>{if(!TN(c))return;const{target:d}=c,m=t(d,c);if(typeof m!="function"||!d)return;const p=N=>{TN(N)&&(m(N),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,n)};return a.forEach(c=>{c.addEventListener("pointerenter",o,n)}),l}const X1=(s,t)=>t?s===t?!0:X1(s,t.parentElement):!1,dy=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,w9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function k9(s){return w9.has(s.tagName)||s.tabIndex!==-1}const ku=new WeakSet;function _N(s){return t=>{t.key==="Enter"&&s(t)}}function Dh(s,t){s.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const S9=(s,t)=>{const r=s.currentTarget;if(!r)return;const a=_N(()=>{if(ku.has(r))return;Dh(r,"down");const n=_N(()=>{Dh(r,"up")}),l=()=>Dh(r,"cancel");r.addEventListener("keyup",n,t),r.addEventListener("blur",l,t)});r.addEventListener("keydown",a,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),t)};function DN(s){return dy(s)&&!Q1()}function C9(s,t,r={}){const[a,n,l]=Y1(s,r),o=c=>{const d=c.currentTarget;if(!DN(c))return;ku.add(d);const m=t(d,c),p=(I,h)=>{window.removeEventListener("pointerup",N),window.removeEventListener("pointercancel",k),ku.has(d)&&ku.delete(d),DN(I)&&typeof m=="function"&&m(I,{success:h})},N=I=>{p(I,d===window||d===document||r.useGlobalTarget||X1(d,I.target))},k=I=>{p(I,!1)};window.addEventListener("pointerup",N,n),window.addEventListener("pointercancel",k,n)};return a.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,n),iy(c)&&(c.addEventListener("focus",m=>S9(m,n)),!k9(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),l}function J1(s){return u1(s)&&"ownerSVGElement"in s}function E9(s){return J1(s)&&s.tagName==="svg"}const Ks=s=>!!(s&&s.getVelocity),I9=[...W1,Ws,zn],P9=s=>I9.find(q1(s)),uy=v.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});class T9 extends v.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const a=r.offsetParent,n=iy(a)&&a.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=n-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function _9({children:s,isPresent:t,anchorX:r}){const a=v.useId(),n=v.useRef(null),l=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=v.useContext(uy);return v.useInsertionEffect(()=>{const{width:c,height:d,top:m,left:p,right:N}=l.current;if(t||!n.current||!c||!d)return;const k=r==="left"?`left: ${p}`:`right: ${N}`;n.current.dataset.motionPopId=a;const I=document.createElement("style");return o&&(I.nonce=o),document.head.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${k}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.contains(I)&&document.head.removeChild(I)}},[t]),e.jsx(T9,{isPresent:t,childRef:n,sizeRef:l,children:v.cloneElement(s,{ref:n})})}const D9=({children:s,initial:t,isPresent:r,onExitComplete:a,custom:n,presenceAffectsLayout:l,mode:o,anchorX:c})=>{const d=Fg(A9),m=v.useId();let p=!0,N=v.useMemo(()=>(p=!1,{id:m,initial:t,isPresent:r,custom:n,onExitComplete:k=>{d.set(k,!0);for(const I of d.values())if(!I)return;a&&a()},register:k=>(d.set(k,!1),()=>d.delete(k))}),[r,d,a]);return l&&p&&(N={...N}),v.useMemo(()=>{d.forEach((k,I)=>d.set(I,!1))},[r]),v.useEffect(()=>{!r&&!d.size&&a&&a()},[r]),o==="popLayout"&&(s=e.jsx(_9,{isPresent:r,anchorX:c,children:s})),e.jsx(Nx.Provider,{value:N,children:s})};function A9(){return new Map}function Z1(s=!0){const t=v.useContext(Nx);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:n}=t,l=v.useId();v.useEffect(()=>{if(s)return n(l)},[s]);const o=v.useCallback(()=>s&&a&&a(l),[l,a,s]);return!r&&a?[!1,o]:[!0]}const Qd=s=>s.key||"";function AN(s){const t=[];return v.Children.forEach(s,r=>{v.isValidElement(r)&&t.push(r)}),t}const R9=({children:s,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:n=!0,mode:l="sync",propagate:o=!1,anchorX:c="left"})=>{const[d,m]=Z1(o),p=v.useMemo(()=>AN(s),[s]),N=o&&!d?[]:p.map(Qd),k=v.useRef(!0),I=v.useRef(p),h=Fg(()=>new Map),[V,w]=v.useState(p),[C,z]=v.useState(p);c1(()=>{k.current=!1,I.current=p;for(let $=0;$<C.length;$++){const U=Qd(C[$]);N.includes(U)?h.delete(U):h.get(U)!==!0&&h.set(U,!1)}},[C,N.length,N.join("-")]);const T=[];if(p!==V){let $=[...p];for(let U=0;U<C.length;U++){const A=C[U],u=Qd(A);N.includes(u)||($.splice(U,0,A),T.push(A))}return l==="wait"&&T.length&&($=T),z(AN($)),w(p),null}const{forceRender:W}=v.useContext(Bg);return e.jsx(e.Fragment,{children:C.map($=>{const U=Qd($),A=o&&!d?!1:p===C||N.includes(U),u=()=>{if(h.has(U))h.set(U,!0);else return;let F=!0;h.forEach(B=>{B||(F=!1)}),F&&(W==null||W(),z(I.current),o&&(m==null||m()),a&&a())};return e.jsx(D9,{isPresent:A,initial:!k.current||r?void 0:!1,custom:t,presenceAffectsLayout:n,mode:l,onExitComplete:A?void 0:u,anchorX:c,children:$},U)})})},eS=v.createContext({strict:!1}),RN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ao={};for(const s in RN)Ao[s]={isEnabled:t=>RN[s].some(r=>!!t[r])};function M9(s){for(const t in s)Ao[t]={...Ao[t],...s[t]}}const O9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pm(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||O9.has(s)}let tS=s=>!Pm(s);function V9(s){s&&(tS=t=>t.startsWith("on")?!Pm(t):s(t))}try{V9(require("@emotion/is-prop-valid").default)}catch{}function z9(s,t,r){const a={};for(const n in s)n==="values"&&typeof s.values=="object"||(tS(n)||r===!0&&Pm(n)||!t&&!Pm(n)||s.draggable&&n.startsWith("onDrag"))&&(a[n]=s[n]);return a}function L9(s){if(typeof Proxy>"u")return s;const t=new Map,r=(...a)=>s(...a);return new Proxy(r,{get:(a,n)=>n==="create"?s:(t.has(n)||t.set(n,s(n)),t.get(n))})}const wx=v.createContext({});function kx(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}function Ec(s){return typeof s=="string"||Array.isArray(s)}const my=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xy=["initial",...my];function Sx(s){return kx(s.animate)||xy.some(t=>Ec(s[t]))}function sS(s){return!!(Sx(s)||s.variants)}function B9(s,t){if(Sx(s)){const{initial:r,animate:a}=s;return{initial:r===!1||Ec(r)?r:void 0,animate:Ec(a)?a:void 0}}return s.inherit!==!1?t:{}}function F9(s){const{initial:t,animate:r}=B9(s,v.useContext(wx));return v.useMemo(()=>({initial:t,animate:r}),[MN(t),MN(r)])}function MN(s){return Array.isArray(s)?s.join(" "):s}const U9=Symbol.for("motionComponentSymbol");function ro(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function $9(s,t,r){return v.useCallback(a=>{a&&s.onMount&&s.onMount(a),t&&(a?t.mount(a):t.unmount()),r&&(typeof r=="function"?r(a):ro(r)&&(r.current=a))},[t])}const hy=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),q9="framerAppearId",rS="data-"+hy(q9),aS=v.createContext({});function W9(s,t,r,a,n){var V,w;const{visualElement:l}=v.useContext(wx),o=v.useContext(eS),c=v.useContext(Nx),d=v.useContext(uy).reducedMotion,m=v.useRef(null);a=a||o.renderer,!m.current&&a&&(m.current=a(s,{visualState:t,parent:l,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=m.current,N=v.useContext(aS);p&&!p.projection&&n&&(p.type==="html"||p.type==="svg")&&G9(m.current,r,n,N);const k=v.useRef(!1);v.useInsertionEffect(()=>{p&&k.current&&p.update(r,c)});const I=r[rS],h=v.useRef(!!I&&!((V=window.MotionHandoffIsComplete)!=null&&V.call(window,I))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,I)));return c1(()=>{p&&(k.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),cy.render(p.render),h.current&&p.animationState&&p.animationState.animateChanges())}),v.useEffect(()=>{p&&(!h.current&&p.animationState&&p.animationState.animateChanges(),h.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,I)}),h.current=!1))}),p}function G9(s,t,r,a){const{layoutId:n,layout:l,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:m,layoutCrossfade:p}=t;s.projection=new r(s.latestValues,t["data-framer-portal-id"]?void 0:nS(s.parent)),s.projection.setOptions({layoutId:n,layout:l,alwaysMeasureLayout:!!o||c&&ro(c),visualElement:s,animationType:typeof l=="string"?l:"both",initialPromotionConfig:a,crossfade:p,layoutScroll:d,layoutRoot:m})}function nS(s){if(s)return s.options.allowProjection!==!1?s.projection:nS(s.parent)}function H9({preloadedFeatures:s,createVisualElement:t,useRender:r,useVisualState:a,Component:n}){s&&M9(s);function l(c,d){let m;const p={...v.useContext(uy),...c,layoutId:K9(c)},{isStatic:N}=p,k=F9(c),I=a(c,N);if(!N&&Ug){Q9();const h=Y9(p);m=h.MeasureLayout,k.visualElement=W9(n,I,p,t,h.ProjectionNode)}return e.jsxs(wx.Provider,{value:k,children:[m&&k.visualElement?e.jsx(m,{visualElement:k.visualElement,...p}):null,r(n,c,$9(I,k.visualElement,d),I,N,k.visualElement)]})}l.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=v.forwardRef(l);return o[U9]=n,o}function K9({layoutId:s}){const t=v.useContext(Bg).id;return t&&s!==void 0?t+"-"+s:s}function Q9(s,t){v.useContext(eS).strict}function Y9(s){const{drag:t,layout:r}=Ao;if(!t&&!r)return{};const a={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(s)||r!=null&&r.isEnabled(s)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const Ic={};function X9(s){for(const t in s)Ic[t]=s[t],Yg(t)&&(Ic[t].isCSSVariable=!0)}function iS(s,{layout:t,layoutId:r}){return Ho.has(s)||s.startsWith("origin")||(t||r!==void 0)&&(!!Ic[s]||s==="opacity")}const J9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z9=Go.length;function ez(s,t,r){let a="",n=!0;for(let l=0;l<Z9;l++){const o=Go[l],c=s[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const m=K1(c,ly[o]);if(!d){n=!1;const p=J9[o]||o;a+=`${p}(${m}) `}r&&(t[o]=m)}}return a=a.trim(),r?a=r(t,n?"":a):n&&(a="none"),a}function py(s,t,r){const{style:a,vars:n,transformOrigin:l}=s;let o=!1,c=!1;for(const d in t){const m=t[d];if(Ho.has(d)){o=!0;continue}else if(Yg(d)){n[d]=m;continue}else{const p=K1(m,ly[d]);d.startsWith("origin")?(c=!0,l[d]=p):a[d]=p}}if(t.transform||(o||r?a.transform=ez(t,s.transform,r):a.transform&&(a.transform="none")),c){const{originX:d="50%",originY:m="50%",originZ:p=0}=l;a.transformOrigin=`${d} ${m} ${p}`}}const fy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oS(s,t,r){for(const a in t)!Ks(t[a])&&!iS(a,r)&&(s[a]=t[a])}function tz({transformTemplate:s},t){return v.useMemo(()=>{const r=fy();return py(r,t,s),Object.assign({},r.vars,r.style)},[t])}function sz(s,t){const r=s.style||{},a={};return oS(a,r,s),Object.assign(a,tz(s,t)),a}function rz(s,t){const r={},a=sz(s,t);return s.drag&&s.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(r.tabIndex=0),r.style=a,r}const az={offset:"stroke-dashoffset",array:"stroke-dasharray"},nz={offset:"strokeDashoffset",array:"strokeDasharray"};function iz(s,t,r=1,a=0,n=!0){s.pathLength=1;const l=n?az:nz;s[l.offset]=mt.transform(-a);const o=mt.transform(t),c=mt.transform(r);s[l.array]=`${o} ${c}`}function lS(s,{attrX:t,attrY:r,attrScale:a,pathLength:n,pathSpacing:l=1,pathOffset:o=0,...c},d,m,p){if(py(s,c,m),d){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:N,style:k}=s;N.transform&&(k.transform=N.transform,delete N.transform),(k.transform||N.transformOrigin)&&(k.transformOrigin=N.transformOrigin??"50% 50%",delete N.transformOrigin),k.transform&&(k.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete N.transformBox),t!==void 0&&(N.x=t),r!==void 0&&(N.y=r),a!==void 0&&(N.scale=a),n!==void 0&&iz(N,n,l,o,!1)}const cS=()=>({...fy(),attrs:{}}),dS=s=>typeof s=="string"&&s.toLowerCase()==="svg";function oz(s,t,r,a){const n=v.useMemo(()=>{const l=cS();return lS(l,t,dS(a),s.transformTemplate,s.style),{...l.attrs,style:{...l.style}}},[t]);if(s.style){const l={};oS(l,s.style,s),n.style={...l,...n.style}}return n}const lz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gy(s){return typeof s!="string"||s.includes("-")?!1:!!(lz.indexOf(s)>-1||/[A-Z]/u.test(s))}function cz(s=!1){return(r,a,n,{latestValues:l},o)=>{const d=(gy(r)?oz:rz)(a,l,o,r),m=z9(a,typeof r=="string",s),p=r!==v.Fragment?{...m,...d,ref:n}:{},{children:N}=a,k=v.useMemo(()=>Ks(N)?N.get():N,[N]);return v.createElement(r,{...p,children:k})}}function ON(s){const t=[{},{}];return s==null||s.values.forEach((r,a)=>{t[0][a]=r.get(),t[1][a]=r.getVelocity()}),t}function yy(s,t,r,a){if(typeof t=="function"){const[n,l]=ON(a);t=t(r!==void 0?r:s.custom,n,l)}if(typeof t=="string"&&(t=s.variants&&s.variants[t]),typeof t=="function"){const[n,l]=ON(a);t=t(r!==void 0?r:s.custom,n,l)}return t}function Su(s){return Ks(s)?s.get():s}function dz({scrapeMotionValuesFromProps:s,createRenderState:t},r,a,n){return{latestValues:uz(r,a,n,s),renderState:t()}}const uS=s=>(t,r)=>{const a=v.useContext(wx),n=v.useContext(Nx),l=()=>dz(s,t,a,n);return r?l():Fg(l)};function uz(s,t,r,a){const n={},l=a(s,{});for(const k in l)n[k]=Su(l[k]);let{initial:o,animate:c}=s;const d=Sx(s),m=sS(s);t&&m&&!d&&s.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let p=r?r.initial===!1:!1;p=p||o===!1;const N=p?c:o;if(N&&typeof N!="boolean"&&!kx(N)){const k=Array.isArray(N)?N:[N];for(let I=0;I<k.length;I++){const h=yy(s,k[I]);if(h){const{transitionEnd:V,transition:w,...C}=h;for(const z in C){let T=C[z];if(Array.isArray(T)){const W=p?T.length-1:0;T=T[W]}T!==null&&(n[z]=T)}for(const z in V)n[z]=V[z]}}}return n}function by(s,t,r){var l;const{style:a}=s,n={};for(const o in a)(Ks(a[o])||t.style&&Ks(t.style[o])||iS(o,s)||((l=r==null?void 0:r.getValue(o))==null?void 0:l.liveStyle)!==void 0)&&(n[o]=a[o]);return n}const mz={useVisualState:uS({scrapeMotionValuesFromProps:by,createRenderState:fy})};function mS(s,t,r){const a=by(s,t,r);for(const n in s)if(Ks(s[n])||Ks(t[n])){const l=Go.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;a[l]=s[n]}return a}const xz={useVisualState:uS({scrapeMotionValuesFromProps:mS,createRenderState:cS})};function hz(s,t){return function(a,{forwardMotionProps:n}={forwardMotionProps:!1}){const o={...gy(a)?xz:mz,preloadedFeatures:s,useRender:cz(n),createVisualElement:t,Component:a};return H9(o)}}function Pc(s,t,r){const a=s.getProps();return yy(a,t,r!==void 0?r:a.custom,s)}const vp=s=>Array.isArray(s);function pz(s,t,r){s.hasValue(t)?s.getValue(t).set(r):s.addValue(t,Do(r))}function fz(s){return vp(s)?s[s.length-1]||0:s}function gz(s,t){const r=Pc(s,t);let{transitionEnd:a={},transition:n={},...l}=r||{};l={...l,...a};for(const o in l){const c=fz(l[o]);pz(s,o,c)}}function yz(s){return!!(Ks(s)&&s.add)}function jp(s,t){const r=s.getValue("willChange");if(yz(r))return r.add(t);if(!r&&Ga.WillChange){const a=new Ga.WillChange("auto");s.addValue("willChange",a),a.add(t)}}function xS(s){return s.props[rS]}const bz=s=>s!==null;function vz(s,{repeat:t,repeatType:r="loop"},a){const n=s.filter(bz),l=t&&r!=="loop"&&t%2===1?0:n.length-1;return!l||a===void 0?n[l]:a}const jz={type:"spring",stiffness:500,damping:25,restSpeed:10},Nz=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),wz={type:"keyframes",duration:.8},kz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sz=(s,{keyframes:t})=>t.length>2?wz:Ho.has(s)?s.startsWith("scale")?Nz(t[1]):jz:kz;function Cz({when:s,delay:t,delayChildren:r,staggerChildren:a,staggerDirection:n,repeat:l,repeatType:o,repeatDelay:c,from:d,elapsed:m,...p}){return!!Object.keys(p).length}const vy=(s,t,r,a={},n,l)=>o=>{const c=oy(a,s)||{},d=c.delay||a.delay||0;let{elapsed:m=0}=a;m=m-ha(d);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-m,onUpdate:k=>{t.set(k),c.onUpdate&&c.onUpdate(k)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:s,motionValue:t,element:l?void 0:n};Cz(c)||Object.assign(p,Sz(s,p)),p.duration&&(p.duration=ha(p.duration)),p.repeatDelay&&(p.repeatDelay=ha(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let N=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(N=!0)),(Ga.instantAnimations||Ga.skipAnimations)&&(N=!0,p.duration=0,p.delay=0),p.allowFlatten=!c.type&&!c.ease,N&&!l&&t.get()!==void 0){const k=vz(p.keyframes,c);if(k!==void 0){os.update(()=>{p.onUpdate(k),p.onComplete()});return}}return c.isSync?new ay(p):new n9(p)};function Ez({protectedKeys:s,needsAnimating:t},r){const a=s.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,a}function hS(s,t,{delay:r=0,transitionOverride:a,type:n}={}){let{transition:l=s.getDefaultTransition(),transitionEnd:o,...c}=t;a&&(l=a);const d=[],m=n&&s.animationState&&s.animationState.getState()[n];for(const p in c){const N=s.getValue(p,s.latestValues[p]??null),k=c[p];if(k===void 0||m&&Ez(m,p))continue;const I={delay:r,...oy(l||{},p)},h=N.get();if(h!==void 0&&!N.isAnimating&&!Array.isArray(k)&&k===h&&!I.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const C=xS(s);if(C){const z=window.MotionHandoffAnimation(C,p,os);z!==null&&(I.startTime=z,V=!0)}}jp(s,p),N.start(vy(p,N,k,s.shouldReduceMotion&&$1.has(p)?{type:!1}:I,s,V));const w=N.animation;w&&d.push(w)}return o&&Promise.all(d).then(()=>{os.update(()=>{o&&gz(s,o)})}),d}function Np(s,t,r={}){var d;const a=Pc(s,t,r.type==="exit"?(d=s.presenceContext)==null?void 0:d.custom:void 0);let{transition:n=s.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(n=r.transitionOverride);const l=a?()=>Promise.all(hS(s,a,r)):()=>Promise.resolve(),o=s.variantChildren&&s.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:N,staggerDirection:k}=n;return Iz(s,t,p+m,N,k,r)}:()=>Promise.resolve(),{when:c}=n;if(c){const[m,p]=c==="beforeChildren"?[l,o]:[o,l];return m().then(()=>p())}else return Promise.all([l(),o(r.delay)])}function Iz(s,t,r=0,a=0,n=1,l){const o=[],c=(s.variantChildren.size-1)*a,d=n===1?(m=0)=>m*a:(m=0)=>c-m*a;return Array.from(s.variantChildren).sort(Pz).forEach((m,p)=>{m.notify("AnimationStart",t),o.push(Np(m,t,{...l,delay:r+d(p)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(o)}function Pz(s,t){return s.sortNodePosition(t)}function Tz(s,t,r={}){s.notify("AnimationStart",t);let a;if(Array.isArray(t)){const n=t.map(l=>Np(s,l,r));a=Promise.all(n)}else if(typeof t=="string")a=Np(s,t,r);else{const n=typeof t=="function"?Pc(s,t,r.custom):t;a=Promise.all(hS(s,n,r))}return a.then(()=>{s.notify("AnimationComplete",t)})}function pS(s,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==s.length)return!1;for(let a=0;a<r;a++)if(t[a]!==s[a])return!1;return!0}const _z=xy.length;function fS(s){if(!s)return;if(!s.isControllingVariants){const r=s.parent?fS(s.parent)||{}:{};return s.props.initial!==void 0&&(r.initial=s.props.initial),r}const t={};for(let r=0;r<_z;r++){const a=xy[r],n=s.props[a];(Ec(n)||n===!1)&&(t[a]=n)}return t}const Dz=[...my].reverse(),Az=my.length;function Rz(s){return t=>Promise.all(t.map(({animation:r,options:a})=>Tz(s,r,a)))}function Mz(s){let t=Rz(s),r=VN(),a=!0;const n=d=>(m,p)=>{var k;const N=Pc(s,p,d==="exit"?(k=s.presenceContext)==null?void 0:k.custom:void 0);if(N){const{transition:I,transitionEnd:h,...V}=N;m={...m,...V,...h}}return m};function l(d){t=d(s)}function o(d){const{props:m}=s,p=fS(s.parent)||{},N=[],k=new Set;let I={},h=1/0;for(let w=0;w<Az;w++){const C=Dz[w],z=r[C],T=m[C]!==void 0?m[C]:p[C],W=Ec(T),$=C===d?z.isActive:null;$===!1&&(h=w);let U=T===p[C]&&T!==m[C]&&W;if(U&&a&&s.manuallyAnimateOnMount&&(U=!1),z.protectedKeys={...I},!z.isActive&&$===null||!T&&!z.prevProp||kx(T)||typeof T=="boolean")continue;const A=Oz(z.prevProp,T);let u=A||C===d&&z.isActive&&!U&&W||w>h&&W,F=!1;const B=Array.isArray(T)?T:[T];let Q=B.reduce(n(C),{});$===!1&&(Q={});const{prevResolvedValues:D={}}=z,G={...D,...Q},Ae=Ee=>{u=!0,k.has(Ee)&&(F=!0,k.delete(Ee)),z.needsAnimating[Ee]=!0;const de=s.getValue(Ee);de&&(de.liveStyle=!1)};for(const Ee in G){const de=Q[Ee],me=D[Ee];if(I.hasOwnProperty(Ee))continue;let xe=!1;vp(de)&&vp(me)?xe=!pS(de,me):xe=de!==me,xe?de!=null?Ae(Ee):k.add(Ee):de!==void 0&&k.has(Ee)?Ae(Ee):z.protectedKeys[Ee]=!0}z.prevProp=T,z.prevResolvedValues=Q,z.isActive&&(I={...I,...Q}),a&&s.blockInitialAnimation&&(u=!1),u&&(!(U&&A)||F)&&N.push(...B.map(Ee=>({animation:Ee,options:{type:C}})))}if(k.size){const w={};if(typeof m.initial!="boolean"){const C=Pc(s,Array.isArray(m.initial)?m.initial[0]:m.initial);C&&C.transition&&(w.transition=C.transition)}k.forEach(C=>{const z=s.getBaseTarget(C),T=s.getValue(C);T&&(T.liveStyle=!0),w[C]=z??null}),N.push({animation:w})}let V=!!N.length;return a&&(m.initial===!1||m.initial===m.animate)&&!s.manuallyAnimateOnMount&&(V=!1),a=!1,V?t(N):Promise.resolve()}function c(d,m){var N;if(r[d].isActive===m)return Promise.resolve();(N=s.variantChildren)==null||N.forEach(k=>{var I;return(I=k.animationState)==null?void 0:I.setActive(d,m)}),r[d].isActive=m;const p=o(d);for(const k in r)r[k].protectedKeys={};return p}return{animateChanges:o,setActive:c,setAnimateFunction:l,getState:()=>r,reset:()=>{r=VN(),a=!0}}}function Oz(s,t){return typeof t=="string"?t!==s:Array.isArray(t)?!pS(t,s):!1}function Yn(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VN(){return{animate:Yn(!0),whileInView:Yn(),whileHover:Yn(),whileTap:Yn(),whileDrag:Yn(),whileFocus:Yn(),exit:Yn()}}class Wn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Vz extends Wn{constructor(t){super(t),t.animationState||(t.animationState=Mz(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();kx(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let zz=0;class Lz extends Wn{constructor(){super(...arguments),this.id=zz++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const n=this.node.animationState.setActive("exit",!t);r&&!t&&n.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Bz={animation:{Feature:Vz},exit:{Feature:Lz}};function Tc(s,t,r,a={passive:!0}){return s.addEventListener(t,r,a),()=>s.removeEventListener(t,r)}function od(s){return{point:{x:s.pageX,y:s.pageY}}}const Fz=s=>t=>dy(t)&&s(t,od(t));function $l(s,t,r,a){return Tc(s,t,Fz(r),a)}function gS({top:s,left:t,right:r,bottom:a}){return{x:{min:t,max:r},y:{min:s,max:a}}}function Uz({x:s,y:t}){return{top:t.min,right:s.max,bottom:t.max,left:s.min}}function $z(s,t){if(!t)return s;const r=t({x:s.left,y:s.top}),a=t({x:s.right,y:s.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}const yS=1e-4,qz=1-yS,Wz=1+yS,bS=.01,Gz=0-bS,Hz=0+bS;function sr(s){return s.max-s.min}function Kz(s,t,r){return Math.abs(s-t)<=r}function zN(s,t,r,a=.5){s.origin=a,s.originPoint=rs(t.min,t.max,s.origin),s.scale=sr(r)/sr(t),s.translate=rs(r.min,r.max,s.origin)-s.originPoint,(s.scale>=qz&&s.scale<=Wz||isNaN(s.scale))&&(s.scale=1),(s.translate>=Gz&&s.translate<=Hz||isNaN(s.translate))&&(s.translate=0)}function ql(s,t,r,a){zN(s.x,t.x,r.x,a?a.originX:void 0),zN(s.y,t.y,r.y,a?a.originY:void 0)}function LN(s,t,r){s.min=r.min+t.min,s.max=s.min+sr(t)}function Qz(s,t,r){LN(s.x,t.x,r.x),LN(s.y,t.y,r.y)}function BN(s,t,r){s.min=t.min-r.min,s.max=s.min+sr(t)}function Wl(s,t,r){BN(s.x,t.x,r.x),BN(s.y,t.y,r.y)}const FN=()=>({translate:0,scale:1,origin:0,originPoint:0}),ao=()=>({x:FN(),y:FN()}),UN=()=>({min:0,max:0}),hs=()=>({x:UN(),y:UN()});function Tr(s){return[s("x"),s("y")]}function Ah(s){return s===void 0||s===1}function wp({scale:s,scaleX:t,scaleY:r}){return!Ah(s)||!Ah(t)||!Ah(r)}function ei(s){return wp(s)||vS(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function vS(s){return $N(s.x)||$N(s.y)}function $N(s){return s&&s!=="0%"}function Tm(s,t,r){const a=s-r,n=t*a;return r+n}function qN(s,t,r,a,n){return n!==void 0&&(s=Tm(s,n,a)),Tm(s,r,a)+t}function kp(s,t=0,r=1,a,n){s.min=qN(s.min,t,r,a,n),s.max=qN(s.max,t,r,a,n)}function jS(s,{x:t,y:r}){kp(s.x,t.translate,t.scale,t.originPoint),kp(s.y,r.translate,r.scale,r.originPoint)}const WN=.999999999999,GN=1.0000000000001;function Yz(s,t,r,a=!1){const n=r.length;if(!n)return;t.x=t.y=1;let l,o;for(let c=0;c<n;c++){l=r[c],o=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&io(s,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,jS(s,o)),a&&ei(l.latestValues)&&io(s,l.latestValues))}t.x<GN&&t.x>WN&&(t.x=1),t.y<GN&&t.y>WN&&(t.y=1)}function no(s,t){s.min=s.min+t,s.max=s.max+t}function HN(s,t,r,a,n=.5){const l=rs(s.min,s.max,n);kp(s,t,r,l,a)}function io(s,t){HN(s.x,t.x,t.scaleX,t.scale,t.originX),HN(s.y,t.y,t.scaleY,t.scale,t.originY)}function NS(s,t){return gS($z(s.getBoundingClientRect(),t))}function Xz(s,t,r){const a=NS(s,r),{scroll:n}=t;return n&&(no(a.x,n.offset.x),no(a.y,n.offset.y)),a}const wS=({current:s})=>s?s.ownerDocument.defaultView:null,KN=(s,t)=>Math.abs(s-t);function Jz(s,t){const r=KN(s.x,t.x),a=KN(s.y,t.y);return Math.sqrt(r**2+a**2)}class kS{constructor(t,r,{transformPagePoint:a,contextWindow:n,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Mh(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,I=Jz(N.offset,{x:0,y:0})>=3;if(!k&&!I)return;const{point:h}=N,{timestamp:V}=Ds;this.history.push({...h,timestamp:V});const{onStart:w,onMove:C}=this.handlers;k||(w&&w(this.lastMoveEvent,N),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,N)},this.handlePointerMove=(N,k)=>{this.lastMoveEvent=N,this.lastMoveEventInfo=Rh(k,this.transformPagePoint),os.update(this.updatePoint,!0)},this.handlePointerUp=(N,k)=>{this.end();const{onEnd:I,onSessionEnd:h,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Mh(N.type==="pointercancel"?this.lastMoveEventInfo:Rh(k,this.transformPagePoint),this.history);this.startEvent&&I&&I(N,w),h&&h(N,w)},!dy(t))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=a,this.contextWindow=n||window;const o=od(t),c=Rh(o,this.transformPagePoint),{point:d}=c,{timestamp:m}=Ds;this.history=[{...d,timestamp:m}];const{onSessionStart:p}=r;p&&p(t,Mh(c,this.history)),this.removeListeners=ad($l(this.contextWindow,"pointermove",this.handlePointerMove),$l(this.contextWindow,"pointerup",this.handlePointerUp),$l(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Vn(this.updatePoint)}}function Rh(s,t){return t?{point:t(s.point)}:s}function QN(s,t){return{x:s.x-t.x,y:s.y-t.y}}function Mh({point:s},t){return{point:s,delta:QN(s,SS(t)),offset:QN(s,Zz(t)),velocity:eL(t,.1)}}function Zz(s){return s[0]}function SS(s){return s[s.length-1]}function eL(s,t){if(s.length<2)return{x:0,y:0};let r=s.length-1,a=null;const n=SS(s);for(;r>=0&&(a=s[r],!(n.timestamp-a.timestamp>ha(t)));)r--;if(!a)return{x:0,y:0};const l=pa(n.timestamp-a.timestamp);if(l===0)return{x:0,y:0};const o={x:(n.x-a.x)/l,y:(n.y-a.y)/l};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tL(s,{min:t,max:r},a){return t!==void 0&&s<t?s=a?rs(t,s,a.min):Math.max(s,t):r!==void 0&&s>r&&(s=a?rs(r,s,a.max):Math.min(s,r)),s}function YN(s,t,r){return{min:t!==void 0?s.min+t:void 0,max:r!==void 0?s.max+r-(s.max-s.min):void 0}}function sL(s,{top:t,left:r,bottom:a,right:n}){return{x:YN(s.x,r,n),y:YN(s.y,t,a)}}function XN(s,t){let r=t.min-s.min,a=t.max-s.max;return t.max-t.min<s.max-s.min&&([r,a]=[a,r]),{min:r,max:a}}function rL(s,t){return{x:XN(s.x,t.x),y:XN(s.y,t.y)}}function aL(s,t){let r=.5;const a=sr(s),n=sr(t);return n>a?r=kc(t.min,t.max-a,s.min):a>n&&(r=kc(s.min,s.max-n,t.min)),Wa(0,1,r)}function nL(s,t){const r={};return t.min!==void 0&&(r.min=t.min-s.min),t.max!==void 0&&(r.max=t.max-s.min),r}const Sp=.35;function iL(s=Sp){return s===!1?s=0:s===!0&&(s=Sp),{x:JN(s,"left","right"),y:JN(s,"top","bottom")}}function JN(s,t,r){return{min:ZN(s,t),max:ZN(s,r)}}function ZN(s,t){return typeof s=="number"?s:s[t]||0}const oL=new WeakMap;class lL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hs(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const n=p=>{const{dragSnapToOrigin:N}=this.getProps();N?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(od(p).point)},l=(p,N)=>{const{drag:k,dragPropagation:I,onDragStart:h}=this.getProps();if(k&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=j9(k),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tr(w=>{let C=this.getAxisMotionValue(w).get()||0;if(fa.test(C)){const{projection:z}=this.visualElement;if(z&&z.layout){const T=z.layout.layoutBox[w];T&&(C=sr(T)*(parseFloat(C)/100))}}this.originPoint[w]=C}),h&&os.postRender(()=>h(p,N)),jp(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},o=(p,N)=>{const{dragPropagation:k,dragDirectionLock:I,onDirectionLock:h,onDrag:V}=this.getProps();if(!k&&!this.openDragLock)return;const{offset:w}=N;if(I&&this.currentDirection===null){this.currentDirection=cL(w),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",N.point,w),this.updateAxis("y",N.point,w),this.visualElement.render(),V&&V(p,N)},c=(p,N)=>this.stop(p,N),d=()=>Tr(p=>{var N;return this.getAnimationState(p)==="paused"&&((N=this.getAxisMotionValue(p).animation)==null?void 0:N.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new kS(t,{onSessionStart:n,onStart:l,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:wS(this.visualElement)})}stop(t,r){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:n}=r;this.startAnimation(n);const{onDragEnd:l}=this.getProps();l&&os.postRender(()=>l(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,a){const{drag:n}=this.getProps();if(!a||!Yd(t,n,this.currentDirection))return;const l=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=tL(o,this.constraints[t],this.elastic[t])),l.set(o)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,n=this.constraints;t&&ro(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=sL(a.layoutBox,t):this.constraints=!1,this.elastic=iL(r),n!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Tr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nL(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ro(t))return!1;const a=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const l=Xz(a,n.root,this.visualElement.getTransformPagePoint());let o=rL(n.layout.layoutBox,l);if(r){const c=r(Uz(o));this.hasMutatedConstraints=!!c,c&&(o=gS(c))}return o}startAnimation(t){const{drag:r,dragMomentum:a,dragElastic:n,dragTransition:l,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},m=Tr(p=>{if(!Yd(p,r,this.currentDirection))return;let N=d&&d[p]||{};o&&(N={min:0,max:0});const k=n?200:1e6,I=n?40:1e7,h={type:"inertia",velocity:a?t[p]:0,bounceStiffness:k,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...N};return this.startAxisValueAnimation(p,h)});return Promise.all(m).then(c)}startAxisValueAnimation(t,r){const a=this.getAxisMotionValue(t);return jp(this.visualElement,t),a.start(vy(t,a,0,r,this.visualElement,!1))}stopAnimation(){Tr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),n=a[r];return n||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Tr(r=>{const{drag:a}=this.getProps();if(!Yd(r,a,this.currentDirection))return;const{projection:n}=this.visualElement,l=this.getAxisMotionValue(r);if(n&&n.layout){const{min:o,max:c}=n.layout.layoutBox[r];l.set(t[r]-rs(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!ro(r)||!a||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Tr(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();n[o]=aL({min:d,max:d},this.constraints[o])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Tr(o=>{if(!Yd(o,t,null))return;const c=this.getAxisMotionValue(o),{min:d,max:m}=this.constraints[o];c.set(rs(d,m,n[o]))})}addListeners(){if(!this.visualElement.current)return;oL.set(this.visualElement,this);const t=this.visualElement.current,r=$l(t,"pointerdown",d=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(d)}),a=()=>{const{dragConstraints:d}=this.getProps();ro(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,l=n.addEventListener("measure",a);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),os.read(a);const o=Tc(window,"resize",()=>this.scalePositionWithinConstraints()),c=n.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(Tr(p=>{const N=this.getAxisMotionValue(p);N&&(this.originPoint[p]+=d[p].translate,N.set(N.get()+d[p].translate))}),this.visualElement.render())});return()=>{o(),r(),l(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:n=!1,dragConstraints:l=!1,dragElastic:o=Sp,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:a,dragPropagation:n,dragConstraints:l,dragElastic:o,dragMomentum:c}}}function Yd(s,t,r){return(t===!0||t===s)&&(r===null||r===s)}function cL(s,t=10){let r=null;return Math.abs(s.y)>t?r="y":Math.abs(s.x)>t&&(r="x"),r}class dL extends Wn{constructor(t){super(t),this.removeGroupControls=Or,this.removeListeners=Or,this.controls=new lL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Or}unmount(){this.removeGroupControls(),this.removeListeners()}}const ew=s=>(t,r)=>{s&&os.postRender(()=>s(t,r))};class uL extends Wn{constructor(){super(...arguments),this.removePointerDownListener=Or}onPointerDown(t){this.session=new kS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:a,onPanEnd:n}=this.node.getProps();return{onSessionStart:ew(t),onStart:ew(r),onMove:a,onEnd:(l,o)=>{delete this.session,n&&os.postRender(()=>n(l,o))}}}mount(){this.removePointerDownListener=$l(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tw(s,t){return t.max===t.min?0:s/(t.max-t.min)*100}const ml={correct:(s,t)=>{if(!t.target)return s;if(typeof s=="string")if(mt.test(s))s=parseFloat(s);else return s;const r=tw(s,t.target.x),a=tw(s,t.target.y);return`${r}% ${a}%`}},mL={correct:(s,{treeScale:t,projectionDelta:r})=>{const a=s,n=zn.parse(s);if(n.length>5)return a;const l=zn.createTransformer(s),o=typeof n[0]!="number"?1:0,c=r.x.scale*t.x,d=r.y.scale*t.y;n[0+o]/=c,n[1+o]/=d;const m=rs(c,d,.5);return typeof n[2+o]=="number"&&(n[2+o]/=m),typeof n[3+o]=="number"&&(n[3+o]/=m),l(n)}};class xL extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a,layoutId:n}=this.props,{projection:l}=t;X9(hL),l&&(r.group&&r.group.add(l),a&&a.register&&n&&a.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Cu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:a,drag:n,isPresent:l}=this.props,{projection:o}=a;return o&&(o.isPresent=l,n||t.layoutDependency!==r||r===void 0||t.isPresent!==l?o.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?o.promote():o.relegate()||os.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(n),a&&a.deregister&&a.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function CS(s){const[t,r]=Z1(),a=v.useContext(Bg);return e.jsx(xL,{...s,layoutGroup:a,switchLayoutGroup:v.useContext(aS),isPresent:t,safeToRemove:r})}const hL={borderRadius:{...ml,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ml,borderTopRightRadius:ml,borderBottomLeftRadius:ml,borderBottomRightRadius:ml,boxShadow:mL};function pL(s,t,r){const a=Ks(s)?s:Do(s);return a.start(vy("",a,t,r)),a.animation}const fL=(s,t)=>s.depth-t.depth;class gL{constructor(){this.children=[],this.isDirty=!1}add(t){$g(this.children,t),this.isDirty=!0}remove(t){qg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fL),this.isDirty=!1,this.children.forEach(t)}}function yL(s,t){const r=ur.now(),a=({timestamp:n})=>{const l=n-r;l>=t&&(Vn(a),s(l-t))};return os.setup(a,!0),()=>Vn(a)}const ES=["TopLeft","TopRight","BottomLeft","BottomRight"],bL=ES.length,sw=s=>typeof s=="string"?parseFloat(s):s,rw=s=>typeof s=="number"||mt.test(s);function vL(s,t,r,a,n,l){n?(s.opacity=rs(0,r.opacity??1,jL(a)),s.opacityExit=rs(t.opacity??1,0,NL(a))):l&&(s.opacity=rs(t.opacity??1,r.opacity??1,a));for(let o=0;o<bL;o++){const c=`border${ES[o]}Radius`;let d=aw(t,c),m=aw(r,c);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||rw(d)===rw(m)?(s[c]=Math.max(rs(sw(d),sw(m),a),0),(fa.test(m)||fa.test(d))&&(s[c]+="%")):s[c]=m}(t.rotate||r.rotate)&&(s.rotate=rs(t.rotate||0,r.rotate||0,a))}function aw(s,t){return s[t]!==void 0?s[t]:s.borderRadius}const jL=IS(0,.5,v1),NL=IS(.5,.95,Or);function IS(s,t,r){return a=>a<s?0:a>t?1:r(kc(s,t,a))}function nw(s,t){s.min=t.min,s.max=t.max}function Pr(s,t){nw(s.x,t.x),nw(s.y,t.y)}function iw(s,t){s.translate=t.translate,s.scale=t.scale,s.originPoint=t.originPoint,s.origin=t.origin}function ow(s,t,r,a,n){return s-=t,s=Tm(s,1/r,a),n!==void 0&&(s=Tm(s,1/n,a)),s}function wL(s,t=0,r=1,a=.5,n,l=s,o=s){if(fa.test(t)&&(t=parseFloat(t),t=rs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=rs(l.min,l.max,a);s===l&&(c-=t),s.min=ow(s.min,t,r,c,n),s.max=ow(s.max,t,r,c,n)}function lw(s,t,[r,a,n],l,o){wL(s,t[r],t[a],t[n],t.scale,l,o)}const kL=["x","scaleX","originX"],SL=["y","scaleY","originY"];function cw(s,t,r,a){lw(s.x,t,kL,r?r.x:void 0,a?a.x:void 0),lw(s.y,t,SL,r?r.y:void 0,a?a.y:void 0)}function dw(s){return s.translate===0&&s.scale===1}function PS(s){return dw(s.x)&&dw(s.y)}function uw(s,t){return s.min===t.min&&s.max===t.max}function CL(s,t){return uw(s.x,t.x)&&uw(s.y,t.y)}function mw(s,t){return Math.round(s.min)===Math.round(t.min)&&Math.round(s.max)===Math.round(t.max)}function TS(s,t){return mw(s.x,t.x)&&mw(s.y,t.y)}function xw(s){return sr(s.x)/sr(s.y)}function hw(s,t){return s.translate===t.translate&&s.scale===t.scale&&s.originPoint===t.originPoint}class EL{constructor(){this.members=[]}add(t){$g(this.members,t),t.scheduleRender()}remove(t){if(qg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(n=>t===n);if(r===0)return!1;let a;for(let n=r;n>=0;n--){const l=this.members[n];if(l.isPresent!==!1){a=l;break}}return a?(this.promote(a),!0):!1}promote(t,r){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,r&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:a}=t;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IL(s,t,r){let a="";const n=s.x.translate/t.x,l=s.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((n||l||o)&&(a=`translate3d(${n}px, ${l}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:m,rotate:p,rotateX:N,rotateY:k,skewX:I,skewY:h}=r;m&&(a=`perspective(${m}px) ${a}`),p&&(a+=`rotate(${p}deg) `),N&&(a+=`rotateX(${N}deg) `),k&&(a+=`rotateY(${k}deg) `),I&&(a+=`skewX(${I}deg) `),h&&(a+=`skewY(${h}deg) `)}const c=s.x.scale*t.x,d=s.y.scale*t.y;return(c!==1||d!==1)&&(a+=`scale(${c}, ${d})`),a||"none"}const Oh=["","X","Y","Z"],PL={visibility:"hidden"},TL=1e3;let _L=0;function Vh(s,t,r,a){const{latestValues:n}=t;n[s]&&(r[s]=n[s],t.setStaticValue(s,0),a&&(a[s]=0))}function _S(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:t}=s.options;if(!t)return;const r=xS(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:n,layoutId:l}=s.options;window.MotionCancelOptimisedAnimation(r,"transform",os,!(n||l))}const{parent:a}=s;a&&!a.hasCheckedOptimisedAppear&&_S(a)}function DS({attachResizeListener:s,defaultParent:t,measureScroll:r,checkIsScrollRoot:a,resetTransform:n}){return class{constructor(o={},c=t==null?void 0:t()){this.id=_L++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(RL),this.nodes.forEach(LL),this.nodes.forEach(BL),this.nodes.forEach(ML)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new gL)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Hg),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=J1(o)&&!E9(o),this.instance=o;const{layoutId:c,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),s){let p;const N=()=>this.root.updateBlockedByResize=!1;s(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=yL(N,250),Cu.hasAnimatedSinceResize&&(Cu.hasAnimatedSinceResize=!1,this.nodes.forEach(fw))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&m&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:N,hasRelativeLayoutChanged:k,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||m.getDefaultTransition()||WL,{onLayoutAnimationStart:V,onLayoutAnimationComplete:w}=m.getProps(),C=!this.targetLayout||!TS(this.targetLayout,I),z=!N&&k;if(this.options.layoutRoot||this.resumeFrom||z||N&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,z);const T={...oy(h,"layout"),onPlay:V,onComplete:w};(m.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else N||fw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FL),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_S(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const N=this.path[p];N.shouldResetTransform=!0,N.updateScroll("snapshot"),N.options.layoutRoot&&N.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pw);return}this.isUpdating||this.nodes.forEach(VL),this.isUpdating=!1,this.nodes.forEach(zL),this.nodes.forEach(DL),this.nodes.forEach(AL),this.clearAllSnapshots();const c=ur.now();Ds.delta=Wa(0,1e3/60,c-Ds.timestamp),Ds.timestamp=c,Ds.isProcessing=!0,Eh.update.process(Ds),Eh.preRender.process(Ds),Eh.render.process(Ds),Ds.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OL),this.sharedNodes.forEach(UL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,os.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){os.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sr(this.snapshot.measuredBox.x)&&!sr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!PS(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;o&&this.instance&&(c||ei(this.latestValues)||p)&&(n(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),GL(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:o}=this.options;if(!o)return hs();const c=o.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(HL))){const{scroll:p}=this.root;p&&(no(c.x,p.offset.x),no(c.y,p.offset.y))}return c}removeElementScroll(o){var d;const c=hs();if(Pr(c,o),(d=this.scroll)!=null&&d.wasRoot)return c;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:N,options:k}=p;p!==this.root&&N&&k.layoutScroll&&(N.wasRoot&&Pr(c,o),no(c.x,N.offset.x),no(c.y,N.offset.y))}return c}applyTransform(o,c=!1){const d=hs();Pr(d,o);for(let m=0;m<this.path.length;m++){const p=this.path[m];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&io(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ei(p.latestValues)&&io(d,p.latestValues)}return ei(this.latestValues)&&io(d,this.latestValues),d}removeTransform(o){const c=hs();Pr(c,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!ei(m.latestValues))continue;wp(m.latestValues)&&m.updateSnapshot();const p=hs(),N=m.measurePageBox();Pr(p,N),cw(c,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return ei(this.latestValues)&&cw(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ds.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var k;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:N}=this.options;if(!(!this.layout||!(p||N))){if(this.resolvedRelativeTargetAt=Ds.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hs(),this.relativeTargetOrigin=hs(),Wl(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hs(),this.targetWithTransforms=hs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pr(this.target,this.layout.layoutBox),jS(this.target,this.targetDelta)):Pr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hs(),this.relativeTargetOrigin=hs(),Wl(this.relativeTargetOrigin,this.target,I.target),Pr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wp(this.parent.latestValues)||vS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ds.timestamp&&(d=!1),d)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;Pr(this.layoutCorrected,this.layout.layoutBox);const N=this.treeScale.x,k=this.treeScale.y;Yz(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=hs());const{target:I}=o;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iw(this.prevProjectionDelta.x,this.projectionDelta.x),iw(this.prevProjectionDelta.y,this.projectionDelta.y)),ql(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==N||this.treeScale.y!==k||!hw(this.projectionDelta.x,this.prevProjectionDelta.x)||!hw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ao(),this.projectionDelta=ao(),this.projectionDeltaWithTransform=ao()}setAnimationOrigin(o,c=!1){const d=this.snapshot,m=d?d.latestValues:{},p={...this.latestValues},N=ao();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const k=hs(),I=d?d.source:void 0,h=this.layout?this.layout.source:void 0,V=I!==h,w=this.getStack(),C=!w||w.members.length<=1,z=!!(V&&!C&&this.options.crossfade===!0&&!this.path.some(qL));this.animationProgress=0;let T;this.mixTargetDelta=W=>{const $=W/1e3;gw(N.x,o.x,$),gw(N.y,o.y,$),this.setTargetDelta(N),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wl(k,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$L(this.relativeTarget,this.relativeTargetOrigin,k,$),T&&CL(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=hs()),Pr(T,this.relativeTarget)),V&&(this.animationValues=p,vL(p,m,this.latestValues,$,z,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,d,m;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(!1),(m=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||m.stop(!1),this.pendingAnimation&&(Vn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=os.update(()=>{Cu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Do(0)),this.currentAnimation=pL(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),o.onUpdate&&o.onUpdate(p)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(TL),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:m,latestValues:p}=o;if(!(!c||!d||!m)){if(this!==o&&this.layout&&m&&AS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||hs();const N=sr(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+N;const k=sr(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+k}Pr(c,d),io(c,p),ql(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new EL),this.sharedNodes.get(o).add(c);const m=c.options.initialPromotionConfig;c.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const m={};d.z&&Vh("z",o,m,this.animationValues);for(let p=0;p<Oh.length;p++)Vh(`rotate${Oh[p]}`,o,m,this.animationValues),Vh(`skew${Oh[p]}`,o,m,this.animationValues);o.render();for(const p in m)o.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return PL;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Su(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=Su(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ei(this.latestValues)&&(I.transform=d?d({},""):"none",this.hasProjected=!1),I}const p=m.animationValues||m.latestValues;this.applyTransformsToTarget(),c.transform=IL(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:N,y:k}=this.projectionDelta;c.transformOrigin=`${N.origin*100}% ${k.origin*100}% 0`,m.animationValues?c.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const I in Ic){if(p[I]===void 0)continue;const{correct:h,applyTo:V,isCSSVariable:w}=Ic[I],C=c.transform==="none"?p[I]:h(p[I],m);if(V){const z=V.length;for(let T=0;T<z;T++)c[V[T]]=C}else w?this.options.visualElement.renderState.vars[I]=C:c[I]=C}return this.options.layoutId&&(c.pointerEvents=m===this?Su(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop(!1)}),this.root.nodes.forEach(pw),this.root.sharedNodes.clear()}}}function DL(s){s.updateLayout()}function AL(s){var r;const t=((r=s.resumeFrom)==null?void 0:r.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&t&&s.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=s.layout,{animationType:l}=s.options,o=t.source!==s.layout.source;l==="size"?Tr(N=>{const k=o?t.measuredBox[N]:t.layoutBox[N],I=sr(k);k.min=a[N].min,k.max=k.min+I}):AS(l,t.layoutBox,a)&&Tr(N=>{const k=o?t.measuredBox[N]:t.layoutBox[N],I=sr(a[N]);k.max=k.min+I,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[N].max=s.relativeTarget[N].min+I)});const c=ao();ql(c,a,t.layoutBox);const d=ao();o?ql(d,s.applyTransform(n,!0),t.measuredBox):ql(d,a,t.layoutBox);const m=!PS(c);let p=!1;if(!s.resumeFrom){const N=s.getClosestProjectingParent();if(N&&!N.resumeFrom){const{snapshot:k,layout:I}=N;if(k&&I){const h=hs();Wl(h,t.layoutBox,k.layoutBox);const V=hs();Wl(V,a,I.layoutBox),TS(h,V)||(p=!0),N.options.layoutRoot&&(s.relativeTarget=V,s.relativeTargetOrigin=h,s.relativeParent=N)}}}s.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(s.isLead()){const{onExitComplete:a}=s.options;a&&a()}s.options.transition=void 0}function RL(s){s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function ML(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function OL(s){s.clearSnapshot()}function pw(s){s.clearMeasurements()}function VL(s){s.isLayoutDirty=!1}function zL(s){const{visualElement:t}=s.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),s.resetTransform()}function fw(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function LL(s){s.resolveTargetDelta()}function BL(s){s.calcProjection()}function FL(s){s.resetSkewAndRotation()}function UL(s){s.removeLeadSnapshot()}function gw(s,t,r){s.translate=rs(t.translate,0,r),s.scale=rs(t.scale,1,r),s.origin=t.origin,s.originPoint=t.originPoint}function yw(s,t,r,a){s.min=rs(t.min,r.min,a),s.max=rs(t.max,r.max,a)}function $L(s,t,r,a){yw(s.x,t.x,r.x,a),yw(s.y,t.y,r.y,a)}function qL(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const WL={duration:.45,ease:[.4,0,.1,1]},bw=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),vw=bw("applewebkit/")&&!bw("chrome/")?Math.round:Or;function jw(s){s.min=vw(s.min),s.max=vw(s.max)}function GL(s){jw(s.x),jw(s.y)}function AS(s,t,r){return s==="position"||s==="preserve-aspect"&&!Kz(xw(t),xw(r),.2)}function HL(s){var t;return s!==s.root&&((t=s.scroll)==null?void 0:t.wasRoot)}const KL=DS({attachResizeListener:(s,t)=>Tc(s,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zh={current:void 0},RS=DS({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!zh.current){const s=new KL({});s.mount(window),s.setOptions({layoutScroll:!0}),zh.current=s}return zh.current},resetTransform:(s,t)=>{s.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),QL={pan:{Feature:uL},drag:{Feature:dL,ProjectionNode:RS,MeasureLayout:CS}};function Nw(s,t,r){const{props:a}=s;s.animationState&&a.whileHover&&s.animationState.setActive("whileHover",r==="Start");const n="onHover"+r,l=a[n];l&&os.postRender(()=>l(t,od(t)))}class YL extends Wn{mount(){const{current:t}=this.node;t&&(this.unmount=N9(t,(r,a)=>(Nw(this.node,a,"Start"),n=>Nw(this.node,n,"End"))))}unmount(){}}class XL extends Wn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ad(Tc(this.node.current,"focus",()=>this.onFocus()),Tc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ww(s,t,r){const{props:a}=s;if(s.current instanceof HTMLButtonElement&&s.current.disabled)return;s.animationState&&a.whileTap&&s.animationState.setActive("whileTap",r==="Start");const n="onTap"+(r==="End"?"":r),l=a[n];l&&os.postRender(()=>l(t,od(t)))}class JL extends Wn{mount(){const{current:t}=this.node;t&&(this.unmount=C9(t,(r,a)=>(ww(this.node,a,"Start"),(n,{success:l})=>ww(this.node,n,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cp=new WeakMap,Lh=new WeakMap,ZL=s=>{const t=Cp.get(s.target);t&&t(s)},eB=s=>{s.forEach(ZL)};function tB({root:s,...t}){const r=s||document;Lh.has(r)||Lh.set(r,{});const a=Lh.get(r),n=JSON.stringify(t);return a[n]||(a[n]=new IntersectionObserver(eB,{root:s,...t})),a[n]}function sB(s,t,r){const a=tB(t);return Cp.set(s,r),a.observe(s),()=>{Cp.delete(s),a.unobserve(s)}}const rB={some:0,all:1};class aB extends Wn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:a,amount:n="some",once:l}=t,o={root:r?r.current:void 0,rootMargin:a,threshold:typeof n=="number"?n:rB[n]},c=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:N}=this.node.getProps(),k=m?p:N;k&&k(d)};return sB(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(nB(t,r))&&this.startObserver()}unmount(){}}function nB({viewport:s={}},{viewport:t={}}={}){return r=>s[r]!==t[r]}const iB={inView:{Feature:aB},tap:{Feature:JL},focus:{Feature:XL},hover:{Feature:YL}},oB={layout:{ProjectionNode:RS,MeasureLayout:CS}},Ep={current:null},MS={current:!1};function lB(){if(MS.current=!0,!!Ug)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ep.current=s.matches;s.addListener(t),t()}else Ep.current=!1}const cB=new WeakMap;function dB(s,t,r){for(const a in t){const n=t[a],l=r[a];if(Ks(n))s.addValue(a,n);else if(Ks(l))s.addValue(a,Do(n,{owner:s}));else if(l!==n)if(s.hasValue(a)){const o=s.getValue(a);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=s.getStaticValue(a);s.addValue(a,Do(o!==void 0?o:n,{owner:s}))}}for(const a in r)t[a]===void 0&&s.removeValue(a);return t}const kw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uB{scrapeMotionValuesFromProps(t,r,a){return{}}constructor({parent:t,props:r,presenceContext:a,reducedMotionConfig:n,blockInitialAnimation:l,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ny,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const k=ur.now();this.renderScheduledAt<k&&(this.renderScheduledAt=k,os.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=m,this.parent=t,this.props=r,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=c,this.blockInitialAnimation=!!l,this.isControllingVariants=Sx(r),this.isVariantNode=sS(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...N}=this.scrapeMotionValuesFromProps(r,{},this);for(const k in N){const I=N[k];d[k]!==void 0&&Ks(I)&&I.set(d[k],!1)}}mount(t){this.current=t,cB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),MS.current||lB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ep.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vn(this.notifyUpdate),Vn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Ho.has(t);a&&this.onBindTransform&&this.onBindTransform();const n=r.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&os.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{n(),l(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ao){const r=Ao[t];if(!r)continue;const{isEnabled:a,Feature:n}=r;if(!this.features[t]&&n&&a(this.props)&&(this.features[t]=new n(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hs()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<kw.length;a++){const n=kw[a];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const l="on"+n,o=t[l];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=dB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const a=this.values.get(t);r!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&r!==void 0&&(a=Do(r===null?void 0:r,{owner:this}),this.addValue(t,a)),a}readValue(t,r){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(d1(a)||m1(a))?a=parseFloat(a):!P9(a)&&zn.test(r)&&(a=H1(t,r)),this.setBaseTarget(t,Ks(a)?a.get():a)),Ks(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var l;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const o=yy(this.props,r,(l=this.presenceContext)==null?void 0:l.custom);o&&(a=o[t])}if(r&&a!==void 0)return a;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!Ks(n)?n:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Hg),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class OS extends uB{constructor(){super(...arguments),this.KeyframeResolver=g9}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:a}){delete r[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ks(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function VS(s,{style:t,vars:r},a,n){Object.assign(s.style,t,n&&n.getProjectionStyles(a));for(const l in r)s.style.setProperty(l,r[l])}function mB(s){return window.getComputedStyle(s)}class xB extends OS{constructor(){super(...arguments),this.type="html",this.renderInstance=VS}readValueFromInstance(t,r){var a;if(Ho.has(r))return(a=this.projection)!=null&&a.isProjecting?hp(r):OV(t,r);{const n=mB(t),l=(Yg(r)?n.getPropertyValue(r):n[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:r}){return NS(t,r)}build(t,r,a){py(t,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,r,a){return by(t,r,a)}}const zS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hB(s,t,r,a){VS(s,t,void 0,a);for(const n in t.attrs)s.setAttribute(zS.has(n)?n:hy(n),t.attrs[n])}class pB extends OS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hs}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Ho.has(r)){const a=G1(r);return a&&a.default||0}return r=zS.has(r)?r:hy(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,a){return mS(t,r,a)}build(t,r,a){lS(t,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,r,a,n){hB(t,r,a,n)}mount(t){this.isSVGTag=dS(t.tagName),super.mount(t)}}const fB=(s,t)=>gy(s)?new pB(t):new xB(t,{allowProjection:s!==v.Fragment}),gB=hz({...Bz,...iB,...QL,...oB},fB),ut=L9(gB),Ge="/assets/logo-e43e9960.png",yB="/assets/brooklyn99-7c1a6c47.png",bB="/assets/stranger-things-31a579dc.png",vB="/assets/breaking-bad-482f4098.png",jB="/assets/naruto-54b60bd0.png",NB="/assets/alice-5ff5523e.png",wB="/assets/netflix-e3c8e0d2.png",kB="/assets/spotify-d09996b4.png",SB="/assets/disney-0c4f0934.png",CB="/assets/max-c00a4c65.png",EB="/assets/prime-video-72b85c51.png",IB="/assets/vix-ee8ed6dc.png",PB="/assets/Canva-e7a7d520.png",TB="/assets/ChatGPT-b8d712b1.png",_B="/assets/crunchyroll-562435fc.png",DB="/assets/redessociales-65298696.png",AB="/assets/dgo-7ac16535.png",RB="/assets/ligamax-7ac6606f.png",MB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAB4CAYAAADblO/uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACnFJREFUeNrsnd912zYbh+Gc3FedoPQEVSYINUHUm+bS0gS2JlA8ga0JrF7qyvYElieIMkHYCapvAn+EQEb2sUgR1AsSIJ/nHKU9jkOKIH54/+AFcPby8qIAoNucIXQAhA4ACB0AEDoAIHQAQOgAgNABAKEDAEIHQOgAgNABAKEDAEIHAIQOAAgdABA6ACB0AIQOAAgdABA6AHRX6GdnZ7RiVVZJlP45Tj+D9PM5++k2/fxIPxv1NXqgkeA1UoYYoTcj8En652X6GR75TS36Rfq5TUW/peEAoYchcG29b9JPZPkvk/QzTcW+phEROkL3V+DaNb/L3PRT0GJf0qAIHaH7KfKnCm46YgeEjsjf8CkV+4YGRugIvbsiz2P2TyToEHpdPtCUYtw4ErkmSj9XNDGEadHNvLL+xK9+qq3WJqiMs8mu3zdwp/O0XRK6LRbdf6EbF1dbpwt1fNpJF5AsvBa9eZ6fyhTBuGaZtsWU7o/Q/Rb6KvmmTOGIrSi04KdexqjmmeYN3vF3YnWE7qfQZRJV2mX9y6vsc7PWPGeWtsEtEkDofgl9lQwzkUuIQVuykTdiXyU6BLlp+K5J+vznne7dxks6FLYkCN1HobuxeP6IfZX8VPblrRJ0e159lRzqlKM+lgRLCf2j4+/5pOTdWhMGrJJ2xW4WqkQt3V0nMjeOnitWb2dB6rDeDcgU+XjDR4dCcDmvrMV+n96jzSKSixbf23gXq7tBi/zU5OI86wPbTPSPlPG2ywdHItedxXWBR6SambsuyjvELb63KKtB8J1BNijdpd/3v8wLgs4IvbnpprggceOaSw/e3TiwvjbIBH+f5W4gaKHLxHh2g4qxsE1Z84EnIvscaJ9rqooQHMfo8xaeQ6/9/tTQvSaq2Xnzsli6Scqz3vty5igbhMYl7WQ8sa/RNyQYokVvL3YdZsm/vrjtxhX2KU7Xc9x6INBJN1Omq+f6b0vbERc+WNe9zUz0VRY2uHTbY9XelNrhAc5X9GzI10jPDExLYnZW5AUq9EnLz+Paql949v6G3vcwM61WtLvtFyQYmtCNtRu03vFdZeGNmznx7P2FkpC7LnlfuO+BWXRfRmdXWfiJh+8vDJGYCrkkWK+kA0hm3WOPnku78CPha156+P5CEokWetToYPU2ZzPI2stsbJJ/p54slPko1KADzzpdvKvCkiq79C8J9/q7RYF01ucCYzAsieFt39GX7HrDygNI3TLdw/UiSe0+V3Q9vWrPI4vuo2W5SRvvQagWXjoJpzvWIvtvXoAzr2ndohK3uE9okdTJ4uftP077i34Hs4pHY8Xqfc3I+gRhSl/PSYwee/ji80MUTreYsvG57kijXWcyU1BJtpHEuXK1Ig1sBs37lsqqnSIldF+zv2OBhRSSIp8W7g5jPI86K9LiQPpaUR/xcXCbZxt+EqMfGAl9Rbvwm1pro401nwuKvNwN05Vlq2QdkHhtPaxDSC4zXqv96bTbkkEkP812XNJ373bvoiP78/VB6KdsVCG1+GJpkaR57JzQy5O1Mhbdvm7+YedBFW8Hlsfuyy68gg8CLzGETpmLfVy5Y66SOyWTZEwsXfIuxulXhW3TtsU0oVTR++lM5V6fTmrJd6W5K63GMgPXk2Bsfm3ZmW07vt/VcaatL0usavsYsScH/qYzxTwSrntojTHZffTUm5nbzS1orPbzsHIxo+28qg4vVkmXXPayfQP/8ejbPhzwPCKE/tZShshYud9A4lr1kf3mHDcl/WPt2eaR/3b5lXxU4IpNx7YnvqiQj/kt84iO/Z4OT6bevS+EDjVYdOx5JoLXmnJYZH+Ens9z+lYnL/NsbG9cbMmrlZhKhxPHvIwhQpdHi2D2KxttXsJ9wPH+oeer2yG72uHevnO3otb5gc8VwwgsuiOSd0f/moowvaz0qSNiP8Vtt31+n2PLtTIFQA+NuOqm3FlXMkZIu32hHxaBmVbShQt3gbfppuH4838N3WdmMag0u87bZPlvlJ+bg/RW6MWdRce1q0TPZYe8oODUJJyvHo3Pswh3Fn1mXdLuQ4Qux7EYbZbFVaG68KcmmobC7dltjLs+LjEqi2yQ2hy5TpyFjghdKEYs75ja5VslC9XOQRCni7z52u2+r2GfFxqMoiXBPUSi1t22Y0dHf8OsREoCbM9HgWv8SbesbM2HBf1picjlhe5KkLMA21NiftguZOlW9Z0tRS77NdKWFrp9djWueF0tmnVQIpdx222EvqULi/RJKaLuCt1gI0gb1zQkq/4odB2bZBx7zPlF54WeOOnIJlO67JHb7kvYBPXzBlGXhf7DatSza4xZAC7qpqWdUn70XFbbArGNG3nnh5l0Wei2LmRc+TeNgHxfCdbWBgp9d92LQsY6U7ORUNtfWq9XMAPTF/+Fbp/5/WJ5/W+eu6ltuO3bnmfcy85004c33h/1HM3egHq3oe/KtvTaJPwOiT3fn/Bb4ZZl5r7jbFuzn8os6HJalSdZGbe2sNRxjevPlNyurNJueyIq4GqZ9wcFmusCkeanrzxkIc7m1yBgNsiIBcS1KLj3IPMq5rutxt+GGNWPi/LQdbd1IwfWu8f6O90m/Z0eKg4GzBWbfrE88g7y467us4/+/ysRC3r83rmw41efVkq7JYX+7NR931v1rsfni0rtwA4tr/lLIF+xqeklSdx7qxznW+SEbr9ryLjGPXybbkvENzg01yvbT23K7jXv2kznKz5lXs62hsCn2b9/rnVvc0T3bc3BRb9rfe7eo8smkl69ZhOnR7vspL1QZtkg4cPqtoWjjquX62qLfaH22WCzEsu9JS9yR5vM8I9q3V8nbVeJFtxEmR1mDrnKufV8VO93ol3Wes783DyzGOv1vd8bBnP953f3drzF99nLy8tpFzg7U6++bNHxNmUuqP1IaH8fF2x3I3FHzuaCljEnuL47Nvnl7z9GvsXoqkaMU+/ccTM4tD2HvEDkEAqyQi+eWyxiWHo8Ujlt7gu+rRmTARTxRzhCN9hmoeuVK5r4pq0pphnWHISJQhO6rfte/5BAUzHXdOHIkqw3NCT0xF+h27vv8Yl3nDYYr29UmBtigM+YUt1DQv/XX6EbbKadTnNZ9vOY6wZEPsJlBwdMCn4u1qdlp9f2I5ROsOli/aqJtpHIAo1Voqfcrhy8iNv0+2HJwYU11yWy3w/8jS4C+v1Ufbq16MbqNR/HGjGOBGObdTYIIXKQFvggmzt/EvCKW7Lo+7jje0Wrfi5e8WX2+76okQPQg5RO8P3T+2WgUNerzBfMHCqprXK09K9iLCmL7k7o5qGrVLDpevFzx4kO3ah/quIVS89Z467Fa9ehj0I/JXzcZl7krh+GIXTz4E9HRi822ocuCV2743MJkUsK/UMDj66X8RUJ+RaRQ8eoG4IuM3fdiUfp3qK/d6GjX3Ewa6qhexZd9+/LLEyMVPH08UbtV7IVngngjesOAP6D0AEQOgAgdABA6ACA0AEAoQMAQgcAhA4ACB0AoQMAQgcAhA4ACB0AEDoAIHQAQOgAgNABEDoAIHQAQOgAgNABAKEDAEIHAIQOAAgdAKEjdIDu838BBgAP9Pzi++BqOAAAAABJRU5ErkJggg==",OB="/assets/youtube-49ca55e1.png",VB="/assets/deezer-17be4fc1.png",zB="/assets/tidal-d3f361cb.png",LB="/assets/vpn-62bcb4e7.png",BB="/assets/wintv-4112ccf1.png",FB="/assets/applemusic-67f0cc24.png",UB="/assets/appletv-e2fd6c55.png",$B="/assets/iptv-a55016d0.png",qB="/assets/flujotv-4d1c58b0.png",WB="/assets/vikirakuten-116faf85.png",GB="/assets/pornhub-46f32d0d.png",HB="/assets/paramount-5ab87b8f.png",KB="/assets/licencias-80ba80ab.png",QB="/assets/capcut-bc65a6c0.png",YB="/assets/duolingo-4d803f89.png",XB="/assets/buscapersonas-88e00efa.png",LS=v.createContext({theme:"dark",toggleTheme:()=>{}}),JB=({children:s})=>{const[t,r]=v.useState(()=>localStorage.getItem("theme")||"dark"),a=()=>{r(n=>{const l=n==="dark"?"light":"dark";return localStorage.setItem("theme",l),l})};return v.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(LS.Provider,{value:{theme:t,toggleTheme:a},children:e.jsx("div",{className:`min-h-screen font-inter transition-colors duration-300 ${t==="dark"?"bg-gradient-to-br from-gray-900 via-blue-950 to-gray-900 text-gray-100":"bg-gradient-to-br from-gray-100 via-blue-50 to-gray-100 text-gray-900"}`,children:s})})},yr=[{src:yB,title:"Brooklyn Nine-Nine",description:"Comedia policial hilarante"},{src:bB,title:"Stranger Things",description:"Misterio y nostalgia ochentera"},{src:vB,title:"Breaking Bad",description:"A chemistry teacher's descent into the world of crime"},{src:jB,title:"Naruto",description:"Aventuras ninja picas"},{src:NB,title:"Alice in Borderland",description:"Juego de supervivencia intenso"}],ZB=[{name:"Netflix",logo:wB,route:"/netflix",color:"#E50914"},{name:"Spotify",logo:kB,route:"/spotify",color:"#1DB954"},{name:"Disney+",logo:SB,route:"/disney",color:"#1C4ED8"},{name:"Max",logo:CB,route:"/max",color:"#B5179E"},{name:"Prime Video",logo:EB,route:"/primevideo",color:"#00A8E1"},{name:"Vix",logo:IB,route:"/vix",color:"#FF5733"},{name:"Canva",logo:PB,route:"/canva",color:"#00C4B4"},{name:"ChatGPT",logo:TB,route:"/chatgpt",color:"#10A37F"},{name:"Crunchyroll",logo:_B,route:"/crunchyroll",color:"#F47521"},{name:"Redes Sociales",logo:DB,route:"/redessociales",color:"#3B5998"},{name:"Dgo",logo:AB,route:"/dgo",color:"#4CAF50"},{name:"Liga Max",logo:RB,route:"/ligamax",color:"#FFD700"},{name:"Movistar Play",logo:MB,route:"/movistarplay",color:"#00ADEF"},{name:"Youtube",logo:OB,route:"/youtube",color:"#FF0000"},{name:"Deezer",logo:VB,route:"/deezer",color:"#FEAA2D"},{name:"Tidal",logo:zB,route:"/tidal",color:"#00C7B7"},{name:"Vpn",logo:LB,route:"/vpn",color:"#4B0082"},{name:"Win Tv",logo:BB,route:"/wintv",color:"#4682B4"},{name:"Apple Music",logo:FB,route:"/applemusic",color:"#FA2C43"},{name:"Apple Tv",logo:UB,route:"/appletv",color:"#A3AAAE"},{name:"Iptv",logo:$B,route:"/iptv",color:"#8B008B"},{name:"Flujo Tv",logo:qB,route:"/flujotv",color:"#20B2AA"},{name:"Viki Rakuten",logo:WB,route:"/vikirakuten",color:"#D81B60"},{name:"Pornhub",logo:GB,route:"/pornhub",color:"#FFA500"},{name:"Paramount",logo:HB,route:"/paramount",color:"#0064D2"},{name:"Licencias",logo:KB,route:"/licencias",color:"#708090"},{name:"Capcut",logo:QB,route:"/capcut",color:"#00CED1"},{name:"Duolingo",logo:YB,route:"/duolingo",color:"#58CC02"},{name:"Busca Personas",logo:XB,route:"/buscapersonas",color:"#6A5ACD"}],eF=({isOpen:s,onClose:t,message:r})=>e.jsx(R9,{children:s&&e.jsx(ut.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs(ut.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl border dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(r4,{className:"text-blue-500 dark:text-cyan-400 text-2xl"}),e.jsx("h3",{className:"text-xl font-bold dark:text-white text-gray-900",children:"Notificacin"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:r}),e.jsx("button",{onClick:t,className:"w-full py-2 rounded-lg bg-blue-600 dark:bg-cyan-600 text-white hover:bg-blue-700 dark:hover:bg-cyan-700 transition-colors focus:outline-none focus:ring-2 focus:ring-cyan-500",children:"Cerrar"})]})})}),tF=()=>{const[s,t]=v.useState(0),[r,a]=v.useState(null),[n,l]=v.useState(0),[o,c]=v.useState("user"),[d,m]=v.useState(""),[p,N]=v.useState([]),[k,I]=v.useState({isOpen:!1,message:""}),[h,V]=v.useState(!1),w=jt(),{theme:C,toggleTheme:z}=v.useContext(LS);v.useEffect(()=>{const u=setInterval(()=>{t(F=>(F+1)%yr.length)},5e3);return()=>clearInterval(u)},[]),v.useEffect(()=>{(async()=>{if(ze.currentUser)try{const F=X(P,"users"),B=ye(F,be("email","==",ze.currentUser.email)),Q=await gt(B);if(!Q.empty){const G=Q.docs[0].data();a({name:G.username||"Usuario",email:ze.currentUser.email}),l(G.balance||0),c(G.role||"user")}const D=await We(q(P,"notifications","adminMessage"));if(D.exists()){const G=D.data();I({isOpen:!0,message:G.message||"Mensaje del administrador no disponible."})}}catch(F){console.error("Error al cargar datos:",F),I({isOpen:!0,message:"Hubo un error al cargar los datos. Por favor, intenta de nuevo."})}})()},[]);const T=async()=>{try{const u=await We(q(P,"notifications","adminMessage"));if(u.exists()){const F=u.data();I({isOpen:!0,message:F.message||"Mensaje del administrador no disponible."})}else I({isOpen:!0,message:"No hay notificaciones del administrador en este momento."})}catch(u){console.error("Error al cargar notificacin:",u),I({isOpen:!0,message:"Error al cargar la notificacin. Por favor, intenta de nuevo."})}},W=async()=>{try{await ze.signOut(),a(null),w("/login")}catch(u){console.error("Error al cerrar sesin:",u),I({isOpen:!0,message:"Error al cerrar sesin. Por favor, intenta de nuevo."})}},$=()=>{w({user:"/dashboard/user",affiliate:"/dashboard/affiliate",provider:"/dashboard/provider",admin:"/dashboard/admin"}[o]||"/dashboard/user")},U=async u=>{if(u.preventDefault(),!d.trim()){N([]);return}try{const F=X(P,"products"),B=ye(F,be("name",">=",d.toLowerCase()),be("name","<=",d.toLowerCase()+"")),D=(await gt(B)).docs.map(G=>({id:G.id,...G.data()}));N(D)}catch(F){console.error("Error al buscar productos:",F),I({isOpen:!0,message:"Error al realizar la bsqueda. Por favor, intenta de nuevo."}),N([])}},A=()=>{V(u=>!u)};return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(eF,{isOpen:k.isOpen,onClose:()=>I({...k,isOpen:!1}),message:k.message}),e.jsx(ut.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:120},className:`fixed top-0 left-0 right-0 z-50 backdrop-blur-xl border-b dark:border-gray-800 border-gray-200 shadow-lg ${C==="dark"?"bg-gray-900/80":"bg-white/80"}`,children:e.jsxs("div",{className:"container mx-auto px-6 py-4 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-2",children:[e.jsx("div",{className:"flex items-center justify-center lg:justify-start",children:e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(ut.img,{whileHover:{scale:1.1},src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:`text-xl font-bold ${C==="dark"?"text-cyan-300":"text-blue-600"}`,children:"BlackStreaming"})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between lg:flex-1 gap-2",children:[e.jsxs(ut.div,{className:"flex items-center relative w-full lg:max-w-lg mx-auto",initial:{scale:.9},animate:{scale:1},children:[e.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"w-full py-3 px-5 pr-12 rounded-full bg-gray-100 dark:bg-gray-800 dark:text-gray-100 text-gray-900 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 dark:focus:ring-cyan-500 focus:outline-none shadow-sm transition-all",value:d,onChange:u=>m(u.target.value)}),e.jsx(ut.button,{whileHover:{scale:1.1},onClick:U,className:"absolute right-3 dark:text-cyan-400 text-blue-600","aria-label":"Buscar",children:e.jsx(a4,{size:20})})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-3 flex-wrap gap-2",children:[e.jsx(ut.button,{whileHover:{rotate:180},whileTap:{scale:.9},onClick:z,className:"p-2 rounded-full dark:text-cyan-300 text-blue-600 dark:hover:bg-gray-800 hover:bg-gray-100","aria-label":"Cambiar tema",children:C==="dark"?e.jsx(Df,{size:22}):e.jsx(Tf,{size:22})}),r?e.jsxs(e.Fragment,{children:[e.jsx(ut.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:T,className:"p-2 rounded-full dark:bg-gray-800 bg-gray-100 dark:hover:bg-gray-700 hover:bg-gray-200","aria-label":"Ver notificaciones",children:e.jsx(r4,{className:"dark:text-cyan-400 text-blue-600",size:22})}),e.jsx(ut.span,{className:"text-base font-medium dark:text-cyan-300 text-blue-700",initial:{opacity:0},animate:{opacity:1},children:r.name}),e.jsxs(ut.span,{className:"text-base font-medium dark:bg-gray-800 bg-gray-100 dark:text-cyan-200 text-blue-800 px-4 py-1.5 rounded-full",whileHover:{scale:1.05},children:["S/ ",n.toFixed(2)]}),e.jsx(ut.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:$,className:"p-2 rounded-full dark:bg-gray-800 bg-gray-100 dark:hover:bg-gray-700 hover:bg-gray-200","aria-label":"Panel de control",children:e.jsx(DT,{className:"dark:text-cyan-400 text-blue-600",size:22})}),e.jsx(ut.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:A,className:`p-2 rounded-full ${h?"bg-red-600 dark:bg-red-500 hover:bg-red-700 dark:hover:bg-red-600":"dark:bg-gray-800 bg-gray-100 dark:hover:bg-gray-700 hover:bg-gray-200"}`,"aria-label":h?"Desactivar modo live":"Activar modo live",children:e.jsx(PT,{className:h?"text-white":"dark:text-cyan-400 text-blue-600",size:22})}),e.jsxs(ut.button,{whileHover:{scale:1.05},whileTap:{scale:.9},onClick:W,className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white bg-gradient-to-r from-red-600 to-red-700 shadow-md hover:from-red-700 hover:to-red-800 transition-all duration-300",children:[e.jsx(AT,{size:18}),e.jsx("span",{children:"Salir"})]})]}):e.jsxs("div",{className:"flex items-center space-x-3 flex-wrap justify-center gap-2",children:[e.jsxs(ut.button,{whileHover:{scale:1.05},whileTap:{scale:.9},onClick:()=>w("/login"),className:`inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 ${C==="dark"?"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700":"bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600"}`,"aria-label":"Ingresar",children:[e.jsx(_f,{size:18}),e.jsx("span",{children:"Ingresar"})]}),e.jsx(ut.button,{whileHover:{scale:1.05},whileTap:{scale:.9},onClick:()=>w("/register"),className:`inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 ${C==="dark"?"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600":"bg-gradient-to-r from-blue-400 to-indigo-400 hover:from-blue-500 hover:to-indigo-500"}`,"aria-label":"Registrarse",children:e.jsx("span",{children:"Registrarse"})})]})]})]})]})}),e.jsxs("main",{className:"flex-grow pt-24",children:[p.length>0&&e.jsxs(ut.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"py-12 px-6 container mx-auto",children:[e.jsx("h2",{className:`text-3xl font-bold mb-6 ${C==="dark"?"text-white":"text-gray-900"}`,children:"Resultados de bsqueda"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map(u=>{var F;return e.jsxs(ut.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.05,boxShadow:"0 10px 20px rgba(0,0,0,0.1)"},className:`p-6 rounded-lg shadow-md border-2 ${C==="dark"?"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700":"bg-gradient-to-br from-white to-gray-100 border-gray-200"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-2 ${C==="dark"?"text-cyan-300":"text-blue-600"}`,children:u.name}),e.jsx("p",{className:`text-base line-clamp-2 mb-2 ${C==="dark"?"text-gray-300":"text-gray-600"}`,children:u.description}),e.jsxs("p",{className:`text-base font-medium mb-1 ${C==="dark"?"text-gray-200":"text-gray-700"}`,children:["Plataforma: ",u.platform]}),e.jsxs("p",{className:`text-base font-bold ${C==="dark"?"text-cyan-400":"text-blue-700"}`,children:["Precio: S/ ",(F=u.price)==null?void 0:F.toFixed(2)]})]},u.id)})})]}),d.trim()&&p.length===0&&e.jsx(ut.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"py-12 px-6 container mx-auto text-center",children:e.jsxs("p",{className:`text-lg ${C==="dark"?"text-gray-300":"text-gray-600"}`,children:['No se encontraron productos para "',d,'".']})}),e.jsxs(ut.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"py-8 px-6 text-center",children:[e.jsx("h1",{className:`text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight ${C==="dark"?"text-white":"text-gray-900"} bg-clip-text bg-gradient-to-r dark:from-cyan-400 dark:to-blue-500 from-blue-600 to-indigo-600`,children:"Tus plataformas favoritas al instante"}),e.jsx("p",{className:`mt-4 text-lg sm:text-xl ${C==="dark"?"text-gray-300":"text-gray-600"} max-w-3xl mx-auto`,children:"Accede a todo tu entretenimiento y herramientas con BlackStreaming."})]}),e.jsxs("section",{className:"relative py-6 px-6 sm:px-8",children:[e.jsxs(ut.div,{className:"flex justify-center items-center space-x-4 perspective-1000",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[e.jsx(ut.div,{className:"hidden lg:block w-48 h-64 rounded-2xl overflow-hidden shadow-xl transform -rotate-y-15",initial:{x:-100,opacity:0},animate:{x:0,opacity:.8},transition:{duration:.5},children:e.jsx("img",{src:yr[(s-1+yr.length)%yr.length].src,alt:"Programa anterior",className:"w-full h-full object-cover scale-110"})}),e.jsxs(ut.div,{className:"relative rounded-2xl overflow-hidden shadow-2xl dark:border-cyan-500/20 border-blue-200/20 border",initial:{scale:.9},animate:{scale:1},transition:{type:"spring",stiffness:100},children:[e.jsx("img",{src:yr[s].src,alt:"Programa destacado",className:"w-72 h-96 sm:w-96 sm:h-[28rem] object-cover"}),e.jsx("div",{className:`absolute inset-0 ${C==="dark"?"bg-gradient-to-t from-gray-900/80 to-transparent":"bg-gradient-to-t from-gray-900/50 to-transparent"}`}),e.jsxs(ut.div,{className:"absolute bottom-0 w-full p-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[e.jsx("h2",{className:`text-2xl sm:text-3xl font-bold ${C==="dark"?"text-white":"text-gray-100"} drop-shadow-lg`,children:yr[s].title}),e.jsx("p",{className:`text-sm ${C==="dark"?"text-gray-300":"text-gray-200"}`,children:yr[s].description})]})]}),e.jsx(ut.div,{className:"hidden lg:block w-48 h-64 rounded-2xl overflow-hidden shadow-xl transform rotate-y-15",initial:{x:100,opacity:0},animate:{x:0,opacity:.8},transition:{duration:.5},children:e.jsx("img",{src:yr[(s+1)%yr.length].src,alt:"Prximo programa",className:"w-full h-full object-cover scale-110"})}),e.jsx(ut.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(u=>(u-1+yr.length)%yr.length),className:"absolute left-4 top-1/2 -translate-y-1/2 dark:bg-gray-900/60 bg-white/60 dark:hover:bg-cyan-500/60 hover:bg-blue-200/60 dark:border-cyan-500/20 border-blue-200/20 backdrop-blur-md p-3 rounded-full border","aria-label":"Programa anterior",children:e.jsx(TT,{className:"dark:text-cyan-300 text-blue-600 text-xl"})}),e.jsx(ut.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(u=>(u+1)%yr.length),className:"absolute right-4 top-1/2 -translate-y-1/2 dark:bg-gray-900/60 bg-white/60 dark:hover:bg-cyan-500/60 hover:bg-blue-200/60 dark:border-cyan-500/20 border-blue-200/20 backdrop-blur-md p-3 rounded-full border","aria-label":"Prximo programa",children:e.jsx(_T,{className:"dark:text-cyan-300 text-blue-600 text-xl"})})]}),e.jsx("div",{className:"flex justify-center space-x-2 mt-6",children:yr.map((u,F)=>e.jsx(ut.div,{whileHover:{scale:1.2},className:`w-2 h-2 rounded-full transition-colors ${F===s?"dark:bg-cyan-400 bg-blue-600":"dark:bg-gray-600 bg-gray-300"}`,"aria-label":`Ir a ${F+1}`},F))})]}),e.jsxs(ut.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"py-16 container mx-auto px-6",children:[e.jsxs("div",{className:"mb-10 text-center",children:[e.jsx(ut.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:`text-3xl md:text-4xl font-bold ${C==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Plataformas de Streaming"}),e.jsx(ut.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:`${C==="dark"?"text-gray-300":"text-gray-600"} max-w-2xl mx-auto`,children:"Acceso a todas tus plataformas favoritas en un solo lugar."})]}),e.jsx(ut.div,{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},children:ZB.map(u=>e.jsx(ut.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05,boxShadow:"0 10px 20px rgba(0,0,0,0.2)"},className:"w-full h-32",children:e.jsxs(f,{to:u.route,className:`group relative flex items-center justify-center h-full rounded-lg shadow-lg transition-all duration-300 ${C==="dark"?"bg-gradient-to-br from-gray-800 to-gray-900":"bg-gradient-to-br from-white to-gray-100"} border-2`,style:{borderImage:`linear-gradient(to right, ${u.color}, transparent) 1`},"aria-label":`Ir a ${u.name}`,children:[e.jsxs("div",{className:"flex items-center space-x-4 p-4",children:[e.jsx(ut.img,{whileHover:{scale:1.1},src:u.logo,alt:u.name,className:"w-20 h-20 object-contain",style:{transform:h?"scaleX(-1)":"scaleX(1)"}}),e.jsx("span",{className:`font-semibold text-center text-base ${C==="dark"?"text-gray-100":"text-gray-800"}`,children:u.name})]}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:u.color}})]})},u.name))})]}),!r&&e.jsx(ut.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"py-16 dark:bg-gradient-to-r dark:from-gray-900/80 dark:to-blue-950/80 bg-gradient-to-r from-blue-50/80 to-gray-100/80",children:e.jsxs("div",{className:"container mx-auto px-6 text-center",children:[e.jsx(ut.h2,{initial:{scale:.9},animate:{scale:1},className:`text-2xl md:text-3xl font-bold ${C==="dark"?"text-white":"text-gray-900"} mb-4`,children:"Listo para adquirir?"}),e.jsx("p",{className:`${C==="dark"?"text-gray-300":"text-gray-600"} max-w-2xl mx-auto mb-6`,children:"nete a miles de usuarios satisfechos accediendo a todas tus plataformas favoritas en un solo lugar."}),e.jsx(ut.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>w("/register"),className:`inline-flex items-center space-x-2 px-6 py-3 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 ${C==="dark"?"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600":"bg-gradient-to-r from-blue-400 to-indigo-400 hover:from-blue-500 hover:to-indigo-500"}`,children:e.jsx("span",{children:"Regstrate - Gratis por tiempo limitado"})})]})})]}),e.jsx("footer",{className:"dark:bg-gray-900/80 bg-white/80 dark:border-gray-800 border-gray-200 backdrop-blur-md border-t py-12",children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-6 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:`text-base font-semibold ${C==="dark"?"text-cyan-300":"text-blue-600"}`,children:"BlackStreaming"})]}),e.jsxs("div",{className:`text-base ${C==="dark"?"text-gray-400":"text-gray-600"} text-center`,children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:`text-base ${C==="dark"?"text-gray-400":"text-gray-600"} text-center`,children:"Desarrollado por Saiph"})]})})})]})},sF=()=>e.jsx(JB,{children:e.jsx(tF,{})});function Ut(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(s)}function ht(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(s)}function BS(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(s)}function _c(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(s)}function Je(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(s)}function Xd(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(s)}function Dc(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(s)}function Gl(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(s)}function Ot(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(s)}function rF(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(s)}function xl(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(s)}function Ns(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(s)}function Jd(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(s)}function jy(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(s)}function FS(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(s)}function US(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(s)}function Ye(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(s)}function Me(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(s)}function Ze(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(s)}function Cx(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(s)}function Lt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(s)}function et(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(s)}function $S(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(s)}function kt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(s)}function aF(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(s)}function Rt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(s)}function oa(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(s)}function Bt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(s)}function Ne(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(s)}function tt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(s)}function st(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(s)}function Sw(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(s)}function qS(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(s)}function Ke(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(s)}function Ac(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(s)}function vt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(s)}function $t(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(s)}function Bh(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(s)}function nF(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(s)}function Ip(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(s)}function ee(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(s)}function Cw(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(s)}function qt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(s)}function Ue(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(s)}function Hl(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(s)}function Oe(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(s)}function le(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(s)}const WS=v.createContext({theme:"dark",toggleTheme:()=>{}}),iF=({children:s})=>{const[t,r]=v.useState(()=>localStorage.getItem("theme")||"dark"),a=()=>{console.log("Toggling theme from",t);const n=t==="dark"?"light":"dark";r(n),localStorage.setItem("theme",n),console.log("Theme set to",n)};return v.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(WS.Provider,{value:{theme:t,toggleTheme:a},children:s})},oF=()=>{const[s,t]=v.useState(""),[r,a]=v.useState(""),[n,l]=v.useState(null),[o,c]=v.useState(!1),d=jt(),{theme:m,toggleTheme:p}=v.useContext(WS),N=async I=>{I.preventDefault(),l(null);try{const h=X(P,"users"),V=ye(h,be("username","==",s)),w=await gt(V);if(w.empty){l("Nombre de usuario no encontrado.");return}const T=w.docs[0].data().email,$=(await FM(ze,T,r)).user;d("/")}catch{l("Usuario o contrasea incorrectos.")}},k=()=>{l(null)};return e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${m==="dark"?"bg-gradient-to-b from-gray-900 via-blue-950 to-gray-900 text-gray-200":"bg-gradient-to-b from-gray-100 via-blue-50 to-gray-100 text-gray-900"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${m==="dark"?"border-gray-800/50 bg-gray-900/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-6 py-4 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsx("div",{className:"flex items-center justify-center lg:justify-start",children:e.jsxs(f,{to:"/",className:"flex items-center space-x-3",children:[e.jsx(ut.img,{whileHover:{scale:1.1},src:Ge,alt:"BlackStreaming",className:"h-12 w-auto transition-transform"}),e.jsx("span",{className:`text-2xl font-bold bg-gradient-to-r ${m==="dark"?"from-cyan-400/50 to-blue-600/50 text-cyan-400":"from-blue-500/50 to-indigo-500/50 text-blue-600"} bg-clip-text`,children:"BlackStreaming"})]})}),e.jsx(ut.div,{animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0,repeatType:"loop"},className:"text-xs font-semibold text-white bg-cyan-500/20 rounded-full px-3 py-1",children:"V 1.0"}),e.jsxs("div",{className:"flex items-center justify-center lg:justify-end space-x-3",children:[e.jsx(ut.button,{whileHover:{rotate:180},whileTap:{scale:.9},onClick:p,className:`p-2 rounded-full ${m==="dark"?"text-cyan-400 hover:bg-gray-700/50":"text-blue-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:m==="dark"?e.jsx(Df,{size:22}):e.jsx(Tf,{size:22})}),e.jsxs(f,{to:"/login",className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700",children:[e.jsx(_f,{size:18}),e.jsx("span",{children:"Ingresar"})]}),e.jsxs(f,{to:"/register",className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600",children:[e.jsx(n4,{size:18}),e.jsx("span",{children:"Registrarse"})]})]})]})}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-6",children:e.jsxs("div",{className:`backdrop-blur-md rounded-2xl shadow-2xl p-12 w-full max-w-lg border-2 ${m==="dark"?"bg-gradient-to-br from-gray-800/60 to-gray-900/60 border-cyan-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-blue-500/20"}`,children:[e.jsx(ut.div,{className:"flex justify-center mb-6",children:e.jsx(ut.img,{whileHover:{scale:1.05},src:Ge,alt:"BlackStreaming",className:"h-24 sm:h-32 w-auto transition-transform"})}),e.jsxs("h1",{className:`text-3xl font-bold mb-10 text-center ${m==="dark"?"text-white":"text-gray-900"}`,children:["Black",e.jsx("span",{className:m==="dark"?"text-cyan-400":"text-blue-600",children:"Streaming"})]}),e.jsx("p",{className:`text-sm text-center mb-10 ${m==="dark"?"text-gray-400":"text-gray-600"}`,children:"Bienvenido de nuevo. Inicia sesin para continuar."}),n&&e.jsxs("div",{className:"mb-6 p-3 bg-gradient-to-r from-red-900/80 to-red-800/80 border-l-4 border-red-500 rounded-xl flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ht,{className:"mr-2 text-red-400"}),e.jsx("span",{className:"text-red-300",children:n})]}),e.jsx("button",{onClick:k,className:"text-red-400 hover:text-red-300",children:e.jsx(le,{size:18})})]}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-lg ${m==="dark"?"text-gray-100":"text-gray-900"}`,children:"Nombre de Usuario"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:`absolute top-3 left-3 ${m==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",placeholder:"Tu nombre de usuario",value:s,onChange:I=>t(I.target.value),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${m==="dark"?"text-white":"text-gray-900"} border ${m==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-cyan-400/50 focus:border-cyan-400 shadow-md backdrop-blur-sm transition-all ${m==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-lg ${m==="dark"?"text-gray-100":"text-gray-900"}`,children:"Contrasea"}),e.jsxs("div",{className:"relative",children:[e.jsx($S,{className:`absolute top-3 left-3 ${m==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:o?"text":"password",placeholder:"",value:r,onChange:I=>a(I.target.value),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${m==="dark"?"text-white":"text-gray-900"} border ${m==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-cyan-400/50 focus:border-cyan-400 shadow-md backdrop-blur-sm transition-all ${m==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,required:!0}),e.jsx("button",{type:"button",onClick:()=>c(!o),className:`absolute top-3 right-3 ${m==="dark"?"text-gray-400 hover:text-cyan-400":"text-gray-600 hover:text-blue-600"} transition-colors`,"aria-label":o?"Ocultar contrasea":"Mostrar contrasea",children:o?e.jsx(FS,{size:18}):e.jsx(US,{size:18})})]})]}),e.jsx(ut.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",className:"w-full py-3 bg-gradient-to-r from-cyan-400 to-blue-600 hover:from-cyan-500 hover:to-blue-700 text-white font-medium rounded-xl shadow-lg transition-all duration-300",children:"Iniciar Sesin"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(f,{to:"/register",className:`flex items-center justify-center transition-all text-lg ${m==="dark"?"text-gray-400 hover:text-cyan-400":"text-gray-600 hover:text-blue-600"}`,children:[e.jsx(BS,{className:"mr-1"})," No tienes una cuenta? Regstrate"]})})]})}),e.jsx("footer",{className:`backdrop-blur-md border-t py-6 ${m==="dark"?"border-gray-800/50":"border-gray-300/50"}`,children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:`text-sm font-semibold ${m==="dark"?"text-cyan-400":"text-blue-600"}`,children:"BlackStreaming"})]}),e.jsxs("div",{className:`text-sm text-center ${m==="dark"?"text-gray-400":"text-gray-600"}`,children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:`text-sm text-center ${m==="dark"?"text-gray-400":"text-gray-600"}`,children:"Desarrollado por Saiph"})]})})})]})},lF=()=>e.jsx(iF,{children:e.jsx(oF,{})}),GS=v.createContext({theme:"dark",toggleTheme:()=>{}}),cF=({children:s})=>{const[t,r]=v.useState(()=>localStorage.getItem("theme")||"dark"),a=()=>{console.log("Toggling theme from",t);const n=t==="dark"?"light":"dark";r(n),localStorage.setItem("theme",n),console.log("Theme set to",n)};return v.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(GS.Provider,{value:{theme:t,toggleTheme:a},children:s})},dF=({isOpen:s,message:t,type:r,onClose:a})=>s?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:`bg-gray-800/90 backdrop-blur-md p-6 rounded-2xl shadow-2xl max-w-sm w-full border transform transition-all duration-300 ${r==="success"?"border-green-500 scale-100":"border-red-500 scale-100"}`,children:[e.jsxs("div",{className:"flex items-center mb-4",children:[r==="success"?e.jsx(Dc,{className:"text-green-400 text-2xl mr-2"}):e.jsx(ht,{className:"text-red-400 text-2xl mr-2"}),e.jsx("h3",{className:`text-lg font-bold ${r==="success"?"text-green-400":"text-red-400"}`,children:r==="success"?"xito":"Error"})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("button",{onClick:a,className:`w-full py-2 rounded-xl font-medium transition-all duration-300 ${r==="success"?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:"Cerrar"})]})}):null,uF=()=>{const[s,t]=v.useState(""),[r,a]=v.useState(""),[n,l]=v.useState(""),[o,c]=v.useState("user"),[d,m]=v.useState(""),[p,N]=v.useState(!1),[k,I]=v.useState({isOpen:!1,message:"",type:"success"}),[h,V]=v.useState(!1),w=jt(),{theme:C,toggleTheme:z}=v.useContext(GS),T=async W=>{W.preventDefault(),I({isOpen:!1,message:"",type:"success"}),N(!0);try{if(!s||s.length<3)throw new Error("El nombre de usuario debe tener al menos 3 caracteres.");if(!r||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))throw new Error("Por favor, ingresa un correo electrnico vlido.");if(!n||n.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");if(!["user","affiliate","provider"].includes(o))throw new Error("Rol no vlido.");await Ar(q(P,"pendingRegistrations",r),{username:s,email:r,password:n,role:o,status:"pending",referrerCode:d||null,createdAt:new Date().toISOString()}),I({isOpen:!0,message:"Tu solicitud de registro ha sido enviada y est pendiente de aprobacin.",type:"success"}),setTimeout(()=>{w("/login")},2e3)}catch($){console.error("Error al registrar la solicitud:",$.message),I({isOpen:!0,message:$.message||"Error al enviar la solicitud de registro. Por favor, intntalo de nuevo.",type:"error"})}finally{N(!1)}};return e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${C==="dark"?"bg-gradient-to-b from-gray-900 via-blue-950 to-gray-900 text-gray-200":"bg-gradient-to-b from-gray-100 via-blue-50 to-gray-100 text-gray-900"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${C==="dark"?"border-gray-800/50 bg-gray-900/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-6 py-4 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsx("div",{className:"flex items-center justify-center lg:justify-start",children:e.jsxs(f,{to:"/",className:"flex items-center space-x-3",children:[e.jsx(ut.img,{whileHover:{scale:1.1},src:Ge,alt:"BlackStreaming",className:"h-12 w-auto transition-transform"}),e.jsx("span",{className:`text-2xl font-bold bg-gradient-to-r ${C==="dark"?"from-cyan-400/50 to-blue-600/50 text-cyan-400":"from-blue-500/50 to-indigo-500/50 text-blue-600"} bg-clip-text`,children:"BlackStreaming"})]})}),e.jsx(ut.div,{animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0,repeatType:"loop"},className:"text-xs font-semibold text-white bg-cyan-500/20 rounded-full px-3 py-1",children:"V 1.0"}),e.jsxs("div",{className:"flex items-center justify-center lg:justify-end space-x-3",children:[e.jsx(ut.button,{whileHover:{rotate:180},whileTap:{scale:.9},onClick:z,className:`p-2 rounded-full ${C==="dark"?"text-cyan-400 hover:bg-gray-700/50":"text-blue-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:C==="dark"?e.jsx(Df,{size:22}):e.jsx(Tf,{size:22})}),e.jsxs(f,{to:"/login",className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700",children:[e.jsx(_f,{size:18}),e.jsx("span",{children:"Ingresar"})]}),e.jsxs(f,{to:"/register",className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600",children:[e.jsx(n4,{size:18}),e.jsx("span",{children:"Registrarse"})]})]})]})}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-6",children:e.jsxs("div",{className:`backdrop-blur-md rounded-2xl shadow-2xl p-12 w-full max-w-lg border-2 ${C==="dark"?"bg-gradient-to-br from-gray-800/60 to-gray-900/60 border-cyan-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-blue-500/20"}`,children:[e.jsx(ut.div,{className:"flex justify-center mb-6",children:e.jsx(ut.img,{whileHover:{scale:1.05},src:Ge,alt:"BlackStreaming",className:"h-24 sm:h-32 w-auto transition-transform"})}),e.jsxs("h1",{className:`text-3xl font-bold mb-10 text-center ${C==="dark"?"text-white":"text-gray-900"}`,children:["Black",e.jsx("span",{className:C==="dark"?"text-cyan-400":"text-blue-600",children:"Streaming"})]}),e.jsx("p",{className:`text-sm text-center mb-10 ${C==="dark"?"text-gray-400":"text-gray-600"}`,children:"Regstrate para acceder al sistema."}),e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-lg ${C==="dark"?"text-gray-100":"text-gray-900"}`,children:"Nombre de Usuario"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:`absolute top-3 left-3 ${C==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:s,onChange:W=>t(W.target.value),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${C==="dark"?"text-white":"text-gray-900"} border ${C==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-cyan-400/50 focus:border-cyan-400 shadow-md backdrop-blur-sm transition-all ${C==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"Elige un nombre de usuario",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-lg ${C==="dark"?"text-gray-100":"text-gray-900"}`,children:"Correo Electrnico"}),e.jsxs("div",{className:"relative",children:[e.jsx(aF,{className:`absolute top-3 left-3 ${C==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"email",value:r,onChange:W=>a(W.target.value),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${C==="dark"?"text-white":"text-gray-900"} border ${C==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-cyan-400/50 focus:border-cyan-400 shadow-md backdrop-blur-sm transition-all ${C==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"Tu correo electrnico",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-lg ${C==="dark"?"text-gray-100":"text-gray-900"}`,children:"Contrasea"}),e.jsxs("div",{className:"relative",children:[e.jsx($S,{className:`absolute top-3 left-3 ${C==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:h?"text":"password",value:n,onChange:W=>l(W.target.value),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${C==="dark"?"text-white":"text-gray-900"} border ${C==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-cyan-400/50 focus:border-cyan-400 shadow-md backdrop-blur-sm transition-all ${C==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"Elige una contrasea",required:!0}),e.jsx("button",{type:"button",onClick:()=>V(!h),className:`absolute top-3 right-3 ${C==="dark"?"text-gray-400 hover:text-cyan-400":"text-gray-600 hover:text-blue-600"} transition-colors`,"aria-label":h?"Ocultar contrasea":"Mostrar contrasea",children:h?e.jsx(FS,{size:18}):e.jsx(US,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-lg ${C==="dark"?"text-gray-100":"text-gray-900"}`,children:"Rol"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:o,onChange:W=>c(W.target.value),className:`w-full px-4 py-2.5 rounded-xl ${C==="dark"?"bg-gray-700/50":"bg-gray-200/50"} ${C==="dark"?"text-white":"text-gray-900"} border ${C==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-cyan-400/50 focus:border-cyan-400 transition-all appearance-none`,children:[e.jsx("option",{value:"user",children:"Usuario"}),e.jsx("option",{value:"affiliate",children:"Afiliado"}),e.jsx("option",{value:"provider",children:"Proveedor"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:`w-4 h-4 ${C==="dark"?"text-gray-400":"text-gray-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-lg ${C==="dark"?"text-gray-100":"text-gray-900"}`,children:"Cdigo de Referido (opcional)"}),e.jsx("input",{type:"text",value:d,onChange:W=>m(W.target.value),className:`w-full pl-4 pr-4 py-2.5 rounded-xl bg-transparent ${C==="dark"?"text-white":"text-gray-900"} border ${C==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-cyan-400/50 focus:border-cyan-400 shadow-md backdrop-blur-sm transition-all ${C==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"Ingresa un cdigo de referido (si tienes)"})]}),e.jsx(ut.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:p,className:`w-full py-3 rounded-xl font-medium transition-all duration-300 ${p?"bg-gray-600 text-gray-400 cursor-not-allowed":C==="dark"?"bg-gradient-to-r from-cyan-400 to-blue-600 hover:from-cyan-500 hover:to-blue-700 text-white":"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white"}`,children:p?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white mr-2",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h-8z"})]}),"Registrando..."]}):"Registrarse"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(f,{to:"/login",className:`flex items-center justify-center transition-all text-lg ${C==="dark"?"text-gray-400 hover:text-cyan-400":"text-gray-600 hover:text-blue-600"}`,children:[e.jsx(BS,{className:"mr-1"})," Ya tienes una cuenta? Inicia sesin"]})})]})}),e.jsx("footer",{className:`backdrop-blur-md border-t py-6 ${C==="dark"?"border-gray-800/50":"border-gray-300/50"}`,children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:`text-sm font-semibold ${C==="dark"?"text-cyan-400":"text-blue-600"}`,children:"BlackStreaming"})]}),e.jsxs("div",{className:`text-sm text-center ${C==="dark"?"text-gray-400":"text-gray-600"}`,children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:`text-sm text-center ${C==="dark"?"text-gray-400":"text-gray-600"}`,children:"Desarrollado por Saiph"})]})})}),e.jsx(dF,{isOpen:k.isOpen,message:k.message,type:k.type,onClose:()=>I({isOpen:!1,message:"",type:"success"})})]})},mF=()=>e.jsx(cF,{children:e.jsx(uF,{})}),xF=({isOpen:s,message:t,title:r,onClose:a})=>s?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:r}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(le,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:a,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,hF=({isOpen:s,user:t,onClose:r,onSave:a})=>{const[n,l]=v.useState((t==null?void 0:t.username)||""),[o,c]=v.useState(""),d=m=>{if(m.preventDefault(),c(""),!n.trim()){c("El nombre de usuario no puede estar vaco.");return}a(t.id,n.trim())};return s?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Perfil"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(le,{size:20})})]}),e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:n,onChange:m=>l(m.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0}),o&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:o})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},pF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState(""),[n,l]=v.useState([]),[o,c]=v.useState(""),[d,m]=v.useState(""),[p,N]=v.useState(0),[k,I]=v.useState(null),[h,V]=v.useState("inicio"),[w,C]=v.useState([]),[z,T]=v.useState({}),[W,$]=v.useState([]),[U,A]=v.useState(!0),[u,F]=v.useState({}),[B,Q]=v.useState(null),[D,G]=v.useState({isOpen:!1,message:"",title:""}),[Ae,Le]=v.useState({isOpen:!1,user:null}),[Te,Ee]=v.useState(""),de=jt(),me=(_,R)=>{G({isOpen:!0,title:_,message:R})},xe=()=>{G({isOpen:!1,message:"",title:""})},oe=_=>{Le({isOpen:!0,user:_})},te=()=>{Le({isOpen:!1,user:null})},i=async(_,R)=>{try{F(g=>({...g,profile:!0}));const j=q(P,"users",_);await ys(j,{username:R,updatedAt:Ft()}),c(R),me("xito","Perfil actualizado exitosamente"),te()}catch(j){console.error("Error al actualizar perfil:",j),me("Error",j.message||"Error al actualizar el perfil")}finally{F(j=>({...j,profile:!1}))}};v.useEffect(()=>{(async()=>{try{const R=ye(X(P,"products")),j=await gt(R),g={};j.forEach(L=>{g[L.id]=L.data()}),T(g)}catch(R){console.error("Error fetching products:",R),Q("Error al cargar productos")}})()},[]),v.useEffect(()=>{(()=>Ie(q(P,"notifications","adminMessage"),j=>{if(j.exists()){const g=j.data(),L="user";g.roles&&g.roles.includes(L)?$([{id:j.id,...g}]):$([])}else $([])}))()},[]);const b=async _=>{var R,j,g,L,ue,ae,ne;try{F(pe=>({...pe,[`renew_${_.id}`]:!0}));const J=parseFloat(_.price)||0;if(p<J){me("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const se=parseInt(_.durationDays)||30,at=is.now(),Y=at.toDate(),fe=new Date(Y.getTime()+se*24*60*60*1e3),he=fe.toISOString(),_e={customerId:k,customerName:((R=_.client)==null?void 0:R.customerName)||o,customerEmail:((j=_.client)==null?void 0:j.email)||d,phoneNumber:((g=_.client)==null?void 0:g.phone)||"No especificado",productName:_.productName||"Producto sin nombre",type:_.category||"netflix",price:J,accountDetails:{email:((L=_.account)==null?void 0:L.email)||"No especificado",password:((ue=_.account)==null?void 0:ue.password)||"No especificado",profile:((ae=_.account)==null?void 0:ae.profile)||"No especificado",pin:((ne=_.account)==null?void 0:ne.pin)||"No especificado"},provider:_.provider||"Proveedor desconocido",providerId:_.providerId||"",providerPhone:_.providerPhone||"51999999999",status:"completed",createdAt:at,saleDate:at,startDate:at,endDate:he,durationDays:se,renewedAt:at,renewable:_.renewable!==void 0?_.renewable:!0},Ce=await di(X(P,"sales"),_e),Pe=q(P,"users",k);await ys(Pe,{balance:p-J}),N(pe=>pe-J),C(pe=>[...pe,{..._e,id:Ce.id,saleDate:Y,startDate:Y,endDate:fe,account:_e.accountDetails,client:{customerName:_e.customerName,email:_e.customerEmail,phone:_e.phoneNumber},orderId:`BS-${Ce.id.slice(0,8).toUpperCase()}`,renewable:_e.renewable}]),me("xito","Pedido renovado exitosamente!")}catch(J){console.error("Error al renovar el pedido:",J),me("Error","Error al renovar el pedido: "+J.message)}finally{F(J=>({...J,[`renew_${_.id}`]:!1}))}},y=async()=>{try{await wc(ze),de("/")}catch(_){console.error("Error al cerrar sesin:",_),me("Error",_.message||"Error al cerrar sesin")}};v.useEffect(()=>{const _=It(ze,R=>{R?(I(R.uid),m(R.email||"No especificado"),A(!1)):de("/login")});return()=>_()},[de]),v.useEffect(()=>{if(!k)return;(async()=>{try{const R=q(P,"users",k);return Ie(R,g=>{if(g.exists()){const L=g.data();c(L.username||"Usuario"),m(L.email||"No especificado"),N(Number(L.balance)||0)}else Q("Usuario no encontrado")})}catch(R){console.error("Error al obtener datos del usuario:",R),Q("Error al cargar datos del usuario")}})()},[k]),v.useEffect(()=>{if(!k)return;(()=>{const R=ye(X(P,"sales"),be("customerId","==",k)),j=Ie(R,L=>{if(L.empty){C([]),A(!1);return}const ue=L.docs.map(ae=>{var Nt,Pt,Ht,Xs,yt,ft,ts,xs,Yt,Js,Zs;const ne=ae.data(),se=((Pt=(Nt=ne.saleDate)==null?void 0:Nt.toDate)==null?void 0:Pt.call(Nt))||((Xs=(Ht=ne.createdAt)==null?void 0:Ht.toDate)==null?void 0:Xs.call(Ht))||new Date;let at=(ft=(yt=ne.startDate)==null?void 0:yt.toDate)==null?void 0:ft.call(yt),Y=at||se,fe=!1;at||(fe=!0);const he=ne.durationDays||30;let _e;ne.endDate?_e=new Date(ne.endDate):(_e=new Date(Y.getTime()+he*24*60*60*1e3),fe=!0),fe&&ys(q(P,"sales",ae.id),{startDate:at||is.fromDate(se),endDate:_e.toISOString(),durationDays:he}).catch(Ss=>{console.error("Error al actualizar startDate/endDate en Firestore:",Ss)});const Ce=new Date,Pe=_e.getTime()-Y.getTime(),pe=Ce.getTime()-Y.getTime(),ve=_e.getTime()-Ce.getTime(),Dt=Math.ceil(Pe/(1e3*60*60*24)),ie=Math.max(0,Math.ceil(ve/(1e3*60*60*24))),we=Math.ceil(pe/(1e3*60*60*24)),Be=Dt>0?we/Dt*100:100,lt=((ts=z[ne.providerId])==null?void 0:ts.terms)||"No se especificaron trminos y condiciones.";return{id:ae.id,productName:ne.productName||"Producto sin nombre",category:ne.type||"netflix",price:parseFloat(ne.price)||0,provider:ne.provider||"No especificado",providerId:ne.providerId||"",providerPhone:ne.providerPhone||ne.providerWhatsapp||"51999999999",status:ne.status||"completed",saleDate:se,startDate:Y,endDate:_e,durationDays:he,daysRemaining:ie,totalDays:Dt,timeElapsedPercentage:Be,account:{email:((xs=ne.accountDetails)==null?void 0:xs.email)||"No especificado",password:((Yt=ne.accountDetails)==null?void 0:Yt.password)||"No especificado",profile:((Js=ne.accountDetails)==null?void 0:Js.profile)||"No especificado",pin:((Zs=ne.accountDetails)==null?void 0:Zs.pin)||"No especificado"},client:{customerName:ne.customerName||"Cliente desconocido",email:ne.customerEmail||"No especificado",phone:ne.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${ae.id.slice(0,8).toUpperCase()}`,termsAndConditions:lt,renewable:ne.renewable!==void 0?ne.renewable:!0}});C(ue),A(!1)},L=>{console.error("Error al obtener pedidos:",L),Q("Error al cargar pedidos: "+L.message),A(!1)}),g=setInterval(()=>{C(L=>L.map(ue=>{const ae=new Date,ne=new Date(ue.endDate).getTime()-new Date(ue.startDate).getTime(),J=ae.getTime()-new Date(ue.startDate).getTime(),se=new Date(ue.endDate).getTime()-ae.getTime(),at=Math.ceil(ne/(1e3*60*60*24)),Y=Math.max(0,Math.ceil(se/(1e3*60*60*24))),fe=Math.ceil(J/(1e3*60*60*24)),he=at>0?fe/at*100:100;return{...ue,daysRemaining:Y,totalDays:at,timeElapsedPercentage:he}}))},6e4);return()=>{j(),clearInterval(g)}})()},[k,z]),v.useEffect(()=>{if(!k)return;(()=>{const R=ye(X(P,"pendingTopUps"),be("userId","==",k));return Ie(R,g=>{const L=g.docs.map(ue=>{var ae,ne;return{id:ue.id,...ue.data(),date:((ne=(ae=ue.data().requestedAt)==null?void 0:ae.toDate)==null?void 0:ne.call(ae))||new Date,amount:parseFloat(ue.data().amount)||0}});l(L)},g=>{console.error("Error al obtener recargas:",g),Q("Error al cargar recargas")})})()},[k]);const O=async()=>{try{if(F(R=>({...R,topUp:!0})),!r||isNaN(r)){me("Error","Ingrese un monto vlido");return}const _=parseFloat(r);if(_<10){me("Error","El monto mnimo de recarga es S/ 10.00");return}await di(X(P,"pendingTopUps"),{userId:k,username:o,amount:_,status:"pendiente",requestedAt:Ft()}),a(""),me("xito","Solicitud de recarga enviada correctamente")}catch(_){console.error("Error al solicitar recarga:",_),me("Error",_.message||"Error al enviar solicitud de recarga")}finally{F(_=>({..._,topUp:!1}))}},H=async _=>{_.preventDefault();try{F(g=>({...g,password:!0}));const R=_.target.password.value;if(!R){me("Error","Por favor, ingrese una nueva contrasea");return}if(R.length<6){me("Error","La contrasea debe tener al menos 6 caracteres");return}const j=ze.currentUser;j&&(await Og(j,R),me("xito","Contrasea actualizada correctamente"),_.target.reset())}catch(R){console.error("Error al actualizar la contrasea:",R),me("Error",R.message||"Error al actualizar la contrasea")}finally{F(R=>({...R,password:!1}))}},Z=_=>{if(!_)return"No especificada";try{const R=_ instanceof Date?_:new Date(_);return isNaN(R.getTime())?"Fecha invlida":R.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha invlida"}},S=()=>{if(U)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(B)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ht,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:B}),e.jsx("button",{onClick:()=>Q(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(h){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:o})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Informacin de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:o})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(oa,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:d})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",p.toFixed(2)]}),e.jsx("button",{onClick:()=>V("recargar"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Recargar"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Pedidos activos"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:w.filter(_=>new Date(_.endDate)>new Date&&_.status==="completed").length}),e.jsx("button",{onClick:()=>V("pedidos"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Ver pedidos"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),w.length>0?w.slice(0,3).map(_=>{const R=new Date(_.endDate)>new Date&&_.status==="completed",j=_.status==="pending";return e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:_.productName}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${j?"bg-yellow-900/80 text-yellow-400":R?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:j?"A pedido":R?"Activo":"Expirado"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",Z(_.endDate)]})]},_.id)}):e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),w.length>3&&e.jsx("button",{onClick:()=>V("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Notificaciones"}),W.length>0?W.map(_=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsx("p",{className:"text-gray-300",children:_.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Z(_.updatedAt)})]},_.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay notificaciones"})]})]})]});case"notificaciones":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Notificaciones"}),W.length>0?e.jsx("div",{className:"space-y-4",children:W.map(_=>e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("p",{className:"text-gray-300",children:_.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Z(_.updatedAt)})]},_.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_c,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),e.jsx("p",{className:"text-gray-400",children:"No tienes mensajes nuevos"})]})]});case"recargar":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargar saldo"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),e.jsx("input",{type:"number",value:r,onChange:_=>a(_.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mnimo S/ 10.00",min:"10",step:"0.01"})]}),e.jsx("button",{onClick:O,disabled:u.topUp||!r||parseFloat(r)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${r&&parseFloat(r)>=10&&!u.topUp?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:u.topUp?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"})]}),e.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50 max-w-md mx-auto",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ns,{className:"mr-2"})," Cmo realizar tu recarga?"]}),e.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",e.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al nmero:"]}),e.jsx("p",{className:"text-xl font-bold text-white mb-2",children:" 940505969"}),e.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contctanos va WhatsApp al mismo nmero para confirmar tu recarga."}),e.jsxs("a",{href:`https://wa.me/51940505969?text=${encodeURIComponent("Hola , he realizado una recarga a travs de Yape. Por favor, confirma mi pago.")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[e.jsx(oa,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),n.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:n.map(_=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",_.amount.toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_.status==="aprobado"?"bg-green-900/80 text-green-400":_.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:_.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:Z(_.date)})]},_.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ns,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Mis pedidos"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:Te,onChange:_=>Ee(_.target.value)}),e.jsx(Ke,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),w.length>0?e.jsx("div",{className:"space-y-6",children:w.filter(_=>(_.productName||"").toLowerCase().includes(Te.toLowerCase())||(_.orderId||"").toLowerCase().includes(Te.toLowerCase())).map(_=>{var Y,fe,he,_e,Ce,Pe,pe,ve,Dt,ie,we,Be;const R=parseFloat(_.price)||0,j=new Date(_.endDate)>new Date&&_.status==="completed",g=_.status==="pending",L=_.daysRemaining||0,ue=_.timeElapsedPercentage||0;let ae="bg-green-400";ue>70&&ue<=90?ae="bg-yellow-400":ue>90&&(ae="bg-red-400");const ne=g?e.jsx(Ot,{className:"text-yellow-400"}):j?e.jsx(Dc,{className:"text-green-400"}):e.jsx(ht,{className:"text-red-400"}),J=encodeURIComponent(`*Consulta sobre Pedido - ${_.productName||"Sin nombre"}*

*N Pedido:* ${_.orderId||"No especificado"}
*Producto:* ${_.productName||"No especificado"}
*Precio:* S/ ${R.toFixed(2)}
*Estado:* ${g?"A pedido":j?"Activo":"Expirado"}
*Fecha de Inicio:* ${Z(_.startDate)}
*Fecha de Vencimiento:* ${Z(_.endDate)}

`+(g?`Hola , he comprado un producto a pedido (${_.productName}). En cuntos das estar listo? Por favor, indqueme los detalles para coordinar.`:"Por favor indqueme cmo puedo resolver mi consulta sobre este pedido.")),se=encodeURIComponent(` Estimado/a ${((Y=_.client)==null?void 0:Y.customerName)||"Cliente"} 

Le enviamos la informacin de su suscripcin a nuestro servicio de streaming:
 Tipo: ${_.productName||"Sin nombre"}.
 Cdigo: ${_.orderId||"No especificado"}
`+(g?"":` Correo: ${((fe=_.account)==null?void 0:fe.email)||"No especificado"}
 Contrasea: ${((he=_.account)==null?void 0:he.password)||"No especificado"}
 Perfil: ${((_e=_.account)==null?void 0:_e.profile)||"No especificado"}
 PIN: ${((Ce=_.account)==null?void 0:Ce.pin)||"No especificado"}
`)+` URL: Sin URL
 Fecha de creacin: ${Z(_.startDate)}
 Fecha de vencimiento: ${Z(_.endDate)}
 Das contratados: ${_.durationDays||30} das.

`+(g?`*Nota:* Este pedido est "A pedido". El proveedor se contactar contigo para coordinar los detalles.

`:"")+`*Trminos y Condiciones:*
${_.termsAndConditions||"No se especificaron trminos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),at=_.providerPhone?_.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[ne,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:_.productName||"Producto sin nombre"}),_.orderId&&e.jsxs("p",{className:"text-xs text-gray-400",children:["N Pedido: ",_.orderId]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",R.toFixed(2)]}),e.jsx("p",{className:`text-xs font-medium ${g?"text-yellow-400":ae.replace("bg-","text-")}`,children:g?"Pendiente de activacin":`${L} da${L===1?"":"s"} restante${L===1?"":"s"}`})]})]}),e.jsxs("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full bg-gray-600/50 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${ae}`,style:{width:`${Math.min(ue,100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[ue.toFixed(0),"% completado"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ue,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:g?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contrasea:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:((Pe=_.account)==null?void 0:Pe.email)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contrasea:"}),e.jsx("span",{className:"block text-white break-all",children:((pe=_.account)==null?void 0:pe.password)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:((ve=_.account)==null?void 0:ve.profile)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:((Dt=_.account)==null?void 0:Dt.pin)||"No especificado"})]})]})})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ye,{className:"mr-2"})," Informacin del Pedido"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"block text-white",children:_.provider||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Telfono del Proveedor:"}),e.jsx("span",{className:"block text-white",children:_.providerPhone||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),e.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${g?"bg-yellow-900/80 text-yellow-400":j?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:g?"A pedido":j?"Activo":"Expirado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Mtodo de Pago:"}),e.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),e.jsx("span",{className:"block text-white",children:Z(_.startDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),e.jsx("span",{className:"block text-white",children:Z(_.endDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Das restantes:"}),e.jsx("span",{className:`block ${ae.replace("bg-","text-")}`,children:L})]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ue,{className:"mr-2"})," Informacin del Cliente"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:((ie=_.client)==null?void 0:ie.customerName)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Telfono:"}),e.jsx("span",{className:"block text-white",children:((we=_.client)==null?void 0:we.phone)||"No especificado"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("a",{href:`https://wa.me/51${at}?text=${J}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(oa,{size:18})," Contactar Proveedor"]}),_.renewable&&e.jsx("button",{onClick:()=>b(_),disabled:u[`renew_${_.id}`],className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${u[`renew_${_.id}`]?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:u[`renew_${_.id}`]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(qS,{size:18})," Renovar Pedido"]})}),((Be=_.client)==null?void 0:Be.phone)&&e.jsxs("a",{href:`https://wa.me/${_.client.phone.replace(/^\+/,"")}?text=${se}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(oa,{size:18})," Contactar Cliente"]})]})]})]},_.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(vt,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuracin de cuenta"}),e.jsxs("form",{onSubmit:H,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"text",value:o,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"}),e.jsx("button",{type:"button",onClick:()=>oe({id:k,username:o}),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-300",title:"Editar Nombre",children:e.jsx(jy,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrnico"}),e.jsx("input",{type:"email",value:d,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contrasea (opcional)"}),e.jsx("input",{type:"password",name:"password",placeholder:"Nueva contrasea",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsx("button",{type:"submit",disabled:u.password,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 disabled:bg-cyan-800",children:u.password?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]}),e.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:e.jsxs("button",{onClick:y,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(kt,{})," Cerrar sesin"]})})]});default:return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ht,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seccin no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La seccin que ests buscando no existe o no est disponible."}),e.jsx("button",{onClick:()=>V("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(Rt,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(le,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:o.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:o}),e.jsx("p",{className:"text-xs text-gray-400",children:"Usuario"})]})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Cx},{id:"notificaciones",label:"Notificaciones",icon:_c},{id:"recargar",label:"Recargar saldo",icon:Ns},{id:"pedidos",label:"Mis pedidos",icon:vt},{id:"configuracion",label:"Configuracin",icon:Ac}].map(_=>e.jsxs("button",{onClick:()=>{V(_.id),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${h===_.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-cyan-400"}`,children:[e.jsx(_.icon,{className:"text-lg"}),e.jsx("span",{children:_.label})]},_.id))}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{onClick:y,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[e.jsx(kt,{className:"text-lg"}),e.jsx("span",{children:"Cerrar Sesin"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:S()}),e.jsx(xF,{isOpen:D.isOpen,title:D.title,message:D.message,onClose:xe}),e.jsx(hF,{isOpen:Ae.isOpen,user:Ae.user,onClose:te,onSave:i}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},fF=({isOpen:s,message:t,title:r,onClose:a})=>s?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:r}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(le,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:a,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,gF=({isOpen:s,user:t,onClose:r,onSave:a})=>{const[n,l]=v.useState((t==null?void 0:t.username)||""),[o,c]=v.useState(""),d=m=>{if(m.preventDefault(),c(""),!n.trim()){c("El nombre de usuario no puede estar vaco.");return}a(t.id,n.trim())};return s?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Perfil"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(le,{size:20})})]}),e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:n,onChange:m=>l(m.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0}),o&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:o})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},yF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState("inicio"),[n,l]=v.useState(""),[o,c]=v.useState(""),[d,m]=v.useState(""),[p,N]=v.useState([]),[k,I]=v.useState(0),[h,V]=v.useState(0),[w,C]=v.useState(null),[z,T]=v.useState(!0),[W,$]=v.useState({}),[U,A]=v.useState(null),[u,F]=v.useState([]),[B,Q]=v.useState(!1),[D,G]=v.useState(""),[Ae,Le]=v.useState(""),[Te,Ee]=v.useState([]),[de,me]=v.useState([]),[xe,oe]=v.useState({}),[te,i]=v.useState([]),[b,y]=v.useState({isOpen:!1,message:"",title:""}),[O,H]=v.useState({isOpen:!1,user:null}),Z=jt(),S=(Y,fe)=>{y({isOpen:!0,title:Y,message:fe})},_=()=>{y({isOpen:!1,message:"",title:""})},R=Y=>{H({isOpen:!0,user:Y})},j=()=>{H({isOpen:!1,user:null})},g=async(Y,fe)=>{try{$(Ce=>({...Ce,profile:!0}));const he=q(P,"users",Y),_e=q(P,"affiliates",Y);await ys(he,{username:fe,updatedAt:Ft()}),await ys(_e,{username:fe,updatedAt:Ft()}),l(fe),S("xito","Perfil actualizado exitosamente"),j()}catch(he){console.error("Error al actualizar perfil:",he),S("Error",he.message||"Error al actualizar el perfil")}finally{$(he=>({...he,profile:!1}))}};v.useEffect(()=>{const Y=It(ze,fe=>{fe?(C(fe.uid),c(fe.email||"No especificado"),T(!1)):Z("/login")});return()=>Y()},[Z]),v.useEffect(()=>{(async()=>{try{const fe=ye(X(P,"products")),he=await gt(fe),_e={};he.forEach(Ce=>{_e[Ce.id]=Ce.data()}),oe(_e)}catch(fe){console.error("Error fetching products:",fe),A("Error al cargar productos")}})()},[]),v.useEffect(()=>{(()=>Ie(q(P,"notifications","adminMessage"),he=>{if(he.exists()){const _e=he.data(),Ce="affiliate";_e.roles&&_e.roles.includes(Ce)?i([{id:he.id,..._e}]):i([])}else i([])}))()},[]),v.useEffect(()=>{(async()=>{if(w)try{const fe=q(P,"users",w),he=await We(fe);if(he.exists()){const Pe=he.data();l(Pe.username||"Usuario"),V(Number(Pe.balance)||0)}const _e=q(P,"affiliates",w),Ce=await We(_e);if(Ce.exists()){const Pe=Ce.data();m(Pe.affiliateCode||""),I(Number(Pe.earnings)||0)}else{const Pe=`AFF-${Math.random().toString(36).substring(2,8).toUpperCase()}`;await Ar(_e,{username:n||"Nuevo Afiliado",email:o,affiliateCode:Pe,earnings:0,createdAt:Ft(),updatedAt:Ft()}),m(Pe)}}catch(fe){console.error("Error al manejar datos:",fe),A("Error al cargar datos")}finally{T(!1)}})()},[w,o,n]),v.useEffect(()=>{if(!w)return;(()=>{const fe=ye(X(P,"pendingTopUps"),be("userId","==",w));return Ie(fe,_e=>{const Ce=_e.docs.map(Pe=>{var pe,ve;return{id:Pe.id,...Pe.data(),date:((ve=(pe=Pe.data().requestedAt)==null?void 0:pe.toDate)==null?void 0:ve.call(pe))||new Date,amount:parseFloat(Pe.data().amount)||0}});Ee(Ce)},_e=>{console.error("Error al obtener recargas:",_e),A("Error al cargar recargas")})})()},[w]),v.useEffect(()=>{if(!d)return;const Y=ye(X(P,"users"),be("referrerCode","==",d),rp("createdAt","desc"),Vt(5)),fe=Ie(Y,he=>{const _e=he.docs.map(Ce=>{var Pe;return{id:Ce.id,...Ce.data(),joinDate:((Pe=Ce.data().createdAt)==null?void 0:Pe.toDate())||new Date}});F(_e)});return()=>fe()},[d]),v.useEffect(()=>{if(!d)return;const Y=ye(X(P,"users"),be("referrerCode","==",d)),fe=Ie(Y,he=>{const _e=he.docs.map(Ce=>{var Pe;return{id:Ce.id,...Ce.data(),joinDate:((Pe=Ce.data().createdAt)==null?void 0:Pe.toDate())||new Date}});N(_e)});return()=>fe()},[d]),v.useEffect(()=>{if(!w)return;(()=>{const fe=ye(X(P,"sales"),be("customerId","==",w)),he=Ie(fe,Ce=>{if(Ce.empty){me([]),T(!1);return}const Pe=Ce.docs.map(pe=>{var Ss,ka,or,re,ke,Re,$e,it,pt,Fr,Gn;const ve=pe.data(),ie=((ka=(Ss=ve.saleDate)==null?void 0:Ss.toDate)==null?void 0:ka.call(Ss))||((re=(or=ve.createdAt)==null?void 0:or.toDate)==null?void 0:re.call(or))||new Date;let we=(Re=(ke=ve.startDate)==null?void 0:ke.toDate)==null?void 0:Re.call(ke),Be=we||ie,lt=!1;we||(lt=!0);const Nt=ve.durationDays||30;let Pt;ve.endDate?Pt=new Date(ve.endDate):(Pt=new Date(Be.getTime()+Nt*24*60*60*1e3),lt=!0),lt&&ys(q(P,"sales",pe.id),{startDate:we||is.fromDate(ie),endDate:Pt.toISOString(),durationDays:Nt}).catch(Ai=>{console.error("Error al actualizar startDate/endDate en Firestore:",Ai)});const Ht=new Date,Xs=Pt.getTime()-Be.getTime(),yt=Ht.getTime()-Be.getTime(),ft=Pt.getTime()-Ht.getTime(),ts=Math.ceil(Xs/(1e3*60*60*24)),xs=Math.max(0,Math.ceil(ft/(1e3*60*60*24))),Yt=Math.ceil(yt/(1e3*60*60*24)),Js=ts>0?Yt/ts*100:100,Zs=(($e=xe[ve.providerId])==null?void 0:$e.terms)||"No se especificaron trminos y condiciones.";return{id:pe.id,productName:ve.productName||"Producto sin nombre",category:ve.type||"netflix",price:parseFloat(ve.price)||0,provider:ve.provider||"No especificado",providerId:ve.providerId||"",providerPhone:ve.providerPhone||ve.providerWhatsapp||"51999999999",status:ve.status||"completed",saleDate:ie,startDate:Be,endDate:Pt,durationDays:Nt,daysRemaining:xs,totalDays:ts,timeElapsedPercentage:Js,account:{email:((it=ve.accountDetails)==null?void 0:it.email)||"No especificado",password:((pt=ve.accountDetails)==null?void 0:pt.password)||"No especificado",profile:((Fr=ve.accountDetails)==null?void 0:Fr.profile)||"No especificado",pin:((Gn=ve.accountDetails)==null?void 0:Gn.pin)||"No especificado"},client:{name:ve.customerName||"Cliente desconocido",email:ve.customerEmail||"No especificado",phone:ve.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${pe.id.slice(0,8).toUpperCase()}`,termsAndConditions:Zs,renewable:ve.renewable!==void 0?ve.renewable:!0}});me(Pe),T(!1)},Ce=>{console.error("Error al obtener pedidos:",Ce),A("Error al cargar pedidos: "+Ce.message),T(!1)}),_e=setInterval(()=>{me(Ce=>Ce.map(Pe=>{const pe=new Date,ve=new Date(Pe.endDate).getTime()-new Date(Pe.startDate).getTime(),Dt=pe.getTime()-new Date(Pe.startDate).getTime(),ie=new Date(Pe.endDate).getTime()-pe.getTime(),we=Math.ceil(ve/(1e3*60*60*24)),Be=Math.max(0,Math.ceil(ie/(1e3*60*60*24))),lt=Math.ceil(Dt/(1e3*60*60*24)),Nt=we>0?lt/we*100:100;return{...Pe,daysRemaining:Be,totalDays:we,timeElapsedPercentage:Nt}}))},6e4);return()=>{he(),clearInterval(_e)}})()},[w,xe]);const L=async()=>{try{if($(fe=>({...fe,topUp:!0})),!Ae||isNaN(Ae)){S("Error","Ingrese un monto vlido");return}const Y=parseFloat(Ae);if(Y<10){S("Error","El monto mnimo de recarga es S/ 10.00");return}await di(X(P,"pendingTopUps"),{userId:w,username:n,amount:Y,status:"pendiente",requestedAt:Ft(),processed:!1}),Le(""),S("xito","Solicitud de recarga enviada correctamente")}catch(Y){console.error("Error al solicitar recarga:",Y),S("Error",Y.message||"Error al enviar solicitud de recarga")}finally{$(Y=>({...Y,topUp:!1}))}},ue=async Y=>{var fe,he,_e,Ce,Pe,pe,ve;try{$(yt=>({...yt,[`renew_${Y.id}`]:!0}));const Dt=parseFloat(Y.price)||0;if(h<Dt){S("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const ie=parseInt(Y.durationDays)||30,we=is.now(),Be=we.toDate(),lt=new Date(Be.getTime()+ie*24*60*60*1e3),Nt=lt.toISOString(),Pt={customerId:w,customerName:((fe=Y.client)==null?void 0:fe.name)||"Cliente desconocido",customerEmail:((he=Y.client)==null?void 0:he.email)||o,phoneNumber:((_e=Y.client)==null?void 0:_e.phone)||"No especificado",productName:Y.productName||"Producto sin nombre",type:Y.category||"netflix",price:Dt,accountDetails:{email:((Ce=Y.account)==null?void 0:Ce.email)||"No especificado",password:((Pe=Y.account)==null?void 0:Pe.password)||"No especificado",profile:((pe=Y.account)==null?void 0:pe.profile)||"No especificado",pin:((ve=Y.account)==null?void 0:ve.pin)||"No especificado"},provider:Y.provider||"Proveedor desconocido",providerId:Y.providerId||"",providerPhone:Y.providerPhone||Y.providerWhatsapp||"51999999999",status:"completed",createdAt:we,saleDate:we,startDate:we,endDate:Nt,durationDays:ie,renewedAt:we,renewable:Y.renewable!==void 0?Y.renewable:!0},Ht=await di(X(P,"sales"),Pt),Xs=q(P,"users",w);await ys(Xs,{balance:h-Dt}),V(yt=>yt-Dt),me(yt=>{var ft;return[...yt,{...Pt,id:Ht.id,saleDate:Be,startDate:Be,endDate:lt,account:Pt.accountDetails,client:{name:Pt.customerName,email:Pt.customerEmail,phone:Pt.phoneNumber},orderId:`BS-${Ht.id.slice(0,8).toUpperCase()}`,renewable:Pt.renewable,daysRemaining:ie,totalDays:ie,timeElapsedPercentage:0,termsAndConditions:((ft=xe[Pt.providerId])==null?void 0:ft.terms)||"No se especificaron trminos y condiciones."}]}),S("xito","Pedido renovado exitosamente!")}catch(Dt){console.error("Error al renovar el pedido:",Dt),S("Error","Error al renovar el pedido: "+Dt.message)}finally{$(Dt=>({...Dt,[`renew_${Y.id}`]:!1}))}},ae=()=>{d&&(navigator.clipboard.writeText(d),Q(!0),setTimeout(()=>Q(!1),2e3))},ne=Y=>{if(!Y)return"No especificada";try{const fe=Y instanceof Date?Y:new Date(Y);return isNaN(fe.getTime())?"Fecha invlida":fe.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha invlida"}},J=async()=>{try{await wc(ze),Z("/")}catch(Y){console.error("Error al cerrar sesin:",Y),S("Error",Y.message||"Error al cerrar sesin")}},se=async Y=>{Y.preventDefault();try{$(_e=>({..._e,password:!0}));const fe=Y.target.password.value;if(!fe){S("Error","Por favor, ingrese una nueva contrasea");return}if(fe.length<6){S("Error","La contrasea debe tener al menos 6 caracteres");return}const he=ze.currentUser;he&&(await Og(he,fe),S("xito","Contrasea actualizada correctamente"),Y.target.reset())}catch(fe){console.error("Error al actualizar la contrasea:",fe),S("Error",fe.message||"Error al actualizar la contrasea")}finally{$(fe=>({...fe,password:!1}))}},at=()=>{if(z)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(U)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ht,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:U}),e.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:n})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Informacin de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:n})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(oa,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:o})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",h.toFixed(2)]}),e.jsx("button",{onClick:()=>a("recargas"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Recargar"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias totales"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",k.toFixed(2)]}),e.jsx("button",{onClick:()=>a("ganancias"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Ver ganancias"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu cdigo de afiliado"}),e.jsxs("button",{onClick:ae,disabled:!d,className:`flex items-center gap-2 px-3 py-1 rounded-xl transition-all duration-300 ${d?"bg-cyan-900/80 text-cyan-400 hover:bg-cyan-800/80":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(rF,{size:16}),B?"Copiado!":"Copiar"]})]}),e.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 border border-gray-600/50",children:e.jsx("p",{className:"text-2xl font-bold text-center tracking-wider text-white",children:d||"Generando cdigo..."})}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Comparte este cdigo con tus amigos para que se registren y ganes comisiones por sus compras."}),e.jsxs("div",{className:"bg-cyan-900/30 p-4 rounded-xl border border-cyan-800/50",children:[e.jsx("h4",{className:"font-medium text-cyan-400 mb-2",children:"Enlace de afiliado:"}),e.jsx("p",{className:"text-sm bg-gray-800/50 p-2 rounded-xl border border-gray-600/50 overflow-x-auto text-gray-300",children:d?`https://blackkstreaming.com/register?ref=${d}`:"Generando enlace..."})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Referidos recientes"}),u.length>0?u.map(Y=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:Y.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-900/80 text-green-400",children:"Activo"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Unido: ",ne(Y.joinDate)]})]},Y.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes referidos recientes"}),u.length>0&&e.jsx("button",{onClick:()=>a("referidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los referidos"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),de.length>0?de.slice(0,3).map(Y=>{const fe=new Date(Y.endDate)>new Date&&Y.status==="completed",he=Y.status==="pending";return e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:Y.productName}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${he?"bg-yellow-900/80 text-yellow-400":fe?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:he?"A pedido":fe?"Activo":"Expirado"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",ne(Y.endDate)]})]},Y.id)}):e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),de.length>3&&e.jsx("button",{onClick:()=>a("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Notificaciones"}),te.length>0?te.map(Y=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsx("p",{className:"text-gray-300",children:Y.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:ne(Y.updatedAt)})]},Y.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay notificaciones"})]})]})]});case"notificaciones":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Notificaciones"}),te.length>0?e.jsx("div",{className:"space-y-4",children:te.map(Y=>e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("p",{className:"text-gray-300",children:Y.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:ne(Y.updatedAt)})]},Y.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_c,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),e.jsx("p",{className:"text-gray-400",children:"No tienes mensajes nuevos"})]})]});case"recargas":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargar saldo"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),e.jsx("input",{type:"number",value:Ae,onChange:Y=>Le(Y.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mnimo S/ 10.00",min:"10",step:"0.01"})]}),e.jsx("button",{onClick:L,disabled:W.topUp||!Ae||parseFloat(Ae)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${Ae&&parseFloat(Ae)>=10&&!W.topUp?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:W.topUp?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"}),e.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ns,{className:"mr-2"})," Cmo realizar tu recarga?"]}),e.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",e.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al nmero:"]}),e.jsx("p",{className:"text-xl font-bold text-white mb-2",children:" 940505969"}),e.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contctanos va WhatsApp al mismo nmero para confirmar tu recarga."}),e.jsxs("a",{href:`https://wa.me/51940505969?text=${encodeURIComponent("Hola , he realizado una recarga a travs de Yape. Por favor, confirma mi pago.")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[e.jsx(oa,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),Te.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Accin"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:Te.map(Y=>{var he,_e;const fe=encodeURIComponent(`Hola, he pedido una recarga de S/ ${((he=Y.amount)==null?void 0:he.toFixed(2))||"0.00"} con el nombre ${n}. Adjunto la captura de mi pago, por favor.`);return e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",((_e=Y.amount)==null?void 0:_e.toFixed(2))||"0.00"]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Y.status==="aprobado"?"bg-green-900/80 text-green-400":Y.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:Y.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:ne(Y.date)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:Y.status==="pendiente"?e.jsxs("a",{href:`https://wa.me/51940505969?text=${fe}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 text-sm",children:[e.jsx(oa,{className:"mr-2"})," Enviar captura"]}):e.jsx("span",{className:"text-gray-400 text-sm",children:""})})]},Y.id)})})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ns,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Mis pedidos"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:D,onChange:Y=>G(Y.target.value)}),e.jsx(Ke,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),de.length>0?e.jsx("div",{className:"space-y-6",children:de.filter(Y=>(Y.productName||"").toLowerCase().includes(D.toLowerCase())||(Y.orderId||"").toLowerCase().includes(D.toLowerCase())).map(Y=>{var Be,lt,Nt,Pt,Ht,Xs,yt,ft,ts,xs,Yt,Js,Zs;const fe=parseFloat(Y.price)||0,he=new Date(Y.endDate)>new Date&&Y.status==="completed",_e=Y.status==="pending",Ce=Y.daysRemaining||0,Pe=Y.timeElapsedPercentage||0;let pe="bg-green-400";Pe>70&&Pe<=90?pe="bg-yellow-400":Pe>90&&(pe="bg-red-400");const ve=_e?e.jsx(Ot,{className:"text-yellow-400"}):he?e.jsx(Dc,{className:"text-green-400"}):e.jsx(ht,{className:"text-red-400"}),Dt=encodeURIComponent(`*Consulta sobre Pedido - ${Y.productName||"Sin nombre"}*

*N Pedido:* ${Y.orderId||"No especificado"}
*Producto:* ${Y.productName||"No especificado"}
*Precio:* S/ ${fe.toFixed(2)}
*Estado:* ${_e?"A pedido":he?"Activo":"Expirado"}
*Fecha de Inicio:* ${ne(Y.startDate)}
*Fecha de Vencimiento:* ${ne(Y.endDate)}

`+(_e?`Hola , he comprado un producto a pedido (${Y.productName}). En cuntos das estar listo? Por favor, indqueme los detalles para coordinar.`:"Por favor indqueme cmo puedo resolver mi consulta sobre este pedido.")),ie=encodeURIComponent(` Estimado/a ${((Be=Y.client)==null?void 0:Be.name)||"Cliente"} 

Le enviamos la informacin de su suscripcin a nuestro servicio de streaming:
 Tipo: ${Y.productName||"Sin nombre"}.
 Cdigo: ${Y.orderId||"No especificado"}
`+(_e?"":` Correo: ${((lt=Y.account)==null?void 0:lt.email)||"No especificado"}
 Contrasea: ${((Nt=Y.account)==null?void 0:Nt.password)||"No especificado"}
 Perfil: ${((Pt=Y.account)==null?void 0:Pt.profile)||"No especificado"}
 PIN: ${((Ht=Y.account)==null?void 0:Ht.pin)||"No especificado"}
`)+` URL: Sin URL
 Fecha de creacin: ${ne(Y.startDate)}
 Fecha de vencimiento: ${ne(Y.endDate)}
 Das contratados: ${Y.durationDays||30} das.

`+(_e?`*Nota:* Este pedido est "A pedido". El proveedor se contactar contigo para coordinar los detalles.

`:"")+`*Trminos y Condiciones:*
${Y.termsAndConditions||"No se especificaron trminos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),we=Y.providerPhone?Y.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[ve,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:Y.productName||"Producto sin nombre"}),Y.orderId&&e.jsxs("p",{className:"text-xs text-gray-400",children:["N Pedido: ",Y.orderId]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",fe.toFixed(2)]}),e.jsx("p",{className:`text-xs font-medium ${_e?"text-yellow-400":pe.replace("bg-","text-")}`,children:_e?"Pendiente de activacin":`${Ce} da${Ce===1?"":"s"} restante${Ce===1?"":"s"}`})]})]}),e.jsxs("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full bg-gray-600/50 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${pe}`,style:{width:`${Math.min(Pe,100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[Pe.toFixed(0),"% completado"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ue,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:_e?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contrasea:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:((Xs=Y.account)==null?void 0:Xs.email)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contrasea:"}),e.jsx("span",{className:"block text-white break-all",children:((yt=Y.account)==null?void 0:yt.password)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:((ft=Y.account)==null?void 0:ft.profile)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:((ts=Y.account)==null?void 0:ts.pin)||"No especificado"})]})]})})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ye,{className:"mr-2"})," Informacin del Pedido"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"block text-white",children:Y.provider||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Telfono del Proveedor:"}),e.jsx("span",{className:"block text-white",children:Y.providerPhone||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),e.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${_e?"bg-yellow-900/80 text-yellow-400":he?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:_e?"A pedido":he?"Activo":"Expirado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Mtodo de Pago:"}),e.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),e.jsx("span",{className:"block text-white",children:ne(Y.startDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),e.jsx("span",{className:"block text-white",children:ne(Y.endDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Das restantes:"}),e.jsx("span",{className:`block ${pe.replace("bg-","text-")}`,children:Ce})]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ue,{className:"mr-2"})," Informacin del Cliente"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:((xs=Y.client)==null?void 0:xs.name)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Telfono:"}),e.jsx("span",{className:"block text-white",children:((Yt=Y.client)==null?void 0:Yt.phone)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white",children:((Js=Y.client)==null?void 0:Js.email)||"No especificado"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("a",{href:`https://wa.me/51${we}?text=${Dt}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(oa,{size:18})," Contactar Proveedor"]}),Y.renewable&&e.jsx("button",{onClick:()=>ue(Y),disabled:W[`renew_${Y.id}`],className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${W[`renew_${Y.id}`]?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:W[`renew_${Y.id}`]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(qS,{size:18})," Renovar Pedido"]})}),((Zs=Y.client)==null?void 0:Zs.phone)&&e.jsxs("a",{href:`https://wa.me/${Y.client.phone.replace(/^\+/,"")}?text=${ie}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(oa,{size:18})," Contactar Cliente"]})]})]})]},Y.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(vt,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"referidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos tus referidos (",p.length,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar referidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:D,onChange:Y=>G(Y.target.value)}),e.jsx(Ke,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),p.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de registro"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:p.filter(Y=>{const fe=Y.username||"",he=Y.email||"";return fe.toLowerCase().includes(D.toLowerCase())||he.toLowerCase().includes(D.toLowerCase())}).map(Y=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:Y.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:Y.email||"Sin email"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:Y.joinDate?ne(Y.joinDate):"No especificada"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:Y.status||"Activo"})})]},Y.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Hl,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes referidos an"}),e.jsx("p",{className:"text-gray-400",children:"Comparte tu cdigo de afiliado para empezar a ganar comisiones"})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde ayer"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde la semana pasada"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias totales"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",k.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[p.length," referidos"]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(Ip,{className:"mr-2 text-cyan-400"})," Historial de comisiones"]}),p.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-800/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Referido"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Origen"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:p.map(Y=>e.jsxs("tr",{className:"hover:bg-gray-600/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:Y.username||"Usuario sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:Y.joinDate?ne(Y.joinDate):"No especificada"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:"S/ 0.00"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:"Registro"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900/80 text-yellow-400",children:"Pendiente"})})]},Y.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ns,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay comisiones registradas"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gana comisiones cuando tus referidos realicen compras"})]})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuracin de cuenta"}),e.jsxs("form",{onSubmit:se,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"text",value:n,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"}),e.jsx("button",{type:"button",onClick:()=>R({id:w,username:n}),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-300",title:"Editar Nombre",children:e.jsx(jy,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrnico"}),e.jsx("input",{type:"email",value:o,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contrasea (opcional)"}),e.jsx("input",{type:"password",name:"password",placeholder:"Nueva contrasea",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsx("button",{type:"submit",disabled:W.password,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 disabled:bg-cyan-800",children:W.password?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]}),e.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:e.jsxs("button",{onClick:J,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(kt,{})," Cerrar sesin"]})})]});default:return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ht,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seccin no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La seccin que ests buscando no existe o no est disponible."}),e.jsx("button",{onClick:()=>a("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(Rt,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(le,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:n.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:n}),e.jsx("p",{className:"text-xs text-gray-400",children:"Afiliador"})]})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Cx},{id:"notificaciones",label:"Notificaciones",icon:_c},{id:"recargas",label:"Recargas",icon:Ns},{id:"pedidos",label:"Pedidos",icon:vt},{id:"referidos",label:"Referidos",icon:Hl},{id:"ganancias",label:"Ganancias",icon:Ip},{id:"configuracion",label:"Configuracin",icon:Ac}].map(Y=>e.jsxs("button",{onClick:()=>{a(Y.id),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===Y.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-cyan-400"}`,children:[e.jsx(Y.icon,{className:"text-lg"}),e.jsx("span",{children:Y.label})]},Y.id))}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{onClick:J,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[e.jsx(kt,{className:"text-lg"}),e.jsx("span",{children:"Cerrar Sesin"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:at()}),e.jsx(fF,{isOpen:b.isOpen,title:b.title,message:b.message,onClose:_}),e.jsx(gF,{isOpen:O.isOpen,user:O.user,onClose:j,onSave:g}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},bF=()=>{var or;const[s,t]=v.useState(!1),[r,a]=v.useState("inicio"),[n,l]=v.useState("Usuario"),[o,c]=v.useState(""),[d,m]=v.useState(""),[p,N]=v.useState([]),[k,I]=v.useState([]),[h,V]=v.useState(!0),[w,C]=v.useState(""),[z,T]=v.useState({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:Array(1).fill({email:"",password:"",profile:"",pin:""})}),[W,$]=v.useState(null),[U,A]=v.useState(!1),[u,F]=v.useState(""),[B,Q]=v.useState({open:!1,message:""}),[D,G]=v.useState({email:"",password:"",preferences:""}),[Ae,Le]=v.useState([]),[Te,Ee]=v.useState(""),[de,me]=v.useState("Yape"),[xe,oe]=v.useState(""),[te,i]=v.useState(!1),[b,y]=v.useState([]),[O,H]=v.useState(!0),[Z,S]=v.useState(0),[_,R]=v.useState(!1),[j,g]=v.useState(null),[L,ue]=v.useState(""),ae=jt(),ne=Lg(),J=re=>{var ke;if(!re)return"No especificada";try{const Re=re instanceof Date?re:((ke=re==null?void 0:re.toDate)==null?void 0:ke.call(re))||new Date(re);return isNaN(Re.getTime())?"Fecha invlida":Re.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Re){return console.error("Error formatting date:",Re),"Fecha invlida"}},se=re=>({netflix:"Netflix",spotify:"Spotify",disney:"Disney",max:"Max",primevideo:"Prime Video",vix:"Vix",crunchyroll:"Crunchyroll",canva:"Canva",chatgpt:"ChatGPT",redessociales:"Redes Sociales",dgo:"Dgo",ligamax:"Liga Max",movistarplay:"Movistar Play",youtube:"Youtube",deezer:"Deezer",tidal:"Tidal",vpn:"Vpn",wintv:"WinTv",applemusic:"Apple Music",appletv:"Apple TV",iptv:"Iptv",flujotv:"Flujo Tv",vikirakuten:"Viki Rakuten",pornhub:"Pornhub",paramount:"Paramount",licencias:"Licencias",capcut:"Capcut",duolingo:"Duolingo",buscapersonas:"BuscaPersonas"})[re==null?void 0:re.toLowerCase()]||"Otro";v.useEffect(()=>{const re=It(ne,ke=>{ke?(c(ke.email||""),m(ke.uid),at(ke.uid)):ae("/login")});return()=>re()},[ne,ae]);const at=async re=>{try{const ke=q(P,"users",re),Re=await We(ke);if(Re.exists()){const $e=Re.data();l($e.username||"Usuario"),G({email:$e.email||"",password:"",preferences:$e.preferences||""})}V(!1)}catch(ke){C("Error al cargar datos del usuario"),console.error("Error fetching user data:",ke),V(!1)}};v.useEffect(()=>{o&&(async ke=>{try{const Re=await We(q(P,"admins",ke));i(Re.exists())}catch(Re){console.error("Error checking admin status:",Re)}})(o)},[o]),v.useEffect(()=>{if(!n)return;const re=ye(X(P,"products"),be("provider","==",n)),ke=Ie(re,Re=>{const $e=Re.docs.map(it=>({id:it.id,...it.data()}));I($e)},Re=>{console.error("Error fetching products:",Re),C("Error al cargar productos")});return()=>ke()},[n]),v.useEffect(()=>{if(!d)return;const re=ye(X(P,"sales"),be("providerId","==",d)),ke=Ie(re,Re=>{const $e=Re.docs.map(it=>{const pt=it.data();return{id:it.id,productName:pt.productName||"Producto sin nombre",category:pt.type||"netflix",buyer:pt.customerName||pt.customerNAME||"Comprador desconocido",buyerEmail:pt.customerEmail||"Sin email",buyerPhone:pt.phoneNumber||"Sin telfono",date:pt.saleDate?pt.saleDate:pt.createdAt||new Date,amount:parseFloat(pt.price)||0,status:pt.status||"completed",accountDetails:pt.accountDetails||{email:"No disponible",password:"No disponible",profile:"N/A",pin:""}}});N($e),H(!1)},Re=>{console.error("Error fetching sales:",Re),C("Error al cargar ventas"),H(!1)});return()=>ke()},[d]),v.useEffect(()=>{if(!n)return;const re=ye(X(P,"withdrawals"),be("provider","==",n),rp("createdAt","desc")),ke=Ie(re,Re=>{const $e=Re.docs.map(it=>{const pt=it.data();return{id:it.id,...pt,amount:parseFloat(pt.amount)||0,createdAt:pt.createdAt||new Date,processedAt:pt.processedAt||null}});Le($e),H(!1)},Re=>{console.error("Error fetching withdrawals:",Re),C("Error al cargar retiros")});return()=>ke()},[n]),v.useEffect(()=>{if(!te)return;const re=ye(X(P,"withdrawals"),be("status","==","pending"),rp("createdAt","desc")),ke=Ie(re,Re=>{const $e=Re.docs.map(it=>{const pt=it.data();return{id:it.id,...pt,amount:parseFloat(pt.amount)||0,createdAt:pt.createdAt||new Date}});y($e)},Re=>{console.error("Error fetching pending withdrawals:",Re),C("Error al cargar solicitudes de retiro pendientes")});return()=>ke()},[te]),v.useEffect(()=>{if(!n)return;const re=q(P,"providerBalances",n),ke=Ie(re,Re=>{Re.exists()?S(Re.data().balance||0):(Ar(re,{balance:0,provider:n,updatedAt:Ft()}),S(0)),H(!1)},Re=>{console.error("Error fetching provider balance:",Re),C("Error al cargar el saldo del proveedor"),H(!1)});return()=>ke()},[n]);const Y=()=>{wc(ne).then(()=>ae("/login")).catch(re=>{C("Error al cerrar sesin"),console.error("Logout error:",re)})},fe=re=>{const{name:ke,value:Re,type:$e,checked:it}=re.target;T(pt=>({...pt,[ke]:$e==="checkbox"?it:Re}))},he=re=>{const{name:ke,value:Re}=re.target;G($e=>({...$e,[ke]:Re}))},_e=(re,ke=!1)=>{const Re=re.target.files[0];if(Re){if(Re.size>10485760){ke?F("La imagen no debe exceder los 10MB"):C("La imagen no debe exceder los 10MB");return}const it=new FileReader;it.onloadend=()=>{ke?$(pt=>({...pt,image:it.result})):T(pt=>({...pt,image:it.result}))},it.readAsDataURL(Re)}},Ce=re=>{const ke=parseInt(re.target.value)||1,Re=z.accounts||[];if(ke>Re.length){const $e=[...Re];for(;$e.length<ke;)$e.push({email:"",password:"",profile:"",pin:""});T({...z,stock:ke,accounts:$e})}else if(ke<Re.length){const $e=Re.slice(0,Math.max(ke,1));T({...z,stock:ke,accounts:$e})}else T({...z,stock:ke})},Pe=re=>{const ke=parseInt(re.target.value)||1;let $e=[...W.accounts||[]];if(ke>$e.length)for(;$e.length<ke;)$e.push({email:"",password:"",profile:"",pin:""});else ke<$e.length&&($e=$e.slice(0,Math.max(ke,1)));$({...W,stock:ke,accounts:$e})},pe=(re,ke,Re)=>{const $e=[...z.accounts];$e[re]={...$e[re],[ke]:Re},T({...z,accounts:$e})},ve=(re,ke,Re)=>{$($e=>({...$e,accounts:$e.accounts.map((it,pt)=>pt===re?{...it,[ke]:Re}:it)}))},Dt=re=>{const{name:ke,value:Re}=re.target;g($e=>({...$e,accountDetails:{...$e.accountDetails,[ke]:Re}}))},ie=async()=>{if(C(""),!z.name||!z.price){C("Por favor complete todos los campos obligatorios");return}if(z.renewal&&!z.renewalPrice){C("Por favor ingrese el precio de renovacin");return}if(z.status==="En stock"&&z.accounts.some(ke=>!ke.email||!ke.password)){C("Por favor complete todos los campos de las cuentas");return}try{const re={...z,provider:n,providerId:d,providerPhone:z.status==="En stock"?z.providerPhone||"":z.providerPhone||"No especificado",createdAt:Ft(),availableAccounts:z.status==="En stock"?z.accounts.length:0},ke=await di(X(P,"products"),re);if(z.status==="En stock"){const Re=X(P,`products/${ke.id}/accounts`);for(const $e of z.accounts)await di(Re,{email:$e.email,password:$e.password,profile:$e.profile||"",pin:$e.pin||"",status:"available"})}T({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:[{email:"",password:"",profile:"",pin:""}]}),a("inventario"),Q({open:!0,message:"Producto subido exitosamente!"})}catch(re){console.error("Error al subir el producto:",re),C(`Error al subir el producto: ${re.message}`)}},we=re=>{F(""),$({...re,accounts:re.status==="En stock"?re.accounts||Array(Math.max(re.stock||1,1)).fill({email:"",password:"",profile:"",pin:""}):[],providerId:re.providerId||d,accountType:re.accountType||"Premium",renewal:re.renewal||!1,renewalPrice:re.renewalPrice||""}),A(!0)},Be=async()=>{var re;if(F(""),!W.name||!W.price){F("Por favor complete todos los campos obligatorios");return}if(W.renewal&&!W.renewalPrice){F("Por favor ingrese el precio de renovacin");return}if(W.status==="En stock"&&W.accounts.some(Re=>!Re.email||!Re.password)){F("Por favor complete todos los campos de las cuentas");return}try{const ke=q(P,"products",W.id);await Ar(ke,{...W,providerId:W.providerId||d,availableAccounts:W.status==="En stock"&&((re=W.accounts)==null?void 0:re.length)||0},{merge:!0}),A(!1),Q({open:!0,message:"Producto actualizado exitosamente!"})}catch(ke){console.error("Error al actualizar el producto:",ke),F("Error al actualizar el producto")}},lt=async re=>{try{await yA(q(P,"products",re)),Q({open:!0,message:"Producto eliminado exitosamente!"})}catch(ke){console.error("Error al eliminar el producto:",ke),C("Error al eliminar el producto")}},Nt=async()=>{try{const re=ne.currentUser;if(re){const ke=q(P,"users",re.uid);await Ar(ke,{preferences:D.preferences,...D.password&&{password:D.password}},{merge:!0}),Q({open:!0,message:"Configuracin actualizada correctamente!"})}}catch(re){console.error("Error al actualizar la configuracin:",re),C("Error al actualizar la configuracin")}},Pt=async()=>{if(!Te||parseFloat(Te)<=0){C("Ingrese un monto vlido");return}if(parseFloat(Te)>Z){C("No tienes suficientes fondos disponibles");return}if(!xe){C("Ingrese los datos de su cuenta");return}try{await di(X(P,"withdrawals"),{provider:n,providerEmail:o,amount:parseFloat(Te),method:de,account:xe,status:"pending",createdAt:Ft()}),Ee(""),oe(""),Q({open:!0,message:"Solicitud de retiro enviada correctamente"})}catch(re){console.error("Error al solicitar retiro:",re),C("Error al solicitar retiro")}},Ht=async(re,ke)=>{try{const Re=q(P,"withdrawals",re),$e=await We(Re);if(!$e.exists())throw new Error("Solicitud de retiro no encontrada");const it=$e.data(),pt=it.provider,Fr=parseFloat(it.amount);if(ke==="approved"){const Gn=q(P,"providerBalances",pt),Ai=await We(Gn);let sa=0;if(Ai.exists()&&(sa=Ai.data().balance||0),Fr>sa){C("El proveedor no tiene suficientes fondos para aprobar este retiro");return}await Ar(Gn,{balance:sa-Fr,provider:pt,updatedAt:Ft()},{merge:!0})}await ys(Re,{status:ke,processedAt:Ft(),processedBy:o}),Q({open:!0,message:ke==="approved"?"Retiro aprobado y saldo actualizado correctamente":"Retiro rechazado"})}catch(Re){console.error("Error al procesar retiro:",Re),C("Error al procesar retiro: "+Re.message)}},Xs=re=>{ue(""),g({...re,accountDetails:{email:re.accountDetails.email||"",password:re.accountDetails.password||"",profile:re.accountDetails.profile||"",pin:re.accountDetails.pin||""}}),R(!0)},yt=async()=>{if(ue(""),!j.accountDetails.email||!j.accountDetails.password){ue("Por favor complete todos los campos obligatorios de la cuenta");return}try{const re=q(P,"sales",j.id);await ys(re,{accountDetails:j.accountDetails,updatedAt:Ft()}),R(!1),Q({open:!0,message:"Detalles de la cuenta actualizados exitosamente!"})}catch(re){console.error("Error al actualizar los detalles de la cuenta:",re),ue("Error al actualizar los detalles de la cuenta")}},ft=O?0:p.reduce((re,ke)=>re+(ke.amount||0),0),ts=O?0:Ae.reduce((re,ke)=>re+(ke.status==="approved"?ke.amount:0),0),Yt=(()=>O?0:Z)(),Js=k.reduce((re,ke)=>re+(parseInt(ke.stock)||0),0),Zs=async re=>{try{const ke=q(P,"sales",re);await ys(ke,{status:"completed",updatedAt:Ft()}),Q({open:!0,message:"Pedido activado exitosamente!"})}catch(ke){console.error("Error al activar el pedido:",ke),C("Error al activar el pedido")}},Ss=()=>{if(h)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(w)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ht,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:w}),e.jsx("button",{onClick:()=>C(""),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:n})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Xd,{className:"mr-2"})," Inventario"]}),e.jsx("p",{className:"text-3xl font-bold text-white",children:k.length}),e.jsx("p",{className:"text-gray-400",children:"Productos registrados"}),e.jsxs("p",{className:"text-gray-400",children:["Stock total: ",Js]}),e.jsx("button",{onClick:()=>a("inventario"),className:"text-cyan-400 hover:underline text-sm mt-2",children:"Ver inventario"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ns,{className:"mr-2"})," Ganancias"]}),O?e.jsx("div",{className:"animate-pulse text-gray-400",children:"Cargando..."}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",ft.toFixed(2)]}),e.jsxs("p",{className:"text-gray-400",children:[p.length," ventas realizadas"]}),e.jsxs("p",{className:"text-gray-400",children:["Disponible: S/ ",Yt.toFixed(2)]}),e.jsx("button",{onClick:()=>a("retiros"),className:"text-cyan-400 hover:underline text-sm mt-2",children:"Retirar fondos"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ue,{className:"mr-2"})," Mi Cuenta"]}),e.jsx("p",{className:"text-lg font-medium text-white",children:n}),e.jsx("p",{className:"text-sm text-gray-400 truncate",children:o}),e.jsx("p",{className:"text-xs mt-2 bg-cyan-900 text-cyan-400 py-1 px-2 rounded-full inline-block",children:te?"Administrador":"Proveedor"}),e.jsx("button",{onClick:()=>a("configuracion"),className:"text-cyan-400 hover:underline text-sm mt-2",children:"Editar perfil"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[e.jsx(vt,{className:"mr-2"})," Pedidos recientes"]}),p.length===0?e.jsx("p",{className:"text-gray-400 py-2 text-center",children:"No hay pedidos recientes."}):p.slice(0,3).map((re,ke)=>e.jsx("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"w-2/3",children:[e.jsx("p",{className:"font-medium text-white truncate",children:re.productName}),e.jsxs("p",{className:"text-sm text-gray-400 truncate",children:["Comprador: ",re.buyer]})]}),e.jsxs("div",{className:"text-right w-1/3",children:[e.jsxs("p",{className:"font-medium text-white",children:["S/ ",(re.amount||0).toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-400",children:J(re.date)})]})]})},ke)),p.length>3&&e.jsx("button",{onClick:()=>a("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]})]});case"inventario":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white flex items-center",children:[e.jsx(Xd,{className:"mr-2"})," Inventario"]}),e.jsxs("button",{onClick:()=>a("subirProducto"),className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl flex items-center w-full md:w-auto justify-center transition-all duration-300",children:[e.jsx(Sw,{className:"mr-2"})," Nuevo Producto"]})]}),k.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Precio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:k.map(re=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[re.image&&e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:re.image,alt:re.name})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-white truncate max-w-xs",children:re.name}),e.jsx("div",{className:"text-xs text-gray-400",children:se(re.category)})]})]})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["S/ ",(parseFloat(re.price)||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:re.stock||0}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${re.status==="En stock"?"bg-green-900/80 text-green-400":"bg-yellow-900/80 text-yellow-400"}`,children:re.status})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{onClick:()=>we(re),className:"text-cyan-400 hover:text-cyan-500 mr-3",title:"Editar",children:e.jsx(Jd,{})}),e.jsx("button",{onClick:()=>lt(re.id),className:"text-red-400 hover:text-red-500",title:"Eliminar",children:e.jsx(nF,{})})]})]},re.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Xd,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes productos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Agrega tu primer producto para comenzar"}),e.jsxs("button",{onClick:()=>a("subirProducto"),className:"mt-4 px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl flex items-center mx-auto transition-all duration-300",children:[e.jsx(Sw,{className:"mr-2"})," Agregar Producto"]})]})]});case"subirProducto":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-4xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(Cw,{className:"mr-2"})," Subir Nuevo Producto"]}),w&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 mb-6 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(ht,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:w})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Imagen del producto"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-600/50 border-dashed rounded-xl bg-gray-700/50 backdrop-blur-sm",children:z.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:z.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain"}),e.jsx("button",{type:"button",onClick:()=>T({...z,image:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1",children:e.jsx(le,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-gray-800/50 rounded-xl font-medium text-cyan-400 hover:text-cyan-500 focus-within:outline-none",children:[e.jsx("span",{children:"Subir una imagen"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:re=>_e(re),accept:"image/*"})]})}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),e.jsxs("div",{className:"col-span-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre del producto*"}),e.jsx("input",{type:"text",name:"name",value:z.name,onChange:fe,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Categora*"}),e.jsxs("select",{name:"category",value:z.category,onChange:fe,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Spotify",children:"Spotify"}),e.jsx("option",{value:"Disney",children:"Disney+"}),e.jsx("option",{value:"Max",children:"Max"}),e.jsx("option",{value:"Prime Video",children:"Prime Video"}),e.jsx("option",{value:"Vix",children:"Vix"}),e.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),e.jsx("option",{value:"Canva",children:"Canva"}),e.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),e.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),e.jsx("option",{value:"Dgo",children:"DGO"}),e.jsx("option",{value:"Liga Max",children:"Liga Max"}),e.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),e.jsx("option",{value:"Youtube",children:"YouTube"}),e.jsx("option",{value:"Deezer",children:"Deezer"}),e.jsx("option",{value:"Tidal",children:"Tidal"}),e.jsx("option",{value:"Vpn",children:"VPN"}),e.jsx("option",{value:"WinTv",children:"WinTV"}),e.jsx("option",{value:"Apple Music",children:"Apple Music"}),e.jsx("option",{value:"Apple Tv",children:"Apple TV"}),e.jsx("option",{value:"Iptv",children:"IPTV"}),e.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),e.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),e.jsx("option",{value:"Pornhub",children:"Pornhub"}),e.jsx("option",{value:"Paramount",children:"Paramount"}),e.jsx("option",{value:"Licencias",children:"Licencias"}),e.jsx("option",{value:"Capcut",children:"Capcut"}),e.jsx("option",{value:"Duolingo",children:"Duolingo"}),e.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Tipo de cuenta*"}),e.jsxs("select",{name:"accountType",value:z.accountType,onChange:fe,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Premium",children:"Premium"}),e.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Estado*"}),e.jsxs("select",{name:"status",value:z.status,onChange:fe,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"En stock",children:"En stock"}),e.jsx("option",{value:"A pedido",children:"A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Stock*"}),e.jsx("input",{type:"number",name:"stock",value:z.stock,onChange:Ce,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"1",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio (S/)*"}),e.jsx("input",{type:"number",name:"price",value:z.price,onChange:fe,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"renewal",checked:z.renewal,onChange:fe,className:"h-4 w-4 text-cyan-400 focus:ring cyan-400 border-gray-600/50 rounded"}),e.jsx("label",{className:"ml-2 text-gray-300",children:"Tiene renovacin?"})]})]}),z.renewal&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio de renovacin (S/)*"}),e.jsx("input",{type:"number",name:"renewalPrice",value:z.renewalPrice,onChange:fe,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Duracin (das)"}),e.jsx("input",{type:"number",name:"duration",value:z.duration,onChange:fe,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Dejar vaco para ilimitado",min:"1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Telfono de contacto ",z.status==="A pedido"?"*":""]}),e.jsx("input",{type:"text",name:"providerPhone",value:z.providerPhone,onChange:fe,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: +51 987654321",required:z.status==="A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Detalles del producto"}),e.jsx("textarea",{name:"details",value:z.details,onChange:fe,rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Describe los detalles y caractersticas del producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Trminos y condiciones"}),e.jsx("textarea",{name:"terms",value:z.terms,onChange:fe,rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Especifica los trminos y condiciones de uso"})]}),z.status==="En stock"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cuentas asociadas*"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Debe completar todas las cuentas segn el stock indicado"}),e.jsx("div",{className:"space-y-4",children:z.accounts.map((re,ke)=>e.jsxs("div",{className:"border border-gray-600/50 rounded-xl p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("h4",{className:"text-sm font-medium text-white mb-3",children:["Cuenta ",ke+1]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Correo electrnico*"}),e.jsx("input",{type:"email",value:re.email,onChange:Re=>pe(ke,"email",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Contrasea*"}),e.jsx("input",{type:"text",value:re.password,onChange:Re=>pe(ke,"password",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",value:re.profile,onChange:Re=>pe(ke,"profile",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"PIN (opcional)"}),e.jsx("input",{type:"text",value:re.pin,onChange:Re=>pe(ke,"pin",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: 1234"})]})]})]},ke))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>a("inventario"),className:"px-4 py-2 bg-gray-700/50 text-gray-300 rounded-xl hover:bg-gray-600/50 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:ie,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Subir Producto"})]})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(Ns,{className:"mr-2"})," Ganancias"]}),e.jsx("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 mb-6 border border-gray-600/50 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-1",children:"Ganancias totales"}),e.jsxs("p",{className:"text-sm text-gray-400",children:[p.length," ventas realizadas"]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Retirado: S/ ",ts.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Disponible: S/ ",Yt.toFixed(2)]})]}),e.jsxs("div",{className:"text-3xl font-bold text-white mt-2 md:mt-0",children:["S/ ",ft.toFixed(2)]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Categora"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Comprador"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Contacto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:p.map((re,ke)=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:re.productName}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:se(re.category)}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-white",children:re.buyer}),e.jsx("div",{className:"text-xs text-gray-400",children:re.buyerEmail})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:re.buyerPhone}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:J(re.date)}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-white",children:["S/ ",(re.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:"Completado"})})]},ke))})]})}),p.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ns,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay ventas registradas"}),e.jsx("p",{className:"text-gray-400",children:"Tus ventas aparecern aqu."})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(vt,{className:"mr-2"})," Pedidos"]}),p.length>0?e.jsx("div",{className:"space-y-6",children:p.map((re,ke)=>{const $e=re.status==="pending"?e.jsx(Ot,{className:"text-yellow-400"}):e.jsx(Dc,{className:"text-green-400"});return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[$e,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:re.productName}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Categora: ",se(re.category)]})]})]}),e.jsxs("div",{className:"text-right flex items-center space-x-2",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",(re.amount||0).toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-400",children:J(re.date)}),e.jsx("button",{onClick:()=>Xs(re),className:"text-cyan-400 hover:text-cyan-500",title:"Editar cuenta",children:e.jsx(Jd,{})}),re.status==="pending"&&e.jsx("button",{onClick:()=>Zs(re.id),className:"text-green-400 hover:text-green-500",title:"Activar pedido",children:e.jsx(Gl,{})})]})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ue,{className:"mr-2"})," Informacin del Comprador"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:re.buyer})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white",children:re.buyerEmail})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Telfono:"}),e.jsx("span",{className:"block text-white",children:re.buyerPhone})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ue,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:re.accountDetails?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:re.accountDetails.email})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contrasea:"}),e.jsx("span",{className:"block text-white break-all",children:re.accountDetails.password})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:re.accountDetails.profile||"N/A"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:re.accountDetails.pin||"N/A"})]})]}):e.jsx("p",{className:"text-gray-400",children:"No disponible"})})]})]})})]},ke)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(vt,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Los pedidos de tus productos aparecern aqu."})]})]});case"retiros":return e.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:te?e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(xl,{className:"mr-2"})," Solicitudes de Retiro Pendientes"]}),b.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Mtodo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto (S/)"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:b.map(re=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-white truncate max-w-xs",children:re.provider}),e.jsx("div",{className:"text-xs text-gray-400 truncate max-w-xs",children:re.providerEmail})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:re.method}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-white",children:["S/ ",(re.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:J(re.createdAt)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs("button",{onClick:()=>Ht(re.id,"approved"),className:"text-green-400 hover:text-green-500 flex items-center text-sm",children:[e.jsx(Gl,{className:"mr-1"})," Aprobar"]}),e.jsxs("button",{onClick:()=>Ht(re.id,"rejected"),className:"text-red-400 hover:text-red-500 flex items-center text-sm",children:[e.jsx(le,{className:"mr-1"})," Rechazar"]})]})})]},re.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(xl,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay solicitudes pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Las solicitudes de retiro aparecern aqu"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(xl,{className:"mr-2"})," Retirar Dinero"]}),e.jsx("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 mb-6 border border-gray-600/50 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-1",children:"Saldo disponible"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Ganancias totales: S/ ",ft.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Retirado: S/ ",ts.toFixed(2)]})]}),e.jsxs("div",{className:"text-3xl font-bold text-white mt-2 md:mt-0",children:["S/ ",Yt.toFixed(2)]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Solicitar Retiro"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a retirar (S/)*"}),e.jsx("input",{type:"number",value:Te,onChange:re=>Ee(re.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 150.00",step:"0.01",min:"0",max:Yt}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Mximo disponible: S/ ",Yt.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Mtodo de pago*"}),e.jsxs("select",{value:de,onChange:re=>me(re.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Yape",children:"Yape"}),e.jsx("option",{value:"Plin",children:"Plin"}),e.jsx("option",{value:"Transferencia",children:"Transferencia Bancaria"}),e.jsx("option",{value:"Otro",children:"Otro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Datos de la cuenta*"}),e.jsx("input",{type:"text",value:xe,onChange:re=>oe(re.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:de==="Yape"?"Nmero de telfono":"Nmero de cuenta",required:!0})]}),e.jsx("button",{onClick:Pt,disabled:!Te||parseFloat(Te)<=0||parseFloat(Te)>Yt||!xe,className:`w-full px-6 py-3 rounded-xl font-medium transition-all duration-300 ${Te&&parseFloat(Te)>0&&parseFloat(Te)<=Yt&&xe?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Solicitar Retiro"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Historial de Retiros"}),Ae.length>0?e.jsx("div",{className:"space-y-4",children:Ae.map((re,ke)=>e.jsx("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-white",children:["S/ ",(re.amount||0).toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:[re.method," - ",re.account]}),e.jsxs("p",{className:"text-xs text-gray-400",children:[re.status==="pending"?"Solicitado":"Procesado",": ",J(re.status==="pending"?re.createdAt:re.processedAt)]})]}),e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${re.status==="approved"?"bg-green-900/80 text-green-400":re.status==="rejected"?"bg-red-900/80 text-red-400":"bg-yellow-900/80 text-yellow-400"}`,children:re.status==="approved"?"Aprobado":re.status==="rejected"?"Rechazado":"Pendiente"})]})},ke))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(xl,{className:"mx-auto text-3xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-400",children:"No hay retiros registrados"})]})]})]})]})});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(Ac,{className:"mr-2"})," Configuracin de cuenta"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:n,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 transition-all cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrnico"}),e.jsx("input",{type:"email",name:"email",value:D.email,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 transition-all cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contrasea"}),e.jsx("input",{type:"password",name:"password",value:D.password,onChange:he,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Dejar vaco para no cambiar"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Preferencias"}),e.jsx("textarea",{name:"preferences",value:D.preferences,onChange:he,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Escribe tus preferencias o notas",rows:"4"})]}),w&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(ht,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:w})]})}),e.jsx("div",{className:"flex justify-end gap-3 pt-4",children:e.jsx("button",{onClick:Nt,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})})]})]});default:return null}},ka=[{id:"inicio",label:"Inicio",icon:e.jsx(Cx,{})},{id:"inventario",label:"Inventario",icon:e.jsx(Xd,{})},{id:"subirProducto",label:"Subir Producto",icon:e.jsx(Cw,{})},{id:"ganancias",label:"Ganancias",icon:e.jsx(Ns,{})},{id:"pedidos",label:"Pedidos",icon:e.jsx(vt,{})},{id:"retiros",label:"Retiros",icon:e.jsx(xl,{})},{id:"configuracion",label:"Configuracin",icon:e.jsx(Ac,{})}];return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100",children:[e.jsxs("div",{className:"flex h-screen",children:[e.jsxs("div",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-gray-800/50 backdrop-blur-sm transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out border-r border-gray-700/50`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700/50",children:[e.jsx("h1",{className:"text-xl font-bold text-cyan-400",children:"Panel de Proveedor"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden text-gray-300 hover:text-white",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"mt-4",children:[ka.map(re=>e.jsxs("button",{onClick:()=>{a(re.id),t(!1)},className:`w-full flex items-center px-4 py-3 text-sm font-medium transition-all duration-300 ${r===re.id?"bg-cyan-500/20 text-cyan-400 border-l-4 border-cyan-400":"text-gray-300 hover:bg-gray-700/50 hover:text-white"}`,children:[re.icon,e.jsx("span",{className:"ml-3",children:re.label})]},re.id)),e.jsxs("button",{onClick:Y,className:"w-full flex items-center px-4 py-3 text-sm font-medium text-gray-300 hover:bg-gray-700/50 hover:text-white transition-all duration-300",children:[e.jsx(kt,{className:"mr-3"}),"Cerrar Sesin"]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col md:ml-64",children:[e.jsxs("header",{className:"bg-gray-800/50 backdrop-blur-sm p-4 flex justify-between items-center border-b border-gray-700/50",children:[e.jsx("button",{onClick:()=>t(!0),className:"md:hidden text-gray-300 hover:text-white",children:e.jsx(Rt,{size:24})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-700/50 flex items-center justify-center",children:e.jsx(Ue,{className:"text-gray-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:n}),e.jsx("p",{className:"text-xs text-gray-400",children:o})]})]})]}),e.jsx("main",{className:"flex-1 p-4 sm:p-6 overflow-auto",children:Ss()})]})]}),U&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx(Jd,{className:"mr-2"})," Editar Producto"]}),e.jsx("button",{onClick:()=>A(!1),className:"text-gray-300 hover:text-white",children:e.jsx(le,{size:24})})]}),u&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 mb-6 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(ht,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:u})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Imagen del producto"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-600/50 border-dashed rounded-xl bg-gray-700/50 backdrop-blur-sm",children:W!=null&&W.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:W.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain"}),e.jsx("button",{type:"button",onClick:()=>$({...W,image:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1",children:e.jsx(le,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:e.jsxs("label",{htmlFor:"edit-file-upload",className:"relative cursor-pointer bg-gray-800/50 rounded-xl font-medium text-cyan-400 hover:text-cyan-500 focus-within:outline-none",children:[e.jsx("span",{children:"Subir una imagen"}),e.jsx("input",{id:"edit-file-upload",name:"edit-file-upload",type:"file",className:"sr-only",onChange:re=>_e(re,!0),accept:"image/*"})]})}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),e.jsxs("div",{className:"col-span-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre del producto*"}),e.jsx("input",{type:"text",name:"name",value:(W==null?void 0:W.name)||"",onChange:re=>$({...W,name:re.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Categora*"}),e.jsxs("select",{name:"category",value:(W==null?void 0:W.category)||"Netflix",onChange:re=>$({...W,category:re.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Spotify",children:"Spotify"}),e.jsx("option",{value:"Disney",children:"Disney+"}),e.jsx("option",{value:"Max",children:"Max"}),e.jsx("option",{value:"Prime Video",children:"Prime Video"}),e.jsx("option",{value:"Vix",children:"Vix"}),e.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),e.jsx("option",{value:"Canva",children:"Canva"}),e.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),e.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),e.jsx("option",{value:"Dgo",children:"DGO"}),e.jsx("option",{value:"Liga Max",children:"Liga Max"}),e.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),e.jsx("option",{value:"Youtube",children:"YouTube"}),e.jsx("option",{value:"Deezer",children:"Deezer"}),e.jsx("option",{value:"Tidal",children:"Tidal"}),e.jsx("option",{value:"Vpn",children:"VPN"}),e.jsx("option",{value:"WinTv",children:"WinTV"}),e.jsx("option",{value:"Apple Music",children:"Apple Music"}),e.jsx("option",{value:"Apple Tv",children:"Apple TV"}),e.jsx("option",{value:"Iptv",children:"IPTV"}),e.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),e.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),e.jsx("option",{value:"Pornhub",children:"Pornhub"}),e.jsx("option",{value:"Paramount",children:"Paramount"}),e.jsx("option",{value:"Licencias",children:"Licencias"}),e.jsx("option",{value:"Capcut",children:"Capcut"}),e.jsx("option",{value:"Duolingo",children:"Duolingo"}),e.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Tipo de cuenta*"}),e.jsxs("select",{name:"accountType",value:(W==null?void 0:W.accountType)||"Premium",onChange:re=>$({...W,accountType:re.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Premium",children:"Premium"}),e.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Estado*"}),e.jsxs("select",{name:"status",value:(W==null?void 0:W.status)||"En stock",onChange:re=>$({...W,status:re.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"En stock",children:"En stock"}),e.jsx("option",{value:"A pedido",children:"A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Stock*"}),e.jsx("input",{type:"number",name:"stock",value:(W==null?void 0:W.stock)||1,onChange:Pe,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"1",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio (S/)*"}),e.jsx("input",{type:"number",name:"price",value:(W==null?void 0:W.price)||"",onChange:re=>$({...W,price:re.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"renewal",checked:(W==null?void 0:W.renewal)||!1,onChange:re=>$({...W,renewal:re.target.checked}),className:"h-4 w-4 text-cyan-400 focus:ring cyan-400 border-gray-600/50 rounded"}),e.jsx("label",{className:"ml-2 text-gray-300",children:"Tiene renovacin?"})]})]}),(W==null?void 0:W.renewal)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio de renovacin (S/)*"}),e.jsx("input",{type:"number",name:"renewalPrice",value:(W==null?void 0:W.renewalPrice)||"",onChange:re=>$({...W,renewalPrice:re.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Duracin (das)"}),e.jsx("input",{type:"number",name:"duration",value:(W==null?void 0:W.duration)||"",onChange:re=>$({...W,duration:re.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Dejar vaco para ilimitado",min:"1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Telfono de contacto ",(W==null?void 0:W.status)==="A pedido"?"*":""]}),e.jsx("input",{type:"text",name:"providerPhone",value:(W==null?void 0:W.providerPhone)||"",onChange:re=>$({...W,providerPhone:re.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: +51 987654321",required:(W==null?void 0:W.status)==="A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Detalles del producto"}),e.jsx("textarea",{name:"details",value:(W==null?void 0:W.details)||"",onChange:re=>$({...W,details:re.target.value}),rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Describe los detalles y caractersticas del producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Trminos y condiciones"}),e.jsx("textarea",{name:"terms",value:(W==null?void 0:W.terms)||"",onChange:re=>$({...W,terms:re.target.value}),rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Especifica los trminos y condiciones de uso"})]}),(W==null?void 0:W.status)==="En stock"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cuentas asociadas*"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Debe completar todas las cuentas segn el stock indicado"}),e.jsx("div",{className:"space-y-4",children:(or=W==null?void 0:W.accounts)==null?void 0:or.map((re,ke)=>e.jsxs("div",{className:"border border-gray-600/50 rounded-xl p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("h4",{className:"text-sm font-medium text-white mb-3",children:["Cuenta ",ke+1]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Correo electrnico*"}),e.jsx("input",{type:"email",value:re.email,onChange:Re=>ve(ke,"email",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Contrasea*"}),e.jsx("input",{type:"text",value:re.password,onChange:Re=>ve(ke,"password",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",value:re.profile,onChange:Re=>ve(ke,"profile",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"PIN (opcional)"}),e.jsx("input",{type:"text",value:re.pin,onChange:Re=>ve(ke,"pin",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: 1234"})]})]})]},ke))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-gray-700/50 text-gray-300 rounded-xl hover:bg-gray-600/50 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:Be,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})]})]})]})}),_&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx(Jd,{className:"mr-2"})," Editar Detalles de Cuenta"]}),e.jsx("button",{onClick:()=>R(!1),className:"text-gray-300 hover:text-white",children:e.jsx(le,{size:24})})]}),L&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 mb-6 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(ht,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:L})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrnico*"}),e.jsx("input",{type:"email",name:"email",value:(j==null?void 0:j.accountDetails.email)||"",onChange:Dt,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Contrasea*"}),e.jsx("input",{type:"text",name:"password",value:(j==null?void 0:j.accountDetails.password)||"",onChange:Dt,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",name:"profile",value:(j==null?void 0:j.accountDetails.profile)||"",onChange:Dt,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"PIN (opcional)"}),e.jsx("input",{type:"text",name:"pin",value:(j==null?void 0:j.accountDetails.pin)||"",onChange:Dt,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Ej: 1234"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 bg-gray-700/50 text-gray-300 rounded-xl hover:bg-gray-600/50 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:yt,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})]})]})]})}),B.open&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl max-w-md w-full mx-4 border border-gray-700/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Dc,{className:"mx-auto text-4xl text-green-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"xito!"}),e.jsx("p",{className:"text-gray-300 mb-4",children:B.message}),e.jsx("button",{onClick:()=>Q({open:!1,message:""}),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]})})})]})},vF=({isOpen:s,message:t,title:r,onClose:a})=>s?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:r}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(le,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:a,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,jF=({isOpen:s,user:t,onClose:r,onSave:a})=>{const[n,l]=v.useState((t==null?void 0:t.balance)||0),[o,c]=v.useState(""),d=m=>{if(m.preventDefault(),c(""),isNaN(n)||n<0){c("Por favor, ingrese un saldo vlido (nmero no negativo).");return}a(t.id,parseFloat(n))};return s?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white",children:["Editar Saldo de ",t.username]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(le,{size:20})})]}),e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Saldo (S/)"}),e.jsx("input",{type:"number",value:n,onChange:m=>l(m.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"0",step:"0.01",required:!0}),o&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:o})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},NF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState("inicio"),[n,l]=v.useState(""),[o,c]=v.useState(""),[d,m]=v.useState(0),[p,N]=v.useState([]),[k,I]=v.useState([]),[h,V]=v.useState([]),[w,C]=v.useState([]),[z,T]=v.useState([]),[W,$]=v.useState([]),[U,A]=v.useState([]),[u,F]=v.useState([]),[B,Q]=v.useState(0),[D,G]=v.useState({day:0,week:0,month:0,total:0}),[Ae,Le]=v.useState(!0),[Te,Ee]=v.useState({}),[de,me]=v.useState(null),[xe,oe]=v.useState(""),[te,i]=v.useState({isOpen:!1,message:"",title:""}),[b,y]=v.useState({isOpen:!1,user:null}),[O,H]=v.useState(!1),[Z,S]=v.useState({message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}}),_=jt(),R=(ie,we)=>{i({isOpen:!0,title:ie,message:we})},j=()=>{i({isOpen:!1,message:"",title:""})},g=ie=>{y({isOpen:!0,user:ie})},L=()=>{y({isOpen:!1,user:null})},ue=async(ie,we)=>{try{Ee(lt=>({...lt,[`balance_${ie}`]:!0}));const Be=q(P,"users",ie);await ys(Be,{balance:we,updatedAt:Ft()}),R("xito","Saldo actualizado exitosamente"),L()}catch(Be){console.error("Error al actualizar saldo:",Be),R("Error",Be.message||"Error al actualizar el saldo")}finally{Ee(Be=>({...Be,[`balance_${ie}`]:!1}))}},ae=async ie=>{ie.preventDefault();try{Ee(Pt=>({...Pt,notification:!0}));const{message:we,roles:Be}=Z;if(!we.trim())throw new Error("El mensaje no puede estar vaco");const lt=Object.keys(Be).filter(Pt=>Be[Pt]);if(lt.length===0)throw new Error("Debe seleccionar al menos un rol");const Nt=q(P,"notifications","adminMessage");await Ar(Nt,{message:we.trim(),roles:lt,updatedAt:Ft()}),S({message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}}),R("xito","Notificacin enviada exitosamente")}catch(we){console.error("Error al enviar notificacin:",we),R("Error",we.message||"Error al enviar la notificacin")}finally{Ee(we=>({...we,notification:!1}))}};v.useEffect(()=>{const ie=It(ze,we=>{!we&&!O?_("/login"):we&&(c(we.email),ne(we.uid),Le(!1))});return()=>ie()},[_,O]);const ne=async ie=>{try{const we=q(P,"users",ie),Be=await We(we);if(Be.exists()){const lt=Be.data();l(lt.username||lt.email.split("@")[0])}else me("Usuario no encontrado en la base de datos")}catch(we){console.error("Error al obtener el nombre de usuario:",we),me("Error al cargar datos del usuario")}},J=ie=>{const Be=ie*5,lt=Be*.25,Nt=Be*.05;G({day:Nt,week:lt,month:Be,total:Be})};v.useEffect(()=>{(async()=>{try{const yt=await gt(X(P,"users")),ft=yt.size,ts=yt.docs.map(it=>({id:it.id,...it.data()}));m(ft),N(ts.slice(-5)),I(ts),J(ft);const xs=ye(X(P,"pendingRegistrations"),be("status","==","pending")),Yt=await gt(xs);V(Yt.docs.map(it=>({id:it.id,...it.data()})));const Js=ye(X(P,"pendingTopUps"),be("status","==","pendiente")),Zs=await gt(Js);C(Zs.docs.map(it=>({id:it.id,...it.data()})));const Ss=ye(X(P,"withdrawals"),be("status","==","pending")),ka=await gt(Ss);T(ka.docs.map(it=>({id:it.id,...it.data()})));const or=await gt(X(P,"topUpsHistory"));$(or.docs.map(it=>({id:it.id,...it.data()})));const re=await gt(X(P,"withdrawalsHistory"));A(re.docs.map(it=>({id:it.id,...it.data()})));const Re=(await gt(X(P,"sales"))).docs.map(it=>({id:it.id,...it.data()}));F(Re);const $e=Re.reduce((it,pt)=>it+(pt.price||0),0);Q($e)}catch(yt){console.error("Error al obtener datos:",yt),me("Error al cargar datos")}})();const we=Ie(X(P,"users"),yt=>{const ft=yt.size,ts=yt.docs.map(xs=>({id:xs.id,...xs.data()}));m(ft),N(ts.slice(-5)),I(ts),J(ft)}),Be=Ie(ye(X(P,"pendingRegistrations"),be("status","==","pending")),yt=>{V(yt.docs.map(ft=>({id:ft.id,...ft.data()})))}),lt=Ie(ye(X(P,"pendingTopUps"),be("status","==","pendiente")),yt=>{C(yt.docs.map(ft=>({id:ft.id,...ft.data()})))}),Nt=Ie(ye(X(P,"withdrawals"),be("status","==","pending")),yt=>{T(yt.docs.map(ft=>({id:ft.id,...ft.data()})))}),Pt=Ie(X(P,"topUpsHistory"),yt=>{$(yt.docs.map(ft=>({id:ft.id,...ft.data()})))}),Ht=Ie(X(P,"withdrawalsHistory"),yt=>{A(yt.docs.map(ft=>({id:ft.id,...ft.data()})))}),Xs=Ie(X(P,"sales"),yt=>{const ft=yt.docs.map(xs=>({id:xs.id,...xs.data()}));F(ft);const ts=ft.reduce((xs,Yt)=>xs+(Yt.price||0),0);Q(ts)});return()=>{we(),Be(),lt(),Nt(),Pt(),Ht(),Xs()}},[]);const se=async ie=>{try{Ee(Nt=>({...Nt,[ie]:!0}));const we=q(P,"withdrawals",ie),Be=z.find(Nt=>Nt.id===ie);if(!(Be!=null&&Be.providerId))throw new Error("Proveedor no encontrado para el retiro");await ys(we,{status:"approved",updatedAt:Ft()});const lt=q(P,"users",Be.providerId);await ys(lt,{balance:Qe(-Be.amount||0)}),await Ar(q(P,"withdrawalsHistory",ie),{...Be,status:"approved",updatedAt:Ft()}),me(null),R("xito","Retiro aprobado exitosamente")}catch(we){console.error("Error al aprobar retiro:",we),me(we.message||"Error al aprobar el retiro"),R("Error",we.message||"Error al aprobar el retiro")}finally{Ee(we=>({...we,[ie]:!1}))}},at=async ie=>{try{Ee(lt=>({...lt,[ie]:!0}));const we=q(P,"withdrawals",ie);await ys(we,{status:"denied",updatedAt:Ft()});const Be=z.find(lt=>lt.id===ie);await Ar(q(P,"withdrawalsHistory",ie),{...Be,status:"denied",updatedAt:Ft()}),me(null),R("xito","Retiro rechazado exitosamente")}catch(we){console.error("Error al rechazar retiro:",we),me(we.message||"Error al rechazar el retiro"),R("Error",we.message||"Error al rechazar el retiro")}finally{Ee(we=>({...we,[ie]:!1}))}},Y=async ie=>{try{Ee(Nt=>({...Nt,[ie]:!0}));const we=q(P,"pendingTopUps",ie),Be=w.find(Nt=>Nt.id===ie);if(!(Be!=null&&Be.userId))throw new Error("Usuario no encontrado para la recarga");await ys(we,{status:"aprobado",updatedAt:Ft()});const lt=q(P,"users",Be.userId);await ys(lt,{balance:Qe(Be.amount||0)}),await Ar(q(P,"topUpsHistory",ie),{...Be,status:"aprobado",updatedAt:Ft()}),me(null),R("xito","Recarga aprobada exitosamente")}catch(we){console.error("Error al aprobar recarga:",we),me(we.message||"Error al aprobar la recarga"),R("Error",we.message||"Error al aprobar la recarga")}finally{Ee(we=>({...we,[ie]:!1}))}},fe=async ie=>{try{Ee(lt=>({...lt,[ie]:!0}));const we=q(P,"pendingTopUps",ie);await ys(we,{status:"rechazado",updatedAt:Ft()});const Be=w.find(lt=>lt.id===ie);await Ar(q(P,"topUpsHistory",ie),{...Be,status:"rechazado",updatedAt:Ft()}),me(null),R("xito","Recarga rechazada exitosamente")}catch(we){console.error("Error al rechazar recarga:",we),me(we.message||"Error al rechazar la recarga"),R("Error",we.message||"Error al rechazar la recarga")}finally{Ee(we=>({...we,[ie]:!1}))}},he=async ie=>{try{Ee(Ht=>({...Ht,[ie]:!0})),H(!0);const we=q(P,"pendingRegistrations",ie),Be=h.find(Ht=>Ht.id===ie);if(!Be)throw new Error("Solicitud no encontrada");if((await $M(ze,Be.email)).length>0)throw new Error("El correo ya est registrado");const Pt=(await BM(ze,Be.email,Be.password)).user;await Ar(q(P,"users",Pt.uid),{username:Be.username,email:Be.email,role:Be.role||"usuario",balance:0,referrerCode:Be.referrerCode||null,createdAt:Ft()}),await ys(we,{status:"approved",updatedAt:Ft()}),await wc(ze),me(null),R("xito","Solicitud de registro aprobada exitosamente")}catch(we){console.error("Error al aceptar solicitud:",we),me(we.message||"Error al aceptar la solicitud de registro"),R("Error",we.message||"Error al aceptar la solicitud de registro")}finally{Ee(we=>({...we,[ie]:!1})),H(!1)}},_e=async ie=>{try{Ee(Be=>({...Be,[ie]:!0}));const we=q(P,"pendingRegistrations",ie);await ys(we,{status:"denied",updatedAt:Ft()}),me(null),R("xito","Solicitud de registro rechazada exitosamente")}catch(we){console.error("Error al rechazar solicitud:",we),me(we.message||"Error al rechazar la solicitud de registro"),R("Error",we.message||"Error al rechazar la solicitud de registro")}finally{Ee(we=>({...we,[ie]:!1}))}},Ce=async()=>{try{await wc(ze),_("/")}catch(ie){console.error("Error al cerrar sesin:",ie),me(ie.message||"Error al cerrar sesin"),R("Error",ie.message||"Error al cerrar sesin")}},Pe=async ie=>{ie.preventDefault();try{Ee(Nt=>({...Nt,config:!0}));const we=ze.currentUser;if(!we)throw new Error("Usuario no autenticado");const Be=q(P,"users",we.uid);await ys(Be,{username:n,updatedAt:Ft()});const lt=ie.target.password.value;if(lt){if(lt.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres");await Og(we,lt)}me(null),R("xito","Cambios guardados exitosamente")}catch(we){console.error("Error al guardar cambios:",we),me(we.message||"Error al guardar cambios"),R("Error",we.message||"Error al guardar cambios")}finally{Ee(we=>({...we,config:!1}))}},pe=ie=>{if(!ie)return"No especificada";try{const we=ie.toDate?ie.toDate():new Date(ie);return isNaN(we.getTime())?"Fecha invlida":we.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha invlida"}},ve=ie=>{if(ie.status==="pending")return"Pendiente";if(!ie.expirationDate)return"Activo";const we=new Date,Be=ie.expirationDate.toDate?ie.expirationDate.toDate():new Date(ie.expirationDate);return we>Be?"Expirado":"Activo"},Dt=()=>{if(Ae)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(de)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ht,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:de}),e.jsx("button",{onClick:()=>me(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:n})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Informacin de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:n})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(oa,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:o})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias del mes"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",D.month.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"(5 soles por cada usuario)"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Usuarios registrados"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:d}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Total Gananacias: S/ ",D.total.toFixed(2)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"ltimos usuarios"}),p.length>0?p.map(ie=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:ie.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-cyan-900/80 text-cyan-400",children:ie.role||"usuario"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:ie.email})]},ie.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay usuarios registrados"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Solicitudes pendientes"}),h.length>0?h.slice(0,3).map(ie=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:ie.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-900/80 text-purple-400",children:ie.role||"usuario"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:ie.email})]},ie.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay solicitudes pendientes"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Retiros pendientes"}),z.length>0?z.slice(0,3).map(ie=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:ie.provider||"Sin proveedor"}),e.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-900/80 text-yellow-400",children:["S/ ",(ie.amount||0).toFixed(2)]})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Mtodo: ",ie.method||"No especificado"]})]},ie.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay retiros pendientes"})]})]})]});case"notificaciones":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Enviar Notificacin"}),e.jsxs("form",{onSubmit:ae,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Mensaje de la Notificacin"}),e.jsx("textarea",{value:Z.message,onChange:ie=>S({...Z,message:ie.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all resize-y",rows:"5",placeholder:"Escribe el mensaje para los usuarios...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Enviar a los siguientes roles"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:["user","affiliate","provider","admin"].map(ie=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:Z.roles[ie],onChange:we=>S({...Z,roles:{...Z.roles,[ie]:we.target.checked}}),className:"h-4 w-4 text-cyan-400 focus:ring-cyan-400 border-gray-600 rounded"}),e.jsx("span",{className:"text-gray-300 capitalize",children:ie})]},ie))})]}),e.jsx("button",{type:"submit",disabled:Te.notification,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium transition-all duration-300 disabled:bg-cyan-800",children:Te.notification?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Enviar Notificacin"})]})]});case"usuarios":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Solicitudes de registro"}),h.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:h.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:ie.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:ie.email}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-cyan-900/80 text-cyan-400",children:ie.role||"usuario"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>he(ie.id),disabled:Te[ie.id],className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 disabled:bg-green-800",title:"Aceptar",children:Te[ie.id]?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsx(Gl,{size:16})}),e.jsx("button",{onClick:()=>_e(ie.id),disabled:Te[ie.id],className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all duration-300 disabled:bg-red-800",title:"Rechazar",children:Te[ie.id]?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsx(le,{size:16})})]})})]},ie.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Hl,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay solicitudes de registro pendientes"})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos los usuarios (",d,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:xe,onChange:ie=>oe(ie.target.value)}),e.jsx(a4,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),k.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Saldo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:k.filter(ie=>(ie.username||"").toLowerCase().includes(xe.toLowerCase())||(ie.email||"").toLowerCase().includes(xe.toLowerCase())).map(ie=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:ie.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:ie.email}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-cyan-900/80 text-cyan-400",children:ie.role||"usuario"})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(ie.balance||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>g(ie),disabled:Te[`balance_${ie.id}`],className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-300 disabled:bg-blue-800",title:"Editar Saldo",children:Te[`balance_${ie.id}`]?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsx(jy,{size:16})})})]},ie.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Hl,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay usuarios registrados"})]})]})]});case"recargas":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargas pendientes"}),w.length>0?e.jsx("div",{className:"space-y-4",children:w.map(ie=>e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-cyan-900/80 rounded-full flex items-center justify-center text-cyan-400",children:e.jsx(Ns,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:ie.username||"Sin nombre"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Solicitado: ",pe(ie.requestedAt)]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-medium text-white",children:["S/ ",(ie.amount||0).toFixed(2)]})})]}),e.jsx("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>Y(ie.id),disabled:Te[ie.id],className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 disabled:bg-green-800 transition-all duration-300",children:Te[ie.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(Gl,{size:18})," Aprobar Recarga"]})}),e.jsx("button",{onClick:()=>fe(ie.id),disabled:Te[ie.id],className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 disabled:bg-red-800 transition-all duration-300",children:Te[ie.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(le,{size:18})," Rechazar Recarga"]})})]})})]},ie.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ns,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay recargas pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Todas las solicitudes han sido procesadas"})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),W.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:W.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:ie.username||"Sin nombre"}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(ie.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ie.status==="aprobado"?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ie.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:pe(ie.updatedAt)})]},ie.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ns,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay historial de recargas"})]})]})]});case"retiros":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Solicitudes de retiro"}),z.length>0?e.jsx("div",{className:"space-y-4",children:z.map(ie=>e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-900/80 rounded-full flex items-center justify-center text-yellow-400",children:e.jsx(Ns,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:ie.provider||"Sin proveedor"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Email: ",ie.providerEmail||"No disponible"]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Solicitado: ",pe(ie.createdAt)]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Mtodo: ",ie.method||"No especificado"]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Cuenta: ",ie.account||"No especificada"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-medium text-white",children:["S/ ",(ie.amount||0).toFixed(2)]})})]}),e.jsx("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>se(ie.id),disabled:Te[ie.id],className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 disabled:bg-green-800 transition-all duration-300",children:Te[ie.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(Gl,{size:18})," Aprobar Retiro"]})}),e.jsx("button",{onClick:()=>at(ie.id),disabled:Te[ie.id],className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 disabled:bg-red-800 transition-all duration-300",children:Te[ie.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(le,{size:18})," Rechazar Retiro"]})})]})})]},ie.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ns,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay retiros pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Todas las solicitudes han sido procesadas"})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de retiros"}),U.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Mtodo"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:U.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:ie.provider||"Sin proveedor"}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(ie.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ie.status==="approved"?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ie.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:pe(ie.updatedAt)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:ie.method||"No especificado"})]},ie.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ns,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay historial de retiros"})]})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Ventas General"}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center mb-6 border border-gray-600/50",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Total Ventas"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",B.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"Suma de todos los pedidos realizados"})]}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de Pedidos"}),u.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Nombre del Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Precio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario Comprador"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha y Hora de Compra"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Detalles de la Cuenta"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:u.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:ie.productName||"Sin nombre"}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(ie.price||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:ie.provider||"Sin proveedor"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:ie.buyerUsername||"Sin usuario"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:pe(ie.purchaseDate)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ve(ie)==="Pendiente"?"bg-yellow-900/80 text-yellow-400":ve(ie)==="Activo"?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ve(ie)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:ie.accountDetails?`Email: ${ie.accountDetails.email||"N/A"}, Contrasea: ${ie.accountDetails.password||"N/A"}, Perfil: ${ie.accountDetails.profile||"N/A"}, PIN: ${ie.accountDetails.pin||"No especificado"}`:"N/A"})]},ie.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(vt,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay pedidos registrados"})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",D.day.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"(5 soles por usuario)"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",D.week.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"(25% del total de usuarios)"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias este mes"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",D.month.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"(5 soles por cada usuario)"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Resumen de ganancias"}),e.jsxs("span",{className:"px-3 py-1 bg-cyan-900/80 text-cyan-400 rounded-full text-sm",children:["Total: S/ ",D.total.toFixed(2)]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-600/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Concepto"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Valor"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Clculo"})]})}),e.jsxs("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:"Ganancias por usuario"}),e.jsx("td",{className:"px-4 py-3 text-white",children:"S/ 5.00"}),e.jsx("td",{className:"px-4 py-3 text-gray-400",children:"Fijo por cada usuario registrado"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:"Total usuarios"}),e.jsx("td",{className:"px-4 py-3 text-white",children:d}),e.jsx("td",{className:"px-4 py-3 text-gray-400",children:"Usuarios activos en el sistema"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:"Ganancias totales"}),e.jsxs("td",{className:"px-4 py-3 text-white",children:["S/ ",D.total.toFixed(2)]}),e.jsxs("td",{className:"px-4 py-3 text-gray-400",children:[d," usuarios  S/ 5.00"]})]})]})]})})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuracin de cuenta"}),e.jsxs("form",{onSubmit:Pe,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:n,onChange:ie=>l(ie.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrnico"}),e.jsx("input",{type:"email",value:o,readOnly:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contrasea (opcional)"}),e.jsx("input",{type:"password",name:"password",placeholder:"Nueva contrasea",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsx("button",{type:"submit",disabled:Te.config,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 disabled:bg-cyan-800",children:Te.config?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]}),e.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:e.jsxs("button",{onClick:Ce,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(kt,{})," Cerrar sesin"]})})]});default:return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ht,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seccin no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La seccin que ests buscando no existe o no est disponible."}),e.jsx("button",{onClick:()=>a("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(Rt,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(le,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:n.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text white",children:n}),e.jsx("p",{className:"text-xs text-gray-400",children:"Administrador"})]})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Cx},{id:"notificaciones",label:"Notificaciones",icon:_c},{id:"usuarios",label:"Usuarios",icon:Hl},{id:"recargas",label:"Recargas",icon:Ns},{id:"retiros",label:"Retiros",icon:Ns},{id:"pedidos",label:"Pedidos",icon:vt},{id:"ganancias",label:"Ganancias",icon:Ip},{id:"configuracion",label:"Configuracin",icon:Ac}].map(ie=>e.jsxs("button",{onClick:()=>{a(ie.id),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===ie.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-cyan-400"}`,children:[e.jsx(ie.icon,{className:"text-lg"}),e.jsx("span",{children:ie.label})]},ie.id))}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{onClick:Ce,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[e.jsx(kt,{className:"text-lg"}),e.jsx("span",{children:"Cerrar Sesin"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:Dt()})}),e.jsx(vF,{isOpen:te.isOpen,title:te.title,message:te.message,onClose:j}),e.jsx(jF,{isOpen:b.isOpen,user:b.user,onClose:L,onSave:ue})]})},wF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Netflix")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",accountType:g.accountType||"No especificado",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,netflix:R.length}))},S=>{I("Error al cargar productos de Netflix"),console.error(S)}),y=ye(X(P,"netflix_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"netflix"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"netflix"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms,accountType:i.accountType})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider,accountType:i.accountType}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Netflix`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Netflix...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-red-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-red-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-red-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Netflix"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus series y pelculas favoritas con nuestras cuentas premium de Netflix"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-red-400",size:16}),e.jsxs("span",{className:"text-gray-400",children:[i.accountType," "]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-400 focus:ring-red-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Tipo de cuenta:"}),e.jsx("p",{className:"text-gray-300",children:w.accountType})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms,accountType:w.accountType})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Tipo de cuenta: ",w.accountType]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},kF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Disney")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",accountType:g.accountType||"No especificado",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,disney:R.length}))},S=>{I("Error al cargar productos de Disney"),console.error(S)}),y=ye(X(P,"disney_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"disney"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"disney"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms,accountType:i.accountType})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider,accountType:i.accountType}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Disney`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-blue-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-blue-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-blue-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-blue-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Disney+...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-blue-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-blue-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-blue-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-600/80 hover:bg-blue-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-blue-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-blue-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-600/30 text-white border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1618336753974-8d9f3046f1e8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Disney+"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de pelculas, series y contenido exclusivo con nuestras cuentas premium de Disney+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-blue-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.accountType})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700":"bg-blue-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-blue-400 focus:ring-blue-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Tipo de cuenta:"}),e.jsx("p",{className:"text-gray-300",children:w.accountType})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms,accountType:w.accountType})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Tipo de cuenta: ",w.accountType]}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-blue-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},SF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Max")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",accountType:g.accountType||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,max:R.length}))},S=>{I("Error al cargar productos de Max"),console.error(S)}),y=ye(X(P,"max_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"max"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"max"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Max`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-purple-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-purple-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-purple-500 text-white rounded-full hover:bg-purple-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-purple-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Max...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-purple-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-purple-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-purple-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-purple-600/80 hover:bg-purple-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-purple-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-purple-500 text-white hover:bg-purple-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-purple-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-purple-600/30 text-white border border-purple-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Max"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus series y pelculas favoritas con nuestras cuentas premium de Max"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-purple-400 hover:text-purple-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-purple-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-purple-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-purple-400",size:16}),e.jsxs("span",{className:"text-gray-400",children:[i.accountType||"Premium"," "]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-purple-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700":"bg-purple-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-purple-400 focus:ring-purple-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-purple-400 hover:text-purple-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-purple-400 hover:text-purple-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este RIDODO, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-purple-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},CF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Spotify")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,spotify:R.length}))},S=>{I("Error al cargar productos de Spotify"),console.error(S)}),y=ye(X(P,"spotify_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"spotify"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"spotify"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Spotify`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-green-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-green-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Spotify...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-green-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-green-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-green-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-600/80 hover:bg-green-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-600/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Spotify"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Escucha tu msica favorita sin lmites con nuestras cuentas premium de Spotify"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-green-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-green-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-green-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-green-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700":"bg-green-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-400 focus:border-green-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-400 focus:border-green-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-400 focus:ring-green-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},EF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Prime Video")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",accountType:g.accountType||"No especificado",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,primevideo:R.length}))},S=>{I("Error al cargar productos de Prime Video"),console.error(S)}),y=ye(X(P,"primevideo_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"primevideo"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"primevideo"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms,accountType:i.accountType})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider,accountType:i.accountType}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Prime Video`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-yellow-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-yellow-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Prime Video...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-yellow-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-yellow-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-yellow-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-yellow-600/80 hover:bg-yellow-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-yellow-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-yellow-500 text-white hover:bg-yellow-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-yellow-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-yellow-600/30 text-white border border-yellow-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-yellow-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1596755094514-40be00b5601e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-yellow-400 mb-3 drop-shadow-lg",children:"Cuentas Premium de Prime Video"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus pelculas y series favoritas con nuestras cuentas premium de Prime Video"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-yellow-400",size:16}),e.jsxs("span",{className:"text-gray-400",children:[i.accountType," "]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700":"bg-yellow-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-yellow-400 focus:ring-yellow-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Tipo de cuenta:"}),e.jsx("p",{className:"text-gray-300",children:w.accountType})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms,accountType:w.accountType})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Tipo de cuenta: ",w.accountType]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-yellow-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},IF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Vix")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,vix:R.length}))},S=>{I("Error al cargar productos de Vix"),console.error(S)}),y=ye(X(P,"vix_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"vix"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"vix"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Vix`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Vix...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-red-500 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-red-500"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-red-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-red-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Vix"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus series y pelculas favoritas con nuestras cuentas premium de Vix"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-500 focus:ring-red-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este perodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},PF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Canva")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Standard",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,canva:R.length}))},S=>{I("Error al cargar productos de Canva"),console.error(S)}),y=ye(X(P,"canva_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"canva"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"canva"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Canva`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-teal-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-teal-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-teal-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-teal-500 text-white rounded-full hover:bg-teal-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-teal-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Canva...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-teal-400 focus:border-teal-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-teal-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-teal-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-teal-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-teal-600/80 hover:bg-teal-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-teal-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-teal-500 text-white hover:bg-teal-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-teal-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-teal-600/30 text-white border border-teal-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321310764-9f6b8b7f9a0f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Canva"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Crea diseos impresionantes con nuestras cuentas premium de Canva Pro"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-teal-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-teal-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-teal-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-teal-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-teal-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700":"bg-teal-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-teal-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-teal-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-teal-400 focus:ring-teal-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-teal-500 text-white rounded-xl hover:bg-teal-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-teal-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},TF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","ChatGPT")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,chatgpt:R.length}))},S=>{I("Error al cargar productos de ChatGPT"),console.error(S)}),y=ye(X(P,"chatgpt_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"chatgpt"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"chatgpt"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=ChatGPT`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-teal-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-teal-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-teal-500 text-white rounded-full hover:bg-teal-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-teal-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en ChatGPT...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-teal-500 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-teal-500"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-teal-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-teal-600/80 hover:bg-teal-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-teal-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-teal-500 text-white hover:bg-teal-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-teal-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-teal-600/30 text-white border border-teal-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-teal-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-teal-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de ChatGPT"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Potencia tu creatividad y productividad con nuestras cuentas premium de ChatGPT"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-teal-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-teal-500",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-teal-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-teal-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700":"bg-teal-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-teal-500 focus:ring-teal-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-teal-500 text-white rounded-xl hover:bg-teal-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este perodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-teal-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},_F=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Crunchyroll")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Standard",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,crunchyroll:R.length}))},S=>{I("Error al cargar productos de Crunchyroll"),console.error(S)}),y=ye(X(P,"crunchyroll_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"crunchyroll"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"crunchyroll"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Crunchyroll`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-orange-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-orange-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-orange-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-orange-500 text-white rounded-full hover:bg-orange-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-orange-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Crunchyroll...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-orange-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-orange-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-orange-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-orange-600/80 hover:bg-orange-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-orange-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-orange-500 text-white hover:bg-orange-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-orange-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-orange-600/30 text-white border border-orange-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1618336753974-8d9c4c6c6e38?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Crunchyroll"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de anime, manga y series exclusivas con nuestras cuentas premium de Crunchyroll"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-orange-400 hover:text-orange-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-'arrivo truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-orange-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-orange-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-orange-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-orange-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-orange-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700":"bg-orange-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-orange-400 focus:ring-orange-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-orange-400 hover:text-orange-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-orange-400 hover:text-orange-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-orange-500 text-white rounded-xl hover:bg-orange-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-orange-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},DF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Redes Sociales")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,redessociales:R.length}))},S=>{I("Error al cargar productos de Redes Sociales"),console.error(S)}),y=ye(X(P,"redessociales_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"redessociales"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"redessociales"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Redes Sociales`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-pink-500 text-white rounded-full hover:bg-pink-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-pink-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Redes Sociales...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-pink-500 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-pink-500"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-pink-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-pink-600/80 hover:bg-pink-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-pink-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-pink-500 text-white hover:bg-pink-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-pink-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-teal-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-pink-600/30 text-white border border-pink-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-pink-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Redes Sociales"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Conecta y destaca con nuestras cuentas premium de redes sociales"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-pink-400 hover:text-pink-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700":"bg-pink-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-pink-500 focus:ring-pink-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-pink-400 hover:text-pink-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-pink-400 hover:text-pink-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este perodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-pink-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},AF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=te=>{const i=Number(te);return isNaN(i)?"0.00":i.toFixed(2)};v.useEffect(()=>{const te=It(ze,async i=>{if(i)try{const b=await We(q(P,"users",i.uid));if(b.exists()){const y=b.data();c({id:i.uid,name:y.username||"Usuario",email:i.email,orders:y.orders||[],role:y.role||"user"}),m(Number(y.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(b){I("Error al cargar datos del usuario"),console.error(b)}else c(null),m(0);N(!1)});return()=>te()},[]),v.useEffect(()=>{const te=ye(X(P,"products"),be("category","==","Apple Music")),i=Ie(te,async Z=>{const S=Z.docs.map(R=>{const j=R.data();return{id:R.id,...j,price:Number(j.price)||0,stock:Number(j.availableAccounts)||0,accountDetails:j.details||"Detalles no disponibles",terms:j.terms||"Trminos del proveedor",provider:j.provider||"Proveedor no especificado",providerId:j.providerId||"",providerPhone:j.providerPhone||"",acceptsOrders:j.status==="A pedido",duration:j.duration||"1 mes",type:j.type||"Premium",status:j.status||"En stock"}}),_=await Promise.all(S.map(async R=>{if(!R.provider||R.provider==="Proveedor no especificado")try{if(R.providerId){const j=await We(q(P,"users",R.providerId));if(j.exists())return{...R,provider:j.data().username||j.data().email||R.provider,providerPhone:j.data().phoneNumber||R.providerPhone}}}catch(j){console.error("Error al cargar datos del proveedor:",j)}return R}));a(_),F(R=>({...R,applemusic:_.length}))},Z=>{I("Error al cargar productos de Apple Music"),console.error(Z)}),b=ye(X(P,"applemusic_accounts"),be("status","==","available")),y=Ie(b,Z=>{const S=Z.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));l(S)},Z=>{console.error("Error al cargar cuentas:",Z)}),H=["Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas","Netflix"].map(Z=>{const S=Z.toLowerCase().replace(/\s+/g,""),_=ye(X(P,"products"),be("category","==",Z));return Ie(_,R=>{F(j=>({...j,[S]:R.docs.length}))},R=>{console.error(`Error al cargar productos de ${Z}:`,R)})});return()=>{i(),y(),H.forEach(Z=>Z())}},[]);const Ae=te=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<te.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!te.providerId||te.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:te,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const te=h.product;if(!te.providerId||te.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let i=null;te.status==="En stock"?i=await Xe(P,async b=>{const y=q(P,"products",te.id),O=await b.get(y);if(!O.exists())throw new Error("Producto no encontrado");if(O.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const Z=X(P,`products/${te.id}/accounts`),S=ye(Z,be("status","==","available"),Vt(1)),_=await gt(S);if(_.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const R=_.docs[0],j=R.ref,g=R.data(),L=q(P,"users",o.id),ue=await b.get(L);if(!ue.exists())throw new Error("Usuario no encontrado");let ae=null,ne=te.providerPhone||"";if(te.providerId&&!ne){const he=q(P,"users",te.providerId);ae=await b.get(he),ae.exists()&&(ne=ae.data().phoneNumber||"")}b.update(j,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),b.update(y,{availableAccounts:Qe(-1),stock:Qe(-1)});const se=(Number(ue.data().balance)||0)-te.price;if(se<0)throw new Error("Saldo insuficiente");const at=ue.data().orders||[],Y={productId:te.id,productName:te.name,price:te.price,provider:te.provider,providerId:te.providerId,providerPhone:ne,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:g.email||"No proporcionado",password:g.password||"No proporcionado",profile:g.profile||"No proporcionado"},terms:te.terms,type:"applemusic"};b.update(L,{balance:se,orders:[...at,Y]});const fe=q(X(P,"sales"));if(b.set(fe,{...Y,provider:te.provider,providerId:te.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:g.email||"No proporcionado",password:g.password||"No proporcionado",profile:g.profile||"No proporcionado"}}),ae&&ae.exists()){const he=ae.data().sales||[],_e={saleId:fe.id,productId:te.id,productName:te.name,price:te.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:g.email||"No proporcionado",password:g.password||"No proporcionado",profile:g.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};b.update(q(P,"users",te.providerId),{sales:[...he,_e]})}return g}):await Xe(P,async b=>{const y=q(P,"users",o.id),O=await b.get(y);if(!O.exists())throw new Error("Usuario no encontrado");let H=null,Z=te.providerPhone||"";if(te.providerId&&!Z){const L=q(P,"users",te.providerId);H=await b.get(L),H.exists()&&(Z=H.data().phoneNumber||"")}const _=(Number(O.data().balance)||0)-te.price;if(_<0)throw new Error("Saldo insuficiente");const R=O.data().orders||[],j={productId:te.id,productName:te.name,price:te.price,provider:te.provider,providerId:te.providerId,providerPhone:Z,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:te.terms,type:"applemusic"};b.update(y,{balance:_,orders:[...R,j]});const g=q(X(P,"sales"));if(b.set(g,{...j,provider:te.provider,providerId:te.providerId,providerPhone:Z,saleDate:new Date().toISOString(),status:"pending"}),H&&H.exists()){const L=H.data().sales||[],ue={saleId:g.id,productId:te.id,productName:te.name,price:te.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};b.update(q(P,"users",te.providerId),{sales:[...L,ue]})}}),m(b=>b-te.price),c(b=>({...b,orders:[...b.orders,{...h,status:te.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:te.status==="En stock"?{email:(i==null?void 0:i.email)||"No proporcionado",password:(i==null?void 0:i.password)||"No proporcionado",profile:(i==null?void 0:i.profile)||"No proporcionado"}:null}]})),V(null),A({message:te.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(te){I(te.message||"Error al procesar la compra"),console.error("Error en la compra:",te)}finally{N(!1)}},Te=te=>{C({name:te.name,accountDetails:te.accountDetails,provider:te.provider,terms:te.terms})},Ee=te=>{C({name:te.name,terms:te.terms,provider:te.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=te=>{te.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Apple Music`)},xe=r.filter(te=>te.name.toLowerCase().includes(B.toLowerCase())),oe=te=>te.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):te.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",te.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(ht,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Apple Music...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:B,onChange:te=>Q(te.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-cyan-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Apple Music"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tu msica favorita con nuestras cuentas premium de Apple Music"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:xe.map(te=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:te.image||"https://via.placeholder.com/300",alt:te.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),oe(te)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:te.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:te.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duracin:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:te.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:te.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(te.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Te(te),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Lt,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(te),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Ye,{className:"mr-2"})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(te),disabled:te.status==="En stock"&&te.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${te.status==="A pedido"||te.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2"}),te.status==="A pedido"?"Pedir":te.stock>0?"Comprar":"Agotado"]})]})]},te.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:te=>V(i=>({...i,customerName:te.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:te=>V(i=>({...i,phoneNumber:te.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:["removing duplicate code here for brevity",e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:w.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},RF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Apple Tv")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,appletv:R.length}))},S=>{I("Error al cargar productos de Apple TV"),console.error(S)}),y=ye(X(P,"appletv_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"appletv"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"appletv"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Apple Tv`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-gray-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-gray-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gray-500 text-white rounded-full hover:bg-gray-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-gray-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Apple TV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-gray-400 focus:border-gray-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-gray-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-gray-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-gray-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-gray-600/80 hover:bg-gray-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-gray-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-gray-500 text-white hover:bg-gray-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-gray-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-gray-600/30 text-white border border-gray-400/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-400"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-blue-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1485846234645-a62644f84728?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Apple TV+"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de series y pelculas originales con Apple TV+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes de Apple TV+ Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-gray-400 hover:text-gray-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-gray-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-gray-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-gray-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-gray-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Plus"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-gray-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700":"bg-gray-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-gray-400 focus:border-gray-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-gray-400 focus:border-gray-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-gray-400 focus:ring-gray-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-gray-400 hover:text-gray-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-gray-400 hover:text-gray-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-gray-500 text-white rounded-xl hover:bg-gray-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la suscripcin:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu suscripcin."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu suscripcin durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la suscripcin adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-gray-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},MF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Iptv")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,iptv:R.length}))},S=>{I("Error al cargar productos de IPTV"),console.error(S)}),y=ye(X(P,"iptv_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"iptv"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"iptv"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=IPTV`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en IPTV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-cyan-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-600/80 hover:bg-blue-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-cyan-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-600/30 text-white border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-cyan-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Suscripciones Premium de IPTV"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de una amplia variedad de canales y contenido en vivo con nuestras suscripciones premium de IPTV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4"}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-cyan-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-cyan-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-cyan-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-cyan-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-blue-600 to-cyan-500 hover:from-blue-700 hover:to-cyan-600":"bg-blue-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},OF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Flujo Tv")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,flujotv:R.length}))},S=>{I("Error al cargar productos de Flujo TV"),console.error(S)}),y=ye(X(P,"flujotv_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"flujotv"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"flujotv"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Flujo Tv`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Flujo TV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-red-500 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-red-500"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-red-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1598899134739-24c46f58b8c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Flujo TV"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus programas y pelculas favoritas con nuestras cuentas premium de Flujo TV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-red-500 hover:text-red-400 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-500 focus:ring-red-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-red-500 hover:text-red-400 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-red-500 hover:text-red-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"ConcurrentModificationException justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},VF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Viki Rakuten")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,vikirakuten:R.length}))},S=>{I("Error al cargar productos de Viki Rakuten"),console.error(S)}),y=ye(X(P,"vikirakuten_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"vikirakuten"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"vikirakuten"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Viki Rakuten`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-pink-500 text-white rounded-full hover:bg-pink-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-pink-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Viki Rakuten...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-pink-500 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-pink-500"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-pink-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-pink-600/80 hover:bg-pink-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-pink-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-pink-500 text-white hover:bg-pink-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-pink-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-pink-600/30 text-white border border-pink-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321497487-e288fb19713f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Viki Rakuten"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de los mejores dramas asiticos y entretenimiento global con nuestras cuentas premium de Viki Rakuten"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700":"bg-pink-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-pink-500 focus:ring-pink-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-pink-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},zF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Pornhub")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,pornhub:R.length}))},S=>{I("Error al cargar productos de Pornhub"),console.error(S)}),y=ye(X(P,"pornhub_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"pornhub"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"pornhub"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Pornhub`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-700 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-red-700 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-red-700 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-700 text-white rounded-full hover:bg-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-700 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Pornhub...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-700 focus:border-red-700 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-red-700 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-red-700"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-red-700",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-700/80 hover:bg-red-800 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-700 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-red-700 text-white hover:bg-red-800 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-700",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-700/30 text-white border border-red-700/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-700/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321497487-e288fb19713f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Pornhub"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Accede a contenido exclusivo con nuestras cuentas premium de Pornhub"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-red-700 hover:text-red-600 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-red-700",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-red-700",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-red-700",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-red-700",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-red-700 to-red-800 hover:from-red-800 hover:to-red-900":"bg-red-700/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-700 focus:border-red-700 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-700 focus:border-red-700 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-700 focus:ring-red-700 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-red-700 hover:text-red-600 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-red-700 hover:text-red-600 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-red-700 text-white rounded-xl hover:bg-red-800 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-red-700 text-white rounded-xl hover:bg-red-800 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border salinity-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-red-700 text-white rounded-xl hover:bg-red-800 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-700",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},LF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Paramount")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,paramount:R.length}))},S=>{I("Error al cargar productos de Paramount"),console.error(S)}),y=ye(X(P,"paramount_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"paramount"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"paramount"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Paramount`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-blue-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-blue-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-blue-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-400 text-white rounded-full hover:bg-blue-500 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-blue-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Paramount...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-blue-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-blue-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-blue-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-400/80 hover:bg-blue-500 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-blue-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-blue-400 text-white hover:bg-blue-500 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-blue-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-400/30 text-white border border-blue-400/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-400/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Paramount+"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de pelculas y series exclusivas con nuestras cuentas premium de Paramount+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-blue-400 to-blue-600 hover:from-blue-500 hover:to-blue-700":"bg-blue-400/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-blue-400 focus:ring-blue-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-blue-400 text-white rounded-xl hover:bg-blue-500 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-blue-400 text-white rounded-xl hover:bg-blue-500 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-blue-400 text-white rounded-xl hover:bg-blue-500 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-blue-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},BF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Licencias")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,licencias:R.length}))},S=>{I("Error al cargar productos de Licencias"),console.error(S)}),y=ye(X(P,"licencias_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"licencias"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"licencias"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Licencias`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-blue-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Licencias...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-blue-500 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-blue-500"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-blue-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-600/80 hover:bg-blue-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-blue-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-blue-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-600/30 text-white border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-blue-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321497487-e288fb19713f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Licencias Premium"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Accede a licencias de software premium para potenciar tu productividad y creatividad"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Licencias Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700":"bg-blue-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-blue-500 focus:ring-blue-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la licencia:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu licencia."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu licencia durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la licencia adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-blue-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},FF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Capcut")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,capcut:R.length}))},S=>{I("Error al cargar productos de Capcut"),console.error(S)}),y=ye(X(P,"capcut_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"capcut"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"capcut"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Capcut`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-700 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Capcut...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-green-500 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-green-500"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-green-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-500/80 hover:bg-green-600 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-500/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1620114890640-79fcbbc1dd7e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Capcut"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Crea videos profesionales con nuestras cuentas premium de Capcut"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-green-500 to-green-700 hover:from-green-600 hover:to-green-800":"bg-green-500/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-500 focus:ring-green-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},UF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Duolingo")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,duolingo:R.length}))},S=>{I("Error al cargar productos de Duolingo"),console.error(S)}),y=ye(X(P,"duolingo_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"duolingo"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"duolingo"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Duolingo`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Duolingo...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-green-500 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-green-500"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-green-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-600/80 hover:bg-green-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-blue-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-600/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Duolingo Premium"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Aprende idiomas de forma divertida y efectiva con Duolingo Plus"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes de Duolingo Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Plus"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700":"bg-green-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-500 focus:ring-green-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la suscripcin:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu suscripcin."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu suscripcin durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la suscripcin adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},$F=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Dgo")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Standard",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,dgo:R.length}))},S=>{I("Error al cargar productos de Dgo"),console.error(S)}),y=ye(X(P,"dgo_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"dgo"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"dgo"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Dgo`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-blue-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-blue-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Dgo...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-blue-500 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-blue-500"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-blue-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-600/80 hover:bg-blue-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-blue-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-blue-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-600/30 text-white border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1534972195531-d756b9bfa9f2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Dgo"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de TV en vivo y streaming con nuestras cuentas premium de DirecTV GO"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-blue-500 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800":"bg-blue-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-blue-500 focus:ring-blue-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-blue-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},qF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Liga Max")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,ligamax:R.length}))},S=>{I("Error al cargar productos de Liga Max"),console.error(S)}),y=ye(X(P,"ligamax_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"ligamax"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"ligamax"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Liga Max`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Liga Max...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-green-500 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-green-500"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-green-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-600/80 hover:bg-green-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-teal-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-600/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-green-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Liga Max"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Vive la emocin del deporte con nuestras cuentas premium de Liga Max"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700":"bg-green-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-500 focus:ring-green-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este perodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},WF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Movistar Play")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Standard",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,movistarplay:R.length}))},S=>{I("Error al cargar productos de Movistar Play"),console.error(S)}),y=ye(X(P,"movistarplay_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"movistarplay"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"movistarplay"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Movistar Play`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Movistar Play...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-green-500 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-green-500"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-green-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-600/80 hover:bg-green-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-green-600 text-white hover:bg-green-700 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-600/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-green-600"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1534972195531-d756b9bfa9f2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Movistar Play"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de entretenimiento sin lmites con nuestras cuentas premium de Movistar Play"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-500 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800":"bg-green-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-500 focus:ring-green-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},GF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Youtube")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Standard",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,youtube:R.length}))},S=>{I("Error al cargar productos de YouTube"),console.error(S)}),y=ye(X(P,"youtube_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"youtube"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"youtube"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Youtube`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-red-600 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-red-600 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-600 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en YouTube...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-red-600 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-red-600"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-red-600",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-600 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-red-600 text-white hover:bg-red-700 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-600",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-green-600"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-600/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1611162617210-b5d9e2a75fe3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de YouTube"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de videos sin anuncios y contenido exclusivo con nuestras cuentas premium de YouTube"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-red-600 hover:text-red-500 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-red-600 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-red-600",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-red-600",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-red-600",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-red-600",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-600 focus:border-red-600 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-600 focus:border-red-600 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-600 focus:ring-red-600 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-red-600 hover:text-red-500 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-red-600 hover:text-red-500 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-600",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},HF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState(null),[o,c]=v.useState(0),[d,m]=v.useState(!0),[p,N]=v.useState(null),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(!1),[z,T]=v.useState(!1),[W,$]=v.useState(null),[U,A]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[u,F]=v.useState(""),B=jt(),Q=oe=>{const te=Number(oe);return isNaN(te)?"0.00":te.toFixed(2)};v.useEffect(()=>{const oe=It(ze,async te=>{if(te)try{const i=await We(q(P,"users",te.uid));if(i.exists()){const b=i.data();l({id:te.uid,name:b.username||"Usuario",email:te.email,orders:b.orders||[],role:b.role||"user"}),c(Number(b.balance)||0)}else N("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(i){N("Error al cargar datos del usuario"),console.error(i)}else l(null),c(0);m(!1)});return()=>oe()},[]),v.useEffect(()=>{const oe=ye(X(P,"products"),be("category","==","Deezer")),te=Ie(oe,async y=>{const O=y.docs.map(Z=>{const S=Z.data();return{id:Z.id,...S,price:Number(S.price)||0,stock:Number(S.availableAccounts)||0,accountDetails:S.details||"Detalles no disponibles",terms:S.terms||"Trminos del proveedor",provider:S.provider||"Proveedor no especificado",providerId:S.providerId||"",providerPhone:S.providerPhone||"",acceptsOrders:S.status==="A pedido",duration:S.duration||"1 mes",type:S.type||"Premium",status:S.status||"En stock",image:S.image||"https://via.placeholder.com/300",renewal:S.renewal||!1,renewalPrice:Number(S.renewalPrice)||Number(S.price)*.9}}),H=await Promise.all(O.map(async Z=>{if(!Z.provider||Z.provider==="Proveedor no especificado")try{if(Z.providerId){const S=await We(q(P,"users",Z.providerId));if(S.exists())return{...Z,provider:S.data().username||S.data().email||Z.provider,providerPhone:S.data().phoneNumber||Z.providerPhone}}}catch(S){console.error("Error al cargar datos del proveedor:",S)}return Z}));a(H),A(Z=>({...Z,deezer:H.length}))},y=>{N("Error al cargar productos de Deezer"),console.error(y)}),b=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(y=>{const O=y.toLowerCase().replace(/\s+/g,""),H=ye(X(P,"products"),be("category","==",y));return Ie(H,Z=>{A(S=>({...S,[O]:Z.docs.length}))},Z=>{console.error(`Error al cargar productos de ${y}:`,Z)})});return()=>{te(),b.forEach(y=>y())}},[]);const D=oe=>{if(!n){$({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>B("/login")});return}if(o<oe.price){$({message:"Saldo insuficiente para realizar esta compra."});return}if(!oe.providerId||oe.providerId===""){$({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}I({product:oe,customerName:n.name,phoneNumber:""})},G=async()=>{if(!document.getElementById("termsCheck").checked){N("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){N("El nmero de WhatsApp debe tener 9 dgitos");return}try{m(!0);const oe=k.product;if(!oe.providerId||oe.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let te=null;oe.status==="En stock"?te=await Xe(P,async i=>{const b=q(P,"products",oe.id),y=await i.get(b);if(!y.exists())throw new Error("Producto no encontrado");if(y.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const H=X(P,`products/${oe.id}/accounts`),Z=ye(H,be("status","==","available"),Vt(1)),S=await gt(Z);if(S.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const _=S.docs[0],R=_.ref,j=_.data(),g=q(P,"users",n.id),L=await i.get(g);if(!L.exists())throw new Error("Usuario no encontrado");const ue=q(P,"users",oe.providerId),ae=await i.get(ue);if(!ae.exists())throw new Error("Proveedor no encontrado");let ne=oe.providerPhone||"";ne||(ne=ae.data().phoneNumber||""),i.update(R,{status:"unavailable",assignedTo:n.id,assignedAt:new Date().toISOString()}),i.update(b,{availableAccounts:Qe(-1),stock:Qe(-1)});const se=(Number(L.data().balance)||0)-oe.price;if(se<0)throw new Error("Saldo insuficiente");const at=L.data().orders||[],Y={productId:oe.id,productName:oe.name,price:oe.price,provider:oe.provider,providerId:oe.providerId,providerPhone:ne,status:"active",customerName:k.customerName,customerId:n.id,phoneNumber:k.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:j.email||"No proporcionado",password:j.password||"No proporcionado",profile:j.profile||"No proporcionado"},terms:oe.terms,type:"deezer"};i.update(g,{balance:se,orders:[...at,Y]});const he=(Number(ae.data().balance)||0)+oe.price,_e=ae.data().sales||[],Ce={saleId:q(X(P,"sales")).id,productId:oe.id,productName:oe.name,price:oe.price,customerId:n.id,customerName:k.customerName,customerPhone:k.phoneNumber,accountDetails:{email:j.email||"No proporcionado",password:j.password||"No proporcionado",profile:j.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:oe.terms};i.update(ue,{balance:he,sales:[..._e,Ce]});const Pe=q(X(P,"sales"));return i.set(Pe,{...Y,provider:oe.provider,providerId:oe.providerId,providerPhone:ne,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:j.email||"No proporcionado",password:j.password||"No proporcionado",profile:j.profile||"No proporcionado"},saleId:Ce.saleId,terms:oe.terms}),j}):await Xe(P,async i=>{const b=q(P,"users",n.id),y=await i.get(b);if(!y.exists())throw new Error("Usuario no encontrado");const O=q(P,"users",oe.providerId),H=await i.get(O);if(!H.exists())throw new Error("Proveedor no encontrado");let Z=oe.providerPhone||"";Z||(Z=H.data().phoneNumber||"");const _=(Number(y.data().balance)||0)-oe.price;if(_<0)throw new Error("Saldo insuficiente");const R=y.data().orders||[],j={productId:oe.id,productName:oe.name,price:oe.price,provider:oe.provider,providerId:oe.providerId,providerPhone:Z,status:"pending",customerName:k.customerName,customerId:n.id,phoneNumber:k.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:oe.terms,type:"deezer"};i.update(b,{balance:_,orders:[...R,j]});const L=(Number(H.data().balance)||0)+oe.price,ue=H.data().sales||[],ae={saleId:q(X(P,"sales")).id,productId:oe.id,productName:oe.name,price:oe.price,customerId:n.id,customerName:k.customerName,customerPhone:k.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:oe.terms};i.update(O,{balance:L,sales:[...ue,ae]});const ne=q(X(P,"sales"));i.set(ne,{...j,provider:oe.provider,providerId:oe.providerId,providerPhone:Z,saleDate:new Date().toISOString(),status:"pending",saleId:ae.saleId,terms:oe.terms})}),c(i=>i-oe.price),l(i=>({...i,orders:[...i.orders,{...k,status:oe.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:oe.status==="En stock"?{email:(te==null?void 0:te.email)||"No proporcionado",password:(te==null?void 0:te.password)||"No proporcionado",profile:(te==null?void 0:te.profile)||"No proporcionado"}:null}]})),I(null),$({message:oe.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(oe){N(oe.message||"Error al procesar la compra"),console.error("Error en la compra:",oe)}finally{m(!1)}},Ae=oe=>{V({name:oe.name,accountDetails:oe.accountDetails,provider:oe.provider,terms:oe.terms})},Le=oe=>{V({name:oe.name,terms:oe.terms,provider:oe.provider}),C(!0)},Te=()=>{if(!n){B("/login");return}(n==null?void 0:n.role)==="user"?B("/dashboard/user"):(n==null?void 0:n.role)==="affiliate"?B("/dashboard/affiliate"):(n==null?void 0:n.role)==="provider"?B("/dashboard/provider"):(n==null?void 0:n.role)==="admin"&&B("/dashboard/admin")},Ee=oe=>{oe.preventDefault(),u.trim()&&B(`/search?q=${encodeURIComponent(u)}&category=Deezer`)},de=r.filter(oe=>oe.name.toLowerCase().includes(u.toLowerCase())),me=oe=>oe.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):oe.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",oe.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-gray-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),xe=oe=>{if(!oe||typeof oe!="string")return"30 das";const te=oe.match(/(\d+)\s*(mes|meses)/i);if(te)return`${parseInt(te[1],10)*30} das`;const i=oe.match(/(\d+)\s*(da|das|dia|dias)/i);if(i)return`${parseInt(i[1],10)} das`;const b=oe.match(/(\d+)/);return b?`${parseInt(b[1],10)} das`:"30 das"};return d?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:p}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-pink-500 text-white rounded-full hover:bg-pink-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("style",{children:`
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fadeIn {
            animation: fadeIn 0.3s ease-in-out;
          }
        `}),e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-pink-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Deezer...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all placeholder-gray-500",value:u,onChange:oe=>F(oe.target.value)}),e.jsx("button",{onClick:Ee,className:"absolute right-3 text-gray-400 hover:text-pink-500 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:n?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-pink-500"})," ",n.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",o.toFixed(2)]}),e.jsx("button",{onClick:Te,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-pink-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),B("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-pink-600/80 hover:bg-pink-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>B("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-pink-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>B("/register"),className:"px-4 py-2 rounded-full bg-pink-500 text-white hover:bg-pink-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-pink-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-pink-600/30 text-white border border-pink-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-pink-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:U.buscapersonas})]})]}),n&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-500/30 flex items-center justify-center text-white font-bold text-lg",children:n.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:n.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",o.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Deezer"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tu msica favorita sin lmites con nuestras cuentas premium de Deezer"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>T(!0),className:"text-sm sm:text-base text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:de.map(oe=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:oe.image,alt:oe.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),me(oe)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:oe.name}),e.jsx("div",{className:"flex items-center mb-2",children:oe.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",Q(oe.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:oe.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:xe(oe.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:oe.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:oe.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",Q(oe.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ae(oe),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(oe),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>D(oe),disabled:oe.status==="En stock"&&oe.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${oe.status==="A pedido"||oe.stock>0?"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700":"bg-pink-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),oe.status==="A pedido"?"Pedir":oe.stock>0?"Comprar":"Agotado"]})]})]},oe.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),k&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:k.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>I(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:k.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",Q(k.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",k.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",k.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:k.customerName,onChange:oe=>I(te=>({...te,customerName:oe.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:k.phoneNumber,onChange:oe=>I(te=>({...te,phoneNumber:oe.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-pink-500 focus:ring-pink-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>C(!0),className:"text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>I(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:G,disabled:d,className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[d&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:k.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),$(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),$(null)},className:"w-full py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Aceptar"})]})})}),h&&!w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.name}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:h.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof h.accountDetails=="string"?h.accountDetails:h.accountDetails?JSON.stringify(h.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{V(null),C(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),w&&h&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",h.name]}),e.jsx("button",{onClick:()=>{C(!1),V({name:h.name,accountDetails:h.accountDetails,provider:h.provider,terms:h.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",h.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:h.terms})}),e.jsx("button",{onClick:()=>{C(!1),T(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>T(!1),className:"w-full mt-6 py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-pink-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},KF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Tidal")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"HiFi",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,tidal:R.length}))},S=>{I("Error al cargar productos de Tidal"),console.error(S)}),y=ye(X(P,"tidal_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"tidal"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"tidal"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Tidal`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Tidal...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-red-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-red-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-red-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white camera text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Tidal"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Escucha msica en alta fidelidad con nuestras cuentas premium de Tidal"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg/issue-1-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"HiFi"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-400 focus:ring-red-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3.5 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},QF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Vpn")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Standard",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,vpn:R.length}))},S=>{I("Error al cargar productos de VPN"),console.error(S)}),y=ye(X(P,"vpn_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"vpn"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"vpn"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Vpn`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en VPN...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-red-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-red-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-red-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Servicios Premium de VPN"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Navega con seguridad y privacidad con nuestras cuentas premium de VPN"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-400 focus:ring-red-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3.5 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},YF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","Win Tv")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,wintv:R.length}))},S=>{I("Error al cargar productos de Win TV"),console.error(S)}),y=ye(X(P,"wintv_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"wintv"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"wintv"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Win Tv`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-orange-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-orange-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-orange-500 text-white rounded-full hover:bg-orange-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-orange-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Win TV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-orange-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-orange-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-orange-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-orange-600/80 hover:bg-orange-700 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-orange-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-orange-500 text-white hover:bg-orange-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-orange-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-orange-600/30 text-white border border-orange-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-400"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-500/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1598899134739-24c46f58b8c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Win TV"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus eventos deportivos favoritos con nuestras cuentas premium de Win TV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-amber-400 hover:text-amber-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-amber-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-amber-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-amber-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-amber-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700":"bg-amber-600/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-amber-400 focus:ring-amber-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-amber-400 hover:text-amber-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-amber-400 hover:text-amber-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-amber-500 text-white rounded-xl hover:bg-amber-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-amber-500 text-white rounded-xl hover:bg-amber-600 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-amber-500 text-white rounded-xl hover:bg-amber-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-amber-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},XF=()=>{const[s,t]=v.useState(!1),[r,a]=v.useState([]),[n,l]=v.useState([]),[o,c]=v.useState(null),[d,m]=v.useState(0),[p,N]=v.useState(!0),[k,I]=v.useState(null),[h,V]=v.useState(null),[w,C]=v.useState(null),[z,T]=v.useState(!1),[W,$]=v.useState(!1),[U,A]=v.useState(null),[u,F]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,Q]=v.useState(""),D=jt(),G=i=>{const b=Number(i);return isNaN(b)?"0.00":b.toFixed(2)};v.useEffect(()=>{const i=It(ze,async b=>{if(b)try{const y=await We(q(P,"users",b.uid));if(y.exists()){const O=y.data();c({id:b.uid,name:O.username||"Usuario",email:b.email,orders:O.orders||[],role:O.role||"user"}),m(Number(O.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){I("Error al cargar datos del usuario"),console.error(y)}else c(null),m(0);N(!1)});return()=>i()},[]),v.useEffect(()=>{const i=ye(X(P,"products"),be("category","==","BuscaPersonas")),b=Ie(i,async S=>{const _=S.docs.map(j=>{const g=j.data();return{id:j.id,...g,price:Number(g.price)||0,stock:Number(g.availableAccounts)||0,accountDetails:g.details||"Detalles no disponibles",terms:g.terms||"Trminos del proveedor",provider:g.provider||"Proveedor no especificado",providerId:g.providerId||"",providerPhone:g.providerPhone||"",acceptsOrders:g.status==="A pedido",duration:g.duration||"1 mes",type:g.type||"Premium",status:g.status||"En stock",image:g.image||"https://via.placeholder.com/300",renewal:g.renewal||!1,renewalPrice:Number(g.renewalPrice)||Number(g.price)*.9}}),R=await Promise.all(_.map(async j=>{if(!j.provider||j.provider==="Proveedor no especificado")try{if(j.providerId){const g=await We(q(P,"users",j.providerId));if(g.exists())return{...j,provider:g.data().username||g.data().email||j.provider,providerPhone:g.data().phoneNumber||j.providerPhone}}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return j}));a(R),F(j=>({...j,buscapersonas:R.length}))},S=>{I("Error al cargar productos de Busca Personas"),console.error(S)}),y=ye(X(P,"buscapersonas_accounts"),be("status","==","available")),O=Ie(y,S=>{const _=S.docs.map(R=>({id:R.id,...R.data(),productId:R.data().productId||"",providerId:R.data().providerId||""}));l(_)},S=>{console.error("Error al cargar cuentas:",S)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(S=>{const _=S.toLowerCase().replace(/\s+/g,""),R=ye(X(P,"products"),be("category","==",S));return Ie(R,j=>{F(g=>({...g,[_]:j.docs.length}))},j=>{console.error(`Error al cargar productos de ${S}:`,j)})});return()=>{b(),O(),Z.forEach(S=>S())}},[]);const Ae=i=>{if(!o){A({message:"Por favor, inicia sesin para realizar una compra.",onClose:()=>D("/login")});return}if(d<i.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!i.providerId||i.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:i,customerName:o.name,phoneNumber:""})},Le=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los trminos y condiciones");return}if(!/^\d{9}$/.test(h.phoneNumber)){I("El nmero de WhatsApp debe tener 9 dgitos");return}try{N(!0);const i=h.product;if(!i.providerId||i.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let b=null;i.status==="En stock"?b=await Xe(P,async y=>{const O=q(P,"products",i.id),H=await y.get(O);if(!H.exists())throw new Error("Producto no encontrado");if(H.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const S=X(P,`products/${i.id}/accounts`),_=ye(S,be("status","==","available"),Vt(1)),R=await gt(_);if(R.empty)throw new Error("No hay cuentas disponibles en la subcoleccin");const j=R.docs[0],g=j.ref,L=j.data(),ue=q(P,"users",o.id),ae=await y.get(ue);if(!ae.exists())throw new Error("Usuario no encontrado");const ne=q(P,"users",i.providerId),J=await y.get(ne);if(!J.exists())throw new Error("Proveedor no encontrado");let se=i.providerPhone||"";se||(se=J.data().phoneNumber||""),y.update(g,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),y.update(O,{availableAccounts:Qe(-1),stock:Qe(-1)});const Y=(Number(ae.data().balance)||0)-i.price;if(Y<0)throw new Error("Saldo insuficiente");const fe=ae.data().orders||[],he={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:se,status:"active",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},terms:i.terms,type:"buscapersonas"};y.update(ue,{balance:Y,orders:[...fe,he]});const Ce=(Number(J.data().balance)||0)+i.price,Pe=J.data().sales||[],pe={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:i.terms};y.update(ne,{balance:Ce,sales:[...Pe,pe]});const ve=q(X(P,"sales"));return y.set(ve,{...he,provider:i.provider,providerId:i.providerId,providerPhone:se,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:L.email||"No proporcionado",password:L.password||"No proporcionado",profile:L.profile||"No proporcionado"},saleId:pe.saleId,terms:i.terms}),L}):await Xe(P,async y=>{const O=q(P,"users",o.id),H=await y.get(O);if(!H.exists())throw new Error("Usuario no encontrado");const Z=q(P,"users",i.providerId),S=await y.get(Z);if(!S.exists())throw new Error("Proveedor no encontrado");let _=i.providerPhone||"";_||(_=S.data().phoneNumber||"");const j=(Number(H.data().balance)||0)-i.price;if(j<0)throw new Error("Saldo insuficiente");const g=H.data().orders||[],L={productId:i.id,productName:i.name,price:i.price,provider:i.provider,providerId:i.providerId,providerPhone:_,status:"pending",customerName:h.customerName,customerId:o.id,phoneNumber:h.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:i.terms,type:"buscapersonas"};y.update(O,{balance:j,orders:[...g,L]});const ae=(Number(S.data().balance)||0)+i.price,ne=S.data().sales||[],J={saleId:q(X(P,"sales")).id,productId:i.id,productName:i.name,price:i.price,customerId:o.id,customerName:h.customerName,customerPhone:h.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:i.terms};y.update(Z,{balance:ae,sales:[...ne,J]});const se=q(X(P,"sales"));y.set(se,{...L,provider:i.provider,providerId:i.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:i.terms})}),m(y=>y-i.price),c(y=>({...y,orders:[...y.orders,{...h,status:i.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:i.status==="En stock"?{email:(b==null?void 0:b.email)||"No proporcionado",password:(b==null?void 0:b.password)||"No proporcionado",profile:(b==null?void 0:b.profile)||"No proporcionado"}:null}]})),V(null),A({message:i.status==="En stock"?"Compra realizada con xito! El proveedor se contactar contigo con los detalles de acceso.":"Pedido realizado con xito! El proveedor se contactar contigo para coordinar los detalles."})}catch(i){I(i.message||"Error al procesar la compra"),console.error("Error en la compra:",i)}finally{N(!1)}},Te=i=>{C({name:i.name,accountDetails:i.accountDetails,provider:i.provider,terms:i.terms})},Ee=i=>{C({name:i.name,terms:i.terms,provider:i.provider}),T(!0)},de=()=>{if(!o){D("/login");return}(o==null?void 0:o.role)==="user"?D("/dashboard/user"):(o==null?void 0:o.role)==="affiliate"?D("/dashboard/affiliate"):(o==null?void 0:o.role)==="provider"?D("/dashboard/provider"):(o==null?void 0:o.role)==="admin"&&D("/dashboard/admin")},me=i=>{i.preventDefault(),B.trim()&&D(`/search?q=${encodeURIComponent(B)}&category=Busca Personas`)},xe=r.filter(i=>i.name.toLowerCase().includes(B.toLowerCase())),oe=i=>i.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):i.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-400 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",i.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),te=i=>{if(!i||typeof i!="string")return"30 das";const b=i.match(/(\d+)\s*(mes|meses)/i);if(b)return`${parseInt(b[1],10)*30} das`;const y=i.match(/(\d+)\s*(da|das|dia|dias)/i);if(y)return`${parseInt(y[1],10)} das`;const O=i.match(/(\d+)/);return O?`${parseInt(O[1],10)} das`:"30 das"};return p?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(et,{className:"animate-spin text-5xl text-yellow-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):k?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(ht,{className:"text-5xl text-yellow-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-yellow-400 text-white rounded-full hover:bg-yellow-500 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(Rt,{size:24})}),e.jsxs(f,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-yellow-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Busca Personas...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all placeholder-gray-500",value:B,onChange:i=>Q(i.target.value)}),e.jsx("button",{onClick:me,className:"absolute right-3 text-gray-400 hover:text-yellow-400 transition-all",children:e.jsx(Ke,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:o?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ue,{className:"mr-2 text-yellow-400"})," ",o.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",d.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ue,{className:"text-yellow-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),D("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-yellow-400/80 hover:bg-yellow-500 transition-all text-sm text-white",children:[e.jsx(kt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>D("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-yellow-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>D("/register"),className:"px-4 py-2 rounded-full bg-yellow-400 text-white hover:bg-yellow-500 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-yellow-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(f,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.netflix})]}),e.jsxs(f,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.spotify})]}),e.jsxs(f,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.disney})]}),e.jsxs(f,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.max})]}),e.jsxs(f,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.primevideo})]}),e.jsxs(f,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vix})]}),e.jsxs(f,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.crunchyroll})]}),e.jsxs(f,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.canva})]}),e.jsxs(f,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.chatgpt})]}),e.jsxs(f,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.redessociales})]}),e.jsxs(f,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.dgo})]}),e.jsxs(f,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.ligamax})]}),e.jsxs(f,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.movistarplay})]}),e.jsxs(f,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.youtube})]}),e.jsxs(f,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.deezer})]}),e.jsxs(f,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.tidal})]}),e.jsxs(f,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vpn})]}),e.jsxs(f,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.wintv})]}),e.jsxs(f,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ne,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.applemusic})]}),e.jsxs(f,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.appletv})]}),e.jsxs(f,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.iptv})]}),e.jsxs(f,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.flujotv})]}),e.jsxs(f,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.vikirakuten})]}),e.jsxs(f,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Oe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.pornhub})]}),e.jsxs(f,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.paramount})]}),e.jsxs(f,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.licencias})]}),e.jsxs(f,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.capcut})]}),e.jsxs(f,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.duolingo})]}),e.jsxs(f,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-yellow-400/30 text-white border border-yellow-400/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.buscapersonas})]})]}),o&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-400/30 flex items-center justify-center text-white font-bold text-lg",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",d.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Servicios de Busca Personas"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Encuentra la informacin que necesitas con nuestros servicios premium"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>$(!0),className:"text-sm sm:text-base text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Trminos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu bsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(i=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),oe(i)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:i.name}),e.jsx("div",{className:"flex items-center mb-2",children:i.renewal?e.jsxs("p",{className:"text-yellow-300 text-sm",children:["Renovacin - S/ ",G(i.renewalPrice)]}):e.jsx("p",{className:"text-yellow-300 text-sm",children:"Sin renovacin"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(qt,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:i.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ot,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:te(i.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx($t,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ut,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:i.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",G(i.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Lt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Ee(i),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ye,{className:"mr-2",size:14})," Trminos"]})]}),e.jsxs("button",{onClick:()=>Ae(i),disabled:i.status==="En stock"&&i.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${i.status==="A pedido"||i.stock>0?"bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700":"bg-yellow-400/50 cursor-not-allowed"}`,children:[e.jsx(vt,{className:"mr-2",size:16}),i.status==="A pedido"?"Pedir":i.stock>0?"Comprar":"Agotado"]})]})]},i.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),h&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:h.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",G(h.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",h.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",h.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:h.customerName,onChange:i=>V(b=>({...b,customerName:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nmero de WhatsApp"}),e.jsx("input",{type:"tel",value:h.phoneNumber,onChange:i=>V(b=>({...b,phoneNumber:i.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-yellow-400 focus:ring-yellow-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Trminos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>$(!0),className:"text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Le,disabled:p,className:"px-4 py-2 bg-yellow-400 text-white rounded-xl hover:bg-yellow-500 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[p&&e.jsx(et,{className:"animate-spin mr-2"}),e.jsx("span",{children:h.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificacin"}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:U.message}),e.jsx("button",{onClick:()=>{U.onClose&&U.onClose(),A(null)},className:"w-full py-3 bg-yellow-400 text-white rounded-xl hover:bg-yellow-500 transition-all",children:"Aceptar"})]})})}),w&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:w.name}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:w.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof w.accountDetails=="string"?w.accountDetails:w.accountDetails?JSON.stringify(w.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{C(null),T(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Trminos Especficos"})]})})}),z&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Trminos - ",w.name]}),e.jsx("button",{onClick:()=>{T(!1),C({name:w.name,accountDetails:w.accountDetails,provider:w.provider,terms:w.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",w.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Trminos especficos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:w.terms})}),e.jsx("button",{onClick:()=>{T(!1),$(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Trminos Generales"})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Trminos y Condiciones Generales"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactar contigo dentro de las prximas 24 horas hbiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garanta"}),e.jsx("p",{children:"Todos los productos tienen una garanta de 7 das. Si tienes problemas con tu cuenta durante este periodo, el proveedor est obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que d a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizar directamente con el proveedor mediante el nmero de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el perodo contratado."})]})]})}),e.jsx("button",{onClick:()=>$(!1),className:"w-full mt-6 py-3 bg-yellow-400 text-white rounded-xl hover:bg-yellow-500 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-yellow-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})};v.memo(()=>{const[s,t]=v.useState(null),[r,a]=v.useState(0),[n,l]=v.useState(!0),[o,c]=v.useState(null),[d,m]=v.useState(!1),[p,N]=v.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0}),[k,I]=v.useState(""),h=jt();v.useEffect(()=>{const C=It(ze,async z=>{if(z)try{const T=await We(q(P,"users",z.uid));if(T.exists()){const W=T.data();t({id:z.uid,name:W.username||"Usuario",email:z.email,orders:W.orders||[],role:W.role||"user"}),a(Number(W.balance)||0)}else c("Usuario no encontrado"),console.error("Usuario no encontrado en la base de datos")}catch(T){c("Error al cargar datos"),console.error(T)}else t(null),a(0);l(!1)});return()=>C()},[]),v.useEffect(()=>{const z=[{name:"Netflix",key:"netflix"},{name:"Spotify",key:"spotify"},{name:"Disney",key:"disney"},{name:"Max",key:"max"},{name:"Prime Video",key:"primevideo"},{name:"Vix",key:"vix"},{name:"Crunchyroll",key:"crunchyroll"},{name:"Canva",key:"canva"},{name:"ChatGPT",key:"chatgpt"},{name:"Redes Sociales",key:"redessociales"}].map(({name:T,key:W})=>{const $=ye(X(P,"products"),be("category","==",T));return Ie($,U=>{N(A=>({...A,[W]:U.docs.length}))},U=>console.error(`Error loading ${T}:`,U))});return()=>z.forEach(T=>T())},[]);const V=()=>{if(!s)return h("/login");h({user:"/dashboard/user",affiliate:"/dashboard/affiliate",provider:"/dashboard/provider",admin:"/dashboard/admin"}[s.role]||"/dashboard/user")},w=C=>{C.preventDefault(),k.trim()&&h(`/search?q=${encodeURIComponent(k)}`)};return n?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:[e.jsx(Bh,{className:"animate-spin text-4xl text-cyan-500"}),e.jsx("span",{className:"ml-2 text-white",children:"Cargando..."})]}):o?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 p-4",children:[e.jsx(Bh,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-400 mb-6",children:o}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600",children:"Reintentar"})]}):e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-800/80 backdrop-blur-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(f,{to:"/",className:"flex items-center gap-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-8"}),e.jsx("span",{className:"text-lg font-bold text-cyan-500 hidden sm:block",children:"BlackStreaming"})]})}),e.jsx("form",{onSubmit:w,className:"flex-1 max-w-md mx-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"w-full py-2 px-4 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-2 focus:ring-cyan-500 focus:border-transparent",value:k,onChange:C=>I(C.target.value)}),e.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-cyan-500",children:e.jsx(Ke,{size:20})})]})}),e.jsx("div",{className:"flex items-center gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden sm:block text-sm text-gray-300",children:s.name}),e.jsxs("span",{className:"px-3 py-1 bg-gray-700 rounded-lg text-sm",children:["S/ ",r.toFixed(2)]}),e.jsx("button",{onClick:V,className:"p-2 hover:bg-gray-700 rounded-lg",title:"Dashboard",children:e.jsx(Ue,{className:"text-cyan-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),h("/")},className:"flex items-center gap-1 px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:[e.jsx(kt,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>h("/login"),className:"px-3 py-2 text-sm hover:text-cyan-500",children:"Ingresar"}),e.jsx("button",{onClick:()=>h("/register"),className:"px-3 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 text-sm",children:"Registrarse"})]})})]})}),e.jsx("main",{className:"flex-1 p-6 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-lg text-center",children:[e.jsx("div",{className:"p-4 bg-gray-800 rounded-full inline-flex mb-6",children:e.jsx(Bh,{className:"text-4xl text-cyan-500"})}),e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"En Mantenimiento"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Estamos mejorando nuestra plataforma para ti."}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-300 mb-6",children:[e.jsx(Ot,{className:"text-yellow-500"}),e.jsx("span",{children:"Volveremos pronto."})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Qu estamos haciendo?"}),e.jsxs("ul",{className:"text-left space-y-2 text-gray-300",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:""}),"Correccin de errores en el sistema de pedidos"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:""}),"Solucin de fallos en el retiro de dinero"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:""}),"Arreglo de errores al pasar del sistema al pedido"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:""}),"Actualizacin del dashboard del proveedor"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:""}),"Actualizacin del dashboard del usuario"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:""}),"Refuerzo de la seguridad general del sitio"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:""}),"Mejora en la visualizacin y diseo"]})]}),e.jsx("button",{onClick:()=>m(!0),className:"mt-4 text-cyan-500 hover:text-cyan-400 underline",children:"Trminos Generales"})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-800 rounded-lg max-w-lg w-full max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Trminos y Condiciones"}),e.jsx("button",{onClick:()=>m(!1),className:"hover:text-gray-300",children:e.jsx(FiX,{size:24})})]}),e.jsx("div",{className:"space-y-4 text-gray-300",children:[{title:"Proceso de Compra",text:"El proveedor te contactar en 24 horas hbiles para los accesos."},{title:"Garanta",text:"7 das de garanta. El proveedor resolver problemas o reembolsar."},{title:"Uso Responsable",text:"No nos responsabilizamos por suspensiones por mal uso."},{title:"Soporte",text:"Contacta al proveedor va WhatsApp."},{title:"Renovaciones",text:"Solicita renovaciones manuales antes del fin del perodo."}].map(({title:C,text:z},T)=>e.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:C}),e.jsx("p",{children:z})]},T))}),e.jsx("button",{onClick:()=>m(!1),className:"w-full mt-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-800 py-6",children:e.jsxs("div",{className:"container mx-auto px-4 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:Ge,alt:"BlackStreaming",className:"h-6"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-500",children:"BlackStreaming"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Desarrollado por Saiph"})]})})]})});const JF=v.createContext(),ZF=({children:s})=>{const t=Lg(rd),[r,a]=v.useState(null),[n,l]=v.useState(!0);return v.useEffect(()=>{const o=It(t,c=>{a(c),l(!1)});return()=>o()},[]),e.jsx(JF.Provider,{value:{user:r,loading:n},children:!n&&s})},eU=()=>e.jsx(UP,{children:e.jsxs(e.Fragment,{children:[e.jsx(wt,{path:"/",element:e.jsx(sF,{})}),e.jsx(wt,{path:"/login",element:e.jsx(lF,{})}),e.jsx(wt,{path:"/register",element:e.jsx(mF,{})}),e.jsx(wt,{path:"/dashboard/user",element:e.jsx(pF,{})}),e.jsx(wt,{path:"/dashboard/affiliate",element:e.jsx(yF,{})}),e.jsx(wt,{path:"/dashboard/provider",element:e.jsx(bF,{})}),e.jsx(wt,{path:"/dashboard/admin",element:e.jsx(NF,{})}),e.jsx(wt,{path:"/netflix",element:e.jsx(wF,{})}),e.jsx(wt,{path:"/disney",element:e.jsx(kF,{})}),e.jsx(wt,{path:"/max",element:e.jsx(SF,{})}),e.jsx(wt,{path:"/spotify",element:e.jsx(CF,{})}),e.jsx(wt,{path:"/primevideo",element:e.jsx(EF,{})}),e.jsx(wt,{path:"/vix",element:e.jsx(IF,{})}),e.jsx(wt,{path:"/canva",element:e.jsx(PF,{})}),e.jsx(wt,{path:"/chatgpt",element:e.jsx(TF,{})}),e.jsx(wt,{path:"/crunchyroll",element:e.jsx(_F,{})}),e.jsx(wt,{path:"/redessociales",element:e.jsx(DF,{})}),e.jsx(wt,{path:"/applemusic",element:e.jsx(AF,{})}),e.jsx(wt,{path:"/appletv",element:e.jsx(RF,{})}),e.jsx(wt,{path:"/iptv",element:e.jsx(MF,{})}),e.jsx(wt,{path:"/flujotv",element:e.jsx(OF,{})}),e.jsx(wt,{path:"/vikirakuten",element:e.jsx(VF,{})}),e.jsx(wt,{path:"/pornhub",element:e.jsx(zF,{})}),e.jsx(wt,{path:"/paramount",element:e.jsx(LF,{})}),e.jsx(wt,{path:"/licencias",element:e.jsx(BF,{})}),e.jsx(wt,{path:"/capcut",element:e.jsx(FF,{})}),e.jsx(wt,{path:"/duolingo",element:e.jsx(UF,{})}),e.jsx(wt,{path:"/dgo",element:e.jsx($F,{})}),e.jsx(wt,{path:"/ligamax",element:e.jsx(qF,{})}),e.jsx(wt,{path:"/movistarplay",element:e.jsx(WF,{})}),e.jsx(wt,{path:"/youtube",element:e.jsx(GF,{})}),e.jsx(wt,{path:"/deezer",element:e.jsx(HF,{})}),e.jsx(wt,{path:"/tidal",element:e.jsx(KF,{})}),e.jsx(wt,{path:"/vpn",element:e.jsx(QF,{})}),e.jsx(wt,{path:"/wintv",element:e.jsx(YF,{})}),e.jsx(wt,{path:"/buscapersonas",element:e.jsx(XF,{})})]})});Fh.createRoot(document.getElementById("root")).render(e.jsx(pn.StrictMode,{children:e.jsx(mT,{children:e.jsx(ZF,{children:e.jsx(eU,{})})})}));
