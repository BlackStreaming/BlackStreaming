(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();const dj="modulepreload",hj=function(t){return"/"+t},Dw={},mr=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let d=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=o?.nonce||o?.getAttribute("nonce");s=d(r.map(h=>{if(h=hj(h),h in Dw)return;Dw[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":dj,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((v,k)=>{y.addEventListener("load",v),y.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};function rv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ux={exports:{}},vd={},dx={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function fj(){if(Ow)return qt;Ow=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(se){return se===null||typeof se!="object"?null:(se=g&&se[g]||se["@@iterator"],typeof se=="function"?se:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function E(se,V,te){this.props=se,this.context=V,this.refs=w,this.updater=te||v}E.prototype.isReactComponent={},E.prototype.setState=function(se,V){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,V,"setState")},E.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function D(){}D.prototype=E.prototype;function I(se,V,te){this.props=se,this.context=V,this.refs=w,this.updater=te||v}var U=I.prototype=new D;U.constructor=I,k(U,E.prototype),U.isPureReactComponent=!0;var O=Array.isArray,X=Object.prototype.hasOwnProperty,B={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(se,V,te){var re,ne={},ee=null,Fe=null;if(V!=null)for(re in V.ref!==void 0&&(Fe=V.ref),V.key!==void 0&&(ee=""+V.key),V)X.call(V,re)&&!A.hasOwnProperty(re)&&(ne[re]=V[re]);var Be=arguments.length-2;if(Be===1)ne.children=te;else if(1<Be){for(var Ae=Array(Be),Pe=0;Pe<Be;Pe++)Ae[Pe]=arguments[Pe+2];ne.children=Ae}if(se&&se.defaultProps)for(re in Be=se.defaultProps,Be)ne[re]===void 0&&(ne[re]=Be[re]);return{$$typeof:t,type:se,key:ee,ref:Fe,props:ne,_owner:B.current}}function C(se,V){return{$$typeof:t,type:se.type,key:V,ref:se.ref,props:se.props,_owner:se._owner}}function R(se){return typeof se=="object"&&se!==null&&se.$$typeof===t}function F(se){var V={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(te){return V[te]})}var W=/\/+/g;function M(se,V){return typeof se=="object"&&se!==null&&se.key!=null?F(""+se.key):V.toString(36)}function Se(se,V,te,re,ne){var ee=typeof se;(ee==="undefined"||ee==="boolean")&&(se=null);var Fe=!1;if(se===null)Fe=!0;else switch(ee){case"string":case"number":Fe=!0;break;case"object":switch(se.$$typeof){case t:case e:Fe=!0}}if(Fe)return Fe=se,ne=ne(Fe),se=re===""?"."+M(Fe,0):re,O(ne)?(te="",se!=null&&(te=se.replace(W,"$&/")+"/"),Se(ne,V,te,"",function(Pe){return Pe})):ne!=null&&(R(ne)&&(ne=C(ne,te+(!ne.key||Fe&&Fe.key===ne.key?"":(""+ne.key).replace(W,"$&/")+"/")+se)),V.push(ne)),1;if(Fe=0,re=re===""?".":re+":",O(se))for(var Be=0;Be<se.length;Be++){ee=se[Be];var Ae=re+M(ee,Be);Fe+=Se(ee,V,te,Ae,ne)}else if(Ae=y(se),typeof Ae=="function")for(se=Ae.call(se),Be=0;!(ee=se.next()).done;)ee=ee.value,Ae=re+M(ee,Be++),Fe+=Se(ee,V,te,Ae,ne);else if(ee==="object")throw V=String(se),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Ie(se,V,te){if(se==null)return se;var re=[],ne=0;return Se(se,re,"","",function(ee){return V.call(te,ee,ne++)}),re}function $e(se){if(se._status===-1){var V=se._result;V=V(),V.then(function(te){(se._status===0||se._status===-1)&&(se._status=1,se._result=te)},function(te){(se._status===0||se._status===-1)&&(se._status=2,se._result=te)}),se._status===-1&&(se._status=0,se._result=V)}if(se._status===1)return se._result.default;throw se._result}var Le={current:null},_e={transition:null},ie={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:_e,ReactCurrentOwner:B};function de(){throw Error("act(...) is not supported in production builds of React.")}return qt.Children={map:Ie,forEach:function(se,V,te){Ie(se,function(){V.apply(this,arguments)},te)},count:function(se){var V=0;return Ie(se,function(){V++}),V},toArray:function(se){return Ie(se,function(V){return V})||[]},only:function(se){if(!R(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},qt.Component=E,qt.Fragment=r,qt.Profiler=s,qt.PureComponent=I,qt.StrictMode=n,qt.Suspense=d,qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,qt.act=de,qt.cloneElement=function(se,V,te){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var re=k({},se.props),ne=se.key,ee=se.ref,Fe=se._owner;if(V!=null){if(V.ref!==void 0&&(ee=V.ref,Fe=B.current),V.key!==void 0&&(ne=""+V.key),se.type&&se.type.defaultProps)var Be=se.type.defaultProps;for(Ae in V)X.call(V,Ae)&&!A.hasOwnProperty(Ae)&&(re[Ae]=V[Ae]===void 0&&Be!==void 0?Be[Ae]:V[Ae])}var Ae=arguments.length-2;if(Ae===1)re.children=te;else if(1<Ae){Be=Array(Ae);for(var Pe=0;Pe<Ae;Pe++)Be[Pe]=arguments[Pe+2];re.children=Be}return{$$typeof:t,type:se.type,key:ne,ref:ee,props:re,_owner:Fe}},qt.createContext=function(se){return se={$$typeof:o,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:a,_context:se},se.Consumer=se},qt.createElement=S,qt.createFactory=function(se){var V=S.bind(null,se);return V.type=se,V},qt.createRef=function(){return{current:null}},qt.forwardRef=function(se){return{$$typeof:u,render:se}},qt.isValidElement=R,qt.lazy=function(se){return{$$typeof:p,_payload:{_status:-1,_result:se},_init:$e}},qt.memo=function(se,V){return{$$typeof:h,type:se,compare:V===void 0?null:V}},qt.startTransition=function(se){var V=_e.transition;_e.transition={};try{se()}finally{_e.transition=V}},qt.unstable_act=de,qt.useCallback=function(se,V){return Le.current.useCallback(se,V)},qt.useContext=function(se){return Le.current.useContext(se)},qt.useDebugValue=function(){},qt.useDeferredValue=function(se){return Le.current.useDeferredValue(se)},qt.useEffect=function(se,V){return Le.current.useEffect(se,V)},qt.useId=function(){return Le.current.useId()},qt.useImperativeHandle=function(se,V,te){return Le.current.useImperativeHandle(se,V,te)},qt.useInsertionEffect=function(se,V){return Le.current.useInsertionEffect(se,V)},qt.useLayoutEffect=function(se,V){return Le.current.useLayoutEffect(se,V)},qt.useMemo=function(se,V){return Le.current.useMemo(se,V)},qt.useReducer=function(se,V,te){return Le.current.useReducer(se,V,te)},qt.useRef=function(se){return Le.current.useRef(se)},qt.useState=function(se){return Le.current.useState(se)},qt.useSyncExternalStore=function(se,V,te){return Le.current.useSyncExternalStore(se,V,te)},qt.useTransition=function(){return Le.current.useTransition()},qt.version="18.3.1",qt}var Fw;function nv(){return Fw||(Fw=1,dx.exports=fj()),dx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function pj(){if(Lw)return vd;Lw=1;var t=nv(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,h){var p,g={},y=null,v=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!a.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:v,props:g,_owner:s.current}}return vd.Fragment=r,vd.jsx=o,vd.jsxs=o,vd}var Mw;function mj(){return Mw||(Mw=1,ux.exports=pj()),ux.exports}var i=mj(),T=nv();const ja=rv(T);var cf={},hx={exports:{}},vs={},fx={exports:{}},px={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function gj(){return $w||($w=1,(function(t){function e(_e,ie){var de=_e.length;_e.push(ie);e:for(;0<de;){var se=de-1>>>1,V=_e[se];if(0<s(V,ie))_e[se]=ie,_e[de]=V,de=se;else break e}}function r(_e){return _e.length===0?null:_e[0]}function n(_e){if(_e.length===0)return null;var ie=_e[0],de=_e.pop();if(de!==ie){_e[0]=de;e:for(var se=0,V=_e.length,te=V>>>1;se<te;){var re=2*(se+1)-1,ne=_e[re],ee=re+1,Fe=_e[ee];if(0>s(ne,de))ee<V&&0>s(Fe,ne)?(_e[se]=Fe,_e[ee]=de,se=ee):(_e[se]=ne,_e[re]=de,se=re);else if(ee<V&&0>s(Fe,de))_e[se]=Fe,_e[ee]=de,se=ee;else break e}}return ie}function s(_e,ie){var de=_e.sortIndex-ie.sortIndex;return de!==0?de:_e.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],h=[],p=1,g=null,y=3,v=!1,k=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(_e){for(var ie=r(h);ie!==null;){if(ie.callback===null)n(h);else if(ie.startTime<=_e)n(h),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=r(h)}}function O(_e){if(w=!1,U(_e),!k)if(r(d)!==null)k=!0,$e(X);else{var ie=r(h);ie!==null&&Le(O,ie.startTime-_e)}}function X(_e,ie){k=!1,w&&(w=!1,D(S),S=-1),v=!0;var de=y;try{for(U(ie),g=r(d);g!==null&&(!(g.expirationTime>ie)||_e&&!F());){var se=g.callback;if(typeof se=="function"){g.callback=null,y=g.priorityLevel;var V=se(g.expirationTime<=ie);ie=t.unstable_now(),typeof V=="function"?g.callback=V:g===r(d)&&n(d),U(ie)}else n(d);g=r(d)}if(g!==null)var te=!0;else{var re=r(h);re!==null&&Le(O,re.startTime-ie),te=!1}return te}finally{g=null,y=de,v=!1}}var B=!1,A=null,S=-1,C=5,R=-1;function F(){return!(t.unstable_now()-R<C)}function W(){if(A!==null){var _e=t.unstable_now();R=_e;var ie=!0;try{ie=A(!0,_e)}finally{ie?M():(B=!1,A=null)}}else B=!1}var M;if(typeof I=="function")M=function(){I(W)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ie=Se.port2;Se.port1.onmessage=W,M=function(){Ie.postMessage(null)}}else M=function(){E(W,0)};function $e(_e){A=_e,B||(B=!0,M())}function Le(_e,ie){S=E(function(){_e(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_e){_e.callback=null},t.unstable_continueExecution=function(){k||v||(k=!0,$e(X))},t.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<_e?Math.floor(1e3/_e):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(_e){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var de=y;y=ie;try{return _e()}finally{y=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_e,ie){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var de=y;y=_e;try{return ie()}finally{y=de}},t.unstable_scheduleCallback=function(_e,ie,de){var se=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?se+de:se):de=se,_e){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=de+V,_e={id:p++,callback:ie,priorityLevel:_e,startTime:de,expirationTime:V,sortIndex:-1},de>se?(_e.sortIndex=de,e(h,_e),r(d)===null&&_e===r(h)&&(w?(D(S),S=-1):w=!0,Le(O,de-se))):(_e.sortIndex=V,e(d,_e),k||v||(k=!0,$e(X))),_e},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(_e){var ie=y;return function(){var de=y;y=ie;try{return _e.apply(this,arguments)}finally{y=de}}}})(px)),px}var Vw;function xj(){return Vw||(Vw=1,fx.exports=gj()),fx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function yj(){if(Bw)return vs;Bw=1;var t=nv(),e=xj();function r(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(l,c){o(l,c),o(l+"Capture",c)}function o(l,c){for(s[l]=c,l=0;l<c.length;l++)n.add(c[l])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(l){return d.call(g,l)?!0:d.call(p,l)?!1:h.test(l)?g[l]=!0:(p[l]=!0,!1)}function v(l,c,f,x){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:f!==null?!f.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function k(l,c,f,x){if(c===null||typeof c>"u"||v(l,c,f,x))return!0;if(x)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(l,c,f,x,b,N,L){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=l,this.type=c,this.sanitizeURL=N,this.removeEmptyString=L}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){E[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var c=l[0];E[c]=new w(c,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){E[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){E[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){E[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){E[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){E[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){E[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){E[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function I(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var c=l.replace(D,I);E[c]=new w(c,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var c=l.replace(D,I);E[c]=new w(c,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var c=l.replace(D,I);E[c]=new w(c,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){E[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),E.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){E[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function U(l,c,f,x){var b=E.hasOwnProperty(c)?E[c]:null;(b!==null?b.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(k(c,f,b,x)&&(f=null),x||b===null?y(c)&&(f===null?l.removeAttribute(c):l.setAttribute(c,""+f)):b.mustUseProperty?l[b.propertyName]=f===null?b.type===3?!1:"":f:(c=b.attributeName,x=b.attributeNamespace,f===null?l.removeAttribute(c):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,x?l.setAttributeNS(x,c,f):l.setAttribute(c,f))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),B=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),Le=Symbol.for("react.offscreen"),_e=Symbol.iterator;function ie(l){return l===null||typeof l!="object"?null:(l=_e&&l[_e]||l["@@iterator"],typeof l=="function"?l:null)}var de=Object.assign,se;function V(l){if(se===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);se=c&&c[1]||""}return`
`+se+l}var te=!1;function re(l,c){if(!l||te)return"";te=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(we){var x=we}Reflect.construct(l,[],c)}else{try{c.call()}catch(we){x=we}l.call(c.prototype)}else{try{throw Error()}catch(we){x=we}l()}}catch(we){if(we&&x&&typeof we.stack=="string"){for(var b=we.stack.split(`
`),N=x.stack.split(`
`),L=b.length-1,ae=N.length-1;1<=L&&0<=ae&&b[L]!==N[ae];)ae--;for(;1<=L&&0<=ae;L--,ae--)if(b[L]!==N[ae]){if(L!==1||ae!==1)do if(L--,ae--,0>ae||b[L]!==N[ae]){var oe=`
`+b[L].replace(" at new "," at ");return l.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",l.displayName)),oe}while(1<=L&&0<=ae);break}}}finally{te=!1,Error.prepareStackTrace=f}return(l=l?l.displayName||l.name:"")?V(l):""}function ne(l){switch(l.tag){case 5:return V(l.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return l=re(l.type,!1),l;case 11:return l=re(l.type.render,!1),l;case 1:return l=re(l.type,!0),l;default:return""}}function ee(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case A:return"Fragment";case B:return"Portal";case C:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case Se:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case F:return(l.displayName||"Context")+".Consumer";case R:return(l._context.displayName||"Context")+".Provider";case W:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Ie:return c=l.displayName||null,c!==null?c:ee(l.type)||"Memo";case $e:c=l._payload,l=l._init;try{return ee(l(c))}catch{}}return null}function Fe(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(c);case 8:return c===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Be(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ae(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Pe(l){var c=Ae(l)?"checked":"value",f=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),x=""+l[c];if(!l.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,N=f.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return b.call(this)},set:function(L){x=""+L,N.call(this,L)}}),Object.defineProperty(l,c,{enumerable:f.enumerable}),{getValue:function(){return x},setValue:function(L){x=""+L},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function it(l){l._valueTracker||(l._valueTracker=Pe(l))}function yt(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var f=c.getValue(),x="";return l&&(x=Ae(l)?l.checked?"true":"false":l.value),l=x,l!==f?(c.setValue(l),!0):!1}function Wt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Oe(l,c){var f=c.checked;return de({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??l._wrapperState.initialChecked})}function fr(l,c){var f=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;f=Be(c.value!=null?c.value:f),l._wrapperState={initialChecked:x,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Mt(l,c){c=c.checked,c!=null&&U(l,"checked",c,!1)}function Re(l,c){Mt(l,c);var f=Be(c.value),x=c.type;if(f!=null)x==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+f):l.value!==""+f&&(l.value=""+f);else if(x==="submit"||x==="reset"){l.removeAttribute("value");return}c.hasOwnProperty("value")?$t(l,c.type,f):c.hasOwnProperty("defaultValue")&&$t(l,c.type,Be(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(l.defaultChecked=!!c.defaultChecked)}function pr(l,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+l._wrapperState.initialValue,f||c===l.value||(l.value=c),l.defaultValue=c}f=l.name,f!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,f!==""&&(l.name=f)}function $t(l,c,f){(c!=="number"||Wt(l.ownerDocument)!==l)&&(f==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+f&&(l.defaultValue=""+f))}var Gt=Array.isArray;function le(l,c,f,x){if(l=l.options,c){c={};for(var b=0;b<f.length;b++)c["$"+f[b]]=!0;for(f=0;f<l.length;f++)b=c.hasOwnProperty("$"+l[f].value),l[f].selected!==b&&(l[f].selected=b),b&&x&&(l[f].defaultSelected=!0)}else{for(f=""+Be(f),c=null,b=0;b<l.length;b++){if(l[b].value===f){l[b].selected=!0,x&&(l[b].defaultSelected=!0);return}c!==null||l[b].disabled||(c=l[b])}c!==null&&(c.selected=!0)}}function Ye(l,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return de({},c,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function ct(l,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(r(92));if(Gt(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),f=c}l._wrapperState={initialValue:Be(f)}}function ut(l,c){var f=Be(c.value),x=Be(c.defaultValue);f!=null&&(f=""+f,f!==l.value&&(l.value=f),c.defaultValue==null&&l.defaultValue!==f&&(l.defaultValue=f)),x!=null&&(l.defaultValue=""+x)}function At(l){var c=l.textContent;c===l._wrapperState.initialValue&&c!==""&&c!==null&&(l.value=c)}function wt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(l,c){return l==null||l==="http://www.w3.org/1999/xhtml"?wt(c):l==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var gt,ir=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,x,b){MSApp.execUnsafeLocalFunction(function(){return l(c,f,x,b)})}:l})(function(l,c){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=c;else{for(gt=gt||document.createElement("div"),gt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=gt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;c.firstChild;)l.appendChild(c.firstChild)}});function Q(l,c){if(c){var f=l.firstChild;if(f&&f===l.lastChild&&f.nodeType===3){f.nodeValue=c;return}}l.textContent=c}var Te={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];Object.keys(Te).forEach(function(l){ft.forEach(function(c){c=c+l.charAt(0).toUpperCase()+l.substring(1),Te[c]=Te[l]})});function be(l,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||Te.hasOwnProperty(l)&&Te[l]?(""+c).trim():c+"px"}function ke(l,c){l=l.style;for(var f in c)if(c.hasOwnProperty(f)){var x=f.indexOf("--")===0,b=be(f,c[f],x);f==="float"&&(f="cssFloat"),x?l.setProperty(f,b):l[f]=b}}var Me=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ze(l,c){if(c){if(Me[l]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function vt(l,c){if(l.indexOf("-")===-1)return typeof c.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=null;function at(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ot=null,et=null,Tt=null;function Bt(l){if(l=sd(l)){if(typeof ot!="function")throw Error(r(280));var c=l.stateNode;c&&(c=Eh(c),ot(l.stateNode,l.type,c))}}function Kt(l){et?Tt?Tt.push(l):Tt=[l]:et=l}function jr(){if(et){var l=et,c=Tt;if(Tt=et=null,Bt(l),c)for(l=0;l<c.length;l++)Bt(c[l])}}function Mr(l,c){return l(c)}function un(){}var cr=!1;function Hn(l,c,f){if(cr)return l(c,f);cr=!0;try{return Mr(l,c,f)}finally{cr=!1,(et!==null||Tt!==null)&&(un(),jr())}}function ur(l,c){var f=l.stateNode;if(f===null)return null;var x=Eh(f);if(x===null)return null;f=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var dn=!1;if(u)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){dn=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{dn=!1}function xn(l,c,f,x,b,N,L,ae,oe){var we=Array.prototype.slice.call(arguments,3);try{c.apply(f,we)}catch(qe){this.onError(qe)}}var ve=!1,Ne=null,P=!1,z=null,H={onError:function(l){ve=!0,Ne=l}};function K(l,c,f,x,b,N,L,ae,oe){ve=!1,Ne=null,xn.apply(H,arguments)}function J(l,c,f,x,b,N,L,ae,oe){if(K.apply(this,arguments),ve){if(ve){var we=Ne;ve=!1,Ne=null}else throw Error(r(198));P||(P=!0,z=we)}}function Y(l){var c=l,f=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(f=c.return),l=c.return;while(l)}return c.tag===3?f:null}function ue(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function me(l){if(Y(l)!==l)throw Error(r(188))}function he(l){var c=l.alternate;if(!c){if(c=Y(l),c===null)throw Error(r(188));return c!==l?null:l}for(var f=l,x=c;;){var b=f.return;if(b===null)break;var N=b.alternate;if(N===null){if(x=b.return,x!==null){f=x;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===f)return me(b),l;if(N===x)return me(b),c;N=N.sibling}throw Error(r(188))}if(f.return!==x.return)f=b,x=N;else{for(var L=!1,ae=b.child;ae;){if(ae===f){L=!0,f=b,x=N;break}if(ae===x){L=!0,x=b,f=N;break}ae=ae.sibling}if(!L){for(ae=N.child;ae;){if(ae===f){L=!0,f=N,x=b;break}if(ae===x){L=!0,x=N,f=b;break}ae=ae.sibling}if(!L)throw Error(r(189))}}if(f.alternate!==x)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?l:c}function ge(l){return l=he(l),l!==null?xe(l):null}function xe(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=xe(l);if(c!==null)return c;l=l.sibling}return null}var Ue=e.unstable_scheduleCallback,Je=e.unstable_cancelCallback,lt=e.unstable_shouldYield,Ke=e.unstable_requestPaint,We=e.unstable_now,Pt=e.unstable_getCurrentPriorityLevel,nr=e.unstable_ImmediatePriority,Jt=e.unstable_UserBlockingPriority,sr=e.unstable_NormalPriority,Cs=e.unstable_LowPriority,Gs=e.unstable_IdlePriority,rs=null,$r=null;function Xi(l){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(rs,l,void 0,(l.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:th,Uu=Math.log,eh=Math.LN2;function th(l){return l>>>=0,l===0?32:31-(Uu(l)/eh|0)|0}var ic=64,oc=4194304;function Yi(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function el(l,c){var f=l.pendingLanes;if(f===0)return 0;var x=0,b=l.suspendedLanes,N=l.pingedLanes,L=f&268435455;if(L!==0){var ae=L&~b;ae!==0?x=Yi(ae):(N&=L,N!==0&&(x=Yi(N)))}else L=f&~b,L!==0?x=Yi(L):N!==0&&(x=Yi(N));if(x===0)return 0;if(c!==0&&c!==x&&(c&b)===0&&(b=x&-x,N=c&-c,b>=N||b===16&&(N&4194240)!==0))return c;if((x&4)!==0&&(x|=f&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=x;0<c;)f=31-Ir(c),b=1<<f,x|=l[f],c&=~b;return x}function Vm(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(l,c){for(var f=l.suspendedLanes,x=l.pingedLanes,b=l.expirationTimes,N=l.pendingLanes;0<N;){var L=31-Ir(N),ae=1<<L,oe=b[L];oe===-1?((ae&f)===0||(ae&x)!==0)&&(b[L]=Vm(ae,c)):oe<=c&&(l.expiredLanes|=ae),N&=~ae}}function js(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function tl(){var l=ic;return ic<<=1,(ic&4194240)===0&&(ic=64),l}function Qi(l){for(var c=[],f=0;31>f;f++)c.push(l);return c}function Ji(l,c,f){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-Ir(c),l[c]=f}function Nr(l,c){var f=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var x=l.eventTimes;for(l=l.expirationTimes;0<f;){var b=31-Ir(f),N=1<<b;c[b]=0,x[b]=-1,l[b]=-1,f&=~N}}function Zi(l,c){var f=l.entangledLanes|=c;for(l=l.entanglements;f;){var x=31-Ir(f),b=1<<x;b&c|l[x]&c&&(l[x]|=c),f&=~b}}var Qt=0;function eo(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var rh,lc,nh,sh,ah,zu=!1,$a=[],Sn=null,ha=null,fa=null,to=new Map,Ks=new Map,Va=[],Bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ih(l,c){switch(l){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":to.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(c.pointerId)}}function hs(l,c,f,x,b,N){return l===null||l.nativeEvent!==N?(l={blockedOn:c,domEventName:f,eventSystemFlags:x,nativeEvent:N,targetContainers:[b]},c!==null&&(c=sd(c),c!==null&&lc(c)),l):(l.eventSystemFlags|=x,c=l.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),l)}function Um(l,c,f,x,b){switch(c){case"focusin":return Sn=hs(Sn,l,c,f,x,b),!0;case"dragenter":return ha=hs(ha,l,c,f,x,b),!0;case"mouseover":return fa=hs(fa,l,c,f,x,b),!0;case"pointerover":var N=b.pointerId;return to.set(N,hs(to.get(N)||null,l,c,f,x,b)),!0;case"gotpointercapture":return N=b.pointerId,Ks.set(N,hs(Ks.get(N)||null,l,c,f,x,b)),!0}return!1}function oh(l){var c=il(l.target);if(c!==null){var f=Y(c);if(f!==null){if(c=f.tag,c===13){if(c=ue(f),c!==null){l.blockedOn=c,ah(l.priority,function(){nh(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){l.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}l.blockedOn=null}function mi(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var f=cc(l.domEventName,l.eventSystemFlags,c[0],l.nativeEvent);if(f===null){f=l.nativeEvent;var x=new f.constructor(f.type,f);Nt=x,f.target.dispatchEvent(x),Nt=null}else return c=sd(f),c!==null&&lc(c),l.blockedOn=f,!1;c.shift()}return!0}function rl(l,c,f){mi(l)&&f.delete(c)}function lh(){zu=!1,Sn!==null&&mi(Sn)&&(Sn=null),ha!==null&&mi(ha)&&(ha=null),fa!==null&&mi(fa)&&(fa=null),to.forEach(rl),Ks.forEach(rl)}function pa(l,c){l.blockedOn===c&&(l.blockedOn=null,zu||(zu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lh)))}function ma(l){function c(b){return pa(b,l)}if(0<$a.length){pa($a[0],l);for(var f=1;f<$a.length;f++){var x=$a[f];x.blockedOn===l&&(x.blockedOn=null)}}for(Sn!==null&&pa(Sn,l),ha!==null&&pa(ha,l),fa!==null&&pa(fa,l),to.forEach(c),Ks.forEach(c),f=0;f<Va.length;f++)x=Va[f],x.blockedOn===l&&(x.blockedOn=null);for(;0<Va.length&&(f=Va[0],f.blockedOn===null);)oh(f),f.blockedOn===null&&Va.shift()}var gi=O.ReactCurrentBatchConfig,ro=!0;function Or(l,c,f,x){var b=Qt,N=gi.transition;gi.transition=null;try{Qt=1,Hu(l,c,f,x)}finally{Qt=b,gi.transition=N}}function zm(l,c,f,x){var b=Qt,N=gi.transition;gi.transition=null;try{Qt=4,Hu(l,c,f,x)}finally{Qt=b,gi.transition=N}}function Hu(l,c,f,x){if(ro){var b=cc(l,c,f,x);if(b===null)eg(l,c,x,nl,f),ih(l,x);else if(Um(b,l,c,f,x))x.stopPropagation();else if(ih(l,x),c&4&&-1<Bm.indexOf(l)){for(;b!==null;){var N=sd(b);if(N!==null&&rh(N),N=cc(l,c,f,x),N===null&&eg(l,c,x,nl,f),N===b)break;b=N}b!==null&&x.stopPropagation()}else eg(l,c,x,null,f)}}var nl=null;function cc(l,c,f,x){if(nl=null,l=at(x),l=il(l),l!==null)if(c=Y(l),c===null)l=null;else if(f=c.tag,f===13){if(l=ue(c),l!==null)return l;l=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null);return nl=l,null}function Wu(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pt()){case nr:return 1;case Jt:return 4;case sr:case Cs:return 16;case Gs:return 536870912;default:return 16}default:return 16}}var Is=null,uc=null,fs=null;function qu(){if(fs)return fs;var l,c=uc,f=c.length,x,b="value"in Is?Is.value:Is.textContent,N=b.length;for(l=0;l<f&&c[l]===b[l];l++);var L=f-l;for(x=1;x<=L&&c[f-x]===b[N-x];x++);return fs=b.slice(l,1<x?1-x:void 0)}function dc(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function Ba(){return!0}function Gu(){return!1}function An(l){function c(f,x,b,N,L){this._reactName=f,this._targetInst=b,this.type=x,this.nativeEvent=N,this.target=L,this.currentTarget=null;for(var ae in l)l.hasOwnProperty(ae)&&(f=l[ae],this[ae]=f?f(N):N[ae]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Ba:Gu,this.isPropagationStopped=Gu,this}return de(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),c}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hc=An(ga),Ua=de({},ga,{view:0,detail:0}),Hm=An(Ua),fc,xi,no,sl=de({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:za,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==no&&(no&&l.type==="mousemove"?(fc=l.screenX-no.screenX,xi=l.screenY-no.screenY):xi=fc=0,no=l),fc)},movementY:function(l){return"movementY"in l?l.movementY:xi}}),pc=An(sl),Ku=de({},sl,{dataTransfer:0}),ch=An(Ku),mc=de({},Ua,{relatedTarget:0}),gc=An(mc),uh=de({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),yi=An(uh),dh=de({},ga,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),hh=An(dh),fh=de({},ga,{data:0}),Xu=An(fh),xc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ns={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mh(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=ph[l])?!!c[l]:!1}function za(){return mh}var m=de({},Ua,{key:function(l){if(l.key){var c=xc[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=dc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?ns[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:za,charCode:function(l){return l.type==="keypress"?dc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?dc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),_=An(m),j=de({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q=An(j),fe=de({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:za}),Ee=An(fe),nt=de({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),gr=An(nt),hn=de({},sl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Zt=An(hn),yn=[9,13,27,32],rn=u&&"CompositionEvent"in window,Xs=null;u&&"documentMode"in document&&(Xs=document.documentMode);var Ps=u&&"TextEvent"in window&&!Xs,al=u&&(!rn||Xs&&8<Xs&&11>=Xs),yc=" ",Ab=!1;function Cb(l,c){switch(l){case"keyup":return yn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jb(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var vc=!1;function lC(l,c){switch(l){case"compositionend":return jb(c);case"keypress":return c.which!==32?null:(Ab=!0,yc);case"textInput":return l=c.data,l===yc&&Ab?null:l;default:return null}}function cC(l,c){if(vc)return l==="compositionend"||!rn&&Cb(l,c)?(l=qu(),fs=uc=Is=null,vc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return al&&c.locale!=="ko"?null:c.data;default:return null}}var uC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ib(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!uC[l.type]:c==="textarea"}function Pb(l,c,f,x){Kt(x),c=bh(c,"onChange"),0<c.length&&(f=new hc("onChange","change",null,f,x),l.push({event:f,listeners:c}))}var Yu=null,Qu=null;function dC(l){Yb(l,0)}function gh(l){var c=Tc(l);if(yt(c))return l}function hC(l,c){if(l==="change")return c}var Rb=!1;if(u){var Wm;if(u){var qm="oninput"in document;if(!qm){var Db=document.createElement("div");Db.setAttribute("oninput","return;"),qm=typeof Db.oninput=="function"}Wm=qm}else Wm=!1;Rb=Wm&&(!document.documentMode||9<document.documentMode)}function Ob(){Yu&&(Yu.detachEvent("onpropertychange",Fb),Qu=Yu=null)}function Fb(l){if(l.propertyName==="value"&&gh(Qu)){var c=[];Pb(c,Qu,l,at(l)),Hn(dC,c)}}function fC(l,c,f){l==="focusin"?(Ob(),Yu=c,Qu=f,Yu.attachEvent("onpropertychange",Fb)):l==="focusout"&&Ob()}function pC(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return gh(Qu)}function mC(l,c){if(l==="click")return gh(c)}function gC(l,c){if(l==="input"||l==="change")return gh(c)}function xC(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var xa=typeof Object.is=="function"?Object.is:xC;function Ju(l,c){if(xa(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var f=Object.keys(l),x=Object.keys(c);if(f.length!==x.length)return!1;for(x=0;x<f.length;x++){var b=f[x];if(!d.call(c,b)||!xa(l[b],c[b]))return!1}return!0}function Lb(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Mb(l,c){var f=Lb(l);l=0;for(var x;f;){if(f.nodeType===3){if(x=l+f.textContent.length,l<=c&&x>=c)return{node:f,offset:c-l};l=x}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Lb(f)}}function $b(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?$b(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function Vb(){for(var l=window,c=Wt();c instanceof l.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)l=c.contentWindow;else break;c=Wt(l.document)}return c}function Gm(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}function yC(l){var c=Vb(),f=l.focusedElem,x=l.selectionRange;if(c!==f&&f&&f.ownerDocument&&$b(f.ownerDocument.documentElement,f)){if(x!==null&&Gm(f)){if(c=x.start,l=x.end,l===void 0&&(l=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(l,f.value.length);else if(l=(c=f.ownerDocument||document)&&c.defaultView||window,l.getSelection){l=l.getSelection();var b=f.textContent.length,N=Math.min(x.start,b);x=x.end===void 0?N:Math.min(x.end,b),!l.extend&&N>x&&(b=x,x=N,N=b),b=Mb(f,N);var L=Mb(f,x);b&&L&&(l.rangeCount!==1||l.anchorNode!==b.node||l.anchorOffset!==b.offset||l.focusNode!==L.node||l.focusOffset!==L.offset)&&(c=c.createRange(),c.setStart(b.node,b.offset),l.removeAllRanges(),N>x?(l.addRange(c),l.extend(L.node,L.offset)):(c.setEnd(L.node,L.offset),l.addRange(c)))}}for(c=[],l=f;l=l.parentNode;)l.nodeType===1&&c.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)l=c[f],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var vC=u&&"documentMode"in document&&11>=document.documentMode,bc=null,Km=null,Zu=null,Xm=!1;function Bb(l,c,f){var x=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Xm||bc==null||bc!==Wt(x)||(x=bc,"selectionStart"in x&&Gm(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Zu&&Ju(Zu,x)||(Zu=x,x=bh(Km,"onSelect"),0<x.length&&(c=new hc("onSelect","select",null,c,f),l.push({event:c,listeners:x}),c.target=bc)))}function xh(l,c){var f={};return f[l.toLowerCase()]=c.toLowerCase(),f["Webkit"+l]="webkit"+c,f["Moz"+l]="moz"+c,f}var wc={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionend:xh("Transition","TransitionEnd")},Ym={},Ub={};u&&(Ub=document.createElement("div").style,"AnimationEvent"in window||(delete wc.animationend.animation,delete wc.animationiteration.animation,delete wc.animationstart.animation),"TransitionEvent"in window||delete wc.transitionend.transition);function yh(l){if(Ym[l])return Ym[l];if(!wc[l])return l;var c=wc[l],f;for(f in c)if(c.hasOwnProperty(f)&&f in Ub)return Ym[l]=c[f];return l}var zb=yh("animationend"),Hb=yh("animationiteration"),Wb=yh("animationstart"),qb=yh("transitionend"),Gb=new Map,Kb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(l,c){Gb.set(l,c),a(c,[l])}for(var Qm=0;Qm<Kb.length;Qm++){var Jm=Kb[Qm],bC=Jm.toLowerCase(),wC=Jm[0].toUpperCase()+Jm.slice(1);so(bC,"on"+wC)}so(zb,"onAnimationEnd"),so(Hb,"onAnimationIteration"),so(Wb,"onAnimationStart"),so("dblclick","onDoubleClick"),so("focusin","onFocus"),so("focusout","onBlur"),so(qb,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_C=new Set("cancel close invalid load scroll toggle".split(" ").concat(ed));function Xb(l,c,f){var x=l.type||"unknown-event";l.currentTarget=f,J(x,c,void 0,l),l.currentTarget=null}function Yb(l,c){c=(c&4)!==0;for(var f=0;f<l.length;f++){var x=l[f],b=x.event;x=x.listeners;e:{var N=void 0;if(c)for(var L=x.length-1;0<=L;L--){var ae=x[L],oe=ae.instance,we=ae.currentTarget;if(ae=ae.listener,oe!==N&&b.isPropagationStopped())break e;Xb(b,ae,we),N=oe}else for(L=0;L<x.length;L++){if(ae=x[L],oe=ae.instance,we=ae.currentTarget,ae=ae.listener,oe!==N&&b.isPropagationStopped())break e;Xb(b,ae,we),N=oe}}}if(P)throw l=z,P=!1,z=null,l}function Pr(l,c){var f=c[ig];f===void 0&&(f=c[ig]=new Set);var x=l+"__bubble";f.has(x)||(Qb(c,l,2,!1),f.add(x))}function Zm(l,c,f){var x=0;c&&(x|=4),Qb(f,l,x,c)}var vh="_reactListening"+Math.random().toString(36).slice(2);function td(l){if(!l[vh]){l[vh]=!0,n.forEach(function(f){f!=="selectionchange"&&(_C.has(f)||Zm(f,!1,l),Zm(f,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[vh]||(c[vh]=!0,Zm("selectionchange",!1,c))}}function Qb(l,c,f,x){switch(Wu(c)){case 1:var b=Or;break;case 4:b=zm;break;default:b=Hu}f=b.bind(null,c,f,l),b=void 0,!dn||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),x?b!==void 0?l.addEventListener(c,f,{capture:!0,passive:b}):l.addEventListener(c,f,!0):b!==void 0?l.addEventListener(c,f,{passive:b}):l.addEventListener(c,f,!1)}function eg(l,c,f,x,b){var N=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var L=x.tag;if(L===3||L===4){var ae=x.stateNode.containerInfo;if(ae===b||ae.nodeType===8&&ae.parentNode===b)break;if(L===4)for(L=x.return;L!==null;){var oe=L.tag;if((oe===3||oe===4)&&(oe=L.stateNode.containerInfo,oe===b||oe.nodeType===8&&oe.parentNode===b))return;L=L.return}for(;ae!==null;){if(L=il(ae),L===null)return;if(oe=L.tag,oe===5||oe===6){x=N=L;continue e}ae=ae.parentNode}}x=x.return}Hn(function(){var we=N,qe=at(f),Xe=[];e:{var He=Gb.get(l);if(He!==void 0){var pt=hc,bt=l;switch(l){case"keypress":if(dc(f)===0)break e;case"keydown":case"keyup":pt=_;break;case"focusin":bt="focus",pt=gc;break;case"focusout":bt="blur",pt=gc;break;case"beforeblur":case"afterblur":pt=gc;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Ee;break;case zb:case Hb:case Wb:pt=yi;break;case qb:pt=gr;break;case"scroll":pt=Hm;break;case"wheel":pt=Zt;break;case"copy":case"cut":case"paste":pt=hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=q}var _t=(c&4)!==0,Qr=!_t&&l==="scroll",pe=_t?He!==null?He+"Capture":null:He;_t=[];for(var ce=we,ye;ce!==null;){ye=ce;var Qe=ye.stateNode;if(ye.tag===5&&Qe!==null&&(ye=Qe,pe!==null&&(Qe=ur(ce,pe),Qe!=null&&_t.push(rd(ce,Qe,ye)))),Qr)break;ce=ce.return}0<_t.length&&(He=new pt(He,bt,null,f,qe),Xe.push({event:He,listeners:_t}))}}if((c&7)===0){e:{if(He=l==="mouseover"||l==="pointerover",pt=l==="mouseout"||l==="pointerout",He&&f!==Nt&&(bt=f.relatedTarget||f.fromElement)&&(il(bt)||bt[vi]))break e;if((pt||He)&&(He=qe.window===qe?qe:(He=qe.ownerDocument)?He.defaultView||He.parentWindow:window,pt?(bt=f.relatedTarget||f.toElement,pt=we,bt=bt?il(bt):null,bt!==null&&(Qr=Y(bt),bt!==Qr||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(pt=null,bt=we),pt!==bt)){if(_t=pc,Qe="onMouseLeave",pe="onMouseEnter",ce="mouse",(l==="pointerout"||l==="pointerover")&&(_t=q,Qe="onPointerLeave",pe="onPointerEnter",ce="pointer"),Qr=pt==null?He:Tc(pt),ye=bt==null?He:Tc(bt),He=new _t(Qe,ce+"leave",pt,f,qe),He.target=Qr,He.relatedTarget=ye,Qe=null,il(qe)===we&&(_t=new _t(pe,ce+"enter",bt,f,qe),_t.target=ye,_t.relatedTarget=Qr,Qe=_t),Qr=Qe,pt&&bt)t:{for(_t=pt,pe=bt,ce=0,ye=_t;ye;ye=_c(ye))ce++;for(ye=0,Qe=pe;Qe;Qe=_c(Qe))ye++;for(;0<ce-ye;)_t=_c(_t),ce--;for(;0<ye-ce;)pe=_c(pe),ye--;for(;ce--;){if(_t===pe||pe!==null&&_t===pe.alternate)break t;_t=_c(_t),pe=_c(pe)}_t=null}else _t=null;pt!==null&&Jb(Xe,He,pt,_t,!1),bt!==null&&Qr!==null&&Jb(Xe,Qr,bt,_t,!0)}}e:{if(He=we?Tc(we):window,pt=He.nodeName&&He.nodeName.toLowerCase(),pt==="select"||pt==="input"&&He.type==="file")var Et=hC;else if(Ib(He))if(Rb)Et=gC;else{Et=pC;var Ct=fC}else(pt=He.nodeName)&&pt.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(Et=mC);if(Et&&(Et=Et(l,we))){Pb(Xe,Et,f,qe);break e}Ct&&Ct(l,He,we),l==="focusout"&&(Ct=He._wrapperState)&&Ct.controlled&&He.type==="number"&&$t(He,"number",He.value)}switch(Ct=we?Tc(we):window,l){case"focusin":(Ib(Ct)||Ct.contentEditable==="true")&&(bc=Ct,Km=we,Zu=null);break;case"focusout":Zu=Km=bc=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,Bb(Xe,f,qe);break;case"selectionchange":if(vC)break;case"keydown":case"keyup":Bb(Xe,f,qe)}var jt;if(rn)e:{switch(l){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else vc?Cb(l,f)&&(Ft="onCompositionEnd"):l==="keydown"&&f.keyCode===229&&(Ft="onCompositionStart");Ft&&(al&&f.locale!=="ko"&&(vc||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&vc&&(jt=qu()):(Is=qe,uc="value"in Is?Is.value:Is.textContent,vc=!0)),Ct=bh(we,Ft),0<Ct.length&&(Ft=new Xu(Ft,l,null,f,qe),Xe.push({event:Ft,listeners:Ct}),jt?Ft.data=jt:(jt=jb(f),jt!==null&&(Ft.data=jt)))),(jt=Ps?lC(l,f):cC(l,f))&&(we=bh(we,"onBeforeInput"),0<we.length&&(qe=new Xu("onBeforeInput","beforeinput",null,f,qe),Xe.push({event:qe,listeners:we}),qe.data=jt))}Yb(Xe,c)})}function rd(l,c,f){return{instance:l,listener:c,currentTarget:f}}function bh(l,c){for(var f=c+"Capture",x=[];l!==null;){var b=l,N=b.stateNode;b.tag===5&&N!==null&&(b=N,N=ur(l,f),N!=null&&x.unshift(rd(l,N,b)),N=ur(l,c),N!=null&&x.push(rd(l,N,b))),l=l.return}return x}function _c(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Jb(l,c,f,x,b){for(var N=c._reactName,L=[];f!==null&&f!==x;){var ae=f,oe=ae.alternate,we=ae.stateNode;if(oe!==null&&oe===x)break;ae.tag===5&&we!==null&&(ae=we,b?(oe=ur(f,N),oe!=null&&L.unshift(rd(f,oe,ae))):b||(oe=ur(f,N),oe!=null&&L.push(rd(f,oe,ae)))),f=f.return}L.length!==0&&l.push({event:c,listeners:L})}var EC=/\r\n?/g,TC=/\u0000|\uFFFD/g;function Zb(l){return(typeof l=="string"?l:""+l).replace(EC,`
`).replace(TC,"")}function wh(l,c,f){if(c=Zb(c),Zb(l)!==c&&f)throw Error(r(425))}function _h(){}var tg=null,rg=null;function ng(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var sg=typeof setTimeout=="function"?setTimeout:void 0,kC=typeof clearTimeout=="function"?clearTimeout:void 0,e2=typeof Promise=="function"?Promise:void 0,NC=typeof queueMicrotask=="function"?queueMicrotask:typeof e2<"u"?function(l){return e2.resolve(null).then(l).catch(SC)}:sg;function SC(l){setTimeout(function(){throw l})}function ag(l,c){var f=c,x=0;do{var b=f.nextSibling;if(l.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(x===0){l.removeChild(b),ma(c);return}x--}else f!=="$"&&f!=="$?"&&f!=="$!"||x++;f=b}while(f);ma(c)}function ao(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return l}function t2(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var f=l.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return l;c--}else f==="/$"&&c++}l=l.previousSibling}return null}var Ec=Math.random().toString(36).slice(2),Ha="__reactFiber$"+Ec,nd="__reactProps$"+Ec,vi="__reactContainer$"+Ec,ig="__reactEvents$"+Ec,AC="__reactListeners$"+Ec,CC="__reactHandles$"+Ec;function il(l){var c=l[Ha];if(c)return c;for(var f=l.parentNode;f;){if(c=f[vi]||f[Ha]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(l=t2(l);l!==null;){if(f=l[Ha])return f;l=t2(l)}return c}l=f,f=l.parentNode}return null}function sd(l){return l=l[Ha]||l[vi],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Tc(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Eh(l){return l[nd]||null}var og=[],kc=-1;function io(l){return{current:l}}function Rr(l){0>kc||(l.current=og[kc],og[kc]=null,kc--)}function Ar(l,c){kc++,og[kc]=l.current,l.current=c}var oo={},Wn=io(oo),ps=io(!1),ol=oo;function Nc(l,c){var f=l.type.contextTypes;if(!f)return oo;var x=l.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var b={},N;for(N in f)b[N]=c[N];return x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=b),b}function ms(l){return l=l.childContextTypes,l!=null}function Th(){Rr(ps),Rr(Wn)}function r2(l,c,f){if(Wn.current!==oo)throw Error(r(168));Ar(Wn,c),Ar(ps,f)}function n2(l,c,f){var x=l.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return f;x=x.getChildContext();for(var b in x)if(!(b in c))throw Error(r(108,Fe(l)||"Unknown",b));return de({},f,x)}function kh(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||oo,ol=Wn.current,Ar(Wn,l),Ar(ps,ps.current),!0}function s2(l,c,f){var x=l.stateNode;if(!x)throw Error(r(169));f?(l=n2(l,c,ol),x.__reactInternalMemoizedMergedChildContext=l,Rr(ps),Rr(Wn),Ar(Wn,l)):Rr(ps),Ar(ps,f)}var bi=null,Nh=!1,lg=!1;function a2(l){bi===null?bi=[l]:bi.push(l)}function jC(l){Nh=!0,a2(l)}function lo(){if(!lg&&bi!==null){lg=!0;var l=0,c=Qt;try{var f=bi;for(Qt=1;l<f.length;l++){var x=f[l];do x=x(!0);while(x!==null)}bi=null,Nh=!1}catch(b){throw bi!==null&&(bi=bi.slice(l+1)),Ue(nr,lo),b}finally{Qt=c,lg=!1}}return null}var Sc=[],Ac=0,Sh=null,Ah=0,Ys=[],Qs=0,ll=null,wi=1,_i="";function cl(l,c){Sc[Ac++]=Ah,Sc[Ac++]=Sh,Sh=l,Ah=c}function i2(l,c,f){Ys[Qs++]=wi,Ys[Qs++]=_i,Ys[Qs++]=ll,ll=l;var x=wi;l=_i;var b=32-Ir(x)-1;x&=~(1<<b),f+=1;var N=32-Ir(c)+b;if(30<N){var L=b-b%5;N=(x&(1<<L)-1).toString(32),x>>=L,b-=L,wi=1<<32-Ir(c)+b|f<<b|x,_i=N+l}else wi=1<<N|f<<b|x,_i=l}function cg(l){l.return!==null&&(cl(l,1),i2(l,1,0))}function ug(l){for(;l===Sh;)Sh=Sc[--Ac],Sc[Ac]=null,Ah=Sc[--Ac],Sc[Ac]=null;for(;l===ll;)ll=Ys[--Qs],Ys[Qs]=null,_i=Ys[--Qs],Ys[Qs]=null,wi=Ys[--Qs],Ys[Qs]=null}var Rs=null,Ds=null,Fr=!1,ya=null;function o2(l,c){var f=ta(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=l,c=l.deletions,c===null?(l.deletions=[f],l.flags|=16):c.push(f)}function l2(l,c){switch(l.tag){case 5:var f=l.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(l.stateNode=c,Rs=l,Ds=ao(c.firstChild),!0):!1;case 6:return c=l.pendingProps===""||c.nodeType!==3?null:c,c!==null?(l.stateNode=c,Rs=l,Ds=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=ll!==null?{id:wi,overflow:_i}:null,l.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=ta(18,null,null,0),f.stateNode=c,f.return=l,l.child=f,Rs=l,Ds=null,!0):!1;default:return!1}}function dg(l){return(l.mode&1)!==0&&(l.flags&128)===0}function hg(l){if(Fr){var c=Ds;if(c){var f=c;if(!l2(l,c)){if(dg(l))throw Error(r(418));c=ao(f.nextSibling);var x=Rs;c&&l2(l,c)?o2(x,f):(l.flags=l.flags&-4097|2,Fr=!1,Rs=l)}}else{if(dg(l))throw Error(r(418));l.flags=l.flags&-4097|2,Fr=!1,Rs=l}}}function c2(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Rs=l}function Ch(l){if(l!==Rs)return!1;if(!Fr)return c2(l),Fr=!0,!1;var c;if((c=l.tag!==3)&&!(c=l.tag!==5)&&(c=l.type,c=c!=="head"&&c!=="body"&&!ng(l.type,l.memoizedProps)),c&&(c=Ds)){if(dg(l))throw u2(),Error(r(418));for(;c;)o2(l,c),c=ao(c.nextSibling)}if(c2(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8){var f=l.data;if(f==="/$"){if(c===0){Ds=ao(l.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}l=l.nextSibling}Ds=null}}else Ds=Rs?ao(l.stateNode.nextSibling):null;return!0}function u2(){for(var l=Ds;l;)l=ao(l.nextSibling)}function Cc(){Ds=Rs=null,Fr=!1}function fg(l){ya===null?ya=[l]:ya.push(l)}var IC=O.ReactCurrentBatchConfig;function ad(l,c,f){if(l=f.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var x=f.stateNode}if(!x)throw Error(r(147,l));var b=x,N=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===N?c.ref:(c=function(L){var ae=b.refs;L===null?delete ae[N]:ae[N]=L},c._stringRef=N,c)}if(typeof l!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,l))}return l}function jh(l,c){throw l=Object.prototype.toString.call(c),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function d2(l){var c=l._init;return c(l._payload)}function h2(l){function c(pe,ce){if(l){var ye=pe.deletions;ye===null?(pe.deletions=[ce],pe.flags|=16):ye.push(ce)}}function f(pe,ce){if(!l)return null;for(;ce!==null;)c(pe,ce),ce=ce.sibling;return null}function x(pe,ce){for(pe=new Map;ce!==null;)ce.key!==null?pe.set(ce.key,ce):pe.set(ce.index,ce),ce=ce.sibling;return pe}function b(pe,ce){return pe=xo(pe,ce),pe.index=0,pe.sibling=null,pe}function N(pe,ce,ye){return pe.index=ye,l?(ye=pe.alternate,ye!==null?(ye=ye.index,ye<ce?(pe.flags|=2,ce):ye):(pe.flags|=2,ce)):(pe.flags|=1048576,ce)}function L(pe){return l&&pe.alternate===null&&(pe.flags|=2),pe}function ae(pe,ce,ye,Qe){return ce===null||ce.tag!==6?(ce=sx(ye,pe.mode,Qe),ce.return=pe,ce):(ce=b(ce,ye),ce.return=pe,ce)}function oe(pe,ce,ye,Qe){var Et=ye.type;return Et===A?qe(pe,ce,ye.props.children,Qe,ye.key):ce!==null&&(ce.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===$e&&d2(Et)===ce.type)?(Qe=b(ce,ye.props),Qe.ref=ad(pe,ce,ye),Qe.return=pe,Qe):(Qe=ef(ye.type,ye.key,ye.props,null,pe.mode,Qe),Qe.ref=ad(pe,ce,ye),Qe.return=pe,Qe)}function we(pe,ce,ye,Qe){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==ye.containerInfo||ce.stateNode.implementation!==ye.implementation?(ce=ax(ye,pe.mode,Qe),ce.return=pe,ce):(ce=b(ce,ye.children||[]),ce.return=pe,ce)}function qe(pe,ce,ye,Qe,Et){return ce===null||ce.tag!==7?(ce=xl(ye,pe.mode,Qe,Et),ce.return=pe,ce):(ce=b(ce,ye),ce.return=pe,ce)}function Xe(pe,ce,ye){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=sx(""+ce,pe.mode,ye),ce.return=pe,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case X:return ye=ef(ce.type,ce.key,ce.props,null,pe.mode,ye),ye.ref=ad(pe,null,ce),ye.return=pe,ye;case B:return ce=ax(ce,pe.mode,ye),ce.return=pe,ce;case $e:var Qe=ce._init;return Xe(pe,Qe(ce._payload),ye)}if(Gt(ce)||ie(ce))return ce=xl(ce,pe.mode,ye,null),ce.return=pe,ce;jh(pe,ce)}return null}function He(pe,ce,ye,Qe){var Et=ce!==null?ce.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return Et!==null?null:ae(pe,ce,""+ye,Qe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case X:return ye.key===Et?oe(pe,ce,ye,Qe):null;case B:return ye.key===Et?we(pe,ce,ye,Qe):null;case $e:return Et=ye._init,He(pe,ce,Et(ye._payload),Qe)}if(Gt(ye)||ie(ye))return Et!==null?null:qe(pe,ce,ye,Qe,null);jh(pe,ye)}return null}function pt(pe,ce,ye,Qe,Et){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return pe=pe.get(ye)||null,ae(ce,pe,""+Qe,Et);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case X:return pe=pe.get(Qe.key===null?ye:Qe.key)||null,oe(ce,pe,Qe,Et);case B:return pe=pe.get(Qe.key===null?ye:Qe.key)||null,we(ce,pe,Qe,Et);case $e:var Ct=Qe._init;return pt(pe,ce,ye,Ct(Qe._payload),Et)}if(Gt(Qe)||ie(Qe))return pe=pe.get(ye)||null,qe(ce,pe,Qe,Et,null);jh(ce,Qe)}return null}function bt(pe,ce,ye,Qe){for(var Et=null,Ct=null,jt=ce,Ft=ce=0,wn=null;jt!==null&&Ft<ye.length;Ft++){jt.index>Ft?(wn=jt,jt=null):wn=jt.sibling;var or=He(pe,jt,ye[Ft],Qe);if(or===null){jt===null&&(jt=wn);break}l&&jt&&or.alternate===null&&c(pe,jt),ce=N(or,ce,Ft),Ct===null?Et=or:Ct.sibling=or,Ct=or,jt=wn}if(Ft===ye.length)return f(pe,jt),Fr&&cl(pe,Ft),Et;if(jt===null){for(;Ft<ye.length;Ft++)jt=Xe(pe,ye[Ft],Qe),jt!==null&&(ce=N(jt,ce,Ft),Ct===null?Et=jt:Ct.sibling=jt,Ct=jt);return Fr&&cl(pe,Ft),Et}for(jt=x(pe,jt);Ft<ye.length;Ft++)wn=pt(jt,pe,Ft,ye[Ft],Qe),wn!==null&&(l&&wn.alternate!==null&&jt.delete(wn.key===null?Ft:wn.key),ce=N(wn,ce,Ft),Ct===null?Et=wn:Ct.sibling=wn,Ct=wn);return l&&jt.forEach(function(yo){return c(pe,yo)}),Fr&&cl(pe,Ft),Et}function _t(pe,ce,ye,Qe){var Et=ie(ye);if(typeof Et!="function")throw Error(r(150));if(ye=Et.call(ye),ye==null)throw Error(r(151));for(var Ct=Et=null,jt=ce,Ft=ce=0,wn=null,or=ye.next();jt!==null&&!or.done;Ft++,or=ye.next()){jt.index>Ft?(wn=jt,jt=null):wn=jt.sibling;var yo=He(pe,jt,or.value,Qe);if(yo===null){jt===null&&(jt=wn);break}l&&jt&&yo.alternate===null&&c(pe,jt),ce=N(yo,ce,Ft),Ct===null?Et=yo:Ct.sibling=yo,Ct=yo,jt=wn}if(or.done)return f(pe,jt),Fr&&cl(pe,Ft),Et;if(jt===null){for(;!or.done;Ft++,or=ye.next())or=Xe(pe,or.value,Qe),or!==null&&(ce=N(or,ce,Ft),Ct===null?Et=or:Ct.sibling=or,Ct=or);return Fr&&cl(pe,Ft),Et}for(jt=x(pe,jt);!or.done;Ft++,or=ye.next())or=pt(jt,pe,Ft,or.value,Qe),or!==null&&(l&&or.alternate!==null&&jt.delete(or.key===null?Ft:or.key),ce=N(or,ce,Ft),Ct===null?Et=or:Ct.sibling=or,Ct=or);return l&&jt.forEach(function(uj){return c(pe,uj)}),Fr&&cl(pe,Ft),Et}function Qr(pe,ce,ye,Qe){if(typeof ye=="object"&&ye!==null&&ye.type===A&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case X:e:{for(var Et=ye.key,Ct=ce;Ct!==null;){if(Ct.key===Et){if(Et=ye.type,Et===A){if(Ct.tag===7){f(pe,Ct.sibling),ce=b(Ct,ye.props.children),ce.return=pe,pe=ce;break e}}else if(Ct.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===$e&&d2(Et)===Ct.type){f(pe,Ct.sibling),ce=b(Ct,ye.props),ce.ref=ad(pe,Ct,ye),ce.return=pe,pe=ce;break e}f(pe,Ct);break}else c(pe,Ct);Ct=Ct.sibling}ye.type===A?(ce=xl(ye.props.children,pe.mode,Qe,ye.key),ce.return=pe,pe=ce):(Qe=ef(ye.type,ye.key,ye.props,null,pe.mode,Qe),Qe.ref=ad(pe,ce,ye),Qe.return=pe,pe=Qe)}return L(pe);case B:e:{for(Ct=ye.key;ce!==null;){if(ce.key===Ct)if(ce.tag===4&&ce.stateNode.containerInfo===ye.containerInfo&&ce.stateNode.implementation===ye.implementation){f(pe,ce.sibling),ce=b(ce,ye.children||[]),ce.return=pe,pe=ce;break e}else{f(pe,ce);break}else c(pe,ce);ce=ce.sibling}ce=ax(ye,pe.mode,Qe),ce.return=pe,pe=ce}return L(pe);case $e:return Ct=ye._init,Qr(pe,ce,Ct(ye._payload),Qe)}if(Gt(ye))return bt(pe,ce,ye,Qe);if(ie(ye))return _t(pe,ce,ye,Qe);jh(pe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,ce!==null&&ce.tag===6?(f(pe,ce.sibling),ce=b(ce,ye),ce.return=pe,pe=ce):(f(pe,ce),ce=sx(ye,pe.mode,Qe),ce.return=pe,pe=ce),L(pe)):f(pe,ce)}return Qr}var jc=h2(!0),f2=h2(!1),Ih=io(null),Ph=null,Ic=null,pg=null;function mg(){pg=Ic=Ph=null}function gg(l){var c=Ih.current;Rr(Ih),l._currentValue=c}function xg(l,c,f){for(;l!==null;){var x=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),l===f)break;l=l.return}}function Pc(l,c){Ph=l,pg=Ic=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&c)!==0&&(gs=!0),l.firstContext=null)}function Js(l){var c=l._currentValue;if(pg!==l)if(l={context:l,memoizedValue:c,next:null},Ic===null){if(Ph===null)throw Error(r(308));Ic=l,Ph.dependencies={lanes:0,firstContext:l}}else Ic=Ic.next=l;return c}var ul=null;function yg(l){ul===null?ul=[l]:ul.push(l)}function p2(l,c,f,x){var b=c.interleaved;return b===null?(f.next=f,yg(c)):(f.next=b.next,b.next=f),c.interleaved=f,Ei(l,x)}function Ei(l,c){l.lanes|=c;var f=l.alternate;for(f!==null&&(f.lanes|=c),f=l,l=l.return;l!==null;)l.childLanes|=c,f=l.alternate,f!==null&&(f.childLanes|=c),f=l,l=l.return;return f.tag===3?f.stateNode:null}var co=!1;function vg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m2(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ti(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function uo(l,c,f){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(ar&2)!==0){var b=x.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),x.pending=c,Ei(l,f)}return b=x.interleaved,b===null?(c.next=c,yg(x)):(c.next=b.next,b.next=c),x.interleaved=c,Ei(l,f)}function Rh(l,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var x=c.lanes;x&=l.pendingLanes,f|=x,c.lanes=f,Zi(l,f)}}function g2(l,c){var f=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,f===x)){var b=null,N=null;if(f=f.firstBaseUpdate,f!==null){do{var L={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};N===null?b=N=L:N=N.next=L,f=f.next}while(f!==null);N===null?b=N=c:N=N.next=c}else b=N=c;f={baseState:x.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:x.shared,effects:x.effects},l.updateQueue=f;return}l=f.lastBaseUpdate,l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=c}function Dh(l,c,f,x){var b=l.updateQueue;co=!1;var N=b.firstBaseUpdate,L=b.lastBaseUpdate,ae=b.shared.pending;if(ae!==null){b.shared.pending=null;var oe=ae,we=oe.next;oe.next=null,L===null?N=we:L.next=we,L=oe;var qe=l.alternate;qe!==null&&(qe=qe.updateQueue,ae=qe.lastBaseUpdate,ae!==L&&(ae===null?qe.firstBaseUpdate=we:ae.next=we,qe.lastBaseUpdate=oe))}if(N!==null){var Xe=b.baseState;L=0,qe=we=oe=null,ae=N;do{var He=ae.lane,pt=ae.eventTime;if((x&He)===He){qe!==null&&(qe=qe.next={eventTime:pt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var bt=l,_t=ae;switch(He=c,pt=f,_t.tag){case 1:if(bt=_t.payload,typeof bt=="function"){Xe=bt.call(pt,Xe,He);break e}Xe=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=_t.payload,He=typeof bt=="function"?bt.call(pt,Xe,He):bt,He==null)break e;Xe=de({},Xe,He);break e;case 2:co=!0}}ae.callback!==null&&ae.lane!==0&&(l.flags|=64,He=b.effects,He===null?b.effects=[ae]:He.push(ae))}else pt={eventTime:pt,lane:He,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},qe===null?(we=qe=pt,oe=Xe):qe=qe.next=pt,L|=He;if(ae=ae.next,ae===null){if(ae=b.shared.pending,ae===null)break;He=ae,ae=He.next,He.next=null,b.lastBaseUpdate=He,b.shared.pending=null}}while(!0);if(qe===null&&(oe=Xe),b.baseState=oe,b.firstBaseUpdate=we,b.lastBaseUpdate=qe,c=b.shared.interleaved,c!==null){b=c;do L|=b.lane,b=b.next;while(b!==c)}else N===null&&(b.shared.lanes=0);fl|=L,l.lanes=L,l.memoizedState=Xe}}function x2(l,c,f){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var x=l[c],b=x.callback;if(b!==null){if(x.callback=null,x=f,typeof b!="function")throw Error(r(191,b));b.call(x)}}}var id={},Wa=io(id),od=io(id),ld=io(id);function dl(l){if(l===id)throw Error(r(174));return l}function bg(l,c){switch(Ar(ld,c),Ar(od,l),Ar(Wa,id),l=c.nodeType,l){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:st(null,"");break;default:l=l===8?c.parentNode:c,c=l.namespaceURI||null,l=l.tagName,c=st(c,l)}Rr(Wa),Ar(Wa,c)}function Rc(){Rr(Wa),Rr(od),Rr(ld)}function y2(l){dl(ld.current);var c=dl(Wa.current),f=st(c,l.type);c!==f&&(Ar(od,l),Ar(Wa,f))}function wg(l){od.current===l&&(Rr(Wa),Rr(od))}var Vr=io(0);function Oh(l){for(var c=l;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var _g=[];function Eg(){for(var l=0;l<_g.length;l++)_g[l]._workInProgressVersionPrimary=null;_g.length=0}var Fh=O.ReactCurrentDispatcher,Tg=O.ReactCurrentBatchConfig,hl=0,Br=null,fn=null,vn=null,Lh=!1,cd=!1,ud=0,PC=0;function qn(){throw Error(r(321))}function kg(l,c){if(c===null)return!1;for(var f=0;f<c.length&&f<l.length;f++)if(!xa(l[f],c[f]))return!1;return!0}function Ng(l,c,f,x,b,N){if(hl=N,Br=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Fh.current=l===null||l.memoizedState===null?FC:LC,l=f(x,b),cd){N=0;do{if(cd=!1,ud=0,25<=N)throw Error(r(301));N+=1,vn=fn=null,c.updateQueue=null,Fh.current=MC,l=f(x,b)}while(cd)}if(Fh.current=Vh,c=fn!==null&&fn.next!==null,hl=0,vn=fn=Br=null,Lh=!1,c)throw Error(r(300));return l}function Sg(){var l=ud!==0;return ud=0,l}function qa(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Br.memoizedState=vn=l:vn=vn.next=l,vn}function Zs(){if(fn===null){var l=Br.alternate;l=l!==null?l.memoizedState:null}else l=fn.next;var c=vn===null?Br.memoizedState:vn.next;if(c!==null)vn=c,fn=l;else{if(l===null)throw Error(r(310));fn=l,l={memoizedState:fn.memoizedState,baseState:fn.baseState,baseQueue:fn.baseQueue,queue:fn.queue,next:null},vn===null?Br.memoizedState=vn=l:vn=vn.next=l}return vn}function dd(l,c){return typeof c=="function"?c(l):c}function Ag(l){var c=Zs(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var x=fn,b=x.baseQueue,N=f.pending;if(N!==null){if(b!==null){var L=b.next;b.next=N.next,N.next=L}x.baseQueue=b=N,f.pending=null}if(b!==null){N=b.next,x=x.baseState;var ae=L=null,oe=null,we=N;do{var qe=we.lane;if((hl&qe)===qe)oe!==null&&(oe=oe.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),x=we.hasEagerState?we.eagerState:l(x,we.action);else{var Xe={lane:qe,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};oe===null?(ae=oe=Xe,L=x):oe=oe.next=Xe,Br.lanes|=qe,fl|=qe}we=we.next}while(we!==null&&we!==N);oe===null?L=x:oe.next=ae,xa(x,c.memoizedState)||(gs=!0),c.memoizedState=x,c.baseState=L,c.baseQueue=oe,f.lastRenderedState=x}if(l=f.interleaved,l!==null){b=l;do N=b.lane,Br.lanes|=N,fl|=N,b=b.next;while(b!==l)}else b===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function Cg(l){var c=Zs(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var x=f.dispatch,b=f.pending,N=c.memoizedState;if(b!==null){f.pending=null;var L=b=b.next;do N=l(N,L.action),L=L.next;while(L!==b);xa(N,c.memoizedState)||(gs=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),f.lastRenderedState=N}return[N,x]}function v2(){}function b2(l,c){var f=Br,x=Zs(),b=c(),N=!xa(x.memoizedState,b);if(N&&(x.memoizedState=b,gs=!0),x=x.queue,jg(E2.bind(null,f,x,l),[l]),x.getSnapshot!==c||N||vn!==null&&vn.memoizedState.tag&1){if(f.flags|=2048,hd(9,_2.bind(null,f,x,b,c),void 0,null),bn===null)throw Error(r(349));(hl&30)!==0||w2(f,c,b)}return b}function w2(l,c,f){l.flags|=16384,l={getSnapshot:c,value:f},c=Br.updateQueue,c===null?(c={lastEffect:null,stores:null},Br.updateQueue=c,c.stores=[l]):(f=c.stores,f===null?c.stores=[l]:f.push(l))}function _2(l,c,f,x){c.value=f,c.getSnapshot=x,T2(c)&&k2(l)}function E2(l,c,f){return f(function(){T2(c)&&k2(l)})}function T2(l){var c=l.getSnapshot;l=l.value;try{var f=c();return!xa(l,f)}catch{return!0}}function k2(l){var c=Ei(l,1);c!==null&&_a(c,l,1,-1)}function N2(l){var c=qa();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:l},c.queue=l,l=l.dispatch=OC.bind(null,Br,l),[c.memoizedState,l]}function hd(l,c,f,x){return l={tag:l,create:c,destroy:f,deps:x,next:null},c=Br.updateQueue,c===null?(c={lastEffect:null,stores:null},Br.updateQueue=c,c.lastEffect=l.next=l):(f=c.lastEffect,f===null?c.lastEffect=l.next=l:(x=f.next,f.next=l,l.next=x,c.lastEffect=l)),l}function S2(){return Zs().memoizedState}function Mh(l,c,f,x){var b=qa();Br.flags|=l,b.memoizedState=hd(1|c,f,void 0,x===void 0?null:x)}function $h(l,c,f,x){var b=Zs();x=x===void 0?null:x;var N=void 0;if(fn!==null){var L=fn.memoizedState;if(N=L.destroy,x!==null&&kg(x,L.deps)){b.memoizedState=hd(c,f,N,x);return}}Br.flags|=l,b.memoizedState=hd(1|c,f,N,x)}function A2(l,c){return Mh(8390656,8,l,c)}function jg(l,c){return $h(2048,8,l,c)}function C2(l,c){return $h(4,2,l,c)}function j2(l,c){return $h(4,4,l,c)}function I2(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function P2(l,c,f){return f=f!=null?f.concat([l]):null,$h(4,4,I2.bind(null,c,l),f)}function Ig(){}function R2(l,c){var f=Zs();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&kg(c,x[1])?x[0]:(f.memoizedState=[l,c],l)}function D2(l,c){var f=Zs();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&kg(c,x[1])?x[0]:(l=l(),f.memoizedState=[l,c],l)}function O2(l,c,f){return(hl&21)===0?(l.baseState&&(l.baseState=!1,gs=!0),l.memoizedState=f):(xa(f,c)||(f=tl(),Br.lanes|=f,fl|=f,l.baseState=!0),c)}function RC(l,c){var f=Qt;Qt=f!==0&&4>f?f:4,l(!0);var x=Tg.transition;Tg.transition={};try{l(!1),c()}finally{Qt=f,Tg.transition=x}}function F2(){return Zs().memoizedState}function DC(l,c,f){var x=mo(l);if(f={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null},L2(l))M2(c,f);else if(f=p2(l,c,f,x),f!==null){var b=as();_a(f,l,x,b),$2(f,c,x)}}function OC(l,c,f){var x=mo(l),b={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null};if(L2(l))M2(c,b);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var L=c.lastRenderedState,ae=N(L,f);if(b.hasEagerState=!0,b.eagerState=ae,xa(ae,L)){var oe=c.interleaved;oe===null?(b.next=b,yg(c)):(b.next=oe.next,oe.next=b),c.interleaved=b;return}}catch{}finally{}f=p2(l,c,b,x),f!==null&&(b=as(),_a(f,l,x,b),$2(f,c,x))}}function L2(l){var c=l.alternate;return l===Br||c!==null&&c===Br}function M2(l,c){cd=Lh=!0;var f=l.pending;f===null?c.next=c:(c.next=f.next,f.next=c),l.pending=c}function $2(l,c,f){if((f&4194240)!==0){var x=c.lanes;x&=l.pendingLanes,f|=x,c.lanes=f,Zi(l,f)}}var Vh={readContext:Js,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},FC={readContext:Js,useCallback:function(l,c){return qa().memoizedState=[l,c===void 0?null:c],l},useContext:Js,useEffect:A2,useImperativeHandle:function(l,c,f){return f=f!=null?f.concat([l]):null,Mh(4194308,4,I2.bind(null,c,l),f)},useLayoutEffect:function(l,c){return Mh(4194308,4,l,c)},useInsertionEffect:function(l,c){return Mh(4,2,l,c)},useMemo:function(l,c){var f=qa();return c=c===void 0?null:c,l=l(),f.memoizedState=[l,c],l},useReducer:function(l,c,f){var x=qa();return c=f!==void 0?f(c):c,x.memoizedState=x.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},x.queue=l,l=l.dispatch=DC.bind(null,Br,l),[x.memoizedState,l]},useRef:function(l){var c=qa();return l={current:l},c.memoizedState=l},useState:N2,useDebugValue:Ig,useDeferredValue:function(l){return qa().memoizedState=l},useTransition:function(){var l=N2(!1),c=l[0];return l=RC.bind(null,l[1]),qa().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,f){var x=Br,b=qa();if(Fr){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),bn===null)throw Error(r(349));(hl&30)!==0||w2(x,c,f)}b.memoizedState=f;var N={value:f,getSnapshot:c};return b.queue=N,A2(E2.bind(null,x,N,l),[l]),x.flags|=2048,hd(9,_2.bind(null,x,N,f,c),void 0,null),f},useId:function(){var l=qa(),c=bn.identifierPrefix;if(Fr){var f=_i,x=wi;f=(x&~(1<<32-Ir(x)-1)).toString(32)+f,c=":"+c+"R"+f,f=ud++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=PC++,c=":"+c+"r"+f.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},LC={readContext:Js,useCallback:R2,useContext:Js,useEffect:jg,useImperativeHandle:P2,useInsertionEffect:C2,useLayoutEffect:j2,useMemo:D2,useReducer:Ag,useRef:S2,useState:function(){return Ag(dd)},useDebugValue:Ig,useDeferredValue:function(l){var c=Zs();return O2(c,fn.memoizedState,l)},useTransition:function(){var l=Ag(dd)[0],c=Zs().memoizedState;return[l,c]},useMutableSource:v2,useSyncExternalStore:b2,useId:F2,unstable_isNewReconciler:!1},MC={readContext:Js,useCallback:R2,useContext:Js,useEffect:jg,useImperativeHandle:P2,useInsertionEffect:C2,useLayoutEffect:j2,useMemo:D2,useReducer:Cg,useRef:S2,useState:function(){return Cg(dd)},useDebugValue:Ig,useDeferredValue:function(l){var c=Zs();return fn===null?c.memoizedState=l:O2(c,fn.memoizedState,l)},useTransition:function(){var l=Cg(dd)[0],c=Zs().memoizedState;return[l,c]},useMutableSource:v2,useSyncExternalStore:b2,useId:F2,unstable_isNewReconciler:!1};function va(l,c){if(l&&l.defaultProps){c=de({},c),l=l.defaultProps;for(var f in l)c[f]===void 0&&(c[f]=l[f]);return c}return c}function Pg(l,c,f,x){c=l.memoizedState,f=f(x,c),f=f==null?c:de({},c,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var Bh={isMounted:function(l){return(l=l._reactInternals)?Y(l)===l:!1},enqueueSetState:function(l,c,f){l=l._reactInternals;var x=as(),b=mo(l),N=Ti(x,b);N.payload=c,f!=null&&(N.callback=f),c=uo(l,N,b),c!==null&&(_a(c,l,b,x),Rh(c,l,b))},enqueueReplaceState:function(l,c,f){l=l._reactInternals;var x=as(),b=mo(l),N=Ti(x,b);N.tag=1,N.payload=c,f!=null&&(N.callback=f),c=uo(l,N,b),c!==null&&(_a(c,l,b,x),Rh(c,l,b))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var f=as(),x=mo(l),b=Ti(f,x);b.tag=2,c!=null&&(b.callback=c),c=uo(l,b,x),c!==null&&(_a(c,l,x,f),Rh(c,l,x))}};function V2(l,c,f,x,b,N,L){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,N,L):c.prototype&&c.prototype.isPureReactComponent?!Ju(f,x)||!Ju(b,N):!0}function B2(l,c,f){var x=!1,b=oo,N=c.contextType;return typeof N=="object"&&N!==null?N=Js(N):(b=ms(c)?ol:Wn.current,x=c.contextTypes,N=(x=x!=null)?Nc(l,b):oo),c=new c(f,N),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Bh,l.stateNode=c,c._reactInternals=l,x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=b,l.__reactInternalMemoizedMaskedChildContext=N),c}function U2(l,c,f,x){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,x),c.state!==l&&Bh.enqueueReplaceState(c,c.state,null)}function Rg(l,c,f,x){var b=l.stateNode;b.props=f,b.state=l.memoizedState,b.refs={},vg(l);var N=c.contextType;typeof N=="object"&&N!==null?b.context=Js(N):(N=ms(c)?ol:Wn.current,b.context=Nc(l,N)),b.state=l.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Pg(l,c,N,f),b.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(c=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),c!==b.state&&Bh.enqueueReplaceState(b,b.state,null),Dh(l,f,b,x),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308)}function Dc(l,c){try{var f="",x=c;do f+=ne(x),x=x.return;while(x);var b=f}catch(N){b=`
Error generating stack: `+N.message+`
`+N.stack}return{value:l,source:c,stack:b,digest:null}}function Dg(l,c,f){return{value:l,source:null,stack:f??null,digest:c??null}}function Og(l,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var $C=typeof WeakMap=="function"?WeakMap:Map;function z2(l,c,f){f=Ti(-1,f),f.tag=3,f.payload={element:null};var x=c.value;return f.callback=function(){Kh||(Kh=!0,Yg=x),Og(l,c)},f}function H2(l,c,f){f=Ti(-1,f),f.tag=3;var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var b=c.value;f.payload=function(){return x(b)},f.callback=function(){Og(l,c)}}var N=l.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(f.callback=function(){Og(l,c),typeof x!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var L=c.stack;this.componentDidCatch(c.value,{componentStack:L!==null?L:""})}),f}function W2(l,c,f){var x=l.pingCache;if(x===null){x=l.pingCache=new $C;var b=new Set;x.set(c,b)}else b=x.get(c),b===void 0&&(b=new Set,x.set(c,b));b.has(f)||(b.add(f),l=ZC.bind(null,l,c,f),c.then(l,l))}function q2(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function G2(l,c,f,x,b){return(l.mode&1)===0?(l===c?l.flags|=65536:(l.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=Ti(-1,1),c.tag=2,uo(f,c,1))),f.lanes|=1),l):(l.flags|=65536,l.lanes=b,l)}var VC=O.ReactCurrentOwner,gs=!1;function ss(l,c,f,x){c.child=l===null?f2(c,null,f,x):jc(c,l.child,f,x)}function K2(l,c,f,x,b){f=f.render;var N=c.ref;return Pc(c,b),x=Ng(l,c,f,x,N,b),f=Sg(),l!==null&&!gs?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~b,ki(l,c,b)):(Fr&&f&&cg(c),c.flags|=1,ss(l,c,x,b),c.child)}function X2(l,c,f,x,b){if(l===null){var N=f.type;return typeof N=="function"&&!nx(N)&&N.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=N,Y2(l,c,N,x,b)):(l=ef(f.type,null,x,c,c.mode,b),l.ref=c.ref,l.return=c,c.child=l)}if(N=l.child,(l.lanes&b)===0){var L=N.memoizedProps;if(f=f.compare,f=f!==null?f:Ju,f(L,x)&&l.ref===c.ref)return ki(l,c,b)}return c.flags|=1,l=xo(N,x),l.ref=c.ref,l.return=c,c.child=l}function Y2(l,c,f,x,b){if(l!==null){var N=l.memoizedProps;if(Ju(N,x)&&l.ref===c.ref)if(gs=!1,c.pendingProps=x=N,(l.lanes&b)!==0)(l.flags&131072)!==0&&(gs=!0);else return c.lanes=l.lanes,ki(l,c,b)}return Fg(l,c,f,x,b)}function Q2(l,c,f){var x=c.pendingProps,b=x.children,N=l!==null?l.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ar(Fc,Os),Os|=f;else{if((f&1073741824)===0)return l=N!==null?N.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,Ar(Fc,Os),Os|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=N!==null?N.baseLanes:f,Ar(Fc,Os),Os|=x}else N!==null?(x=N.baseLanes|f,c.memoizedState=null):x=f,Ar(Fc,Os),Os|=x;return ss(l,c,b,f),c.child}function J2(l,c){var f=c.ref;(l===null&&f!==null||l!==null&&l.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function Fg(l,c,f,x,b){var N=ms(f)?ol:Wn.current;return N=Nc(c,N),Pc(c,b),f=Ng(l,c,f,x,N,b),x=Sg(),l!==null&&!gs?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~b,ki(l,c,b)):(Fr&&x&&cg(c),c.flags|=1,ss(l,c,f,b),c.child)}function Z2(l,c,f,x,b){if(ms(f)){var N=!0;kh(c)}else N=!1;if(Pc(c,b),c.stateNode===null)zh(l,c),B2(c,f,x),Rg(c,f,x,b),x=!0;else if(l===null){var L=c.stateNode,ae=c.memoizedProps;L.props=ae;var oe=L.context,we=f.contextType;typeof we=="object"&&we!==null?we=Js(we):(we=ms(f)?ol:Wn.current,we=Nc(c,we));var qe=f.getDerivedStateFromProps,Xe=typeof qe=="function"||typeof L.getSnapshotBeforeUpdate=="function";Xe||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ae!==x||oe!==we)&&U2(c,L,x,we),co=!1;var He=c.memoizedState;L.state=He,Dh(c,x,L,b),oe=c.memoizedState,ae!==x||He!==oe||ps.current||co?(typeof qe=="function"&&(Pg(c,f,qe,x),oe=c.memoizedState),(ae=co||V2(c,f,ae,x,He,oe,we))?(Xe||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(c.flags|=4194308)):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=oe),L.props=x,L.state=oe,L.context=we,x=ae):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{L=c.stateNode,m2(l,c),ae=c.memoizedProps,we=c.type===c.elementType?ae:va(c.type,ae),L.props=we,Xe=c.pendingProps,He=L.context,oe=f.contextType,typeof oe=="object"&&oe!==null?oe=Js(oe):(oe=ms(f)?ol:Wn.current,oe=Nc(c,oe));var pt=f.getDerivedStateFromProps;(qe=typeof pt=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ae!==Xe||He!==oe)&&U2(c,L,x,oe),co=!1,He=c.memoizedState,L.state=He,Dh(c,x,L,b);var bt=c.memoizedState;ae!==Xe||He!==bt||ps.current||co?(typeof pt=="function"&&(Pg(c,f,pt,x),bt=c.memoizedState),(we=co||V2(c,f,we,x,He,bt,oe)||!1)?(qe||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(x,bt,oe),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(x,bt,oe)),typeof L.componentDidUpdate=="function"&&(c.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof L.componentDidUpdate!="function"||ae===l.memoizedProps&&He===l.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&He===l.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=bt),L.props=x,L.state=bt,L.context=oe,x=we):(typeof L.componentDidUpdate!="function"||ae===l.memoizedProps&&He===l.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&He===l.memoizedState||(c.flags|=1024),x=!1)}return Lg(l,c,f,x,N,b)}function Lg(l,c,f,x,b,N){J2(l,c);var L=(c.flags&128)!==0;if(!x&&!L)return b&&s2(c,f,!1),ki(l,c,N);x=c.stateNode,VC.current=c;var ae=L&&typeof f.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,l!==null&&L?(c.child=jc(c,l.child,null,N),c.child=jc(c,null,ae,N)):ss(l,c,ae,N),c.memoizedState=x.state,b&&s2(c,f,!0),c.child}function ew(l){var c=l.stateNode;c.pendingContext?r2(l,c.pendingContext,c.pendingContext!==c.context):c.context&&r2(l,c.context,!1),bg(l,c.containerInfo)}function tw(l,c,f,x,b){return Cc(),fg(b),c.flags|=256,ss(l,c,f,x),c.child}var Mg={dehydrated:null,treeContext:null,retryLane:0};function $g(l){return{baseLanes:l,cachePool:null,transitions:null}}function rw(l,c,f){var x=c.pendingProps,b=Vr.current,N=!1,L=(c.flags&128)!==0,ae;if((ae=L)||(ae=l!==null&&l.memoizedState===null?!1:(b&2)!==0),ae?(N=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(b|=1),Ar(Vr,b&1),l===null)return hg(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((c.mode&1)===0?c.lanes=1:l.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(L=x.children,l=x.fallback,N?(x=c.mode,N=c.child,L={mode:"hidden",children:L},(x&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=L):N=tf(L,x,0,null),l=xl(l,x,f,null),N.return=c,l.return=c,N.sibling=l,c.child=N,c.child.memoizedState=$g(f),c.memoizedState=Mg,l):Vg(c,L));if(b=l.memoizedState,b!==null&&(ae=b.dehydrated,ae!==null))return BC(l,c,L,x,ae,b,f);if(N){N=x.fallback,L=c.mode,b=l.child,ae=b.sibling;var oe={mode:"hidden",children:x.children};return(L&1)===0&&c.child!==b?(x=c.child,x.childLanes=0,x.pendingProps=oe,c.deletions=null):(x=xo(b,oe),x.subtreeFlags=b.subtreeFlags&14680064),ae!==null?N=xo(ae,N):(N=xl(N,L,f,null),N.flags|=2),N.return=c,x.return=c,x.sibling=N,c.child=x,x=N,N=c.child,L=l.child.memoizedState,L=L===null?$g(f):{baseLanes:L.baseLanes|f,cachePool:null,transitions:L.transitions},N.memoizedState=L,N.childLanes=l.childLanes&~f,c.memoizedState=Mg,x}return N=l.child,l=N.sibling,x=xo(N,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=f),x.return=c,x.sibling=null,l!==null&&(f=c.deletions,f===null?(c.deletions=[l],c.flags|=16):f.push(l)),c.child=x,c.memoizedState=null,x}function Vg(l,c){return c=tf({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function Uh(l,c,f,x){return x!==null&&fg(x),jc(c,l.child,null,f),l=Vg(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function BC(l,c,f,x,b,N,L){if(f)return c.flags&256?(c.flags&=-257,x=Dg(Error(r(422))),Uh(l,c,L,x)):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(N=x.fallback,b=c.mode,x=tf({mode:"visible",children:x.children},b,0,null),N=xl(N,b,L,null),N.flags|=2,x.return=c,N.return=c,x.sibling=N,c.child=x,(c.mode&1)!==0&&jc(c,l.child,null,L),c.child.memoizedState=$g(L),c.memoizedState=Mg,N);if((c.mode&1)===0)return Uh(l,c,L,null);if(b.data==="$!"){if(x=b.nextSibling&&b.nextSibling.dataset,x)var ae=x.dgst;return x=ae,N=Error(r(419)),x=Dg(N,x,void 0),Uh(l,c,L,x)}if(ae=(L&l.childLanes)!==0,gs||ae){if(x=bn,x!==null){switch(L&-L){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(x.suspendedLanes|L))!==0?0:b,b!==0&&b!==N.retryLane&&(N.retryLane=b,Ei(l,b),_a(x,l,b,-1))}return rx(),x=Dg(Error(r(421))),Uh(l,c,L,x)}return b.data==="$?"?(c.flags|=128,c.child=l.child,c=ej.bind(null,l),b._reactRetry=c,null):(l=N.treeContext,Ds=ao(b.nextSibling),Rs=c,Fr=!0,ya=null,l!==null&&(Ys[Qs++]=wi,Ys[Qs++]=_i,Ys[Qs++]=ll,wi=l.id,_i=l.overflow,ll=c),c=Vg(c,x.children),c.flags|=4096,c)}function nw(l,c,f){l.lanes|=c;var x=l.alternate;x!==null&&(x.lanes|=c),xg(l.return,c,f)}function Bg(l,c,f,x,b){var N=l.memoizedState;N===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:f,tailMode:b}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=x,N.tail=f,N.tailMode=b)}function sw(l,c,f){var x=c.pendingProps,b=x.revealOrder,N=x.tail;if(ss(l,c,x.children,f),x=Vr.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&nw(l,f,c);else if(l.tag===19)nw(l,f,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}if(Ar(Vr,x),(c.mode&1)===0)c.memoizedState=null;else switch(b){case"forwards":for(f=c.child,b=null;f!==null;)l=f.alternate,l!==null&&Oh(l)===null&&(b=f),f=f.sibling;f=b,f===null?(b=c.child,c.child=null):(b=f.sibling,f.sibling=null),Bg(c,!1,b,f,N);break;case"backwards":for(f=null,b=c.child,c.child=null;b!==null;){if(l=b.alternate,l!==null&&Oh(l)===null){c.child=b;break}l=b.sibling,b.sibling=f,f=b,b=l}Bg(c,!0,f,null,N);break;case"together":Bg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function zh(l,c){(c.mode&1)===0&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function ki(l,c,f){if(l!==null&&(c.dependencies=l.dependencies),fl|=c.lanes,(f&c.childLanes)===0)return null;if(l!==null&&c.child!==l.child)throw Error(r(153));if(c.child!==null){for(l=c.child,f=xo(l,l.pendingProps),c.child=f,f.return=c;l.sibling!==null;)l=l.sibling,f=f.sibling=xo(l,l.pendingProps),f.return=c;f.sibling=null}return c.child}function UC(l,c,f){switch(c.tag){case 3:ew(c),Cc();break;case 5:y2(c);break;case 1:ms(c.type)&&kh(c);break;case 4:bg(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,b=c.memoizedProps.value;Ar(Ih,x._currentValue),x._currentValue=b;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(Ar(Vr,Vr.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?rw(l,c,f):(Ar(Vr,Vr.current&1),l=ki(l,c,f),l!==null?l.sibling:null);Ar(Vr,Vr.current&1);break;case 19:if(x=(f&c.childLanes)!==0,(l.flags&128)!==0){if(x)return sw(l,c,f);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Ar(Vr,Vr.current),x)break;return null;case 22:case 23:return c.lanes=0,Q2(l,c,f)}return ki(l,c,f)}var aw,Ug,iw,ow;aw=function(l,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)l.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Ug=function(){},iw=function(l,c,f,x){var b=l.memoizedProps;if(b!==x){l=c.stateNode,dl(Wa.current);var N=null;switch(f){case"input":b=Oe(l,b),x=Oe(l,x),N=[];break;case"select":b=de({},b,{value:void 0}),x=de({},x,{value:void 0}),N=[];break;case"textarea":b=Ye(l,b),x=Ye(l,x),N=[];break;default:typeof b.onClick!="function"&&typeof x.onClick=="function"&&(l.onclick=_h)}Ze(f,x);var L;f=null;for(we in b)if(!x.hasOwnProperty(we)&&b.hasOwnProperty(we)&&b[we]!=null)if(we==="style"){var ae=b[we];for(L in ae)ae.hasOwnProperty(L)&&(f||(f={}),f[L]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(s.hasOwnProperty(we)?N||(N=[]):(N=N||[]).push(we,null));for(we in x){var oe=x[we];if(ae=b?.[we],x.hasOwnProperty(we)&&oe!==ae&&(oe!=null||ae!=null))if(we==="style")if(ae){for(L in ae)!ae.hasOwnProperty(L)||oe&&oe.hasOwnProperty(L)||(f||(f={}),f[L]="");for(L in oe)oe.hasOwnProperty(L)&&ae[L]!==oe[L]&&(f||(f={}),f[L]=oe[L])}else f||(N||(N=[]),N.push(we,f)),f=oe;else we==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,ae=ae?ae.__html:void 0,oe!=null&&ae!==oe&&(N=N||[]).push(we,oe)):we==="children"?typeof oe!="string"&&typeof oe!="number"||(N=N||[]).push(we,""+oe):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(s.hasOwnProperty(we)?(oe!=null&&we==="onScroll"&&Pr("scroll",l),N||ae===oe||(N=[])):(N=N||[]).push(we,oe))}f&&(N=N||[]).push("style",f);var we=N;(c.updateQueue=we)&&(c.flags|=4)}},ow=function(l,c,f,x){f!==x&&(c.flags|=4)};function fd(l,c){if(!Fr)switch(l.tailMode){case"hidden":c=l.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Gn(l){var c=l.alternate!==null&&l.alternate.child===l.child,f=0,x=0;if(c)for(var b=l.child;b!==null;)f|=b.lanes|b.childLanes,x|=b.subtreeFlags&14680064,x|=b.flags&14680064,b.return=l,b=b.sibling;else for(b=l.child;b!==null;)f|=b.lanes|b.childLanes,x|=b.subtreeFlags,x|=b.flags,b.return=l,b=b.sibling;return l.subtreeFlags|=x,l.childLanes=f,c}function zC(l,c,f){var x=c.pendingProps;switch(ug(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(c),null;case 1:return ms(c.type)&&Th(),Gn(c),null;case 3:return x=c.stateNode,Rc(),Rr(ps),Rr(Wn),Eg(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(l===null||l.child===null)&&(Ch(c)?c.flags|=4:l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ya!==null&&(Zg(ya),ya=null))),Ug(l,c),Gn(c),null;case 5:wg(c);var b=dl(ld.current);if(f=c.type,l!==null&&c.stateNode!=null)iw(l,c,f,x,b),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Gn(c),null}if(l=dl(Wa.current),Ch(c)){x=c.stateNode,f=c.type;var N=c.memoizedProps;switch(x[Ha]=c,x[nd]=N,l=(c.mode&1)!==0,f){case"dialog":Pr("cancel",x),Pr("close",x);break;case"iframe":case"object":case"embed":Pr("load",x);break;case"video":case"audio":for(b=0;b<ed.length;b++)Pr(ed[b],x);break;case"source":Pr("error",x);break;case"img":case"image":case"link":Pr("error",x),Pr("load",x);break;case"details":Pr("toggle",x);break;case"input":fr(x,N),Pr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!N.multiple},Pr("invalid",x);break;case"textarea":ct(x,N),Pr("invalid",x)}Ze(f,N),b=null;for(var L in N)if(N.hasOwnProperty(L)){var ae=N[L];L==="children"?typeof ae=="string"?x.textContent!==ae&&(N.suppressHydrationWarning!==!0&&wh(x.textContent,ae,l),b=["children",ae]):typeof ae=="number"&&x.textContent!==""+ae&&(N.suppressHydrationWarning!==!0&&wh(x.textContent,ae,l),b=["children",""+ae]):s.hasOwnProperty(L)&&ae!=null&&L==="onScroll"&&Pr("scroll",x)}switch(f){case"input":it(x),pr(x,N,!0);break;case"textarea":it(x),At(x);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(x.onclick=_h)}x=b,c.updateQueue=x,x!==null&&(c.flags|=4)}else{L=b.nodeType===9?b:b.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=wt(f)),l==="http://www.w3.org/1999/xhtml"?f==="script"?(l=L.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof x.is=="string"?l=L.createElement(f,{is:x.is}):(l=L.createElement(f),f==="select"&&(L=l,x.multiple?L.multiple=!0:x.size&&(L.size=x.size))):l=L.createElementNS(l,f),l[Ha]=c,l[nd]=x,aw(l,c,!1,!1),c.stateNode=l;e:{switch(L=vt(f,x),f){case"dialog":Pr("cancel",l),Pr("close",l),b=x;break;case"iframe":case"object":case"embed":Pr("load",l),b=x;break;case"video":case"audio":for(b=0;b<ed.length;b++)Pr(ed[b],l);b=x;break;case"source":Pr("error",l),b=x;break;case"img":case"image":case"link":Pr("error",l),Pr("load",l),b=x;break;case"details":Pr("toggle",l),b=x;break;case"input":fr(l,x),b=Oe(l,x),Pr("invalid",l);break;case"option":b=x;break;case"select":l._wrapperState={wasMultiple:!!x.multiple},b=de({},x,{value:void 0}),Pr("invalid",l);break;case"textarea":ct(l,x),b=Ye(l,x),Pr("invalid",l);break;default:b=x}Ze(f,b),ae=b;for(N in ae)if(ae.hasOwnProperty(N)){var oe=ae[N];N==="style"?ke(l,oe):N==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,oe!=null&&ir(l,oe)):N==="children"?typeof oe=="string"?(f!=="textarea"||oe!=="")&&Q(l,oe):typeof oe=="number"&&Q(l,""+oe):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?oe!=null&&N==="onScroll"&&Pr("scroll",l):oe!=null&&U(l,N,oe,L))}switch(f){case"input":it(l),pr(l,x,!1);break;case"textarea":it(l),At(l);break;case"option":x.value!=null&&l.setAttribute("value",""+Be(x.value));break;case"select":l.multiple=!!x.multiple,N=x.value,N!=null?le(l,!!x.multiple,N,!1):x.defaultValue!=null&&le(l,!!x.multiple,x.defaultValue,!0);break;default:typeof b.onClick=="function"&&(l.onclick=_h)}switch(f){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Gn(c),null;case 6:if(l&&c.stateNode!=null)ow(l,c,l.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(f=dl(ld.current),dl(Wa.current),Ch(c)){if(x=c.stateNode,f=c.memoizedProps,x[Ha]=c,(N=x.nodeValue!==f)&&(l=Rs,l!==null))switch(l.tag){case 3:wh(x.nodeValue,f,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&wh(x.nodeValue,f,(l.mode&1)!==0)}N&&(c.flags|=4)}else x=(f.nodeType===9?f:f.ownerDocument).createTextNode(x),x[Ha]=c,c.stateNode=x}return Gn(c),null;case 13:if(Rr(Vr),x=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Fr&&Ds!==null&&(c.mode&1)!==0&&(c.flags&128)===0)u2(),Cc(),c.flags|=98560,N=!1;else if(N=Ch(c),x!==null&&x.dehydrated!==null){if(l===null){if(!N)throw Error(r(318));if(N=c.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Ha]=c}else Cc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Gn(c),N=!1}else ya!==null&&(Zg(ya),ya=null),N=!0;if(!N)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(x=x!==null,x!==(l!==null&&l.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(l===null||(Vr.current&1)!==0?pn===0&&(pn=3):rx())),c.updateQueue!==null&&(c.flags|=4),Gn(c),null);case 4:return Rc(),Ug(l,c),l===null&&td(c.stateNode.containerInfo),Gn(c),null;case 10:return gg(c.type._context),Gn(c),null;case 17:return ms(c.type)&&Th(),Gn(c),null;case 19:if(Rr(Vr),N=c.memoizedState,N===null)return Gn(c),null;if(x=(c.flags&128)!==0,L=N.rendering,L===null)if(x)fd(N,!1);else{if(pn!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(L=Oh(l),L!==null){for(c.flags|=128,fd(N,!1),x=L.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=f,f=c.child;f!==null;)N=f,l=x,N.flags&=14680066,L=N.alternate,L===null?(N.childLanes=0,N.lanes=l,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=L.childLanes,N.lanes=L.lanes,N.child=L.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=L.memoizedProps,N.memoizedState=L.memoizedState,N.updateQueue=L.updateQueue,N.type=L.type,l=L.dependencies,N.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),f=f.sibling;return Ar(Vr,Vr.current&1|2),c.child}l=l.sibling}N.tail!==null&&We()>Lc&&(c.flags|=128,x=!0,fd(N,!1),c.lanes=4194304)}else{if(!x)if(l=Oh(L),l!==null){if(c.flags|=128,x=!0,f=l.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),fd(N,!0),N.tail===null&&N.tailMode==="hidden"&&!L.alternate&&!Fr)return Gn(c),null}else 2*We()-N.renderingStartTime>Lc&&f!==1073741824&&(c.flags|=128,x=!0,fd(N,!1),c.lanes=4194304);N.isBackwards?(L.sibling=c.child,c.child=L):(f=N.last,f!==null?f.sibling=L:c.child=L,N.last=L)}return N.tail!==null?(c=N.tail,N.rendering=c,N.tail=c.sibling,N.renderingStartTime=We(),c.sibling=null,f=Vr.current,Ar(Vr,x?f&1|2:f&1),c):(Gn(c),null);case 22:case 23:return tx(),x=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(Os&1073741824)!==0&&(Gn(c),c.subtreeFlags&6&&(c.flags|=8192)):Gn(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function HC(l,c){switch(ug(c),c.tag){case 1:return ms(c.type)&&Th(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return Rc(),Rr(ps),Rr(Wn),Eg(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 5:return wg(c),null;case 13:if(Rr(Vr),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Cc()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return Rr(Vr),null;case 4:return Rc(),null;case 10:return gg(c.type._context),null;case 22:case 23:return tx(),null;case 24:return null;default:return null}}var Hh=!1,Kn=!1,WC=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Oc(l,c){var f=l.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(x){qr(l,c,x)}else f.current=null}function zg(l,c,f){try{f()}catch(x){qr(l,c,x)}}var lw=!1;function qC(l,c){if(tg=ro,l=Vb(),Gm(l)){if("selectionStart"in l)var f={start:l.selectionStart,end:l.selectionEnd};else e:{f=(f=l.ownerDocument)&&f.defaultView||window;var x=f.getSelection&&f.getSelection();if(x&&x.rangeCount!==0){f=x.anchorNode;var b=x.anchorOffset,N=x.focusNode;x=x.focusOffset;try{f.nodeType,N.nodeType}catch{f=null;break e}var L=0,ae=-1,oe=-1,we=0,qe=0,Xe=l,He=null;t:for(;;){for(var pt;Xe!==f||b!==0&&Xe.nodeType!==3||(ae=L+b),Xe!==N||x!==0&&Xe.nodeType!==3||(oe=L+x),Xe.nodeType===3&&(L+=Xe.nodeValue.length),(pt=Xe.firstChild)!==null;)He=Xe,Xe=pt;for(;;){if(Xe===l)break t;if(He===f&&++we===b&&(ae=L),He===N&&++qe===x&&(oe=L),(pt=Xe.nextSibling)!==null)break;Xe=He,He=Xe.parentNode}Xe=pt}f=ae===-1||oe===-1?null:{start:ae,end:oe}}else f=null}f=f||{start:0,end:0}}else f=null;for(rg={focusedElem:l,selectionRange:f},ro=!1,xt=c;xt!==null;)if(c=xt,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,xt=l;else for(;xt!==null;){c=xt;try{var bt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var _t=bt.memoizedProps,Qr=bt.memoizedState,pe=c.stateNode,ce=pe.getSnapshotBeforeUpdate(c.elementType===c.type?_t:va(c.type,_t),Qr);pe.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:var ye=c.stateNode.containerInfo;ye.nodeType===1?ye.textContent="":ye.nodeType===9&&ye.documentElement&&ye.removeChild(ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Qe){qr(c,c.return,Qe)}if(l=c.sibling,l!==null){l.return=c.return,xt=l;break}xt=c.return}return bt=lw,lw=!1,bt}function pd(l,c,f){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var b=x=x.next;do{if((b.tag&l)===l){var N=b.destroy;b.destroy=void 0,N!==void 0&&zg(c,f,N)}b=b.next}while(b!==x)}}function Wh(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&l)===l){var x=f.create;f.destroy=x()}f=f.next}while(f!==c)}}function Hg(l){var c=l.ref;if(c!==null){var f=l.stateNode;switch(l.tag){case 5:l=f;break;default:l=f}typeof c=="function"?c(l):c.current=l}}function cw(l){var c=l.alternate;c!==null&&(l.alternate=null,cw(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&(delete c[Ha],delete c[nd],delete c[ig],delete c[AC],delete c[CC])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function uw(l){return l.tag===5||l.tag===3||l.tag===4}function dw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||uw(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Wg(l,c,f){var x=l.tag;if(x===5||x===6)l=l.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(l,c):f.insertBefore(l,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(l,f)):(c=f,c.appendChild(l)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=_h));else if(x!==4&&(l=l.child,l!==null))for(Wg(l,c,f),l=l.sibling;l!==null;)Wg(l,c,f),l=l.sibling}function qg(l,c,f){var x=l.tag;if(x===5||x===6)l=l.stateNode,c?f.insertBefore(l,c):f.appendChild(l);else if(x!==4&&(l=l.child,l!==null))for(qg(l,c,f),l=l.sibling;l!==null;)qg(l,c,f),l=l.sibling}var Cn=null,ba=!1;function ho(l,c,f){for(f=f.child;f!==null;)hw(l,c,f),f=f.sibling}function hw(l,c,f){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(rs,f)}catch{}switch(f.tag){case 5:Kn||Oc(f,c);case 6:var x=Cn,b=ba;Cn=null,ho(l,c,f),Cn=x,ba=b,Cn!==null&&(ba?(l=Cn,f=f.stateNode,l.nodeType===8?l.parentNode.removeChild(f):l.removeChild(f)):Cn.removeChild(f.stateNode));break;case 18:Cn!==null&&(ba?(l=Cn,f=f.stateNode,l.nodeType===8?ag(l.parentNode,f):l.nodeType===1&&ag(l,f),ma(l)):ag(Cn,f.stateNode));break;case 4:x=Cn,b=ba,Cn=f.stateNode.containerInfo,ba=!0,ho(l,c,f),Cn=x,ba=b;break;case 0:case 11:case 14:case 15:if(!Kn&&(x=f.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){b=x=x.next;do{var N=b,L=N.destroy;N=N.tag,L!==void 0&&((N&2)!==0||(N&4)!==0)&&zg(f,c,L),b=b.next}while(b!==x)}ho(l,c,f);break;case 1:if(!Kn&&(Oc(f,c),x=f.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=f.memoizedProps,x.state=f.memoizedState,x.componentWillUnmount()}catch(ae){qr(f,c,ae)}ho(l,c,f);break;case 21:ho(l,c,f);break;case 22:f.mode&1?(Kn=(x=Kn)||f.memoizedState!==null,ho(l,c,f),Kn=x):ho(l,c,f);break;default:ho(l,c,f)}}function fw(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var f=l.stateNode;f===null&&(f=l.stateNode=new WC),c.forEach(function(x){var b=tj.bind(null,l,x);f.has(x)||(f.add(x),x.then(b,b))})}}function wa(l,c){var f=c.deletions;if(f!==null)for(var x=0;x<f.length;x++){var b=f[x];try{var N=l,L=c,ae=L;e:for(;ae!==null;){switch(ae.tag){case 5:Cn=ae.stateNode,ba=!1;break e;case 3:Cn=ae.stateNode.containerInfo,ba=!0;break e;case 4:Cn=ae.stateNode.containerInfo,ba=!0;break e}ae=ae.return}if(Cn===null)throw Error(r(160));hw(N,L,b),Cn=null,ba=!1;var oe=b.alternate;oe!==null&&(oe.return=null),b.return=null}catch(we){qr(b,c,we)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)pw(c,l),c=c.sibling}function pw(l,c){var f=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(wa(c,l),Ga(l),x&4){try{pd(3,l,l.return),Wh(3,l)}catch(_t){qr(l,l.return,_t)}try{pd(5,l,l.return)}catch(_t){qr(l,l.return,_t)}}break;case 1:wa(c,l),Ga(l),x&512&&f!==null&&Oc(f,f.return);break;case 5:if(wa(c,l),Ga(l),x&512&&f!==null&&Oc(f,f.return),l.flags&32){var b=l.stateNode;try{Q(b,"")}catch(_t){qr(l,l.return,_t)}}if(x&4&&(b=l.stateNode,b!=null)){var N=l.memoizedProps,L=f!==null?f.memoizedProps:N,ae=l.type,oe=l.updateQueue;if(l.updateQueue=null,oe!==null)try{ae==="input"&&N.type==="radio"&&N.name!=null&&Mt(b,N),vt(ae,L);var we=vt(ae,N);for(L=0;L<oe.length;L+=2){var qe=oe[L],Xe=oe[L+1];qe==="style"?ke(b,Xe):qe==="dangerouslySetInnerHTML"?ir(b,Xe):qe==="children"?Q(b,Xe):U(b,qe,Xe,we)}switch(ae){case"input":Re(b,N);break;case"textarea":ut(b,N);break;case"select":var He=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!N.multiple;var pt=N.value;pt!=null?le(b,!!N.multiple,pt,!1):He!==!!N.multiple&&(N.defaultValue!=null?le(b,!!N.multiple,N.defaultValue,!0):le(b,!!N.multiple,N.multiple?[]:"",!1))}b[nd]=N}catch(_t){qr(l,l.return,_t)}}break;case 6:if(wa(c,l),Ga(l),x&4){if(l.stateNode===null)throw Error(r(162));b=l.stateNode,N=l.memoizedProps;try{b.nodeValue=N}catch(_t){qr(l,l.return,_t)}}break;case 3:if(wa(c,l),Ga(l),x&4&&f!==null&&f.memoizedState.isDehydrated)try{ma(c.containerInfo)}catch(_t){qr(l,l.return,_t)}break;case 4:wa(c,l),Ga(l);break;case 13:wa(c,l),Ga(l),b=l.child,b.flags&8192&&(N=b.memoizedState!==null,b.stateNode.isHidden=N,!N||b.alternate!==null&&b.alternate.memoizedState!==null||(Xg=We())),x&4&&fw(l);break;case 22:if(qe=f!==null&&f.memoizedState!==null,l.mode&1?(Kn=(we=Kn)||qe,wa(c,l),Kn=we):wa(c,l),Ga(l),x&8192){if(we=l.memoizedState!==null,(l.stateNode.isHidden=we)&&!qe&&(l.mode&1)!==0)for(xt=l,qe=l.child;qe!==null;){for(Xe=xt=qe;xt!==null;){switch(He=xt,pt=He.child,He.tag){case 0:case 11:case 14:case 15:pd(4,He,He.return);break;case 1:Oc(He,He.return);var bt=He.stateNode;if(typeof bt.componentWillUnmount=="function"){x=He,f=He.return;try{c=x,bt.props=c.memoizedProps,bt.state=c.memoizedState,bt.componentWillUnmount()}catch(_t){qr(x,f,_t)}}break;case 5:Oc(He,He.return);break;case 22:if(He.memoizedState!==null){xw(Xe);continue}}pt!==null?(pt.return=He,xt=pt):xw(Xe)}qe=qe.sibling}e:for(qe=null,Xe=l;;){if(Xe.tag===5){if(qe===null){qe=Xe;try{b=Xe.stateNode,we?(N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(ae=Xe.stateNode,oe=Xe.memoizedProps.style,L=oe!=null&&oe.hasOwnProperty("display")?oe.display:null,ae.style.display=be("display",L))}catch(_t){qr(l,l.return,_t)}}}else if(Xe.tag===6){if(qe===null)try{Xe.stateNode.nodeValue=we?"":Xe.memoizedProps}catch(_t){qr(l,l.return,_t)}}else if((Xe.tag!==22&&Xe.tag!==23||Xe.memoizedState===null||Xe===l)&&Xe.child!==null){Xe.child.return=Xe,Xe=Xe.child;continue}if(Xe===l)break e;for(;Xe.sibling===null;){if(Xe.return===null||Xe.return===l)break e;qe===Xe&&(qe=null),Xe=Xe.return}qe===Xe&&(qe=null),Xe.sibling.return=Xe.return,Xe=Xe.sibling}}break;case 19:wa(c,l),Ga(l),x&4&&fw(l);break;case 21:break;default:wa(c,l),Ga(l)}}function Ga(l){var c=l.flags;if(c&2){try{e:{for(var f=l.return;f!==null;){if(uw(f)){var x=f;break e}f=f.return}throw Error(r(160))}switch(x.tag){case 5:var b=x.stateNode;x.flags&32&&(Q(b,""),x.flags&=-33);var N=dw(l);qg(l,N,b);break;case 3:case 4:var L=x.stateNode.containerInfo,ae=dw(l);Wg(l,ae,L);break;default:throw Error(r(161))}}catch(oe){qr(l,l.return,oe)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function GC(l,c,f){xt=l,mw(l)}function mw(l,c,f){for(var x=(l.mode&1)!==0;xt!==null;){var b=xt,N=b.child;if(b.tag===22&&x){var L=b.memoizedState!==null||Hh;if(!L){var ae=b.alternate,oe=ae!==null&&ae.memoizedState!==null||Kn;ae=Hh;var we=Kn;if(Hh=L,(Kn=oe)&&!we)for(xt=b;xt!==null;)L=xt,oe=L.child,L.tag===22&&L.memoizedState!==null?yw(b):oe!==null?(oe.return=L,xt=oe):yw(b);for(;N!==null;)xt=N,mw(N),N=N.sibling;xt=b,Hh=ae,Kn=we}gw(l)}else(b.subtreeFlags&8772)!==0&&N!==null?(N.return=b,xt=N):gw(l)}}function gw(l){for(;xt!==null;){var c=xt;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Kn||Wh(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Kn)if(f===null)x.componentDidMount();else{var b=c.elementType===c.type?f.memoizedProps:va(c.type,f.memoizedProps);x.componentDidUpdate(b,f.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var N=c.updateQueue;N!==null&&x2(c,N,x);break;case 3:var L=c.updateQueue;if(L!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}x2(c,L,f)}break;case 5:var ae=c.stateNode;if(f===null&&c.flags&4){f=ae;var oe=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":oe.autoFocus&&f.focus();break;case"img":oe.src&&(f.src=oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var we=c.alternate;if(we!==null){var qe=we.memoizedState;if(qe!==null){var Xe=qe.dehydrated;Xe!==null&&ma(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kn||c.flags&512&&Hg(c)}catch(He){qr(c,c.return,He)}}if(c===l){xt=null;break}if(f=c.sibling,f!==null){f.return=c.return,xt=f;break}xt=c.return}}function xw(l){for(;xt!==null;){var c=xt;if(c===l){xt=null;break}var f=c.sibling;if(f!==null){f.return=c.return,xt=f;break}xt=c.return}}function yw(l){for(;xt!==null;){var c=xt;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Wh(4,c)}catch(oe){qr(c,f,oe)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var b=c.return;try{x.componentDidMount()}catch(oe){qr(c,b,oe)}}var N=c.return;try{Hg(c)}catch(oe){qr(c,N,oe)}break;case 5:var L=c.return;try{Hg(c)}catch(oe){qr(c,L,oe)}}}catch(oe){qr(c,c.return,oe)}if(c===l){xt=null;break}var ae=c.sibling;if(ae!==null){ae.return=c.return,xt=ae;break}xt=c.return}}var KC=Math.ceil,qh=O.ReactCurrentDispatcher,Gg=O.ReactCurrentOwner,ea=O.ReactCurrentBatchConfig,ar=0,bn=null,nn=null,jn=0,Os=0,Fc=io(0),pn=0,md=null,fl=0,Gh=0,Kg=0,gd=null,xs=null,Xg=0,Lc=1/0,Ni=null,Kh=!1,Yg=null,fo=null,Xh=!1,po=null,Yh=0,xd=0,Qg=null,Qh=-1,Jh=0;function as(){return(ar&6)!==0?We():Qh!==-1?Qh:Qh=We()}function mo(l){return(l.mode&1)===0?1:(ar&2)!==0&&jn!==0?jn&-jn:IC.transition!==null?(Jh===0&&(Jh=tl()),Jh):(l=Qt,l!==0||(l=window.event,l=l===void 0?16:Wu(l.type)),l)}function _a(l,c,f,x){if(50<xd)throw xd=0,Qg=null,Error(r(185));Ji(l,f,x),((ar&2)===0||l!==bn)&&(l===bn&&((ar&2)===0&&(Gh|=f),pn===4&&go(l,jn)),ys(l,x),f===1&&ar===0&&(c.mode&1)===0&&(Lc=We()+500,Nh&&lo()))}function ys(l,c){var f=l.callbackNode;pi(l,c);var x=el(l,l===bn?jn:0);if(x===0)f!==null&&Je(f),l.callbackNode=null,l.callbackPriority=0;else if(c=x&-x,l.callbackPriority!==c){if(f!=null&&Je(f),c===1)l.tag===0?jC(bw.bind(null,l)):a2(bw.bind(null,l)),NC(function(){(ar&6)===0&&lo()}),f=null;else{switch(eo(x)){case 1:f=nr;break;case 4:f=Jt;break;case 16:f=sr;break;case 536870912:f=Gs;break;default:f=sr}f=Aw(f,vw.bind(null,l))}l.callbackPriority=c,l.callbackNode=f}}function vw(l,c){if(Qh=-1,Jh=0,(ar&6)!==0)throw Error(r(327));var f=l.callbackNode;if(Mc()&&l.callbackNode!==f)return null;var x=el(l,l===bn?jn:0);if(x===0)return null;if((x&30)!==0||(x&l.expiredLanes)!==0||c)c=Zh(l,x);else{c=x;var b=ar;ar|=2;var N=_w();(bn!==l||jn!==c)&&(Ni=null,Lc=We()+500,ml(l,c));do try{QC();break}catch(ae){ww(l,ae)}while(!0);mg(),qh.current=N,ar=b,nn!==null?c=0:(bn=null,jn=0,c=pn)}if(c!==0){if(c===2&&(b=js(l),b!==0&&(x=b,c=Jg(l,b))),c===1)throw f=md,ml(l,0),go(l,x),ys(l,We()),f;if(c===6)go(l,x);else{if(b=l.current.alternate,(x&30)===0&&!XC(b)&&(c=Zh(l,x),c===2&&(N=js(l),N!==0&&(x=N,c=Jg(l,N))),c===1))throw f=md,ml(l,0),go(l,x),ys(l,We()),f;switch(l.finishedWork=b,l.finishedLanes=x,c){case 0:case 1:throw Error(r(345));case 2:gl(l,xs,Ni);break;case 3:if(go(l,x),(x&130023424)===x&&(c=Xg+500-We(),10<c)){if(el(l,0)!==0)break;if(b=l.suspendedLanes,(b&x)!==x){as(),l.pingedLanes|=l.suspendedLanes&b;break}l.timeoutHandle=sg(gl.bind(null,l,xs,Ni),c);break}gl(l,xs,Ni);break;case 4:if(go(l,x),(x&4194240)===x)break;for(c=l.eventTimes,b=-1;0<x;){var L=31-Ir(x);N=1<<L,L=c[L],L>b&&(b=L),x&=~N}if(x=b,x=We()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*KC(x/1960))-x,10<x){l.timeoutHandle=sg(gl.bind(null,l,xs,Ni),x);break}gl(l,xs,Ni);break;case 5:gl(l,xs,Ni);break;default:throw Error(r(329))}}}return ys(l,We()),l.callbackNode===f?vw.bind(null,l):null}function Jg(l,c){var f=gd;return l.current.memoizedState.isDehydrated&&(ml(l,c).flags|=256),l=Zh(l,c),l!==2&&(c=xs,xs=f,c!==null&&Zg(c)),l}function Zg(l){xs===null?xs=l:xs.push.apply(xs,l)}function XC(l){for(var c=l;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var x=0;x<f.length;x++){var b=f[x],N=b.getSnapshot;b=b.value;try{if(!xa(N(),b))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function go(l,c){for(c&=~Kg,c&=~Gh,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var f=31-Ir(c),x=1<<f;l[f]=-1,c&=~x}}function bw(l){if((ar&6)!==0)throw Error(r(327));Mc();var c=el(l,0);if((c&1)===0)return ys(l,We()),null;var f=Zh(l,c);if(l.tag!==0&&f===2){var x=js(l);x!==0&&(c=x,f=Jg(l,x))}if(f===1)throw f=md,ml(l,0),go(l,c),ys(l,We()),f;if(f===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,gl(l,xs,Ni),ys(l,We()),null}function ex(l,c){var f=ar;ar|=1;try{return l(c)}finally{ar=f,ar===0&&(Lc=We()+500,Nh&&lo())}}function pl(l){po!==null&&po.tag===0&&(ar&6)===0&&Mc();var c=ar;ar|=1;var f=ea.transition,x=Qt;try{if(ea.transition=null,Qt=1,l)return l()}finally{Qt=x,ea.transition=f,ar=c,(ar&6)===0&&lo()}}function tx(){Os=Fc.current,Rr(Fc)}function ml(l,c){l.finishedWork=null,l.finishedLanes=0;var f=l.timeoutHandle;if(f!==-1&&(l.timeoutHandle=-1,kC(f)),nn!==null)for(f=nn.return;f!==null;){var x=f;switch(ug(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Th();break;case 3:Rc(),Rr(ps),Rr(Wn),Eg();break;case 5:wg(x);break;case 4:Rc();break;case 13:Rr(Vr);break;case 19:Rr(Vr);break;case 10:gg(x.type._context);break;case 22:case 23:tx()}f=f.return}if(bn=l,nn=l=xo(l.current,null),jn=Os=c,pn=0,md=null,Kg=Gh=fl=0,xs=gd=null,ul!==null){for(c=0;c<ul.length;c++)if(f=ul[c],x=f.interleaved,x!==null){f.interleaved=null;var b=x.next,N=f.pending;if(N!==null){var L=N.next;N.next=b,x.next=L}f.pending=x}ul=null}return l}function ww(l,c){do{var f=nn;try{if(mg(),Fh.current=Vh,Lh){for(var x=Br.memoizedState;x!==null;){var b=x.queue;b!==null&&(b.pending=null),x=x.next}Lh=!1}if(hl=0,vn=fn=Br=null,cd=!1,ud=0,Gg.current=null,f===null||f.return===null){pn=1,md=c,nn=null;break}e:{var N=l,L=f.return,ae=f,oe=c;if(c=jn,ae.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var we=oe,qe=ae,Xe=qe.tag;if((qe.mode&1)===0&&(Xe===0||Xe===11||Xe===15)){var He=qe.alternate;He?(qe.updateQueue=He.updateQueue,qe.memoizedState=He.memoizedState,qe.lanes=He.lanes):(qe.updateQueue=null,qe.memoizedState=null)}var pt=q2(L);if(pt!==null){pt.flags&=-257,G2(pt,L,ae,N,c),pt.mode&1&&W2(N,we,c),c=pt,oe=we;var bt=c.updateQueue;if(bt===null){var _t=new Set;_t.add(oe),c.updateQueue=_t}else bt.add(oe);break e}else{if((c&1)===0){W2(N,we,c),rx();break e}oe=Error(r(426))}}else if(Fr&&ae.mode&1){var Qr=q2(L);if(Qr!==null){(Qr.flags&65536)===0&&(Qr.flags|=256),G2(Qr,L,ae,N,c),fg(Dc(oe,ae));break e}}N=oe=Dc(oe,ae),pn!==4&&(pn=2),gd===null?gd=[N]:gd.push(N),N=L;do{switch(N.tag){case 3:N.flags|=65536,c&=-c,N.lanes|=c;var pe=z2(N,oe,c);g2(N,pe);break e;case 1:ae=oe;var ce=N.type,ye=N.stateNode;if((N.flags&128)===0&&(typeof ce.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(fo===null||!fo.has(ye)))){N.flags|=65536,c&=-c,N.lanes|=c;var Qe=H2(N,ae,c);g2(N,Qe);break e}}N=N.return}while(N!==null)}Tw(f)}catch(Et){c=Et,nn===f&&f!==null&&(nn=f=f.return);continue}break}while(!0)}function _w(){var l=qh.current;return qh.current=Vh,l===null?Vh:l}function rx(){(pn===0||pn===3||pn===2)&&(pn=4),bn===null||(fl&268435455)===0&&(Gh&268435455)===0||go(bn,jn)}function Zh(l,c){var f=ar;ar|=2;var x=_w();(bn!==l||jn!==c)&&(Ni=null,ml(l,c));do try{YC();break}catch(b){ww(l,b)}while(!0);if(mg(),ar=f,qh.current=x,nn!==null)throw Error(r(261));return bn=null,jn=0,pn}function YC(){for(;nn!==null;)Ew(nn)}function QC(){for(;nn!==null&&!lt();)Ew(nn)}function Ew(l){var c=Sw(l.alternate,l,Os);l.memoizedProps=l.pendingProps,c===null?Tw(l):nn=c,Gg.current=null}function Tw(l){var c=l;do{var f=c.alternate;if(l=c.return,(c.flags&32768)===0){if(f=zC(f,c,Os),f!==null){nn=f;return}}else{if(f=HC(f,c),f!==null){f.flags&=32767,nn=f;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{pn=6,nn=null;return}}if(c=c.sibling,c!==null){nn=c;return}nn=c=l}while(c!==null);pn===0&&(pn=5)}function gl(l,c,f){var x=Qt,b=ea.transition;try{ea.transition=null,Qt=1,JC(l,c,f,x)}finally{ea.transition=b,Qt=x}return null}function JC(l,c,f,x){do Mc();while(po!==null);if((ar&6)!==0)throw Error(r(327));f=l.finishedWork;var b=l.finishedLanes;if(f===null)return null;if(l.finishedWork=null,l.finishedLanes=0,f===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var N=f.lanes|f.childLanes;if(Nr(l,N),l===bn&&(nn=bn=null,jn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Xh||(Xh=!0,Aw(sr,function(){return Mc(),null})),N=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||N){N=ea.transition,ea.transition=null;var L=Qt;Qt=1;var ae=ar;ar|=4,Gg.current=null,qC(l,f),pw(f,l),yC(rg),ro=!!tg,rg=tg=null,l.current=f,GC(f),Ke(),ar=ae,Qt=L,ea.transition=N}else l.current=f;if(Xh&&(Xh=!1,po=l,Yh=b),N=l.pendingLanes,N===0&&(fo=null),Xi(f.stateNode),ys(l,We()),c!==null)for(x=l.onRecoverableError,f=0;f<c.length;f++)b=c[f],x(b.value,{componentStack:b.stack,digest:b.digest});if(Kh)throw Kh=!1,l=Yg,Yg=null,l;return(Yh&1)!==0&&l.tag!==0&&Mc(),N=l.pendingLanes,(N&1)!==0?l===Qg?xd++:(xd=0,Qg=l):xd=0,lo(),null}function Mc(){if(po!==null){var l=eo(Yh),c=ea.transition,f=Qt;try{if(ea.transition=null,Qt=16>l?16:l,po===null)var x=!1;else{if(l=po,po=null,Yh=0,(ar&6)!==0)throw Error(r(331));var b=ar;for(ar|=4,xt=l.current;xt!==null;){var N=xt,L=N.child;if((xt.flags&16)!==0){var ae=N.deletions;if(ae!==null){for(var oe=0;oe<ae.length;oe++){var we=ae[oe];for(xt=we;xt!==null;){var qe=xt;switch(qe.tag){case 0:case 11:case 15:pd(8,qe,N)}var Xe=qe.child;if(Xe!==null)Xe.return=qe,xt=Xe;else for(;xt!==null;){qe=xt;var He=qe.sibling,pt=qe.return;if(cw(qe),qe===we){xt=null;break}if(He!==null){He.return=pt,xt=He;break}xt=pt}}}var bt=N.alternate;if(bt!==null){var _t=bt.child;if(_t!==null){bt.child=null;do{var Qr=_t.sibling;_t.sibling=null,_t=Qr}while(_t!==null)}}xt=N}}if((N.subtreeFlags&2064)!==0&&L!==null)L.return=N,xt=L;else e:for(;xt!==null;){if(N=xt,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:pd(9,N,N.return)}var pe=N.sibling;if(pe!==null){pe.return=N.return,xt=pe;break e}xt=N.return}}var ce=l.current;for(xt=ce;xt!==null;){L=xt;var ye=L.child;if((L.subtreeFlags&2064)!==0&&ye!==null)ye.return=L,xt=ye;else e:for(L=ce;xt!==null;){if(ae=xt,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:Wh(9,ae)}}catch(Et){qr(ae,ae.return,Et)}if(ae===L){xt=null;break e}var Qe=ae.sibling;if(Qe!==null){Qe.return=ae.return,xt=Qe;break e}xt=ae.return}}if(ar=b,lo(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(rs,l)}catch{}x=!0}return x}finally{Qt=f,ea.transition=c}}return!1}function kw(l,c,f){c=Dc(f,c),c=z2(l,c,1),l=uo(l,c,1),c=as(),l!==null&&(Ji(l,1,c),ys(l,c))}function qr(l,c,f){if(l.tag===3)kw(l,l,f);else for(;c!==null;){if(c.tag===3){kw(c,l,f);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(fo===null||!fo.has(x))){l=Dc(f,l),l=H2(c,l,1),c=uo(c,l,1),l=as(),c!==null&&(Ji(c,1,l),ys(c,l));break}}c=c.return}}function ZC(l,c,f){var x=l.pingCache;x!==null&&x.delete(c),c=as(),l.pingedLanes|=l.suspendedLanes&f,bn===l&&(jn&f)===f&&(pn===4||pn===3&&(jn&130023424)===jn&&500>We()-Xg?ml(l,0):Kg|=f),ys(l,c)}function Nw(l,c){c===0&&((l.mode&1)===0?c=1:(c=oc,oc<<=1,(oc&130023424)===0&&(oc=4194304)));var f=as();l=Ei(l,c),l!==null&&(Ji(l,c,f),ys(l,f))}function ej(l){var c=l.memoizedState,f=0;c!==null&&(f=c.retryLane),Nw(l,f)}function tj(l,c){var f=0;switch(l.tag){case 13:var x=l.stateNode,b=l.memoizedState;b!==null&&(f=b.retryLane);break;case 19:x=l.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(c),Nw(l,f)}var Sw;Sw=function(l,c,f){if(l!==null)if(l.memoizedProps!==c.pendingProps||ps.current)gs=!0;else{if((l.lanes&f)===0&&(c.flags&128)===0)return gs=!1,UC(l,c,f);gs=(l.flags&131072)!==0}else gs=!1,Fr&&(c.flags&1048576)!==0&&i2(c,Ah,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;zh(l,c),l=c.pendingProps;var b=Nc(c,Wn.current);Pc(c,f),b=Ng(null,c,x,l,b,f);var N=Sg();return c.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,ms(x)?(N=!0,kh(c)):N=!1,c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,vg(c),b.updater=Bh,c.stateNode=b,b._reactInternals=c,Rg(c,x,l,f),c=Lg(null,c,x,!0,N,f)):(c.tag=0,Fr&&N&&cg(c),ss(null,c,b,f),c=c.child),c;case 16:x=c.elementType;e:{switch(zh(l,c),l=c.pendingProps,b=x._init,x=b(x._payload),c.type=x,b=c.tag=nj(x),l=va(x,l),b){case 0:c=Fg(null,c,x,l,f);break e;case 1:c=Z2(null,c,x,l,f);break e;case 11:c=K2(null,c,x,l,f);break e;case 14:c=X2(null,c,x,va(x.type,l),f);break e}throw Error(r(306,x,""))}return c;case 0:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:va(x,b),Fg(l,c,x,b,f);case 1:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:va(x,b),Z2(l,c,x,b,f);case 3:e:{if(ew(c),l===null)throw Error(r(387));x=c.pendingProps,N=c.memoizedState,b=N.element,m2(l,c),Dh(c,x,null,f);var L=c.memoizedState;if(x=L.element,N.isDehydrated)if(N={element:x,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){b=Dc(Error(r(423)),c),c=tw(l,c,x,f,b);break e}else if(x!==b){b=Dc(Error(r(424)),c),c=tw(l,c,x,f,b);break e}else for(Ds=ao(c.stateNode.containerInfo.firstChild),Rs=c,Fr=!0,ya=null,f=f2(c,null,x,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Cc(),x===b){c=ki(l,c,f);break e}ss(l,c,x,f)}c=c.child}return c;case 5:return y2(c),l===null&&hg(c),x=c.type,b=c.pendingProps,N=l!==null?l.memoizedProps:null,L=b.children,ng(x,b)?L=null:N!==null&&ng(x,N)&&(c.flags|=32),J2(l,c),ss(l,c,L,f),c.child;case 6:return l===null&&hg(c),null;case 13:return rw(l,c,f);case 4:return bg(c,c.stateNode.containerInfo),x=c.pendingProps,l===null?c.child=jc(c,null,x,f):ss(l,c,x,f),c.child;case 11:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:va(x,b),K2(l,c,x,b,f);case 7:return ss(l,c,c.pendingProps,f),c.child;case 8:return ss(l,c,c.pendingProps.children,f),c.child;case 12:return ss(l,c,c.pendingProps.children,f),c.child;case 10:e:{if(x=c.type._context,b=c.pendingProps,N=c.memoizedProps,L=b.value,Ar(Ih,x._currentValue),x._currentValue=L,N!==null)if(xa(N.value,L)){if(N.children===b.children&&!ps.current){c=ki(l,c,f);break e}}else for(N=c.child,N!==null&&(N.return=c);N!==null;){var ae=N.dependencies;if(ae!==null){L=N.child;for(var oe=ae.firstContext;oe!==null;){if(oe.context===x){if(N.tag===1){oe=Ti(-1,f&-f),oe.tag=2;var we=N.updateQueue;if(we!==null){we=we.shared;var qe=we.pending;qe===null?oe.next=oe:(oe.next=qe.next,qe.next=oe),we.pending=oe}}N.lanes|=f,oe=N.alternate,oe!==null&&(oe.lanes|=f),xg(N.return,f,c),ae.lanes|=f;break}oe=oe.next}}else if(N.tag===10)L=N.type===c.type?null:N.child;else if(N.tag===18){if(L=N.return,L===null)throw Error(r(341));L.lanes|=f,ae=L.alternate,ae!==null&&(ae.lanes|=f),xg(L,f,c),L=N.sibling}else L=N.child;if(L!==null)L.return=N;else for(L=N;L!==null;){if(L===c){L=null;break}if(N=L.sibling,N!==null){N.return=L.return,L=N;break}L=L.return}N=L}ss(l,c,b.children,f),c=c.child}return c;case 9:return b=c.type,x=c.pendingProps.children,Pc(c,f),b=Js(b),x=x(b),c.flags|=1,ss(l,c,x,f),c.child;case 14:return x=c.type,b=va(x,c.pendingProps),b=va(x.type,b),X2(l,c,x,b,f);case 15:return Y2(l,c,c.type,c.pendingProps,f);case 17:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:va(x,b),zh(l,c),c.tag=1,ms(x)?(l=!0,kh(c)):l=!1,Pc(c,f),B2(c,x,b),Rg(c,x,b,f),Lg(null,c,x,!0,l,f);case 19:return sw(l,c,f);case 22:return Q2(l,c,f)}throw Error(r(156,c.tag))};function Aw(l,c){return Ue(l,c)}function rj(l,c,f,x){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(l,c,f,x){return new rj(l,c,f,x)}function nx(l){return l=l.prototype,!(!l||!l.isReactComponent)}function nj(l){if(typeof l=="function")return nx(l)?1:0;if(l!=null){if(l=l.$$typeof,l===W)return 11;if(l===Ie)return 14}return 2}function xo(l,c){var f=l.alternate;return f===null?(f=ta(l.tag,c,l.key,l.mode),f.elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=c,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=l.flags&14680064,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,c=l.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f}function ef(l,c,f,x,b,N){var L=2;if(x=l,typeof l=="function")nx(l)&&(L=1);else if(typeof l=="string")L=5;else e:switch(l){case A:return xl(f.children,b,N,c);case S:L=8,b|=8;break;case C:return l=ta(12,f,c,b|2),l.elementType=C,l.lanes=N,l;case M:return l=ta(13,f,c,b),l.elementType=M,l.lanes=N,l;case Se:return l=ta(19,f,c,b),l.elementType=Se,l.lanes=N,l;case Le:return tf(f,b,N,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:L=10;break e;case F:L=9;break e;case W:L=11;break e;case Ie:L=14;break e;case $e:L=16,x=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return c=ta(L,f,c,b),c.elementType=l,c.type=x,c.lanes=N,c}function xl(l,c,f,x){return l=ta(7,l,x,c),l.lanes=f,l}function tf(l,c,f,x){return l=ta(22,l,x,c),l.elementType=Le,l.lanes=f,l.stateNode={isHidden:!1},l}function sx(l,c,f){return l=ta(6,l,null,c),l.lanes=f,l}function ax(l,c,f){return c=ta(4,l.children!==null?l.children:[],l.key,c),c.lanes=f,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function sj(l,c,f,x,b){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qi(0),this.expirationTimes=Qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.identifierPrefix=x,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function ix(l,c,f,x,b,N,L,ae,oe){return l=new sj(l,c,f,ae,oe),c===1?(c=1,N===!0&&(c|=8)):c=0,N=ta(3,null,null,c),l.current=N,N.stateNode=l,N.memoizedState={element:x,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},vg(N),l}function aj(l,c,f){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:x==null?null:""+x,children:l,containerInfo:c,implementation:f}}function Cw(l){if(!l)return oo;l=l._reactInternals;e:{if(Y(l)!==l||l.tag!==1)throw Error(r(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(ms(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(l.tag===1){var f=l.type;if(ms(f))return n2(l,f,c)}return c}function jw(l,c,f,x,b,N,L,ae,oe){return l=ix(f,x,!0,l,b,N,L,ae,oe),l.context=Cw(null),f=l.current,x=as(),b=mo(f),N=Ti(x,b),N.callback=c??null,uo(f,N,b),l.current.lanes=b,Ji(l,b,x),ys(l,x),l}function rf(l,c,f,x){var b=c.current,N=as(),L=mo(b);return f=Cw(f),c.context===null?c.context=f:c.pendingContext=f,c=Ti(N,L),c.payload={element:l},x=x===void 0?null:x,x!==null&&(c.callback=x),l=uo(b,c,L),l!==null&&(_a(l,b,L,N),Rh(l,b,L)),L}function nf(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Iw(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<c?f:c}}function ox(l,c){Iw(l,c),(l=l.alternate)&&Iw(l,c)}function ij(){return null}var Pw=typeof reportError=="function"?reportError:function(l){console.error(l)};function lx(l){this._internalRoot=l}sf.prototype.render=lx.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(r(409));rf(l,c,null,null)},sf.prototype.unmount=lx.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;pl(function(){rf(null,l,null,null)}),c[vi]=null}};function sf(l){this._internalRoot=l}sf.prototype.unstable_scheduleHydration=function(l){if(l){var c=sh();l={blockedOn:null,target:l,priority:c};for(var f=0;f<Va.length&&c!==0&&c<Va[f].priority;f++);Va.splice(f,0,l),f===0&&oh(l)}};function cx(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function af(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Rw(){}function oj(l,c,f,x,b){if(b){if(typeof x=="function"){var N=x;x=function(){var we=nf(L);N.call(we)}}var L=jw(c,x,l,0,null,!1,!1,"",Rw);return l._reactRootContainer=L,l[vi]=L.current,td(l.nodeType===8?l.parentNode:l),pl(),L}for(;b=l.lastChild;)l.removeChild(b);if(typeof x=="function"){var ae=x;x=function(){var we=nf(oe);ae.call(we)}}var oe=ix(l,0,!1,null,null,!1,!1,"",Rw);return l._reactRootContainer=oe,l[vi]=oe.current,td(l.nodeType===8?l.parentNode:l),pl(function(){rf(c,oe,f,x)}),oe}function of(l,c,f,x,b){var N=f._reactRootContainer;if(N){var L=N;if(typeof b=="function"){var ae=b;b=function(){var oe=nf(L);ae.call(oe)}}rf(c,L,l,b)}else L=oj(f,c,l,b,x);return nf(L)}rh=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var f=Yi(c.pendingLanes);f!==0&&(Zi(c,f|1),ys(c,We()),(ar&6)===0&&(Lc=We()+500,lo()))}break;case 13:pl(function(){var x=Ei(l,1);if(x!==null){var b=as();_a(x,l,1,b)}}),ox(l,1)}},lc=function(l){if(l.tag===13){var c=Ei(l,134217728);if(c!==null){var f=as();_a(c,l,134217728,f)}ox(l,134217728)}},nh=function(l){if(l.tag===13){var c=mo(l),f=Ei(l,c);if(f!==null){var x=as();_a(f,l,c,x)}ox(l,c)}},sh=function(){return Qt},ah=function(l,c){var f=Qt;try{return Qt=l,c()}finally{Qt=f}},ot=function(l,c,f){switch(c){case"input":if(Re(l,f),c=f.name,f.type==="radio"&&c!=null){for(f=l;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var x=f[c];if(x!==l&&x.form===l.form){var b=Eh(x);if(!b)throw Error(r(90));yt(x),Re(x,b)}}}break;case"textarea":ut(l,f);break;case"select":c=f.value,c!=null&&le(l,!!f.multiple,c,!1)}},Mr=ex,un=pl;var lj={usingClientEntryPoint:!1,Events:[sd,Tc,Eh,Kt,jr,ex]},yd={findFiberByHostInstance:il,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cj={bundleType:yd.bundleType,version:yd.version,rendererPackageName:yd.rendererPackageName,rendererConfig:yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ge(l),l===null?null:l.stateNode},findFiberByHostInstance:yd.findFiberByHostInstance||ij,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{rs=lf.inject(cj),$r=lf}catch{}}return vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lj,vs.createPortal=function(l,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cx(c))throw Error(r(200));return aj(l,c,null,f)},vs.createRoot=function(l,c){if(!cx(l))throw Error(r(299));var f=!1,x="",b=Pw;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),c=ix(l,1,!1,null,null,f,!1,x,b),l[vi]=c.current,td(l.nodeType===8?l.parentNode:l),new lx(c)},vs.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=ge(c),l=l===null?null:l.stateNode,l},vs.flushSync=function(l){return pl(l)},vs.hydrate=function(l,c,f){if(!af(c))throw Error(r(200));return of(null,l,c,!0,f)},vs.hydrateRoot=function(l,c,f){if(!cx(l))throw Error(r(405));var x=f!=null&&f.hydratedSources||null,b=!1,N="",L=Pw;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(N=f.identifierPrefix),f.onRecoverableError!==void 0&&(L=f.onRecoverableError)),c=jw(c,null,l,1,f??null,b,!1,N,L),l[vi]=c.current,td(l),x)for(l=0;l<x.length;l++)f=x[l],b=f._getVersion,b=b(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,b]:c.mutableSourceEagerHydrationData.push(f,b);return new sf(c)},vs.render=function(l,c,f){if(!af(c))throw Error(r(200));return of(null,l,c,!1,f)},vs.unmountComponentAtNode=function(l){if(!af(l))throw Error(r(40));return l._reactRootContainer?(pl(function(){of(null,null,l,!1,function(){l._reactRootContainer=null,l[vi]=null})}),!0):!1},vs.unstable_batchedUpdates=ex,vs.unstable_renderSubtreeIntoContainer=function(l,c,f,x){if(!af(f))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return of(l,c,f,!1,x)},vs.version="18.3.1-next-f1338f8080-20240426",vs}var Uw;function vj(){if(Uw)return hx.exports;Uw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hx.exports=yj(),hx.exports}var zw;function bj(){if(zw)return cf;zw=1;var t=vj();return cf.createRoot=t.createRoot,cf.hydrateRoot=t.hydrateRoot,cf}var wj=bj();const _j=rv(wj);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hw="popstate";function Ej(t={}){function e(n,s){let{pathname:a,search:o,hash:u}=n.location;return ty("",{pathname:a,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Qd(s)}return kj(e,r,null,t)}function Lr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tj(){return Math.random().toString(36).substring(2,10)}function Ww(t,e){return{usr:t.state,key:t.key,idx:e}}function ty(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Nu(e):e,state:r,key:e&&e.key||n||Tj()}}function Qd({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Nu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function kj(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,u="POP",d=null,h=p();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function p(){return(o.state||{idx:null}).idx}function g(){u="POP";let E=p(),D=E==null?null:E-h;h=E,d&&d({action:u,location:w.location,delta:D})}function y(E,D){u="PUSH";let I=ty(w.location,E,D);h=p()+1;let U=Ww(I,h),O=w.createHref(I);try{o.pushState(U,"",O)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(O)}a&&d&&d({action:u,location:w.location,delta:1})}function v(E,D){u="REPLACE";let I=ty(w.location,E,D);h=p();let U=Ww(I,h),O=w.createHref(I);o.replaceState(U,"",O),a&&d&&d({action:u,location:w.location,delta:0})}function k(E){return Nj(E)}let w={get action(){return u},get location(){return t(s,o)},listen(E){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Hw,g),d=E,()=>{s.removeEventListener(Hw,g),d=null}},createHref(E){return e(s,E)},createURL:k,encodeLocation(E){let D=k(E);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:y,replace:v,go(E){return o.go(E)}};return w}function Nj(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Lr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Qd(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function qT(t,e,r="/"){return Sj(t,e,r,!1)}function Sj(t,e,r,n){let s=typeof e=="string"?Nu(e):e,a=Li(s.pathname||"/",r);if(a==null)return null;let o=GT(t);Aj(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let h=$j(a);u=Lj(o[d],h,n)}return u}function GT(t,e=[],r=[],n="",s=!1){let a=(o,u,d=s,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;Lr(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=Ii([n,p.relativePath]),y=r.concat(p);o.children&&o.children.length>0&&(Lr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),GT(o.children,e,y,g,d)),!(o.path==null&&!o.index)&&e.push({path:g,score:Oj(g,o.index),routesMeta:y})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))a(o,u);else for(let d of KT(o.path))a(o,u,!0,d)}),e}function KT(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=KT(n.join("/")),u=[];return u.push(...o.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...o),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function Aj(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Fj(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Cj=/^:[\w-]+$/,jj=3,Ij=2,Pj=1,Rj=10,Dj=-2,qw=t=>t==="*";function Oj(t,e){let r=t.split("/"),n=r.length;return r.some(qw)&&(n+=Dj),e&&(n+=Ij),r.filter(s=>!qw(s)).reduce((s,a)=>s+(Cj.test(a)?jj:a===""?Pj:Rj),n)}function Fj(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Lj(t,e,r=!1){let{routesMeta:n}=t,s={},a="/",o=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=Kf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=Kf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Ii([a,g.pathname]),pathnameBase:zj(Ii([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=Ii([a,g.pathnameBase]))}return o}function Kf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Mj(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let k=u[y]||"";o=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const v=u[y];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:t}}function Mj(t,e=!1,r=!0){Pa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function $j(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Li(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Vj(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Nu(t):t;return{pathname:r?r.startsWith("/")?r:Bj(r,e):e,search:Hj(n),hash:Wj(s)}}function Bj(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function mx(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Uj(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function sv(t){let e=Uj(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function av(t,e,r,n=!1){let s;typeof t=="string"?s=Nu(t):(s={...t},Lr(!s.pathname||!s.pathname.includes("?"),mx("?","pathname","search",s)),Lr(!s.pathname||!s.pathname.includes("#"),mx("#","pathname","hash",s)),Lr(!s.search||!s.search.includes("#"),mx("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,u;if(o==null)u=r;else{let g=e.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}u=g>=0?e[g]:"/"}let d=Vj(s,u),h=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Ii=t=>t.join("/").replace(/\/\/+/g,"/"),zj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Hj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Wj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var XT=["POST","PUT","PATCH","DELETE"];new Set(XT);var Gj=["GET",...XT];new Set(Gj);var Su=T.createContext(null);Su.displayName="DataRouter";var Gp=T.createContext(null);Gp.displayName="DataRouterState";T.createContext(!1);var YT=T.createContext({isTransitioning:!1});YT.displayName="ViewTransition";var Kj=T.createContext(new Map);Kj.displayName="Fetchers";var Xj=T.createContext(null);Xj.displayName="Await";var Fa=T.createContext(null);Fa.displayName="Navigation";var k0=T.createContext(null);k0.displayName="Location";var hi=T.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var iv=T.createContext(null);iv.displayName="RouteError";function Yj(t,{relative:e}={}){Lr(Au(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=T.useContext(Fa),{hash:s,pathname:a,search:o}=N0(t,{relative:e}),u=a;return r!=="/"&&(u=a==="/"?r:Ii([r,a])),n.createHref({pathname:u,search:o,hash:s})}function Au(){return T.useContext(k0)!=null}function Go(){return Lr(Au(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(k0).location}var QT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JT(t){T.useContext(Fa).static||T.useLayoutEffect(t)}function La(){let{isDataRoute:t}=T.useContext(hi);return t?cI():Qj()}function Qj(){Lr(Au(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Su),{basename:e,navigator:r}=T.useContext(Fa),{matches:n}=T.useContext(hi),{pathname:s}=Go(),a=JSON.stringify(sv(n)),o=T.useRef(!1);return JT(()=>{o.current=!0}),T.useCallback((d,h={})=>{if(Pa(o.current,QT),!o.current)return;if(typeof d=="number"){r.go(d);return}let p=av(d,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ii([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,a,s,t])}T.createContext(null);function N0(t,{relative:e}={}){let{matches:r}=T.useContext(hi),{pathname:n}=Go(),s=JSON.stringify(sv(r));return T.useMemo(()=>av(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function Jj(t,e){return ZT(t,e)}function ZT(t,e,r,n,s){Lr(Au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(Fa),{matches:o}=T.useContext(hi),u=o[o.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let I=g&&g.path||"";ek(h,!g||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=Go(),v;if(e){let I=typeof e=="string"?Nu(e):e;Lr(p==="/"||I.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${I.pathname}" was given in the \`location\` prop.`),v=I}else v=y;let k=v.pathname||"/",w=k;if(p!=="/"){let I=p.replace(/^\//,"").split("/");w="/"+k.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=qT(t,{pathname:w});Pa(g||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Pa(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=nI(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:Ii([p,a.encodeLocation?a.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:Ii([p,a.encodeLocation?a.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,r,n,s);return e&&D?T.createElement(k0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},D):D}function Zj(){let t=lI(),e=qj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:s},r):null,o)}var eI=T.createElement(Zj,null),tI=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(hi.Provider,{value:this.props.routeContext},T.createElement(iv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rI({routeContext:t,match:e,children:r}){let n=T.useContext(Su);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(hi.Provider,{value:t},r)}function nI(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=r?.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Lr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(r)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:y}=r,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let y,v=!1,k=null,w=null;r&&(y=o&&p.route.id?o[p.route.id]:void 0,k=p.route.errorElement||eI,u&&(d<0&&g===0?(ek("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):d===g&&(v=!0,w=p.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,g+1)),D=()=>{let I;return y?I=k:v?I=w:p.route.Component?I=T.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=h,T.createElement(rI,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:r!=null},children:I})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?T.createElement(tI,{location:r.location,revalidation:r.revalidation,component:k,error:y,children:D(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:n}):D()},null)}function ov(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sI(t){let e=T.useContext(Su);return Lr(e,ov(t)),e}function aI(t){let e=T.useContext(Gp);return Lr(e,ov(t)),e}function iI(t){let e=T.useContext(hi);return Lr(e,ov(t)),e}function lv(t){let e=iI(t),r=e.matches[e.matches.length-1];return Lr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function oI(){return lv("useRouteId")}function lI(){let t=T.useContext(iv),e=aI("useRouteError"),r=lv("useRouteError");return t!==void 0?t:e.errors?.[r]}function cI(){let{router:t}=sI("useNavigate"),e=lv("useNavigate"),r=T.useRef(!1);return JT(()=>{r.current=!0}),T.useCallback(async(s,a={})=>{Pa(r.current,QT),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Gw={};function ek(t,e,r){!e&&!Gw[t]&&(Gw[t]=!0,Pa(!1,r))}T.memo(uI);function uI({routes:t,future:e,state:r,unstable_onError:n}){return ZT(t,void 0,r,n,e)}function uf({to:t,replace:e,state:r,relative:n}){Lr(Au(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=T.useContext(Fa);Pa(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(hi),{pathname:o}=Go(),u=La(),d=av(t,sv(a),o,n==="path"),h=JSON.stringify(d);return T.useEffect(()=>{u(JSON.parse(h),{replace:e,state:r,relative:n})},[u,h,n,e,r]),null}function zt(t){Lr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dI({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:a=!1}){Lr(!Au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:o,navigator:s,static:a,future:{}}),[o,s,a]);typeof r=="string"&&(r=Nu(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:y="default"}=r,v=T.useMemo(()=>{let k=Li(d,o);return k==null?null:{location:{pathname:k,search:h,hash:p,state:g,key:y},navigationType:n}},[o,d,h,p,g,y,n]);return Pa(v!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:T.createElement(Fa.Provider,{value:u},T.createElement(k0.Provider,{children:e,value:v}))}function hI({children:t,location:e}){return Jj(ry(t),e)}function ry(t,e=[]){let r=[];return T.Children.forEach(t,(n,s)=>{if(!T.isValidElement(n))return;let a=[...e,s];if(n.type===T.Fragment){r.push.apply(r,ry(n.props.children,a));return}Lr(n.type===zt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ry(n.props.children,a)),r.push(o)}),r}var Pf="get",Rf="application/x-www-form-urlencoded";function Kp(t){return t!=null&&typeof t.tagName=="string"}function fI(t){return Kp(t)&&t.tagName.toLowerCase()==="button"}function pI(t){return Kp(t)&&t.tagName.toLowerCase()==="form"}function mI(t){return Kp(t)&&t.tagName.toLowerCase()==="input"}function gI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xI(t,e){return t.button===0&&(!e||e==="_self")&&!gI(t)}var df=null;function yI(){if(df===null)try{new FormData(document.createElement("form"),0),df=!1}catch{df=!0}return df}var vI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gx(t){return t!=null&&!vI.has(t)?(Pa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):t}function bI(t,e){let r,n,s,a,o;if(pI(t)){let u=t.getAttribute("action");n=u?Li(u,e):null,r=t.getAttribute("method")||Pf,s=gx(t.getAttribute("enctype"))||Rf,a=new FormData(t)}else if(fI(t)||mI(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(n=d?Li(d,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||Pf,s=gx(t.getAttribute("formenctype"))||gx(u.getAttribute("enctype"))||Rf,a=new FormData(u,t),!yI()){let{name:h,type:p,value:g}=t;if(p==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,g)}}else{if(Kp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Pf,n=null,s=Rf,o=t}return a&&s==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wI(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Li(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function _I(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function TI(t,e,r){let n=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let o=await _I(a,r);return o.links?o.links():[]}return[]}));return AI(n.flat(1).filter(EI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Kw(t,e,r,n,s,a){let o=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,u=(d,h)=>r[h].pathname!==d.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>o(d,h)||u(d,h)):a==="data"?e.filter((d,h)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(o(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function kI(t,e,{includeHydrateFallback:r}={}){return NI(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function NI(t){return[...new Set(t)]}function SI(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function AI(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let a=JSON.stringify(SI(s));return r.has(a)||(r.add(a),n.push({key:a,link:s})),n},[])}function tk(){let t=T.useContext(Su);return cv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function CI(){let t=T.useContext(Gp);return cv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var uv=T.createContext(void 0);uv.displayName="FrameworkContext";function rk(){let t=T.useContext(uv);return cv(t,"You must render this element inside a <HydratedRouter> element"),t}function jI(t,e){let r=T.useContext(uv),[n,s]=T.useState(!1),[a,o]=T.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,y=T.useRef(null);T.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=D=>{D.forEach(I=>{o(I.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[t]),T.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{s(!0)},k=()=>{s(!1),o(!1)};return r?t!=="intent"?[a,y,{}]:[a,y,{onFocus:bd(u,v),onBlur:bd(d,k),onMouseEnter:bd(h,v),onMouseLeave:bd(p,k),onTouchStart:bd(g,v)}]:[!1,y,{}]}function bd(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function II({page:t,...e}){let{router:r}=tk(),n=T.useMemo(()=>qT(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?T.createElement(RI,{page:t,matches:n,...e}):null}function PI(t){let{manifest:e,routeModules:r}=rk(),[n,s]=T.useState([]);return T.useEffect(()=>{let a=!1;return TI(t,e,r).then(o=>{a||s(o)}),()=>{a=!0}},[t,e,r]),n}function RI({page:t,matches:e,...r}){let n=Go(),{manifest:s,routeModules:a}=rk(),{basename:o}=tk(),{loaderData:u,matches:d}=CI(),h=T.useMemo(()=>Kw(t,e,d,s,n,"data"),[t,e,d,s,n]),p=T.useMemo(()=>Kw(t,e,d,s,n,"assets"),[t,e,d,s,n]),g=T.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let k=new Set,w=!1;if(e.forEach(D=>{let I=s.routes[D.route.id];!I||!I.hasLoader||(!h.some(U=>U.route.id===D.route.id)&&D.route.id in u&&a[D.route.id]?.shouldRevalidate||I.hasClientLoader?w=!0:k.add(D.route.id))}),k.size===0)return[];let E=wI(t,o,"data");return w&&k.size>0&&E.searchParams.set("_routes",e.filter(D=>k.has(D.route.id)).map(D=>D.route.id).join(",")),[E.pathname+E.search]},[o,u,n,s,h,e,t,a]),y=T.useMemo(()=>kI(p,s),[p,s]),v=PI(p);return T.createElement(T.Fragment,null,g.map(k=>T.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),y.map(k=>T.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),v.map(({key:k,link:w})=>T.createElement("link",{key:k,nonce:r.nonce,...w})))}function DI(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var nk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nk&&(window.__reactRouterVersion="7.8.2")}catch{}function OI({basename:t,children:e,window:r}){let n=T.useRef();n.current==null&&(n.current=Ej({window:r,v5Compat:!0}));let s=n.current,[a,o]=T.useState({action:s.action,location:s.location}),u=T.useCallback(d=>{T.startTransition(()=>o(d))},[o]);return T.useLayoutEffect(()=>s.listen(u),[s,u]),T.createElement(dI,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var sk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ws=T.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:a,replace:o,state:u,target:d,to:h,preventScrollReset:p,viewTransition:g,...y},v){let{basename:k}=T.useContext(Fa),w=typeof h=="string"&&sk.test(h),E,D=!1;if(typeof h=="string"&&w&&(E=h,nk))try{let C=new URL(window.location.href),R=h.startsWith("//")?new URL(C.protocol+h):new URL(h),F=Li(R.pathname,k);R.origin===C.origin&&F!=null?h=F+R.search+R.hash:D=!0}catch{Pa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=Yj(h,{relative:s}),[U,O,X]=jI(n,y),B=$I(h,{replace:o,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:g});function A(C){e&&e(C),C.defaultPrevented||B(C)}let S=T.createElement("a",{...y,...X,href:E||I,onClick:D||a?e:A,ref:DI(v,O),target:d,"data-discover":!w&&r==="render"?"true":void 0});return U&&!w?T.createElement(T.Fragment,null,S,T.createElement(II,{page:I})):S});ws.displayName="Link";var FI=T.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:a,to:o,viewTransition:u,children:d,...h},p){let g=N0(o,{relative:h.relative}),y=Go(),v=T.useContext(Gp),{navigator:k,basename:w}=T.useContext(Fa),E=v!=null&&HI(g)&&u===!0,D=k.encodeLocation?k.encodeLocation(g).pathname:g.pathname,I=y.pathname,U=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(I=I.toLowerCase(),U=U?U.toLowerCase():null,D=D.toLowerCase()),U&&w&&(U=Li(U,w)||U);const O=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let X=I===D||!s&&I.startsWith(D)&&I.charAt(O)==="/",B=U!=null&&(U===D||!s&&U.startsWith(D)&&U.charAt(D.length)==="/"),A={isActive:X,isPending:B,isTransitioning:E},S=X?e:void 0,C;typeof n=="function"?C=n(A):C=[n,X?"active":null,B?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(A):a;return T.createElement(ws,{...h,"aria-current":S,className:C,ref:p,style:R,to:o,viewTransition:u},typeof d=="function"?d(A):d)});FI.displayName="NavLink";var LI=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:a,method:o=Pf,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...y},v)=>{let k=UI(),w=zI(u,{relative:h}),E=o.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&sk.test(u),I=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let O=U.nativeEvent.submitter,X=O?.getAttribute("formmethod")||o;k(O||U.currentTarget,{fetcherKey:e,method:X,navigate:r,replace:s,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return T.createElement("form",{ref:v,method:E,action:w,onSubmit:n?d:I,...y,"data-discover":!D&&t==="render"?"true":void 0})});LI.displayName="Form";function MI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ak(t){let e=T.useContext(Su);return Lr(e,MI(t)),e}function $I(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:a,viewTransition:o}={}){let u=La(),d=Go(),h=N0(t,{relative:a});return T.useCallback(p=>{if(xI(p,e)){p.preventDefault();let g=r!==void 0?r:Qd(d)===Qd(h);u(t,{replace:g,state:n,preventScrollReset:s,relative:a,viewTransition:o})}},[d,u,h,r,n,e,t,s,a,o])}var VI=0,BI=()=>`__${String(++VI)}__`;function UI(){let{router:t}=ak("useSubmit"),{basename:e}=T.useContext(Fa),r=oI();return T.useCallback(async(n,s={})=>{let{action:a,method:o,encType:u,formData:d,body:h}=bI(n,e);if(s.navigate===!1){let p=s.fetcherKey||BI();await t.fetch(p,r,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function zI(t,{relative:e}={}){let{basename:r}=T.useContext(Fa),n=T.useContext(hi);Lr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...N0(t||".",{relative:e})},o=Go();if(t==null){a.search=o.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Ii([r,a.pathname])),Qd(a)}function HI(t,{relative:e}={}){let r=T.useContext(YT);Lr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ak("useViewTransitionState"),s=N0(t,{relative:e});if(!r.isTransitioning)return!1;let a=Li(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Li(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Kf(s.pathname,o)!=null||Kf(s.pathname,a)!=null}const WI=()=>{};var Xw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},qI=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[r++];e[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[r++],o=t[r++],u=t[r++],d=((s&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return e.join("")},ok={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const a=t[s],o=s+1<t.length,u=o?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,p=a>>2,g=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,v=h&63;d||(v=64,o||(y=64)),n.push(r[p],r[g],r[y],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ik(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const a=r[t.charAt(s++)],u=s<t.length?r[t.charAt(s)]:0;++s;const h=s<t.length?r[t.charAt(s)]:64;++s;const g=s<t.length?r[t.charAt(s)]:64;if(++s,a==null||u==null||h==null||g==null)throw new GI;const y=a<<2|u>>4;if(n.push(y),h!==64){const v=u<<4&240|h>>2;if(n.push(v),g!==64){const k=h<<6&192|g;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KI=function(t){const e=ik(t);return ok.encodeByteArray(e,!0)},Xf=function(t){return KI(t).replace(/\./g,"")},lk=function(t){try{return ok.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=()=>XI().__FIREBASE_DEFAULTS__,QI=()=>{if(typeof process>"u"||typeof Xw>"u")return;const t=Xw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lk(t[1]);return e&&JSON.parse(e)},Xp=()=>{try{return WI()||YI()||QI()||JI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ck=t=>{var e,r;return(r=(e=Xp())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},uk=t=>{const e=ck(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},dk=()=>{var t;return(t=Xp())===null||t===void 0?void 0:t.config},hk=t=>{var e;return(e=Xp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xf(JSON.stringify(r)),Xf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ts())}function tP(){var t;const e=(t=Xp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sP(){const t=ts();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aP(){return!tP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mk(){try{return typeof indexedDB=="object"}catch{return!1}}function gk(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function iP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="FirebaseError";class ua extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=oP,Object.setPrototypeOf(this,ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?lP(a,n):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new ua(s,u,n)}}function lP(t,e){return t.replace(cP,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const cP=/\{\$([^}]+)}/g;function uP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Do(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const a=t[s],o=e[s];if(Yw(a)&&Yw(o)){if(!Do(a,o))return!1}else if(a!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function Yw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Td(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,a]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function kd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function dP(t,e){const r=new hP(t,e);return r.subscribe.bind(r)}class hP{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");fP(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=xx),s.error===void 0&&(s.error=xx),s.complete===void 0&&(s.complete=xx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fP(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function xx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=1e3,mP=2,gP=14400*1e3,xP=.5;function Qw(t,e=pP,r=mP){const n=e*Math.pow(r,t),s=Math.round(xP*n*(Math.random()-.5)*2);return Math.min(gP,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t){return t&&t._delegate?t._delegate:t}class ca{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new ZI;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),s=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bP(e))try{this.getOrInitializeService({instanceIdentifier:vl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(e=vl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vl){return this.instances.has(e)}getOptions(e=vl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:vP(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=vl){return this.component?this.component.multipleInstances?e:vl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vP(t){return t===vl?void 0:t}function bP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new yP(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xt||(Xt={}));const _P={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},EP=Xt.INFO,TP={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},kP=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=TP[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yp{constructor(e){this.name=e,this._logLevel=EP,this._logHandler=kP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_P[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...e),this._logHandler(this,Xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...e),this._logHandler(this,Xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...e),this._logHandler(this,Xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...e),this._logHandler(this,Xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...e),this._logHandler(this,Xt.ERROR,...e)}}const NP=(t,e)=>e.some(r=>t instanceof r);let Jw,Zw;function SP(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AP(){return Zw||(Zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xk=new WeakMap,ny=new WeakMap,yk=new WeakMap,yx=new WeakMap,dv=new WeakMap;function CP(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Co(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&xk.set(r,t)}).catch(()=>{}),dv.set(e,t),e}function jP(t){if(ny.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});ny.set(t,e)}let sy={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Co(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IP(t){sy=t(sy)}function PP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(vx(this),e,...r);return yk.set(n,e.sort?e.sort():[e]),Co(n)}:AP().includes(t)?function(...e){return t.apply(vx(this),e),Co(xk.get(this))}:function(...e){return Co(t.apply(vx(this),e))}}function RP(t){return typeof t=="function"?PP(t):(t instanceof IDBTransaction&&jP(t),NP(t,SP())?new Proxy(t,sy):t)}function Co(t){if(t instanceof IDBRequest)return CP(t);if(yx.has(t))return yx.get(t);const e=RP(t);return e!==t&&(yx.set(t,e),dv.set(e,t)),e}const vx=t=>dv.get(t);function vk(t,e,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const o=indexedDB.open(t,e),u=Co(o);return n&&o.addEventListener("upgradeneeded",d=>{n(Co(o.result),d.oldVersion,d.newVersion,Co(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const DP=["get","getKey","getAll","getAllKeys","count"],OP=["put","add","delete","clear"],bx=new Map;function e_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bx.get(e))return bx.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=OP.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||DP.includes(r)))return;const a=async function(o,...u){const d=this.transaction(o,s?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[r](...u),s&&d.done]))[0]};return bx.set(e,a),a}IP(t=>({...t,get:(e,r,n)=>e_(e,r)||t.get(e,r,n),has:(e,r)=>!!e_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(LP(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function LP(t){const e=t.getComponent();return e?.type==="VERSION"}const ay="@firebase/app",t_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Yp("@firebase/app"),MP="@firebase/app-compat",$P="@firebase/analytics-compat",VP="@firebase/analytics",BP="@firebase/app-check-compat",UP="@firebase/app-check",zP="@firebase/auth",HP="@firebase/auth-compat",WP="@firebase/database",qP="@firebase/data-connect",GP="@firebase/database-compat",KP="@firebase/functions",XP="@firebase/functions-compat",YP="@firebase/installations",QP="@firebase/installations-compat",JP="@firebase/messaging",ZP="@firebase/messaging-compat",eR="@firebase/performance",tR="@firebase/performance-compat",rR="@firebase/remote-config",nR="@firebase/remote-config-compat",sR="@firebase/storage",aR="@firebase/storage-compat",iR="@firebase/firestore",oR="@firebase/vertexai",lR="@firebase/firestore-compat",cR="firebase",uR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="[DEFAULT]",dR={[ay]:"fire-core",[MP]:"fire-core-compat",[VP]:"fire-analytics",[$P]:"fire-analytics-compat",[UP]:"fire-app-check",[BP]:"fire-app-check-compat",[zP]:"fire-auth",[HP]:"fire-auth-compat",[WP]:"fire-rtdb",[qP]:"fire-data-connect",[GP]:"fire-rtdb-compat",[KP]:"fire-fn",[XP]:"fire-fn-compat",[YP]:"fire-iid",[QP]:"fire-iid-compat",[JP]:"fire-fcm",[ZP]:"fire-fcm-compat",[eR]:"fire-perf",[tR]:"fire-perf-compat",[rR]:"fire-rc",[nR]:"fire-rc-compat",[sR]:"fire-gcs",[aR]:"fire-gcs-compat",[iR]:"fire-fst",[lR]:"fire-fst-compat",[oR]:"fire-vertex","fire-js":"fire-js",[cR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map,hR=new Map,oy=new Map;function r_(t,e){try{t.container.addComponent(e)}catch(r){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ra(t){const e=t.name;if(oy.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;oy.set(e,t);for(const r of Yf.values())r_(r,t);for(const r of hR.values())r_(r,t);return!0}function Ko(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Vs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jo=new zl("app","Firebase",fR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=uR;function bk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:iy,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw jo.create("bad-app-name",{appName:String(s)});if(r||(r=dk()),!r)throw jo.create("no-options");const a=Yf.get(s);if(a){if(Do(r,a.options)&&Do(n,a.config))return a;throw jo.create("duplicate-app",{appName:s})}const o=new wP(s);for(const d of oy.values())o.addComponent(d);const u=new pR(r,n,o);return Yf.set(s,u),u}function Qp(t=iy){const e=Yf.get(t);if(!e&&t===iy&&dk())return bk();if(!e)throw jo.create("no-app",{appName:t});return e}function Es(t,e,r){var n;let s=(n=dR[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(u.join(" "));return}Ra(new ca(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebase-heartbeat-database",gR=1,Jd="firebase-heartbeat-store";let wx=null;function wk(){return wx||(wx=vk(mR,gR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jd)}catch(r){console.warn(r)}}}}).catch(t=>{throw jo.create("idb-open",{originalErrorMessage:t.message})})),wx}async function xR(t){try{const r=(await wk()).transaction(Jd),n=await r.objectStore(Jd).get(_k(t));return await r.done,n}catch(e){if(e instanceof ua)Mi.warn(e.message);else{const r=jo.create("idb-get",{originalErrorMessage:e?.message});Mi.warn(r.message)}}}async function n_(t,e){try{const n=(await wk()).transaction(Jd,"readwrite");await n.objectStore(Jd).put(e,_k(t)),await n.done}catch(r){if(r instanceof ua)Mi.warn(r.message);else{const n=jo.create("idb-set",{originalErrorMessage:r?.message});Mi.warn(n.message)}}}function _k(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=1024,vR=30;class bR{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new _R(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=s_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>vR){const o=ER(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Mi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=s_(),{heartbeatsToSend:n,unsentEntries:s}=wR(this._heartbeatsCache.heartbeats),a=Xf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Mi.warn(r),""}}}function s_(){return new Date().toISOString().substring(0,10)}function wR(t,e=yR){const r=[];let n=t.slice();for(const s of t){const a=r.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),a_(r)>e){a.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),a_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class _R{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mk()?gk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await xR(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return n_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return n_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function a_(t){return Xf(JSON.stringify({version:2,heartbeats:t})).length}function ER(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){Ra(new ca("platform-logger",e=>new FP(e),"PRIVATE")),Ra(new ca("heartbeat",e=>new bR(e),"PRIVATE")),Es(ay,t_,t),Es(ay,t_,"esm2017"),Es("fire-js","")}TR("");var kR="firebase",NR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Es(kR,NR,"app");const Ek="@firebase/installations",hv="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=1e4,kk=`w:${hv}`,Nk="FIS_v2",SR="https://firebaseinstallations.googleapis.com/v1",AR=3600*1e3,CR="installations",jR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Cl=new zl(CR,jR,IR);function Sk(t){return t instanceof ua&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak({projectId:t}){return`${SR}/projects/${t}/installations`}function Ck(t){return{token:t.token,requestStatus:2,expiresIn:RR(t.expiresIn),creationTime:Date.now()}}async function jk(t,e){const n=(await e.json()).error;return Cl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ik({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function PR(t,{refreshToken:e}){const r=Ik(t);return r.append("Authorization",DR(e)),r}async function Pk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function RR(t){return Number(t.replace("s","000"))}function DR(t){return`${Nk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=Ak(t),s=Ik(t),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={fid:r,authVersion:Nk,appId:t.appId,sdkVersion:kk},u={method:"POST",headers:s,body:JSON.stringify(o)},d=await Pk(()=>fetch(n,u));if(d.ok){const h=await d.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:Ck(h.authToken)}}else throw await jk("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=/^[cdef][\w-]{21}$/,ly="";function MR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=$R(t);return LR.test(r)?r:ly}catch{return ly}}function $R(t){return FR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=new Map;function Ok(t,e){const r=Jp(t);Fk(r,e),VR(r,e)}function Fk(t,e){const r=Dk.get(t);if(r)for(const n of r)n(e)}function VR(t,e){const r=BR();r&&r.postMessage({key:t,fid:e}),UR()}let _l=null;function BR(){return!_l&&"BroadcastChannel"in self&&(_l=new BroadcastChannel("[Firebase] FID Change"),_l.onmessage=t=>{Fk(t.data.key,t.data.fid)}),_l}function UR(){Dk.size===0&&_l&&(_l.close(),_l=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firebase-installations-database",HR=1,jl="firebase-installations-store";let _x=null;function fv(){return _x||(_x=vk(zR,HR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(jl)}}})),_x}async function Qf(t,e){const r=Jp(t),s=(await fv()).transaction(jl,"readwrite"),a=s.objectStore(jl),o=await a.get(r);return await a.put(e,r),await s.done,(!o||o.fid!==e.fid)&&Ok(t,e.fid),e}async function Lk(t){const e=Jp(t),n=(await fv()).transaction(jl,"readwrite");await n.objectStore(jl).delete(e),await n.done}async function Zp(t,e){const r=Jp(t),s=(await fv()).transaction(jl,"readwrite"),a=s.objectStore(jl),o=await a.get(r),u=e(o);return u===void 0?await a.delete(r):await a.put(u,r),await s.done,u&&(!o||o.fid!==u.fid)&&Ok(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pv(t){let e;const r=await Zp(t.appConfig,n=>{const s=WR(n),a=qR(t,s);return e=a.registrationPromise,a.installationEntry});return r.fid===ly?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function WR(t){const e=t||{fid:MR(),registrationStatus:0};return Mk(e)}function qR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Cl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=GR(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:KR(t)}:{installationEntry:e}}async function GR(t,e){try{const r=await OR(t,e);return Qf(t.appConfig,r)}catch(r){throw Sk(r)&&r.customData.serverCode===409?await Lk(t.appConfig):await Qf(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function KR(t){let e=await i_(t.appConfig);for(;e.registrationStatus===1;)await Rk(100),e=await i_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await pv(t);return n||r}return e}function i_(t){return Zp(t,e=>{if(!e)throw Cl.create("installation-not-found");return Mk(e)})}function Mk(t){return XR(t)?{fid:t.fid,registrationStatus:0}:t}function XR(t){return t.registrationStatus===1&&t.registrationTime+Tk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR({appConfig:t,heartbeatServiceProvider:e},r){const n=QR(t,r),s=PR(t,r),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={installation:{sdkVersion:kk,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(o)},d=await Pk(()=>fetch(n,u));if(d.ok){const h=await d.json();return Ck(h)}else throw await jk("Generate Auth Token",d)}function QR(t,{fid:e}){return`${Ak(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mv(t,e=!1){let r;const n=await Zp(t.appConfig,a=>{if(!$k(a))throw Cl.create("not-registered");const o=a.authToken;if(!e&&e8(o))return a;if(o.requestStatus===1)return r=JR(t,e),a;{if(!navigator.onLine)throw Cl.create("app-offline");const u=r8(a);return r=ZR(t,u),u}});return r?await r:n.authToken}async function JR(t,e){let r=await o_(t.appConfig);for(;r.authToken.requestStatus===1;)await Rk(100),r=await o_(t.appConfig);const n=r.authToken;return n.requestStatus===0?mv(t,e):n}function o_(t){return Zp(t,e=>{if(!$k(e))throw Cl.create("not-registered");const r=e.authToken;return n8(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function ZR(t,e){try{const r=await YR(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Qf(t.appConfig,n),r}catch(r){if(Sk(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Lk(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Qf(t.appConfig,n)}throw r}}function $k(t){return t!==void 0&&t.registrationStatus===2}function e8(t){return t.requestStatus===2&&!t8(t)}function t8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+AR}function r8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function n8(t){return t.requestStatus===1&&t.requestTime+Tk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s8(t){const e=t,{installationEntry:r,registrationPromise:n}=await pv(e);return n?n.catch(console.error):mv(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(t,e=!1){const r=t;return await i8(r),(await mv(r,e)).token}async function i8(t){const{registrationPromise:e}=await pv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t){if(!t||!t.options)throw Ex("App Configuration");if(!t.name)throw Ex("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Ex(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ex(t){return Cl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="installations",l8="installations-internal",c8=t=>{const e=t.getProvider("app").getImmediate(),r=o8(e),n=Ko(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},u8=t=>{const e=t.getProvider("app").getImmediate(),r=Ko(e,Vk).getImmediate();return{getId:()=>s8(r),getToken:s=>a8(r,s)}};function d8(){Ra(new ca(Vk,c8,"PUBLIC")),Ra(new ca(l8,u8,"PRIVATE"))}d8();Es(Ek,hv);Es(Ek,hv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="analytics",h8="firebase_id",f8="origin",p8=60*1e3,m8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Yp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zs=new zl("analytics","Analytics",g8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){if(!t.startsWith(gv)){const e=zs.create("invalid-gtag-resource",{gtagURL:t});return Ts.warn(e.message),""}return t}function Bk(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function y8(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function v8(t,e){const r=y8("firebase-js-sdk-policy",{createScriptURL:x8}),n=document.createElement("script"),s=`${gv}?l=${t}&id=${e}`;n.src=r?r?.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function b8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function w8(t,e,r,n,s,a){const o=n[s];try{if(o)await e[o];else{const d=(await Bk(r)).find(h=>h.measurementId===s);d&&await e[d.appId]}}catch(u){Ts.error(u)}t("config",s,a)}async function _8(t,e,r,n,s){try{let a=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const u=await Bk(r);for(const d of o){const h=u.find(g=>g.measurementId===d),p=h&&e[h.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,s||{})}catch(a){Ts.error(a)}}function E8(t,e,r,n){async function s(a,...o){try{if(a==="event"){const[u,d]=o;await _8(t,e,r,u,d)}else if(a==="config"){const[u,d]=o;await w8(t,e,r,n,u,d)}else if(a==="consent"){const[u,d]=o;t("consent",u,d)}else if(a==="get"){const[u,d,h]=o;t("get",u,d,h)}else if(a==="set"){const[u]=o;t("set",u)}else t(a,...o)}catch(u){Ts.error(u)}}return s}function T8(t,e,r,n,s){let a=function(...o){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=E8(a,t,e,r),{gtagCore:a,wrappedGtag:window[s]}}function k8(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(gv)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=30,S8=1e3;class A8{constructor(e={},r=S8){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Uk=new A8;function C8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function j8(t){var e;const{appId:r,apiKey:n}=t,s={method:"GET",headers:C8(n)},a=m8.replace("{app-id}",r),o=await fetch(a,s);if(o.status!==200&&o.status!==304){let u="";try{const d=await o.json();!((e=d.error)===null||e===void 0)&&e.message&&(u=d.error.message)}catch{}throw zs.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function I8(t,e=Uk,r){const{appId:n,apiKey:s,measurementId:a}=t.options;if(!n)throw zs.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:n};throw zs.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new D8;return setTimeout(async()=>{u.abort()},p8),zk({appId:n,apiKey:s,measurementId:a},o,u,e)}async function zk(t,{throttleEndTimeMillis:e,backoffCount:r},n,s=Uk){var a;const{appId:o,measurementId:u}=t;try{await P8(n,e)}catch(d){if(u)return Ts.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:o,measurementId:u};throw d}try{const d=await j8(t);return s.deleteThrottleMetadata(o),d}catch(d){const h=d;if(!R8(h)){if(s.deleteThrottleMetadata(o),u)return Ts.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:u};throw d}const p=Number((a=h?.customData)===null||a===void 0?void 0:a.httpStatus)===503?Qw(r,s.intervalMillis,N8):Qw(r,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:r+1};return s.setThrottleMetadata(o,g),Ts.debug(`Calling attemptFetch again in ${p} millis`),zk(t,g,n,s)}}function P8(t,e){return new Promise((r,n)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(r,s);t.addEventListener(()=>{clearTimeout(a),n(zs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function R8(t){if(!(t instanceof ua)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class D8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function O8(t,e,r,n,s){if(s&&s.global){t("event",r,n);return}else{const a=await e,o=Object.assign(Object.assign({},n),{send_to:a});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F8(){if(mk())try{await gk()}catch(t){return Ts.warn(zs.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Ts.warn(zs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function L8(t,e,r,n,s,a,o){var u;const d=I8(t);d.then(v=>{r[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Ts.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Ts.error(v)),e.push(d);const h=F8().then(v=>{if(v)return n.getId()}),[p,g]=await Promise.all([d,h]);k8(a)||v8(a,p.measurementId),s("js",new Date);const y=(u=o?.config)!==null&&u!==void 0?u:{};return y[f8]="firebase",y.update=!0,g!=null&&(y[h8]=g),s("config",p.measurementId,y),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8{constructor(e){this.app=e}_delete(){return delete Rd[this.app.options.appId],Promise.resolve()}}let Rd={},l_=[];const c_={};let Tx="dataLayer",$8="gtag",u_,Hk,d_=!1;function V8(){const t=[];if(pk()&&t.push("This is a browser extension environment."),iP()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=zs.create("invalid-analytics-context",{errorInfo:e});Ts.warn(r.message)}}function B8(t,e,r){V8();const n=t.options.appId;if(!n)throw zs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ts.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zs.create("no-api-key");if(Rd[n]!=null)throw zs.create("already-exists",{id:n});if(!d_){b8(Tx);const{wrappedGtag:a,gtagCore:o}=T8(Rd,l_,c_,Tx,$8);Hk=a,u_=o,d_=!0}return Rd[n]=L8(t,l_,c_,e,u_,Tx,r),new M8(t)}function U8(t=Qp()){t=Cr(t);const e=Ko(t,Jf);return e.isInitialized()?e.getImmediate():z8(t)}function z8(t,e={}){const r=Ko(t,Jf);if(r.isInitialized()){const s=r.getImmediate();if(Do(e,r.getOptions()))return s;throw zs.create("already-initialized")}return r.initialize({options:e})}function H8(t,e,r,n){t=Cr(t),O8(Hk,Rd[t.app.options.appId],e,r,n).catch(s=>Ts.error(s))}const h_="@firebase/analytics",f_="0.10.12";function W8(){Ra(new ca(Jf,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return B8(n,s,r)},"PUBLIC")),Ra(new ca("analytics-internal",t,"PRIVATE")),Es(h_,f_),Es(h_,f_,"esm2017");function t(e){try{const r=e.getProvider(Jf).getImmediate();return{logEvent:(n,s,a)=>H8(r,n,s,a)}}catch(r){throw zs.create("interop-component-reg-failed",{reason:r})}}}W8();var p_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,Wk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function C(){}C.prototype=S.prototype,A.D=S.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(R,F,W){for(var M=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)M[Se-2]=arguments[Se];return S.prototype[F].apply(R,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,S,C){C||(C=0);var R=Array(16);if(typeof S=="string")for(var F=0;16>F;++F)R[F]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(F=0;16>F;++F)R[F]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=A.g[0],C=A.g[1],F=A.g[2];var W=A.g[3],M=S+(W^C&(F^W))+R[0]+3614090360&4294967295;S=C+(M<<7&4294967295|M>>>25),M=W+(F^S&(C^F))+R[1]+3905402710&4294967295,W=S+(M<<12&4294967295|M>>>20),M=F+(C^W&(S^C))+R[2]+606105819&4294967295,F=W+(M<<17&4294967295|M>>>15),M=C+(S^F&(W^S))+R[3]+3250441966&4294967295,C=F+(M<<22&4294967295|M>>>10),M=S+(W^C&(F^W))+R[4]+4118548399&4294967295,S=C+(M<<7&4294967295|M>>>25),M=W+(F^S&(C^F))+R[5]+1200080426&4294967295,W=S+(M<<12&4294967295|M>>>20),M=F+(C^W&(S^C))+R[6]+2821735955&4294967295,F=W+(M<<17&4294967295|M>>>15),M=C+(S^F&(W^S))+R[7]+4249261313&4294967295,C=F+(M<<22&4294967295|M>>>10),M=S+(W^C&(F^W))+R[8]+1770035416&4294967295,S=C+(M<<7&4294967295|M>>>25),M=W+(F^S&(C^F))+R[9]+2336552879&4294967295,W=S+(M<<12&4294967295|M>>>20),M=F+(C^W&(S^C))+R[10]+4294925233&4294967295,F=W+(M<<17&4294967295|M>>>15),M=C+(S^F&(W^S))+R[11]+2304563134&4294967295,C=F+(M<<22&4294967295|M>>>10),M=S+(W^C&(F^W))+R[12]+1804603682&4294967295,S=C+(M<<7&4294967295|M>>>25),M=W+(F^S&(C^F))+R[13]+4254626195&4294967295,W=S+(M<<12&4294967295|M>>>20),M=F+(C^W&(S^C))+R[14]+2792965006&4294967295,F=W+(M<<17&4294967295|M>>>15),M=C+(S^F&(W^S))+R[15]+1236535329&4294967295,C=F+(M<<22&4294967295|M>>>10),M=S+(F^W&(C^F))+R[1]+4129170786&4294967295,S=C+(M<<5&4294967295|M>>>27),M=W+(C^F&(S^C))+R[6]+3225465664&4294967295,W=S+(M<<9&4294967295|M>>>23),M=F+(S^C&(W^S))+R[11]+643717713&4294967295,F=W+(M<<14&4294967295|M>>>18),M=C+(W^S&(F^W))+R[0]+3921069994&4294967295,C=F+(M<<20&4294967295|M>>>12),M=S+(F^W&(C^F))+R[5]+3593408605&4294967295,S=C+(M<<5&4294967295|M>>>27),M=W+(C^F&(S^C))+R[10]+38016083&4294967295,W=S+(M<<9&4294967295|M>>>23),M=F+(S^C&(W^S))+R[15]+3634488961&4294967295,F=W+(M<<14&4294967295|M>>>18),M=C+(W^S&(F^W))+R[4]+3889429448&4294967295,C=F+(M<<20&4294967295|M>>>12),M=S+(F^W&(C^F))+R[9]+568446438&4294967295,S=C+(M<<5&4294967295|M>>>27),M=W+(C^F&(S^C))+R[14]+3275163606&4294967295,W=S+(M<<9&4294967295|M>>>23),M=F+(S^C&(W^S))+R[3]+4107603335&4294967295,F=W+(M<<14&4294967295|M>>>18),M=C+(W^S&(F^W))+R[8]+1163531501&4294967295,C=F+(M<<20&4294967295|M>>>12),M=S+(F^W&(C^F))+R[13]+2850285829&4294967295,S=C+(M<<5&4294967295|M>>>27),M=W+(C^F&(S^C))+R[2]+4243563512&4294967295,W=S+(M<<9&4294967295|M>>>23),M=F+(S^C&(W^S))+R[7]+1735328473&4294967295,F=W+(M<<14&4294967295|M>>>18),M=C+(W^S&(F^W))+R[12]+2368359562&4294967295,C=F+(M<<20&4294967295|M>>>12),M=S+(C^F^W)+R[5]+4294588738&4294967295,S=C+(M<<4&4294967295|M>>>28),M=W+(S^C^F)+R[8]+2272392833&4294967295,W=S+(M<<11&4294967295|M>>>21),M=F+(W^S^C)+R[11]+1839030562&4294967295,F=W+(M<<16&4294967295|M>>>16),M=C+(F^W^S)+R[14]+4259657740&4294967295,C=F+(M<<23&4294967295|M>>>9),M=S+(C^F^W)+R[1]+2763975236&4294967295,S=C+(M<<4&4294967295|M>>>28),M=W+(S^C^F)+R[4]+1272893353&4294967295,W=S+(M<<11&4294967295|M>>>21),M=F+(W^S^C)+R[7]+4139469664&4294967295,F=W+(M<<16&4294967295|M>>>16),M=C+(F^W^S)+R[10]+3200236656&4294967295,C=F+(M<<23&4294967295|M>>>9),M=S+(C^F^W)+R[13]+681279174&4294967295,S=C+(M<<4&4294967295|M>>>28),M=W+(S^C^F)+R[0]+3936430074&4294967295,W=S+(M<<11&4294967295|M>>>21),M=F+(W^S^C)+R[3]+3572445317&4294967295,F=W+(M<<16&4294967295|M>>>16),M=C+(F^W^S)+R[6]+76029189&4294967295,C=F+(M<<23&4294967295|M>>>9),M=S+(C^F^W)+R[9]+3654602809&4294967295,S=C+(M<<4&4294967295|M>>>28),M=W+(S^C^F)+R[12]+3873151461&4294967295,W=S+(M<<11&4294967295|M>>>21),M=F+(W^S^C)+R[15]+530742520&4294967295,F=W+(M<<16&4294967295|M>>>16),M=C+(F^W^S)+R[2]+3299628645&4294967295,C=F+(M<<23&4294967295|M>>>9),M=S+(F^(C|~W))+R[0]+4096336452&4294967295,S=C+(M<<6&4294967295|M>>>26),M=W+(C^(S|~F))+R[7]+1126891415&4294967295,W=S+(M<<10&4294967295|M>>>22),M=F+(S^(W|~C))+R[14]+2878612391&4294967295,F=W+(M<<15&4294967295|M>>>17),M=C+(W^(F|~S))+R[5]+4237533241&4294967295,C=F+(M<<21&4294967295|M>>>11),M=S+(F^(C|~W))+R[12]+1700485571&4294967295,S=C+(M<<6&4294967295|M>>>26),M=W+(C^(S|~F))+R[3]+2399980690&4294967295,W=S+(M<<10&4294967295|M>>>22),M=F+(S^(W|~C))+R[10]+4293915773&4294967295,F=W+(M<<15&4294967295|M>>>17),M=C+(W^(F|~S))+R[1]+2240044497&4294967295,C=F+(M<<21&4294967295|M>>>11),M=S+(F^(C|~W))+R[8]+1873313359&4294967295,S=C+(M<<6&4294967295|M>>>26),M=W+(C^(S|~F))+R[15]+4264355552&4294967295,W=S+(M<<10&4294967295|M>>>22),M=F+(S^(W|~C))+R[6]+2734768916&4294967295,F=W+(M<<15&4294967295|M>>>17),M=C+(W^(F|~S))+R[13]+1309151649&4294967295,C=F+(M<<21&4294967295|M>>>11),M=S+(F^(C|~W))+R[4]+4149444226&4294967295,S=C+(M<<6&4294967295|M>>>26),M=W+(C^(S|~F))+R[11]+3174756917&4294967295,W=S+(M<<10&4294967295|M>>>22),M=F+(S^(W|~C))+R[2]+718787259&4294967295,F=W+(M<<15&4294967295|M>>>17),M=C+(W^(F|~S))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(F+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+F&4294967295,A.g[3]=A.g[3]+W&4294967295}n.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var C=S-this.blockSize,R=this.B,F=this.h,W=0;W<S;){if(F==0)for(;W<=C;)s(this,A,W),W+=this.blockSize;if(typeof A=="string"){for(;W<S;)if(R[F++]=A.charCodeAt(W++),F==this.blockSize){s(this,R),F=0;break}}else for(;W<S;)if(R[F++]=A[W++],F==this.blockSize){s(this,R),F=0;break}}this.h=F,this.o+=S},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var C=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=C&255,C/=256;for(this.u(A),A=Array(16),S=C=0;4>S;++S)for(var R=0;32>R;R+=8)A[C++]=this.g[S]>>>R&255;return A};function a(A,S){var C=u;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=S(A)}function o(A,S){this.h=S;for(var C=[],R=!0,F=A.length-1;0<=F;F--){var W=A[F]|0;R&&W==S||(C[F]=W,R=!1)}this.g=C}var u={};function d(A){return-128<=A&&128>A?a(A,function(S){return new o([S|0],0>S?-1:0)}):new o([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return g;if(0>A)return E(h(-A));for(var S=[],C=1,R=0;A>=C;R++)S[R]=A/C|0,C*=4294967296;return new o(S,0)}function p(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return E(p(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(S,8)),R=g,F=0;F<A.length;F+=8){var W=Math.min(8,A.length-F),M=parseInt(A.substring(F,F+W),S);8>W?(W=h(Math.pow(S,W)),R=R.j(W).add(h(M))):(R=R.j(C),R=R.add(h(M)))}return R}var g=d(0),y=d(1),v=d(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var A=0,S=1,C=0;C<this.g.length;C++){var R=this.i(C);A+=(0<=R?R:4294967296+R)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k(this))return"0";if(w(this))return"-"+E(this).toString(A);for(var S=h(Math.pow(A,6)),C=this,R="";;){var F=O(C,S).g;C=D(C,F.j(S));var W=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=F,k(C))return W+R;for(;6>W.length;)W="0"+W;R=W+R}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function k(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=D(this,A),w(A)?-1:k(A)?0:1};function E(A){for(var S=A.g.length,C=[],R=0;R<S;R++)C[R]=~A.g[R];return new o(C,~A.h).add(y)}t.abs=function(){return w(this)?E(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],R=0,F=0;F<=S;F++){var W=R+(this.i(F)&65535)+(A.i(F)&65535),M=(W>>>16)+(this.i(F)>>>16)+(A.i(F)>>>16);R=M>>>16,W&=65535,M&=65535,C[F]=M<<16|W}return new o(C,C[C.length-1]&-2147483648?-1:0)};function D(A,S){return A.add(E(S))}t.j=function(A){if(k(this)||k(A))return g;if(w(this))return w(A)?E(this).j(E(A)):E(E(this).j(A));if(w(A))return E(this.j(E(A)));if(0>this.l(v)&&0>A.l(v))return h(this.m()*A.m());for(var S=this.g.length+A.g.length,C=[],R=0;R<2*S;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var F=0;F<A.g.length;F++){var W=this.i(R)>>>16,M=this.i(R)&65535,Se=A.i(F)>>>16,Ie=A.i(F)&65535;C[2*R+2*F]+=M*Ie,I(C,2*R+2*F),C[2*R+2*F+1]+=W*Ie,I(C,2*R+2*F+1),C[2*R+2*F+1]+=M*Se,I(C,2*R+2*F+1),C[2*R+2*F+2]+=W*Se,I(C,2*R+2*F+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new o(C,0)};function I(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function U(A,S){this.g=A,this.h=S}function O(A,S){if(k(S))throw Error("division by zero");if(k(A))return new U(g,g);if(w(A))return S=O(E(A),S),new U(E(S.g),E(S.h));if(w(S))return S=O(A,E(S)),new U(E(S.g),S.h);if(30<A.g.length){if(w(A)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var C=y,R=S;0>=R.l(A);)C=X(C),R=X(R);var F=B(C,1),W=B(R,1);for(R=B(R,2),C=B(C,2);!k(R);){var M=W.add(R);0>=M.l(A)&&(F=F.add(C),W=M),R=B(R,1),C=B(C,1)}return S=D(A,F.j(S)),new U(F,S)}for(F=g;0<=A.l(S);){for(C=Math.max(1,Math.floor(A.m()/S.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),W=h(C),M=W.j(S);w(M)||0<M.l(A);)C-=R,W=h(C),M=W.j(S);k(W)&&(W=y),F=F.add(W),A=D(A,M)}return new U(F,A)}t.A=function(A){return O(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)&A.i(R);return new o(C,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)|A.i(R);return new o(C,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)^A.i(R);return new o(C,this.h^A.h)};function X(A){for(var S=A.g.length+1,C=[],R=0;R<S;R++)C[R]=A.i(R)<<1|A.i(R-1)>>>31;return new o(C,A.h)}function B(A,S){var C=S>>5;S%=32;for(var R=A.g.length-C,F=[],W=0;W<R;W++)F[W]=0<S?A.i(W+C)>>>S|A.i(W+C+1)<<32-S:A.i(W+C);return new o(F,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Wk=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,Io=o}).apply(typeof p_<"u"?p_:typeof self<"u"?self:typeof window<"u"?window:{});var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qk,Nd,Gk,Df,cy,Kk,Xk,Yk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,j){return m==Array.prototype||m==Object.prototype||(m[_]=j.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof hf=="object"&&hf];for(var _=0;_<m.length;++_){var j=m[_];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var n=r(this);function s(m,_){if(_)e:{var j=n;m=m.split(".");for(var q=0;q<m.length-1;q++){var fe=m[q];if(!(fe in j))break e;j=j[fe]}m=m[m.length-1],q=j[m],_=_(q),_!=q&&_!=null&&e(j,m,{configurable:!0,writable:!0,value:_})}}function a(m,_){m instanceof String&&(m+="");var j=0,q=!1,fe={next:function(){if(!q&&j<m.length){var Ee=j++;return{value:_(Ee,m[Ee]),done:!1}}return q=!0,{done:!0,value:void 0}}};return fe[Symbol.iterator]=function(){return fe},fe}s("Array.prototype.values",function(m){return m||function(){return a(this,function(_,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function d(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function h(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function p(m,_,j){return m.call.apply(m.bind,arguments)}function g(m,_,j){if(!m)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var fe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(fe,q),m.apply(_,fe)}}return function(){return m.apply(_,arguments)}}function y(m,_,j){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function v(m,_){var j=Array.prototype.slice.call(arguments,1);return function(){var q=j.slice();return q.push.apply(q,arguments),m.apply(this,q)}}function k(m,_){function j(){}j.prototype=_.prototype,m.aa=_.prototype,m.prototype=new j,m.prototype.constructor=m,m.Qb=function(q,fe,Ee){for(var nt=Array(arguments.length-2),gr=2;gr<arguments.length;gr++)nt[gr-2]=arguments[gr];return _.prototype[fe].apply(q,nt)}}function w(m){const _=m.length;if(0<_){const j=Array(_);for(let q=0;q<_;q++)j[q]=m[q];return j}return[]}function E(m,_){for(let j=1;j<arguments.length;j++){const q=arguments[j];if(d(q)){const fe=m.length||0,Ee=q.length||0;m.length=fe+Ee;for(let nt=0;nt<Ee;nt++)m[fe+nt]=q[nt]}else m.push(q)}}class D{constructor(_,j){this.i=_,this.j=j,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(m){return/^[\s\xa0]*$/.test(m)}function U(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function O(m){return O[" "](m),m}O[" "]=function(){};var X=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function B(m,_,j){for(const q in m)_.call(j,m[q],q,m)}function A(m,_){for(const j in m)_.call(void 0,m[j],j,m)}function S(m){const _={};for(const j in m)_[j]=m[j];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(m,_){let j,q;for(let fe=1;fe<arguments.length;fe++){q=arguments[fe];for(j in q)m[j]=q[j];for(let Ee=0;Ee<C.length;Ee++)j=C[Ee],Object.prototype.hasOwnProperty.call(q,j)&&(m[j]=q[j])}}function F(m){var _=1;m=m.split(":");const j=[];for(;0<_&&m.length;)j.push(m.shift()),_--;return m.length&&j.push(m.join(":")),j}function W(m){u.setTimeout(()=>{throw m},0)}function M(){var m=ie;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class Se{constructor(){this.h=this.g=null}add(_,j){const q=Ie.get();q.set(_,j),this.h?this.h.next=q:this.g=q,this.h=q}}var Ie=new D(()=>new $e,m=>m.reset());class $e{constructor(){this.next=this.g=this.h=null}set(_,j){this.h=_,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,_e=!1,ie=new Se,de=()=>{const m=u.Promise.resolve(void 0);Le=()=>{m.then(se)}};var se=()=>{for(var m;m=M();){try{m.h.call(m.g)}catch(j){W(j)}var _=Ie;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}_e=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var re=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const j=()=>{};u.addEventListener("test",j,_),u.removeEventListener("test",j,_)}catch{}return m})();function ne(m,_){if(te.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var j=this.type=m.type,q=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(X){e:{try{O(_.nodeName);var fe=!0;break e}catch{}fe=!1}fe||(_=null)}}else j=="mouseover"?_=m.fromElement:j=="mouseout"&&(_=m.toElement);this.relatedTarget=_,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ee[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ne.aa.h.call(this)}}k(ne,te);var ee={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Be=0;function Ae(m,_,j,q,fe){this.listener=m,this.proxy=null,this.src=_,this.type=j,this.capture=!!q,this.ha=fe,this.key=++Be,this.da=this.fa=!1}function Pe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function it(m){this.src=m,this.g={},this.h=0}it.prototype.add=function(m,_,j,q,fe){var Ee=m.toString();m=this.g[Ee],m||(m=this.g[Ee]=[],this.h++);var nt=Wt(m,_,q,fe);return-1<nt?(_=m[nt],j||(_.fa=!1)):(_=new Ae(_,this.src,Ee,!!q,fe),_.fa=j,m.push(_)),_};function yt(m,_){var j=_.type;if(j in m.g){var q=m.g[j],fe=Array.prototype.indexOf.call(q,_,void 0),Ee;(Ee=0<=fe)&&Array.prototype.splice.call(q,fe,1),Ee&&(Pe(_),m.g[j].length==0&&(delete m.g[j],m.h--))}}function Wt(m,_,j,q){for(var fe=0;fe<m.length;++fe){var Ee=m[fe];if(!Ee.da&&Ee.listener==_&&Ee.capture==!!j&&Ee.ha==q)return fe}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),fr={};function Mt(m,_,j,q,fe){if(Array.isArray(_)){for(var Ee=0;Ee<_.length;Ee++)Mt(m,_[Ee],j,q,fe);return null}return j=At(j),m&&m[Fe]?m.K(_,j,h(q)?!!q.capture:!1,fe):Re(m,_,j,!1,q,fe)}function Re(m,_,j,q,fe,Ee){if(!_)throw Error("Invalid event type");var nt=h(fe)?!!fe.capture:!!fe,gr=ct(m);if(gr||(m[Oe]=gr=new it(m)),j=gr.add(_,j,q,nt,Ee),j.proxy)return j;if(q=pr(),j.proxy=q,q.src=m,q.listener=j,m.addEventListener)re||(fe=nt),fe===void 0&&(fe=!1),m.addEventListener(_.toString(),q,fe);else if(m.attachEvent)m.attachEvent(le(_.toString()),q);else if(m.addListener&&m.removeListener)m.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return j}function pr(){function m(j){return _.call(m.src,m.listener,j)}const _=Ye;return m}function $t(m,_,j,q,fe){if(Array.isArray(_))for(var Ee=0;Ee<_.length;Ee++)$t(m,_[Ee],j,q,fe);else q=h(q)?!!q.capture:!!q,j=At(j),m&&m[Fe]?(m=m.i,_=String(_).toString(),_ in m.g&&(Ee=m.g[_],j=Wt(Ee,j,q,fe),-1<j&&(Pe(Ee[j]),Array.prototype.splice.call(Ee,j,1),Ee.length==0&&(delete m.g[_],m.h--)))):m&&(m=ct(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Wt(_,j,q,fe)),(j=-1<m?_[m]:null)&&Gt(j))}function Gt(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[Fe])yt(_.i,m);else{var j=m.type,q=m.proxy;_.removeEventListener?_.removeEventListener(j,q,m.capture):_.detachEvent?_.detachEvent(le(j),q):_.addListener&&_.removeListener&&_.removeListener(q),(j=ct(_))?(yt(j,m),j.h==0&&(j.src=null,_[Oe]=null)):Pe(m)}}}function le(m){return m in fr?fr[m]:fr[m]="on"+m}function Ye(m,_){if(m.da)m=!0;else{_=new ne(_,this);var j=m.listener,q=m.ha||m.src;m.fa&&Gt(m),m=j.call(q,_)}return m}function ct(m){return m=m[Oe],m instanceof it?m:null}var ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(m){return typeof m=="function"?m:(m[ut]||(m[ut]=function(_){return m.handleEvent(_)}),m[ut])}function wt(){V.call(this),this.i=new it(this),this.M=this,this.F=null}k(wt,V),wt.prototype[Fe]=!0,wt.prototype.removeEventListener=function(m,_,j,q){$t(this,m,_,j,q)};function st(m,_){var j,q=m.F;if(q)for(j=[];q;q=q.F)j.push(q);if(m=m.M,q=_.type||_,typeof _=="string")_=new te(_,m);else if(_ instanceof te)_.target=_.target||m;else{var fe=_;_=new te(q,m),R(_,fe)}if(fe=!0,j)for(var Ee=j.length-1;0<=Ee;Ee--){var nt=_.g=j[Ee];fe=gt(nt,q,!0,_)&&fe}if(nt=_.g=m,fe=gt(nt,q,!0,_)&&fe,fe=gt(nt,q,!1,_)&&fe,j)for(Ee=0;Ee<j.length;Ee++)nt=_.g=j[Ee],fe=gt(nt,q,!1,_)&&fe}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var j=m.g[_],q=0;q<j.length;q++)Pe(j[q]);delete m.g[_],m.h--}}this.F=null},wt.prototype.K=function(m,_,j,q){return this.i.add(String(m),_,!1,j,q)},wt.prototype.L=function(m,_,j,q){return this.i.add(String(m),_,!0,j,q)};function gt(m,_,j,q){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var fe=!0,Ee=0;Ee<_.length;++Ee){var nt=_[Ee];if(nt&&!nt.da&&nt.capture==j){var gr=nt.listener,hn=nt.ha||nt.src;nt.fa&&yt(m.i,nt),fe=gr.call(hn,q)!==!1&&fe}}return fe&&!q.defaultPrevented}function ir(m,_,j){if(typeof m=="function")j&&(m=y(m,j));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(m,_||0)}function Q(m){m.g=ir(()=>{m.g=null,m.i&&(m.i=!1,Q(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class Te extends V{constructor(_,j){super(),this.m=_,this.l=j,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ft(m){V.call(this),this.h=m,this.g={}}k(ft,V);var be=[];function ke(m){B(m.g,function(_,j){this.g.hasOwnProperty(j)&&Gt(_)},m),m.g={}}ft.prototype.N=function(){ft.aa.N.call(this),ke(this)},ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Me=u.JSON.stringify,Ze=u.JSON.parse,vt=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function Nt(){}Nt.prototype.h=null;function at(m){return m.h||(m.h=m.i())}function ot(){}var et={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tt(){te.call(this,"d")}k(Tt,te);function Bt(){te.call(this,"c")}k(Bt,te);var Kt={},jr=null;function Mr(){return jr=jr||new wt}Kt.La="serverreachability";function un(m){te.call(this,Kt.La,m)}k(un,te);function cr(m){const _=Mr();st(_,new un(_))}Kt.STAT_EVENT="statevent";function Hn(m,_){te.call(this,Kt.STAT_EVENT,m),this.stat=_}k(Hn,te);function ur(m){const _=Mr();st(_,new Hn(_,m))}Kt.Ma="timingevent";function dn(m,_){te.call(this,Kt.Ma,m),this.size=_}k(dn,te);function Er(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},_)}function xn(){this.g=!0}xn.prototype.xa=function(){this.g=!1};function ve(m,_,j,q,fe,Ee){m.info(function(){if(m.g)if(Ee)for(var nt="",gr=Ee.split("&"),hn=0;hn<gr.length;hn++){var Zt=gr[hn].split("=");if(1<Zt.length){var yn=Zt[0];Zt=Zt[1];var rn=yn.split("_");nt=2<=rn.length&&rn[1]=="type"?nt+(yn+"="+Zt+"&"):nt+(yn+"=redacted&")}}else nt=null;else nt=Ee;return"XMLHTTP REQ ("+q+") [attempt "+fe+"]: "+_+`
`+j+`
`+nt})}function Ne(m,_,j,q,fe,Ee,nt){m.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+fe+"]: "+_+`
`+j+`
`+Ee+" "+nt})}function P(m,_,j,q){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+H(m,j)+(q?" "+q:"")})}function z(m,_){m.info(function(){return"TIMEOUT: "+_})}xn.prototype.info=function(){};function H(m,_){if(!m.g)return _;if(!_)return null;try{var j=JSON.parse(_);if(j){for(m=0;m<j.length;m++)if(Array.isArray(j[m])){var q=j[m];if(!(2>q.length)){var fe=q[1];if(Array.isArray(fe)&&!(1>fe.length)){var Ee=fe[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(var nt=1;nt<fe.length;nt++)fe[nt]=""}}}}return Me(j)}catch{return _}}var K={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},J={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Y;function ue(){}k(ue,Nt),ue.prototype.g=function(){return new XMLHttpRequest},ue.prototype.i=function(){return{}},Y=new ue;function me(m,_,j,q){this.j=m,this.i=_,this.l=j,this.R=q||1,this.U=new ft(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var ge={},xe={};function Ue(m,_,j){m.L=1,m.v=Zi(js(_)),m.m=j,m.P=!0,Je(m,null)}function Je(m,_){m.F=Date.now(),We(m),m.A=js(m.v);var j=m.A,q=m.R;Array.isArray(q)||(q=[String(q)]),to(j.i,"t",q),m.C=0,j=m.j.J,m.h=new he,m.g=fh(m.j,j?_:null,!m.m),0<m.O&&(m.M=new Te(y(m.Y,m,m.g),m.O)),_=m.U,j=m.g,q=m.ca;var fe="readystatechange";Array.isArray(fe)||(fe&&(be[0]=fe.toString()),fe=be);for(var Ee=0;Ee<fe.length;Ee++){var nt=Mt(j,fe[Ee],q||_.handleEvent,!1,_.h||_);if(!nt)break;_.g[nt.key]=nt}_=m.H?S(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),cr(),ve(m.i,m.u,m.A,m.l,m.R,m.m)}me.prototype.ca=function(m){m=m.target;const _=this.M;_&&fs(m)==3?_.j():this.Y(m)},me.prototype.Y=function(m){try{if(m==this.g)e:{const rn=fs(this.g);var _=this.g.Ba();const Xs=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||rn!=4||_==7||(_==8||0>=Xs?cr(3):cr(2)),nr(this);var j=this.g.Z();this.X=j;t:if(lt(this)){var q=qu(this.g);m="";var fe=q.length,Ee=fs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),Jt(this);var nt="";break t}this.h.i=new u.TextDecoder}for(_=0;_<fe;_++)this.h.h=!0,m+=this.h.i.decode(q[_],{stream:!(Ee&&_==fe-1)});q.length=0,this.h.g+=m,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=j==200,Ne(this.i,this.u,this.A,this.l,this.R,rn,j),this.o){if(this.T&&!this.K){t:{if(this.g){var gr,hn=this.g;if((gr=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(gr)){var Zt=gr;break t}}Zt=null}if(j=Zt)P(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cs(this,j);else{this.o=!1,this.s=3,ur(12),sr(this),Jt(this);break e}}if(this.P){j=!0;let Ps;for(;!this.J&&this.C<nt.length;)if(Ps=Ke(this,nt),Ps==xe){rn==4&&(this.s=4,ur(14),j=!1),P(this.i,this.l,null,"[Incomplete Response]");break}else if(Ps==ge){this.s=4,ur(15),P(this.i,this.l,nt,"[Invalid Chunk]"),j=!1;break}else P(this.i,this.l,Ps,null),Cs(this,Ps);if(lt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||nt.length!=0||this.h.h||(this.s=1,ur(16),j=!1),this.o=this.o&&j,!j)P(this.i,this.l,nt,"[Invalid Chunked Response]"),sr(this),Jt(this);else if(0<nt.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Ku(yn),yn.M=!0,ur(11))}}else P(this.i,this.l,nt,null),Cs(this,nt);rn==4&&sr(this),this.o&&!this.J&&(rn==4?gc(this.j,this):(this.o=!1,We(this)))}else dc(this.g),j==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ur(12)):(this.s=0,ur(13)),sr(this),Jt(this)}}}catch{}finally{}};function lt(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ke(m,_){var j=m.C,q=_.indexOf(`
`,j);return q==-1?xe:(j=Number(_.substring(j,q)),isNaN(j)?ge:(q+=1,q+j>_.length?xe:(_=_.slice(q,q+j),m.C=q+j,_)))}me.prototype.cancel=function(){this.J=!0,sr(this)};function We(m){m.S=Date.now()+m.I,Pt(m,m.I)}function Pt(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Er(y(m.ba,m),_)}function nr(m){m.B&&(u.clearTimeout(m.B),m.B=null)}me.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(z(this.i,this.A),this.L!=2&&(cr(),ur(17)),sr(this),this.s=2,Jt(this)):Pt(this,this.S-m)};function Jt(m){m.j.G==0||m.J||gc(m.j,m)}function sr(m){nr(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,ke(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function Cs(m,_){try{var j=m.j;if(j.G!=0&&(j.g==m||Ir(j.h,m))){if(!m.K&&Ir(j.h,m)&&j.G==3){try{var q=j.Da.g.parse(_)}catch{q=null}if(Array.isArray(q)&&q.length==3){var fe=q;if(fe[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<m.F)mc(j),ga(j);else break e;pc(j),ur(18)}}else j.za=fe[1],0<j.za-j.T&&37500>fe[2]&&j.F&&j.v==0&&!j.C&&(j.C=Er(y(j.Za,j),6e3));if(1>=Xi(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else yi(j,11)}else if((m.K||j.g==m)&&mc(j),!I(_))for(fe=j.Da.g.parse(_),_=0;_<fe.length;_++){let Zt=fe[_];if(j.T=Zt[0],Zt=Zt[1],j.G==2)if(Zt[0]=="c"){j.K=Zt[1],j.ia=Zt[2];const yn=Zt[3];yn!=null&&(j.la=yn,j.j.info("VER="+j.la));const rn=Zt[4];rn!=null&&(j.Aa=rn,j.j.info("SVER="+j.Aa));const Xs=Zt[5];Xs!=null&&typeof Xs=="number"&&0<Xs&&(q=1.5*Xs,j.L=q,j.j.info("backChannelRequestTimeoutMs_="+q)),q=j;const Ps=m.g;if(Ps){const al=Ps.g?Ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(al){var Ee=q.h;Ee.g||al.indexOf("spdy")==-1&&al.indexOf("quic")==-1&&al.indexOf("h2")==-1||(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(Uu(Ee,Ee.h),Ee.h=null))}if(q.D){const yc=Ps.g?Ps.g.getResponseHeader("X-HTTP-Session-Id"):null;yc&&(q.ya=yc,Nr(q.I,q.D,yc))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-m.F,j.j.info("Handshake RTT: "+j.R+"ms")),q=j;var nt=m;if(q.qa=hh(q,q.J?q.ia:null,q.W),nt.K){eh(q.h,nt);var gr=nt,hn=q.L;hn&&(gr.I=hn),gr.B&&(nr(gr),We(gr)),q.g=nt}else sl(q);0<j.i.length&&Ua(j)}else Zt[0]!="stop"&&Zt[0]!="close"||yi(j,7);else j.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?yi(j,7):An(j):Zt[0]!="noop"&&j.l&&j.l.ta(Zt),j.v=0)}}cr(4)}catch{}}var Gs=class{constructor(m,_){this.g=m,this.map=_}};function rs(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $r(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Xi(m){return m.h?1:m.g?m.g.size:0}function Ir(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function Uu(m,_){m.g?m.g.add(_):m.h=_}function eh(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}rs.prototype.cancel=function(){if(this.i=th(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function th(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const j of m.g.values())_=_.concat(j.D);return _}return w(m.i)}function ic(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var _=[],j=m.length,q=0;q<j;q++)_.push(m[q]);return _}_=[],j=0;for(q in m)_[j++]=m[q];return _}function oc(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var _=[];m=m.length;for(var j=0;j<m;j++)_.push(j);return _}_=[],j=0;for(const q in m)_[j++]=q;return _}}}function Yi(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var j=oc(m),q=ic(m),fe=q.length,Ee=0;Ee<fe;Ee++)_.call(void 0,q[Ee],j&&j[Ee],m)}var el=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vm(m,_){if(m){m=m.split("&");for(var j=0;j<m.length;j++){var q=m[j].indexOf("="),fe=null;if(0<=q){var Ee=m[j].substring(0,q);fe=m[j].substring(q+1)}else Ee=m[j];_(Ee,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function pi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof pi){this.h=m.h,tl(this,m.j),this.o=m.o,this.g=m.g,Qi(this,m.s),this.l=m.l;var _=m.i,j=new $a;j.i=_.i,_.g&&(j.g=new Map(_.g),j.h=_.h),Ji(this,j),this.m=m.m}else m&&(_=String(m).match(el))?(this.h=!1,tl(this,_[1]||"",!0),this.o=Qt(_[2]||""),this.g=Qt(_[3]||"",!0),Qi(this,_[4]),this.l=Qt(_[5]||"",!0),Ji(this,_[6]||"",!0),this.m=Qt(_[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}pi.prototype.toString=function(){var m=[],_=this.j;_&&m.push(eo(_,lc,!0),":");var j=this.g;return(j||_=="file")&&(m.push("//"),(_=this.o)&&m.push(eo(_,lc,!0),"@"),m.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&m.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&m.push("/"),m.push(eo(j,j.charAt(0)=="/"?sh:nh,!0))),(j=this.i.toString())&&m.push("?",j),(j=this.m)&&m.push("#",eo(j,zu)),m.join("")};function js(m){return new pi(m)}function tl(m,_,j){m.j=j?Qt(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function Qi(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function Ji(m,_,j){_ instanceof $a?(m.i=_,Va(m.i,m.h)):(j||(_=eo(_,ah)),m.i=new $a(_,m.h))}function Nr(m,_,j){m.i.set(_,j)}function Zi(m){return Nr(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Qt(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function eo(m,_,j){return typeof m=="string"?(m=encodeURI(m).replace(_,rh),j&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function rh(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var lc=/[#\/\?@]/g,nh=/[#\?:]/g,sh=/[#\?]/g,ah=/[#\?@]/g,zu=/#/g;function $a(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function Sn(m){m.g||(m.g=new Map,m.h=0,m.i&&Vm(m.i,function(_,j){m.add(decodeURIComponent(_.replace(/\+/g," ")),j)}))}t=$a.prototype,t.add=function(m,_){Sn(this),this.i=null,m=Ks(this,m);var j=this.g.get(m);return j||this.g.set(m,j=[]),j.push(_),this.h+=1,this};function ha(m,_){Sn(m),_=Ks(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function fa(m,_){return Sn(m),_=Ks(m,_),m.g.has(_)}t.forEach=function(m,_){Sn(this),this.g.forEach(function(j,q){j.forEach(function(fe){m.call(_,fe,q,this)},this)},this)},t.na=function(){Sn(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),j=[];for(let q=0;q<_.length;q++){const fe=m[q];for(let Ee=0;Ee<fe.length;Ee++)j.push(_[q])}return j},t.V=function(m){Sn(this);let _=[];if(typeof m=="string")fa(this,m)&&(_=_.concat(this.g.get(Ks(this,m))));else{m=Array.from(this.g.values());for(let j=0;j<m.length;j++)_=_.concat(m[j])}return _},t.set=function(m,_){return Sn(this),this.i=null,m=Ks(this,m),fa(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},t.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function to(m,_,j){ha(m,_),0<j.length&&(m.i=null,m.g.set(Ks(m,_),w(j)),m.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var j=0;j<_.length;j++){var q=_[j];const Ee=encodeURIComponent(String(q)),nt=this.V(q);for(q=0;q<nt.length;q++){var fe=Ee;nt[q]!==""&&(fe+="="+encodeURIComponent(String(nt[q]))),m.push(fe)}}return this.i=m.join("&")};function Ks(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Va(m,_){_&&!m.j&&(Sn(m),m.i=null,m.g.forEach(function(j,q){var fe=q.toLowerCase();q!=fe&&(ha(this,q),to(this,fe,j))},m)),m.j=_}function Bm(m,_){const j=new xn;if(u.Image){const q=new Image;q.onload=v(hs,j,"TestLoadImage: loaded",!0,_,q),q.onerror=v(hs,j,"TestLoadImage: error",!1,_,q),q.onabort=v(hs,j,"TestLoadImage: abort",!1,_,q),q.ontimeout=v(hs,j,"TestLoadImage: timeout",!1,_,q),u.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=m}else _(!1)}function ih(m,_){const j=new xn,q=new AbortController,fe=setTimeout(()=>{q.abort(),hs(j,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:q.signal}).then(Ee=>{clearTimeout(fe),Ee.ok?hs(j,"TestPingServer: ok",!0,_):hs(j,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(fe),hs(j,"TestPingServer: error",!1,_)})}function hs(m,_,j,q,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),q(j)}catch{}}function Um(){this.g=new vt}function oh(m,_,j){const q=j||"";try{Yi(m,function(fe,Ee){let nt=fe;h(fe)&&(nt=Me(fe)),_.push(q+Ee+"="+encodeURIComponent(nt))})}catch(fe){throw _.push(q+"type="+encodeURIComponent("_badmap")),fe}}function mi(m){this.l=m.Ub||null,this.j=m.eb||!1}k(mi,Nt),mi.prototype.g=function(){return new rl(this.l,this.j)},mi.prototype.i=(function(m){return function(){return m}})({});function rl(m,_){wt.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(rl,wt),t=rl.prototype,t.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,ma(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ma(this)),this.g&&(this.readyState=3,ma(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function lh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?pa(this):ma(this),this.readyState==3&&lh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,pa(this))},t.Qa=function(m){this.g&&(this.response=m,pa(this))},t.ga=function(){this.g&&pa(this)};function pa(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ma(m)}t.setRequestHeader=function(m,_){this.u.append(m,_)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var j=_.next();!j.done;)j=j.value,m.push(j[0]+": "+j[1]),j=_.next();return m.join(`\r
`)};function ma(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function gi(m){let _="";return B(m,function(j,q){_+=q,_+=":",_+=j,_+=`\r
`}),_}function ro(m,_,j){e:{for(q in j){var q=!1;break e}q=!0}q||(j=gi(j),typeof m=="string"?j!=null&&encodeURIComponent(String(j)):Nr(m,_,j))}function Or(m){wt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Or,wt);var zm=/^https?$/i,Hu=["POST","PUT"];t=Or.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,_,j,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Y.g(),this.v=this.o?at(this.o):at(Y),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(Ee){nl(this,Ee);return}if(m=j||"",j=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var fe in q)j.set(fe,q[fe]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const Ee of q.keys())j.set(Ee,q.get(Ee));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(j.keys()).find(Ee=>Ee.toLowerCase()=="content-type"),fe=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Hu,_,void 0))||q||fe||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ee,nt]of j)this.g.setRequestHeader(Ee,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uc(this),this.u=!0,this.g.send(m),this.u=!1}catch(Ee){nl(this,Ee)}};function nl(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,cc(m),Is(m)}function cc(m){m.A||(m.A=!0,st(m,"complete"),st(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,st(this,"complete"),st(this,"abort"),Is(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Is(this,!0)),Or.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wu(this):this.bb())},t.bb=function(){Wu(this)};function Wu(m){if(m.h&&typeof o<"u"&&(!m.v[1]||fs(m)!=4||m.Z()!=2)){if(m.u&&fs(m)==4)ir(m.Ea,0,m);else if(st(m,"readystatechange"),fs(m)==4){m.h=!1;try{const nt=m.Z();e:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var j;if(!(j=_)){var q;if(q=nt===0){var fe=String(m.D).match(el)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),q=!zm.test(fe?fe.toLowerCase():"")}j=q}if(j)st(m,"complete"),st(m,"success");else{m.m=6;try{var Ee=2<fs(m)?m.g.statusText:""}catch{Ee=""}m.l=Ee+" ["+m.Z()+"]",cc(m)}}finally{Is(m)}}}}function Is(m,_){if(m.g){uc(m);const j=m.g,q=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||st(m,"ready");try{j.onreadystatechange=q}catch{}}}function uc(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function fs(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<fs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),Ze(_)}};function qu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function dc(m){const _={};m=(m.g&&2<=fs(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<m.length;q++){if(I(m[q]))continue;var j=F(m[q]);const fe=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const Ee=_[fe]||[];_[fe]=Ee,Ee.push(j)}A(_,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(m,_,j){return j&&j.internalChannelParams&&j.internalChannelParams[m]||_}function Gu(m){this.Aa=0,this.i=[],this.j=new xn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ba("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ba("baseRetryDelayMs",5e3,m),this.cb=Ba("retryDelaySeedMs",1e4,m),this.Wa=Ba("forwardChannelMaxRetries",2,m),this.wa=Ba("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new rs(m&&m.concurrentRequestLimit),this.Da=new Um,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Gu.prototype,t.la=8,t.G=1,t.connect=function(m,_,j,q){ur(0),this.W=m,this.H=_||{},j&&q!==void 0&&(this.H.OSID=j,this.H.OAID=q),this.F=this.X,this.I=hh(this,null,this.W),Ua(this)};function An(m){if(hc(m),m.G==3){var _=m.U++,j=js(m.I);if(Nr(j,"SID",m.K),Nr(j,"RID",_),Nr(j,"TYPE","terminate"),xi(m,j),_=new me(m,m.j,_),_.L=2,_.v=Zi(js(j)),j=!1,u.navigator&&u.navigator.sendBeacon)try{j=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!j&&u.Image&&(new Image().src=_.v,j=!0),j||(_.g=fh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),We(_)}dh(m)}function ga(m){m.g&&(Ku(m),m.g.cancel(),m.g=null)}function hc(m){ga(m),m.u&&(u.clearTimeout(m.u),m.u=null),mc(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Ua(m){if(!$r(m.h)&&!m.s){m.s=!0;var _=m.Ga;Le||de(),_e||(Le(),_e=!0),ie.add(_,m),m.B=0}}function Hm(m,_){return Xi(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Er(y(m.Ga,m,_),uh(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const fe=new me(this,this.j,m);let Ee=this.o;if(this.S&&(Ee?(Ee=S(Ee),R(Ee,this.S)):Ee=this.S),this.m!==null||this.O||(fe.H=Ee,Ee=null),this.P)e:{for(var _=0,j=0;j<this.i.length;j++){t:{var q=this.i[j];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(_+=q,4096<_){_=j;break e}if(_===4096||j===this.i.length-1){_=j+1;break e}}_=1e3}else _=1e3;_=no(this,fe,_),j=js(this.I),Nr(j,"RID",m),Nr(j,"CVER",22),this.D&&Nr(j,"X-HTTP-Session-Id",this.D),xi(this,j),Ee&&(this.O?_="headers="+encodeURIComponent(String(gi(Ee)))+"&"+_:this.m&&ro(j,this.m,Ee)),Uu(this.h,fe),this.Ua&&Nr(j,"TYPE","init"),this.P?(Nr(j,"$req",_),Nr(j,"SID","null"),fe.T=!0,Ue(fe,j,null)):Ue(fe,j,_),this.G=2}}else this.G==3&&(m?fc(this,m):this.i.length==0||$r(this.h)||fc(this))};function fc(m,_){var j;_?j=_.l:j=m.U++;const q=js(m.I);Nr(q,"SID",m.K),Nr(q,"RID",j),Nr(q,"AID",m.T),xi(m,q),m.m&&m.o&&ro(q,m.m,m.o),j=new me(m,m.j,j,m.B+1),m.m===null&&(j.H=m.o),_&&(m.i=_.D.concat(m.i)),_=no(m,j,1e3),j.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Uu(m.h,j),Ue(j,q,_)}function xi(m,_){m.H&&B(m.H,function(j,q){Nr(_,q,j)}),m.l&&Yi({},function(j,q){Nr(_,q,j)})}function no(m,_,j){j=Math.min(m.i.length,j);var q=m.l?y(m.l.Na,m.l,m):null;e:{var fe=m.i;let Ee=-1;for(;;){const nt=["count="+j];Ee==-1?0<j?(Ee=fe[0].g,nt.push("ofs="+Ee)):Ee=0:nt.push("ofs="+Ee);let gr=!0;for(let hn=0;hn<j;hn++){let Zt=fe[hn].g;const yn=fe[hn].map;if(Zt-=Ee,0>Zt)Ee=Math.max(0,fe[hn].g-100),gr=!1;else try{oh(yn,nt,"req"+Zt+"_")}catch{q&&q(yn)}}if(gr){q=nt.join("&");break e}}}return m=m.i.splice(0,j),_.D=m,q}function sl(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;Le||de(),_e||(Le(),_e=!0),ie.add(_,m),m.v=0}}function pc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Er(y(m.Fa,m),uh(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,ch(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Er(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ur(10),ga(this),ch(this))};function Ku(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function ch(m){m.g=new me(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=js(m.qa);Nr(_,"RID","rpc"),Nr(_,"SID",m.K),Nr(_,"AID",m.T),Nr(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&Nr(_,"TO",m.ja),Nr(_,"TYPE","xmlhttp"),xi(m,_),m.m&&m.o&&ro(_,m.m,m.o),m.L&&(m.g.I=m.L);var j=m.g;m=m.ia,j.L=1,j.v=Zi(js(_)),j.m=null,j.P=!0,Je(j,m)}t.Za=function(){this.C!=null&&(this.C=null,ga(this),pc(this),ur(19))};function mc(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function gc(m,_){var j=null;if(m.g==_){mc(m),Ku(m),m.g=null;var q=2}else if(Ir(m.h,_))j=_.D,eh(m.h,_),q=1;else return;if(m.G!=0){if(_.o)if(q==1){j=_.m?_.m.length:0,_=Date.now()-_.F;var fe=m.B;q=Mr(),st(q,new dn(q,j)),Ua(m)}else sl(m);else if(fe=_.s,fe==3||fe==0&&0<_.X||!(q==1&&Hm(m,_)||q==2&&pc(m)))switch(j&&0<j.length&&(_=m.h,_.i=_.i.concat(j)),fe){case 1:yi(m,5);break;case 4:yi(m,10);break;case 3:yi(m,6);break;default:yi(m,2)}}}function uh(m,_){let j=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(j*=2),j*_}function yi(m,_){if(m.j.info("Error code "+_),_==2){var j=y(m.fb,m),q=m.Xa;const fe=!q;q=new pi(q||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||tl(q,"https"),Zi(q),fe?Bm(q.toString(),j):ih(q.toString(),j)}else ur(2);m.G=0,m.l&&m.l.sa(_),dh(m),hc(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ur(2)):(this.j.info("Failed to ping google.com"),ur(1))};function dh(m){if(m.G=0,m.ka=[],m.l){const _=th(m.h);(_.length!=0||m.i.length!=0)&&(E(m.ka,_),E(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function hh(m,_,j){var q=j instanceof pi?js(j):new pi(j);if(q.g!="")_&&(q.g=_+"."+q.g),Qi(q,q.s);else{var fe=u.location;q=fe.protocol,_=_?_+"."+fe.hostname:fe.hostname,fe=+fe.port;var Ee=new pi(null);q&&tl(Ee,q),_&&(Ee.g=_),fe&&Qi(Ee,fe),j&&(Ee.l=j),q=Ee}return j=m.D,_=m.ya,j&&_&&Nr(q,j,_),Nr(q,"VER",m.la),xi(m,q),q}function fh(m,_,j){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new Or(new mi({eb:j})):new Or(m.pa),_.Ha(m.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}t=Xu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xc(){}xc.prototype.g=function(m,_){return new ns(m,_)};function ns(m,_){wt.call(this),this.g=new Gu(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!I(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new za(this)}k(ns,wt),ns.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ns.prototype.close=function(){An(this.g)},ns.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var j={};j.__data__=m,m=j}else this.u&&(j={},j.__data__=Me(m),m=j);_.i.push(new Gs(_.Ya++,m)),_.G==3&&Ua(_)},ns.prototype.N=function(){this.g.l=null,delete this.j,An(this.g),delete this.g,ns.aa.N.call(this)};function ph(m){Tt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const j in _){m=j;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}k(ph,Tt);function mh(){Bt.call(this),this.status=1}k(mh,Bt);function za(m){this.g=m}k(za,Xu),za.prototype.ua=function(){st(this.g,"a")},za.prototype.ta=function(m){st(this.g,new ph(m))},za.prototype.sa=function(m){st(this.g,new mh)},za.prototype.ra=function(){st(this.g,"b")},xc.prototype.createWebChannel=xc.prototype.g,ns.prototype.send=ns.prototype.o,ns.prototype.open=ns.prototype.m,ns.prototype.close=ns.prototype.close,Yk=function(){return new xc},Xk=function(){return Mr()},Kk=Kt,cy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,Df=K,J.COMPLETE="complete",Gk=J,ot.EventType=et,et.OPEN="a",et.CLOSE="b",et.ERROR="c",et.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Nd=ot,Or.prototype.listenOnce=Or.prototype.L,Or.prototype.getLastError=Or.prototype.Ka,Or.prototype.getLastErrorCode=Or.prototype.Ba,Or.prototype.getStatus=Or.prototype.Z,Or.prototype.getResponseJson=Or.prototype.Oa,Or.prototype.getResponseText=Or.prototype.oa,Or.prototype.send=Or.prototype.ea,Or.prototype.setWithCredentials=Or.prototype.Ha,qk=Or}).apply(typeof hf<"u"?hf:typeof self<"u"?self:typeof window<"u"?window:{});const m_="@firebase/firestore",g_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Yp("@firebase/firestore");function Uc(){return Il.logLevel}function mt(t,...e){if(Il.logLevel<=Xt.DEBUG){const r=e.map(xv);Il.debug(`Firestore (${Cu}): ${t}`,...r)}}function $i(t,...e){if(Il.logLevel<=Xt.ERROR){const r=e.map(xv);Il.error(`Firestore (${Cu}): ${t}`,...r)}}function cu(t,...e){if(Il.logLevel<=Xt.WARN){const r=e.map(xv);Il.warn(`Firestore (${Cu}): ${t}`,...r)}}function xv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t="Unexpected state"){const e=`FIRESTORE (${Cu}) INTERNAL ASSERTION FAILED: `+t;throw $i(e),new Error(e)}function rr(t,e){t||It()}function Lt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends ua{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Qn.UNAUTHENTICATED)))}shutdown(){}}class G8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class K8{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){rr(this.o===void 0);let n=this.i;const s=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let a=new Qa;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qa,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qa)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(rr(typeof n.accessToken=="string"),new Qk(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rr(e===null||typeof e=="string"),new Qn(e)}}class X8{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Y8{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new X8(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(Qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q8{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Vs(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){rr(this.o===void 0);const n=a=>{a.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,mt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const s=a=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new x_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(rr(typeof r.token=="string"),this.R=r.token,new x_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=J8(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<r&&(n+=e.charAt(s[a]%62))}return n}}function Ht(t,e){return t<e?-1:t>e?1:0}function uy(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),s=e.codePointAt(r);if(n!==s){if(n<128&&s<128)return Ht(n,s);{const a=Jk(),o=Z8(a.encode(y_(t,r)),a.encode(y_(e,r)));return o!==0?o:Ht(n,s)}}r+=n>65535?2:1}return Ht(t.length,e.length)}function y_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Z8(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Ht(t[r],e[r]);return Ht(t.length,e.length)}function uu(t,e,r){return t.length===e.length&&t.every(((n,s)=>r(n,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=-62135596800,b_=1e6;class kr{static now(){return kr.fromMillis(Date.now())}static fromDate(e){return kr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*b_);return new kr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new dt(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new dt(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<v_)throw new dt(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b_}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-v_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new kr(0,0))}static max(){return new Rt(new kr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="__name__";class Ya{constructor(e,r,n){r===void 0?r=0:r>e.length&&It(),n===void 0?n=e.length-r:n>e.length-r&&It(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ya.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ya?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const a=Ya.compareSegments(e.get(s),r.get(s));if(a!==0)return a}return Ht(e.length,r.length)}static compareSegments(e,r){const n=Ya.isNumericId(e),s=Ya.isNumericId(r);return n&&!s?-1:!n&&s?1:n&&s?Ya.extractNumericId(e).compare(Ya.extractNumericId(r)):uy(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class Sr extends Ya{construct(e,r,n){return new Sr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new dt(De.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((s=>s.length>0)))}return new Sr(r)}static emptyPath(){return new Sr([])}}const eD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends Ya{construct(e,r,n){return new On(e,r,n)}static isValidIdentifier(e){return eD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w_}static keyField(){return new On([w_])}static fromServerFormat(e){const r=[];let n="",s=0;const a=()=>{if(n.length===0)throw new dt(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new dt(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new dt(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(n+=u,s++):(a(),s++)}if(a(),o)throw new dt(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new On(r)}static emptyPath(){return new On([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.path=e}static fromPath(e){return new St(Sr.fromString(e))}static fromName(e){return new St(Sr.fromString(e).popFirst(5))}static empty(){return new St(Sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Sr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Sr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new Sr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=-1;function tD(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Rt.fromTimestamp(n===1e9?new kr(r+1,0):new kr(r,n));return new Oo(s,St.empty(),e)}function rD(t){return new Oo(t.readTime,t.key,Zd)}class Oo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Oo(Rt.min(),St.empty(),Zd)}static max(){return new Oo(Rt.max(),St.empty(),Zd)}}function nD(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=St.comparator(t.documentKey,e.documentKey),r!==0?r:Ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t){if(t.code!==De.FAILED_PRECONDITION||t.message!==sD)throw t;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ve(((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,s)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Ve?r:Ve.resolve(r)}catch(r){return Ve.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Ve.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Ve.reject(r)}static resolve(e){return new Ve(((r,n)=>{r(e)}))}static reject(e){return new Ve(((r,n)=>{n(e)}))}static waitFor(e){return new Ve(((r,n)=>{let s=0,a=0,o=!1;e.forEach((u=>{++s,u.next((()=>{++a,o&&a===s&&r()}),(d=>n(d)))})),o=!0,a===s&&r()}))}static or(e){let r=Ve.resolve(!1);for(const n of e)r=r.next((s=>s?Ve.resolve(s):n()));return r}static forEach(e,r){const n=[];return e.forEach(((s,a)=>{n.push(r.call(this,s,a))})),this.waitFor(n)}static mapArray(e,r){return new Ve(((n,s)=>{const a=e.length,o=new Array(a);let u=0;for(let d=0;d<a;d++){const h=d;r(e[h]).next((p=>{o[h]=p,++u,u===a&&n(o)}),(p=>s(p)))}}))}static doWhile(e,r){return new Ve(((n,s)=>{const a=()=>{e()===!0?r().next((()=>{a()}),s):n()};a()}))}}function iD(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Iu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}em.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=-1;function A0(t){return t==null}function Zf(t){return t===0&&1/t==-1/0}function oD(t){return typeof t=="number"&&Number.isInteger(t)&&!Zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="";function lD(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=__(e)),e=cD(t.get(r),e);return __(e)}function cD(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const a=t.charAt(s);switch(a){case"\0":r+="";break;case eN:r+="";break;default:r+=a}}return r}function __(t){return t+eN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Xo(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function tN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,r){this.comparator=e,this.root=r||Dn.EMPTY}insert(e,r){return new Wr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ff(this.root,e,this.comparator,!0)}}class ff{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,r,n,s,a){this.key=e,this.value=r,this.color=n??Dn.RED,this.left=s??Dn.EMPTY,this.right=a??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,a){return new Dn(e??this.key,r??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const a=n(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,r,n),null):a===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return Dn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(e,r,n,s,a){return this}insert(e,r,n){return new Dn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.comparator=e,this.data=new Wr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new T_(this.data.getIterator())}getIteratorFrom(e){return new T_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new gn(this.comparator);return r.data=e,r}}class T_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new Bs([])}unionWith(e){let r=new gn(On.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Bs(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return uu(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new rN("Invalid base64 string: "+a):a}})(e);return new Un(r)}static fromUint8Array(e){const r=(function(s){let a="";for(let o=0;o<s.length;++o)a+=String.fromCharCode(s[o]);return a})(e);return new Un(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const uD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(t){if(rr(!!t),typeof t=="string"){let e=0;const r=uD.exec(t);if(rr(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Zr(t.seconds),nanos:Zr(t.nanos)}}function Zr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lo(t){return typeof t=="string"?Un.fromBase64String(t):Un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="server_timestamp",sN="__type__",aN="__previous_value__",iN="__local_write_time__";function vv(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[sN])===null||r===void 0?void 0:r.stringValue)===nN}function tm(t){const e=t.mapValue.fields[aN];return vv(e)?tm(e):e}function e0(t){const e=Fo(t.mapValue.fields[iN].timestampValue);return new kr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,r,n,s,a,o,u,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const ep="(default)";class t0{constructor(e,r){this.projectId=e,this.database=r||ep}static empty(){return new t0("","")}get isDefaultDatabase(){return this.database===ep}isEqual(e){return e instanceof t0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="__type__",hD="__max__",pf={mapValue:{}},lN="__vector__",tp="value";function Mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vv(t)?4:pD(t)?9007199254740991:fD(t)?10:11:It()}function oi(t,e){if(t===e)return!0;const r=Mo(t);if(r!==Mo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return e0(t).isEqual(e0(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const o=Fo(s.timestampValue),u=Fo(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return Lo(s.bytesValue).isEqual(Lo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return Zr(s.geoPointValue.latitude)===Zr(a.geoPointValue.latitude)&&Zr(s.geoPointValue.longitude)===Zr(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Zr(s.integerValue)===Zr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const o=Zr(s.doubleValue),u=Zr(a.doubleValue);return o===u?Zf(o)===Zf(u):isNaN(o)&&isNaN(u)}return!1})(t,e);case 9:return uu(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(s,a){const o=s.mapValue.fields||{},u=a.mapValue.fields||{};if(E_(o)!==E_(u))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(u[d]===void 0||!oi(o[d],u[d])))return!1;return!0})(t,e);default:return It()}}function r0(t,e){return(t.values||[]).find((r=>oi(r,e)))!==void 0}function du(t,e){if(t===e)return 0;const r=Mo(t),n=Mo(e);if(r!==n)return Ht(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ht(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const u=Zr(a.integerValue||a.doubleValue),d=Zr(o.integerValue||o.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return k_(t.timestampValue,e.timestampValue);case 4:return k_(e0(t),e0(e));case 5:return uy(t.stringValue,e.stringValue);case 6:return(function(a,o){const u=Lo(a),d=Lo(o);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const u=a.split("/"),d=o.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=Ht(u[h],d[h]);if(p!==0)return p}return Ht(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const u=Ht(Zr(a.latitude),Zr(o.latitude));return u!==0?u:Ht(Zr(a.longitude),Zr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return N_(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var u,d,h,p;const g=a.fields||{},y=o.fields||{},v=(u=g[tp])===null||u===void 0?void 0:u.arrayValue,k=(d=y[tp])===null||d===void 0?void 0:d.arrayValue,w=Ht(((h=v?.values)===null||h===void 0?void 0:h.length)||0,((p=k?.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:N_(v,k)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===pf.mapValue&&o===pf.mapValue)return 0;if(a===pf.mapValue)return 1;if(o===pf.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),h=o.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const y=uy(d[g],p[g]);if(y!==0)return y;const v=du(u[d[g]],h[p[g]]);if(v!==0)return v}return Ht(d.length,p.length)})(t.mapValue,e.mapValue);default:throw It()}}function k_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ht(t,e);const r=Fo(t),n=Fo(e),s=Ht(r.seconds,n.seconds);return s!==0?s:Ht(r.nanos,n.nanos)}function N_(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const a=du(r[s],n[s]);if(a)return a}return Ht(r.length,n.length)}function hu(t){return dy(t)}function dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Fo(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Lo(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return St.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",s=!0;for(const a of r.values||[])s?s=!1:n+=",",n+=dy(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const o of n)a?a=!1:s+=",",s+=`${o}:${dy(r.fields[o])}`;return s+"}"})(t.mapValue):It()}function Of(t){switch(Mo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tm(t);return e?16+Of(e):16;case 5:return 2*t.stringValue.length;case 6:return Lo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,a)=>s+Of(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let s=0;return Xo(n.fields,((a,o)=>{s+=a.length+Of(o)})),s})(t.mapValue);default:throw It()}}function S_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hy(t){return!!t&&"integerValue"in t}function bv(t){return!!t&&"arrayValue"in t}function A_(t){return!!t&&"nullValue"in t}function C_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ff(t){return!!t&&"mapValue"in t}function fD(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[oN])===null||r===void 0?void 0:r.stringValue)===lN}function Dd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Dd(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Dd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function pD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.value=e}static empty(){return new ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Ff(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dd(r)}setAll(e){let r=On.emptyPath(),n={},s=[];e.forEach(((o,u)=>{if(!r.isImmediateParentOf(u)){const d=this.getFieldsMap(r);this.applyChanges(d,n,s),n={},s=[],r=u.popLast()}o?n[u.lastSegment()]=Dd(o):s.push(u.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,s)}delete(e){const r=this.field(e.popLast());Ff(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];Ff(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){Xo(r,((s,a)=>e[s]=a));for(const s of n)delete e[s]}clone(){return new ls(Dd(this.value))}}function cN(t){const e=[];return Xo(t.fields,((r,n)=>{const s=new On([r]);if(Ff(n)){const a=cN(n.mapValue).fields;if(a.length===0)e.push(s);else for(const o of a)e.push(s.child(o))}else e.push(s)})),new Bs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,r,n,s,a,o,u){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new En(e,0,Rt.min(),Rt.min(),Rt.min(),ls.empty(),0)}static newFoundDocument(e,r,n,s){return new En(e,1,r,Rt.min(),n,s,0)}static newNoDocument(e,r){return new En(e,2,r,Rt.min(),Rt.min(),ls.empty(),0)}static newUnknownDocument(e,r){return new En(e,3,r,Rt.min(),Rt.min(),ls.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,r){this.position=e,this.inclusive=r}}function j_(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const a=e[s],o=t.position[s];if(a.field.isKeyField()?n=St.comparator(St.fromName(o.referenceValue),r.key):n=du(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function I_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!oi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,r="asc"){this.field=e,this.dir=r}}function mD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{}class on extends uN{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new xD(e,r,n):r==="array-contains"?new bD(e,n):r==="in"?new wD(e,n):r==="not-in"?new _D(e,n):r==="array-contains-any"?new ED(e,n):new on(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new yD(e,n):new vD(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(du(r,this.value)):r!==null&&Mo(this.value)===Mo(r)&&this.matchesComparison(du(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Da extends uN{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new Da(e,r)}matches(e){return dN(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function dN(t){return t.op==="and"}function hN(t){return gD(t)&&dN(t)}function gD(t){for(const e of t.filters)if(e instanceof Da)return!1;return!0}function fy(t){if(t instanceof on)return t.field.canonicalString()+t.op.toString()+hu(t.value);if(hN(t))return t.filters.map((e=>fy(e))).join(",");{const e=t.filters.map((r=>fy(r))).join(",");return`${t.op}(${e})`}}function fN(t,e){return t instanceof on?(function(n,s){return s instanceof on&&n.op===s.op&&n.field.isEqual(s.field)&&oi(n.value,s.value)})(t,e):t instanceof Da?(function(n,s){return s instanceof Da&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((a,o,u)=>a&&fN(o,s.filters[u])),!0):!1})(t,e):void It()}function pN(t){return t instanceof on?(function(r){return`${r.field.canonicalString()} ${r.op} ${hu(r.value)}`})(t):t instanceof Da?(function(r){return r.op.toString()+" {"+r.getFilters().map(pN).join(" ,")+"}"})(t):"Filter"}class xD extends on{constructor(e,r,n){super(e,r,n),this.key=St.fromName(n.referenceValue)}matches(e){const r=St.comparator(e.key,this.key);return this.matchesComparison(r)}}class yD extends on{constructor(e,r){super(e,"in",r),this.keys=mN("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class vD extends on{constructor(e,r){super(e,"not-in",r),this.keys=mN("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function mN(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>St.fromName(n.referenceValue)))}class bD extends on{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return bv(r)&&r0(r.arrayValue,this.value)}}class wD extends on{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&r0(this.value.arrayValue,r)}}class _D extends on{constructor(e,r){super(e,"not-in",r)}matches(e){if(r0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!r0(this.value.arrayValue,r)}}class ED extends on{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!bv(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>r0(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,r=null,n=[],s=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=o,this.endAt=u,this.le=null}}function P_(t,e=null,r=[],n=[],s=null,a=null,o=null){return new TD(t,e,r,n,s,a,o)}function wv(t){const e=Lt(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>fy(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),A0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>hu(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>hu(n))).join(",")),e.le=r}return e.le}function _v(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!mD(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!fN(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I_(t.startAt,e.startAt)&&I_(t.endAt,e.endAt)}function py(t){return St.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,r=null,n=[],s=[],a=null,o="F",u=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function kD(t,e,r,n,s,a,o,u){return new Pu(t,e,r,n,s,a,o,u)}function rm(t){return new Pu(t)}function R_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gN(t){return t.collectionGroup!==null}function Od(t){const e=Lt(t);if(e.he===null){e.he=[];const r=new Set;for(const a of e.explicitOrderBy)e.he.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new gn(On.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.he.push(new n0(a,n))})),r.has(On.keyField().canonicalString())||e.he.push(new n0(On.keyField(),n))}return e.he}function Ja(t){const e=Lt(t);return e.Pe||(e.Pe=ND(e,Od(t))),e.Pe}function ND(t,e){if(t.limitType==="F")return P_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new n0(s.field,a)}));const r=t.endAt?new rp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new rp(t.startAt.position,t.startAt.inclusive):null;return P_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function my(t,e){const r=t.filters.concat([e]);return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function np(t,e,r){return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function nm(t,e){return _v(Ja(t),Ja(e))&&t.limitType===e.limitType}function xN(t){return`${wv(Ja(t))}|lt:${t.limitType}`}function zc(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((s=>pN(s))).join(", ")}]`),A0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((s=>hu(s))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((s=>hu(s))).join(",")),`Target(${n})`})(Ja(t))}; limitType=${t.limitType})`}function sm(t,e){return e.isFoundDocument()&&(function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):St.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,s){for(const a of Od(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(n,s){return!(n.startAt&&!(function(o,u,d){const h=j_(o,u,d);return o.inclusive?h<=0:h<0})(n.startAt,Od(n),s)||n.endAt&&!(function(o,u,d){const h=j_(o,u,d);return o.inclusive?h>=0:h>0})(n.endAt,Od(n),s))})(t,e)}function SD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yN(t){return(e,r)=>{let n=!1;for(const s of Od(t)){const a=AD(s,e,r);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function AD(t,e,r){const n=t.field.isKeyField()?St.comparator(e.key,r.key):(function(a,o,u){const d=o.data.field(a),h=u.data.field(a);return d!==null&&h!==null?du(d,h):It()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return It()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,((r,n)=>{for(const[s,a]of n)e(s,a)}))}isEmpty(){return tN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new Wr(St.comparator);function Vi(){return CD}const vN=new Wr(St.comparator);function Sd(...t){let e=vN;for(const r of t)e=e.insert(r.key,r);return e}function bN(t){let e=vN;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function El(){return Fd()}function wN(){return Fd()}function Fd(){return new Wl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const jD=new Wr(St.comparator),ID=new gn(St.comparator);function Yt(...t){let e=ID;for(const r of t)e=e.add(r);return e}const PD=new gn(Ht);function RD(){return PD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function _N(t){return{integerValue:""+t}}function EN(t,e){return oD(e)?_N(e):Ev(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this._=void 0}}function DD(t,e,r){return t instanceof s0?(function(s,a){const o={fields:{[sN]:{stringValue:nN},[iN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&vv(a)&&(a=tm(a)),a&&(o.fields[aN]=a),{mapValue:o}})(r,e):t instanceof a0?kN(t,e):t instanceof i0?NN(t,e):(function(s,a){const o=TN(s,a),u=D_(o)+D_(s.Ie);return hy(o)&&hy(s.Ie)?_N(u):Ev(s.serializer,u)})(t,e)}function OD(t,e,r){return t instanceof a0?kN(t,e):t instanceof i0?NN(t,e):r}function TN(t,e){return t instanceof o0?(function(n){return hy(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class s0 extends am{}class a0 extends am{constructor(e){super(),this.elements=e}}function kN(t,e){const r=SN(e);for(const n of t.elements)r.some((s=>oi(s,n)))||r.push(n);return{arrayValue:{values:r}}}class i0 extends am{constructor(e){super(),this.elements=e}}function NN(t,e){let r=SN(e);for(const n of t.elements)r=r.filter((s=>!oi(s,n)));return{arrayValue:{values:r}}}class o0 extends am{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function D_(t){return Zr(t.integerValue||t.doubleValue)}function SN(t){return bv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,r){this.field=e,this.transform=r}}function FD(t,e){return t.field.isEqual(e.field)&&(function(n,s){return n instanceof a0&&s instanceof a0||n instanceof i0&&s instanceof i0?uu(n.elements,s.elements,oi):n instanceof o0&&s instanceof o0?oi(n.Ie,s.Ie):n instanceof s0&&s instanceof s0})(t.transform,e.transform)}class LD{constructor(e,r){this.version=e,this.transformResults=r}}class Fn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class im{}function CN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new om(t.key,Fn.none()):new C0(t.key,t.data,Fn.none());{const r=t.data,n=ls.empty();let s=new gn(On.comparator);for(let a of e.fields)if(!s.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),s=s.add(a)}return new Yo(t.key,n,new Bs(s.toArray()),Fn.none())}}function MD(t,e,r){t instanceof C0?(function(s,a,o){const u=s.value.clone(),d=F_(s.fieldTransforms,a,o.transformResults);u.setAll(d),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,r):t instanceof Yo?(function(s,a,o){if(!Lf(s.precondition,a))return void a.convertToUnknownDocument(o.version);const u=F_(s.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(jN(s)),d.setAll(u),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,r):(function(s,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function Ld(t,e,r,n){return t instanceof C0?(function(a,o,u,d){if(!Lf(a.precondition,o))return u;const h=a.value.clone(),p=L_(a.fieldTransforms,d,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,r,n):t instanceof Yo?(function(a,o,u,d){if(!Lf(a.precondition,o))return u;const h=L_(a.fieldTransforms,d,o),p=o.data;return p.setAll(jN(a)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,r,n):(function(a,o,u){return Lf(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(t,e,r)}function $D(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),a=TN(n.transform,s||null);a!=null&&(r===null&&(r=ls.empty()),r.set(n.field,a))}return r||null}function O_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&uu(n,s,((a,o)=>FD(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class C0 extends im{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yo extends im{constructor(e,r,n,s,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function jN(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function F_(t,e,r){const n=new Map;rr(t.length===r.length);for(let s=0;s<r.length;s++){const a=t[s],o=a.transform,u=e.data.field(a.field);n.set(a.field,OD(o,u,r[s]))}return n}function L_(t,e,r){const n=new Map;for(const s of t){const a=s.transform,o=r.data.field(s.field);n.set(s.field,DD(a,o,e))}return n}class om extends im{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IN extends im{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&MD(a,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Ld(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Ld(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=wN();return this.mutations.forEach((s=>{const a=e.get(s.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=r.has(s.key)?null:u;const d=CN(o,u);d!==null&&n.set(s.key,d),o.isValidDocument()||o.convertToNoDocument(Rt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Yt())}isEqual(e){return this.batchId===e.batchId&&uu(this.mutations,e.mutations,((r,n)=>O_(r,n)))&&uu(this.baseMutations,e.baseMutations,((r,n)=>O_(r,n)))}}class Tv{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){rr(e.mutations.length===n.length);let s=(function(){return jD})();const a=e.mutations;for(let o=0;o<a.length;o++)s=s.insert(a[o].key,n[o].version);return new Tv(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,er;function PN(t){switch(t){case De.OK:return It();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0;default:return It()}}function RN(t){if(t===void 0)return $i("GRPC error has no .code"),De.UNKNOWN;switch(t){case an.OK:return De.OK;case an.CANCELLED:return De.CANCELLED;case an.UNKNOWN:return De.UNKNOWN;case an.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case an.INTERNAL:return De.INTERNAL;case an.UNAVAILABLE:return De.UNAVAILABLE;case an.UNAUTHENTICATED:return De.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case an.NOT_FOUND:return De.NOT_FOUND;case an.ALREADY_EXISTS:return De.ALREADY_EXISTS;case an.PERMISSION_DENIED:return De.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case an.ABORTED:return De.ABORTED;case an.OUT_OF_RANGE:return De.OUT_OF_RANGE;case an.UNIMPLEMENTED:return De.UNIMPLEMENTED;case an.DATA_LOSS:return De.DATA_LOSS;default:return It()}}(er=an||(an={}))[er.OK=0]="OK",er[er.CANCELLED=1]="CANCELLED",er[er.UNKNOWN=2]="UNKNOWN",er[er.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",er[er.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",er[er.NOT_FOUND=5]="NOT_FOUND",er[er.ALREADY_EXISTS=6]="ALREADY_EXISTS",er[er.PERMISSION_DENIED=7]="PERMISSION_DENIED",er[er.UNAUTHENTICATED=16]="UNAUTHENTICATED",er[er.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",er[er.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",er[er.ABORTED=10]="ABORTED",er[er.OUT_OF_RANGE=11]="OUT_OF_RANGE",er[er.UNIMPLEMENTED=12]="UNIMPLEMENTED",er[er.INTERNAL=13]="INTERNAL",er[er.UNAVAILABLE=14]="UNAVAILABLE",er[er.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new Io([4294967295,4294967295],0);function M_(t){const e=Jk().encode(t),r=new Wk;return r.update(e),new Uint8Array(r.digest())}function $_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Io([r,n],0),new Io([s,a],0)]}class kv{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Ad(`Invalid padding: ${r}`);if(n<0)throw new Ad(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ad(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Ad(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=Io.fromNumber(this.Ee)}Ae(e,r,n){let s=e.add(r.multiply(Io.fromNumber(n)));return s.compare(zD)===1&&(s=new Io([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=M_(e),[n,s]=$_(r);for(let a=0;a<this.hashCount;a++){const o=this.Ae(n,s,a);if(!this.Re(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new kv(a,s,r);return n.forEach((u=>o.insert(u))),o}insert(e){if(this.Ee===0)return;const r=M_(e),[n,s]=$_(r);for(let a=0;a<this.hashCount;a++){const o=this.Ae(n,s,a);this.Ve(o)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,r,n,s,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,j0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new lm(Rt.min(),s,new Wr(Ht),Vi(),Yt())}}class j0{constructor(e,r,n,s,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new j0(n,r,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,r,n,s){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=s}}class DN{constructor(e,r){this.targetId=e,this.ge=r}}class ON{constructor(e,r,n=Un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class V_{constructor(){this.pe=0,this.ye=B_(),this.we=Un.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Yt(),r=Yt(),n=Yt();return this.ye.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:It()}})),new j0(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=B_()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,rr(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class HD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Vi(),this.$e=mf(),this.Ue=mf(),this.Ke=new Wr(Ht)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,(r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:It()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach(((n,s)=>{this.Je(s)&&r(s)}))}Ze(e){const r=e.targetId,n=e.ge.count,s=this.Xe(r);if(s){const a=s.target;if(py(a))if(n===0){const o=new St(a.path);this.ze(r,o,En.newNoDocument(o,Rt.min()))}else rr(n===1);else{const o=this.et(r);if(o!==n){const u=this.tt(e),d=u?this.nt(u,e,o):1;if(d!==0){this.Ye(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,h)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:a=0}=r;let o,u;try{o=Lo(n).toUint8Array()}catch(d){if(d instanceof rN)return cu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new kv(o,s,a)}catch(d){return cu(d instanceof Ad?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let s=0;return n.forEach((a=>{const o=this.ke.it(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.ze(r,a,null),s++)})),s}ot(e){const r=new Map;this.qe.forEach(((a,o)=>{const u=this.Xe(o);if(u){if(a.current&&py(u.target)){const d=new St(u.target.path);this._t(d).has(o)||this.ut(o,d)||this.ze(o,d,En.newNoDocument(d,e))}a.ve&&(r.set(o,a.Fe()),a.Me())}}));let n=Yt();this.Ue.forEach(((a,o)=>{let u=!0;o.forEachWhile((d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(n=n.add(a))})),this.Qe.forEach(((a,o)=>o.setReadTime(e)));const s=new lm(e,r,this.Ke,this.Qe,n);return this.Qe=Vi(),this.$e=mf(),this.Ue=mf(),this.Ke=new Wr(Ht),s}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const s=this.He(e);this.ut(e,r)?s.xe(r,1):s.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new V_,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new gn(Ht),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new gn(Ht),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||mt("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new V_),this.ke.getRemoteKeysForTarget(e).forEach((r=>{this.ze(e,r,null)}))}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function mf(){return new Wr(St.comparator)}function B_(){return new Wr(St.comparator)}const WD={asc:"ASCENDING",desc:"DESCENDING"},qD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GD={and:"AND",or:"OR"};class KD{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function gy(t,e){return t.useProto3Json||A0(e)?e:{value:e}}function sp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XD(t,e){return sp(t,e.toTimestamp())}function Hs(t){return rr(!!t),Rt.fromTimestamp((function(r){const n=Fo(r);return new kr(n.seconds,n.nanos)})(t))}function Nv(t,e){return xy(t,e).canonicalString()}function xy(t,e){const r=(function(s){return new Sr(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?r:r.child(e)}function LN(t){const e=Sr.fromString(t);return rr(zN(e)),e}function ap(t,e){return Nv(t.databaseId,e.path)}function Md(t,e){const r=LN(e);if(r.get(1)!==t.databaseId.projectId)throw new dt(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new dt(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new St($N(r))}function MN(t,e){return Nv(t.databaseId,e)}function YD(t){const e=LN(t);return e.length===4?Sr.emptyPath():$N(e)}function yy(t){return new Sr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $N(t){return rr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function U_(t,e,r){return{name:ap(t,e),fields:r.value.mapValue.fields}}function QD(t,e){return"found"in e?(function(n,s){rr(!!s.found),s.found.name,s.found.updateTime;const a=Md(n,s.found.name),o=Hs(s.found.updateTime),u=s.found.createTime?Hs(s.found.createTime):Rt.min(),d=new ls({mapValue:{fields:s.found.fields}});return En.newFoundDocument(a,o,u,d)})(t,e):"missing"in e?(function(n,s){rr(!!s.missing),rr(!!s.readTime);const a=Md(n,s.missing),o=Hs(s.readTime);return En.newNoDocument(a,o)})(t,e):It()}function JD(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:It()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(h,p){return h.useProto3Json?(rr(p===void 0||typeof p=="string"),Un.fromBase64String(p||"")):(rr(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Un.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(h){const p=h.code===void 0?De.UNKNOWN:RN(h.code);return new dt(p,h.message||"")})(o);r=new ON(n,s,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Md(t,n.document.name),a=Hs(n.document.updateTime),o=n.document.createTime?Hs(n.document.createTime):Rt.min(),u=new ls({mapValue:{fields:n.document.fields}}),d=En.newFoundDocument(s,a,o,u),h=n.targetIds||[],p=n.removedTargetIds||[];r=new Mf(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Md(t,n.document),a=n.readTime?Hs(n.readTime):Rt.min(),o=En.newNoDocument(s,a),u=n.removedTargetIds||[];r=new Mf([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Md(t,n.document),a=n.removedTargetIds||[];r=new Mf([],a,s,null)}else{if(!("filter"in e))return It();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:a}=n,o=new UD(s,a),u=n.targetId;r=new DN(u,o)}}return r}function VN(t,e){let r;if(e instanceof C0)r={update:U_(t,e.key,e.value)};else if(e instanceof om)r={delete:ap(t,e.key)};else if(e instanceof Yo)r={update:U_(t,e.key,e.data),updateMask:o9(e.fieldMask)};else{if(!(e instanceof IN))return It();r={verify:ap(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,o){const u=o.transform;if(u instanceof s0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof a0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof i0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof o0)return{fieldPath:o.field.canonicalString(),increment:u.Ie};throw It()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:XD(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:It()})(t,e.precondition)),r}function ZD(t,e){return t&&t.length>0?(rr(e!==void 0),t.map((r=>(function(s,a){let o=s.updateTime?Hs(s.updateTime):Hs(a);return o.isEqual(Rt.min())&&(o=Hs(a)),new LD(o,s.transformResults||[])})(r,e)))):[]}function e9(t,e){return{documents:[MN(t,e.path)]}}function t9(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=MN(t,s);const a=(function(h){if(h.length!==0)return UN(Da.create(h,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const o=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:Hc(y.field),direction:s9(y.dir)}})(p)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const u=gy(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ht:r,parent:s}}function r9(t){let e=YD(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){rr(n===1);const p=r.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=(function(g){const y=BN(g);return y instanceof Da&&hN(y)?y.getFilters():[y]})(r.where));let o=[];r.orderBy&&(o=(function(g){return g.map((y=>(function(k){return new n0(Wc(k.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(y)))})(r.orderBy));let u=null;r.limit&&(u=(function(g){let y;return y=typeof g=="object"?g.value:g,A0(y)?null:y})(r.limit));let d=null;r.startAt&&(d=(function(g){const y=!!g.before,v=g.values||[];return new rp(v,y)})(r.startAt));let h=null;return r.endAt&&(h=(function(g){const y=!g.before,v=g.values||[];return new rp(v,y)})(r.endAt)),kD(e,s,o,a,u,"F",d,h)}function n9(t,e){const r=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function BN(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Wc(r.unaryFilter.field);return on.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Wc(r.unaryFilter.field);return on.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wc(r.unaryFilter.field);return on.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wc(r.unaryFilter.field);return on.create(o,"!=",{nullValue:"NULL_VALUE"});default:return It()}})(t):t.fieldFilter!==void 0?(function(r){return on.create(Wc(r.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Da.create(r.compositeFilter.filters.map((n=>BN(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return It()}})(r.compositeFilter.op))})(t):It()}function s9(t){return WD[t]}function a9(t){return qD[t]}function i9(t){return GD[t]}function Hc(t){return{fieldPath:t.canonicalString()}}function Wc(t){return On.fromServerFormat(t.fieldPath)}function UN(t){return t instanceof on?(function(r){if(r.op==="=="){if(C_(r.value))return{unaryFilter:{field:Hc(r.field),op:"IS_NAN"}};if(A_(r.value))return{unaryFilter:{field:Hc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(C_(r.value))return{unaryFilter:{field:Hc(r.field),op:"IS_NOT_NAN"}};if(A_(r.value))return{unaryFilter:{field:Hc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hc(r.field),op:a9(r.op),value:r.value}}})(t):t instanceof Da?(function(r){const n=r.getFilters().map((s=>UN(s)));return n.length===1?n[0]:{compositeFilter:{op:i9(r.op),filters:n}}})(t):It()}function o9(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function zN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,r,n,s,a=Rt.min(),o=Rt.min(),u=Un.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new No(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.Tt=e}}function c9(t){const e=r9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(){this.Tn=new d9}addToCollectionParentIndex(e,r){return this.Tn.add(r),Ve.resolve()}getCollectionParents(e,r){return Ve.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return Ve.resolve()}deleteFieldIndex(e,r){return Ve.resolve()}deleteAllFieldIndexes(e){return Ve.resolve()}createTargetIndexes(e,r){return Ve.resolve()}getDocumentsMatchingTarget(e,r){return Ve.resolve(null)}getIndexType(e,r){return Ve.resolve(0)}getFieldIndexes(e,r){return Ve.resolve([])}getNextCollectionGroupToUpdate(e){return Ve.resolve(null)}getMinOffset(e,r){return Ve.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,r){return Ve.resolve(Oo.min())}updateCollectionGroup(e,r,n){return Ve.resolve()}updateIndexEntries(e,r){return Ve.resolve()}}class d9{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new gn(Sr.comparator),a=!s.has(n);return this.index[r]=s.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new gn(Sr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HN=41943040;class bs{static withCacheSize(e){return new bs(e,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs.DEFAULT_COLLECTION_PERCENTILE=10,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bs.DEFAULT=new bs(HN,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bs.DISABLED=new bs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new fu(0)}static Kn(){return new fu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="LruGarbageCollector",h9=1048576;function W_([t,e],[r,n]){const s=Ht(t,r);return s===0?Ht(e,n):s}class f9{constructor(e){this.Hn=e,this.buffer=new gn(W_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();W_(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class p9{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){mt(H_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Iu(r)?mt(H_,"Ignoring IndexedDB error during garbage collection: ",r):await ju(r)}await this.er(3e5)}))}}class m9{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return Ve.resolve(em.ae);const n=new f9(r);return this.tr.forEachTarget(e,(s=>n.Zn(s.sequenceNumber))).next((()=>this.tr.rr(e,(s=>n.Zn(s))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(z_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z_):this.ir(e,r)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,s,a,o,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(n=g,u=Date.now(),this.removeTargets(e,n,r)))).next((g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,n)))).next((g=>(h=Date.now(),Uc()<=Xt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:g}))))}}function g9(t,e){return new m9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(){this.changes=new Wl((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ve.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,r)))).next((s=>(n!==null&&Ld(n.mutation,s,Bs.empty(),kr.now()),s)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Yt()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Yt()){const s=El();return this.populateOverlays(e,s,r).next((()=>this.computeViews(e,r,s,n).next((a=>{let o=Sd();return a.forEach(((u,d)=>{o=o.insert(u,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=El();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Yt())))}populateOverlays(e,r,n){const s=[];return n.forEach((a=>{r.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((o,u)=>{r.set(o,u)}))}))}computeViews(e,r,n,s){let a=Vi();const o=Fd(),u=(function(){return Fd()})();return r.forEach(((d,h)=>{const p=n.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof Yo)?a=a.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),Ld(p.mutation,h,p.mutation.getFieldMask(),kr.now())):o.set(h.key,Bs.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((h,p)=>o.set(h,p))),r.forEach(((h,p)=>{var g;return u.set(h,new y9(p,(g=o.get(h))!==null&&g!==void 0?g:null))})),u)))}recalculateAndSaveOverlays(e,r){const n=Fd();let s=new Wr(((o,u)=>o-u)),a=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const u of o)u.keys().forEach((d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||Bs.empty();p=u.applyToLocalView(h,p),n.set(d,p);const g=(s.get(u.batchId)||Yt()).add(d);s=s.insert(u.batchId,g)}))})).next((()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,g=wN();p.forEach((y=>{if(!a.has(y)){const v=CN(r.get(y),n.get(y));v!==null&&g.set(y,v),a=a.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Ve.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,s){return(function(o){return St.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):gN(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next((a=>{const o=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-a.size):Ve.resolve(El());let u=Zd,d=a;return o.next((h=>Ve.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(p)?Ve.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{d=d.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,d,h,Yt()))).next((p=>({batchId:u,changes:bN(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new St(r)).next((n=>{let s=Sd();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const a=r.collectionGroup;let o=Sd();return this.indexManager.getCollectionParents(e,a).next((u=>Ve.forEach(u,(d=>{const h=(function(g,y){return new Pu(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(r,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,n,s).next((p=>{p.forEach(((g,y)=>{o=o.insert(g,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,s)))).next((o=>{a.forEach(((d,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,En.newInvalidDocument(p)))}));let u=Sd();return o.forEach(((d,h)=>{const p=a.get(d);p!==void 0&&Ld(p.mutation,h,Bs.empty(),kr.now()),sm(r,h)&&(u=u.insert(d,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return Ve.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,(function(s){return{id:s.id,version:s.version,createTime:Hs(s.createTime)}})(r)),Ve.resolve()}getNamedQuery(e,r){return Ve.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,(function(s){return{name:s.name,query:c9(s.bundledQuery),readTime:Hs(s.readTime)}})(r)),Ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.overlays=new Wr(St.comparator),this.Rr=new Map}getOverlay(e,r){return Ve.resolve(this.overlays.get(r))}getOverlays(e,r){const n=El();return Ve.forEach(r,(s=>this.getOverlay(e,s).next((a=>{a!==null&&n.set(s,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((s,a)=>{this.Et(e,r,a)})),Ve.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Rr.get(n);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Rr.delete(n)),Ve.resolve()}getOverlaysForCollection(e,r,n){const s=El(),a=r.length+1,o=new St(r.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>n&&s.set(d.getKey(),d)}return Ve.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let a=new Wr(((h,p)=>h-p));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=a.get(h.largestBatchId);p===null&&(p=El(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=El(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=s)););return Ve.resolve(u)}Et(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(n.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new BD(r,n));let a=this.Rr.get(r);a===void 0&&(a=Yt(),this.Rr.set(r,a)),this.Rr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(){this.sessionToken=Un.EMPTY_BYTE_STRING}getSessionToken(e){return Ve.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.Vr=new gn(_n.mr),this.gr=new gn(_n.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new _n(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.wr(new _n(e,r))}Sr(e,r){e.forEach((n=>this.removeReference(n,r)))}br(e){const r=new St(new Sr([])),n=new _n(r,e),s=new _n(r,e+1),a=[];return this.gr.forEachInRange([n,s],(o=>{this.wr(o),a.push(o.key)})),a}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new St(new Sr([])),n=new _n(r,e),s=new _n(r,e+1);let a=Yt();return this.gr.forEachInRange([n,s],(o=>{a=a.add(o.key)})),a}containsKey(e){const r=new _n(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class _n{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return St.comparator(e.key,r.key)||Ht(e.Cr,r.Cr)}static pr(e,r){return Ht(e.Cr,r.Cr)||St.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new gn(_n.mr)}checkEmpty(e){return Ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new VD(a,r,n,s);this.mutationQueue.push(o);for(const u of s)this.Mr=this.Mr.add(new _n(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ve.resolve(o)}lookupMutationBatch(e,r){return Ve.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.Nr(n),a=s<0?0:s;return Ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(this.mutationQueue.length===0?yv:this.Fr-1)}getAllMutationBatches(e){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new _n(r,0),s=new _n(r,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([n,s],(o=>{const u=this.Or(o.Cr);a.push(u)})),Ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new gn(Ht);return r.forEach((s=>{const a=new _n(s,0),o=new _n(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,o],(u=>{n=n.add(u.Cr)}))})),Ve.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let a=n;St.isDocumentKey(a)||(a=a.child(""));const o=new _n(new St(a),0);let u=new gn(Ht);return this.Mr.forEachWhile((d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===s&&(u=u.add(d.Cr)),!0)}),o),Ve.resolve(this.Br(u))}Br(e){const r=[];return e.forEach((n=>{const s=this.Or(n);s!==null&&r.push(s)})),r}removeMutationBatch(e,r){rr(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return Ve.forEach(r.mutations,(s=>{const a=new _n(s.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,r){const n=new _n(r,0),s=this.Mr.firstAfterOrEqual(n);return Ve.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ve.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e){this.kr=e,this.docs=(function(){return new Wr(St.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),a=s?s.size:0,o=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ve.resolve(n?n.document.mutableCopy():En.newInvalidDocument(r))}getEntries(e,r){let n=Vi();return r.forEach((s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():En.newInvalidDocument(s))})),Ve.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let a=Vi();const o=r.path,u=new St(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||nD(rD(p),n)<=0||(s.has(p.key)||sm(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Ve.resolve(a)}getAllFromCollectionGroup(e,r,n,s){It()}qr(e,r){return Ve.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new k9(this)}getSize(e){return Ve.resolve(this.size)}}class k9 extends x9{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?r.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(n)})),Ve.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.persistence=e,this.Qr=new Wl((r=>wv(r)),_v),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Sv,this.targetCount=0,this.Kr=fu.Un()}forEachTarget(e,r){return this.Qr.forEach(((n,s)=>r(s))),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),Ve.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new fu(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,Ve.resolve()}updateTargetData(e,r){return this.zn(r),Ve.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,r,n){let s=0;const a=[];return this.Qr.forEach(((o,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Qr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Ve.waitFor(a).next((()=>s))}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return Ve.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),Ve.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const s=this.persistence.referenceDelegate,a=[];return s&&r.forEach((o=>{a.push(s.markPotentiallyOrphaned(e,o))})),Ve.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),Ve.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return Ve.resolve(n)}containsKey(e,r){return Ve.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new em(0),this.zr=!1,this.zr=!0,this.jr=new _9,this.referenceDelegate=e(this),this.Hr=new N9(this),this.indexManager=new u9,this.remoteDocumentCache=(function(s){return new T9(s)})((n=>this.referenceDelegate.Jr(n))),this.serializer=new l9(r),this.Yr=new b9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new w9,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new E9(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){mt("MemoryPersistence","Starting transaction:",e);const s=new S9(this.Gr.next());return this.referenceDelegate.Zr(),n(s).next((a=>this.referenceDelegate.Xr(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}ei(e,r){return Ve.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,r))))}}class S9 extends aD{constructor(e){super(),this.currentSequenceNumber=e}}class Av{constructor(e){this.persistence=e,this.ti=new Sv,this.ni=null}static ri(e){return new Av(e)}get ii(){if(this.ni)return this.ni;throw It()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),Ve.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),Ve.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),Ve.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach((s=>this.ii.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((s=>{s.forEach((a=>this.ii.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.ii,(n=>{const s=St.fromPath(n);return this.si(e,s).next((a=>{a||r.removeEntry(s,Rt.min())}))})).next((()=>(this.ni=null,r.apply(e))))}updateLimboDocument(e,r){return this.si(e,r).next((n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())}))}Jr(e){return 0}si(e,r){return Ve.or([()=>Ve.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class ip{constructor(e,r){this.persistence=e,this.oi=new Wl((n=>lD(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=g9(this,r)}static ri(e,r){return new ip(e,r)}Zr(){}Xr(e){return Ve.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((s=>n+s))))}sr(e){let r=0;return this.rr(e,(n=>{r++})).next((()=>r))}rr(e,r){return Ve.forEach(this.oi,((n,s)=>this.ar(e,n,s).next((a=>a?Ve.resolve():r(s)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,(o=>this.ar(e,o,r).next((u=>{u||(n++,a.removeEntry(o,Rt.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),Ve.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),Ve.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),Ve.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),Ve.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Of(e.data.value)),r}ar(e,r,n){return Ve.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.oi.get(r);return Ve.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=s}static Yi(e,r){let n=Yt(),s=Yt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Cv(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(function(){return aP()?8:iD(ts())>0?6:4})()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,s){const a={result:null};return this.rs(e,r).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ss(e,r,s,n).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new A9;return this._s(e,r,o).next((u=>{if(a.result=u,this.Xi)return this.us(e,r,o,u.size)}))})).next((()=>a.result))}us(e,r,n,s){return n.documentReadCount<this.es?(Uc()<=Xt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",zc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ve.resolve()):(Uc()<=Xt.DEBUG&&mt("QueryEngine","Query:",zc(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ts*s?(Uc()<=Xt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",zc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ja(r))):Ve.resolve())}rs(e,r){if(R_(r))return Ve.resolve(null);let n=Ja(r);return this.indexManager.getIndexType(e,n).next((s=>s===0?null:(r.limit!==null&&s===1&&(r=np(r,null,"F"),n=Ja(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const o=Yt(...a);return this.ns.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,n).next((d=>{const h=this.cs(r,u);return this.ls(r,h,o,d.readTime)?this.rs(e,np(r,null,"F")):this.hs(e,h,r,d)}))))})))))}ss(e,r,n,s){return R_(r)||s.isEqual(Rt.min())?Ve.resolve(null):this.ns.getDocuments(e,n).next((a=>{const o=this.cs(r,a);return this.ls(r,o,n,s)?Ve.resolve(null):(Uc()<=Xt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zc(r)),this.hs(e,o,r,tD(s,Zd)).next((u=>u)))}))}cs(e,r){let n=new gn(yN(e));return r.forEach(((s,a)=>{sm(e,a)&&(n=n.add(a))})),n}ls(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,r,n){return Uc()<=Xt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",zc(r)),this.ns.getDocumentsMatchingQuery(e,r,Oo.min(),n)}hs(e,r,n,s){return this.ns.getDocumentsMatchingQuery(e,n,s).next((a=>(r.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LocalStore",j9=3e8;class I9{constructor(e,r,n,s){this.persistence=e,this.Ps=r,this.serializer=s,this.Ts=new Wr(Ht),this.Is=new Wl((a=>wv(a)),_v),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ts)))}}function P9(t,e,r,n){return new I9(t,e,r,n)}async function qN(t,e){const r=Lt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next((a=>(s=a,r.As(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const o=[],u=[];let d=Yt();for(const h of s){o.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of a){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next((h=>({Rs:h,removedBatchIds:o,addedBatchIds:u})))}))}))}function R9(t,e){const r=Lt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=e.batch.keys(),a=r.ds.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,p){const g=h.batch,y=g.keys();let v=Ve.resolve();return y.forEach((k=>{v=v.next((()=>p.getEntry(d,k))).next((w=>{const E=h.docVersions.get(k);rr(E!==null),w.version.compareTo(E)<0&&(g.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),p.addEntry(w)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let d=Yt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>r.localDocuments.getDocuments(n,s)))}))}function GN(t){const e=Lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Hr.getLastRemoteSnapshotVersion(r)))}function D9(t,e){const r=Lt(t),n=e.snapshotVersion;let s=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=r.ds.newChangeBuffer({trackRemovals:!0});s=r.Ts;const u=[];e.targetChanges.forEach(((p,g)=>{const y=s.get(g);if(!y)return;u.push(r.Hr.removeMatchingKeys(a,p.removedDocuments,g).next((()=>r.Hr.addMatchingKeys(a,p.addedDocuments,g))));let v=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(Un.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,n)),s=s.insert(g,v),(function(w,E,D){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=j9?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(y,v,p)&&u.push(r.Hr.updateTargetData(a,v))}));let d=Vi(),h=Yt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))})),u.push(O9(a,o,e.documentUpdates).next((p=>{d=p.Vs,h=p.fs}))),!n.isEqual(Rt.min())){const p=r.Hr.getLastRemoteSnapshotVersion(a).next((g=>r.Hr.setTargetsMetadata(a,a.currentSequenceNumber,n)));u.push(p)}return Ve.waitFor(u).next((()=>o.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,d,h))).next((()=>d))})).then((a=>(r.Ts=s,a)))}function O9(t,e,r){let n=Yt(),s=Yt();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let o=Vi();return r.forEach(((u,d)=>{const h=a.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Rt.min())?(e.removeEntry(u,d.readTime),o=o.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(u,d)):mt(jv,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{Vs:o,fs:s}}))}function F9(t,e){const r=Lt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=yv),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function L9(t,e){const r=Lt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return r.Hr.getTargetData(n,e).next((a=>a?(s=a,Ve.resolve(s)):r.Hr.allocateTargetId(n).next((o=>(s=new No(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=r.Ts.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n}))}async function vy(t,e,r){const n=Lt(t),s=n.Ts.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(o=>n.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Iu(o))throw o;mt(jv,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ts=n.Ts.remove(e),n.Is.delete(s.target)}function q_(t,e,r){const n=Lt(t);let s=Rt.min(),a=Yt();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,h,p){const g=Lt(d),y=g.Is.get(p);return y!==void 0?Ve.resolve(g.Ts.get(y)):g.Hr.getTargetData(h,p)})(n,o,Ja(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(o,u.targetId).next((d=>{a=d}))})).next((()=>n.Ps.getDocumentsMatchingQuery(o,e,r?s:Rt.min(),r?a:Yt()))).next((u=>(M9(n,SD(e),u),{documents:u,gs:a})))))}function M9(t,e,r){let n=t.Es.get(e)||Rt.min();r.forEach(((s,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Es.set(e,n)}class G_{constructor(){this.activeTargetIds=RD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $9{constructor(){this.ho=new G_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new G_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="ConnectivityMonitor";class X_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){mt(K_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){mt(K_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf=null;function by(){return gf===null?gf=(function(){return 268435456+Math.round(2147483648*Math.random())})():gf++,"0x"+gf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="RestConnection",B9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class U9{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${s}`,this.wo=this.databaseId.database===ep?`project_id=${n}`:`project_id=${n}&database_id=${s}`}So(e,r,n,s,a){const o=by(),u=this.bo(e,r.toUriEncodedString());mt(kx,`Sending RPC '${e}' ${o}:`,u,n);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,a),this.vo(e,u,d,n).then((h=>(mt(kx,`Received RPC '${e}' ${o}: `,h),h)),(h=>{throw cu(kx,`RPC '${e}' ${o} failed with error: `,h,"url: ",u,"request:",n),h}))}Co(e,r,n,s,a,o){return this.So(e,r,n,s,a)}Do(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((s,a)=>e[a]=s)),n&&n.headers.forEach(((s,a)=>e[a]=s))}bo(e,r){const n=B9[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="WebChannelConnection";class H9 extends U9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,s){const a=by();return new Promise(((o,u)=>{const d=new qk;d.setWithCredentials(!0),d.listenOnce(Gk.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Df.NO_ERROR:const p=d.getResponseJson();mt(Xn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case Df.TIMEOUT:mt(Xn,`RPC '${e}' ${a} timed out`),u(new dt(De.DEADLINE_EXCEEDED,"Request time out"));break;case Df.HTTP_ERROR:const g=d.getStatus();if(mt(Xn,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y?.error;if(v&&v.status&&v.message){const k=(function(E){const D=E.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(D)>=0?D:De.UNKNOWN})(v.status);u(new dt(k,v.message))}else u(new dt(De.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new dt(De.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{mt(Xn,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(s);mt(Xn,`RPC '${e}' ${a} sending request:`,s),d.send(r,"POST",h,n,15)}))}Wo(e,r,n){const s=by(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Yk(),u=Xk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=a.join("");mt(Xn,`Creating RPC '${e}' stream ${s}: ${p}`,d);const g=o.createWebChannel(p,d);let y=!1,v=!1;const k=new z9({Fo:E=>{v?mt(Xn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(y||(mt(Xn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),mt(Xn,`RPC '${e}' stream ${s} sending:`,E),g.send(E))},Mo:()=>g.close()}),w=(E,D,I)=>{E.listen(D,(U=>{try{I(U)}catch(O){setTimeout((()=>{throw O}),0)}}))};return w(g,Nd.EventType.OPEN,(()=>{v||(mt(Xn,`RPC '${e}' stream ${s} transport opened.`),k.Qo())})),w(g,Nd.EventType.CLOSE,(()=>{v||(v=!0,mt(Xn,`RPC '${e}' stream ${s} transport closed`),k.Uo())})),w(g,Nd.EventType.ERROR,(E=>{v||(v=!0,cu(Xn,`RPC '${e}' stream ${s} transport errored:`,E),k.Uo(new dt(De.UNAVAILABLE,"The operation could not be completed")))})),w(g,Nd.EventType.MESSAGE,(E=>{var D;if(!v){const I=E.data[0];rr(!!I);const U=I,O=U?.error||((D=U[0])===null||D===void 0?void 0:D.error);if(O){mt(Xn,`RPC '${e}' stream ${s} received error:`,O);const X=O.status;let B=(function(C){const R=an[C];if(R!==void 0)return RN(R)})(X),A=O.message;B===void 0&&(B=De.INTERNAL,A="Unknown error status: "+X+" with message "+O.message),v=!0,k.Uo(new dt(B,A)),g.close()}else mt(Xn,`RPC '${e}' stream ${s} received:`,I),k.Ko(I)}})),w(u,Kk.STAT_EVENT,(E=>{E.stat===cy.PROXY?mt(Xn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===cy.NOPROXY&&mt(Xn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.$o()}),0),k}}function Nx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){return new KD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,r,n=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),s=Math.max(0,r-n);s>0&&mt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="PersistentStream";class KN{constructor(e,r,n,s,a,o,u,d){this.Ti=e,this.n_=n,this.r_=s,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Iv(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===De.RESOURCE_EXHAUSTED?($i(r.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===De.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.i_===r&&this.V_(n,s)}),(n=>{e((()=>{const s=new dt(De.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(s)}))}))}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((s=>{n((()=>this.m_(s)))})),this.stream.onMessage((s=>{n((()=>++this.__==1?this.g_(s):this.onNext(s)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return mt(Y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget((()=>this.i_===e?r():(mt(Y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class W9 extends KN{constructor(e,r,n,s,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=a}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=JD(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Rt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Rt.min():o.readTime?Hs(o.readTime):Rt.min()})(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=yy(this.serializer),r.addTarget=(function(a,o){let u;const d=o.target;if(u=py(d)?{documents:e9(a,d)}:{query:t9(a,d).ht},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=FN(a,o.resumeToken);const h=gy(a,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(Rt.min())>0){u.readTime=sp(a,o.snapshotVersion.toTimestamp());const h=gy(a,o.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const n=n9(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=yy(this.serializer),r.removeTarget=e,this.I_(r)}}class q9 extends KN{constructor(e,r,n,s,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return rr(!!e.streamToken),this.lastStreamToken=e.streamToken,rr(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){rr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=ZD(e.writeResults,e.commitTime),n=Hs(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=yy(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>VN(this.serializer,n)))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{}class K9 extends G9{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new dt(De.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.So(e,xy(r,n),s,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new dt(De.UNKNOWN,a.toString())}))}Co(e,r,n,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Co(e,xy(r,n),s,o,u,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new dt(De.UNKNOWN,o.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class X9{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?($i(r),this.N_=!1):mt("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="RemoteStore";class Y9{constructor(e,r,n,s,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To((o=>{n.enqueueAndForget((async()=>{ql(this)&&(mt(Pl,"Restarting streams for network reachability change."),await(async function(d){const h=Lt(d);h.W_.add(4),await I0(h),h.j_.set("Unknown"),h.W_.delete(4),await um(h)})(this))}))})),this.j_=new X9(n,s)}}async function um(t){if(ql(t))for(const e of t.G_)await e(!0)}async function I0(t){for(const e of t.G_)await e(!1)}function XN(t,e){const r=Lt(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),Ov(r)?Dv(r):Ru(r).c_()&&Rv(r,e))}function Pv(t,e){const r=Lt(t),n=Ru(r);r.K_.delete(e),n.c_()&&YN(r,e),r.K_.size===0&&(n.c_()?n.P_():ql(r)&&r.j_.set("Unknown"))}function Rv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ru(t).y_(e)}function YN(t,e){t.H_.Ne(e),Ru(t).w_(e)}function Dv(t){t.H_=new HD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ru(t).start(),t.j_.B_()}function Ov(t){return ql(t)&&!Ru(t).u_()&&t.K_.size>0}function ql(t){return Lt(t).W_.size===0}function QN(t){t.H_=void 0}async function Q9(t){t.j_.set("Online")}async function J9(t){t.K_.forEach(((e,r)=>{Rv(t,e)}))}async function Z9(t,e){QN(t),Ov(t)?(t.j_.q_(e),Dv(t)):t.j_.set("Unknown")}async function e7(t,e,r){if(t.j_.set("Online"),e instanceof ON&&e.state===2&&e.cause)try{await(async function(s,a){const o=a.cause;for(const u of a.targetIds)s.K_.has(u)&&(await s.remoteSyncer.rejectListen(u,o),s.K_.delete(u),s.H_.removeTarget(u))})(t,e)}catch(n){mt(Pl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await op(t,n)}else if(e instanceof Mf?t.H_.We(e):e instanceof DN?t.H_.Ze(e):t.H_.je(e),!r.isEqual(Rt.min()))try{const n=await GN(t.localStore);r.compareTo(n)>=0&&await(function(a,o){const u=a.H_.ot(o);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.K_.get(h);p&&a.K_.set(h,p.withResumeToken(d.resumeToken,o))}})),u.targetMismatches.forEach(((d,h)=>{const p=a.K_.get(d);if(!p)return;a.K_.set(d,p.withResumeToken(Un.EMPTY_BYTE_STRING,p.snapshotVersion)),YN(a,d);const g=new No(p.target,d,h,p.sequenceNumber);Rv(a,g)})),a.remoteSyncer.applyRemoteEvent(u)})(t,r)}catch(n){mt(Pl,"Failed to raise snapshot:",n),await op(t,n)}}async function op(t,e,r){if(!Iu(e))throw e;t.W_.add(1),await I0(t),t.j_.set("Offline"),r||(r=()=>GN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{mt(Pl,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await um(t)}))}function JN(t,e){return e().catch((r=>op(t,r,e)))}async function dm(t){const e=Lt(t),r=$o(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:yv;for(;t7(e);)try{const s=await F9(e.localStore,n);if(s===null){e.U_.length===0&&r.P_();break}n=s.batchId,r7(e,s)}catch(s){await op(e,s)}ZN(e)&&e3(e)}function t7(t){return ql(t)&&t.U_.length<10}function r7(t,e){t.U_.push(e);const r=$o(t);r.c_()&&r.S_&&r.b_(e.mutations)}function ZN(t){return ql(t)&&!$o(t).u_()&&t.U_.length>0}function e3(t){$o(t).start()}async function n7(t){$o(t).C_()}async function s7(t){const e=$o(t);for(const r of t.U_)e.b_(r.mutations)}async function a7(t,e,r){const n=t.U_.shift(),s=Tv.from(n,e,r);await JN(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await dm(t)}async function i7(t,e){e&&$o(t).S_&&await(async function(n,s){if((function(o){return PN(o)&&o!==De.ABORTED})(s.code)){const a=n.U_.shift();$o(n).h_(),await JN(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,s))),await dm(n)}})(t,e),ZN(t)&&e3(t)}async function Q_(t,e){const r=Lt(t);r.asyncQueue.verifyOperationInProgress(),mt(Pl,"RemoteStore received new credentials");const n=ql(r);r.W_.add(3),await I0(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await um(r)}async function o7(t,e){const r=Lt(t);e?(r.W_.delete(2),await um(r)):e||(r.W_.add(2),await I0(r),r.j_.set("Unknown"))}function Ru(t){return t.J_||(t.J_=(function(r,n,s){const a=Lt(r);return a.M_(),new W9(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{xo:Q9.bind(null,t),No:J9.bind(null,t),Lo:Z9.bind(null,t),p_:e7.bind(null,t)}),t.G_.push((async e=>{e?(t.J_.h_(),Ov(t)?Dv(t):t.j_.set("Unknown")):(await t.J_.stop(),QN(t))}))),t.J_}function $o(t){return t.Y_||(t.Y_=(function(r,n,s){const a=Lt(r);return a.M_(),new q9(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:n7.bind(null,t),Lo:i7.bind(null,t),D_:s7.bind(null,t),v_:a7.bind(null,t)}),t.G_.push((async e=>{e?(t.Y_.h_(),await dm(t)):(await t.Y_.stop(),t.U_.length>0&&(mt(Pl,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))}))),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,r,n,s,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new Qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,a){const o=Date.now()+n,u=new Fv(e,r,o,s,a);return u.start(n),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lv(t,e){if($i("AsyncQueue",`${e}: ${t}`),Iu(t))return new dt(De.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{static emptySet(e){return new tu(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||St.comparator(r.key,n.key):(r,n)=>St.comparator(r.key,n.key),this.keyedMap=Sd(),this.sortedSet=new Wr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof tu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new tu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.Z_=new Wr(St.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):It():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class pu{constructor(e,r,n,s,a,o,u,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,s,a){const o=[];return r.forEach((u=>{o.push({type:0,doc:u})})),new pu(e,r,tu.emptySet(r),o,n,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class c7{constructor(){this.queries=Z_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const s=Lt(r),a=s.queries;s.queries=Z_(),a.forEach(((o,u)=>{for(const d of u.ta)d.onError(n)}))})(this,new dt(De.ABORTED,"Firestore shutting down"))}}function Z_(){return new Wl((t=>xN(t)),nm)}async function Mv(t,e){const r=Lt(t);let n=3;const s=e.query;let a=r.queries.get(s);a?!a.na()&&e.ra()&&(n=2):(a=new l7,n=e.ra()?0:1);try{switch(n){case 0:a.ea=await r.onListen(s,!0);break;case 1:a.ea=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const u=Lv(o,`Initialization of query '${zc(e.query)}' failed`);return void e.onError(u)}r.queries.set(s,a),a.ta.push(e),e.sa(r.onlineState),a.ea&&e.oa(a.ea)&&Vv(r)}async function $v(t,e){const r=Lt(t),n=e.query;let s=3;const a=r.queries.get(n);if(a){const o=a.ta.indexOf(e);o>=0&&(a.ta.splice(o,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function u7(t,e){const r=Lt(t);let n=!1;for(const s of e){const a=s.query,o=r.queries.get(a);if(o){for(const u of o.ta)u.oa(s)&&(n=!0);o.ea=s}}n&&Vv(r)}function d7(t,e,r){const n=Lt(t),s=n.queries.get(e);if(s)for(const a of s.ta)a.onError(r);n.queries.delete(e)}function Vv(t){t.ia.forEach((e=>{e.next()}))}var wy,e4;(e4=wy||(wy={}))._a="default",e4.Cache="cache";class Bv{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new pu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==wy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.key=e}}class r3{constructor(e){this.key=e}}class h7{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Yt(),this.mutatedKeys=Yt(),this.ya=yN(e),this.wa=new tu(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new J_,s=r?r.wa:this.wa;let a=r?r.mutatedKeys:this.mutatedKeys,o=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const y=s.get(p),v=sm(this.query,g)?g:null,k=!!y&&this.mutatedKeys.has(y.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;y&&v?y.data.isEqual(v.data)?k!==w&&(n.track({type:3,doc:v}),E=!0):this.va(y,v)||(n.track({type:2,doc:v}),E=!0,(d&&this.ya(v,d)>0||h&&this.ya(v,h)<0)&&(u=!0)):!y&&v?(n.track({type:0,doc:v}),E=!0):y&&!v&&(n.track({type:1,doc:y}),E=!0,(d||h)&&(u=!0)),E&&(v?(o=o.add(v),a=w?a.add(p):a.delete(p)):(o=o.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{wa:o,Da:n,ls:u,mutatedKeys:a}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort(((p,g)=>(function(v,k){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return w(v)-w(k)})(p.type,g.type)||this.ya(p.doc,g.doc))),this.Ca(n),s=s!=null&&s;const u=r&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,h=d!==this.ga;return this.ga=d,o.length!==0||h?{snapshot:new pu(this.query,e.wa,a,o,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new J_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((r=>this.fa=this.fa.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.fa=this.fa.delete(r))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Yt(),this.wa.forEach((n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))}));const r=[];return e.forEach((n=>{this.pa.has(n)||r.push(new r3(n))})),this.pa.forEach((n=>{e.has(n)||r.push(new t3(n))})),r}Oa(e){this.fa=e.gs,this.pa=Yt();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return pu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Uv="SyncEngine";class f7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class p7{constructor(e){this.key=e,this.Ba=!1}}class m7{constructor(e,r,n,s,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Wl((u=>xN(u)),nm),this.qa=new Map,this.Qa=new Set,this.$a=new Wr(St.comparator),this.Ua=new Map,this.Ka=new Sv,this.Wa={},this.Ga=new Map,this.za=fu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function g7(t,e,r=!0){const n=l3(t);let s;const a=n.ka.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await n3(n,e,r,!0),s}async function x7(t,e){const r=l3(t);await n3(r,e,!0,!1)}async function n3(t,e,r,n){const s=await L9(t.localStore,Ja(e)),a=s.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await y7(t,e,a,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&XN(t.remoteStore,s),u}async function y7(t,e,r,n,s){t.Ha=(g,y,v)=>(async function(w,E,D,I){let U=E.view.ba(D);U.ls&&(U=await q_(w.localStore,E.query,!1).then((({documents:A})=>E.view.ba(A,U))));const O=I&&I.targetChanges.get(E.targetId),X=I&&I.targetMismatches.get(E.targetId)!=null,B=E.view.applyChanges(U,w.isPrimaryClient,O,X);return r4(w,E.targetId,B.Ma),B.snapshot})(t,g,y,v);const a=await q_(t.localStore,e,!0),o=new h7(e,a.gs),u=o.ba(a.documents),d=j0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),h=o.applyChanges(u,t.isPrimaryClient,d);r4(t,r,h.Ma);const p=new f7(e,r,o);return t.ka.set(e,p),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),h.snapshot}async function v7(t,e,r){const n=Lt(t),s=n.ka.get(e),a=n.qa.get(s.targetId);if(a.length>1)return n.qa.set(s.targetId,a.filter((o=>!nm(o,e)))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await vy(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),r&&Pv(n.remoteStore,s.targetId),_y(n,s.targetId)})).catch(ju)):(_y(n,s.targetId),await vy(n.localStore,s.targetId,!0))}async function b7(t,e){const r=Lt(t),n=r.ka.get(e),s=r.qa.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Pv(r.remoteStore,n.targetId))}async function w7(t,e,r){const n=A7(t);try{const s=await(function(o,u){const d=Lt(o),h=kr.now(),p=u.reduce(((v,k)=>v.add(k.key)),Yt());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let k=Vi(),w=Yt();return d.ds.getEntries(v,p).next((E=>{k=E,k.forEach(((D,I)=>{I.isValidDocument()||(w=w.add(D))}))})).next((()=>d.localDocuments.getOverlayedDocuments(v,k))).next((E=>{g=E;const D=[];for(const I of u){const U=$D(I,g.get(I.key).overlayedDocument);U!=null&&D.push(new Yo(I.key,U,cN(U.value.mapValue),Fn.exists(!0)))}return d.mutationQueue.addMutationBatch(v,h,D,u)})).next((E=>{y=E;const D=E.applyToLocalDocumentSet(g,w);return d.documentOverlayCache.saveOverlays(v,E.batchId,D)}))})).then((()=>({batchId:y.batchId,changes:bN(g)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),(function(o,u,d){let h=o.Wa[o.currentUser.toKey()];h||(h=new Wr(Ht)),h=h.insert(u,d),o.Wa[o.currentUser.toKey()]=h})(n,s.batchId,r),await P0(n,s.changes),await dm(n.remoteStore)}catch(s){const a=Lv(s,"Failed to persist write");r.reject(a)}}async function s3(t,e){const r=Lt(t);try{const n=await D9(r.localStore,e);e.targetChanges.forEach(((s,a)=>{const o=r.Ua.get(a);o&&(rr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?rr(o.Ba):s.removedDocuments.size>0&&(rr(o.Ba),o.Ba=!1))})),await P0(r,n,e)}catch(n){await ju(n)}}function t4(t,e,r){const n=Lt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.ka.forEach(((a,o)=>{const u=o.view.sa(e);u.snapshot&&s.push(u.snapshot)})),(function(o,u){const d=Lt(o);d.onlineState=u;let h=!1;d.queries.forEach(((p,g)=>{for(const y of g.ta)y.sa(u)&&(h=!0)})),h&&Vv(d)})(n.eventManager,e),s.length&&n.La.p_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function _7(t,e,r){const n=Lt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Ua.get(e),a=s&&s.key;if(a){let o=new Wr(St.comparator);o=o.insert(a,En.newNoDocument(a,Rt.min()));const u=Yt().add(a),d=new lm(Rt.min(),new Map,new Wr(Ht),o,u);await s3(n,d),n.$a=n.$a.remove(a),n.Ua.delete(e),zv(n)}else await vy(n.localStore,e,!1).then((()=>_y(n,e,r))).catch(ju)}async function E7(t,e){const r=Lt(t),n=e.batch.batchId;try{const s=await R9(r.localStore,e);i3(r,n,null),a3(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await P0(r,s)}catch(s){await ju(s)}}async function T7(t,e,r){const n=Lt(t);try{const s=await(function(o,u){const d=Lt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(rr(g!==null),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>d.localDocuments.getDocuments(h,p)))}))})(n.localStore,e);i3(n,e,r),a3(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await P0(n,s)}catch(s){await ju(s)}}function a3(t,e){(t.Ga.get(e)||[]).forEach((r=>{r.resolve()})),t.Ga.delete(e)}function i3(t,e,r){const n=Lt(t);let s=n.Wa[n.currentUser.toKey()];if(s){const a=s.get(e);a&&(r?a.reject(r):a.resolve(),s=s.remove(e)),n.Wa[n.currentUser.toKey()]=s}}function _y(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach((n=>{t.Ka.containsKey(n)||o3(t,n)}))}function o3(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&(Pv(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),zv(t))}function r4(t,e,r){for(const n of r)n instanceof t3?(t.Ka.addReference(n.key,e),k7(t,n)):n instanceof r3?(mt(Uv,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||o3(t,n.key)):It()}function k7(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(mt(Uv,"New document in limbo: "+r),t.Qa.add(n),zv(t))}function zv(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new St(Sr.fromString(e)),n=t.za.next();t.Ua.set(n,new p7(r)),t.$a=t.$a.insert(r,n),XN(t.remoteStore,new No(Ja(rm(r.path)),n,"TargetPurposeLimboResolution",em.ae))}}async function P0(t,e,r){const n=Lt(t),s=[],a=[],o=[];n.ka.isEmpty()||(n.ka.forEach(((u,d)=>{o.push(n.Ha(d,e,r).then((h=>{var p;if((h||r)&&n.isPrimaryClient){const g=h?!h.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){s.push(h);const g=Cv.Yi(d.targetId,h);a.push(g)}})))})),await Promise.all(o),n.La.p_(s),await(async function(d,h){const p=Lt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Ve.forEach(h,(y=>Ve.forEach(y.Hi,(v=>p.persistence.referenceDelegate.addReference(g,y.targetId,v))).next((()=>Ve.forEach(y.Ji,(v=>p.persistence.referenceDelegate.removeReference(g,y.targetId,v)))))))))}catch(g){if(!Iu(g))throw g;mt(jv,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const v=p.Ts.get(y),k=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(k);p.Ts=p.Ts.insert(y,w)}}})(n.localStore,a))}async function N7(t,e){const r=Lt(t);if(!r.currentUser.isEqual(e)){mt(Uv,"User change. New user:",e.toKey());const n=await qN(r.localStore,e);r.currentUser=e,(function(a,o){a.Ga.forEach((u=>{u.forEach((d=>{d.reject(new dt(De.CANCELLED,o))}))})),a.Ga.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await P0(r,n.Rs)}}function S7(t,e){const r=Lt(t),n=r.Ua.get(e);if(n&&n.Ba)return Yt().add(n.key);{let s=Yt();const a=r.qa.get(e);if(!a)return s;for(const o of a){const u=r.ka.get(o);s=s.unionWith(u.view.Sa)}return s}}function l3(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_7.bind(null,e),e.La.p_=u7.bind(null,e.eventManager),e.La.Ja=d7.bind(null,e.eventManager),e}function A7(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=T7.bind(null,e),e}class lp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return P9(this.persistence,new C9,e.initialUser,this.serializer)}Xa(e){return new WN(Av.ri,this.serializer)}Za(e){return new $9}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lp.provider={build:()=>new lp};class C7 extends lp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){rr(this.persistence.referenceDelegate instanceof ip);const n=this.persistence.referenceDelegate.garbageCollector;return new p9(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?bs.withCacheSize(this.cacheSizeBytes):bs.DEFAULT;return new WN((n=>ip.ri(n,r)),this.serializer)}}class Ey{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>t4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=N7.bind(null,this.syncEngine),await o7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new c7})()}createDatastore(e){const r=cm(e.databaseInfo.databaseId),n=(function(a){return new H9(a)})(e.databaseInfo);return(function(a,o,u,d){return new K9(a,o,u,d)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,s,a,o,u){return new Y9(n,s,a,o,u)})(this.localStore,this.datastore,e.asyncQueue,(r=>t4(this.syncEngine,r,0)),(function(){return X_.D()?new X_:new V9})())}createSyncEngine(e,r){return(function(s,a,o,u,d,h,p){const g=new m7(s,a,o,u,d,h);return p&&(g.ja=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(s){const a=Lt(s);mt(Pl,"RemoteStore shutting down."),a.W_.add(5),await I0(a),a.z_.shutdown(),a.j_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Ey.provider={build:()=>new Ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new dt(De.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await(async function(s,a){const o=Lt(s),u={documents:a.map((g=>ap(o.serializer,g)))},d=await o.Co("BatchGetDocuments",o.serializer.databaseId,Sr.emptyPath(),u,a.length),h=new Map;d.forEach((g=>{const y=QD(o.serializer,g);h.set(y.key.toString(),y)}));const p=[];return a.forEach((g=>{const y=h.get(g.toString());rr(!!y),p.push(y)})),p})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new om(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{const s=St.fromPath(n);this.mutations.push(new IN(s,this.precondition(s)))})),await(async function(n,s){const a=Lt(n),o={writes:s.map((u=>VN(a.serializer,u)))};await a.So("Commit",a.serializer.databaseId,Sr.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw It();r=Rt.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new dt(De.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Rt.min())?Fn.exists(!1):Fn.updateTime(r):Fn.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Rt.min()))throw new dt(De.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(r)}return Fn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,r,n,s,a){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=s,this.deferred=a,this.Tu=n.maxAttempts,this.a_=new Iv(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo((async()=>{const e=new j7(this.datastore),r=this.du(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((s=>{this.Au(s)}))))})).catch((n=>{this.Au(n)}))}))}du(e){try{const r=this.updateFunction(e);return!A0(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Eu(),Promise.resolve())))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!PN(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="FirestoreClient";class P7{constructor(e,r,n,s,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Qn.UNAUTHENTICATED,this.clientId=Zk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async o=>{mt(Vo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(mt(Vo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Lv(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Sx(t,e){t.asyncQueue.verifyOperationInProgress(),mt(Vo,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async s=>{n.isEqual(s)||(await qN(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function n4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await R7(t);mt(Vo,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>Q_(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,s)=>Q_(e.remoteStore,s))),t._onlineComponents=e}async function R7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){mt(Vo,"Using user provided OfflineComponentProvider");try{await Sx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(s){return s.name==="FirebaseError"?s.code===De.FAILED_PRECONDITION||s.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(r))throw r;cu("Error using user provided cache. Falling back to memory cache: "+r),await Sx(t,new lp)}}else mt(Vo,"Using default OfflineComponentProvider"),await Sx(t,new C7(void 0));return t._offlineComponents}async function Wv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(mt(Vo,"Using user provided OnlineComponentProvider"),await n4(t,t._uninitializedComponentsProvider._online)):(mt(Vo,"Using default OnlineComponentProvider"),await n4(t,new Ey))),t._onlineComponents}function D7(t){return Wv(t).then((e=>e.syncEngine))}function O7(t){return Wv(t).then((e=>e.datastore))}async function cp(t){const e=await Wv(t),r=e.eventManager;return r.onListen=g7.bind(null,e.syncEngine),r.onUnlisten=v7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=x7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=b7.bind(null,e.syncEngine),r}function F7(t,e,r={}){const n=new Qa;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,d,h){const p=new Hv({next:y=>{p.su(),o.enqueueAndForget((()=>$v(a,g)));const v=y.docs.has(u);!v&&y.fromCache?h.reject(new dt(De.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&d&&d.source==="server"?h.reject(new dt(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Bv(rm(u.path),p,{includeMetadataChanges:!0,Ta:!0});return Mv(a,g)})(await cp(t),t.asyncQueue,e,r,n))),n.promise}function L7(t,e,r={}){const n=new Qa;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,d,h){const p=new Hv({next:y=>{p.su(),o.enqueueAndForget((()=>$v(a,g))),y.fromCache&&d.source==="server"?h.reject(new dt(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Bv(u,p,{includeMetadataChanges:!0,Ta:!0});return Mv(a,g)})(await cp(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t,e,r){if(!r)throw new dt(De.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M7(t,e,r,n){if(e===!0&&n===!0)throw new dt(De.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function a4(t){if(!St.isDocumentKey(t))throw new dt(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function i4(t){if(St.isDocumentKey(t))throw new dt(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":It()}function us(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new dt(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=hm(t);throw new dt(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function $7(t,e){if(e<=0)throw new dt(De.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="firestore.googleapis.com",o4=!0;class l4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new dt(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d3,this.ssl=o4}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:o4;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h9)throw new dt(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c3((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new dt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new dt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new dt(De.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new q8;switch(n.type){case"firstParty":return new Y8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new dt(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=s4.get(r);n&&(mt("ComponentProvider","Removing Datastore"),s4.delete(r),n.terminate())})(this),Promise.resolve()}}function V7(t,e,r,n={}){var s;const a=(t=us(t,fm))._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${r}`;a.host!==d3&&a.host!==u&&cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:u,ssl:!1,emulatorOptions:n});if(!Do(d,o)&&(t._setSettings(d),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=Qn.MOCK_USER;else{h=fk(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new dt(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qn(g)}t._authCredentials=new G8(new Qk(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class $n{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class Po extends qi{constructor(e,r,n){super(e,r,rm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new St(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function kt(t,e,...r){if(t=Cr(t),u3("collection","path",e),t instanceof fm){const n=Sr.fromString(e,...r);return i4(n),new Po(t,null,n)}{if(!(t instanceof $n||t instanceof Po))throw new dt(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Sr.fromString(e,...r));return i4(n),new Po(t.firestore,null,n)}}function ht(t,e,...r){if(t=Cr(t),arguments.length===1&&(e=Zk.newId()),u3("doc","path",e),t instanceof fm){const n=Sr.fromString(e,...r);return a4(n),new $n(t,null,new St(n))}{if(!(t instanceof $n||t instanceof Po))throw new dt(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Sr.fromString(e,...r));return a4(n),new $n(t.firestore,t instanceof Po?t.converter:null,new St(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="AsyncQueue";class u4{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Iv(this,"async_queue_retry"),this.Su=()=>{const n=Nx();n&&mt(c4,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=Nx();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=Nx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const r=new Qa;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Iu(e))throw e;mt(c4,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const r=this.bu.then((()=>(this.pu=!0,e().catch((n=>{this.gu=n,this.pu=!1;const s=(function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u})(n);throw $i("INTERNAL UNHANDLED ERROR: ",s),n})).then((n=>(this.pu=!1,n))))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const s=Fv.createAndSchedule(this,e,r,n,(a=>this.Fu(a)));return this.fu.push(s),s}Du(){this.gu&&It()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function d4(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const a of n)if(a in s&&typeof s[a]=="function")return!0;return!1})(t,["next","error","complete"])}class li extends fm{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new u4,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u4(e),this._firestoreClient=void 0,await e}}}function B7(t,e){const r=typeof t=="object"?t:Qp(),n=typeof t=="string"?t:ep,s=Ko(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const a=uk("firestore");a&&V7(s,...a)}return s}function R0(t){if(t._terminated)throw new dt(De.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U7(t),t._firestoreClient}function U7(t){var e,r,n;const s=t._freezeSettings(),a=(function(u,d,h,p){return new dD(u,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,c3(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new P7(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(u){const d=u?._online.build();return{_offline:u?._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rl(Un.fromBase64String(e))}catch(r){throw new dt(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Rl(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new dt(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new dt(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new dt(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==s[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=/^__.*__$/;class H7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Yo(e,this.data,this.fieldMask,r,this.fieldTransforms):new C0(e,this.data,r,this.fieldTransforms)}}class h3{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Yo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function f3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class Kv{constructor(e,r,n,s,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Kv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.$u(e),s}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return up(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(f3(this.Lu)&&z7.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class W7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||cm(e)}ju(e,r,n,s=!1){return new Kv({Lu:e,methodName:r,zu:n,path:On.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F0(t){const e=t._freezeSettings(),r=cm(t._databaseId);return new W7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Xv(t,e,r,n,s,a={}){const o=t.ju(a.merge||a.mergeFields?2:0,e,r,s);Jv("Data must be an object, but it was:",o,n);const u=g3(n,o);let d,h;if(a.merge)d=new Bs(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const y=Ty(e,g,r);if(!o.contains(y))throw new dt(De.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);y3(p,y)||p.push(y)}d=new Bs(p),h=o.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=o.fieldTransforms;return new H7(new ls(u),d,h)}class pm extends O0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pm}}class Yv extends O0{_toFieldTransform(e){return new AN(e.path,new s0)}isEqual(e){return e instanceof Yv}}class Qv extends O0{constructor(e,r){super(e),this.Ju=r}_toFieldTransform(e){const r=new o0(e.serializer,EN(e.serializer,this.Ju));return new AN(e.path,r)}isEqual(e){return e instanceof Qv&&this.Ju===e.Ju}}function p3(t,e,r,n){const s=t.ju(1,e,r);Jv("Data must be an object, but it was:",s,n);const a=[],o=ls.empty();Xo(n,((d,h)=>{const p=Zv(e,d,r);h=Cr(h);const g=s.Uu(p);if(h instanceof pm)a.push(p);else{const y=L0(h,g);y!=null&&(a.push(p),o.set(p,y))}}));const u=new Bs(a);return new h3(o,u,s.fieldTransforms)}function m3(t,e,r,n,s,a){const o=t.ju(1,e,r),u=[Ty(e,n,r)],d=[s];if(a.length%2!=0)throw new dt(De.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(Ty(e,a[y])),d.push(a[y+1]);const h=[],p=ls.empty();for(let y=u.length-1;y>=0;--y)if(!y3(h,u[y])){const v=u[y];let k=d[y];k=Cr(k);const w=o.Uu(v);if(k instanceof pm)h.push(v);else{const E=L0(k,w);E!=null&&(h.push(v),p.set(v,E))}}const g=new Bs(h);return new h3(p,g,o.fieldTransforms)}function q7(t,e,r,n=!1){return L0(r,t.ju(n?4:3,e))}function L0(t,e){if(x3(t=Cr(t)))return Jv("Unsupported field value:",e,t),g3(t,e);if(t instanceof O0)return(function(n,s){if(!f3(s.Lu))throw s.Wu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return(function(n,s){const a=[];let o=0;for(const u of n){let d=L0(u,s.Ku(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}})(t,e)}return(function(n,s){if((n=Cr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return EN(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=kr.fromDate(n);return{timestampValue:sp(s.serializer,a)}}if(n instanceof kr){const a=new kr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:sp(s.serializer,a)}}if(n instanceof qv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Rl)return{bytesValue:FN(s.serializer,n._byteString)};if(n instanceof $n){const a=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Nv(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Gv)return(function(o,u){return{mapValue:{fields:{[oN]:{stringValue:lN},[tp]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return Ev(u.serializer,h)}))}}}}}})(n,s);throw s.Wu(`Unsupported field value: ${hm(n)}`)})(t,e)}function g3(t,e){const r={};return tN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,((n,s)=>{const a=L0(s,e.qu(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function x3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kr||t instanceof qv||t instanceof Rl||t instanceof $n||t instanceof O0||t instanceof Gv)}function Jv(t,e,r){if(!x3(r)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(r)){const n=hm(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function Ty(t,e,r){if((e=Cr(e))instanceof D0)return e._internalPath;if(typeof e=="string")return Zv(t,e);throw up("Field path arguments must be of type string or ",t,!1,void 0,r)}const G7=new RegExp("[~\\*/\\[\\]]");function Zv(t,e,r){if(e.search(G7)>=0)throw up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new D0(...e.split("."))._internalPath}catch{throw up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function up(t,e,r,n,s){const a=n&&!n.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${n}`),o&&(d+=` in document ${s}`),d+=")"),new dt(De.INVALID_ARGUMENT,u+t+d)}function y3(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,r,n,s,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(mm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class K7 extends dp{data(){return super.data()}}function mm(t,e){return typeof e=="string"?Zv(t,e):e instanceof D0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new dt(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e1{}class t1 extends e1{}function tr(t,e,...r){let n=[];e instanceof e1&&n.push(e),n=n.concat(r),(function(a){const o=a.filter((d=>d instanceof r1)).length,u=a.filter((d=>d instanceof gm)).length;if(o>1||o>0&&u>0)throw new dt(De.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)t=s._apply(t);return t}class gm extends t1{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new gm(e,r,n)}_apply(e){const r=this._parse(e);return w3(e._query,r),new qi(e.firestore,e.converter,my(e._query,r))}_parse(e){const r=F0(e.firestore);return(function(a,o,u,d,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new dt(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){f4(g,p);const k=[];for(const w of g)k.push(h4(d,a,w));y={arrayValue:{values:k}}}else y=h4(d,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||f4(g,p),y=q7(u,o,g,p==="in"||p==="not-in");return on.create(h,p,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function vr(t,e,r){const n=e,s=mm("where",t);return gm._create(s,n,r)}class r1 extends e1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new r1(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Da.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(s,a){let o=s;const u=a.getFlattenedFilters();for(const d of u)w3(o,d),o=my(o,d)})(e._query,r),new qi(e.firestore,e.converter,my(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class n1 extends t1{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new n1(e,r)}_apply(e){const r=(function(s,a,o){if(s.startAt!==null)throw new dt(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new dt(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new n0(a,o)})(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,(function(s,a){const o=s.explicitOrderBy.concat([a]);return new Pu(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,r))}}function s1(t,e="asc"){const r=e,n=mm("orderBy",t);return n1._create(n,r)}class a1 extends t1{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new a1(e,r,n)}_apply(e){return new qi(e.firestore,e.converter,np(e._query,this._limit,this._limitType))}}function b3(t){return $7("limit",t),a1._create("limit",t,"F")}function h4(t,e,r){if(typeof(r=Cr(r))=="string"){if(r==="")throw new dt(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gN(e)&&r.indexOf("/")!==-1)throw new dt(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Sr.fromString(r));if(!St.isDocumentKey(n))throw new dt(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return S_(t,new St(n))}if(r instanceof $n)return S_(t,r._key);throw new dt(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hm(r)}.`)}function f4(t,e){if(!Array.isArray(t)||t.length===0)throw new dt(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function w3(t,e){const r=(function(s,a){for(const o of s)for(const u of o.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new dt(De.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new dt(De.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class _3{convertValue(e,r="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw It()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Xo(e,((s,a)=>{n[s]=this.convertValue(a,r)})),n}convertVectorValue(e){var r,n,s;const a=(s=(n=(r=e.fields)===null||r===void 0?void 0:r[tp].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map((o=>Zr(o.doubleValue)));return new Gv(a)}convertGeoPoint(e){return new qv(Zr(e.latitude),Zr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=tm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(e0(e));default:return null}}convertTimestamp(e){const r=Fo(e);return new kr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Sr.fromString(e);rr(zN(n));const s=new t0(n.get(1),n.get(3)),a=new St(n.popFirst(5));return s.isEqual(r)||$i(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class X7 extends _3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class o1 extends dp{constructor(e,r,n,s,a,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(mm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class $f extends o1{data(e={}){return super.data(e)}}class E3{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Gc(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new $f(this._firestore,this._userDataWriter,n.key,n,new Gc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new dt(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((u=>{const d=new $f(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Gc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const d=new $f(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Gc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),p=o.indexOf(u.doc.key)),{type:Y7(u.type),doc:d,oldIndex:h,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Y7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){t=us(t,$n);const e=us(t.firestore,li);return F7(R0(e),t._key).then((r=>T3(e,t,r)))}class xm extends _3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,r)}}function tn(t){t=us(t,qi);const e=us(t.firestore,li),r=R0(e),n=new xm(e);return v3(t._query),L7(r,t._query).then((s=>new E3(e,n,t,s)))}function ci(t,e,r){t=us(t,$n);const n=us(t.firestore,li),s=i1(t.converter,e,r);return ym(n,[Xv(F0(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Fn.none())])}function Xr(t,e,r,...n){t=us(t,$n);const s=us(t.firestore,li),a=F0(s);let o;return o=typeof(e=Cr(e))=="string"||e instanceof D0?m3(a,"updateDoc",t._key,e,r,n):p3(a,"updateDoc",t._key,e),ym(s,[o.toMutation(t._key,Fn.exists(!0))])}function Ai(t){return ym(us(t.firestore,li),[new om(t._key,Fn.none())])}function Ro(t,e){const r=us(t.firestore,li),n=ht(t),s=i1(t.converter,e);return ym(r,[Xv(F0(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Fn.exists(!1))]).then((()=>n))}function hr(t,...e){var r,n,s;t=Cr(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||d4(e[o])||(a=e[o],o++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(d4(e[o])){const g=e[o];e[o]=(r=g.next)===null||r===void 0?void 0:r.bind(g),e[o+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),e[o+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let d,h,p;if(t instanceof $n)h=us(t.firestore,li),p=rm(t._key.path),d={next:g=>{e[o]&&e[o](T3(h,t,g))},error:e[o+1],complete:e[o+2]};else{const g=us(t,qi);h=us(g.firestore,li),p=g._query;const y=new xm(h);d={next:v=>{e[o]&&e[o](new E3(h,y,g,v))},error:e[o+1],complete:e[o+2]},v3(t._query)}return(function(y,v,k,w){const E=new Hv(w),D=new Bv(v,E,k);return y.asyncQueue.enqueueAndForget((async()=>Mv(await cp(y),D))),()=>{E.su(),y.asyncQueue.enqueueAndForget((async()=>$v(await cp(y),D)))}})(R0(h),p,u,d)}function ym(t,e){return(function(n,s){const a=new Qa;return n.asyncQueue.enqueueAndForget((async()=>w7(await D7(n),s,a))),a.promise})(R0(t),e)}function T3(t,e,r){const n=r.docs.get(e._key),s=new xm(t);return new o1(t,s,e._key,n,new Gc(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7={maxAttempts:5};function Cd(t,e){if((t=Cr(t)).firestore!==e)throw new dt(De.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=F0(e)}get(e){const r=Cd(e,this._firestore),n=new X7(this._firestore);return this._transaction.lookup([r._key]).then((s=>{if(!s||s.length!==1)return It();const a=s[0];if(a.isFoundDocument())return new dp(this._firestore,n,a.key,a,r.converter);if(a.isNoDocument())return new dp(this._firestore,n,r._key,null,r.converter);throw It()}))}set(e,r,n){const s=Cd(e,this._firestore),a=i1(s.converter,r,n),o=Xv(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,n);return this._transaction.set(s._key,o),this}update(e,r,n,...s){const a=Cd(e,this._firestore);let o;return o=typeof(r=Cr(r))=="string"||r instanceof D0?m3(this._dataReader,"Transaction.update",a._key,r,n,s):p3(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,o),this}delete(e){const r=Cd(e,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7 extends J7{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Cd(e,this._firestore),n=new xm(this._firestore);return super.get(e).then((s=>new o1(this._firestore,n,r._key,s._document,new Gc(!1,!1),r.converter)))}}function ky(t,e,r){t=us(t,li);const n=Object.assign(Object.assign({},Q7),r);return(function(a){if(a.maxAttempts<1)throw new dt(De.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(a,o,u){const d=new Qa;return a.asyncQueue.enqueueAndForget((async()=>{const h=await O7(a);new I7(a.asyncQueue,h,u,o,d).Iu()})),d.promise})(R0(t),(s=>e(new Z7(t,s))),n)}function br(){return new Yv("serverTimestamp")}function eO(t){return new Qv("increment",t)}(function(e,r=!0){(function(s){Cu=s})(Hl),Ra(new ca("firestore",((n,{instanceIdentifier:s,options:a})=>{const o=n.getProvider("app").getImmediate(),u=new li(new K8(n.getProvider("auth-internal")),new Q8(o,n.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new dt(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new t0(h.options.projectId,p)})(o,s),o);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Es(m_,g_,e),Es(m_,g_,"esm2017")})();function l1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function k3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tO=k3,N3=new zl("auth","Firebase",k3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new Yp("@firebase/auth");function rO(t,...e){hp.logLevel<=Xt.WARN&&hp.warn(`Auth (${Hl}): ${t}`,...e)}function Vf(t,...e){hp.logLevel<=Xt.ERROR&&hp.error(`Auth (${Hl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t,...e){throw c1(t,...e)}function ei(t,...e){return c1(t,...e)}function S3(t,e,r){const n=Object.assign(Object.assign({},tO()),{[e]:r});return new zl("auth","Firebase",n).create(e,{appName:t.name})}function Pi(t){return S3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return N3.create(t,...e)}function Dt(t,e,...r){if(!t)throw c1(e,...r)}function Ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vf(e),new Error(e)}function Bi(t,e){t||Ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nO(){return p4()==="http:"||p4()==="https:"}function p4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nO()||pk()||"connection"in navigator)?navigator.onLine:!0}function aO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Bi(r>e,"Short delay should be less than long delay!"),this.isMobile=eP()||nP()}get(){return sO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t,e){Bi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lO=new M0(3e4,6e4);function Gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ma(t,e,r,n,s={}){return C3(t,s,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const u=S0(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},a);return rP()||(h.referrerPolicy="no-referrer"),A3.fetch()(await j3(t,t.config.apiHost,r,u),h)})}async function C3(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},iO),e);try{const s=new uO(t),a=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw xf(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const u=a.ok?o.errorMessage:o.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw xf(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw xf(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw xf(t,"user-disabled",o);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw S3(t,p,h);Oa(t,p)}}catch(s){if(s instanceof ua)throw s;Oa(t,"network-request-failed",{message:String(s)})}}async function $0(t,e,r,n,s={}){const a=await Ma(t,e,r,n,s);return"mfaPendingCredential"in a&&Oa(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function j3(t,e,r,n){const s=`${e}${r}?${n}`,a=t,o=a.config.emulator?u1(t.config,s):`${t.config.apiScheme}://${s}`;return oO.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function cO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ei(this.auth,"network-request-failed")),lO.get())})}}function xf(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=ei(t,e,n);return s.customData._tokenResponse=r,s}function m4(t){return t!==void 0&&t.enterprise!==void 0}class dO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return cO(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hO(t,e){return Ma(t,"GET","/v2/recaptchaConfig",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e){return Ma(t,"POST","/v1/accounts:delete",e)}async function fp(t,e){return Ma(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pO(t,e=!1){const r=Cr(t),n=await r.getIdToken(e),s=d1(n);Dt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,o=a?.sign_in_provider;return{claims:s,token:n,authTime:$d(Ax(s.auth_time)),issuedAtTime:$d(Ax(s.iat)),expirationTime:$d(Ax(s.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Ax(t){return Number(t)*1e3}function d1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Vf("JWT malformed, contained fewer than 3 sections"),null;try{const s=lk(r);return s?JSON.parse(s):(Vf("Failed to decode base64 JWT payload"),null)}catch(s){return Vf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function g4(t){const e=d1(t);return Dt(e,"internal-error"),Dt(typeof e.exp<"u","internal-error"),Dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ua&&mO(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function mO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=$d(this.lastLoginAt),this.creationTime=$d(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Dl(t,fp(r,{idToken:n}));Dt(s?.users.length,r,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?I3(a.providerUserInfo):[],u=yO(t.providerData,o),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!u?.length,p=d?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Sy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function xO(t){const e=Cr(t);await pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yO(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function I3(t){return t.map(e=>{var{providerId:r}=e,n=l1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(t,e){const r=await C3(t,{},async()=>{const n=S0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,o=await j3(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",A3.fetch()(o,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function bO(t,e){return Ma(t,"POST","/v2/accounts:revokeToken",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Dt(e.idToken,"internal-error"),Dt(typeof e.idToken<"u","internal-error"),Dt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Dt(e.length!==0,"internal-error");const r=g4(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Dt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:a}=await vO(e,r);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:a}=r,o=new ru;return n&&(Dt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(Dt(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),a&&(Dt(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ru,this.toJSON())}_performRefresh(){return Ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){Dt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sa{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,a=l1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Sy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return Dt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return pO(this,e)}reload(){return xO(this)}_assign(e){this!==e&&(Dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Sa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await pp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vs(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await Dl(this,fO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,a,o,u,d,h,p;const g=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(s=r.email)!==null&&s!==void 0?s:void 0,v=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,k=(o=r.photoURL)!==null&&o!==void 0?o:void 0,w=(u=r.tenantId)!==null&&u!==void 0?u:void 0,E=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,D=(h=r.createdAt)!==null&&h!==void 0?h:void 0,I=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:U,emailVerified:O,isAnonymous:X,providerData:B,stsTokenManager:A}=r;Dt(U&&A,e,"internal-error");const S=ru.fromJSON(this.name,A);Dt(typeof U=="string",e,"internal-error"),vo(g,e.name),vo(y,e.name),Dt(typeof O=="boolean",e,"internal-error"),Dt(typeof X=="boolean",e,"internal-error"),vo(v,e.name),vo(k,e.name),vo(w,e.name),vo(E,e.name),vo(D,e.name),vo(I,e.name);const C=new Sa({uid:U,auth:e,email:y,emailVerified:O,displayName:g,isAnonymous:X,photoURL:k,phoneNumber:v,tenantId:w,stsTokenManager:S,createdAt:D,lastLoginAt:I});return B&&Array.isArray(B)&&(C.providerData=B.map(R=>Object.assign({},R))),E&&(C._redirectEventId=E),C}static async _fromIdTokenResponse(e,r,n=!1){const s=new ru;s.updateFromServerResponse(r);const a=new Sa({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await pp(a),a}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Dt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?I3(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!a?.length,u=new ru;u.updateFromIdToken(n);const d=new Sa({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Sy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=new Map;function ji(t){Bi(t instanceof Function,"Expected a class definition");let e=x4.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}P3.type="NONE";const y4=P3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t,e,r){return`firebase:${t}:${e}:${r}`}class nu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=Bf(this.userKey,s.apiKey,a),this.fullPersistenceKey=Bf("persistence",s.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await fp(this.auth,{idToken:e}).catch(()=>{});return r?Sa._fromGetAccountInfoResponse(this.auth,r,e):null}return Sa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new nu(ji(y4),e,n);const s=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=s[0]||ji(y4);const o=Bf(n,e.config.apiKey,e.name);let u=null;for(const h of r)try{const p=await h._get(o);if(p){let g;if(typeof p=="string"){const y=await fp(e,{idToken:p}).catch(()=>{});if(!y)break;g=await Sa._fromGetAccountInfoResponse(e,y,p)}else g=Sa._fromJSON(e,p);h!==a&&(u=g),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new nu(a,e,n):(a=d[0],u&&await a._set(o,u.toJSON()),await Promise.all(r.map(async h=>{if(h!==a)try{await h._remove(o)}catch{}})),new nu(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M3(e))return"Blackberry";if($3(e))return"Webos";if(D3(e))return"Safari";if((e.includes("chrome/")||O3(e))&&!e.includes("edge/"))return"Chrome";if(L3(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function R3(t=ts()){return/firefox\//i.test(t)}function D3(t=ts()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function O3(t=ts()){return/crios\//i.test(t)}function F3(t=ts()){return/iemobile/i.test(t)}function L3(t=ts()){return/android/i.test(t)}function M3(t=ts()){return/blackberry/i.test(t)}function $3(t=ts()){return/webos/i.test(t)}function h1(t=ts()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wO(t=ts()){var e;return h1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _O(){return sP()&&document.documentMode===10}function V3(t=ts()){return h1(t)||L3(t)||$3(t)||M3(t)||/windows phone/i.test(t)||F3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t,e=[]){let r;switch(t){case"Browser":r=v4(ts());break;case"Worker":r=`${v4(ts())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Hl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,u)=>{try{const d=e(a);o(d)}catch(d){u(d)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e={}){return Ma(t,"GET","/v2/passwordPolicy",Gi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=6;class NO{constructor(e){var r,n,s,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:kO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,a,o,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b4(this),this.idTokenSubscription=new b4(this),this.beforeStateQueue=new EO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ji(r)),this._initializationPromise=this.queue(async()=>{var n,s,a;if(!this._deleted&&(this.persistenceManager=await nu.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await fp(this,{idToken:e}),n=await Sa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Vs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===u)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await pp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vs(this.app))return Promise.reject(Pi(this));const r=e?Cr(e):null;return r&&Dt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Dt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vs(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vs(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TO(this),r=new NO(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await bO(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ji(e)||this._popupRedirectResolver;Dt(r,this,"argument-error"),this.redirectPersistenceManager=await nu.create(this,[ji(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(u,this,"internal-error"),u.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,s);return()=>{o=!0,d()}}else{const d=e.addObserver(r);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;if(Vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&rO(`Error while retrieving App Check token: ${r.error}`),r?.token}}function Qo(t){return Cr(t)}class b4{constructor(e){this.auth=e,this.observer=null,this.addObserver=dP(r=>this.observer=r)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AO(t){vm=t}function U3(t){return vm.loadJS(t)}function CO(){return vm.recaptchaEnterpriseScript}function jO(){return vm.gapiScript}function IO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class PO{constructor(){this.enterprise=new RO}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class RO{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const DO="recaptcha-enterprise",z3="NO_RECAPTCHA";class OO{constructor(e){this.type=DO,this.auth=Qo(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,u)=>{hO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new dO(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,o(h.siteKey)}}).catch(d=>{u(d)})})}function s(a,o,u){const d=window.grecaptcha;m4(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{o(h)}).catch(()=>{o(z3)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PO().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(u=>{if(!r&&m4(window.grecaptcha))s(u,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=CO();d.length!==0&&(d+=u),U3(d).then(()=>{s(u,a,o)}).catch(h=>{o(h)})}}).catch(u=>{o(u)})})}}async function w4(t,e,r,n=!1,s=!1){const a=new OO(t);let o;if(s)o=z3;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const u=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function mp(t,e,r,n,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await w4(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await w4(t,e,r,r==="getOobCode");return n(t,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e){const r=Ko(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),a=r.getOptions();if(Do(a,e??{}))return s;Oa(s,"already-initialized")}return r.initialize({options:e})}function LO(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(ji);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function MO(t,e,r){const n=Qo(t);Dt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,a=H3(e),{host:o,port:u}=$O(e),d=u===null?"":`:${u}`,h={url:`${a}//${o}${d}/`},p=Object.freeze({host:o,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Dt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Dt(Do(h,n.config.emulator)&&Do(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,VO()}function H3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $O(t){const e=H3(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:_4(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:_4(o)}}}function _4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VO(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,r){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}}async function BO(t,e){return Ma(t,"POST","/v1/accounts:update",e)}async function UO(t,e){return Ma(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(t,e){return $0(t,"POST","/v1/accounts:signInWithPassword",Gi(t,e))}async function HO(t,e){return Ma(t,"POST","/v1/accounts:sendOobCode",Gi(t,e))}async function WO(t,e){return HO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e){return $0(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}async function GO(t,e){return $0(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0 extends f1{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new l0(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new l0(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,r,"signInWithPassword",zO);case"emailLink":return qO(e,{email:this._email,oobCode:this._password});default:Oa(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,n,"signUpPassword",UO);case"emailLink":return GO(e,{idToken:r,email:this._email,oobCode:this._password});default:Oa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(t,e){return $0(t,"POST","/v1/accounts:signInWithIdp",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="http://localhost";class Ol extends f1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ol(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Oa("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,a=l1(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new Ol(n,s);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return su(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,su(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,su(e,r)}buildRequest(){const e={requestUri:KO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=S0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YO(t){const e=Td(kd(t)).link,r=e?Td(kd(e)).deep_link_id:null,n=Td(kd(t)).deep_link_id;return(n?Td(kd(n)).link:null)||n||r||e||t}class p1{constructor(e){var r,n,s,a,o,u;const d=Td(kd(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,g=XO((s=d.mode)!==null&&s!==void 0?s:null);Dt(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=d.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=YO(e);try{return new p1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this.providerId=Du.PROVIDER_ID}static credential(e,r){return l0._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=p1.parseLink(r);return Dt(n,"argument-error"),l0._fromEmailAndCode(e,n.code,n.tenantId)}}Du.PROVIDER_ID="password";Du.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Du.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0 extends W3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends V0{constructor(){super("facebook.com")}static credential(e){return Ol._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.FACEBOOK_SIGN_IN_METHOD="facebook.com";_o.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends V0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ol._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Eo.credential(r,n)}catch{return null}}}Eo.GOOGLE_SIGN_IN_METHOD="google.com";Eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends V0{constructor(){super("github.com")}static credential(e){return Ol._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.GITHUB_SIGN_IN_METHOD="github.com";To.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends V0{constructor(){super("twitter.com")}static credential(e,r){return Ol._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return ko.credential(r,n)}catch{return null}}}ko.TWITTER_SIGN_IN_METHOD="twitter.com";ko.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e){return $0(t,"POST","/v1/accounts:signUp",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const a=await Sa._fromIdTokenResponse(e,n,s),o=E4(n);return new Fl({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=E4(n);return new Fl({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function E4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends ua{constructor(e,r,n,s){var a;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,gp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new gp(e,r,n,s)}}function q3(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gp._fromErrorAndOperation(t,a,e,n):a})}async function JO(t,e,r=!1){const n=await Dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Fl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e,r=!1){const{auth:n}=t;if(Vs(n.app))return Promise.reject(Pi(n));const s="reauthenticate";try{const a=await Dl(t,q3(n,s,e,t),r);Dt(a.idToken,n,"internal-error");const o=d1(a.idToken);Dt(o,n,"internal-error");const{sub:u}=o;return Dt(t.uid===u,n,"user-mismatch"),Fl._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Oa(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(t,e,r=!1){if(Vs(t.app))return Promise.reject(Pi(t));const n="signIn",s=await q3(t,n,e),a=await Fl._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(a.user),a}async function eF(t,e){return G3(Qo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(t){const e=Qo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tF(t,e,r){const n=Qo(t);await mp(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",WO)}async function rF(t,e,r){if(Vs(t.app))return Promise.reject(Pi(t));const n=Qo(t),o=await mp(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QO).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&K3(t),d}),u=await Fl._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(u.user),u}function nF(t,e,r){return Vs(t.app)?Promise.reject(Pi(t)):eF(Cr(t),Du.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&K3(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e){return Ma(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Cr(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Dl(n,sF(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const u=n.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=n.displayName,u.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function m1(t,e){return iF(Cr(t),null,e)}async function iF(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(a.password=r);const o=await Dl(t,BO(n,a));await t._updateTokensIfNecessary(o,!0)}function oF(t,e,r,n){return Cr(t).onIdTokenChanged(e,r,n)}function lF(t,e,r){return Cr(t).beforeAuthStateChanged(e,r)}function Gl(t,e,r,n){return Cr(t).onAuthStateChanged(e,r,n)}function B0(t){return Cr(t).signOut()}const xp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(xp,"1"),this.storage.removeItem(xp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=1e3,uF=10;class Y3 extends X3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,u,d)=>{this.notifyListeners(o,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);_O()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,uF):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},cF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y3.type="LOCAL";const dF=Y3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3 extends X3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Q3.type="SESSION";const J3=Q3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new bm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:a}=r.data,o=this.handlersMap[s];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const u=Array.from(o).map(async h=>h(r.origin,a)),d=await hF(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((u,d)=>{const h=g1("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function pF(t){ti().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function mF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xF(){return Z3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="firebaseLocalStorageDb",yF=1,yp="firebaseLocalStorage",tS="fbase_key";class U0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function wm(t,e){return t.transaction([yp],e?"readwrite":"readonly").objectStore(yp)}function vF(){const t=indexedDB.deleteDatabase(eS);return new U0(t).toPromise()}function Ay(){const t=indexedDB.open(eS,yF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(yp,{keyPath:tS})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(yp)?e(n):(n.close(),await vF(),e(await Ay()))})})}async function T4(t,e,r){const n=wm(t,!0).put({[tS]:e,value:r});return new U0(n).toPromise()}async function bF(t,e){const r=wm(t,!1).get(e),n=await new U0(r).toPromise();return n===void 0?null:n.value}function k4(t,e){const r=wm(t,!0).delete(e);return new U0(r).toPromise()}const wF=800,_F=3;class rS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ay(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>_F)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(xF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await mF(),!this.activeServiceWorker)return;this.sender=new fF(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ay();return await T4(e,xp,"1"),await k4(e,xp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>T4(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>bF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>k4(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=wm(s,!1).getAll();return new U0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rS.type="LOCAL";const EF=rS;new M0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t,e){return e?ji(e):(Dt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends f1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return su(e,this._buildIdpRequest())}_linkToIdToken(e,r){return su(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return su(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function kF(t){return G3(t.auth,new x1(t),t.bypassAuthState)}function NF(t){const{auth:e,user:r}=t;return Dt(r,e,"internal-error"),ZO(r,new x1(t),t.bypassAuthState)}async function SF(t){const{auth:e,user:r}=t;return Dt(r,e,"internal-error"),JO(r,new x1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,r,n,s,a=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:a,error:o,type:u}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kF;case"linkViaPopup":case"linkViaRedirect":return SF;case"reauthViaPopup":case"reauthViaRedirect":return NF;default:Oa(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=new M0(2e3,1e4);class Kc extends nS{constructor(e,r,n,s,a){super(e,r,s,a),this.provider=n,this.authWindow=null,this.pollId=null,Kc.currentPopupAction&&Kc.currentPopupAction.cancel(),Kc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Dt(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=g1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AF.get())};e()}}Kc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="pendingRedirect",Uf=new Map;class jF extends nS{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Uf.get(this.auth._key());if(!e){try{const n=await IF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Uf.set(this.auth._key(),e)}return this.bypassAuthState||Uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IF(t,e){const r=DF(e),n=RF(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function PF(t,e){Uf.set(t._key(),e)}function RF(t){return ji(t._redirectPersistence)}function DF(t){return Bf(CF,t.config.apiKey,t.name)}async function OF(t,e,r=!1){if(Vs(t.app))return Promise.reject(Pi(t));const n=Qo(t),s=TF(n,e),o=await new jF(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=600*1e3;class LF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!sS(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ei(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FF&&this.cachedEventUids.clear(),this.cachedEventUids.has(N4(e))}saveEventToCache(e){this.cachedEventUids.add(N4(e)),this.lastProcessedEventTime=Date.now()}}function N4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function MF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(t,e={}){return Ma(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BF=/^https?/;async function UF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $F(t);for(const r of e)try{if(zF(r))return}catch{}Oa(t,"unauthorized-domain")}function zF(t){const e=Ny(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!BF.test(r))return!1;if(VF.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=new M0(3e4,6e4);function S4(){const t=ti().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function WF(t){return new Promise((e,r)=>{var n,s,a;function o(){S4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S4(),r(ei(t,"network-request-failed"))},timeout:HF.get()})}if(!((s=(n=ti().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=ti().gapi)===null||a===void 0)&&a.load)o();else{const u=IO("iframefcb");return ti()[u]=()=>{gapi.load?o():r(ei(t,"network-request-failed"))},U3(`${jO()}?onload=${u}`).catch(d=>r(d))}}).catch(e=>{throw zf=null,e})}let zf=null;function qF(t){return zf=zf||WF(t),zf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=new M0(5e3,15e3),KF="__/auth/iframe",XF="emulator/auth/iframe",YF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JF(t){const e=t.config;Dt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?u1(e,XF):`https://${t.config.authDomain}/${KF}`,n={apiKey:e.apiKey,appName:t.name,v:Hl},s=QF.get(t.config.apiHost);s&&(n.eid=s);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${S0(n).slice(1)}`}async function ZF(t){const e=await qF(t),r=ti().gapi;return Dt(r,t,"internal-error"),e.open({where:document.body,url:JF(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YF,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const o=ei(t,"network-request-failed"),u=ti().setTimeout(()=>{a(o)},GF.get());function d(){ti().clearTimeout(u),s(n)}n.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tL=500,rL=600,nL="_blank",sL="http://localhost";class A4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aL(t,e,r,n=tL,s=rL){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},eL),{width:n.toString(),height:s.toString(),top:a,left:o}),h=ts().toLowerCase();r&&(u=O3(h)?nL:r),R3(h)&&(e=e||sL,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[v,k])=>`${y}${v}=${k},`,"");if(wO(h)&&u!=="_self")return iL(e||"",u),new A4(null);const g=window.open(e||"",u,p);Dt(g,t,"popup-blocked");try{g.focus()}catch{}return new A4(g)}function iL(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="__/auth/handler",lL="emulator/auth/handler",cL=encodeURIComponent("fac");async function C4(t,e,r,n,s,a){Dt(t.config.authDomain,t,"auth-domain-config-required"),Dt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Hl,eventId:s};if(e instanceof W3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof V0){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${cL}=${encodeURIComponent(d)}`:"";return`${uL(t)}?${S0(u).slice(1)}${h}`}function uL({config:t}){return t.emulator?u1(t,lL):`https://${t.authDomain}/${oL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="webStorageSupport";class dL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J3,this._completeRedirectFn=OF,this._overrideRedirectResult=PF}async _openPopup(e,r,n,s){var a;Bi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await C4(e,r,n,Ny(),s);return aL(e,o,g1())}async _openRedirect(e,r,n,s){await this._originValidation(e);const a=await C4(e,r,n,Ny(),s);return pF(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:a}=this.eventManagers[r];return s?Promise.resolve(s):(Bi(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await ZF(e),n=new LF(e);return r.register("authEvent",s=>(Dt(s?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Cx,{type:Cx},s=>{var a;const o=(a=s?.[0])===null||a===void 0?void 0:a[Cx];o!==void 0&&r(!!o),Oa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=UF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return V3()||D3()||h1()}}const hL=dL;var j4="@firebase/auth",I4="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mL(t){Ra(new ca("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=n.options;Dt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B3(t)},h=new SO(n,s,a,d);return LO(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ra(new ca("auth-internal",e=>{const r=Qo(e.getProvider("auth").getImmediate());return(n=>new fL(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(j4,I4,pL(t)),Es(j4,I4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=300,xL=hk("authIdTokenMaxAge")||gL;let P4=null;const yL=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>xL)return;const s=r?.token;P4!==s&&(P4=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function y1(t=Qp()){const e=Ko(t,"auth");if(e.isInitialized())return e.getImmediate();const r=FO(t,{popupRedirectResolver:hL,persistence:[EF,dF,J3]}),n=hk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=yL(a.toString());lF(r,o,()=>o(r.currentUser)),oF(r,u=>o(u))}}const s=ck("auth");return s&&MO(r,`http://${s}`),r}function vL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}AO({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const a=ei("internal-error");a.customData=s,r(a)},n.type="text/javascript",n.charset="UTF-8",vL().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firebasestorage.googleapis.com",bL="storageBucket",wL=120*1e3,_L=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends ua{constructor(e,r,n=0){super(jx(e),`Firebase Storage: ${r} (${jx(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ui;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ui||(ui={}));function jx(t){return"storage/"+t}function EL(){const t="An unknown error occurred, please check the error payload for server response.";return new fi(ui.UNKNOWN,t)}function TL(){return new fi(ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kL(){return new fi(ui.CANCELED,"User canceled the upload/download.")}function NL(t){return new fi(ui.INVALID_URL,"Invalid URL '"+t+"'.")}function SL(t){return new fi(ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function R4(t){return new fi(ui.INVALID_ARGUMENT,t)}function iS(){return new fi(ui.APP_DELETED,"The Firebase app was deleted.")}function AL(t){return new fi(ui.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Aa.makeFromUrl(e,r)}catch{return new Aa(e,"")}if(n.path==="")return n;throw SL(e)}static makeFromUrl(e,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function a(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),d={bucket:1,path:3};function h(O){O.path_=decodeURIComponent(O.path)}const p="v[A-Za-z0-9_]+",g=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${p}/b/${s}/o${y}`,"i"),k={bucket:1,path:3},w=r===aS?"(?:storage.googleapis.com|storage.cloud.google.com)":r,E="([^?#]*)",D=new RegExp(`^https?://${w}/${s}/${E}`,"i"),U=[{regex:u,indices:d,postModify:a},{regex:v,indices:k,postModify:h},{regex:D,indices:{bucket:1,path:2},postModify:h}];for(let O=0;O<U.length;O++){const X=U[O],B=X.regex.exec(e);if(B){const A=B[X.indices.bucket];let S=B[X.indices.path];S||(S=""),n=new Aa(A,S),X.postModify(n);break}}if(n==null)throw NL(e);return n}}class CL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e,r){let n=1,s=null,a=null,o=!1,u=0;function d(){return u===2}let h=!1;function p(...E){h||(h=!0,e.apply(null,E))}function g(E){s=setTimeout(()=>{s=null,t(v,d())},E)}function y(){a&&clearTimeout(a)}function v(E,...D){if(h){y();return}if(E){y(),p.call(null,E,...D);return}if(d()||o){y(),p.call(null,E,...D);return}n<64&&(n*=2);let U;u===1?(u=2,U=0):U=(n+Math.random())*1e3,g(U)}let k=!1;function w(E){k||(k=!0,y(),!h&&(s!==null?(E||(u=2),clearTimeout(s),g(0)):E||(u=1)))}return g(0),a=setTimeout(()=>{o=!0,w(!0)},r),w}function IL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){return t!==void 0}function D4(t,e,r,n){if(n<e)throw R4(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw R4(`Invalid value for '${t}'. Expected ${r} or less.`)}function RL(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const s=e(n)+"="+e(t[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var vp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(vp||(vp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t,e){const r=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,r,n,s,a,o,u,d,h,p,g,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,k)=>{this.resolve_=v,this.reject_=k,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new yf(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=u=>{const d=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const u=a.getErrorCode()===vp.NO_ERROR,d=a.getStatus();if(!u||DL(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===vp.ABORT;n(!1,new yf(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new yf(h,a))})},r=(n,s)=>{const a=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());PL(d)?a(d):a()}catch(d){o(d)}else if(u!==null){const d=EL();d.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,d)):o(d)}else if(s.canceled){const d=this.appDelete_?iS():kL();o(d)}else{const d=TL();o(d)}};this.canceled_?r(!1,new yf(!1,null,!0)):this.backoffId_=jL(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yf{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function FL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function LL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ML(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $L(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function VL(t,e,r,n,s,a,o=!0){const u=RL(t.urlParams),d=t.url+u,h=Object.assign({},t.headers);return ML(h,e),FL(h,r),LL(h,a),$L(h,n),new OL(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function UL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,r){this._service=e,r instanceof Aa?this._location=r:this._location=Aa.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new bp(e,r)}get root(){const e=new Aa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UL(this._location.path)}get storage(){return this._service}get parent(){const e=BL(this._location.path);if(e===null)return null;const r=new Aa(this._location.bucket,e);return new bp(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw AL(e)}}function O4(t,e){const r=e?.[bL];return r==null?null:Aa.makeFromBucketSpec(r,t)}function zL(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:fk(s,t.app.options.projectId))}class HL{constructor(e,r,n,s,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=aS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wL,this._maxUploadRetryTime=_L,this._requests=new Set,s!=null?this._bucket=Aa.makeFromBucketSpec(s,this._host):this._bucket=O4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Aa.makeFromBucketSpec(this._url,e):this._bucket=O4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){D4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){D4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Vs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bp(this,e)}_makeRequest(e,r,n,s,a=!0){if(this._deleted)return new CL(iS());{const o=VL(e,this._appId,n,s,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,s).getPromise()}}const F4="@firebase/storage",L4="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="storage";function WL(t=Qp(),e){t=Cr(t);const n=Ko(t,oS).getImmediate({identifier:e}),s=uk("storage");return s&&qL(n,...s),n}function qL(t,e,r,n={}){zL(t,e,r,n)}function GL(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new HL(r,n,s,e,Hl)}function KL(){Ra(new ca(oS,GL,"PUBLIC").setMultipleInstances(!0)),Es(F4,L4,""),Es(F4,L4,"esm2017")}KL();const XL={apiKey:"AIzaSyDYacL_WIzZUSP-Tjl3794P_jHocMDqN9g",authDomain:"blackkstreaming-55f0e.firebaseapp.com",projectId:"blackkstreaming-55f0e",storageBucket:"blackkstreaming-55f0e.firebasestorage.app",messagingSenderId:"998157647233",appId:"1:998157647233:web:3e5b8128a0275ae4553c80",measurementId:"G-GFM50WNMSP"},z0=bk(XL);U8(z0);const je=B7(z0);WL(z0);const en=y1(z0),v1=T.createContext({});function b1(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const w1=typeof window<"u",lS=w1?T.useLayoutEffect:T.useEffect,_m=T.createContext(null);function _1(t,e){t.indexOf(e)===-1&&t.push(e)}function E1(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Ui=(t,e,r)=>r>e?e:r<t?t:r;let T1=()=>{};const zi={},cS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function uS(t){return typeof t=="object"&&t!==null}const dS=t=>/^0[^.\s]+$/u.test(t);function k1(t){let e;return()=>(e===void 0&&(e=t()),e)}const ia=t=>t,YL=(t,e)=>r=>e(t(r)),H0=(...t)=>t.reduce(YL),c0=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class N1{constructor(){this.subscriptions=[]}add(e){return _1(this.subscriptions,e),()=>E1(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ri=t=>t*1e3,ni=t=>t/1e3;function hS(t,e){return e?t*(1e3/e):0}const fS=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,QL=1e-7,JL=12;function ZL(t,e,r,n,s){let a,o,u=0;do o=e+(r-e)/2,a=fS(o,n,s)-t,a>0?r=o:e=o;while(Math.abs(a)>QL&&++u<JL);return o}function W0(t,e,r,n){if(t===e&&r===n)return ia;const s=a=>ZL(a,0,1,t,r);return a=>a===0||a===1?a:fS(s(a),e,n)}const pS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mS=t=>e=>1-t(1-e),gS=W0(.33,1.53,.69,.99),S1=mS(gS),xS=pS(S1),yS=t=>(t*=2)<1?.5*S1(t):.5*(2-Math.pow(2,-10*(t-1))),A1=t=>1-Math.sin(Math.acos(t)),vS=mS(A1),bS=pS(A1),eM=W0(.42,0,1,1),tM=W0(0,0,.58,1),wS=W0(.42,0,.58,1),rM=t=>Array.isArray(t)&&typeof t[0]!="number",_S=t=>Array.isArray(t)&&typeof t[0]=="number",nM={linear:ia,easeIn:eM,easeInOut:wS,easeOut:tM,circIn:A1,circInOut:bS,circOut:vS,backIn:S1,backInOut:xS,backOut:gS,anticipate:yS},sM=t=>typeof t=="string",M4=t=>{if(_S(t)){T1(t.length===4);const[e,r,n,s]=t;return W0(e,r,n,s)}else if(sM(t))return nM[t];return t},vf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],$4={value:null};function aM(t,e){let r=new Set,n=new Set,s=!1,a=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function h(g){o.has(g)&&(p.schedule(g),t()),d++,g(u)}const p={schedule:(g,y=!1,v=!1)=>{const w=v&&s?r:n;return y&&o.add(g),w.has(g)||w.add(g),g},cancel:g=>{n.delete(g),o.delete(g)},process:g=>{if(u=g,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(h),e&&$4.value&&$4.value.frameloop[e].push(d),d=0,r.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const iM=40;function ES(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=vf.reduce((U,O)=>(U[O]=aM(a,e?O:void 0),U),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:p,update:g,preRender:y,render:v,postRender:k}=o,w=()=>{const U=zi.useManualTiming?s.timestamp:performance.now();r=!1,zi.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(U-s.timestamp,iM),1)),s.timestamp=U,s.isProcessing=!0,u.process(s),d.process(s),h.process(s),p.process(s),g.process(s),y.process(s),v.process(s),k.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(w))},E=()=>{r=!0,n=!0,s.isProcessing||t(w)};return{schedule:vf.reduce((U,O)=>{const X=o[O];return U[O]=(B,A=!1,S=!1)=>(r||E(),X.schedule(B,A,S)),U},{}),cancel:U=>{for(let O=0;O<vf.length;O++)o[vf[O]].cancel(U)},state:s,steps:o}}const{schedule:Hr,cancel:Bo,state:Pn,steps:Ix}=ES(typeof requestAnimationFrame<"u"?requestAnimationFrame:ia,!0);let Hf;function oM(){Hf=void 0}const _s={now:()=>(Hf===void 0&&_s.set(Pn.isProcessing||zi.useManualTiming?Pn.timestamp:performance.now()),Hf),set:t=>{Hf=t,queueMicrotask(oM)}},TS=t=>e=>typeof e=="string"&&e.startsWith(t),C1=TS("--"),lM=TS("var(--"),j1=t=>lM(t)?cM.test(t.split("/*")[0].trim()):!1,cM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ou={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},u0={...Ou,transform:t=>Ui(0,1,t)},bf={...Ou,default:1},Vd=t=>Math.round(t*1e5)/1e5,I1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uM(t){return t==null}const dM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,P1=(t,e)=>r=>!!(typeof r=="string"&&dM.test(r)&&r.startsWith(t)||e&&!uM(r)&&Object.prototype.hasOwnProperty.call(r,e)),kS=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,a,o,u]=n.match(I1);return{[t]:parseFloat(s),[e]:parseFloat(a),[r]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},hM=t=>Ui(0,255,t),Px={...Ou,transform:t=>Math.round(hM(t))},Tl={test:P1("rgb","red"),parse:kS("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Px.transform(t)+", "+Px.transform(e)+", "+Px.transform(r)+", "+Vd(u0.transform(n))+")"};function fM(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Cy={test:P1("#"),parse:fM,transform:Tl.transform},q0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wo=q0("deg"),si=q0("%"),Ot=q0("px"),pM=q0("vh"),mM=q0("vw"),V4={...si,parse:t=>si.parse(t)/100,transform:t=>si.transform(t*100)},Xc={test:P1("hsl","hue"),parse:kS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+si.transform(Vd(e))+", "+si.transform(Vd(r))+", "+Vd(u0.transform(n))+")"},Yn={test:t=>Tl.test(t)||Cy.test(t)||Xc.test(t),parse:t=>Tl.test(t)?Tl.parse(t):Xc.test(t)?Xc.parse(t):Cy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Tl.transform(t):Xc.transform(t)},gM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xM(t){return isNaN(t)&&typeof t=="string"&&(t.match(I1)?.length||0)+(t.match(gM)?.length||0)>0}const NS="number",SS="color",yM="var",vM="var(",B4="${}",bM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function d0(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(bM,d=>(Yn.test(d)?(n.color.push(a),s.push(SS),r.push(Yn.parse(d))):d.startsWith(vM)?(n.var.push(a),s.push(yM),r.push(d)):(n.number.push(a),s.push(NS),r.push(parseFloat(d))),++a,B4)).split(B4);return{values:r,split:u,indexes:n,types:s}}function AS(t){return d0(t).values}function CS(t){const{split:e,types:r}=d0(t),n=e.length;return s=>{let a="";for(let o=0;o<n;o++)if(a+=e[o],s[o]!==void 0){const u=r[o];u===NS?a+=Vd(s[o]):u===SS?a+=Yn.transform(s[o]):a+=s[o]}return a}}const wM=t=>typeof t=="number"?0:t;function _M(t){const e=AS(t);return CS(t)(e.map(wM))}const Uo={test:xM,parse:AS,createTransformer:CS,getAnimatableNone:_M};function Rx(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function EM({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,a=0,o=0;if(!e)s=a=o=r;else{const u=r<.5?r*(1+e):r+e-r*e,d=2*r-u;s=Rx(d,u,t+1/3),a=Rx(d,u,t),o=Rx(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function wp(t,e){return r=>r>0?e:t}const zr=(t,e,r)=>t+(e-t)*r,Dx=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},TM=[Cy,Tl,Xc],kM=t=>TM.find(e=>e.test(t));function U4(t){const e=kM(t);if(!e)return!1;let r=e.parse(t);return e===Xc&&(r=EM(r)),r}const z4=(t,e)=>{const r=U4(t),n=U4(e);if(!r||!n)return wp(t,e);const s={...r};return a=>(s.red=Dx(r.red,n.red,a),s.green=Dx(r.green,n.green,a),s.blue=Dx(r.blue,n.blue,a),s.alpha=zr(r.alpha,n.alpha,a),Tl.transform(s))},jy=new Set(["none","hidden"]);function NM(t,e){return jy.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function SM(t,e){return r=>zr(t,e,r)}function R1(t){return typeof t=="number"?SM:typeof t=="string"?j1(t)?wp:Yn.test(t)?z4:jM:Array.isArray(t)?jS:typeof t=="object"?Yn.test(t)?z4:AM:wp}function jS(t,e){const r=[...t],n=r.length,s=t.map((a,o)=>R1(a)(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=s[o](a);return r}}function AM(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=R1(t[s])(t[s],e[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function CM(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][n[a]],u=t.values[o]??0;r[s]=u,n[a]++}return r}const jM=(t,e)=>{const r=Uo.createTransformer(e),n=d0(t),s=d0(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?jy.has(t)&&!s.values.length||jy.has(e)&&!n.values.length?NM(t,e):H0(jS(CM(n,s),s.values),r):wp(t,e)};function IS(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?zr(t,e,r):R1(t)(t,e)}const IM=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Hr.update(e,r),stop:()=>Bo(e),now:()=>Pn.isProcessing?Pn.timestamp:_s.now()}},PS=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let a=0;a<s;a++)n+=t(a/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},_p=2e4;function D1(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<_p;)e+=r,n=t.next(e);return e>=_p?1/0:e}function PM(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(D1(n),_p);return{type:"keyframes",ease:a=>n.next(s*a).value/e,duration:ni(s)}}const RM=5;function RS(t,e,r){const n=Math.max(e-RM,0);return hS(r-t(n),e-n)}const Gr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ox=.001;function DM({duration:t=Gr.duration,bounce:e=Gr.bounce,velocity:r=Gr.velocity,mass:n=Gr.mass}){let s,a,o=1-e;o=Ui(Gr.minDamping,Gr.maxDamping,o),t=Ui(Gr.minDuration,Gr.maxDuration,ni(t)),o<1?(s=h=>{const p=h*o,g=p*t,y=p-r,v=Iy(h,o),k=Math.exp(-g);return Ox-y/v*k},a=h=>{const g=h*o*t,y=g*r+r,v=Math.pow(o,2)*Math.pow(h,2)*t,k=Math.exp(-g),w=Iy(Math.pow(h,2),o);return(-s(h)+Ox>0?-1:1)*((y-v)*k)/w}):(s=h=>{const p=Math.exp(-h*t),g=(h-r)*t+1;return-Ox+p*g},a=h=>{const p=Math.exp(-h*t),g=(r-h)*(t*t);return p*g});const u=5/t,d=FM(s,a,u);if(t=ri(t),isNaN(d))return{stiffness:Gr.stiffness,damping:Gr.damping,duration:t};{const h=Math.pow(d,2)*n;return{stiffness:h,damping:o*2*Math.sqrt(n*h),duration:t}}}const OM=12;function FM(t,e,r){let n=r;for(let s=1;s<OM;s++)n=n-t(n)/e(n);return n}function Iy(t,e){return t*Math.sqrt(1-e*e)}const LM=["duration","bounce"],MM=["stiffness","damping","mass"];function H4(t,e){return e.some(r=>t[r]!==void 0)}function $M(t){let e={velocity:Gr.velocity,stiffness:Gr.stiffness,damping:Gr.damping,mass:Gr.mass,isResolvedFromDuration:!1,...t};if(!H4(t,MM)&&H4(t,LM))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*Ui(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Gr.mass,stiffness:s,damping:a}}else{const r=DM(t);e={...e,...r,mass:Gr.mass},e.isResolvedFromDuration=!0}return e}function Ep(t=Gr.visualDuration,e=Gr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],u={done:!1,value:a},{stiffness:d,damping:h,mass:p,duration:g,velocity:y,isResolvedFromDuration:v}=$M({...r,velocity:-ni(r.velocity||0)}),k=y||0,w=h/(2*Math.sqrt(d*p)),E=o-a,D=ni(Math.sqrt(d/p)),I=Math.abs(E)<5;n||(n=I?Gr.restSpeed.granular:Gr.restSpeed.default),s||(s=I?Gr.restDelta.granular:Gr.restDelta.default);let U;if(w<1){const X=Iy(D,w);U=B=>{const A=Math.exp(-w*D*B);return o-A*((k+w*D*E)/X*Math.sin(X*B)+E*Math.cos(X*B))}}else if(w===1)U=X=>o-Math.exp(-D*X)*(E+(k+D*E)*X);else{const X=D*Math.sqrt(w*w-1);U=B=>{const A=Math.exp(-w*D*B),S=Math.min(X*B,300);return o-A*((k+w*D*E)*Math.sinh(S)+X*E*Math.cosh(S))/X}}const O={calculatedDuration:v&&g||null,next:X=>{const B=U(X);if(v)u.done=X>=g;else{let A=X===0?k:0;w<1&&(A=X===0?ri(k):RS(U,X,B));const S=Math.abs(A)<=n,C=Math.abs(o-B)<=s;u.done=S&&C}return u.value=u.done?o:B,u},toString:()=>{const X=Math.min(D1(O),_p),B=PS(A=>O.next(X*A).value,X,30);return X+"ms "+B},toTransition:()=>{}};return O}Ep.applyToOptions=t=>{const e=PM(t,100,Ep);return t.ease=e.ease,t.duration=ri(e.duration),t.type="keyframes",t};function Py({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:u,max:d,restDelta:h=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},v=S=>u!==void 0&&S<u||d!==void 0&&S>d,k=S=>u===void 0?d:d===void 0||Math.abs(u-S)<Math.abs(d-S)?u:d;let w=r*e;const E=g+w,D=o===void 0?E:o(E);D!==E&&(w=D-g);const I=S=>-w*Math.exp(-S/n),U=S=>D+I(S),O=S=>{const C=I(S),R=U(S);y.done=Math.abs(C)<=h,y.value=y.done?D:R};let X,B;const A=S=>{v(y.value)&&(X=S,B=Ep({keyframes:[y.value,k(y.value)],velocity:RS(U,S,y.value),damping:s,stiffness:a,restDelta:h,restSpeed:p}))};return A(0),{calculatedDuration:null,next:S=>{let C=!1;return!B&&X===void 0&&(C=!0,O(S),A(S)),X!==void 0&&S>=X?B.next(S-X):(!C&&O(S),y)}}}function VM(t,e,r){const n=[],s=r||zi.mix||IS,a=t.length-1;for(let o=0;o<a;o++){let u=s(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||ia:e;u=H0(d,u)}n.push(u)}return n}function BM(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const a=t.length;if(T1(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=VM(e,n,s),d=u.length,h=p=>{if(o&&p<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=c0(t[g],t[g+1],p);return u[g](y)};return r?p=>h(Ui(t[0],t[a-1],p)):h}function UM(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=c0(0,e,n);t.push(zr(r,1,s))}}function zM(t){const e=[0];return UM(e,t.length-1),e}function HM(t,e){return t.map(r=>r*e)}function WM(t,e){return t.map(()=>e||wS).splice(0,t.length-1)}function Bd({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=rM(n)?n.map(M4):M4(n),a={done:!1,value:e[0]},o=HM(r&&r.length===e.length?r:zM(e),t),u=BM(o,e,{ease:Array.isArray(s)?s:WM(e,s)});return{calculatedDuration:t,next:d=>(a.value=u(d),a.done=d>=t,a)}}const qM=t=>t!==null;function O1(t,{repeat:e,repeatType:r="loop"},n,s=1){const a=t.filter(qM),u=s<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!u||n===void 0?a[u]:n}const GM={decay:Py,inertia:Py,tween:Bd,keyframes:Bd,spring:Ep};function DS(t){typeof t.type=="string"&&(t.type=GM[t.type])}class F1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const KM=t=>t/100;class L1 extends F1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{if(r){const{motionValue:n}=this.options;n&&n.updatedAt!==_s.now()&&this.tick(_s.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DS(e);const{type:r=Bd,repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=e;let{keyframes:u}=e;const d=r||Bd;d!==Bd&&typeof u[0]!="number"&&(this.mixKeyframes=H0(KM,IS(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=D1(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=h}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:v,type:k,onUpdate:w,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const D=this.currentTime-h*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let U=this.currentTime,O=n;if(g){const S=Math.min(this.currentTime,s)/u;let C=Math.floor(S),R=S%1;!R&&S>=1&&(R=1),R===1&&C--,C=Math.min(C,g+1),!!(C%2)&&(y==="reverse"?(R=1-R,v&&(R-=v/u)):y==="mirror"&&(O=o)),U=Ui(0,1,R)*u}const X=I?{done:!1,value:p[0]}:O.next(U);a&&(X.value=a(X.value));let{done:B}=X;!I&&d!==null&&(B=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return A&&k!==Py&&(X.value=O1(p,this.options,E,this.speed)),w&&w(X.value),A&&this.finish(),X}then(e,r){return this.finished.then(e,r)}get duration(){return ni(this.calculatedDuration)}get time(){return ni(this.currentTime)}set time(e){e=ri(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(_s.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ni(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=IM,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_s.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function XM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const kl=t=>t*180/Math.PI,Ry=t=>{const e=kl(Math.atan2(t[1],t[0]));return Dy(e)},YM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ry,rotateZ:Ry,skewX:t=>kl(Math.atan(t[1])),skewY:t=>kl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Dy=t=>(t=t%360,t<0&&(t+=360),t),W4=Ry,q4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),G4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),QM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:q4,scaleY:G4,scale:t=>(q4(t)+G4(t))/2,rotateX:t=>Dy(kl(Math.atan2(t[6],t[5]))),rotateY:t=>Dy(kl(Math.atan2(-t[2],t[0]))),rotateZ:W4,rotate:W4,skewX:t=>kl(Math.atan(t[4])),skewY:t=>kl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Oy(t){return t.includes("scale")?1:0}function Fy(t,e){if(!t||t==="none")return Oy(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=QM,s=r;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=YM,s=u}if(!s)return Oy(e);const a=n[e],o=s[1].split(",").map(ZM);return typeof a=="function"?a(o):o[a]}const JM=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Fy(r,e)};function ZM(t){return parseFloat(t.trim())}const Fu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Lu=new Set(Fu),K4=t=>t===Ou||t===Ot,e$=new Set(["x","y","z"]),t$=Fu.filter(t=>!e$.has(t));function r$(t){const e=[];return t$.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Nl={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Fy(e,"x"),y:(t,{transform:e})=>Fy(e,"y")};Nl.translateX=Nl.x;Nl.translateY=Nl.y;const Sl=new Set;let Ly=!1,My=!1,$y=!1;function OS(){if(My){const t=Array.from(Sl).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=r$(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,o])=>{n.getValue(a)?.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}My=!1,Ly=!1,Sl.forEach(t=>t.complete($y)),Sl.clear()}function FS(){Sl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(My=!0)})}function n$(){$y=!0,FS(),OS(),$y=!1}class M1{constructor(e,r,n,s,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Sl.add(this),Ly||(Ly=!0,Hr.read(FS),Hr.resolveKeyframes(OS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const a=s?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const u=n.readValue(r,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}XM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Sl.delete(this)}cancel(){this.state==="scheduled"&&(Sl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const s$=t=>t.startsWith("--");function a$(t,e,r){s$(e)?t.style.setProperty(e,r):t.style[e]=r}const i$=k1(()=>window.ScrollTimeline!==void 0),o$={};function l$(t,e){const r=k1(t);return()=>o$[e]??r()}const LS=l$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jd=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,X4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jd([0,.65,.55,1]),circOut:jd([.55,0,1,.45]),backIn:jd([.31,.01,.66,-.59]),backOut:jd([.33,1.53,.69,.99])};function MS(t,e){if(t)return typeof t=="function"?LS()?PS(t,e):"ease-out":_S(t)?jd(t):Array.isArray(t)?t.map(r=>MS(r,e)||X4.easeOut):X4[t]}function c$(t,e,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:u="easeOut",times:d}={},h=void 0){const p={[e]:r};d&&(p.offset=d);const g=MS(u,s);Array.isArray(g)&&(p.easing=g);const y={delay:n,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(p,y)}function $S(t){return typeof t=="function"&&"applyToOptions"in t}function u$({type:t,...e}){return $S(t)&&LS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class d$ extends F1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,T1(typeof e.type!="string");const h=u$(e);this.animation=c$(r,n,s,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=O1(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):a$(r,n,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ni(Number(e))}get time(){return ni(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ri(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&i$()?(this.animation.timeline=e,ia):r(this)}}const VS={anticipate:yS,backInOut:xS,circInOut:bS};function h$(t){return t in VS}function f$(t){typeof t.ease=="string"&&h$(t.ease)&&(t.ease=VS[t.ease])}const Y4=10;class p$ extends d${constructor(e){f$(e),DS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:a,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const u=new L1({...o,autoplay:!1}),d=ri(this.finishedTime??this.time);r.setWithVelocity(u.sample(d-Y4).value,u.sample(d).value,Y4),u.stop()}}const Q4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Uo.test(t)||t==="0")&&!t.startsWith("url("));function m$(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function g$(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=Q4(s,e),u=Q4(a,e);return!o||!u?!1:m$(t)||(r==="spring"||$S(r))&&n}function $1(t){return uS(t)&&"offsetHeight"in t}const x$=new Set(["opacity","clipPath","filter","transform"]),y$=k1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function v$(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:a,type:o}=t;if(!$1(e?.owner?.current))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return y$()&&r&&x$.has(r)&&(r!=="transform"||!d)&&!u&&!n&&s!=="mirror"&&a!==0&&o!=="inertia"}const b$=40;class w$ extends F1{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",keyframes:u,name:d,motionValue:h,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=_s.now();const y={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:o,name:d,motionValue:h,element:p,...g},v=p?.KeyframeResolver||M1;this.keyframeResolver=new v(u,(k,w,E)=>this.onKeyframesResolved(k,w,y,!E),d,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:a,type:o,velocity:u,delay:d,isHandoff:h,onUpdate:p}=n;this.resolvedAt=_s.now(),g$(e,a,o,u)||((zi.instantAnimations||!d)&&p?.(O1(e,n,r)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>b$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!h&&v$(y)?new p$({...y,element:y.motionValue.owner.current}):new L1(y);v.finished.then(()=>this.notifyFinished()).catch(ia),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),n$()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const _$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function E$(t){const e=_$.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function BS(t,e,r=1){const[n,s]=E$(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return cS(o)?parseFloat(o):o}return j1(s)?BS(s,e,r+1):s}function V1(t,e){return t?.[e]??t?.default??t}const US=new Set(["width","height","top","left","right","bottom",...Fu]),T$={test:t=>t==="auto",parse:t=>t},zS=t=>e=>e.test(t),HS=[Ou,Ot,si,wo,mM,pM,T$],J4=t=>HS.find(zS(t));function k$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dS(t):!0}const N$=new Set(["brightness","contrast","saturate","opacity"]);function S$(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(I1)||[];if(!n)return t;const s=r.replace(n,"");let a=N$.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+s+")"}const A$=/\b([a-z-]*)\(.*?\)/gu,Vy={...Uo,getAnimatableNone:t=>{const e=t.match(A$);return e?e.map(S$).join(" "):t}},Z4={...Ou,transform:Math.round},C$={rotate:wo,rotateX:wo,rotateY:wo,rotateZ:wo,scale:bf,scaleX:bf,scaleY:bf,scaleZ:bf,skew:wo,skewX:wo,skewY:wo,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:u0,originX:V4,originY:V4,originZ:Ot},B1={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...C$,zIndex:Z4,fillOpacity:u0,strokeOpacity:u0,numOctaves:Z4},j$={...B1,color:Yn,backgroundColor:Yn,outlineColor:Yn,fill:Yn,stroke:Yn,borderColor:Yn,borderTopColor:Yn,borderRightColor:Yn,borderBottomColor:Yn,borderLeftColor:Yn,filter:Vy,WebkitFilter:Vy},WS=t=>j$[t];function qS(t,e){let r=WS(t);return r!==Vy&&(r=Uo),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const I$=new Set(["auto","none","0"]);function P$(t,e,r){let n=0,s;for(;n<t.length&&!s;){const a=t[n];typeof a=="string"&&!I$.has(a)&&d0(a).values.length&&(s=t[n]),n++}if(s&&r)for(const a of e)t[a]=qS(r,s)}class R$ extends M1{constructor(e,r,n,s,a){super(e,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),j1(h))){const p=BS(h,r.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!US.has(n)||e.length!==2)return;const[s,a]=e,o=J4(s),u=J4(a);if(o!==u)if(K4(o)&&K4(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Nl[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||k$(e[s]))&&n.push(s);n.length&&P$(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Nl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=Nl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function D$(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=r?.[t]??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const eE=30,O$=t=>!isNaN(parseFloat(t));class F${constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const a=_s.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=_s.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=O$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new N1);const n=this.events[e].add(r);return e==="change"?()=>{n(),Hr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=_s.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>eE)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,eE);return hS(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mu(t,e){return new F$(t,e)}const GS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:U1}=ES(queueMicrotask,!1),ka={x:!1,y:!1};function KS(){return ka.x||ka.y}function L$(t){return t==="x"||t==="y"?ka[t]?null:(ka[t]=!0,()=>{ka[t]=!1}):ka.x||ka.y?null:(ka.x=ka.y=!0,()=>{ka.x=ka.y=!1})}function XS(t,e){const r=D$(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function tE(t){return!(t.pointerType==="touch"||KS())}function M$(t,e,r={}){const[n,s,a]=XS(t,r),o=u=>{if(!tE(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const p=g=>{tE(g)&&(h(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return n.forEach(u=>{u.addEventListener("pointerenter",o,s)}),a}const YS=(t,e)=>e?t===e?!0:YS(t,e.parentElement):!1,z1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,$$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function V$(t){return $$.has(t.tagName)||t.tabIndex!==-1}const Wf=new WeakSet;function rE(t){return e=>{e.key==="Enter"&&t(e)}}function Fx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const B$=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=rE(()=>{if(Wf.has(r))return;Fx(r,"down");const s=rE(()=>{Fx(r,"up")}),a=()=>Fx(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function nE(t){return z1(t)&&!KS()}function U$(t,e,r={}){const[n,s,a]=XS(t,r),o=u=>{const d=u.currentTarget;if(!nE(u))return;Wf.add(d);const h=e(d,u),p=(v,k)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),Wf.has(d)&&Wf.delete(d),nE(v)&&typeof h=="function"&&h(v,{success:k})},g=v=>{p(v,d===window||d===document||r.useGlobalTarget||YS(d,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),$1(u)&&(u.addEventListener("focus",h=>B$(h,s)),!V$(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function QS(t){return uS(t)&&"ownerSVGElement"in t}function z$(t){return QS(t)&&t.tagName==="svg"}const Jn=t=>!!(t&&t.getVelocity),H$=[...HS,Yn,Uo],W$=t=>H$.find(zS(t)),H1=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class q$ extends T.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=$1(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function G$({children:t,isPresent:e,anchorX:r}){const n=T.useId(),s=T.useRef(null),a=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=T.useContext(H1);return T.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:p,right:g}=a.current;if(e||!s.current||!u||!d)return;const y=r==="left"?`left: ${p}`:`right: ${g}`;s.current.dataset.motionPopId=n;const v=document.createElement("style");return o&&(v.nonce=o),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(v)&&document.head.removeChild(v)}},[e]),i.jsx(q$,{isPresent:e,childRef:s,sizeRef:a,children:T.cloneElement(t,{ref:s})})}const K$=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:o,anchorX:u})=>{const d=b1(X$),h=T.useId();let p=!0,g=T.useMemo(()=>(p=!1,{id:h,initial:e,isPresent:r,custom:s,onExitComplete:y=>{d.set(y,!0);for(const v of d.values())if(!v)return;n&&n()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[r,d,n]);return a&&p&&(g={...g}),T.useMemo(()=>{d.forEach((y,v)=>d.set(v,!1))},[r]),T.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=i.jsx(G$,{isPresent:r,anchorX:u,children:t})),i.jsx(_m.Provider,{value:g,children:t})};function X$(){return new Map}function JS(t=!0){const e=T.useContext(_m);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,a=T.useId();T.useEffect(()=>{if(t)return s(a)},[t]);const o=T.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,o]:[!0]}const wf=t=>t.key||"";function sE(t){const e=[];return T.Children.forEach(t,r=>{T.isValidElement(r)&&e.push(r)}),e}const Vt=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1,anchorX:u="left"})=>{const[d,h]=JS(o),p=T.useMemo(()=>sE(t),[t]),g=o&&!d?[]:p.map(wf),y=T.useRef(!0),v=T.useRef(p),k=b1(()=>new Map),[w,E]=T.useState(p),[D,I]=T.useState(p);lS(()=>{y.current=!1,v.current=p;for(let X=0;X<D.length;X++){const B=wf(D[X]);g.includes(B)?k.delete(B):k.get(B)!==!0&&k.set(B,!1)}},[D,g.length,g.join("-")]);const U=[];if(p!==w){let X=[...p];for(let B=0;B<D.length;B++){const A=D[B],S=wf(A);g.includes(S)||(X.splice(B,0,A),U.push(A))}return a==="wait"&&U.length&&(X=U),I(sE(X)),E(p),null}const{forceRender:O}=T.useContext(v1);return i.jsx(i.Fragment,{children:D.map(X=>{const B=wf(X),A=o&&!d?!1:p===D||g.includes(B),S=()=>{if(k.has(B))k.set(B,!0);else return;let C=!0;k.forEach(R=>{R||(C=!1)}),C&&(O?.(),I(v.current),o&&h?.(),n&&n())};return i.jsx(K$,{isPresent:A,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,onExitComplete:A?void 0:S,anchorX:u,children:X},B)})})},ZS=T.createContext({strict:!1}),aE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gu={};for(const t in aE)gu[t]={isEnabled:e=>aE[t].some(r=>!!e[r])};function Y$(t){for(const e in t)gu[e]={...gu[e],...t[e]}}const Q$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Q$.has(t)}let e5=t=>!Tp(t);function J$(t){t&&(e5=e=>e.startsWith("on")?!Tp(e):t(e))}try{J$(require("@emotion/is-prop-valid").default)}catch{}function Z$(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(e5(s)||r===!0&&Tp(s)||!e&&!Tp(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function eV(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Em=T.createContext({});function Tm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function h0(t){return typeof t=="string"||Array.isArray(t)}const W1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],q1=["initial",...W1];function km(t){return Tm(t.animate)||q1.some(e=>h0(t[e]))}function t5(t){return!!(km(t)||t.variants)}function tV(t,e){if(km(t)){const{initial:r,animate:n}=t;return{initial:r===!1||h0(r)?r:void 0,animate:h0(n)?n:void 0}}return t.inherit!==!1?e:{}}function rV(t){const{initial:e,animate:r}=tV(t,T.useContext(Em));return T.useMemo(()=>({initial:e,animate:r}),[iE(e),iE(r)])}function iE(t){return Array.isArray(t)?t.join(" "):t}const nV=Symbol.for("motionComponentSymbol");function Yc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sV(t,e,r){return T.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Yc(r)&&(r.current=n))},[e])}const G1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aV="framerAppearId",r5="data-"+G1(aV),n5=T.createContext({});function iV(t,e,r,n,s){const{visualElement:a}=T.useContext(Em),o=T.useContext(ZS),u=T.useContext(_m),d=T.useContext(H1).reducedMotion,h=T.useRef(null);n=n||o.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:a,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,g=T.useContext(n5);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&oV(h.current,r,s,g);const y=T.useRef(!1);T.useInsertionEffect(()=>{p&&y.current&&p.update(r,u)});const v=r[r5],k=T.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return lS(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),U1.render(p.render),k.current&&p.animationState&&p.animationState.animateChanges())}),T.useEffect(()=>{p&&(!k.current&&p.animationState&&p.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),k.current=!1))}),p}function oV(t,e,r,n){const{layoutId:s,layout:a,drag:o,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:s5(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||u&&Yc(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:d,layoutRoot:h})}function s5(t){if(t)return t.options.allowProjection!==!1?t.projection:s5(t.parent)}function lV({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&Y$(t);function a(u,d){let h;const p={...T.useContext(H1),...u,layoutId:cV(u)},{isStatic:g}=p,y=rV(u),v=n(u,g);if(!g&&w1){uV();const k=dV(p);h=k.MeasureLayout,y.visualElement=iV(s,v,p,e,k.ProjectionNode)}return i.jsxs(Em.Provider,{value:y,children:[h&&y.visualElement?i.jsx(h,{visualElement:y.visualElement,...p}):null,r(s,u,sV(v,y.visualElement,d),v,g,y.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=T.forwardRef(a);return o[nV]=s,o}function cV({layoutId:t}){const e=T.useContext(v1).id;return e&&t!==void 0?e+"-"+t:t}function uV(t,e){T.useContext(ZS).strict}function dV(t){const{drag:e,layout:r}=gu;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const f0={};function hV(t){for(const e in t)f0[e]=t[e],C1(e)&&(f0[e].isCSSVariable=!0)}function a5(t,{layout:e,layoutId:r}){return Lu.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!f0[t]||t==="opacity")}const fV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pV=Fu.length;function mV(t,e,r){let n="",s=!0;for(let a=0;a<pV;a++){const o=Fu[a],u=t[o];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(o.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||r){const h=GS(u,B1[o]);if(!d){s=!1;const p=fV[o]||o;n+=`${p}(${h}) `}r&&(e[o]=h)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function K1(t,e,r){const{style:n,vars:s,transformOrigin:a}=t;let o=!1,u=!1;for(const d in e){const h=e[d];if(Lu.has(d)){o=!0;continue}else if(C1(d)){s[d]=h;continue}else{const p=GS(h,B1[d]);d.startsWith("origin")?(u=!0,a[d]=p):n[d]=p}}if(e.transform||(o||r?n.transform=mV(e,t.transform,r):n.transform&&(n.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=a;n.transformOrigin=`${d} ${h} ${p}`}}const X1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function i5(t,e,r){for(const n in e)!Jn(e[n])&&!a5(n,r)&&(t[n]=e[n])}function gV({transformTemplate:t},e){return T.useMemo(()=>{const r=X1();return K1(r,e,t),Object.assign({},r.vars,r.style)},[e])}function xV(t,e){const r=t.style||{},n={};return i5(n,r,t),Object.assign(n,gV(t,e)),n}function yV(t,e){const r={},n=xV(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const vV={offset:"stroke-dashoffset",array:"stroke-dasharray"},bV={offset:"strokeDashoffset",array:"strokeDasharray"};function wV(t,e,r=1,n=0,s=!0){t.pathLength=1;const a=s?vV:bV;t[a.offset]=Ot.transform(-n);const o=Ot.transform(e),u=Ot.transform(r);t[a.array]=`${o} ${u}`}function o5(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:a=1,pathOffset:o=0,...u},d,h,p){if(K1(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),s!==void 0&&wV(g,s,a,o,!1)}const l5=()=>({...X1(),attrs:{}}),c5=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _V(t,e,r,n){const s=T.useMemo(()=>{const a=l5();return o5(a,e,c5(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};i5(a,t.style,t),s.style={...a,...s.style}}return s}const EV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Y1(t){return typeof t!="string"||t.includes("-")?!1:!!(EV.indexOf(t)>-1||/[A-Z]/u.test(t))}function TV(t=!1){return(r,n,s,{latestValues:a},o)=>{const d=(Y1(r)?_V:yV)(n,a,o,r),h=Z$(n,typeof r=="string",t),p=r!==T.Fragment?{...h,...d,ref:s}:{},{children:g}=n,y=T.useMemo(()=>Jn(g)?g.get():g,[g]);return T.createElement(r,{...p,children:y})}}function oE(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Q1(t,e,r,n){if(typeof e=="function"){const[s,a]=oE(n);e=e(r!==void 0?r:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=oE(n);e=e(r!==void 0?r:t.custom,s,a)}return e}function qf(t){return Jn(t)?t.get():t}function kV({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:NV(r,n,s,t),renderState:e()}}const u5=t=>(e,r)=>{const n=T.useContext(Em),s=T.useContext(_m),a=()=>kV(t,e,n,s);return r?a():b1(a)};function NV(t,e,r,n){const s={},a=n(t,{});for(const y in a)s[y]=qf(a[y]);let{initial:o,animate:u}=t;const d=km(t),h=t5(t);e&&h&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let p=r?r.initial===!1:!1;p=p||o===!1;const g=p?u:o;if(g&&typeof g!="boolean"&&!Tm(g)){const y=Array.isArray(g)?g:[g];for(let v=0;v<y.length;v++){const k=Q1(t,y[v]);if(k){const{transitionEnd:w,transition:E,...D}=k;for(const I in D){let U=D[I];if(Array.isArray(U)){const O=p?U.length-1:0;U=U[O]}U!==null&&(s[I]=U)}for(const I in w)s[I]=w[I]}}}return s}function J1(t,e,r){const{style:n}=t,s={};for(const a in n)(Jn(n[a])||e.style&&Jn(e.style[a])||a5(a,t)||r?.getValue(a)?.liveStyle!==void 0)&&(s[a]=n[a]);return s}const SV={useVisualState:u5({scrapeMotionValuesFromProps:J1,createRenderState:X1})};function d5(t,e,r){const n=J1(t,e,r);for(const s in t)if(Jn(t[s])||Jn(e[s])){const a=Fu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=t[s]}return n}const AV={useVisualState:u5({scrapeMotionValuesFromProps:d5,createRenderState:l5})};function CV(t,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Y1(n)?AV:SV,preloadedFeatures:t,useRender:TV(s),createVisualElement:e,Component:n};return lV(o)}}function p0(t,e,r){const n=t.getProps();return Q1(n,e,r!==void 0?r:n.custom,t)}const By=t=>Array.isArray(t);function jV(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,mu(r))}function IV(t){return By(t)?t[t.length-1]||0:t}function PV(t,e){const r=p0(t,e);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const o in a){const u=IV(a[o]);jV(t,o,u)}}function RV(t){return!!(Jn(t)&&t.add)}function Uy(t,e){const r=t.getValue("willChange");if(RV(r))return r.add(e);if(!r&&zi.WillChange){const n=new zi.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function h5(t){return t.props[r5]}const DV=t=>t!==null;function OV(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(DV),a=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[a]}const FV={type:"spring",stiffness:500,damping:25,restSpeed:10},LV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),MV={type:"keyframes",duration:.8},$V={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VV=(t,{keyframes:e})=>e.length>2?MV:Lu.has(t)?t.startsWith("scale")?LV(e[1]):FV:$V;function BV({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const Z1=(t,e,r,n={},s,a)=>o=>{const u=V1(n,t)||{},d=u.delay||n.delay||0;let{elapsed:h=0}=n;h=h-ri(d);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};BV(u)||Object.assign(p,VV(t,p)),p.duration&&(p.duration=ri(p.duration)),p.repeatDelay&&(p.repeatDelay=ri(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),(zi.instantAnimations||zi.skipAnimations)&&(g=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!a&&e.get()!==void 0){const y=OV(p.keyframes,u);if(y!==void 0){Hr.update(()=>{p.onUpdate(y),p.onComplete()});return}}return u.isSync?new L1(p):new w$(p)};function UV({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function f5(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...u}=e;n&&(a=n);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),y=u[p];if(y===void 0||h&&UV(h,p))continue;const v={delay:r,...V1(a||{},p)},k=g.get();if(k!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===k&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const D=h5(t);if(D){const I=window.MotionHandoffAnimation(D,p,Hr);I!==null&&(v.startTime=I,w=!0)}}Uy(t,p),g.start(Z1(p,g,y,t.shouldReduceMotion&&US.has(p)?{type:!1}:v,t,w));const E=g.animation;E&&d.push(E)}return o&&Promise.all(d).then(()=>{Hr.update(()=>{o&&PV(t,o)})}),d}function zy(t,e,r={}){const n=p0(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(f5(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=s;return zV(t,e,h+d,p,g,r)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,h]=u==="beforeChildren"?[a,o]:[o,a];return d().then(()=>h())}else return Promise.all([a(),o(r.delay)])}function zV(t,e,r=0,n=0,s=1,a){const o=[],u=(t.variantChildren.size-1)*n,d=s===1?(h=0)=>h*n:(h=0)=>u-h*n;return Array.from(t.variantChildren).sort(HV).forEach((h,p)=>{h.notify("AnimationStart",e),o.push(zy(h,e,{...a,delay:r+d(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function HV(t,e){return t.sortNodePosition(e)}function WV(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(a=>zy(t,a,r));n=Promise.all(s)}else if(typeof e=="string")n=zy(t,e,r);else{const s=typeof e=="function"?p0(t,e,r.custom):e;n=Promise.all(f5(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function p5(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const qV=q1.length;function m5(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?m5(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<qV;r++){const n=q1[r],s=t.props[n];(h0(s)||s===!1)&&(e[n]=s)}return e}const GV=[...W1].reverse(),KV=W1.length;function XV(t){return e=>Promise.all(e.map(({animation:r,options:n})=>WV(t,r,n)))}function YV(t){let e=XV(t),r=lE(),n=!0;const s=d=>(h,p)=>{const g=p0(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:v,...k}=g;h={...h,...k,...v}}return h};function a(d){e=d(t)}function o(d){const{props:h}=t,p=m5(t.parent)||{},g=[],y=new Set;let v={},k=1/0;for(let E=0;E<KV;E++){const D=GV[E],I=r[D],U=h[D]!==void 0?h[D]:p[D],O=h0(U),X=D===d?I.isActive:null;X===!1&&(k=E);let B=U===p[D]&&U!==h[D]&&O;if(B&&n&&t.manuallyAnimateOnMount&&(B=!1),I.protectedKeys={...v},!I.isActive&&X===null||!U&&!I.prevProp||Tm(U)||typeof U=="boolean")continue;const A=QV(I.prevProp,U);let S=A||D===d&&I.isActive&&!B&&O||E>k&&O,C=!1;const R=Array.isArray(U)?U:[U];let F=R.reduce(s(D),{});X===!1&&(F={});const{prevResolvedValues:W={}}=I,M={...W,...F},Se=Le=>{S=!0,y.has(Le)&&(C=!0,y.delete(Le)),I.needsAnimating[Le]=!0;const _e=t.getValue(Le);_e&&(_e.liveStyle=!1)};for(const Le in M){const _e=F[Le],ie=W[Le];if(v.hasOwnProperty(Le))continue;let de=!1;By(_e)&&By(ie)?de=!p5(_e,ie):de=_e!==ie,de?_e!=null?Se(Le):y.add(Le):_e!==void 0&&y.has(Le)?Se(Le):I.protectedKeys[Le]=!0}I.prevProp=U,I.prevResolvedValues=F,I.isActive&&(v={...v,...F}),n&&t.blockInitialAnimation&&(S=!1),S&&(!(B&&A)||C)&&g.push(...R.map(Le=>({animation:Le,options:{type:D}})))}if(y.size){const E={};if(typeof h.initial!="boolean"){const D=p0(t,Array.isArray(h.initial)?h.initial[0]:h.initial);D&&D.transition&&(E.transition=D.transition)}y.forEach(D=>{const I=t.getBaseTarget(D),U=t.getValue(D);U&&(U.liveStyle=!0),E[D]=I??null}),g.push({animation:E})}let w=!!g.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(g):Promise.resolve()}function u(d,h){if(r[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,h)),r[d].isActive=h;const p=o(d);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:o,setActive:u,setAnimateFunction:a,getState:()=>r,reset:()=>{r=lE(),n=!0}}}function QV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!p5(e,t):!1}function yl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lE(){return{animate:yl(!0),whileInView:yl(),whileHover:yl(),whileTap:yl(),whileDrag:yl(),whileFocus:yl(),exit:yl()}}class Jo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class JV extends Jo{constructor(e){super(e),e.animationState||(e.animationState=YV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Tm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ZV=0;class eB extends Jo{constructor(){super(...arguments),this.id=ZV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const tB={animation:{Feature:JV},exit:{Feature:eB}};function m0(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function G0(t){return{point:{x:t.pageX,y:t.pageY}}}const rB=t=>e=>z1(e)&&t(e,G0(e));function Ud(t,e,r,n){return m0(t,e,rB(r),n)}function g5({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function nB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sB(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const x5=1e-4,aB=1-x5,iB=1+x5,y5=.01,oB=0-y5,lB=0+y5;function cs(t){return t.max-t.min}function cB(t,e,r){return Math.abs(t-e)<=r}function cE(t,e,r,n=.5){t.origin=n,t.originPoint=zr(e.min,e.max,t.origin),t.scale=cs(r)/cs(e),t.translate=zr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=aB&&t.scale<=iB||isNaN(t.scale))&&(t.scale=1),(t.translate>=oB&&t.translate<=lB||isNaN(t.translate))&&(t.translate=0)}function zd(t,e,r,n){cE(t.x,e.x,r.x,n?n.originX:void 0),cE(t.y,e.y,r.y,n?n.originY:void 0)}function uE(t,e,r){t.min=r.min+e.min,t.max=t.min+cs(e)}function uB(t,e,r){uE(t.x,e.x,r.x),uE(t.y,e.y,r.y)}function dE(t,e,r){t.min=e.min-r.min,t.max=t.min+cs(e)}function Hd(t,e,r){dE(t.x,e.x,r.x),dE(t.y,e.y,r.y)}const hE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qc=()=>({x:hE(),y:hE()}),fE=()=>({min:0,max:0}),Jr=()=>({x:fE(),y:fE()});function sa(t){return[t("x"),t("y")]}function Lx(t){return t===void 0||t===1}function Hy({scale:t,scaleX:e,scaleY:r}){return!Lx(t)||!Lx(e)||!Lx(r)}function bl(t){return Hy(t)||v5(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function v5(t){return pE(t.x)||pE(t.y)}function pE(t){return t&&t!=="0%"}function kp(t,e,r){const n=t-r,s=e*n;return r+s}function mE(t,e,r,n,s){return s!==void 0&&(t=kp(t,s,n)),kp(t,r,n)+e}function Wy(t,e=0,r=1,n,s){t.min=mE(t.min,e,r,n,s),t.max=mE(t.max,e,r,n,s)}function b5(t,{x:e,y:r}){Wy(t.x,e.translate,e.scale,e.originPoint),Wy(t.y,r.translate,r.scale,r.originPoint)}const gE=.999999999999,xE=1.0000000000001;function dB(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let a,o;for(let u=0;u<s;u++){a=r[u],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Zc(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,b5(t,o)),n&&bl(a.latestValues)&&Zc(t,a.latestValues))}e.x<xE&&e.x>gE&&(e.x=1),e.y<xE&&e.y>gE&&(e.y=1)}function Jc(t,e){t.min=t.min+e,t.max=t.max+e}function yE(t,e,r,n,s=.5){const a=zr(t.min,t.max,s);Wy(t,e,r,a,n)}function Zc(t,e){yE(t.x,e.x,e.scaleX,e.scale,e.originX),yE(t.y,e.y,e.scaleY,e.scale,e.originY)}function w5(t,e){return g5(sB(t.getBoundingClientRect(),e))}function hB(t,e,r){const n=w5(t,r),{scroll:s}=e;return s&&(Jc(n.x,s.offset.x),Jc(n.y,s.offset.y)),n}const _5=({current:t})=>t?t.ownerDocument.defaultView:null,vE=(t,e)=>Math.abs(t-e);function fB(t,e){const r=vE(t.x,e.x),n=vE(t.y,e.y);return Math.sqrt(r**2+n**2)}class E5{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=$x(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=fB(g.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:k}=g,{timestamp:w}=Pn;this.history.push({...k,timestamp:w});const{onStart:E,onMove:D}=this.handlers;y||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Mx(y,this.transformPagePoint),Hr.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:v,onSessionEnd:k,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=$x(g.type==="pointercancel"?this.lastMoveEventInfo:Mx(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,E),k&&k(g,E)},!z1(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=G0(e),u=Mx(o,this.transformPagePoint),{point:d}=u,{timestamp:h}=Pn;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=r;p&&p(e,$x(u,this.history)),this.removeListeners=H0(Ud(this.contextWindow,"pointermove",this.handlePointerMove),Ud(this.contextWindow,"pointerup",this.handlePointerUp),Ud(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bo(this.updatePoint)}}function Mx(t,e){return e?{point:e(t.point)}:t}function bE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $x({point:t},e){return{point:t,delta:bE(t,T5(e)),offset:bE(t,pB(e)),velocity:mB(e,.1)}}function pB(t){return t[0]}function T5(t){return t[t.length-1]}function mB(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=T5(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>ri(e)));)r--;if(!n)return{x:0,y:0};const a=ni(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gB(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?zr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?zr(r,t,n.max):Math.min(t,r)),t}function wE(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function xB(t,{top:e,left:r,bottom:n,right:s}){return{x:wE(t.x,r,s),y:wE(t.y,e,n)}}function _E(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function yB(t,e){return{x:_E(t.x,e.x),y:_E(t.y,e.y)}}function vB(t,e){let r=.5;const n=cs(t),s=cs(e);return s>n?r=c0(e.min,e.max-n,t.min):n>s&&(r=c0(t.min,t.max-s,e.min)),Ui(0,1,r)}function bB(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const qy=.35;function wB(t=qy){return t===!1?t=0:t===!0&&(t=qy),{x:EE(t,"left","right"),y:EE(t,"top","bottom")}}function EE(t,e,r){return{min:TE(t,e),max:TE(t,r)}}function TE(t,e){return typeof t=="number"?t:t[e]||0}const _B=new WeakMap;class EB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(G0(p).point)},a=(p,g)=>{const{drag:y,dragPropagation:v,onDragStart:k}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=L$(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sa(E=>{let D=this.getAxisMotionValue(E).get()||0;if(si.test(D)){const{projection:I}=this.visualElement;if(I&&I.layout){const U=I.layout.layoutBox[E];U&&(D=cs(U)*(parseFloat(D)/100))}}this.originPoint[E]=D}),k&&Hr.postRender(()=>k(p,g)),Uy(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(p,g)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:k,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:E}=g;if(v&&this.currentDirection===null){this.currentDirection=TB(E),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),w&&w(p,g)},u=(p,g)=>this.stop(p,g),d=()=>sa(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new E5(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:_5(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Hr.postRender(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!_f(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=gB(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Yc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=xB(n.layoutBox,e):this.constraints=!1,this.elastic=wB(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&sa(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=bB(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Yc(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=hB(n,s.root,this.visualElement.getTransformPagePoint());let o=yB(s.layout.layoutBox,a);if(r){const u=r(nB(o));this.hasMutatedConstraints=!!u,u&&(o=g5(u))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=sa(p=>{if(!_f(p,r,this.currentDirection))return;let g=d&&d[p]||{};o&&(g={min:0,max:0});const y=s?200:1e6,v=s?40:1e7,k={type:"inertia",velocity:n?e[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,k)});return Promise.all(h).then(u)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Uy(this.visualElement,e),n.start(Z1(e,n,0,r,this.visualElement,!1))}stopAnimation(){sa(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sa(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){sa(r=>{const{drag:n}=this.getProps();if(!_f(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[r];a.set(e[r]-zr(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Yc(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};sa(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const d=u.get();s[o]=vB({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),sa(o=>{if(!_f(o,e,null))return;const u=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];u.set(zr(d,h,s[o]))})}addListeners(){if(!this.visualElement.current)return;_B.set(this.visualElement,this);const e=this.visualElement.current,r=Ud(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Yc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Hr.read(n);const o=m0(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(sa(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())}));return()=>{o(),r(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=qy,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:u}}}function _f(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function TB(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class kB extends Jo{constructor(e){super(e),this.removeGroupControls=ia,this.removeListeners=ia,this.controls=new EB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ia}unmount(){this.removeGroupControls(),this.removeListeners()}}const kE=t=>(e,r)=>{t&&Hr.postRender(()=>t(e,r))};class NB extends Jo{constructor(){super(...arguments),this.removePointerDownListener=ia}onPointerDown(e){this.session=new E5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:kE(e),onStart:kE(r),onMove:n,onEnd:(a,o)=>{delete this.session,s&&Hr.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=Ud(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function NE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ot.test(t))t=parseFloat(t);else return t;const r=NE(t,e.target.x),n=NE(t,e.target.y);return`${r}% ${n}%`}},SB={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=Uo.parse(t);if(s.length>5)return n;const a=Uo.createTransformer(t),o=typeof s[0]!="number"?1:0,u=r.x.scale*e.x,d=r.y.scale*e.y;s[0+o]/=u,s[1+o]/=d;const h=zr(u,d,.5);return typeof s[2+o]=="number"&&(s[2+o]/=h),typeof s[3+o]=="number"&&(s[3+o]/=h),a(s)}};class AB extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=e;hV(CB),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Gf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,s||e.layoutDependency!==r||r===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Hr.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),U1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function k5(t){const[e,r]=JS(),n=T.useContext(v1);return i.jsx(AB,{...t,layoutGroup:n,switchLayoutGroup:T.useContext(n5),isPresent:e,safeToRemove:r})}const CB={borderRadius:{...wd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wd,borderTopRightRadius:wd,borderBottomLeftRadius:wd,borderBottomRightRadius:wd,boxShadow:SB};function jB(t,e,r){const n=Jn(t)?t:mu(t);return n.start(Z1("",n,e,r)),n.animation}const IB=(t,e)=>t.depth-e.depth;class PB{constructor(){this.children=[],this.isDirty=!1}add(e){_1(this.children,e),this.isDirty=!0}remove(e){E1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IB),this.isDirty=!1,this.children.forEach(e)}}function RB(t,e){const r=_s.now(),n=({timestamp:s})=>{const a=s-r;a>=e&&(Bo(n),t(a-e))};return Hr.setup(n,!0),()=>Bo(n)}const N5=["TopLeft","TopRight","BottomLeft","BottomRight"],DB=N5.length,SE=t=>typeof t=="string"?parseFloat(t):t,AE=t=>typeof t=="number"||Ot.test(t);function OB(t,e,r,n,s,a){s?(t.opacity=zr(0,r.opacity??1,FB(n)),t.opacityExit=zr(e.opacity??1,0,LB(n))):a&&(t.opacity=zr(e.opacity??1,r.opacity??1,n));for(let o=0;o<DB;o++){const u=`border${N5[o]}Radius`;let d=CE(e,u),h=CE(r,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||AE(d)===AE(h)?(t[u]=Math.max(zr(SE(d),SE(h),n),0),(si.test(h)||si.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||r.rotate)&&(t.rotate=zr(e.rotate||0,r.rotate||0,n))}function CE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const FB=S5(0,.5,vS),LB=S5(.5,.95,ia);function S5(t,e,r){return n=>n<t?0:n>e?1:r(c0(t,e,n))}function jE(t,e){t.min=e.min,t.max=e.max}function ra(t,e){jE(t.x,e.x),jE(t.y,e.y)}function IE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function PE(t,e,r,n,s){return t-=e,t=kp(t,1/r,n),s!==void 0&&(t=kp(t,1/s,n)),t}function MB(t,e=0,r=1,n=.5,s,a=t,o=t){if(si.test(e)&&(e=parseFloat(e),e=zr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=zr(a.min,a.max,n);t===a&&(u-=e),t.min=PE(t.min,e,r,u,s),t.max=PE(t.max,e,r,u,s)}function RE(t,e,[r,n,s],a,o){MB(t,e[r],e[n],e[s],e.scale,a,o)}const $B=["x","scaleX","originX"],VB=["y","scaleY","originY"];function DE(t,e,r,n){RE(t.x,e,$B,r?r.x:void 0,n?n.x:void 0),RE(t.y,e,VB,r?r.y:void 0,n?n.y:void 0)}function OE(t){return t.translate===0&&t.scale===1}function A5(t){return OE(t.x)&&OE(t.y)}function FE(t,e){return t.min===e.min&&t.max===e.max}function BB(t,e){return FE(t.x,e.x)&&FE(t.y,e.y)}function LE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function C5(t,e){return LE(t.x,e.x)&&LE(t.y,e.y)}function ME(t){return cs(t.x)/cs(t.y)}function $E(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class UB{constructor(){this.members=[]}add(e){_1(this.members,e),e.scheduleRender()}remove(e){if(E1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zB(t,e,r){let n="";const s=t.x.translate/e.x,a=t.y.translate/e.y,o=r?.z||0;if((s||a||o)&&(n=`translate3d(${s}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:y,skewX:v,skewY:k}=r;h&&(n=`perspective(${h}px) ${n}`),p&&(n+=`rotate(${p}deg) `),g&&(n+=`rotateX(${g}deg) `),y&&(n+=`rotateY(${y}deg) `),v&&(n+=`skewX(${v}deg) `),k&&(n+=`skewY(${k}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(n+=`scale(${u}, ${d})`),n||"none"}const Vx=["","X","Y","Z"],HB={visibility:"hidden"},WB=1e3;let qB=0;function Bx(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function j5(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=h5(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Hr,!(s||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&j5(n)}function I5({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},u=e?.()){this.id=qB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(XB),this.nodes.forEach(eU),this.nodes.forEach(tU),this.nodes.forEach(YB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new PB)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new N1),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const d=this.eventHandlers.get(o);d&&d.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=QS(o)&&!z$(o),this.instance=o;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=RB(g,250),Gf.hasAnimatedSinceResize&&(Gf.hasAnimatedSinceResize=!1,this.nodes.forEach(BE))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||h.getDefaultTransition()||iU,{onLayoutAnimationStart:w,onLayoutAnimationComplete:E}=h.getProps(),D=!this.targetLayout||!C5(this.targetLayout,v),I=!g&&y;if(this.options.layoutRoot||this.resumeFrom||I||g&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,I);const U={...V1(k,"layout"),onPlay:w,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U)}else g||BE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&j5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VE);return}this.isUpdating||this.nodes.forEach(JB),this.isUpdating=!1,this.nodes.forEach(ZB),this.nodes.forEach(GB),this.nodes.forEach(KB),this.clearAllSnapshots();const u=_s.now();Pn.delta=Ui(0,1e3/60,u-Pn.timestamp),Pn.timestamp=u,Pn.isProcessing=!0,Ix.update.process(Pn),Ix.preRender.process(Pn),Ix.render.process(Pn),Pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,U1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QB),this.sharedNodes.forEach(nU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cs(this.snapshot.measuredBox.x)&&!cs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!A5(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;o&&this.instance&&(u||bl(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return o&&(d=this.removeTransform(d)),oU(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Jr();const u=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(lU))){const{scroll:h}=this.root;h&&(Jc(u.x,h.offset.x),Jc(u.y,h.offset.y))}return u}removeElementScroll(o){const u=Jr();if(ra(u,o),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&ra(u,o),Jc(u.x,p.offset.x),Jc(u.y,p.offset.y))}return u}applyTransform(o,u=!1){const d=Jr();ra(d,o);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Zc(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),bl(p.latestValues)&&Zc(d,p.latestValues)}return bl(this.latestValues)&&Zc(d,this.latestValues),d}removeTransform(o){const u=Jr();ra(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!bl(h.latestValues))continue;Hy(h.latestValues)&&h.updateSnapshot();const p=Jr(),g=h.measurePageBox();ra(p,g),DE(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return bl(this.latestValues)&&DE(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Pn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),Hd(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ra(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Jr(),this.targetWithTransforms=Jr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ra(this.target,this.layout.layoutBox),b5(this.target,this.targetDelta)):ra(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),Hd(this.relativeTargetOrigin,this.target,y.target),ra(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Hy(this.parent.latestValues)||v5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),u=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Pn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;ra(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;dB(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Jr());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(IE(this.prevProjectionDelta.x,this.projectionDelta.x),IE(this.prevProjectionDelta.y,this.projectionDelta.y)),zd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!$E(this.projectionDelta.x,this.prevProjectionDelta.x)||!$E(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qc(),this.projectionDelta=Qc(),this.projectionDeltaWithTransform=Qc()}setAnimationOrigin(o,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},g=Qc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=Jr(),v=d?d.source:void 0,k=this.layout?this.layout.source:void 0,w=v!==k,E=this.getStack(),D=!E||E.members.length<=1,I=!!(w&&!D&&this.options.crossfade===!0&&!this.path.some(aU));this.animationProgress=0;let U;this.mixTargetDelta=O=>{const X=O/1e3;UE(g.x,o.x,X),UE(g.y,o.y,X),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sU(this.relativeTarget,this.relativeTargetOrigin,y,X),U&&BB(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Jr()),ra(U,this.relativeTarget)),w&&(this.animationValues=p,OB(p,h,this.latestValues,X,I,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(Bo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hr.update(()=>{Gf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mu(0)),this.currentAnimation=jB(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WB),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=o;if(!(!u||!d||!h)){if(this!==o&&this.layout&&h&&P5(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Jr();const g=cs(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+g;const y=cs(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+y}ra(u,d),Zc(u,p),zd(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new UB),this.sharedNodes.get(o).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&Bx("z",o,h,this.animationValues);for(let p=0;p<Vx.length;p++)Bx(`rotate${Vx[p]}`,o,h,this.animationValues),Bx(`skew${Vx[p]}`,o,h,this.animationValues);o.render();for(const p in h)o.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return HB;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=qf(o?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=qf(o?.pointerEvents)||""),this.hasProjected&&!bl(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=zB(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in f0){if(p[v]===void 0)continue;const{correct:k,applyTo:w,isCSSVariable:E}=f0[v],D=u.transform==="none"?p[v]:k(p[v],h);if(w){const I=w.length;for(let U=0;U<I;U++)u[w[U]]=D}else E?this.options.visualElement.renderState.vars[v]=D:u[v]=D}return this.options.layoutId&&(u.pointerEvents=h===this?qf(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop(!1)),this.root.nodes.forEach(VE),this.root.sharedNodes.clear()}}}function GB(t){t.updateLayout()}function KB(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?sa(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=cs(g);g.min=r[p].min,g.max=g.min+y}):P5(s,e.layoutBox,r)&&sa(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=cs(r[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const o=Qc();zd(o,r,e.layoutBox);const u=Qc();a?zd(u,t.applyTransform(n,!0),e.measuredBox):zd(u,r,e.layoutBox);const d=!A5(o);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const v=Jr();Hd(v,e.layoutBox,g.layoutBox);const k=Jr();Hd(k,r,y.layoutBox),C5(v,k)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function XB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function YB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function QB(t){t.clearSnapshot()}function VE(t){t.clearMeasurements()}function JB(t){t.isLayoutDirty=!1}function ZB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function BE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function eU(t){t.resolveTargetDelta()}function tU(t){t.calcProjection()}function rU(t){t.resetSkewAndRotation()}function nU(t){t.removeLeadSnapshot()}function UE(t,e,r){t.translate=zr(e.translate,0,r),t.scale=zr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function zE(t,e,r,n){t.min=zr(e.min,r.min,n),t.max=zr(e.max,r.max,n)}function sU(t,e,r,n){zE(t.x,e.x,r.x,n),zE(t.y,e.y,r.y,n)}function aU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const iU={duration:.45,ease:[.4,0,.1,1]},HE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),WE=HE("applewebkit/")&&!HE("chrome/")?Math.round:ia;function qE(t){t.min=WE(t.min),t.max=WE(t.max)}function oU(t){qE(t.x),qE(t.y)}function P5(t,e,r){return t==="position"||t==="preserve-aspect"&&!cB(ME(e),ME(r),.2)}function lU(t){return t!==t.root&&t.scroll?.wasRoot}const cU=I5({attachResizeListener:(t,e)=>m0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ux={current:void 0},R5=I5({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ux.current){const t=new cU({});t.mount(window),t.setOptions({layoutScroll:!0}),Ux.current=t}return Ux.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),uU={pan:{Feature:NB},drag:{Feature:kB,ProjectionNode:R5,MeasureLayout:k5}};function GE(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&Hr.postRender(()=>a(e,G0(e)))}class dU extends Jo{mount(){const{current:e}=this.node;e&&(this.unmount=M$(e,(r,n)=>(GE(this.node,n,"Start"),s=>GE(this.node,s,"End"))))}unmount(){}}class hU extends Jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=H0(m0(this.node.current,"focus",()=>this.onFocus()),m0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function KE(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&Hr.postRender(()=>a(e,G0(e)))}class fU extends Jo{mount(){const{current:e}=this.node;e&&(this.unmount=U$(e,(r,n)=>(KE(this.node,n,"Start"),(s,{success:a})=>KE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gy=new WeakMap,zx=new WeakMap,pU=t=>{const e=Gy.get(t.target);e&&e(t)},mU=t=>{t.forEach(pU)};function gU({root:t,...e}){const r=t||document;zx.has(r)||zx.set(r,{});const n=zx.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(mU,{root:t,...e})),n[s]}function xU(t,e,r){const n=gU(e);return Gy.set(t,r),n.observe(t),()=>{Gy.delete(t),n.unobserve(t)}}const yU={some:0,all:1};class vU extends Jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:yU[s]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=h?p:g;y&&y(d)};return xU(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(bU(e,r))&&this.startObserver()}unmount(){}}function bU({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const wU={inView:{Feature:vU},tap:{Feature:fU},focus:{Feature:hU},hover:{Feature:dU}},_U={layout:{ProjectionNode:R5,MeasureLayout:k5}},Ky={current:null},D5={current:!1};function EU(){if(D5.current=!0,!!w1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ky.current=t.matches;t.addListener(e),e()}else Ky.current=!1}const TU=new WeakMap;function kU(t,e,r){for(const n in e){const s=e[n],a=r[n];if(Jn(s))t.addValue(n,s);else if(Jn(a))t.addValue(n,mu(s,{owner:t}));else if(a!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,mu(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const XE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NU{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=M1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=_s.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Hr.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=km(r),this.isVariantNode=t5(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in g){const v=g[y];d[y]!==void 0&&Jn(v)&&v.set(d[y],!1)}}mount(e){this.current=e,TU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),D5.current||EU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ky.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Bo(this.notifyUpdate),Bo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Lu.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Hr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gu){const r=gu[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<XE.length;n++){const s=XE[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=e[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=kU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=mu(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(cS(n)||dS(n))?n=parseFloat(n):!W$(n)&&Uo.test(r)&&(n=qS(e,r)),this.setBaseTarget(e,Jn(n)?n.get():n)),Jn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=Q1(this.props,r,this.presenceContext?.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Jn(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new N1),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class O5 extends NU{constructor(){super(...arguments),this.KeyframeResolver=R$}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function F5(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const a in r)t.style.setProperty(a,r[a])}function SU(t){return window.getComputedStyle(t)}class AU extends O5{constructor(){super(...arguments),this.type="html",this.renderInstance=F5}readValueFromInstance(e,r){if(Lu.has(r))return this.projection?.isProjecting?Oy(r):JM(e,r);{const n=SU(e),s=(C1(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return w5(e,r)}build(e,r,n){K1(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return J1(e,r,n)}}const L5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CU(t,e,r,n){F5(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(L5.has(s)?s:G1(s),e.attrs[s])}class jU extends O5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Lu.has(r)){const n=WS(r);return n&&n.default||0}return r=L5.has(r)?r:G1(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return d5(e,r,n)}build(e,r,n){o5(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){CU(e,r,n,s)}mount(e){this.isSVGTag=c5(e.tagName),super.mount(e)}}const IU=(t,e)=>Y1(t)?new jU(e):new AU(e,{allowProjection:t!==T.Fragment}),PU=CV({...tB,...wU,...uU,..._U},IU),Z=eV(PU),YE=(t,e,r,n)=>{t.style.transition=`${e} ${r}ms ${n}`},Si=(t,e,r)=>Math.min(Math.max(t,e),r);class RU{constructor(e,r){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=o=>{const{width:u,height:d}=o,h=Math.sqrt(u**2+d**2);return{width:h,height:h}},this.setSize=o=>{const u=this.calculateGlareSize(o);this.glareEl.style.width=`${u.width}px`,this.glareEl.style.height=`${u.height}px`},this.update=(o,u,d,h)=>{this.updateAngle(o,u.glareReverse),this.updateOpacity(o,u,d,h)},this.updateAngle=(o,u)=>{const{xPercentage:d,yPercentage:h}=o,p=180/Math.PI,g=d?Math.atan2(h,-d)*p:0;this.glareAngle=g-(u?180:0)},this.updateOpacity=(o,u,d,h)=>{const{xPercentage:p,yPercentage:g}=o,{glarePosition:y,glareReverse:v,glareMaxOpacity:k}=u,w=d?-1:1,E=h?-1:1,D=v?-1:1;let I=0;switch(y){case"top":I=-p*w*D;break;case"right":I=g*E*D;break;case"bottom":case void 0:I=p*w*D;break;case"left":I=-g*E*D;break;case"all":I=Math.hypot(p,g)}const U=Si(I,0,100);this.glareOpacity=U*k/100},this.render=o=>{const{glareColor:u}=o;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${u} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const n={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:r,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},s=this.calculateGlareSize(e),a={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${s.width}px`,height:`${s.height}px`};Object.assign(this.glareWrapperEl.style,n),Object.assign(this.glareEl.style,a)}}class DU{constructor(){this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,r)=>{this.updateTilt(e,r),this.updateTiltManualInput(e,r),this.updateTiltReverse(r),this.updateTiltLimits(r)},this.updateTilt=(e,r)=>{const{xPercentage:n,yPercentage:s}=e,{tiltMaxAngleX:a,tiltMaxAngleY:o}=r;this.tiltAngleX=n*a/100,this.tiltAngleY=s*o/100*-1},this.updateTiltManualInput=(e,r)=>{const{tiltAngleXManual:n,tiltAngleYManual:s,tiltMaxAngleX:a,tiltMaxAngleY:o}=r;(n!==null||s!==null)&&(this.tiltAngleX=n!==null?n:0,this.tiltAngleY=s!==null?s:0,e.xPercentage=100*this.tiltAngleX/a,e.yPercentage=100*this.tiltAngleY/o)},this.updateTiltReverse=e=>{const r=e.tiltReverse?-1:1;this.tiltAngleX=r*this.tiltAngleX,this.tiltAngleY=r*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:r}=e;this.tiltAngleX=Si(this.tiltAngleX,-90,90),this.tiltAngleY=Si(this.tiltAngleY,-90,90),r&&(this.tiltAngleX=r==="x"?this.tiltAngleX:0,this.tiltAngleY=r==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:r,tiltMaxAngleY:n}=e;this.tiltAngleXPercentage=this.tiltAngleX/r*100,this.tiltAngleYPercentage=this.tiltAngleY/n*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const OU={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class M5 extends T.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?await e()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:r}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),r&&r({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:r}=this.props;if(this.setTransitions(),r&&r({event:e}),this.props.reset){const n=new CustomEvent("autoreset");this.onMove(n)}},this.processInput=e=>{const{scale:r}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=r;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=r;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=r;break;case"autoreset":{const{tiltAngleXInitial:n,tiltAngleYInitial:s,tiltMaxAngleX:a,tiltMaxAngleY:o}=this.props,u=s/o*100;this.wrapperEl.clientPosition.xPercentage=Si(n/a*100,-100,100),this.wrapperEl.clientPosition.yPercentage=Si(u,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:r,tiltMaxAngleY:n}=this.props,s=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/r*100,this.wrapperEl.clientPosition.yPercentage=s/n*100,this.wrapperEl.clientPosition.xPercentage=Si(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=Si(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:r,flipVertically:n,flipHorizontally:s}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),r&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,n,s)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let r,n;if(e){const{x:s,y:a}=this.wrapperEl.clientPosition;r=a/window.innerHeight*200-100,n=s/window.innerWidth*200-100}else{const{size:{width:s,height:a,left:o,top:u},clientPosition:{x:d,y:h}}=this.wrapperEl;r=(h-u)/a*200-100,n=(d-o)/s*200-100}this.wrapperEl.clientPosition.xPercentage=Si(r,-100,100),this.wrapperEl.clientPosition.yPercentage=Si(n,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:r}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),r&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new DU,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const r=new CustomEvent("initial");this.emitOnMove(r)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),r&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),r&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:r}=this.props;e&&(this.glare=new RU(this.wrapperEl.size,r),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:r}=this.props;if(!r)return;let n=0,s=0;this.glare&&(n=this.glare.glareAngle,s=this.glare.glareOpacity),r({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:n,glareOpacity:s,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:r}=this.props;YE(this.wrapperEl.node,"all",e,r),this.glare&&YE(this.glare.glareEl,"opacity",e,r)}render(){const{children:e,className:r,style:n}=this.props;return i.jsx("div",{ref:s=>{this.wrapperEl.node=s},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:r,style:n,children:e})}}M5.defaultProps=OU;var Hx={exports:{}},Wx,QE;function FU(){if(QE)return Wx;QE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wx=t,Wx}var qx,JE;function LU(){if(JE)return qx;JE=1;var t=FU();function e(){}function r(){}return r.resetWarningCache=e,qx=function(){function n(o,u,d,h,p,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function s(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},qx}var ZE;function MU(){return ZE||(ZE=1,Hx.exports=LU()()),Hx.exports}var $U=MU();const G=rv($U);var $5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},eT=ja.createContext&&ja.createContext($5),VU=["attr","size","title"];function BU(t,e){if(t==null)return{};var r=UU(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Np(){return Np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Np.apply(this,arguments)}function tT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Sp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tT(Object(r),!0).forEach(function(n){zU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zU(t,e,r){return e=HU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HU(t){var e=WU(t,"string");return typeof e=="symbol"?e:e+""}function WU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V5(t){return t&&t.map((e,r)=>ja.createElement(e.tag,Sp({key:r},e.attr),V5(e.child)))}function Ge(t){return e=>ja.createElement(qU,Np({attr:Sp({},t.attr)},e),V5(t.child))}function qU(t){var e=r=>{var{attr:n,size:s,title:a}=t,o=BU(t,VU),u=s||r.size||"1em",d;return r.className&&(d=r.className),t.className&&(d=(d?d+" ":"")+t.className),ja.createElement("svg",Np({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:d,style:Sp(Sp({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&ja.createElement("title",null,a),t.children)};return eT!==void 0?ja.createElement(eT.Consumer,null,r=>e(r)):e($5)}function Kl(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function Xl(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Yl(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Nm(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function GU(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(t)}function Sm(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Ll(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function KU(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function XU(t){return Ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(t)}function Id(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function YU(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function QU(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function JU(t){return Ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function ZU(t){return Ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function ez(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function ai(t){return Ge({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function rT(t){return Ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function xu(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Ml(t){return Ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function B5(t){return Ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function U5(t){return Ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function eb(t){return Ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function tb(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function Ql(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function tz(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function rz(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function nz(t){return Ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(t)}function yu(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Xy(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(t)}function vu(t){return Ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function Yy(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function bu(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Jl(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function Vn(t){return Ge({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function rb(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function sz(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Ap(t){return Ge({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function Qy(t){return Ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function $l(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function wu(t){return Ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function az(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function oa(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function g0(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function XJ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function nb(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function iz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function _u(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function oz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function Am(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Cm(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function Zl(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function z5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function nT(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function Us(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function jm(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function H5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function lz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function cz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function sb(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function YJ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(t)}function QJ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function Ri(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function uz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function W5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function dz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function hz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function q5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(t)}function fz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function Cp(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function jp(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function ab(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function pz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function Ur(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(t)}function JJ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function ZJ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(t)}function mz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function eZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(t)}function x0(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function tZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(t)}function sT(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function G5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function K5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 1 21 5 17 9"},child:[]},{tag:"path",attr:{d:"M3 11V9a4 4 0 0 1 4-4h14"},child:[]},{tag:"polyline",attr:{points:"7 23 3 19 7 15"},child:[]},{tag:"path",attr:{d:"M21 13v2a4 4 0 0 1-4 4H3"},child:[]}]})(t)}function ii(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function X5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function zo(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function Eu(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function Y5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function rZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function ib(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function aT(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function nZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(t)}function Ip(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function gz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function ks(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Tu(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function sZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(t)}function xz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function Ws(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const ec="/assets/logo-BQdnZbEi.png",yz="/assets/brooklyn99-Cbc4MIzs.png",vz="/assets/stranger-things-D_Jbxodv.png",bz="/assets/breaking-bad-CfDCaybq.png",wz="/assets/naruto-39Z-HkPE.png",_z="/assets/alice-Rrj5J7wq.png",Ez="/assets/netflix-DaHLFMJQ.png",Tz="/assets/spotify-bWcpnvLH.png",kz="/assets/disney-CWU7DV5v.png",Nz="/assets/max-BIVycyRg.png",Sz="/assets/prime-video-DdoTjLXc.png",Az="/assets/vix-DijISFtY.png",Cz="/assets/Canva-BX7ku0VE.png",jz="/assets/ChatGPT-B_s2moDj.png",Iz="/assets/crunchyroll-CCcWGZHz.png",Pz="/assets/redessociales-C9h9bjwL.png",Rz="/assets/dgo-BPXOpsxd.png",Dz="/assets/ligamax-DG6Hz7Oj.png",Oz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAB4CAYAAADblO/uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACnFJREFUeNrsnd912zYbh+Gc3FedoPQEVSYINUHUm+bS0gS2JlA8ga0JrF7qyvYElieIMkHYCapvAn+EQEb2sUgR1AsSIJ/nHKU9jkOKIH54/+AFcPby8qIAoNucIXQAhA4ACB0AEDoAIHQAQOgAgNABAKEDAEIHQOgAgNABAKEDAEIHAIQOAAgdABA6ACB0AIQOAAgdABA6AHRX6GdnZ7RiVVZJlP45Tj+D9PM5++k2/fxIPxv1NXqgkeA1UoYYoTcj8En652X6GR75TS36Rfq5TUW/peEAoYchcG29b9JPZPkvk/QzTcW+phEROkL3V+DaNb/L3PRT0GJf0qAIHaH7KfKnCm46YgeEjsjf8CkV+4YGRugIvbsiz2P2TyToEHpdPtCUYtw4ErkmSj9XNDGEadHNvLL+xK9+qq3WJqiMs8mu3zdwp/O0XRK6LRbdf6EbF1dbpwt1fNpJF5AsvBa9eZ6fyhTBuGaZtsWU7o/Q/Rb6KvmmTOGIrSi04KdexqjmmeYN3vF3YnWE7qfQZRJV2mX9y6vsc7PWPGeWtsEtEkDofgl9lQwzkUuIQVuykTdiXyU6BLlp+K5J+vznne7dxks6FLYkCN1HobuxeP6IfZX8VPblrRJ0e159lRzqlKM+lgRLCf2j4+/5pOTdWhMGrJJ2xW4WqkQt3V0nMjeOnitWb2dB6rDeDcgU+XjDR4dCcDmvrMV+n96jzSKSixbf23gXq7tBi/zU5OI86wPbTPSPlPG2ywdHItedxXWBR6SambsuyjvELb63KKtB8J1BNijdpd/3v8wLgs4IvbnpprggceOaSw/e3TiwvjbIBH+f5W4gaKHLxHh2g4qxsE1Z84EnIvscaJ9rqooQHMfo8xaeQ6/9/tTQvSaq2Xnzsli6Scqz3vty5igbhMYl7WQ8sa/RNyQYokVvL3YdZsm/vrjtxhX2KU7Xc9x6INBJN1Omq+f6b0vbERc+WNe9zUz0VRY2uHTbY9XelNrhAc5X9GzI10jPDExLYnZW5AUq9EnLz+Paql949v6G3vcwM61WtLvtFyQYmtCNtRu03vFdZeGNmznx7P2FkpC7LnlfuO+BWXRfRmdXWfiJh+8vDJGYCrkkWK+kA0hm3WOPnku78CPha156+P5CEokWetToYPU2ZzPI2stsbJJ/p54slPko1KADzzpdvKvCkiq79C8J9/q7RYF01ucCYzAsieFt39GX7HrDygNI3TLdw/UiSe0+V3Q9vWrPI4vuo2W5SRvvQagWXjoJpzvWIvtvXoAzr2ndohK3uE9okdTJ4uftP077i34Hs4pHY8Xqfc3I+gRhSl/PSYwee/ji80MUTreYsvG57kijXWcyU1BJtpHEuXK1Ig1sBs37lsqqnSIldF+zv2OBhRSSIp8W7g5jPI86K9LiQPpaUR/xcXCbZxt+EqMfGAl9Rbvwm1pro401nwuKvNwN05Vlq2QdkHhtPaxDSC4zXqv96bTbkkEkP812XNJ373bvoiP78/VB6KdsVCG1+GJpkaR57JzQy5O1Mhbdvm7+YedBFW8Hlsfuyy68gg8CLzGETpmLfVy5Y66SOyWTZEwsXfIuxulXhW3TtsU0oVTR++lM5V6fTmrJd6W5K63GMgPXk2Bsfm3ZmW07vt/VcaatL0usavsYsScH/qYzxTwSrntojTHZffTUm5nbzS1orPbzsHIxo+28qg4vVkmXXPayfQP/8ejbPhzwPCKE/tZShshYud9A4lr1kf3mHDcl/WPt2eaR/3b5lXxU4IpNx7YnvqiQj/kt84iO/Z4OT6bevS+EDjVYdOx5JoLXmnJYZH+Ens9z+lYnL/NsbG9cbMmrlZhKhxPHvIwhQpdHi2D2KxttXsJ9wPH+oeer2yG72uHevnO3otb5gc8VwwgsuiOSd0f/moowvaz0qSNiP8Vtt31+n2PLtTIFQA+NuOqm3FlXMkZIu32hHxaBmVbShQt3gbfppuH4838N3WdmMag0u87bZPlvlJ+bg/RW6MWdRce1q0TPZYe8oODUJJyvHo3Pswh3Fn1mXdLuQ4Qux7EYbZbFVaG68KcmmobC7dltjLs+LjEqi2yQ2hy5TpyFjghdKEYs75ja5VslC9XOQRCni7z52u2+r2GfFxqMoiXBPUSi1t22Y0dHf8OsREoCbM9HgWv8SbesbM2HBf1picjlhe5KkLMA21NiftguZOlW9Z0tRS77NdKWFrp9djWueF0tmnVQIpdx222EvqULi/RJKaLuCt1gI0gb1zQkq/4odB2bZBx7zPlF54WeOOnIJlO67JHb7kvYBPXzBlGXhf7DatSza4xZAC7qpqWdUn70XFbbArGNG3nnh5l0Wei2LmRc+TeNgHxfCdbWBgp9d92LQsY6U7ORUNtfWq9XMAPTF/+Fbp/5/WJ5/W+eu6ltuO3bnmfcy85004c33h/1HM3egHq3oe/KtvTaJPwOiT3fn/Bb4ZZl5r7jbFuzn8os6HJalSdZGbe2sNRxjevPlNyurNJueyIq4GqZ9wcFmusCkeanrzxkIc7m1yBgNsiIBcS1KLj3IPMq5rutxt+GGNWPi/LQdbd1IwfWu8f6O90m/Z0eKg4GzBWbfrE88g7y467us4/+/ysRC3r83rmw41efVkq7JYX+7NR931v1rsfni0rtwA4tr/lLIF+xqeklSdx7qxznW+SEbr9ryLjGPXybbkvENzg01yvbT23K7jXv2kznKz5lXs62hsCn2b9/rnVvc0T3bc3BRb9rfe7eo8smkl69ZhOnR7vspL1QZtkg4cPqtoWjjquX62qLfaH22WCzEsu9JS9yR5vM8I9q3V8nbVeJFtxEmR1mDrnKufV8VO93ol3Wes783DyzGOv1vd8bBnP953f3drzF99nLy8tpFzg7U6++bNHxNmUuqP1IaH8fF2x3I3FHzuaCljEnuL47Nvnl7z9GvsXoqkaMU+/ccTM4tD2HvEDkEAqyQi+eWyxiWHo8Ujlt7gu+rRmTARTxRzhCN9hmoeuVK5r4pq0pphnWHISJQhO6rfte/5BAUzHXdOHIkqw3NCT0xF+h27vv8Yl3nDYYr29UmBtigM+YUt1DQv/XX6EbbKadTnNZ9vOY6wZEPsJlBwdMCn4u1qdlp9f2I5ROsOli/aqJtpHIAo1Voqfcrhy8iNv0+2HJwYU11yWy3w/8jS4C+v1Ufbq16MbqNR/HGjGOBGObdTYIIXKQFvggmzt/EvCKW7Lo+7jje0Wrfi5e8WX2+76okQPQg5RO8P3T+2WgUNerzBfMHCqprXK09K9iLCmL7k7o5qGrVLDpevFzx4kO3ah/quIVS89Z467Fa9ehj0I/JXzcZl7krh+GIXTz4E9HRi822ocuCV2743MJkUsK/UMDj66X8RUJ+RaRQ8eoG4IuM3fdiUfp3qK/d6GjX3Ewa6qhexZd9+/LLEyMVPH08UbtV7IVngngjesOAP6D0AEQOgAgdABA6ACA0AEAoQMAQgcAhA4ACB0AoQMAQgcAhA4ACB0AEDoAIHQAQOgAgNABEDoAIHQAQOgAgNABAKEDAEIHAIQOAAgdAKEjdIDu838BBgAP9Pzi++BqOAAAAABJRU5ErkJggg==",Fz="/assets/youtube-CpBI5AmY.png",Lz="/assets/deezer-Dzzytvkp.png",Mz="/assets/tidal-Dvc8GFJF.png",$z="/assets/vpn-DwO8ctKm.png",Vz="/assets/wintv-DVRyyyXO.png",Bz="/assets/applemusic-oPM8BG1t.png",Uz="/assets/appletv-CnHYjknK.png",zz="/assets/iptv-DuZZIyup.png",Hz="/assets/flujotv-BuBDxOy2.png",Wz="/assets/vikirakuten-N9-l2Szt.png",qz="/assets/pornhub-CExwxEGA.png",Gz="/assets/paramount-BdllqDdm.png",Kz="/assets/licencias-BVJh6MhK.png",Xz="/assets/capcut-CQ2qY_pe.png",Yz="/assets/duolingo-5bYI8P47.png",Qz="/assets/buscapersonas-lxj-Iky8.png",_d=[{src:yz,title:"Brooklyn Nine-Nine",description:"Comedia policial hilarante"},{src:vz,title:"Stranger Things",description:"Misterio y nostalgia ochentera"},{src:bz,title:"Breaking Bad",description:"Un descenso al mundo del crimen"},{src:wz,title:"Naruto",description:"Aventuras ninja épicas"},{src:_z,title:"Alice in Borderland",description:"Juego de supervivencia intenso"}],Jz=[{name:"Netflix",logo:Ez,route:"/netflix",color:"#E50914"},{name:"Spotify",logo:Tz,route:"/spotify",color:"#1DB954"},{name:"Disney+",logo:kz,route:"/disney",color:"#113CCF"},{name:"Max",logo:Nz,route:"/max",color:"#002BE7"},{name:"Prime Video",logo:Sz,route:"/primevideo",color:"#00A8E1"},{name:"Vix",logo:Az,route:"/vix",color:"#FF2E63"},{name:"Canva",logo:Cz,route:"/canva",color:"#00C4B4"},{name:"ChatGPT",logo:jz,route:"/chatgpt",color:"#10A37F"},{name:"Crunchyroll",logo:Iz,route:"/crunchyroll",color:"#F47521"},{name:"Redes Sociales",logo:Pz,route:"/redessociales",color:"#3B5998"},{name:"Dgo",logo:Rz,route:"/dgo",color:"#00A1D6"},{name:"Liga Max",logo:Dz,route:"/ligamax",color:"#FFD700"},{name:"Movistar Play",logo:Oz,route:"/movistarplay",color:"#005566"},{name:"Youtube",logo:Fz,route:"/youtube",color:"#FF0000"},{name:"Deezer",logo:Lz,route:"/deezer",color:"#FEAA2D"},{name:"Tidal",logo:Mz,route:"/tidal",color:"#000000"},{name:"Vpn",logo:$z,route:"/vpn",color:"#4CAF50"},{name:"Win Tv",logo:Vz,route:"/wintv",color:"#9C27B0"},{name:"Apple Music",logo:Bz,route:"/applemusic",color:"#FA57C1"},{name:"Apple Tv",logo:Uz,route:"/appletv",color:"#000000"},{name:"Iptv",logo:zz,route:"/iptv",color:"#607D8B"},{name:"Flujo Tv",logo:Hz,route:"/flujotv",color:"#FF5722"},{name:"Viki Rakuten",logo:Wz,route:"/vikirakuten",color:"#D81B60"},{name:"Pornhub",logo:qz,route:"/pornhub",color:"#FF9000"},{name:"Paramount",logo:Gz,route:"/paramount",color:"#0064D2"},{name:"Licencias",logo:Kz,route:"/licencias",color:"#795548"},{name:"Cap cut",logo:Xz,route:"/capcut",color:"#00C4B4"},{name:"Duolingo",logo:Yz,route:"/duolingo",color:"#58CC02"},{name:"Busca Personas",logo:Qz,route:"/buscapersonas",color:"#3F51B5"}],Zz=(t,e=5e3)=>{const[r,n]=T.useState(0),[s,a]=T.useState(0),[o,u]=T.useState(!1);T.useEffect(()=>{if(o)return;const g=setInterval(()=>{a(v=>v>=100?0:v+100/(e/100))},100),y=setInterval(()=>{n(v=>(v+1)%t.length),a(0)},e);return()=>{clearInterval(g),clearInterval(y)}},[o,t.length,e]);const d=T.useCallback(g=>{n(g),a(0)},[]),h=T.useCallback(()=>{n(g=>(g-1+t.length)%t.length),a(0)},[t.length]),p=T.useCallback(()=>{n(g=>(g+1)%t.length),a(0)},[t.length]);return{currentIndex:r,progress:s,isPaused:o,setIsPaused:u,goToSlide:d,prevSlide:h,nextSlide:p}},Q5=T.memo(({platform:t,theme:e})=>i.jsx(M5,{tiltMaxAngleX:8,tiltMaxAngleY:8,scale:1.03,transitionSpeed:300,children:i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`${e==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-xl overflow-hidden shadow-md cursor-pointer hover:shadow-xl hover:border-blue-500/50 transition-all duration-300 relative`,children:i.jsxs(ws,{to:t.route,title:t.name,className:"block",children:[i.jsx("img",{src:t.logo,alt:t.name,className:`w-full h-24 sm:h-28 lg:h-32 object-contain p-4 ${e==="dark"?"bg-white/95":"bg-gray-50/95"} transition-transform duration-300 hover:scale-105`,loading:"lazy"}),i.jsx("div",{className:"p-3 text-center",style:{background:`linear-gradient(180deg, ${t.color}20, ${t.color}50)`},children:i.jsx("h3",{className:`font-semibold text-sm sm:text-base ${e==="dark"?"text-gray-100":"text-gray-900"} tracking-tight`,children:t.name})})]})})}));Q5.propTypes={platform:G.shape({name:G.string.isRequired,logo:G.string.isRequired,route:G.string.isRequired,color:G.string.isRequired}).isRequired,theme:G.string.isRequired};const J5=T.memo(({show:t,onClose:e,notifications:r,theme:n})=>{const s=n==="dark",a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},o=u=>u.toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return i.jsx(Vt,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(Z.div,{variants:a,initial:"hidden",animate:"visible",exit:"hidden",className:`w-full max-w-md mx-4 ${s?"bg-gray-900/95 border-gray-700/50":"bg-white/95 border-gray-200/50"} rounded-2xl shadow-2xl p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md`,onClick:u=>u.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar notificaciones",children:i.jsx(Vn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-2xl font-bold mb-6 ${s?"text-white":"text-gray-900"} bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Notificaciones"}),r.length>0?r.map(u=>i.jsxs(Z.div,{variants:a,initial:"hidden",animate:"visible",whileHover:"hover",className:`border-b py-3 last:border-0 rounded-xl px-2 transition-all duration-300 ${s?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,children:[i.jsx("p",{className:`${s?"text-gray-300":"text-gray-700"}`,children:u.message}),i.jsx("p",{className:`text-xs mt-1 ${s?"text-gray-400":"text-gray-500"}`,children:o(u.updatedAt?.toDate?.()||new Date)})]},u.id)):i.jsx("p",{className:`py-2 ${s?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})]})})})});J5.propTypes={show:G.bool.isRequired,onClose:G.func.isRequired,notifications:G.arrayOf(G.shape({id:G.string.isRequired,message:G.string.isRequired,updatedAt:G.object})).isRequired,theme:G.string.isRequired};const Z5=T.memo(({isOpen:t,message:e,onClose:r,theme:n})=>i.jsx(Vt,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:r,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${n==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${n==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:s=>s.stopPropagation(),children:[i.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(Vn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${n==="dark"?"text-white":"text-gray-900"}`,children:"Notificación"}),i.jsx("p",{className:`text-sm ${n==="dark"?"text-gray-300":"text-gray-700"}`,children:e})]})})}));Z5.propTypes={isOpen:G.bool.isRequired,message:G.string.isRequired,onClose:G.func.isRequired,theme:G.string.isRequired};const e6=()=>{const{currentIndex:t,progress:e,setIsPaused:r,goToSlide:n,prevSlide:s,nextSlide:a}=Zz(_d,5e3),[o,u]=T.useState(""),[d,h]=T.useState(null),[p,g]=T.useState(0),[y,v]=T.useState(null),[k,w]=T.useState(!1),[E,D]=T.useState(!1),[I,U]=T.useState("dark"),[O,X]=T.useState(!1),[B,A]=T.useState(!1),[S,C]=T.useState([]),[R,F]=T.useState([]),[W,M]=T.useState([]),[Se,Ie]=T.useState([]),[$e,Le]=T.useState(null),[_e,ie]=T.useState(!1),[de,se]=T.useState(null),[V,te]=T.useState(null),[re,ne]=T.useState(!1),[ee,Fe]=T.useState(null),[Be,Ae]=T.useState({}),Pe=La(),it=T.useRef(null);T.useEffect(()=>{const Q=Gl(en,Te=>{h(Te),Te?(yt(Te.uid),Wt(Te.uid)):(g(0),v(null),C([]))});return()=>Q()},[]);const yt=async Q=>{try{const Te=await Za(ht(je,"users",Q));if(Te.exists()){g(Te.data().balance||0),v(Te.data().role);const ft=Te.data().username||"Usuario";h(be=>({...be,username:ft,id:Q,name:ft,phone:Te.data().phone||""}))}}catch(Te){console.error("Error fetching user data:",Te)}},Wt=async Q=>{try{const Te=tr(kt(je,"users",Q,"notifications"),s1("updatedAt","desc")),be=(await tn(Te)).docs.map(ke=>({id:ke.id,message:ke.data().message||"Sin mensaje",updatedAt:ke.data().updatedAt}));C(be)}catch(Te){console.error("Error fetching notifications:",Te)}};T.useEffect(()=>{(async()=>{try{const Te=tr(kt(je,"products")),be=(await tn(Te)).docs.map(ke=>{const Me=ke.data(),Ze=Me.accounts||[];return{id:ke.id,...Me,price:Number(Me.price)||0,stock:Ze.length,accountDetails:Me.email||Me.details||"Detalles no disponibles",terms:Me.terms||"Términos del proveedor",provider:Me.provider||"Anon",providerId:Me.providerId||"",providerPhone:Me.providerPhone||"",acceptsOrders:Me.status==="A pedido",duration:Me.duration||"1 mes",accountType:Me.accountType||"No especificado",status:Me.status||"En stock",image:Me.image||"https://via.placeholder.com/300",renewal:Me.renewal||!1,renewalPrice:Number(Me.renewalPrice)||Number(Me.price)*.9,accounts:Ze,category:Me.category||"General"}});M(be)}catch(Te){console.error("Error fetching all products:",Te)}})()},[]),T.useEffect(()=>{(async()=>{try{const Te=tr(kt(je,"sales"),b3(200)),ft=await tn(Te),be={};ft.docs.forEach(vt=>{const at=vt.data().productId;be[at]=(be[at]||0)+1});const Me=Object.keys(be).sort((vt,Nt)=>be[Nt]-be[vt]).slice(0,20).map(async vt=>{const Nt=await Za(ht(je,"products",vt));if(Nt.exists()){const at=Nt.data(),ot=at.accounts||[];let et={provider:at.provider||"Anon",providerPhone:at.providerPhone||""};if(at.providerId){const Tt=await Za(ht(je,"users",at.providerId));Tt.exists()&&(et.provider=Tt.data().username||Tt.data().email||at.provider,et.providerPhone=Tt.data().phoneNumber||at.providerPhone)}return{id:vt,...at,category:at.category,price:Number(at.price)||0,stock:ot.length,accountDetails:at.email||at.details||"Detalles no disponibles",terms:at.terms||"Términos del proveedor",...et,acceptsOrders:at.status==="A pedido",duration:at.duration||"1 mes",accountType:at.accountType||"No especificado",status:at.status||"En stock",image:at.image||"https://via.placeholder.com/300",renewal:at.renewal||!1,renewalPrice:Number(at.renewalPrice)||Number(at.price)*.9,accounts:ot}}return null}),Ze=await Promise.all(Me);F(Ze.filter(vt=>vt))}catch(Te){console.error("Error fetching top products:",Te)}})()},[]),T.useEffect(()=>{if(o.trim()){const Q=W.filter(Te=>Te.name.toLowerCase().includes(o.toLowerCase())||Te.provider.toLowerCase().includes(o.toLowerCase()));Ie(Q)}else Ie([])},[o,W]),T.useEffect(()=>{const Q=tr(kt(je,"ratings"));return hr(Q,ft=>{const be={};ft.docs.forEach(Me=>{const Ze=Me.data(),vt=Ze.providerId;be[vt]||(be[vt]=[]),be[vt].push(Number(Ze.rating)||0)});const ke={};Object.keys(be).forEach(Me=>{const Ze=be[Me];ke[Me]=Ze.length?Ze.reduce((vt,Nt)=>vt+Nt,0)/Ze.length:1,ke[Me]=Math.min(Math.max(ke[Me],1),5)}),Ae(ke)},ft=>{console.error("Error al cargar calificaciones:",ft)})},[]);const Oe=T.useCallback(Q=>{if(!Q)return 30;if(typeof Q=="number")return Q;if(typeof Q!="string")return 30;const Te=Q.match(/(\d+)\s*(mes|meses)/i);if(Te)return parseInt(Te[1],10)*30;const ft=Q.match(/(\d+)\s*(día|días|dia|dias)/i);if(ft)return parseInt(ft[1],10);const be=Q.match(/(\d+)/);return be?parseInt(be[1],10):30},[]),fr=T.useCallback(Q=>{const Te=Number(Q);return isNaN(Te)?"0.00":Te.toFixed(2)},[]),Mt=T.useCallback(Q=>{const Te=Math.floor(Q),ft=5-Te;return i.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(Te)].map((be,ke)=>i.jsx(Eu,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${ke}`)),[...Array(ft)].map((be,ke)=>i.jsx(Eu,{className:I==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${ke}`))]})},[I]),Re=T.useCallback(Q=>Q.status==="A pedido"?i.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:i.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(Q.stock)>0?i.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:i.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",Q.stock]})}):i.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:i.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),[]),pr=T.useCallback(Q=>{if(se(null),!d){Fe({message:"Por favor, inicia sesión para realizar una compra en BlackStreaming.",onClose:()=>Pe("/login")});return}if(y==="provider"){Fe({message:"Los proveedores no pueden realizar compras en BlackStreaming."});return}if(p<Q.price){Fe({message:"Saldo insuficiente para realizar esta compra."});return}if(!Q.providerId||Q.providerId===""){Fe({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de BlackStreaming."});return}Le({product:Q,customerName:d.name,phoneNumber:""})},[d,p,y,Pe]),$t=T.useCallback(async()=>{if(!document.getElementById("termsCheck").checked){se("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test($e.phoneNumber)){se("El número de WhatsApp debe tener 9 dígitos");return}try{ie(!0),se(null);const Q=$e.product,Te=Oe(Q.duration),ft=Q.category||"general";if(!Q.providerId||Q.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let be=null;Q.status==="En stock"?be=await ky(je,async ke=>{const Me=ht(je,"products",Q.id),Ze=await ke.get(Me);if(!Ze.exists())throw new Error("Producto no encontrado");const Nt=Ze.data().accounts||[];if(Nt.length===0)throw new Error("No hay cuentas disponibles para este producto");const at=Nt[0],ot=Nt.slice(1),et=ht(je,"users",d.id),Tt=await ke.get(et);if(!Tt.exists())throw new Error("Usuario no encontrado");const Bt=ht(je,"users",Q.providerId),Kt=await ke.get(Bt);if(!Kt.exists())throw new Error("Proveedor no encontrado");const jr=ht(je,"providerBalances",Q.providerId),Mr=await ke.get(jr);let un=0;Mr.exists()?un=parseFloat(Mr.data().balance)||0:ke.set(jr,{balance:0,provider:Q.providerId,updatedAt:br()});let cr=Q.providerPhone||"";cr||(cr=Kt.data().phoneNumber||"");const Hn={accounts:ot,stock:ot.length};ot.length===0&&(Hn.status="Agotado"),ke.update(Me,Hn);const dn=(Number(Tt.data().balance)||0)-Q.price;if(dn<0)throw new Error("Saldo insuficiente");const Er=Tt.data().orderIds||[],xn={productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:cr,status:"active",customerName:$e.customerName,customerId:d.id,phoneNumber:$e.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,createdAt:new Date().toISOString(),accountDetails:{email:at.email||"No proporcionado",password:at.password||"No proporcionado",profile:at.profile||"No proporcionado",pin:at.pin||"No proporcionado"},terms:Q.terms,duration:Q.duration,durationDays:Te,type:ft},ve=kt(je,"users",d.id,"orders"),Ne=ht(ve);ke.set(Ne,{...xn,id:Ne.id}),ke.update(et,{balance:dn,orderIds:[...Er,Ne.id]});const z=(Number(Kt.data().balance)||0)+Q.price,H=Kt.data().salesIds||[],K={saleId:ht(kt(je,"sales")).id,productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:cr,customerId:d.id,customerName:$e.customerName,customerPhone:$e.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,accountDetails:{email:at.email||"No proporcionado",password:at.password||"No proporcionado",profile:at.profile||"No proporcionado",pin:at.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:Q.terms,duration:Q.duration,durationDays:Te,generalDetails:Q.accountDetails,productUrl:Q.image},J=kt(je,"users",Q.providerId,"sales"),Y=ht(J);ke.set(Y,{...K,id:Y.id}),ke.update(Bt,{balance:z,salesIds:[...H,Y.id]});const ue=un+Q.price;ke.set(jr,{balance:ue,provider:Q.providerId,updatedAt:br()},{merge:!0});const me=ht(kt(je,"sales"));return ke.set(me,{...xn,provider:Q.provider,providerId:Q.providerId,providerPhone:cr,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:at.email||"No proporcionado",password:at.password||"No proporcionado",profile:at.profile||"No proporcionado",pin:at.pin||"No proporcionado"},saleId:K.saleId,terms:Q.terms,duration:Q.duration,durationDays:Te,generalDetails:Q.accountDetails,productUrl:Q.image}),at}):await ky(je,async ke=>{const Me=ht(je,"users",d.id),Ze=await ke.get(Me);if(!Ze.exists())throw new Error("Usuario no encontrado");const vt=ht(je,"users",Q.providerId),Nt=await ke.get(vt);if(!Nt.exists())throw new Error("Proveedor no encontrado");const at=ht(je,"providerBalances",Q.providerId),ot=await ke.get(at);let et=0;ot.exists()?et=parseFloat(ot.data().balance)||0:ke.set(at,{balance:0,provider:Q.providerId,updatedAt:br()});let Tt=Q.providerPhone||"";Tt||(Tt=Nt.data().phoneNumber||"");const Kt=(Number(Ze.data().balance)||0)-Q.price;if(Kt<0)throw new Error("Saldo insuficiente");const jr=Ze.data().orderIds||[],Mr={productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:Tt,status:"pending",customerName:$e.customerName,customerId:d.id,phoneNumber:$e.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:Q.terms,duration:Q.duration,durationDays:Te,type:ft},un=kt(je,"users",d.id,"orders"),cr=ht(un);ke.set(cr,{...Mr,id:cr.id}),ke.update(Me,{balance:Kt,orderIds:[...jr,cr.id]});const ur=(Number(Nt.data().balance)||0)+Q.price,dn=Nt.data().salesIds||[],Er={saleId:ht(kt(je,"sales")).id,productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:Tt,customerId:d.id,customerName:$e.customerName,customerPhone:$e.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,accountDetails:null,status:"pending",terms:Q.terms,duration:Q.duration,durationDays:Te,generalDetails:Q.accountDetails,productUrl:Q.image},xn=kt(je,"users",Q.providerId,"sales"),ve=ht(xn);ke.set(ve,{...Er,id:ve.id}),ke.update(vt,{balance:ur,salesIds:[...dn,ve.id]});const Ne=et+Q.price;ke.set(at,{balance:Ne,provider:Q.providerId,updatedAt:br()},{merge:!0});const P=ht(kt(je,"sales"));ke.set(P,{...Mr,provider:Q.provider,providerId:Q.providerId,providerPhone:Tt,saleDate:new Date().toISOString(),status:"pending",saleId:Er.saleId,terms:Q.terms,duration:Q.duration,durationDays:Te,generalDetails:Q.accountDetails,productUrl:Q.image})}),g(ke=>ke-Q.price),Le(null),Fe({message:Q.status==="En stock"?"¡Compra realizada con éxito! Revisa tu panel para mas información.":"¡Pedido realizado con éxito! Revisa tu panel para mas información."})}catch(Q){se(Q.message||"Error al procesar la compra"),console.error("Error en la compra:",Q)}finally{ie(!1)}},[$e,d,Oe]),Gt=T.useCallback(Q=>{te({name:Q.name,accountDetails:Q.accountDetails,provider:Q.provider,terms:Q.terms,accountType:Q.accountType})},[]),le=T.useCallback(Q=>{te({name:Q.name,terms:Q.terms,provider:Q.provider,accountType:Q.accountType}),ne(!0)},[]);T.useEffect(()=>{const Q=()=>{D(window.scrollY>300)};return window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)},[]),T.useEffect(()=>{const Q=it.current;let Te=0;const ft=ke=>{Te=ke.touches[0].clientX,r(!0)},be=ke=>{const Me=ke.changedTouches[0].clientX;Te-Me>50&&a(),Me-Te>50&&s(),setTimeout(()=>r(!1),500)};return Q?.addEventListener("touchstart",ft),Q?.addEventListener("touchend",be),()=>{Q?.removeEventListener("touchstart",ft),Q?.removeEventListener("touchend",be)}},[s,a,r]);const Ye=T.useCallback(Q=>{Q.preventDefault(),o.trim()&&Pe(`/search?q=${encodeURIComponent(o)}`)},[o,Pe]),ct=T.useCallback(async()=>{try{await B0(en),Pe("/")}catch(Q){console.error("Error signing out:",Q)}},[Pe]),ut=T.useCallback(()=>{U(Q=>Q==="dark"?"light":"dark")},[]),At=T.useCallback(Q=>Q?Q.split(" ").map(ft=>ft[0]).join("").slice(0,2).toUpperCase():"U",[]),wt=T.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),st=T.useCallback(()=>{switch(y){case"admin":return"/dashboard/admin";case"provider":return"/dashboard/provider";default:return"/dashboard/user"}},[y]),gt=T.useCallback(Q=>{if(!y){Q.preventDefault();const Te={id:Date.now().toString(),message:"Usuario no activado",updatedAt:new Date};return C(ft=>[...ft,Te]),A(!0),!1}return!0},[y]),ir=o?Se:R;return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${I==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col font-inter relative overflow-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${I==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((Q,Te)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Te))})]}),i.jsxs("header",{className:`${I==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-4 px-4 sm:px-6 flex items-center justify-between shadow-lg fixed top-0 left-0 right-0 z-50 transition-all duration-300`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Z.img,{src:ec,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${I==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-md hidden lg:block",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar productos y proveedores...",value:o,onChange:Q=>u(Q.target.value),className:`w-full py-2.5 px-5 ${I==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${I==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar productos y proveedores",onKeyDown:Q=>Q.key==="Enter"&&Ye(Q)}),i.jsx("button",{onClick:Ye,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${I==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:i.jsx(yu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-3 relative",children:[i.jsx("button",{onClick:ut,className:`p-2 rounded-full ${I==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${I==="dark"?"claro":"oscuro"}`,children:I==="dark"?i.jsx(Jl,{size:20}):i.jsx(Ql,{size:20})}),d&&i.jsxs("button",{onClick:()=>A(!0),className:`p-2 rounded-full relative ${I==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Notificaciones (${S.length} nuevas)`,children:[i.jsx(Ll,{size:20}),S.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:S.length})]}),i.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition duration-300",onClick:()=>X(!O),"aria-label":"Abrir menú móvil","aria-expanded":O,children:i.jsx(Sm,{size:20,className:I==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:d?i.jsxs("div",{className:"relative flex items-center space-x-4",children:[i.jsx(Z.div,{className:`flex items-center space-x-2 ${I==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,whileHover:{scale:1.05},children:i.jsxs("span",{className:"text-sm font-semibold",children:["S/. ",p.toFixed(2)]})}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>w(!k),className:`flex items-center space-x-2 ${I==="dark"?"bg-gray-800/30 border-gray-600/30":"bg-gray-100/80 border-gray-200/30"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,"aria-label":"Menú de usuario","aria-haspopup":"true","aria-expanded":k,children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:d.photoURL?i.jsx("img",{src:d.photoURL,alt:"Avatar de usuario",className:"h-full w-full rounded-full",loading:"lazy"}):At(d.username||d.email)}),i.jsx("span",{className:`text-sm font-semibold ${I==="dark"?"text-gray-200":"text-gray-800"} truncate max-w-[120px]`,children:d.username||"Usuario"}),i.jsx(XU,{className:`ml-1 ${I==="dark"?"text-gray-400":"text-gray-600"}`,size:14})]}),i.jsx(Vt,{children:k&&i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`absolute right-0 mt-2 w-56 ${I==="dark"?"bg-gray-900/95 border-gray-600/30":"bg-white/95 border-gray-200/30"} backdrop-blur-xl rounded-lg shadow-xl py-3 z-50`,role:"menu",children:[i.jsxs(ws,{to:st(),className:`w-full text-left px-4 py-2 text-sm hover:${I==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,onClick:Q=>{gt(Q),w(!1)},role:"menuitem","aria-label":"Ir al dashboard",children:[i.jsx(Ap,{className:"mr-2"})," Dashboard"]}),i.jsxs("button",{onClick:ct,className:`w-full text-left px-4 py-2 text-sm hover:${I==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[i.jsx(bu,{className:"mr-2"})," Cerrar Sesión"]})]})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(ws,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${I==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Iniciar sesión",children:[i.jsx(Yy,{className:"mr-2"})," Ingresar"]}),i.jsxs(ws,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${I==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Registrarse",children:[i.jsx(Qy,{className:"mr-2"})," Registrarse"]})]})})]}),i.jsx(Vt,{children:O&&i.jsx(Z.nav,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},className:`lg:hidden absolute top-full left-0 right-0 ${I==="dark"?"bg-gray-900/95":"bg-white/95"} backdrop-blur-xl shadow-lg z-40 p-6`,role:"menu","aria-label":"Menú móvil",children:i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar productos y proveedores...",value:o,onChange:Q=>u(Q.target.value),className:`w-full py-2.5 px-5 ${I==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${I==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar productos y proveedores",onKeyDown:Q=>Q.key==="Enter"&&Ye(Q)}),i.jsx("button",{onClick:Ye,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${I==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:i.jsx(yu,{size:18})})]}),d&&i.jsxs("button",{onClick:()=>{A(!0),X(!1)},className:`text-sm flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ver notificaciones",children:[i.jsx(Ll,{className:"mr-2"})," Notificaciones"]}),d?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} font-medium`,children:["Saldo: S/. ",p.toFixed(2)]}),i.jsxs(ws,{to:st(),className:`text-sm flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,onClick:Q=>{gt(Q)&&X(!1)},role:"menuitem","aria-label":"Ir al dashboard",children:[i.jsx(Ap,{className:"mr-2"})," Dashboard"]}),i.jsxs("button",{onClick:()=>{ct(),X(!1)},className:`text-sm flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[i.jsx(bu,{className:"mr-2"})," Cerrar Sesión"]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(ws,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${I==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>X(!1),role:"menuitem","aria-label":"Iniciar sesión",children:[i.jsx(Yy,{className:"mr-2"})," Ingresar"]}),i.jsxs(ws,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${I==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>X(!1),role:"menuitem","aria-label":"Registrarse",children:[i.jsx(Qy,{className:"mr-2"})," Registrarse"]})]})]})})})]}),i.jsx(J5,{show:B&&!!d,onClose:()=>A(!1),notifications:S,theme:I}),i.jsx(Z5,{isOpen:!!ee,message:ee?.message||"",onClose:()=>{ee?.onClose&&ee.onClose(),Fe(null)},theme:I}),i.jsx(Vt,{children:$e&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>Le(null),role:"dialog","aria-labelledby":"purchase-modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${I==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${I==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>Le(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar modal de compra",children:i.jsx(Vn,{size:20})}),i.jsx("h2",{id:"purchase-modal-title",className:`text-xl font-bold mb-4 ${I==="dark"?"text-white":"text-gray-900"}`,children:"Confirmar Compra"}),i.jsxs("p",{className:`mb-4 ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:["Estás a punto de comprar: ",i.jsx("strong",{children:$e.product.name})]}),i.jsxs("p",{className:`mb-4 ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:["Precio: S/. ",fr($e.product.price)]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"customerName",className:`block text-sm font-medium ${I==="dark"?"text-gray-300":"text-gray-700"} mb-1`,children:"Nombre"}),i.jsx("input",{id:"customerName",type:"text",value:$e.customerName,onChange:Q=>Le({...$e,customerName:Q.target.value}),className:`w-full py-2 px-3 rounded-lg ${I==="dark"?"bg-gray-800/50 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50`,"aria-required":"true"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"phoneNumber",className:`block text-sm font-medium ${I==="dark"?"text-gray-300":"text-gray-700"} mb-1`,children:"Número de WhatsApp"}),i.jsx("input",{id:"phoneNumber",type:"tel",value:$e.phoneNumber,onChange:Q=>Le({...$e,phoneNumber:Q.target.value}),className:`w-full py-2 px-3 rounded-lg ${I==="dark"?"bg-gray-800/50 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50`,placeholder:"9 dígitos",pattern:"\\d{9}","aria-required":"true"})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{id:"termsCheck",type:"checkbox",className:"h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-300 rounded","aria-required":"true"}),i.jsxs("span",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:["Acepto los"," ",i.jsx("button",{type:"button",onClick:()=>{le($e.product)},className:"underline text-blue-500 hover:text-blue-400",children:"términos y condiciones"})]})]})}),de&&i.jsx("p",{className:`text-red-400 text-sm mb-4 ${I==="dark"?"text-red-300":"text-red-500"}`,children:de}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Le(null),className:`flex-1 py-2 px-4 rounded-xl ${I==="dark"?"bg-gray-700/50 hover:bg-gray-600/50 text-gray-200 border-gray-600/30":"bg-gray-200 hover:bg-gray-300 text-gray-800 border-gray-300"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cancelar compra",children:"Cancelar"}),i.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:$t,disabled:_e,className:`flex-1 py-2 px-4 rounded-xl ${_e?"bg-gray-500/50 cursor-not-allowed text-gray-400":I==="dark"?"bg-green-600/90 hover:bg-green-700/95 text-white border-green-500/30":"bg-green-500/90 hover:bg-green-600/95 text-white border-green-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300 flex items-center justify-center gap-2`,"aria-label":"Confirmar compra",children:_e?i.jsxs(i.Fragment,{children:[i.jsx(fz,{className:"animate-spin",size:16}),"Procesando..."]}):"Confirmar"})]})]})})}),i.jsx(Vt,{children:V&&!re&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>te(null),role:"dialog","aria-labelledby":"detail-modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${I==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${I==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>te(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar detalles",children:i.jsx(Vn,{size:20})}),i.jsxs("h2",{id:"detail-modal-title",className:`text-xl font-bold mb-4 ${I==="dark"?"text-white":"text-gray-900"}`,children:["Detalles de ",V.name]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:[i.jsx("strong",{children:"Tipo de Cuenta:"})," ",V.accountType]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Proveedor:"})," ",V.provider]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Detalles:"})," ",V.accountDetails]}),i.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>te(null),className:`mt-6 w-full py-2 px-4 rounded-xl ${I==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar detalles",children:"Cerrar"})]})})}),i.jsx(Vt,{children:re&&V&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>{ne(!1),te(null)},role:"dialog","aria-labelledby":"terms-modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${I==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${I==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>{ne(!1),te(null)},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar términos",children:i.jsx(Vn,{size:20})}),i.jsx("h2",{id:"terms-modal-title",className:`text-xl font-bold mb-4 ${I==="dark"?"text-white":"text-gray-900"}`,children:"Términos y Condiciones"}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:[i.jsx("strong",{children:"Producto:"})," ",V.name]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Proveedor:"})," ",V.provider]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Términos:"})," ",V.terms]}),i.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne(!1),te(null)},className:`mt-6 w-full py-2 px-4 rounded-xl ${I==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar términos",children:"Cerrar"})]})})}),i.jsxs("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 py-10 pt-24 relative z-10",children:[i.jsxs("section",{ref:it,className:"relative h-64 sm:h-80 md:h-96 lg:h-[600px] mb-12 overflow-hidden rounded-2xl shadow-2xl",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),role:"region","aria-label":"Carrusel de contenido destacado",children:[i.jsx(Vt,{initial:!1,children:i.jsx(Z.div,{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${_d[t].src})`},initial:{opacity:0,x:300,scale:1.1},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-300,scale:1.1},transition:{duration:.8,ease:"easeInOut"},children:i.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t ${I==="dark"?"from-black/90 via-black/60 to-transparent":"from-white/90 via-white/60 to-transparent"} flex flex-col justify-end p-6 sm:p-8 md:p-10 lg:p-12`,children:[i.jsx(Z.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:`text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-extrabold mb-2 bg-clip-text text-transparent bg-gradient-to-r ${I==="dark"?"from-white to-gray-200":"from-gray-900 to-gray-700"} tracking-tight drop-shadow-md`,children:_d[t].title}),i.jsx(Z.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},className:`text-sm sm:text-base md:text-lg lg:text-xl max-w-md ${I==="dark"?"text-gray-300":"text-gray-700"} font-medium drop-shadow-sm`,children:_d[t].description})]})},t)}),i.jsx("button",{onClick:s,className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${I==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva anterior",children:i.jsx(JU,{size:20})}),i.jsx("button",{onClick:a,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${I==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva siguiente",children:i.jsx(ZU,{size:20})}),i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",role:"tablist",children:_d.map((Q,Te)=>i.jsx("button",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-300 ${t===Te?"bg-blue-500 scale-125":I==="dark"?"bg-gray-500/50":"bg-gray-400/50"} focus:outline-none focus:ring-2 focus:ring-blue-500`,onClick:()=>n(Te),role:"tab","aria-selected":t===Te,"aria-label":`Ir a diapositiva ${Te+1}`},Te))}),i.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 ${I==="dark"?"bg-gray-800/50":"bg-gray-200/50"}`,children:i.jsx(Z.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600",style:{width:`${e}%`},initial:{width:0},animate:{width:`${e}%`},transition:{duration:.1}})})]}),i.jsxs("section",{className:"relative",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600 tracking-tight",children:"Categorías de Plataformas"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4 sm:gap-6 lg:gap-8",children:Jz.map((Q,Te)=>i.jsx(Q5,{platform:Q,theme:I},Te))})]}),i.jsxs("section",{className:"mt-16 relative",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600 tracking-tight",children:o?"Resultados de Búsqueda":"Productos Más Vendidos"}),ir.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:ir.map(Q=>{const Te=/^\d+$/.test(Q.duration||"")?`${Q.duration} días`:Q.duration||"1 mes";return i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`relative group rounded-2xl overflow-hidden border-2 ${I==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-blue-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-purple-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[i.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[i.jsx(Z.img,{whileHover:{scale:1.1},src:Q.image,alt:Q.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"},loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Re(Q)]}),i.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${I==="dark"?"text-blue-400 bg-blue-500/20":"text-purple-600 bg-purple-600/20"} px-2 py-0.5 rounded-md`,children:Q.accountType}),i.jsxs("span",{className:`text-xs flex items-center gap-1 ${I==="dark"?"text-gray-400":"text-gray-600"}`,children:[i.jsx(Zl,{className:"text-blue-500",size:13}),Te]})]}),i.jsx("h3",{className:`font-extrabold text-lg ${I==="dark"?"text-white":"text-gray-900"} mb-2 truncate leading-tight drop-shadow`,children:Q.name}),i.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[Mt(Be[Q.providerId]||1),i.jsx("span",{className:`ml-1 text-xs ${I==="dark"?"text-gray-400":"text-gray-600"}`,children:(Be[Q.providerId]||1).toFixed(1)})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsxs("span",{className:`flex items-center text-xs ${I==="dark"?"text-gray-300":"text-gray-600"} gap-1`,children:[i.jsx(gz,{className:"text-blue-500",size:13}),Q.provider]}),i.jsxs("span",{className:`flex items-center text-xs ${I==="dark"?"text-gray-400":"text-gray-600"} gap-1`,children:[i.jsx(az,{className:"text-blue-500",size:13}),Q.status]})]}),i.jsx("div",{className:"flex items-center mb-2",children:Q.renewal?i.jsxs("span",{className:"text-green-500 text-xs font-medium",children:["Renovación S/. ",fr(Q.renewalPrice)]}):i.jsx("span",{className:"text-yellow-500 text-xs font-medium",children:"Sin renovación"})}),i.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[i.jsx("div",{className:"flex items-end justify-between mb-2",children:i.jsxs("span",{className:`font-bold text-xl tracking-tight drop-shadow ${I==="dark"?"text-blue-400":"text-purple-600"}`,children:["S/. ",fr(Q.price)]})}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Gt(Q),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${I==="dark"?"bg-gray-800/60 hover:bg-blue-500/20":"bg-gray-200/60 hover:bg-purple-600/20"} text-gray-100 transition-all border border-blue-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[i.jsx(dz,{className:"text-blue-500",size:14}),i.jsx("span",{children:"Detalles"})]}),i.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>le(Q),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${I==="dark"?"bg-gray-800/60 hover:bg-blue-500/20":"bg-gray-200/60 hover:bg-purple-600/20"} text-gray-100 transition-all border border-blue-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[i.jsx(sb,{className:"text-blue-500",size:14}),i.jsx("span",{children:"Términos"})]})]}),i.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pr(Q),className:`w-full py-2 px-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 shadow-lg transition-all duration-200 ${Number(Q.stock)>0||Q.status==="A pedido"?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white":"bg-gray-800/60 text-gray-400 cursor-not-allowed"}`,disabled:Number(Q.stock)<=0&&Q.status!=="A pedido",children:[i.jsx(zo,{size:16}),Q.status==="A pedido"?"Pedir Ahora":"Comprar"]})]})]})]},Q.id)})}):i.jsx("p",{className:`text-center text-lg ${I==="dark"?"text-gray-400":"text-gray-600"} font-medium`,children:o?"No se encontraron productos que coincidan con tu búsqueda.":"No hay productos disponibles."})]})]}),i.jsx("footer",{className:`${I==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10`,children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${I==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${I==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(Yl,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${I==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Xl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${I==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Kl,{size:24})})]})]})}),i.jsx(Vt,{children:E&&i.jsx(Z.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:wt,className:`fixed bottom-6 left-6 bg-blue-600/90 backdrop-blur-lg p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 ${I==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Volver al inicio de la página",children:i.jsx(Nm,{size:20})})})]})};e6.propTypes={};const eH=()=>{const[t,e]=T.useState(""),[r,n]=T.useState(""),[s,a]=T.useState(!1),[o,u]=T.useState(""),[d,h]=T.useState(!1),[p,g]=T.useState(()=>localStorage.getItem("theme")||"dark"),y=La(),v=T.useRef(null);T.useEffect(()=>{localStorage.setItem("theme",p),document.documentElement.classList.toggle("dark",p==="dark")},[p]),T.useEffect(()=>{const U=en.onAuthStateChanged(O=>{O&&y("/")});return()=>U()},[y]),T.useEffect(()=>{v.current?.focus()},[]);const k=T.useCallback(()=>t?r?r.length<6?"La contraseña debe tener al menos 6 caracteres":"":"Por favor, ingresa tu contraseña":"Por favor, ingresa tu nombre de usuario o correo electrónico",[t,r]),w=async U=>{try{const O=kt(je,"users"),X=tr(O,vr("username","==",U)),B=await tn(X);if(!B.empty){const A=B.docs[0].data();return{email:A.email,status:A.status||"active"}}return null}catch(O){return console.error("Error fetching username:",O),null}},E=T.useCallback(async U=>{U.preventDefault();const O=k();if(O){u(O);return}u(""),h(!0);try{let X=t,B="active";if(t.includes("@")){const A=kt(je,"users"),S=tr(A,vr("email","==",t)),C=await tn(S);C.empty||(B=C.docs[0].data().status||"active")}else{const A=await w(t);if(!A){u("Nombre de usuario no encontrado"),h(!1);return}X=A.email,B=A.status}if(B==="suspended"){u("Esta cuenta está suspendida y no se puede ingresar"),h(!1);return}await nF(en,X,r),e(""),n(""),y("/")}catch(X){u(X.code==="auth/wrong-password"?"Contraseña incorrecta":X.code==="auth/user-not-found"?"Usuario o correo electrónico no encontrado":X.code==="auth/too-many-requests"?"Demasiados intentos fallidos. Intenta de nuevo más tarde.":"Error al iniciar sesión. Por favor, intenta de nuevo.")}finally{h(!1)}},[t,r,y,k]),D=T.useCallback(()=>{g(U=>U==="dark"?"light":"dark")},[]),I=T.useCallback(()=>{a(U=>!U)},[]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${p==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[i.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:i.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full backdrop-blur-sm ${p==="dark"?"bg-gray-800/50 text-gray-400 border border-gray-600/30":"bg-white/70 text-gray-600 border border-gray-300/30"}`,children:"V2.1.2"})}),i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${p==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((U,O)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},O))})]}),i.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${p==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"login-title",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Z.img,{src:ec,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${p==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:D,className:`p-2 rounded-full ${p==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${p==="dark"?"claro":"oscuro"}`,children:p==="dark"?i.jsx(Jl,{size:20}):i.jsx(Ql,{size:20})})]}),i.jsx("h2",{id:"login-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Iniciar Sesión"}),i.jsx(Vt,{children:o&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${p==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:o})}),i.jsxs("form",{onSubmit:E,className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx($l,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{ref:v,type:"text",placeholder:"Nombre de usuario o correo electrónico",value:t,onChange:U=>e(U.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario o correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs("div",{className:"relative",children:[i.jsx(tb,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{type:s?"text":"password",placeholder:"Contraseña",value:r,onChange:U=>n(U.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contraseña",required:!0,whileFocus:{scale:1.02}}),i.jsx("button",{type:"button",onClick:I,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":s?"Ocultar contraseña":"Mostrar contraseña",children:s?i.jsx(B5,{size:18}):i.jsx(U5,{size:18})})]}),i.jsxs(Z.button,{type:"submit",disabled:d,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${d?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${p==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Iniciar sesión",whileHover:{scale:d?1:1.05},whileTap:{scale:d?1:.95},children:[d?i.jsxs(Z.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):i.jsx(Yy,{className:"mr-2"}),d?"Cargando...":"Iniciar Sesión"]})]}),i.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[i.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿No tienes una cuenta?"," ",i.jsx(ws,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regístrate aquí"})]}),i.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Olvidaste tu contraseña?"," ",i.jsx(ws,{to:"/forgot-password",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Recuperar contraseña",children:"Recupérala aquí"})]})]})]})}),i.jsx("footer",{className:`${p==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(Yl,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${p==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Xl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Kl,{size:24})})]})]})})]})},tH=()=>{const t=[{name:"Perú",code:"+51",flag:"🇵🇪",pattern:/^\d{9}$/,length:9},{name:"Estados Unidos",code:"+1",flag:"🇺🇸",pattern:/^\d{10}$/,length:10},{name:"México",code:"+52",flag:"🇲🇽",pattern:/^\d{10}$/,length:10},{name:"Argentina",code:"+54",flag:"🇦🇷",pattern:/^\d{10}$/,length:10},{name:"Chile",code:"+56",flag:"🇨🇱",pattern:/^\d{9}$/,length:9},{name:"Colombia",code:"+57",flag:"🇨🇴",pattern:/^\d{10}$/,length:10}],[e,r]=T.useState(""),[n,s]=T.useState(""),[a,o]=T.useState(""),[u,d]=T.useState(""),[h,p]=T.useState(""),[g,y]=T.useState(t[0]),[v,k]=T.useState(!1),[w,E]=T.useState(""),[D,I]=T.useState(!1),[U,O]=T.useState(!1),[X,B]=T.useState(()=>localStorage.getItem("theme")||"dark"),A=La(),S=T.useRef(null);T.useEffect(()=>{localStorage.setItem("theme",X),document.documentElement.classList.toggle("dark",X==="dark")},[X]),T.useEffect(()=>{const Se=en.onAuthStateChanged(Ie=>{Ie&&!U&&A("/")});return()=>Se()},[A,U]),T.useEffect(()=>{S.current?.focus()},[]);const C=T.useCallback(async()=>e?/^[a-zA-Z0-9_]{3,20}$/.test(e)?(await Za(ht(je,"usernames",e.toLowerCase()))).exists()?"El nombre de usuario ya está en uso":n?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?a?g.pattern.test(a)?u?u.length<6?"La contraseña debe tener al menos 6 caracteres":"":"Por favor, ingresa una contraseña":`El número de teléfono debe tener exactamente ${g.length} dígitos`:"Por favor, ingresa tu número de teléfono":"Correo electrónico inválido":"Por favor, ingresa tu correo electrónico":"El nombre de usuario debe tener entre 3 y 20 caracteres alfanuméricos":"Por favor, ingresa un nombre de usuario",[e,n,a,u,g]),R=T.useCallback(async Se=>{Se.preventDefault();const Ie=await C();if(Ie){E(Ie);return}E(""),I(!0),O(!0);try{const Le=(await rF(en,n,u)).user;console.log("Usuario creado en Auth:",Le.uid),await aF(Le,{displayName:e}),console.log("Perfil actualizado con username:",e);const _e=Le.uid.slice(-6).toUpperCase();let ie=null;if(h){const de=tr(kt(je,"users"),vr("referralCode","==",h)),se=await tn(de);if(!se.empty)ie=se.docs[0].id,console.log(`Referred by UID: ${ie}`);else{E("Código de referido inválido"),console.warn(`Invalid referral code: ${h}`),I(!1),O(!1);return}}await ci(ht(je,"users",Le.uid),{username:e.toLowerCase(),email:n.toLowerCase(),phone:`${g.code}${a}`,phoneCountryCode:g.code,phoneCountryName:g.name,phoneDigits:a,referralCode:_e,referredBy:ie,balance:0,createdAt:new Date}),console.log('Datos guardados en colección "users" con ID:',Le.uid),await ci(ht(je,"usernames",e.toLowerCase()),{email:n.toLowerCase(),uid:Le.uid}),console.log('Mapping guardado en colección "usernames" con ID:',e.toLowerCase()),r(""),s(""),o(""),d(""),p(""),A("/")}catch($e){console.error("Error en registro:",$e),E($e.code==="auth/email-already-in-use"?"El correo electrónico ya está registrado":$e.code==="auth/invalid-email"?"Correo electrónico inválido":$e.code==="auth/weak-password"?"La contraseña es demasiado débil":"Error al registrarse. Por favor, intenta de nuevo.")}finally{I(!1),O(!1)}},[e,n,a,u,h,g,A,C]),F=T.useCallback(()=>{B(Se=>Se==="dark"?"light":"dark")},[]),W=T.useCallback(()=>{k(Se=>!Se)},[]),M=T.useCallback(Se=>{const Ie=Se.target.value,$e=t.find(Le=>Le.code===Ie)||g;y($e),a.length>$e.length&&o(a.slice(0,$e.length))},[g,a]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${X==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[i.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:i.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full backdrop-blur-sm ${X==="dark"?"bg-gray-800/50 text-gray-400 border border-gray-600/30":"bg-white/70 text-gray-600 border border-gray-300/30"}`,children:"V2.1.2"})}),i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${X==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((Se,Ie)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ie))})]}),i.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${X==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"register-title",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Z.img,{src:ec,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${X==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:F,className:`p-2 rounded-full ${X==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${X==="dark"?"claro":"oscuro"}`,children:X==="dark"?i.jsx(Jl,{size:20}):i.jsx(Ql,{size:20})})]}),i.jsx(Vt,{children:i.jsx(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:`${X==="dark"?"bg-green-900/30 border-green-600/30 text-green-200":"bg-green-100/50 border-green-300/30 text-green-800"} rounded-lg p-3 mb-6 text-center text-sm border-l-4 font-semibold`,role:"banner",children:"¡Regístrate gratis ahora!"})}),i.jsx("h2",{id:"register-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Registrarse"}),i.jsx(Vt,{children:w&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${X==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:w})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx($l,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{ref:S,type:"text",placeholder:"Elige un nombre de usuario",value:e,onChange:Se=>r(Se.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs("div",{className:"relative",children:[i.jsx(xu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{type:"email",placeholder:"Tu correo electrónico",value:n,onChange:Se=>s(Se.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs("div",{className:"relative flex items-center",children:[i.jsx(tz,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsxs("div",{className:"flex w-full",children:[i.jsx("select",{value:g.code,onChange:M,className:`flex items-center pl-3 pr-3 py-3 rounded-l-full text-sm font-medium cursor-pointer appearance-none bg-transparent border border-r-0 focus:outline-none focus:ring-2 focus:ring-blue-500/50 backdrop-blur-xl transition-all duration-300 hover:shadow-lg ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"}`,children:t.map(Se=>i.jsxs("option",{value:Se.code,children:[Se.flag," ",Se.name," (",Se.code,")"]},Se.code))}),i.jsx(Z.input,{type:"tel",placeholder:`Número de teléfono (${g.name})`,value:a,onChange:Se=>o(Se.target.value.replace(/\D/g,"")),className:`flex-1 pl-4 pr-4 py-3 rounded-r-full border border-l-0 focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"}`,"aria-label":"Número de teléfono",required:!0,maxLength:g.length,whileFocus:{scale:1.02}})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(tb,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{type:v?"text":"password",placeholder:"Elige una contraseña",value:u,onChange:Se=>d(Se.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contraseña",required:!0,whileFocus:{scale:1.02}}),i.jsx("button",{onClick:W,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":v?"Ocultar contraseña":"Mostrar contraseña",children:v?i.jsx(B5,{size:18}):i.jsx(U5,{size:18})})]}),i.jsxs("div",{className:"relative",children:[i.jsx($l,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{type:"text",placeholder:"Código de referido (opcional)",value:h,onChange:Se=>p(Se.target.value.trim().toUpperCase()),className:`w-full pl-12 pr-4 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Código de referido",whileFocus:{scale:1.02}}),i.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-xs italic text-gray-500",children:"opcional"})]}),i.jsxs(Z.button,{onClick:R,disabled:D,className:`w-full bg-green-600/90 backdrop-blur-xl py-3 rounded-full ${D?"opacity-50 cursor-not-allowed":"hover:bg-green-700/95"} text-sm border ${X==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Registrarse",whileHover:{scale:D?1:1.05},whileTap:{scale:D?1:.95},children:[D?i.jsxs(Z.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V8h8a8 8 0 01-16 0z"})]}):i.jsx(Qy,{className:"mr-2"}),D?"Cargando...":"Registrarse"]})]}),i.jsxs("p",{className:`text-center text-sm mt-6 ${X==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Ya tienes una cuenta?"," ",i.jsx(ws,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesión",children:"Inicia sesión aquí"})]})]})}),i.jsx("footer",{className:`${X==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${X==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${X==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(Yl,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${X==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Xl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${X==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Kl,{size:24})})]})]})})]})},rH=()=>{const[t,e]=T.useState(""),[r,n]=T.useState(""),[s,a]=T.useState(""),[o,u]=T.useState(!1),[d,h]=T.useState(()=>localStorage.getItem("theme")||"dark"),p=La(),g=T.useRef(null);T.useEffect(()=>{localStorage.setItem("theme",d),document.documentElement.classList.toggle("dark",d==="dark")},[d]),T.useEffect(()=>{const w=en.onAuthStateChanged(E=>{E&&p("/")});return()=>w()},[p]),T.useEffect(()=>{g.current?.focus()},[]);const y=T.useCallback(()=>t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"":"Correo electrónico inválido":"Por favor, ingresa tu correo electrónico",[t]),v=T.useCallback(async w=>{w.preventDefault();const E=y();if(E){n(E),a("");return}n(""),a(""),u(!0);try{await tF(en,t),a("Se ha enviado un enlace de restablecimiento de contraseña a tu correo electrónico."),e("")}catch(D){n(D.code==="auth/user-not-found"?"No se encontró un usuario con este correo electrónico":D.code==="auth/invalid-email"?"Correo electrónico inválido":D.code==="auth/too-many-requests"?"Demasiados intentos. Intenta de nuevo más tarde.":"Error al enviar el enlace de restablecimiento. Por favor, intenta de nuevo.")}finally{u(!1)}},[t,y]),k=T.useCallback(()=>{h(w=>w==="dark"?"light":"dark")},[]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${d==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${d==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((w,E)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},E))})]}),i.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${d==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"forgot-password-title",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Z.img,{src:ec,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${d==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:k,className:`p-2 rounded-full ${d==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${d==="dark"?"claro":"oscuro"}`,children:d==="dark"?i.jsx(Jl,{size:20}):i.jsx(Ql,{size:20})})]}),i.jsx("h2",{id:"forgot-password-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Recuperar Contraseña"}),i.jsxs(Vt,{children:[r&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:r}),s&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:s})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(xu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${d==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{ref:g,type:"email",placeholder:"Tu correo electrónico",value:t,onChange:w=>e(w.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${d==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs(Z.button,{onClick:v,disabled:o,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${o?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${d==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Enviar enlace de restablecimiento",whileHover:{scale:o?1:1.05},whileTap:{scale:o?1:.95},children:[o?i.jsxs(Z.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):i.jsx(xu,{className:"mr-2"}),o?"Cargando...":"Enviar Enlace de Restablecimiento"]})]}),i.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[i.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Ya tienes una cuenta?"," ",i.jsx(ws,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesión",children:"Inicia sesión aquí"})]}),i.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿No tienes una cuenta?"," ",i.jsx(ws,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regístrate aquí"})]})]})]})}),i.jsx("footer",{className:`${d==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(Yl,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${d==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Xl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Kl,{size:24})})]})]})})]})},nH=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Ws,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,t6=({isOpen:t,user:e,onClose:r,onSave:n,theme:s="dark"})=>{const a=s==="dark",[o,u]=T.useState(e?.username||""),[d,h]=T.useState(""),p={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},g={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},y=v=>{if(v.preventDefault(),h(""),!o.trim()){h("El nombre de usuario no puede estar vacío.");return}n(e.id,o.trim())};return t?i.jsx(Z.div,{className:`fixed inset-0 ${a?"bg-black/70":"bg-black/50"} flex items-center justify-center z-50 p-4`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},role:"dialog","aria-modal":"true","aria-labelledby":"edit-profile-title",children:i.jsx(Z.div,{className:`rounded-2xl shadow-md w-full max-w-md border ${a?"bg-gray-900/90 border-gray-700/50":"bg-white border-gray-300"}`,variants:p,initial:"hidden",animate:"visible",exit:"exit",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{id:"edit-profile-title",className:"text-xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Editar Perfil"}),i.jsx(Z.button,{onClick:r,className:`${a?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:i.jsx(Ws,{size:20})})]}),i.jsxs("form",{onSubmit:y,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block mb-2 font-semibold ${a?"text-gray-300":"text-gray-700"}`,children:"Nombre de usuario"}),i.jsx("input",{type:"text",value:o,onChange:v=>u(v.target.value),className:`w-full px-4 py-2 rounded-xl ${a?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,required:!0,"aria-label":"Nombre de usuario"}),d&&i.jsx("p",{className:`text-sm mt-2 ${a?"text-red-400":"text-red-600"}`,children:d})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx(Z.button,{type:"button",onClick:r,className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${a?"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-400":"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar edición",children:"Cancelar"}),i.jsx(Z.button,{type:"submit",className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${a?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Guardar perfil",children:"Guardar"})]})]})]})})}):null};t6.propTypes={isOpen:G.bool.isRequired,user:G.shape({id:G.string.isRequired,username:G.string.isRequired}).isRequired,onClose:G.func.isRequired,onSave:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const r6=({isOpen:t,provider:e,onClose:r,onRate:n,theme:s="dark"})=>{const a=s==="dark",[o,u]=T.useState(0),[d,h]=T.useState(""),p={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},g={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.2}}},y={hover:{scale:1.2,y:-5,transition:{duration:.2,type:"spring"}},tap:{scale:.95}},v={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},k=E=>{if(E.preventDefault(),h(""),o<1||o>5){h("Por favor, selecciona una calificación entre 1 y 5 estrellas.");return}n(e.id,o),u(0)},w=E=>{u(E),h("")};return t?i.jsx(Vt,{children:i.jsx(Z.div,{className:`fixed inset-0 ${a?"bg-black/70 backdrop-blur-sm":"bg-black/50 backdrop-blur-sm"} flex items-center justify-center z-50 p-4`,variants:p,initial:"hidden",animate:"visible",exit:"exit",onClick:r,role:"dialog","aria-modal":"true","aria-labelledby":"rate-provider-title",children:i.jsx(Z.div,{className:`rounded-3xl shadow-2xl w-full max-w-md border ${a?"bg-gradient-to-br from-gray-900/95 to-gray-800/95 border-gray-700/50":"bg-gradient-to-br from-white to-gray-50 border-gray-200/50"}`,variants:g,initial:"hidden",animate:"visible",exit:"exit",onClick:E=>E.stopPropagation(),children:i.jsxs("div",{className:"p-6 sm:p-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx(Z.h2,{id:"rate-provider-title",className:`text-xl sm:text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${a?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{x:-10},animate:{x:0},transition:{duration:.5},children:"Calificar Proveedor"}),i.jsx(Z.button,{onClick:r,className:`p-2 rounded-2xl ${a?"text-gray-400 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200 hover:text-gray-900"} transition-all duration-300`,variants:v,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:i.jsx(Ws,{size:20})})]}),i.jsxs("form",{onSubmit:k,className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:`inline-flex items-center gap-2 p-3 rounded-2xl mb-4 ${a?"bg-gray-800/50":"bg-gray-100"}`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:i.jsx(ks,{className:"text-white text-sm"})}),i.jsx("span",{className:`font-semibold ${a?"text-white":"text-gray-900"}`,children:e.name})]}),i.jsx("div",{className:"flex justify-center space-x-1 mb-4",children:[1,2,3,4,5].map(E=>i.jsx(Z.button,{type:"button",onClick:()=>w(E),className:`p-1 focus:outline-none focus:ring-2 focus:ring-yellow-500/50 rounded-full transition-all duration-200 ${E<=o?a?"text-yellow-400 hover:text-yellow-300":"text-yellow-600 hover:text-yellow-500":a?"text-gray-500 hover:text-gray-400":"text-gray-400 hover:text-gray-500"}`,variants:y,whileHover:"hover",whileTap:"tap","aria-label":`Seleccionar ${E} estrella${E>1?"s":""}`,children:i.jsx(Eu,{size:28})},E))}),i.jsx("p",{className:`text-sm font-medium ${a?"text-gray-300":"text-gray-700"}`,children:o>0?`Calificación seleccionada: ${o} estrella${o>1?"s":""}`:"Selecciona una calificación"})]}),d&&i.jsx(Z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-3 rounded-xl ${a?"bg-red-900/50 border border-red-500/30 text-red-300":"bg-red-50 border border-red-200 text-red-700"}`,children:d}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200/50 dark:border-gray-700/50",children:[i.jsx(Z.button,{type:"button",onClick:r,className:`px-6 py-3 rounded-2xl font-semibold transition-all duration-300 ${a?"bg-gray-600/70 hover:bg-gray-700/80 text-white focus:ring-gray-500/50":"bg-gray-400/70 hover:bg-gray-500/80 text-white focus:ring-gray-500/50"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:v,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar calificación",children:"Cancelar"}),i.jsxs(Z.button,{type:"submit",disabled:o===0,className:`px-6 py-3 rounded-2xl font-semibold flex items-center gap-2 transition-all duration-300 ${o>0?a?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-400":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-500":a?"bg-gray-600/70 text-gray-400 cursor-not-allowed":"bg-gray-400/70 text-gray-500 cursor-not-allowed"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:v,whileHover:o>0?"hover":{},whileTap:o>0?"tap":{},"aria-label":"Enviar calificación",children:[i.jsx(Eu,{size:18,className:"text-yellow-400"}),i.jsx("span",{children:"Enviar Calificación"})]})]})]})]})})})}):null};r6.propTypes={isOpen:G.bool.isRequired,provider:G.shape({id:G.string.isRequired,name:G.string.isRequired}).isRequired,onClose:G.func.isRequired,onRate:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const sH=({userName:t,email:e,balance:r,orders:n,notifications:s,setActivePage:a,formatDate:o,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${d?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Bienvenido, ",i.jsx("span",{className:"text-red-400",children:t.username})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ks,{size:20}),"Información de cuenta"]}),i.jsxs("div",{className:`space-y-4 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(ks,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsx("span",{className:"font-medium",children:t.username})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(Ur,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsx("span",{className:"font-medium",children:e})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(x0,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsx("span",{className:"font-medium",children:t.phone||"No especificado"})]})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-green-400":"text-green-600"}`,children:[i.jsx(x0,{size:20}),"Saldo disponible"]}),i.jsxs("p",{className:`text-4xl font-bold ${d?"text-white":"text-gray-900"}`,children:["S/ ",r.toFixed(2)]}),i.jsx(Z.button,{onClick:()=>a("recargar"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${d?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Recargar Saldo"})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-purple-400":"text-purple-600"}`,children:[i.jsx(Ur,{size:20}),"Pedidos activos"]}),i.jsx("p",{className:`text-4xl font-bold ${d?"text-white":"text-gray-900"}`,children:n.filter(g=>new Date(g.endDate)>new Date&&(g.status==="completed"||g.status==="active")).length}),i.jsx(Z.button,{onClick:()=>a("pedidos"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${d?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Pedidos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[i.jsx(Ur,{size:20}),"Pedidos recientes"]}),i.jsx(Vt,{children:n.length>0?n.slice(0,3).map((g,y)=>{const v=new Date(g.endDate)>new Date&&(g.status==="completed"||g.status==="active"),k=g.status==="pending";return i.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:y*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"}`,children:g.productName||"Producto sin nombre"}),i.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${g.status==="pending"?d?"bg-yellow-900/80 text-yellow-300 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":v?d?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":d?"bg-red-900/80 text-red-300 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:k?"A pedido":v?"Activo":"Expirado"})]}),i.jsxs("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:["Vence: ",o(g.endDate)]})]},g.id)}):i.jsx(Z.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${d?"text-gray-400":"text-gray-500"}`,children:"No tienes pedidos recientes"})}),n.length>3&&i.jsx(Z.button,{onClick:()=>a("pedidos"),className:`w-full mt-4 px-6 py-3 text-center text-sm transition-all duration-300 rounded-xl border-2 font-medium ${d?"border-blue-500/50 text-blue-400 hover:bg-blue-500/10":"border-blue-500/50 text-blue-600 hover:bg-blue-500/10"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver todos los pedidos"})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[i.jsx(oa,{size:20}),"Notificaciones"]}),i.jsx(Vt,{children:s.length>0?s.map((g,y)=>i.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,delay:y*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[i.jsx("p",{className:`font-medium ${d?"text-gray-300":"text-gray-700"}`,children:g.message}),i.jsx("p",{className:`text-xs mt-2 ${d?"text-gray-400":"text-gray-500"}`,children:o(g.updatedAt?.toDate?.()||new Date)})]},g.id)):i.jsx(Z.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${d?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})})]})]}),i.jsxs(Z.div,{className:`rounded-3xl p-6 shadow-2xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-xl font-bold mb-6 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[i.jsx(Ur,{size:24}),"Únete a nuestros grupos"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{href:"https://chat.whatsapp.com/IG8v1E00lAD6RIOo7ZB5Kv",icon:Ur,title:"Avisos",subtitle:"Grupo de WhatsApp",color:"from-green-500 to-emerald-600"},{href:"https://chat.whatsapp.com/Gs6kTW4DBTi7dEMhnZV1yb",icon:Ur,title:"General",subtitle:"Grupo de WhatsApp",color:"from-blue-500 to-cyan-600"},{href:"https://chat.whatsapp.com/BqCOR6w8002695hbYXf5KA",icon:Ur,title:"Publicidad",subtitle:"Grupo de WhatsApp",color:"from-purple-500 to-pink-600"}].map((g,y)=>i.jsxs(Z.a,{href:g.href,target:"_blank",rel:"noopener noreferrer",className:`flex items-center p-4 rounded-2xl transition-all duration-300 border group ${d?"bg-gray-700/50 hover:bg-gray-600/70 border-gray-600/50":"bg-gray-200/50 hover:bg-gray-300/70 border-gray-300/50"}`,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[i.jsx(Z.div,{className:`flex-shrink-0 p-3 rounded-xl mr-4 bg-gradient-to-br ${g.color} text-white shadow-lg`,whileHover:{scale:1.1},children:i.jsx(g.icon,{size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"} group-hover:text-blue-500 transition-colors`,children:g.title}),i.jsx("p",{className:`text-sm ${d?"text-gray-300":"text-gray-600"}`,children:g.subtitle})]})]},y))})]})]})},n6=({notifications:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:s,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"notifications-title",children:[i.jsxs(Z.h3,{id:"notifications-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Notificaciones",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${n?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:t.length})]}),i.jsx(Vt,{children:t.length>0?i.jsx(Z.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.map((o,u)=>i.jsx(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm transition-all duration-300 ${n?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:a,whileHover:"hover",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:u*.1},"aria-labelledby":`notification-${o.id}-title`,children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 pt-1",children:i.jsx(g0,{className:`text-xl ${n?"text-blue-400":"text-blue-600"}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{id:`notification-${o.id}-title`,className:`font-semibold text-base ${n?"text-white":"text-gray-900"} mb-2`,children:o.message}),i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:e(o.updatedAt?.toDate?.()||new Date)})]})]})},o.id))}):i.jsxs(Z.div,{className:"text-center py-16",variants:a,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${n?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(g0,{className:"text-white",size:32})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"No hay notificaciones"}),i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"No tienes mensajes nuevos. ¡Vuelve pronto para ver actualizaciones!"})]})})]})};n6.propTypes={notifications:G.arrayOf(G.shape({id:G.string.isRequired,message:G.string.isRequired,updatedAt:G.oneOfType([G.instanceOf(Date),G.shape({toDate:G.func})])})).isRequired,formatDate:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const aH="/assets/yape-sz-D-gX92Ca.png",iH="/assets/binance-sz-CGisVpHF.png",s6=({amount:t,setAmount:e,topUps:r,actionLoading:n,handleTopUpRequest:s,formatDate:a,theme:o="dark"})=>{const u=o==="dark",[d,h]=T.useState("PEN"),[p,g]=T.useState(3.75),[y,v]=T.useState(!1),[k,w]=T.useState(!1),[E,D]=T.useState(""),[I,U]=T.useState(5),O={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}};T.useEffect(()=>{(async()=>{v(!0),w(!1);try{const W=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!W.ok)throw new Error("API request failed");const Se=(await W.json()).rates.PEN||3.75;g(Se*1.1)}catch(W){console.error("Error fetching exchange rate:",W),w(!0)}finally{v(!1)}})()},[]),T.useEffect(()=>{const F=Math.ceil(I/(p/1.1));U(d==="PEN"?5:F)},[d,p]),T.useEffect(()=>{const F=parseFloat(E);if(isNaN(F))e("");else{const W=d==="USD"?F*p:F;e(W.toFixed(2))}},[E,d,p,e]);const X=F=>{const W=F.target.value;(/^\d*\.?\d{0,2}$/.test(W)||W==="")&&D(W)},B=parseFloat(E),A=d==="USD"?B*p:B,S=isNaN(A)?"0.00":A.toFixed(2),C=!isNaN(B)&&B>=I,R=`Hola 😊, he realizado una recarga a través de ${d==="PEN"?"Yape":"Binance"} por ${d==="PEN"?`S/ ${S}`:`$ ${B?.toFixed(2)||"0.00"} (equivalente a S/ ${S})`}. Por favor, confirma mi pago.`;return i.jsxs(Z.div,{className:"space-y-8 max-w-6xl mx-auto px-4 sm:px-0",variants:O,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"topup-title",children:[i.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[i.jsx("h3",{id:"topup-title",className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Recargar saldo"}),i.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Moneda"}),i.jsxs("select",{value:d,onChange:F=>{h(F.target.value),D(""),e("")},className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,"aria-label":"Seleccionar moneda",children:[i.jsx("option",{value:"PEN",children:"S/ (PEN)"}),i.jsx("option",{value:"USD",children:"$ (USD)"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:["Monto a recargar (",d==="PEN"?"S/":"$",")"]}),i.jsx("input",{type:"number",value:E,onChange:X,className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 ${!C&&E?"border-red-500 focus:ring-red-400":""}`,placeholder:`Mínimo ${d==="PEN"?"S/ 5.00":`$${I.toFixed(2)}`}`,min:I,step:"0.01","aria-label":`Monto a recargar en ${d}`,"aria-invalid":!C&&E}),d==="USD"&&!isNaN(B)&&i.jsxs("p",{className:`text-sm mt-2 ${k?"text-red-400":u?"text-gray-400":"text-gray-600"}`,children:[k?"Error al cargar tasa. Usando tasa por defecto.":`Equivalente: S/ ${S} (Tasa: 1 USD ≈ ${p.toFixed(2)} PEN)`,y&&" (Cargando tasa...)"]}),!C&&E&&i.jsxs("p",{className:"text-sm text-red-400 mt-1",children:["Monto mínimo: ",d==="PEN"?"S/ 5.00":`$${I.toFixed(2)}`]})]}),i.jsx(Z.button,{onClick:s,disabled:n.topUp||!C,className:`w-full py-3 px-4 rounded-xl font-medium text-lg transition-all duration-300 ${C&&!n.topUp?u?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500":"bg-gray-300 text-gray-500 cursor-not-allowed"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:C&&!n.topUp?1.05:1},whileTap:{scale:C&&!n.topUp?.95:1},"aria-label":"Solicitar recarga",children:n.topUp?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin h-6 w-6 border-3 border-white rounded-full border-t-transparent mr-2"}),"Procesando..."]}):"Solicitar recarga"})]}),i.jsx("div",{className:`mt-8 p-6 rounded-2xl border ${u?"bg-gray-800/50 border-gray-700/30":"bg-gray-100 border-gray-300"} max-w-lg mx-auto`,children:i.jsxs(Z.div,{className:"animate-fade-in",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[i.jsxs("h4",{className:`text-lg font-semibold ${u?"text-blue-400":"text-blue-600"} mb-4 flex items-center`,children:[i.jsx(Us,{className:"mr-2"})," Pago con ",d==="PEN"?"Yape":"Binance"]}),i.jsxs("p",{className:`mb-3 ${u?"text-gray-300":"text-gray-700"}`,children:["Escanea el código QR",d==="PEN"?" o usa Yape con el número:":"."]}),d==="PEN"&&i.jsx("p",{className:`text-xl font-bold ${u?"text-white":"text-gray-900"} mb-3 text-center`,children:"📱 940505969"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:`p-4 rounded-xl shadow-md ${u?"bg-white border-4 border-blue-600":"bg-white border border-gray-300"}`,children:i.jsx("img",{src:d==="PEN"?aH:iH,alt:`${d==="PEN"?"Yape":"Binance"} QR Code`,className:"w-48 h-48 object-contain",loading:"lazy"})})}),i.jsxs("p",{className:`mb-4 ${u?"text-gray-300":"text-gray-700"} text-center`,children:["Realiza el pago de ",d==="PEN"?`S/ ${S}`:`$ ${B?.toFixed(2)||"0.00"} (S/ ${S})`,". Confirma tu recarga vía WhatsApp."]}),i.jsxs(Z.a,{href:`https://wa.me/51940505969?text=${encodeURIComponent(R)}`,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center w-full px-6 py-3 rounded-xl font-medium transition-all duration-300 ${u?"bg-green-500 hover:bg-green-600 text-white focus:ring-green-400":"bg-green-500 hover:bg-green-600 text-white focus:ring-green-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Confirmar pago por WhatsApp con ${d==="PEN"?"Yape":"Binance"}`,children:[i.jsx(Ur,{className:"mr-2"})," Confirmar por WhatsApp"]})]})})]}),i.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[i.jsx("h3",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Historial de recargas"}),r.length>0?i.jsx("div",{className:"overflow-x-auto rounded-xl border",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${u?"bg-gray-800/50":"bg-gray-100"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),i.jsx("tbody",{className:`${u?"bg-gray-800/50":"bg-white"} divide-y ${u?"divide-gray-600/50":"divide-gray-200"}`,children:r.map(F=>{const W=F.status==="aprobado"?"Aprobado":F.status==="pendiente"?"Pendiente":"Rechazado",M=F.status==="aprobado"?"green":F.status==="pendiente"?"yellow":"red";return i.jsxs("tr",{className:`${u?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,children:[i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap font-medium ${u?"text-white":"text-gray-900"}`,children:["S/ ",F.amount.toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full capitalize ${u?`bg-${M}-900/80 text-${M}-400`:`bg-${M}-500/20 text-${M}-600`}`,children:W})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${u?"text-gray-400":"text-gray-600"}`,children:a(F.date)})]},F.id)})})]})}):i.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-12",children:[i.jsx(Us,{className:`mx-auto text-4xl ${u?"text-gray-400":"text-gray-500"} mb-4`}),i.jsx("p",{className:`text-lg ${u?"text-gray-400":"text-gray-600"}`,children:"No hay recargas registradas"})]})]})]})};s6.propTypes={amount:G.oneOfType([G.string,G.number]).isRequired,setAmount:G.func.isRequired,topUps:G.arrayOf(G.shape({id:G.string.isRequired,amount:G.oneOfType([G.string,G.number]).isRequired,status:G.string.isRequired,date:G.oneOfType([G.instanceOf(Date),G.string]).isRequired})).isRequired,actionLoading:G.shape({topUp:G.bool}).isRequired,handleTopUpRequest:G.func.isRequired,formatDate:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const a6=({providers:t,openRateProviderModal:e,deleteRatingProvider:r,theme:n="dark"})=>{const s=n==="dark",a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},o={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${s?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:a,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"providers-title",children:[i.jsxs(Z.h3,{id:"providers-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Proveedores",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${s?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:t.length})]}),i.jsx(Vt,{children:t.length>0?i.jsx(Z.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.map((u,d)=>i.jsx(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm transition-all duration-300 ${s?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:o,whileHover:"hover","aria-labelledby":`provider-${u.id}-title`,children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:i.jsx(ks,{className:"text-white",size:24})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{id:`provider-${u.id}-title`,className:`font-bold text-lg ${s?"text-white":"text-gray-900"}`,children:u.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(x0,{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`}),i.jsx("span",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:u.phone})]}),u.hasRated&&i.jsx("div",{className:"flex items-center gap-2 mt-2",children:i.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((h,p)=>i.jsx(Eu,{size:16,className:`${p<u.rating?"text-yellow-400 fill-current":s?"text-gray-600":"text-gray-400"}`},p))})})]})]}),u.hasRated?i.jsxs(Z.button,{onClick:()=>r(u),className:`px-4 py-2 rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${s?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-400":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-500"}`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Eliminar valoración del proveedor ${u.name}`,children:[i.jsx(ib,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:"Eliminar"})]}):i.jsxs(Z.button,{onClick:()=>e(u),className:`px-6 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${s?"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white focus:ring-purple-400":"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white focus:ring-purple-500"}`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Calificar al proveedor ${u.name}`,children:[i.jsx(Eu,{size:18}),i.jsx("span",{children:"Calificar"})]})]})},u.id))}):i.jsxs(Z.div,{className:"text-center py-16",variants:o,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${s?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:i.jsx(ks,{className:"text-white",size:32})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"No hay proveedores"}),i.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"No has realizado compras con proveedores aún. ¡Tu primer pedido desbloqueará esta sección!"})]})})]})};a6.propTypes={providers:G.arrayOf(G.shape({id:G.string.isRequired,name:G.string.isRequired,phone:G.string.isRequired,hasRated:G.bool.isRequired,rating:G.number})).isRequired,openRateProviderModal:G.func.isRequired,deleteRatingProvider:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Pp={};Pp.version="0.18.5";var i6=1252,oH=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],o6=function(t){oH.indexOf(t)!=-1&&(i6=t)};function lH(){o6(1252)}var y0=function(t){o6(t)};function cH(){y0(1200),lH()}var Ef=function(e){return String.fromCharCode(e)},iT=function(e){return String.fromCharCode(e)},Rp,So="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function v0(t){for(var e="",r=0,n=0,s=0,a=0,o=0,u=0,d=0,h=0;h<t.length;)r=t.charCodeAt(h++),a=r>>2,n=t.charCodeAt(h++),o=(r&3)<<4|n>>4,s=t.charCodeAt(h++),u=(n&15)<<2|s>>6,d=s&63,isNaN(n)?u=d=64:isNaN(s)&&(d=64),e+=So.charAt(a)+So.charAt(o)+So.charAt(u)+So.charAt(d);return e}function Hi(t){var e="",r=0,n=0,s=0,a=0,o=0,u=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)a=So.indexOf(t.charAt(h++)),o=So.indexOf(t.charAt(h++)),r=a<<2|o>>4,e+=String.fromCharCode(r),u=So.indexOf(t.charAt(h++)),n=(o&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(n)),d=So.indexOf(t.charAt(h++)),s=(u&3)<<6|d,d!==64&&(e+=String.fromCharCode(s));return e}var dr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ki=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Vl(t){return dr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function oT(t){return dr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Na=function(e){return dr?Ki(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Im(t){if(typeof ArrayBuffer>"u")return Na(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function K0(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function uH(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Ln=dr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ki(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function dH(t){for(var e=[],r=0,n=t.length+250,s=Vl(t.length+255),a=0;a<t.length;++a){var o=t.charCodeAt(a);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var u=t.charCodeAt(++a)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|u>>6&15|(o&3)<<4,s[r++]=128|u&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(e.push(s.slice(0,r)),r=0,s=Vl(65535),n=65530)}return e.push(s.slice(0,r)),Ln(e)}var Wd=/\u0000/g,Tf=/[\u0001-\u0006]/g;function au(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Ca(t,e){var r=""+t;return r.length>=e?r:Kr("0",e-r.length)+r}function ob(t,e){var r=""+t;return r.length>=e?r:Kr(" ",e-r.length)+r}function Dp(t,e){var r=""+t;return r.length>=e?r:r+Kr(" ",e-r.length)}function hH(t,e){var r=""+Math.round(t);return r.length>=e?r:Kr("0",e-r.length)+r}function fH(t,e){var r=""+t;return r.length>=e?r:Kr("0",e-r.length)+r}var lT=Math.pow(2,32);function $c(t,e){if(t>lT||t<-lT)return hH(t,e);var r=Math.round(t);return fH(r,e)}function Op(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var cT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Gx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function pH(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var Yr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},uT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mH={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Fp(t,e,r){for(var n=t<0?-1:1,s=t*n,a=0,o=1,u=0,d=1,h=0,p=0,g=Math.floor(s);h<e&&(g=Math.floor(s),u=g*o+a,p=g*h+d,!(s-g<5e-8));)s=1/(s-g),a=o,o=u,d=h,h=p;if(p>e&&(h>e?(p=d,u=a):(p=h,u=o)),!r)return[0,n*u,p];var y=Math.floor(n*u/p);return[y,n*u-y*p,p]}function kf(t,e,r){if(t>2958465||t<0)return null;var n=t|0,s=Math.floor(86400*(t-n)),a=0,o=[],u={D:n,T:s,u:86400*(t-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++s==86400&&(u.T=s=0,++n,++u.D)),n===60)o=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],a=d.getDay(),n<60&&(a=(a+6)%7),r&&(a=_H(d,o))}return u.y=o[0],u.m=o[1],u.d=o[2],u.S=s%60,s=Math.floor(s/60),u.M=s%60,s=Math.floor(s/60),u.H=s,u.q=a,u}var l6=new Date(1899,11,31,0,0,0),gH=l6.getTime(),xH=new Date(1900,2,1,0,0,0);function c6(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=xH&&(r+=1440*60*1e3),(r-(gH+(t.getTimezoneOffset()-l6.getTimezoneOffset())*6e4))/(1440*60*1e3)}function lb(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function yH(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function vH(t){var e=t<0?12:11,r=lb(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function bH(t){var e=lb(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function wH(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=vH(t):e===10?r=t.toFixed(10).substr(0,12):r=bH(t),lb(yH(r.toUpperCase()))}function Jy(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):wH(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ho(14,c6(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function _H(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function EH(t,e,r,n){var s="",a=0,o=0,u=r.y,d,h=0;switch(t){case 98:u=r.y+543;case 121:switch(e.length){case 1:case 2:d=u%100,h=2;break;default:d=u%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:d=r.m,h=e.length;break;case 3:return Gx[r.m-1][1];case 5:return Gx[r.m-1][0];default:return Gx[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=r.d,h=e.length;break;case 3:return cT[r.q][0];default:return cT[r.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(r.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=r.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=r.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Ca(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,a=Math.round(o*(r.S+r.u)),a>=60*o&&(a=0),e==="s"?a===0?"0":""+a/o:(s=Ca(a,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:d=u,h=1;break}var p=h>0?Ca(d,h):"";return p}function Ao(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var u6=/%/g;function TH(t,e,r){var n=e.replace(u6,""),s=e.length-n.length;return Di(t,n,r*Math.pow(10,2*s))+Kr("%",s)}function kH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Di(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function d6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+d6(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(s+a)%s)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var h6=/# (\?+)( ?)\/( ?)(\d+)/;function NH(t,e,r){var n=parseInt(t[4],10),s=Math.round(e*n),a=Math.floor(s/n),o=s-a*n,u=n;return r+(a===0?"":""+a)+" "+(o===0?Kr(" ",t[1].length+1+t[4].length):ob(o,t[1].length)+t[2]+"/"+t[3]+Ca(u,t[4].length))}function SH(t,e,r){return r+(e===0?"":""+e)+Kr(" ",t[1].length+2+t[4].length)}var f6=/^#*0*\.([0#]+)/,p6=/\).*[0#]/,m6=/\(###\) ###\\?-####/;function is(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function dT(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function hT(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function AH(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function CH(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function na(t,e,r){if(t.charCodeAt(0)===40&&!e.match(p6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?na("n",n,r):"("+na("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return kH(t,e,r);if(e.indexOf("%")!==-1)return TH(t,e,r);if(e.indexOf("E")!==-1)return d6(e,r);if(e.charCodeAt(0)===36)return"$"+na(t,e.substr(e.charAt(1)==" "?2:1),r);var s,a,o,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+$c(d,e.length);if(e.match(/^[#?]+$/))return s=$c(r,0),s==="0"&&(s=""),s.length>e.length?s:is(e.substr(0,e.length-s.length))+s;if(a=e.match(h6))return NH(a,d,h);if(e.match(/^#+0+$/))return h+$c(d,e.length-e.indexOf("0"));if(a=e.match(f6))return s=dT(r,a[1].length).replace(/^([^\.]+)$/,"$1."+is(a[1])).replace(/\.$/,"."+is(a[1])).replace(/\.(\d*)$/,function(k,w){return"."+w+Kr("0",is(a[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return h+dT(d,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return h+Ao($c(d,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+na(t,e,-r):Ao(""+(Math.floor(r)+AH(r,a[1].length)))+"."+Ca(hT(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return na(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=au(na(t,e.replace(/[\\-]/g,""),r)),o=0,au(au(e.replace(/\\/g,"")).replace(/[0#]/g,function(k){return o<s.length?s.charAt(o++):k==="0"?"0":""}));if(e.match(m6))return s=na(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),u=Fp(d,Math.pow(10,o)-1,!1),s=""+h,p=Di("n",a[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+a[2]+"/"+a[3],p=Dp(u[2],o),p.length<a[4].length&&(p=is(a[4].substr(a[4].length-p.length))+p),s+=p,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),u=Fp(d,Math.pow(10,o)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?ob(u[1],o)+a[2]+"/"+a[3]+Dp(u[2],o):Kr(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=$c(r,0),e.length<=s.length?s:is(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=e.indexOf(".")-o,y=e.length-s.length-g;return is(e.substr(0,g)+s+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return o=hT(r,a[1].length),r<0?"-"+na(t,e,-r):Ao(CH(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(k){return"00,"+(k.length<3?Ca(0,3-k.length):"")+k})+"."+Ca(o,a[1].length);switch(e){case"###,##0.00":return na(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=Ao($c(d,0));return v!=="0"?h+v:"";case"###,###.00":return na(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return na(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function jH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Di(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function IH(t,e,r){var n=e.replace(u6,""),s=e.length-n.length;return Di(t,n,r*Math.pow(10,2*s))+Kr("%",s)}function g6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+g6(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(s+a)%s)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ka(t,e,r){if(t.charCodeAt(0)===40&&!e.match(p6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ka("n",n,r):"("+Ka("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return jH(t,e,r);if(e.indexOf("%")!==-1)return IH(t,e,r);if(e.indexOf("E")!==-1)return g6(e,r);if(e.charCodeAt(0)===36)return"$"+Ka(t,e.substr(e.charAt(1)==" "?2:1),r);var s,a,o,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+Ca(d,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:is(e.substr(0,e.length-s.length))+s;if(a=e.match(h6))return SH(a,d,h);if(e.match(/^#+0+$/))return h+Ca(d,e.length-e.indexOf("0"));if(a=e.match(f6))return s=(""+r).replace(/^([^\.]+)$/,"$1."+is(a[1])).replace(/\.$/,"."+is(a[1])),s=s.replace(/\.(\d*)$/,function(k,w){return"."+w+Kr("0",is(a[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return h+Ao(""+d);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ka(t,e,-r):Ao(""+r)+"."+Kr("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Ka(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=au(Ka(t,e.replace(/[\\-]/g,""),r)),o=0,au(au(e.replace(/\\/g,"")).replace(/[0#]/g,function(k){return o<s.length?s.charAt(o++):k==="0"?"0":""}));if(e.match(m6))return s=Ka(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),u=Fp(d,Math.pow(10,o)-1,!1),s=""+h,p=Di("n",a[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+a[2]+"/"+a[3],p=Dp(u[2],o),p.length<a[4].length&&(p=is(a[4].substr(a[4].length-p.length))+p),s+=p,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),u=Fp(d,Math.pow(10,o)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?ob(u[1],o)+a[2]+"/"+a[3]+Dp(u[2],o):Kr(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:is(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=e.indexOf(".")-o,y=e.length-s.length-g;return is(e.substr(0,g)+s+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ka(t,e,-r):Ao(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(k){return"00,"+(k.length<3?Ca(0,3-k.length):"")+k})+"."+Ca(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=Ao(""+d);return v!=="0"?h+v:"";default:if(e.match(/\.[0#?]*$/))return Ka(t,e.slice(0,e.lastIndexOf(".")),r)+is(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Di(t,e,r){return(r|0)===r?Ka(t,e,r):na(t,e,r)}function PH(t){for(var e=[],r=!1,n=0,s=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(s,n-s),s=n+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var x6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function y6(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Op(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(x6))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function RH(t,e,r,n){for(var s=[],a="",o=0,u="",d="t",h,p,g,y="H";o<t.length;)switch(u=t.charAt(o)){case"G":if(!Op(t,o))throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(g=t.charCodeAt(++o))!==34&&o<t.length;)a+=String.fromCharCode(g);s[s.length]={t:"t",v:a},++o;break;case"\\":var v=t.charAt(++o),k=v==="("||v===")"?v:"t";s[s.length]={t:k,v},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(h==null&&(h=kf(e,r,t.charAt(o+1)==="2"),h==null))return"";s[s.length]={t:"X",v:t.substr(o,2)},d=u,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=kf(e,r),h==null))return"";for(a=u;++o<t.length&&t.charAt(o).toLowerCase()===u;)a+=u;u==="m"&&d.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=y),s[s.length]={t:u,v:a},d=u;break;case"A":case"a":case"上":var w={t:u,v:u};if(h==null&&(h=kf(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(h!=null&&(w.v=h.H>=12?"P":"A"),w.t="T",y="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(h!=null&&(w.v=h.H>=12?"PM":"AM"),w.t="T",o+=5,y="h"):t.substr(o,5).toUpperCase()==="上午/下午"?(h!=null&&(w.v=h.H>=12?"下午":"上午"),w.t="T",o+=5,y="h"):(w.t="t",++o),h==null&&w.t==="T")return"";s[s.length]=w,d=u;break;case"[":for(a=u;t.charAt(o++)!=="]"&&o<t.length;)a+=t.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(x6)){if(h==null&&(h=kf(e,r),h==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},d=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",y6(t)||(s[s.length]={t:"t",v:a}));break;case".":if(h!=null){for(a=u;++o<t.length&&(u=t.charAt(o))==="0";)a+=u;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=u;++o<t.length&&"0#?.,E+-%".indexOf(u=t.charAt(o))>-1;)a+=u;s[s.length]={t:"n",v:a};break;case"?":for(a=u;t.charAt(++o)===u;)a+=u;s[s.length]={t:u,v:a},d=u;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":u,v:u},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=u;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)a+=t.charAt(o);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:u,v:u},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"t",v:u},++o;break}var E=0,D=0,I;for(o=s.length-1,d="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=y,d="h",E<1&&(E=1);break;case"s":(I=s[o].v.match(/\.0+$/))&&(D=Math.max(D,I[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":d=s[o].t;break;case"m":d==="s"&&(s[o].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&s[o].v.match(/[Hh]/)&&(E=1),E<2&&s[o].v.match(/[Mm]/)&&(E=2),E<3&&s[o].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var U="",O;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=EH(s[o].t.charCodeAt(0),s[o].v,h,D),s[o].t="t";break;case"n":case"?":for(O=o+1;s[O]!=null&&((u=s[O].t)==="?"||u==="D"||(u===" "||u==="t")&&s[O+1]!=null&&(s[O+1].t==="?"||s[O+1].t==="t"&&s[O+1].v==="/")||s[o].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(s[O].v==="/"||s[O].v===" "&&s[O+1]!=null&&s[O+1].t=="?"));)s[o].v+=s[O].v,s[O]={v:"",t:";"},++O;U+=s[o].v,o=O-1;break;case"G":s[o].t="t",s[o].v=Jy(e,r);break}var X="",B,A;if(U.length>0){U.charCodeAt(0)==40?(B=e<0&&U.charCodeAt(0)===45?-e:e,A=Di("n",U,B)):(B=e<0&&n>1?-e:e,A=Di("n",U,B),B<0&&s[0]&&s[0].t=="t"&&(A=A.substr(1),s[0].v="-"+s[0].v)),O=A.length-1;var S=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){S=o;break}var C=s.length;if(S===s.length&&A.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(O>=s[o].v.length-1?(O-=s[o].v.length,s[o].v=A.substr(O+1,s[o].v.length)):O<0?s[o].v="":(s[o].v=A.substr(0,O+1),O=-1),s[o].t="t",C=o);O>=0&&C<s.length&&(s[C].v=A.substr(0,O+1)+s[C].v)}else if(S!==s.length&&A.indexOf("E")===-1){for(O=A.indexOf(".")-1,o=S;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(p=s[o].v.indexOf(".")>-1&&o===S?s[o].v.indexOf(".")-1:s[o].v.length-1,X=s[o].v.substr(p+1);p>=0;--p)O>=0&&(s[o].v.charAt(p)==="0"||s[o].v.charAt(p)==="#")&&(X=A.charAt(O--)+X);s[o].v=X,s[o].t="t",C=o}for(O>=0&&C<s.length&&(s[C].v=A.substr(0,O+1)+s[C].v),O=A.indexOf(".")+1,o=S;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==S)){for(p=s[o].v.indexOf(".")>-1&&o===S?s[o].v.indexOf(".")+1:0,X=s[o].v.substr(0,p);p<s[o].v.length;++p)O<A.length&&(X+=A.charAt(O++));s[o].v=X,s[o].t="t",C=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(B=n>1&&e<0&&o>0&&s[o-1].v==="-"?-e:e,s[o].v=Di(s[o].t,s[o].v,B),s[o].t="t");var R="";for(o=0;o!==s.length;++o)s[o]!=null&&(R+=s[o].v);return R}var fT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function pT(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function DH(t,e){var r=PH(t),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(fT),u=r[1].match(fT);return pT(e,o)?[n,r[0]]:pT(e,u)?[n,r[1]]:[n,r[o!=null&&u!=null?2:1]]}return[n,a]}function Ho(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Yr)[t],n==null&&(n=r.table&&r.table[uT[t]]||Yr[uT[t]]),n==null&&(n=mH[t]||"General");break}if(Op(n,0))return Jy(e,r);e instanceof Date&&(e=c6(e,r.date1904));var s=DH(n,e);if(Op(s[1]))return Jy(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return RH(s[1],e,r,s[0])}function v6(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Yr[r]==null){e<0&&(e=r);continue}if(Yr[r]==t){e=r;break}}e<0&&(e=391)}return Yr[e]=t,e}function Pm(t){for(var e=0;e!=392;++e)t[e]!==void 0&&v6(t[e],e)}function Rm(){Yr=pH()}var b6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function OH(t){var e=typeof t=="number"?Yr[t]:t;return e=e.replace(b6,"(\\d+)"),new RegExp("^"+e+"$")}function FH(t,e,r){var n=-1,s=-1,a=-1,o=-1,u=-1,d=-1;(e.match(b6)||[]).forEach(function(g,y){var v=parseInt(r[y+1],10);switch(g.toLowerCase().charAt(0)){case"y":n=v;break;case"d":a=v;break;case"h":o=v;break;case"s":d=v;break;case"m":o>=0?u=v:s=v;break}}),d>=0&&u==-1&&s>=0&&(u=s,s=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var p=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&u==-1&&d==-1?h:n==-1&&s==-1&&a==-1?p:h+"T"+p}var LH=(function(){var t={};t.version="1.2.0";function e(){for(var A=0,S=new Array(256),C=0;C!=256;++C)A=C,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,S[C]=A;return typeof Int32Array<"u"?new Int32Array(S):S}var r=e();function n(A){var S=0,C=0,R=0,F=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)F[R]=A[R];for(R=0;R!=256;++R)for(C=A[R],S=256+R;S<4096;S+=256)C=F[S]=C>>>8^A[C&255];var W=[];for(R=1;R!=16;++R)W[R-1]=typeof Int32Array<"u"?F.subarray(R*256,R*256+256):F.slice(R*256,R*256+256);return W}var s=n(r),a=s[0],o=s[1],u=s[2],d=s[3],h=s[4],p=s[5],g=s[6],y=s[7],v=s[8],k=s[9],w=s[10],E=s[11],D=s[12],I=s[13],U=s[14];function O(A,S){for(var C=S^-1,R=0,F=A.length;R<F;)C=C>>>8^r[(C^A.charCodeAt(R++))&255];return~C}function X(A,S){for(var C=S^-1,R=A.length-15,F=0;F<R;)C=U[A[F++]^C&255]^I[A[F++]^C>>8&255]^D[A[F++]^C>>16&255]^E[A[F++]^C>>>24]^w[A[F++]]^k[A[F++]]^v[A[F++]]^y[A[F++]]^g[A[F++]]^p[A[F++]]^h[A[F++]]^d[A[F++]]^u[A[F++]]^o[A[F++]]^a[A[F++]]^r[A[F++]];for(R+=15;F<R;)C=C>>>8^r[(C^A[F++])&255];return~C}function B(A,S){for(var C=S^-1,R=0,F=A.length,W=0,M=0;R<F;)W=A.charCodeAt(R++),W<128?C=C>>>8^r[(C^W)&255]:W<2048?(C=C>>>8^r[(C^(192|W>>6&31))&255],C=C>>>8^r[(C^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,M=A.charCodeAt(R++)&1023,C=C>>>8^r[(C^(240|W>>8&7))&255],C=C>>>8^r[(C^(128|W>>2&63))&255],C=C>>>8^r[(C^(128|M>>6&15|(W&3)<<4))&255],C=C>>>8^r[(C^(128|M&63))&255]):(C=C>>>8^r[(C^(224|W>>12&15))&255],C=C>>>8^r[(C^(128|W>>6&63))&255],C=C>>>8^r[(C^(128|W&63))&255]);return~C}return t.table=r,t.bstr=O,t.buf=X,t.str=B,t})(),Tr=(function(){var e={};e.version="1.2.1";function r(P,z){for(var H=P.split("/"),K=z.split("/"),J=0,Y=0,ue=Math.min(H.length,K.length);J<ue;++J){if(Y=H[J].length-K[J].length)return Y;if(H[J]!=K[J])return H[J]<K[J]?-1:1}return H.length-K.length}function n(P){if(P.charAt(P.length-1)=="/")return P.slice(0,-1).indexOf("/")===-1?P:n(P.slice(0,-1));var z=P.lastIndexOf("/");return z===-1?P:P.slice(0,z+1)}function s(P){if(P.charAt(P.length-1)=="/")return s(P.slice(0,-1));var z=P.lastIndexOf("/");return z===-1?P:P.slice(z+1)}function a(P,z){typeof z=="string"&&(z=new Date(z));var H=z.getHours();H=H<<6|z.getMinutes(),H=H<<5|z.getSeconds()>>>1,P.write_shift(2,H);var K=z.getFullYear()-1980;K=K<<4|z.getMonth()+1,K=K<<5|z.getDate(),P.write_shift(2,K)}function o(P){var z=P.read_shift(2)&65535,H=P.read_shift(2)&65535,K=new Date,J=H&31;H>>>=5;var Y=H&15;H>>>=4,K.setMilliseconds(0),K.setFullYear(H+1980),K.setMonth(Y-1),K.setDate(J);var ue=z&31;z>>>=5;var me=z&63;return z>>>=6,K.setHours(z),K.setMinutes(me),K.setSeconds(ue<<1),K}function u(P){Ls(P,0);for(var z={},H=0;P.l<=P.length-4;){var K=P.read_shift(2),J=P.read_shift(2),Y=P.l+J,ue={};switch(K){case 21589:H=P.read_shift(1),H&1&&(ue.mtime=P.read_shift(4)),J>5&&(H&2&&(ue.atime=P.read_shift(4)),H&4&&(ue.ctime=P.read_shift(4))),ue.mtime&&(ue.mt=new Date(ue.mtime*1e3));break}P.l=Y,z[K]=ue}return z}var d;function h(){return d||(d={})}function p(P,z){if(P[0]==80&&P[1]==75)return ot(P,z);if((P[0]|32)==109&&(P[1]|32)==105)return Hn(P,z);if(P.length<512)throw new Error("CFB file size "+P.length+" < 512");var H=3,K=512,J=0,Y=0,ue=0,me=0,he=0,ge=[],xe=P.slice(0,512);Ls(xe,0);var Ue=g(xe);switch(H=Ue[0],H){case 3:K=512;break;case 4:K=4096;break;case 0:if(Ue[1]==0)return ot(P,z);default:throw new Error("Major Version: Expected 3 or 4 saw "+H)}K!==512&&(xe=P.slice(0,K),Ls(xe,28));var Je=P.slice(0,K);y(xe,H);var lt=xe.read_shift(4,"i");if(H===3&&lt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+lt);xe.l+=4,ue=xe.read_shift(4,"i"),xe.l+=4,xe.chk("00100000","Mini Stream Cutoff Size: "),me=xe.read_shift(4,"i"),J=xe.read_shift(4,"i"),he=xe.read_shift(4,"i"),Y=xe.read_shift(4,"i");for(var Ke=-1,We=0;We<109&&(Ke=xe.read_shift(4,"i"),!(Ke<0));++We)ge[We]=Ke;var Pt=v(P,K);E(he,Y,Pt,K,ge);var nr=I(Pt,ue,ge,K);nr[ue].name="!Directory",J>0&&me!==M&&(nr[me].name="!MiniFAT"),nr[ge[0]].name="!FAT",nr.fat_addrs=ge,nr.ssz=K;var Jt={},sr=[],Cs=[],Gs=[];U(ue,nr,Pt,sr,J,Jt,Cs,me),k(Cs,Gs,sr),sr.shift();var rs={FileIndex:Cs,FullPaths:Gs};return z&&z.raw&&(rs.raw={header:Je,sectors:Pt}),rs}function g(P){if(P[P.l]==80&&P[P.l+1]==75)return[0,0];P.chk(Se,"Header Signature: "),P.l+=16;var z=P.read_shift(2,"u");return[P.read_shift(2,"u"),z]}function y(P,z){var H=9;switch(P.l+=2,H=P.read_shift(2)){case 9:if(z!=3)throw new Error("Sector Shift: Expected 9 saw "+H);break;case 12:if(z!=4)throw new Error("Sector Shift: Expected 12 saw "+H);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+H)}P.chk("0600","Mini Sector Shift: "),P.chk("000000000000","Reserved: ")}function v(P,z){for(var H=Math.ceil(P.length/z)-1,K=[],J=1;J<H;++J)K[J-1]=P.slice(J*z,(J+1)*z);return K[H-1]=P.slice(H*z),K}function k(P,z,H){for(var K=0,J=0,Y=0,ue=0,me=0,he=H.length,ge=[],xe=[];K<he;++K)ge[K]=xe[K]=K,z[K]=H[K];for(;me<xe.length;++me)K=xe[me],J=P[K].L,Y=P[K].R,ue=P[K].C,ge[K]===K&&(J!==-1&&ge[J]!==J&&(ge[K]=ge[J]),Y!==-1&&ge[Y]!==Y&&(ge[K]=ge[Y])),ue!==-1&&(ge[ue]=K),J!==-1&&K!=ge[K]&&(ge[J]=ge[K],xe.lastIndexOf(J)<me&&xe.push(J)),Y!==-1&&K!=ge[K]&&(ge[Y]=ge[K],xe.lastIndexOf(Y)<me&&xe.push(Y));for(K=1;K<he;++K)ge[K]===K&&(Y!==-1&&ge[Y]!==Y?ge[K]=ge[Y]:J!==-1&&ge[J]!==J&&(ge[K]=ge[J]));for(K=1;K<he;++K)if(P[K].type!==0){if(me=K,me!=ge[me])do me=ge[me],z[K]=z[me]+"/"+z[K];while(me!==0&&ge[me]!==-1&&me!=ge[me]);ge[K]=-1}for(z[0]+="/",K=1;K<he;++K)P[K].type!==2&&(z[K]+="/")}function w(P,z,H){for(var K=P.start,J=P.size,Y=[],ue=K;H&&J>0&&ue>=0;)Y.push(z.slice(ue*W,ue*W+W)),J-=W,ue=wl(H,ue*4);return Y.length===0?Ce(0):Ln(Y).slice(0,P.size)}function E(P,z,H,K,J){var Y=M;if(P===M){if(z!==0)throw new Error("DIFAT chain shorter than expected")}else if(P!==-1){var ue=H[P],me=(K>>>2)-1;if(!ue)return;for(var he=0;he<me&&(Y=wl(ue,he*4))!==M;++he)J.push(Y);E(wl(ue,K-4),z-1,H,K,J)}}function D(P,z,H,K,J){var Y=[],ue=[];J||(J=[]);var me=K-1,he=0,ge=0;for(he=z;he>=0;){J[he]=!0,Y[Y.length]=he,ue.push(P[he]);var xe=H[Math.floor(he*4/K)];if(ge=he*4&me,K<4+ge)throw new Error("FAT boundary crossed: "+he+" 4 "+K);if(!P[xe])break;he=wl(P[xe],ge)}return{nodes:Y,data:_T([ue])}}function I(P,z,H,K){var J=P.length,Y=[],ue=[],me=[],he=[],ge=K-1,xe=0,Ue=0,Je=0,lt=0;for(xe=0;xe<J;++xe)if(me=[],Je=xe+z,Je>=J&&(Je-=J),!ue[Je]){he=[];var Ke=[];for(Ue=Je;Ue>=0;){Ke[Ue]=!0,ue[Ue]=!0,me[me.length]=Ue,he.push(P[Ue]);var We=H[Math.floor(Ue*4/K)];if(lt=Ue*4&ge,K<4+lt)throw new Error("FAT boundary crossed: "+Ue+" 4 "+K);if(!P[We]||(Ue=wl(P[We],lt),Ke[Ue]))break}Y[Je]={nodes:me,data:_T([he])}}return Y}function U(P,z,H,K,J,Y,ue,me){for(var he=0,ge=K.length?2:0,xe=z[P].data,Ue=0,Je=0,lt;Ue<xe.length;Ue+=128){var Ke=xe.slice(Ue,Ue+128);Ls(Ke,64),Je=Ke.read_shift(2),lt=fb(Ke,0,Je-ge),K.push(lt);var We={name:lt,type:Ke.read_shift(1),color:Ke.read_shift(1),L:Ke.read_shift(4,"i"),R:Ke.read_shift(4,"i"),C:Ke.read_shift(4,"i"),clsid:Ke.read_shift(16),state:Ke.read_shift(4,"i"),start:0,size:0},Pt=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);Pt!==0&&(We.ct=O(Ke,Ke.l-8));var nr=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);nr!==0&&(We.mt=O(Ke,Ke.l-8)),We.start=Ke.read_shift(4,"i"),We.size=Ke.read_shift(4,"i"),We.size<0&&We.start<0&&(We.size=We.type=0,We.start=M,We.name=""),We.type===5?(he=We.start,J>0&&he!==M&&(z[he].name="!StreamData")):We.size>=4096?(We.storage="fat",z[We.start]===void 0&&(z[We.start]=D(H,We.start,z.fat_addrs,z.ssz)),z[We.start].name=We.name,We.content=z[We.start].data.slice(0,We.size)):(We.storage="minifat",We.size<0?We.size=0:he!==M&&We.start!==M&&z[he]&&(We.content=w(We,z[he].data,(z[me]||{}).data))),We.content&&Ls(We.content,0),Y[lt]=We,ue.push(We)}}function O(P,z){return new Date(($s(P,z+4)/1e7*Math.pow(2,32)+$s(P,z)/1e7-11644473600)*1e3)}function X(P,z){return h(),p(d.readFileSync(P),z)}function B(P,z){var H=z&&z.type;switch(H||dr&&Buffer.isBuffer(P)&&(H="buffer"),H||"base64"){case"file":return X(P,z);case"base64":return p(Na(Hi(P)),z);case"binary":return p(Na(P),z)}return p(P,z)}function A(P,z){var H=z||{},K=H.root||"Root Entry";if(P.FullPaths||(P.FullPaths=[]),P.FileIndex||(P.FileIndex=[]),P.FullPaths.length!==P.FileIndex.length)throw new Error("inconsistent CFB structure");P.FullPaths.length===0&&(P.FullPaths[0]=K+"/",P.FileIndex[0]={name:K,type:5}),H.CLSID&&(P.FileIndex[0].clsid=H.CLSID),S(P)}function S(P){var z="Sh33tJ5";if(!Tr.find(P,"/"+z)){var H=Ce(4);H[0]=55,H[1]=H[3]=50,H[2]=54,P.FileIndex.push({name:z,type:2,content:H,size:4,L:69,R:69,C:69}),P.FullPaths.push(P.FullPaths[0]+z),C(P)}}function C(P,z){A(P);for(var H=!1,K=!1,J=P.FullPaths.length-1;J>=0;--J){var Y=P.FileIndex[J];switch(Y.type){case 0:K?H=!0:(P.FileIndex.pop(),P.FullPaths.pop());break;case 1:case 2:case 5:K=!0,isNaN(Y.R*Y.L*Y.C)&&(H=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(H=!0);break;default:H=!0;break}}if(!(!H&&!z)){var ue=new Date(1987,1,19),me=0,he=Object.create?Object.create(null):{},ge=[];for(J=0;J<P.FullPaths.length;++J)he[P.FullPaths[J]]=!0,P.FileIndex[J].type!==0&&ge.push([P.FullPaths[J],P.FileIndex[J]]);for(J=0;J<ge.length;++J){var xe=n(ge[J][0]);K=he[xe],K||(ge.push([xe,{name:s(xe).replace("/",""),type:1,clsid:$e,ct:ue,mt:ue,content:null}]),he[xe]=!0)}for(ge.sort(function(lt,Ke){return r(lt[0],Ke[0])}),P.FullPaths=[],P.FileIndex=[],J=0;J<ge.length;++J)P.FullPaths[J]=ge[J][0],P.FileIndex[J]=ge[J][1];for(J=0;J<ge.length;++J){var Ue=P.FileIndex[J],Je=P.FullPaths[J];if(Ue.name=s(Je).replace("/",""),Ue.L=Ue.R=Ue.C=-(Ue.color=1),Ue.size=Ue.content?Ue.content.length:0,Ue.start=0,Ue.clsid=Ue.clsid||$e,J===0)Ue.C=ge.length>1?1:-1,Ue.size=0,Ue.type=5;else if(Je.slice(-1)=="/"){for(me=J+1;me<ge.length&&n(P.FullPaths[me])!=Je;++me);for(Ue.C=me>=ge.length?-1:me,me=J+1;me<ge.length&&n(P.FullPaths[me])!=n(Je);++me);Ue.R=me>=ge.length?-1:me,Ue.type=1}else n(P.FullPaths[J+1]||"")==n(Je)&&(Ue.R=J+1),Ue.type=2}}}function R(P,z){var H=z||{};if(H.fileType=="mad")return ur(P,H);switch(C(P),H.fileType){case"zip":return Tt(P,H)}var K=(function(lt){for(var Ke=0,We=0,Pt=0;Pt<lt.FileIndex.length;++Pt){var nr=lt.FileIndex[Pt];if(nr.content){var Jt=nr.content.length;Jt>0&&(Jt<4096?Ke+=Jt+63>>6:We+=Jt+511>>9)}}for(var sr=lt.FullPaths.length+3>>2,Cs=Ke+7>>3,Gs=Ke+127>>7,rs=Cs+We+sr+Gs,$r=rs+127>>7,Xi=$r<=109?0:Math.ceil(($r-109)/127);rs+$r+Xi+127>>7>$r;)Xi=++$r<=109?0:Math.ceil(($r-109)/127);var Ir=[1,Xi,$r,Gs,sr,We,Ke,0];return lt.FileIndex[0].size=Ke<<6,Ir[7]=(lt.FileIndex[0].start=Ir[0]+Ir[1]+Ir[2]+Ir[3]+Ir[4]+Ir[5])+(Ir[6]+7>>3),Ir})(P),J=Ce(K[7]<<9),Y=0,ue=0;{for(Y=0;Y<8;++Y)J.write_shift(1,Ie[Y]);for(Y=0;Y<8;++Y)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),Y=0;Y<3;++Y)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,K[2]),J.write_shift(4,K[0]+K[1]+K[2]+K[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,K[3]?K[0]+K[1]+K[2]-1:M),J.write_shift(4,K[3]),J.write_shift(-4,K[1]?K[0]-1:M),J.write_shift(4,K[1]),Y=0;Y<109;++Y)J.write_shift(-4,Y<K[2]?K[1]+Y:-1)}if(K[1])for(ue=0;ue<K[1];++ue){for(;Y<236+ue*127;++Y)J.write_shift(-4,Y<K[2]?K[1]+Y:-1);J.write_shift(-4,ue===K[1]-1?M:ue+1)}var me=function(lt){for(ue+=lt;Y<ue-1;++Y)J.write_shift(-4,Y+1);lt&&(++Y,J.write_shift(-4,M))};for(ue=Y=0,ue+=K[1];Y<ue;++Y)J.write_shift(-4,Le.DIFSECT);for(ue+=K[2];Y<ue;++Y)J.write_shift(-4,Le.FATSECT);me(K[3]),me(K[4]);for(var he=0,ge=0,xe=P.FileIndex[0];he<P.FileIndex.length;++he)xe=P.FileIndex[he],xe.content&&(ge=xe.content.length,!(ge<4096)&&(xe.start=ue,me(ge+511>>9)));for(me(K[6]+7>>3);J.l&511;)J.write_shift(-4,Le.ENDOFCHAIN);for(ue=Y=0,he=0;he<P.FileIndex.length;++he)xe=P.FileIndex[he],xe.content&&(ge=xe.content.length,!(!ge||ge>=4096)&&(xe.start=ue,me(ge+63>>6)));for(;J.l&511;)J.write_shift(-4,Le.ENDOFCHAIN);for(Y=0;Y<K[4]<<2;++Y){var Ue=P.FullPaths[Y];if(!Ue||Ue.length===0){for(he=0;he<17;++he)J.write_shift(4,0);for(he=0;he<3;++he)J.write_shift(4,-1);for(he=0;he<12;++he)J.write_shift(4,0);continue}xe=P.FileIndex[Y],Y===0&&(xe.start=xe.size?xe.start-1:M);var Je=Y===0&&H.root||xe.name;if(ge=2*(Je.length+1),J.write_shift(64,Je,"utf16le"),J.write_shift(2,ge),J.write_shift(1,xe.type),J.write_shift(1,xe.color),J.write_shift(-4,xe.L),J.write_shift(-4,xe.R),J.write_shift(-4,xe.C),xe.clsid)J.write_shift(16,xe.clsid,"hex");else for(he=0;he<4;++he)J.write_shift(4,0);J.write_shift(4,xe.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,xe.start),J.write_shift(4,xe.size),J.write_shift(4,0)}for(Y=1;Y<P.FileIndex.length;++Y)if(xe=P.FileIndex[Y],xe.size>=4096)if(J.l=xe.start+1<<9,dr&&Buffer.isBuffer(xe.content))xe.content.copy(J,J.l,0,xe.size),J.l+=xe.size+511&-512;else{for(he=0;he<xe.size;++he)J.write_shift(1,xe.content[he]);for(;he&511;++he)J.write_shift(1,0)}for(Y=1;Y<P.FileIndex.length;++Y)if(xe=P.FileIndex[Y],xe.size>0&&xe.size<4096)if(dr&&Buffer.isBuffer(xe.content))xe.content.copy(J,J.l,0,xe.size),J.l+=xe.size+63&-64;else{for(he=0;he<xe.size;++he)J.write_shift(1,xe.content[he]);for(;he&63;++he)J.write_shift(1,0)}if(dr)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}function F(P,z){var H=P.FullPaths.map(function(he){return he.toUpperCase()}),K=H.map(function(he){var ge=he.split("/");return ge[ge.length-(he.slice(-1)=="/"?2:1)]}),J=!1;z.charCodeAt(0)===47?(J=!0,z=H[0].slice(0,-1)+z):J=z.indexOf("/")!==-1;var Y=z.toUpperCase(),ue=J===!0?H.indexOf(Y):K.indexOf(Y);if(ue!==-1)return P.FileIndex[ue];var me=!Y.match(Tf);for(Y=Y.replace(Wd,""),me&&(Y=Y.replace(Tf,"!")),ue=0;ue<H.length;++ue)if((me?H[ue].replace(Tf,"!"):H[ue]).replace(Wd,"")==Y||(me?K[ue].replace(Tf,"!"):K[ue]).replace(Wd,"")==Y)return P.FileIndex[ue];return null}var W=64,M=-2,Se="d0cf11e0a1b11ae1",Ie=[208,207,17,224,161,177,26,225],$e="00000000000000000000000000000000",Le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:Se,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:$e,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _e(P,z,H){h();var K=R(P,H);d.writeFileSync(z,K)}function ie(P){for(var z=new Array(P.length),H=0;H<P.length;++H)z[H]=String.fromCharCode(P[H]);return z.join("")}function de(P,z){var H=R(P,z);switch(z&&z.type||"buffer"){case"file":return h(),d.writeFileSync(z.filename,H),H;case"binary":return typeof H=="string"?H:ie(H);case"base64":return v0(typeof H=="string"?H:ie(H));case"buffer":if(dr)return Buffer.isBuffer(H)?H:Ki(H);case"array":return typeof H=="string"?Na(H):H}return H}var se;function V(P){try{var z=P.InflateRaw,H=new z;if(H._processChunk(new Uint8Array([3,0]),H._finishFlushFlag),H.bytesRead)se=P;else throw new Error("zlib does not expose bytesRead")}catch(K){console.error("cannot use native zlib: "+(K.message||K))}}function te(P,z){if(!se)return Nt(P,z);var H=se.InflateRaw,K=new H,J=K._processChunk(P.slice(P.l),K._finishFlushFlag);return P.l+=K.bytesRead,J}function re(P){return se?se.deflateRawSync(P):Q(P)}var ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Be(P){var z=(P<<1|P<<11)&139536|(P<<5|P<<15)&558144;return(z>>16|z>>8|z)&255}for(var Ae=typeof Uint8Array<"u",Pe=Ae?new Uint8Array(256):[],it=0;it<256;++it)Pe[it]=Be(it);function yt(P,z){var H=Pe[P&255];return z<=8?H>>>8-z:(H=H<<8|Pe[P>>8&255],z<=16?H>>>16-z:(H=H<<8|Pe[P>>16&255],H>>>24-z))}function Wt(P,z){var H=z&7,K=z>>>3;return(P[K]|(H<=6?0:P[K+1]<<8))>>>H&3}function Oe(P,z){var H=z&7,K=z>>>3;return(P[K]|(H<=5?0:P[K+1]<<8))>>>H&7}function fr(P,z){var H=z&7,K=z>>>3;return(P[K]|(H<=4?0:P[K+1]<<8))>>>H&15}function Mt(P,z){var H=z&7,K=z>>>3;return(P[K]|(H<=3?0:P[K+1]<<8))>>>H&31}function Re(P,z){var H=z&7,K=z>>>3;return(P[K]|(H<=1?0:P[K+1]<<8))>>>H&127}function pr(P,z,H){var K=z&7,J=z>>>3,Y=(1<<H)-1,ue=P[J]>>>K;return H<8-K||(ue|=P[J+1]<<8-K,H<16-K)||(ue|=P[J+2]<<16-K,H<24-K)||(ue|=P[J+3]<<24-K),ue&Y}function $t(P,z,H){var K=z&7,J=z>>>3;return K<=5?P[J]|=(H&7)<<K:(P[J]|=H<<K&255,P[J+1]=(H&7)>>8-K),z+3}function Gt(P,z,H){var K=z&7,J=z>>>3;return H=(H&1)<<K,P[J]|=H,z+1}function le(P,z,H){var K=z&7,J=z>>>3;return H<<=K,P[J]|=H&255,H>>>=8,P[J+1]=H,z+8}function Ye(P,z,H){var K=z&7,J=z>>>3;return H<<=K,P[J]|=H&255,H>>>=8,P[J+1]=H&255,P[J+2]=H>>>8,z+16}function ct(P,z){var H=P.length,K=2*H>z?2*H:z+5,J=0;if(H>=z)return P;if(dr){var Y=oT(K);if(P.copy)P.copy(Y);else for(;J<P.length;++J)Y[J]=P[J];return Y}else if(Ae){var ue=new Uint8Array(K);if(ue.set)ue.set(P);else for(;J<H;++J)ue[J]=P[J];return ue}return P.length=K,P}function ut(P){for(var z=new Array(P),H=0;H<P;++H)z[H]=0;return z}function At(P,z,H){var K=1,J=0,Y=0,ue=0,me=0,he=P.length,ge=Ae?new Uint16Array(32):ut(32);for(Y=0;Y<32;++Y)ge[Y]=0;for(Y=he;Y<H;++Y)P[Y]=0;he=P.length;var xe=Ae?new Uint16Array(he):ut(he);for(Y=0;Y<he;++Y)ge[J=P[Y]]++,K<J&&(K=J),xe[Y]=0;for(ge[0]=0,Y=1;Y<=K;++Y)ge[Y+16]=me=me+ge[Y-1]<<1;for(Y=0;Y<he;++Y)me=P[Y],me!=0&&(xe[Y]=ge[me+16]++);var Ue=0;for(Y=0;Y<he;++Y)if(Ue=P[Y],Ue!=0)for(me=yt(xe[Y],K)>>K-Ue,ue=(1<<K+4-Ue)-1;ue>=0;--ue)z[me|ue<<Ue]=Ue&15|Y<<4;return K}var wt=Ae?new Uint16Array(512):ut(512),st=Ae?new Uint16Array(32):ut(32);if(!Ae){for(var gt=0;gt<512;++gt)wt[gt]=0;for(gt=0;gt<32;++gt)st[gt]=0}(function(){for(var P=[],z=0;z<32;z++)P.push(5);At(P,st,32);var H=[];for(z=0;z<=143;z++)H.push(8);for(;z<=255;z++)H.push(9);for(;z<=279;z++)H.push(7);for(;z<=287;z++)H.push(8);At(H,wt,288)})();var ir=(function(){for(var z=Ae?new Uint8Array(32768):[],H=0,K=0;H<Fe.length-1;++H)for(;K<Fe[H+1];++K)z[K]=H;for(;K<32768;++K)z[K]=29;var J=Ae?new Uint8Array(259):[];for(H=0,K=0;H<ee.length-1;++H)for(;K<ee[H+1];++K)J[K]=H;function Y(me,he){for(var ge=0;ge<me.length;){var xe=Math.min(65535,me.length-ge),Ue=ge+xe==me.length;for(he.write_shift(1,+Ue),he.write_shift(2,xe),he.write_shift(2,~xe&65535);xe-- >0;)he[he.l++]=me[ge++]}return he.l}function ue(me,he){for(var ge=0,xe=0,Ue=Ae?new Uint16Array(32768):[];xe<me.length;){var Je=Math.min(65535,me.length-xe);if(Je<10){for(ge=$t(he,ge,+(xe+Je==me.length)),ge&7&&(ge+=8-(ge&7)),he.l=ge/8|0,he.write_shift(2,Je),he.write_shift(2,~Je&65535);Je-- >0;)he[he.l++]=me[xe++];ge=he.l*8;continue}ge=$t(he,ge,+(xe+Je==me.length)+2);for(var lt=0;Je-- >0;){var Ke=me[xe];lt=(lt<<5^Ke)&32767;var We=-1,Pt=0;if((We=Ue[lt])&&(We|=xe&-32768,We>xe&&(We-=32768),We<xe))for(;me[We+Pt]==me[xe+Pt]&&Pt<250;)++Pt;if(Pt>2){Ke=J[Pt],Ke<=22?ge=le(he,ge,Pe[Ke+1]>>1)-1:(le(he,ge,3),ge+=5,le(he,ge,Pe[Ke-23]>>5),ge+=3);var nr=Ke<8?0:Ke-4>>2;nr>0&&(Ye(he,ge,Pt-ee[Ke]),ge+=nr),Ke=z[xe-We],ge=le(he,ge,Pe[Ke]>>3),ge-=3;var Jt=Ke<4?0:Ke-2>>1;Jt>0&&(Ye(he,ge,xe-We-Fe[Ke]),ge+=Jt);for(var sr=0;sr<Pt;++sr)Ue[lt]=xe&32767,lt=(lt<<5^me[xe])&32767,++xe;Je-=Pt-1}else Ke<=143?Ke=Ke+48:ge=Gt(he,ge,1),ge=le(he,ge,Pe[Ke]),Ue[lt]=xe&32767,++xe}ge=le(he,ge,0)-1}return he.l=(ge+7)/8|0,he.l}return function(he,ge){return he.length<8?Y(he,ge):ue(he,ge)}})();function Q(P){var z=Ce(50+Math.floor(P.length*1.1)),H=ir(P,z);return z.slice(0,H)}var Te=Ae?new Uint16Array(32768):ut(32768),ft=Ae?new Uint16Array(32768):ut(32768),be=Ae?new Uint16Array(128):ut(128),ke=1,Me=1;function Ze(P,z){var H=Mt(P,z)+257;z+=5;var K=Mt(P,z)+1;z+=5;var J=fr(P,z)+4;z+=4;for(var Y=0,ue=Ae?new Uint8Array(19):ut(19),me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],he=1,ge=Ae?new Uint8Array(8):ut(8),xe=Ae?new Uint8Array(8):ut(8),Ue=ue.length,Je=0;Je<J;++Je)ue[ne[Je]]=Y=Oe(P,z),he<Y&&(he=Y),ge[Y]++,z+=3;var lt=0;for(ge[0]=0,Je=1;Je<=he;++Je)xe[Je]=lt=lt+ge[Je-1]<<1;for(Je=0;Je<Ue;++Je)(lt=ue[Je])!=0&&(me[Je]=xe[lt]++);var Ke=0;for(Je=0;Je<Ue;++Je)if(Ke=ue[Je],Ke!=0){lt=Pe[me[Je]]>>8-Ke;for(var We=(1<<7-Ke)-1;We>=0;--We)be[lt|We<<Ke]=Ke&7|Je<<3}var Pt=[];for(he=1;Pt.length<H+K;)switch(lt=be[Re(P,z)],z+=lt&7,lt>>>=3){case 16:for(Y=3+Wt(P,z),z+=2,lt=Pt[Pt.length-1];Y-- >0;)Pt.push(lt);break;case 17:for(Y=3+Oe(P,z),z+=3;Y-- >0;)Pt.push(0);break;case 18:for(Y=11+Re(P,z),z+=7;Y-- >0;)Pt.push(0);break;default:Pt.push(lt),he<lt&&(he=lt);break}var nr=Pt.slice(0,H),Jt=Pt.slice(H);for(Je=H;Je<286;++Je)nr[Je]=0;for(Je=K;Je<30;++Je)Jt[Je]=0;return ke=At(nr,Te,286),Me=At(Jt,ft,30),z}function vt(P,z){if(P[0]==3&&!(P[1]&3))return[Vl(z),2];for(var H=0,K=0,J=oT(z||1<<18),Y=0,ue=J.length>>>0,me=0,he=0;(K&1)==0;){if(K=Oe(P,H),H+=3,K>>>1)K>>1==1?(me=9,he=5):(H=Ze(P,H),me=ke,he=Me);else{H&7&&(H+=8-(H&7));var ge=P[H>>>3]|P[(H>>>3)+1]<<8;if(H+=32,ge>0)for(!z&&ue<Y+ge&&(J=ct(J,Y+ge),ue=J.length);ge-- >0;)J[Y++]=P[H>>>3],H+=8;continue}for(;;){!z&&ue<Y+32767&&(J=ct(J,Y+32767),ue=J.length);var xe=pr(P,H,me),Ue=K>>>1==1?wt[xe]:Te[xe];if(H+=Ue&15,Ue>>>=4,(Ue>>>8&255)===0)J[Y++]=Ue;else{if(Ue==256)break;Ue-=257;var Je=Ue<8?0:Ue-4>>2;Je>5&&(Je=0);var lt=Y+ee[Ue];Je>0&&(lt+=pr(P,H,Je),H+=Je),xe=pr(P,H,he),Ue=K>>>1==1?st[xe]:ft[xe],H+=Ue&15,Ue>>>=4;var Ke=Ue<4?0:Ue-2>>1,We=Fe[Ue];for(Ke>0&&(We+=pr(P,H,Ke),H+=Ke),!z&&ue<lt&&(J=ct(J,lt+100),ue=J.length);Y<lt;)J[Y]=J[Y-We],++Y}}}return z?[J,H+7>>>3]:[J.slice(0,Y),H+7>>>3]}function Nt(P,z){var H=P.slice(P.l||0),K=vt(H,z);return P.l+=K[1],K[0]}function at(P,z){if(P)typeof console<"u"&&console.error(z);else throw new Error(z)}function ot(P,z){var H=P;Ls(H,0);var K=[],J=[],Y={FileIndex:K,FullPaths:J};A(Y,{root:z.root});for(var ue=H.length-4;(H[ue]!=80||H[ue+1]!=75||H[ue+2]!=5||H[ue+3]!=6)&&ue>=0;)--ue;H.l=ue+4,H.l+=4;var me=H.read_shift(2);H.l+=6;var he=H.read_shift(4);for(H.l=he,ue=0;ue<me;++ue){H.l+=20;var ge=H.read_shift(4),xe=H.read_shift(4),Ue=H.read_shift(2),Je=H.read_shift(2),lt=H.read_shift(2);H.l+=8;var Ke=H.read_shift(4),We=u(H.slice(H.l+Ue,H.l+Ue+Je));H.l+=Ue+Je+lt;var Pt=H.l;H.l=Ke+4,et(H,ge,xe,Y,We),H.l=Pt}return Y}function et(P,z,H,K,J){P.l+=2;var Y=P.read_shift(2),ue=P.read_shift(2),me=o(P);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var he=P.read_shift(4),ge=P.read_shift(4),xe=P.read_shift(4),Ue=P.read_shift(2),Je=P.read_shift(2),lt="",Ke=0;Ke<Ue;++Ke)lt+=String.fromCharCode(P[P.l++]);if(Je){var We=u(P.slice(P.l,P.l+Je));(We[21589]||{}).mt&&(me=We[21589].mt),((J||{})[21589]||{}).mt&&(me=J[21589].mt)}P.l+=Je;var Pt=P.slice(P.l,P.l+ge);switch(ue){case 8:Pt=te(P,xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ue)}var nr=!1;Y&8&&(he=P.read_shift(4),he==134695760&&(he=P.read_shift(4),nr=!0),ge=P.read_shift(4),xe=P.read_shift(4)),ge!=z&&at(nr,"Bad compressed size: "+z+" != "+ge),xe!=H&&at(nr,"Bad uncompressed size: "+H+" != "+xe),Er(K,lt,Pt,{unsafe:!0,mt:me})}function Tt(P,z){var H=z||{},K=[],J=[],Y=Ce(1),ue=H.compression?8:0,me=0,he=0,ge=0,xe=0,Ue=0,Je=P.FullPaths[0],lt=Je,Ke=P.FileIndex[0],We=[],Pt=0;for(he=1;he<P.FullPaths.length;++he)if(lt=P.FullPaths[he].slice(Je.length),Ke=P.FileIndex[he],!(!Ke.size||!Ke.content||lt=="Sh33tJ5")){var nr=xe,Jt=Ce(lt.length);for(ge=0;ge<lt.length;++ge)Jt.write_shift(1,lt.charCodeAt(ge)&127);Jt=Jt.slice(0,Jt.l),We[Ue]=LH.buf(Ke.content,0);var sr=Ke.content;ue==8&&(sr=re(sr)),Y=Ce(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,me),Y.write_shift(2,ue),Ke.mt?a(Y,Ke.mt):Y.write_shift(4,0),Y.write_shift(-4,We[Ue]),Y.write_shift(4,sr.length),Y.write_shift(4,Ke.content.length),Y.write_shift(2,Jt.length),Y.write_shift(2,0),xe+=Y.length,K.push(Y),xe+=Jt.length,K.push(Jt),xe+=sr.length,K.push(sr),Y=Ce(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,me),Y.write_shift(2,ue),Y.write_shift(4,0),Y.write_shift(-4,We[Ue]),Y.write_shift(4,sr.length),Y.write_shift(4,Ke.content.length),Y.write_shift(2,Jt.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,nr),Pt+=Y.l,J.push(Y),Pt+=Jt.length,J.push(Jt),++Ue}return Y=Ce(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Ue),Y.write_shift(2,Ue),Y.write_shift(4,Pt),Y.write_shift(4,xe),Y.write_shift(2,0),Ln([Ln(K),Ln(J),Y])}var Bt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Kt(P,z){if(P.ctype)return P.ctype;var H=P.name||"",K=H.match(/\.([^\.]+)$/);return K&&Bt[K[1]]||z&&(K=(H=z).match(/[\.\\]([^\.\\])+$/),K&&Bt[K[1]])?Bt[K[1]]:"application/octet-stream"}function jr(P){for(var z=v0(P),H=[],K=0;K<z.length;K+=76)H.push(z.slice(K,K+76));return H.join(`\r
`)+`\r
`}function Mr(P){var z=P.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var xe=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(xe.length==1?"0"+xe:xe)});z=z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),z.charAt(0)==`
`&&(z="=0D"+z.slice(1)),z=z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var H=[],K=z.split(`\r
`),J=0;J<K.length;++J){var Y=K[J];if(Y.length==0){H.push("");continue}for(var ue=0;ue<Y.length;){var me=76,he=Y.slice(ue,ue+me);he.charAt(me-1)=="="?me--:he.charAt(me-2)=="="?me-=2:he.charAt(me-3)=="="&&(me-=3),he=Y.slice(ue,ue+me),ue+=me,ue<Y.length&&(he+="="),H.push(he)}}return H.join(`\r
`)}function un(P){for(var z=[],H=0;H<P.length;++H){for(var K=P[H];H<=P.length&&K.charAt(K.length-1)=="=";)K=K.slice(0,K.length-1)+P[++H];z.push(K)}for(var J=0;J<z.length;++J)z[J]=z[J].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return Na(z.join(`\r
`))}function cr(P,z,H){for(var K="",J="",Y="",ue,me=0;me<10;++me){var he=z[me];if(!he||he.match(/^\s*$/))break;var ge=he.match(/^(.*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":K=ge[2].trim();break;case"content-type":Y=ge[2].trim();break;case"content-transfer-encoding":J=ge[2].trim();break}}switch(++me,J.toLowerCase()){case"base64":ue=Na(Hi(z.slice(me).join("")));break;case"quoted-printable":ue=un(z.slice(me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var xe=Er(P,K.slice(H.length),ue,{unsafe:!0});Y&&(xe.ctype=Y)}function Hn(P,z){if(ie(P.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var H=z&&z.root||"",K=(dr&&Buffer.isBuffer(P)?P.toString("binary"):ie(P)).split(`\r
`),J=0,Y="";for(J=0;J<K.length;++J)if(Y=K[J],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),H||(H=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,H.length)!=H))for(;H.length>0&&(H=H.slice(0,H.length-1),H=H.slice(0,H.lastIndexOf("/")+1),Y.slice(0,H.length)!=H););var ue=(K[1]||"").match(/boundary="(.*?)"/);if(!ue)throw new Error("MAD cannot find boundary");var me="--"+(ue[1]||""),he=[],ge=[],xe={FileIndex:he,FullPaths:ge};A(xe);var Ue,Je=0;for(J=0;J<K.length;++J){var lt=K[J];lt!==me&&lt!==me+"--"||(Je++&&cr(xe,K.slice(Ue,J),H),Ue=J)}return xe}function ur(P,z){var H=z||{},K=H.boundary||"SheetJS";K="------="+K;for(var J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+K.slice(2)+'"',"","",""],Y=P.FullPaths[0],ue=Y,me=P.FileIndex[0],he=1;he<P.FullPaths.length;++he)if(ue=P.FullPaths[he].slice(Y.length),me=P.FileIndex[he],!(!me.size||!me.content||ue=="Sh33tJ5")){ue=ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Pt){return"_x"+Pt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Pt){return"_u"+Pt.charCodeAt(0).toString(16)+"_"});for(var ge=me.content,xe=dr&&Buffer.isBuffer(ge)?ge.toString("binary"):ie(ge),Ue=0,Je=Math.min(1024,xe.length),lt=0,Ke=0;Ke<=Je;++Ke)(lt=xe.charCodeAt(Ke))>=32&&lt<128&&++Ue;var We=Ue>=Je*4/5;J.push(K),J.push("Content-Location: "+(H.root||"file:///C:/SheetJS/")+ue),J.push("Content-Transfer-Encoding: "+(We?"quoted-printable":"base64")),J.push("Content-Type: "+Kt(me,ue)),J.push(""),J.push(We?Mr(xe):jr(xe))}return J.push(K+`--\r
`),J.join(`\r
`)}function dn(P){var z={};return A(z,P),z}function Er(P,z,H,K){var J=K&&K.unsafe;J||A(P);var Y=!J&&Tr.find(P,z);if(!Y){var ue=P.FullPaths[0];z.slice(0,ue.length)==ue?ue=z:(ue.slice(-1)!="/"&&(ue+="/"),ue=(ue+z).replace("//","/")),Y={name:s(z),type:2},P.FileIndex.push(Y),P.FullPaths.push(ue),J||Tr.utils.cfb_gc(P)}return Y.content=H,Y.size=H?H.length:0,K&&(K.CLSID&&(Y.clsid=K.CLSID),K.mt&&(Y.mt=K.mt),K.ct&&(Y.ct=K.ct)),Y}function xn(P,z){A(P);var H=Tr.find(P,z);if(H){for(var K=0;K<P.FileIndex.length;++K)if(P.FileIndex[K]==H)return P.FileIndex.splice(K,1),P.FullPaths.splice(K,1),!0}return!1}function ve(P,z,H){A(P);var K=Tr.find(P,z);if(K){for(var J=0;J<P.FileIndex.length;++J)if(P.FileIndex[J]==K)return P.FileIndex[J].name=s(H),P.FullPaths[J]=H,!0}return!1}function Ne(P){C(P,!0)}return e.find=F,e.read=B,e.parse=p,e.write=de,e.writeFile=_e,e.utils={cfb_new:dn,cfb_add:Er,cfb_del:xn,cfb_mov:ve,cfb_gc:Ne,ReadShift:Gd,CheckField:M6,prep_blob:Ls,bconcat:Ln,use_zlib:V,_deflateRaw:Q,_inflateRaw:Nt,consts:Le},e})();function MH(t){return typeof t=="string"?Im(t):Array.isArray(t)?uH(t):t}function X0(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Im(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?w0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var s=new Blob([MH(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(t);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=K0(e)),u.write(e),u.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function zn(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function mT(t,e){for(var r=[],n=zn(t),s=0;s!==n.length;++s)r[t[n[s]][e]]==null&&(r[t[n[s]][e]]=n[s]);return r}function cb(t){for(var e=[],r=zn(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Dm(t){for(var e=[],r=zn(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function $H(t){for(var e=[],r=zn(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var Lp=new Date(1899,11,30,0,0,0);function Ss(t,e){var r=t.getTime(),n=Lp.getTime()+(t.getTimezoneOffset()-Lp.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var w6=new Date,VH=Lp.getTime()+(w6.getTimezoneOffset()-Lp.getTimezoneOffset())*6e4,gT=w6.getTimezoneOffset();function _6(t){var e=new Date;return e.setTime(t*24*60*60*1e3+VH),e.getTimezoneOffset()!==gT&&e.setTime(e.getTime()+(e.getTimezoneOffset()-gT)*6e4),e}var xT=new Date("2017-02-19T19:06:09.000Z"),E6=isNaN(xT.getFullYear())?new Date("2/19/17"):xT,BH=E6.getFullYear()==2017;function ds(t,e){var r=new Date(t);if(BH)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(E6.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Om(t,e){if(dr&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return r[a]||a})}catch{}for(var n=[],s=0;s!=t.length;++s)n.push(String.fromCharCode(t[s]));return n.join("")}function As(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=As(t[r]));return e}function Kr(t,e){for(var r="";r.length<e;)r+=t;return r}function Oi(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var UH=["january","february","march","april","may","june","july","august","september","october","november","december"];function b0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),s=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&UH.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Ut(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return dr?n=Ki(r):n=dH(r),Tr.utils.cfb_add(t,e,n)}Tr.utils.cfb_add(t,e,r)}else t.file(e,r)}function ub(){return Tr.utils.cfb_new()}var cn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,zH={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},db=cb(zH),hb=/[&<>'"]/g,HH=/[\u0000-\u0008\u000b-\u001f]/g;function wr(t){var e=t+"";return e.replace(hb,function(r){return db[r]}).replace(HH,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function yT(t){return wr(t).replace(/ /g,"_x0020_")}var T6=/[\u0000-\u001f]/g;function WH(t){var e=t+"";return e.replace(hb,function(r){return db[r]}).replace(/\n/g,"<br/>").replace(T6,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function qH(t){var e=t+"";return e.replace(hb,function(r){return db[r]}).replace(T6,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function GH(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function KH(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Kx(t){for(var e="",r=0,n=0,s=0,a=0,o=0,u=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(s=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,e+=String.fromCharCode(o);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63);continue}o=t.charCodeAt(r++),u=((n&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function vT(t){var e=Vl(2*t.length),r,n,s=1,a=0,o=0,u;for(n=0;n<t.length;n+=s)s=1,(u=t.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(t.charCodeAt(n+1)&63),s=2):u<240?(r=(u&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),s=3):(s=4,r=(u&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[a++]=o&255,e[a++]=o>>>8,o=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function bT(t){return Ki(t,"binary").toString("utf8")}var Nf="foo bar bazâð£",qd=dr&&(bT(Nf)==Kx(Nf)&&bT||vT(Nf)==Kx(Nf)&&vT)||Kx,w0=dr?function(t){return Ki(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,s=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},XH=(function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)n=n.replace(t[s][0],t[s][1]);return n}})(),k6=/(^\s|\s$|\n)/;function Mn(t,e){return"<"+t+(e.match(k6)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function _0(t){return zn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function tt(t,e,r){return"<"+t+(r!=null?_0(r):"")+(e!=null?(e.match(k6)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Zy(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function YH(t,e){switch(typeof t){case"string":var r=tt("vt:lpwstr",wr(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return tt((t|0)==t?"vt:i4":"vt:r8",wr(String(t)));case"boolean":return tt("vt:bool",t?"true":"false")}if(t instanceof Date)return tt("vt:filetime",Zy(t));throw new Error("Unable to serialize "+t)}var Tn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Mu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ms={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function QH(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,a=5;a>=0;--a)s=s*256+t[e+a];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function JH(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,a=0,o=n?-e:e;isFinite(o)?o==0?s=a=0:(s=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(e)?26985:0);for(var u=0;u<=5;++u,a/=256)t[r+u]=a&255;t[r+6]=(s&15)<<4|a&15,t[r+7]=s>>4|n}var wT=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var s=0,a=t[0][n].length;s<a;s+=r)e.push.apply(e,t[0][n].slice(s,s+r));return e},_T=dr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ki(e)})):wT(t)}:wT,ET=function(t,e,r){for(var n=[],s=e;s<r;s+=2)n.push(String.fromCharCode(Pd(t,s)));return n.join("").replace(Wd,"")},fb=dr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Wd,""):ET(t,e,r)}:ET,TT=function(t,e,r){for(var n=[],s=e;s<e+r;++s)n.push(("0"+t[s].toString(16)).slice(-2));return n.join("")},N6=dr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):TT(t,e,r)}:TT,kT=function(t,e,r){for(var n=[],s=e;s<r;s++)n.push(String.fromCharCode(qc(t,s)));return n.join("")},Y0=dr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):kT(e,r,n)}:kT,S6=function(t,e){var r=$s(t,e);return r>0?Y0(t,e+4,e+4+r-1):""},A6=S6,C6=function(t,e){var r=$s(t,e);return r>0?Y0(t,e+4,e+4+r-1):""},j6=C6,I6=function(t,e){var r=2*$s(t,e);return r>0?Y0(t,e+4,e+4+r-1):""},P6=I6,R6=function(e,r){var n=$s(e,r);return n>0?fb(e,r+4,r+4+n):""},D6=R6,O6=function(t,e){var r=$s(t,e);return r>0?Y0(t,e+4,e+4+r):""},F6=O6,L6=function(t,e){return QH(t,e)},Mp=L6,pb=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};dr&&(A6=function(e,r){if(!Buffer.isBuffer(e))return S6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},j6=function(e,r){if(!Buffer.isBuffer(e))return C6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},P6=function(e,r){if(!Buffer.isBuffer(e))return I6(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},D6=function(e,r){if(!Buffer.isBuffer(e))return R6(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},F6=function(e,r){if(!Buffer.isBuffer(e))return O6(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Mp=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):L6(e,r)},pb=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var qc=function(t,e){return t[e]},Pd=function(t,e){return t[e+1]*256+t[e]},ZH=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},$s=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},wl=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},eW=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Gd(t,e){var r="",n,s,a=[],o,u,d,h;switch(e){case"dbcs":if(h=this.l,dr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(Pd(this,h)),h+=2;t*=2;break;case"utf8":r=Y0(this,this.l,this.l+t);break;case"utf16le":t*=2,r=fb(this,this.l,this.l+t);break;case"wstr":return Gd.call(this,t,"dbcs");case"lpstr-ansi":r=A6(this,this.l),t=4+$s(this,this.l);break;case"lpstr-cp":r=j6(this,this.l),t=4+$s(this,this.l);break;case"lpwstr":r=P6(this,this.l),t=4+2*$s(this,this.l);break;case"lpp4":t=4+$s(this,this.l),r=D6(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+$s(this,this.l),r=F6(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=qc(this,this.l+t++))!==0;)a.push(Ef(o));r=a.join("");break;case"_wstr":for(t=0,r="";(o=Pd(this,this.l+t))!==0;)a.push(Ef(o)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",h=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return o=qc(this,h),this.l=h+1,u=Gd.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Ef(Pd(this,h))),h+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return o=qc(this,h),this.l=h+1,u=Gd.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Ef(qc(this,h))),h+=1}r=a.join("");break;default:switch(t){case 1:return n=qc(this,this.l),this.l++,n;case 2:return n=(e==="i"?ZH:Pd)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?wl:eW)(this,this.l),this.l+=4,n):(s=$s(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=Mp(this,this.l):s=Mp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=N6(this,this.l,t);break}}return this.l+=t,r}var tW=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},rW=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},nW=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function sW(t,e,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)nW(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var o=e.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,tW(this,e,this.l);break;case 8:if(n=8,r==="f"){JH(this,e,this.l);break}case 16:break;case-4:n=4,rW(this,e,this.l);break}return this.l+=n,this}function M6(t,e){var r=N6(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ls(t,e){t.l=e,t.read_shift=Gd,t.chk=M6,t.write_shift=sW}function di(t,e){t.l+=e}function Ce(t){var e=Vl(t);return Ls(e,0),e}function Ns(){var t=[],e=dr?256:2048,r=function(h){var p=Ce(h);return Ls(p,0),p},n=r(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(h){return n&&h<n.length-n.l?n:(s(),n=r(Math.max(h+1,e)))},o=function(){return s(),Ln(t)},u=function(h){s(),n=h,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:u,end:o,_bufs:t}}function ze(t,e,r,n){var s=+e,a;if(!isNaN(s)){n||(n=QY[s].p||(r||[]).length||0),a=1+(s>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var o=t.next(a);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var u=0;u!=4;++u)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&pb(r)&&t.push(r)}}function Kd(t,e,r){var n=As(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function NT(t,e,r){var n=As(t);return n.s=Kd(n.s,e.s,r),n.e=Kd(n.e,e.s,r),n}function Xd(t,e){if(t.cRel&&t.c<0)for(t=As(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=As(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=_r(t);return!t.cRel&&t.cRel!=null&&(r=oW(r)),!t.rRel&&t.rRel!=null&&(r=aW(r)),r}function Xx(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Zn(t.s.c)+":"+(t.e.cRel?"":"$")+Zn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Bn(t.s.r)+":"+(t.e.rRel?"":"$")+Bn(t.e.r):Xd(t.s,e.biff)+":"+Xd(t.e,e.biff)}function mb(t){return parseInt(iW(t),10)-1}function Bn(t){return""+(t+1)}function aW(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function iW(t){return t.replace(/\$(\d+)$/,"$1")}function gb(t){for(var e=lW(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Zn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function oW(t){return t.replace(/^([A-Z])/,"$$$1")}function lW(t){return t.replace(/^\$([A-Z])/,"$1")}function cW(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function kn(t){for(var e=0,r=0,n=0;n<t.length;++n){var s=t.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function _r(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function qs(t){var e=t.indexOf(":");return e==-1?{s:kn(t),e:kn(t)}:{s:kn(t.slice(0,e)),e:kn(t.slice(e+1))}}function ln(t,e){return typeof e>"u"||typeof e=="number"?ln(t.s,t.e):(typeof t!="string"&&(t=_r(t)),typeof e!="string"&&(e=_r(e)),t==e?t:t+":"+e)}function Dr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,a=t.length;for(r=0;n<a&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.s.c=--r,r=0;n<a&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(e.s.r=--r,n===a||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.e.c=--r,r=0;n!=a&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return e.e.r=--r,e}function ST(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Ho(t.z,r?Ss(e):e)}catch{}try{return t.w=Ho((t.XF||{}).numFmtId||(r?14:0),r?Ss(e):e)}catch{return""+e}}function Wi(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Q0[t.v]||t.v:e==null?ST(t,t.v):ST(t,e))}function tc(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function $6(t,e,r){var n=r||{},s=t?Array.isArray(t):n.dense,a=t||(s?[]:{}),o=0,u=0;if(a&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?kn(n.origin):n.origin;o=d.r,u=d.c}a["!ref"]||(a["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var p=Dr(a["!ref"]);h.s.c=p.s.c,h.s.r=p.s.r,h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),o==-1&&(h.e.r=o=p.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[g].length;++y)if(!(typeof e[g][y]>"u")){var v={v:e[g][y]},k=o+g,w=u+y;if(h.s.r>k&&(h.s.r=k),h.s.c>w&&(h.s.c=w),h.e.r<k&&(h.e.r=k),h.e.c<w&&(h.e.c=w),e[g][y]&&typeof e[g][y]=="object"&&!Array.isArray(e[g][y])&&!(e[g][y]instanceof Date))v=e[g][y];else if(Array.isArray(v.v)&&(v.f=e[g][y][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||Yr[14],n.cellDates?(v.t="d",v.w=Ho(v.z,Ss(v.v))):(v.t="n",v.v=Ss(v.v),v.w=Ho(v.z,v.v))):v.t="s";if(s)a[k]||(a[k]=[]),a[k][w]&&a[k][w].z&&(v.z=a[k][w].z),a[k][w]=v;else{var E=_r({c:w,r:k});a[E]&&a[E].z&&(v.z=a[E].z),a[E]=v}}}return h.s.c<1e7&&(a["!ref"]=ln(h)),a}function $u(t,e){return $6(null,t,e)}function uW(t){return t.read_shift(4,"i")}function Ia(t,e){return e||(e=Ce(4)),e.write_shift(4,t),e}function es(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Nn(t,e){var r=!1;return e==null&&(r=!0,e=Ce(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function dW(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function hW(t,e){return e||(e=Ce(4)),e.write_shift(2,0),e.write_shift(2,0),e}function xb(t,e){var r=t.l,n=t.read_shift(1),s=es(t),a=[],o={t:s,h:s};if((n&1)!==0){for(var u=t.read_shift(4),d=0;d!=u;++d)a.push(dW(t));o.r=a}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}function fW(t,e){var r=!1;return e==null&&(r=!0,e=Ce(15+4*t.t.length)),e.write_shift(1,0),Nn(t.t,e),r?e.slice(0,e.l):e}var pW=xb;function mW(t,e){var r=!1;return e==null&&(r=!0,e=Ce(23+4*t.t.length)),e.write_shift(1,1),Nn(t.t,e),e.write_shift(4,1),hW({},e),r?e.slice(0,e.l):e}function da(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function rc(t,e){return e==null&&(e=Ce(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function nc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function sc(t,e){return e==null&&(e=Ce(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var gW=es,V6=Nn;function yb(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function $p(t,e){var r=!1;return e==null&&(r=!0,e=Ce(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var xW=es,ev=yb,vb=$p;function B6(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var s=n===0?Mp([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):wl(e,0)>>2;return r?s/100:s}function U6(t,e){e==null&&(e=Ce(4));var r=0,n=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?s:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function z6(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function yW(t,e){return e||(e=Ce(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var ac=z6,Vu=yW;function Bu(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Bl(t,e){return(e||Ce(8)).write_shift(8,t,"f")}function vW(t){var e={},r=t.read_shift(1),n=r>>>1,s=t.read_shift(1),a=t.read_shift(2,"i"),o=t.read_shift(1),u=t.read_shift(1),d=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var h=AW[s];h&&(e.rgb=MT(h));break;case 2:e.rgb=MT([o,u,d]);break;case 3:e.theme=s;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function Vp(t,e){if(e||(e=Ce(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function bW(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function wW(t,e){e||(e=Ce(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var H6=2,Fs=3,Sf=11,Bp=19,Af=64,_W=65,EW=71,TW=4108,kW=4126,Rn=80,AT={1:{n:"CodePage",t:H6},2:{n:"Category",t:Rn},3:{n:"PresentationFormat",t:Rn},4:{n:"ByteCount",t:Fs},5:{n:"LineCount",t:Fs},6:{n:"ParagraphCount",t:Fs},7:{n:"SlideCount",t:Fs},8:{n:"NoteCount",t:Fs},9:{n:"HiddenCount",t:Fs},10:{n:"MultimediaClipCount",t:Fs},11:{n:"ScaleCrop",t:Sf},12:{n:"HeadingPairs",t:TW},13:{n:"TitlesOfParts",t:kW},14:{n:"Manager",t:Rn},15:{n:"Company",t:Rn},16:{n:"LinksUpToDate",t:Sf},17:{n:"CharacterCount",t:Fs},19:{n:"SharedDoc",t:Sf},22:{n:"HyperlinksChanged",t:Sf},23:{n:"AppVersion",t:Fs,p:"version"},24:{n:"DigSig",t:_W},26:{n:"ContentType",t:Rn},27:{n:"ContentStatus",t:Rn},28:{n:"Language",t:Rn},29:{n:"Version",t:Rn},255:{},2147483648:{n:"Locale",t:Bp},2147483651:{n:"Behavior",t:Bp},1919054434:{}},CT={1:{n:"CodePage",t:H6},2:{n:"Title",t:Rn},3:{n:"Subject",t:Rn},4:{n:"Author",t:Rn},5:{n:"Keywords",t:Rn},6:{n:"Comments",t:Rn},7:{n:"Template",t:Rn},8:{n:"LastAuthor",t:Rn},9:{n:"RevNumber",t:Rn},10:{n:"EditTime",t:Af},11:{n:"LastPrinted",t:Af},12:{n:"CreatedDate",t:Af},13:{n:"ModifiedDate",t:Af},14:{n:"PageCount",t:Fs},15:{n:"WordCount",t:Fs},16:{n:"CharCount",t:Fs},17:{n:"Thumbnail",t:EW},18:{n:"Application",t:Rn},19:{n:"DocSecurity",t:Fs},255:{},2147483648:{n:"Locale",t:Bp},2147483651:{n:"Behavior",t:Bp},1919054434:{}};function NW(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var SW=NW([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),AW=As(SW),Q0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},CW={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Cf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function W6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function q6(t,e){var r=$H(CW),n=[],s;n[n.length]=cn,n[n.length]=tt("Types",null,{xmlns:Tn.CT,"xmlns:xsd":Tn.xsd,"xmlns:xsi":Tn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return tt("Default",null,{Extension:d[0],ContentType:d[1]})}));var a=function(d){t[d]&&t[d].length>0&&(s=t[d][0],n[n.length]=tt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Cf[d][e.bookType]||Cf[d].xlsx}))},o=function(d){(t[d]||[]).forEach(function(h){n[n.length]=tt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Cf[d][e.bookType]||Cf[d].xlsx})})},u=function(d){(t[d]||[]).forEach(function(h){n[n.length]=tt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:r[d][0]})})};return a("workbooks"),o("sheets"),o("charts"),u("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),o("metadata"),u("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var lr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function G6(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function iu(t){var e=[cn,tt("Relationships",null,{xmlns:Tn.RELS})];return zn(t["!id"]).forEach(function(r){e[e.length]=tt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function yr(t,e,r,n,s,a){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=n,s.Target=r,[lr.HLINK,lr.XPATH,lr.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function jW(t){var e=[cn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function jT(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function IW(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function PW(t){var e=[cn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(jT(t[r][0],t[r][1])),e.push(IW("",t[r][0]));return e.push(jT("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function K6(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Pp.version+"</meta:generator></office:meta></office:document-meta>"}var Al=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Yx(t,e,r,n,s){s[t]!=null||e==null||e===""||(s[t]=e,e=wr(e),n[n.length]=r?tt(t,e,r):Mn(t,e))}function X6(t,e){var r=e||{},n=[cn,tt("cp:coreProperties",null,{"xmlns:cp":Tn.CORE_PROPS,"xmlns:dc":Tn.dc,"xmlns:dcterms":Tn.dcterms,"xmlns:dcmitype":Tn.dcmitype,"xmlns:xsi":Tn.xsi})],s={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Yx("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Zy(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),t.ModifiedDate!=null&&Yx("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Zy(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var a=0;a!=Al.length;++a){var o=Al[a],u=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:t?t[o[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Yx(o[0],u,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var ou=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Y6=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Q6(t){var e=[],r=tt;return t||(t={}),t.Application="SheetJS",e[e.length]=cn,e[e.length]=tt("Properties",null,{xmlns:Tn.EXT_PROPS,"xmlns:vt":Tn.vt}),ou.forEach(function(n){if(t[n[1]]!==void 0){var s;switch(n[2]){case"string":s=wr(String(t[n[1]]));break;case"bool":s=t[n[1]]?"true":"false";break}s!==void 0&&(e[e.length]=r(n[0],s))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+wr(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function J6(t){var e=[cn,tt("Properties",null,{xmlns:Tn.CUST_PROPS,"xmlns:vt":Tn.vt})];if(!t)return e.join("");var r=1;return zn(t).forEach(function(s){++r,e[e.length]=tt("property",YH(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:wr(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var IT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function RW(t,e){var r=[];return zn(IT).map(function(n){for(var s=0;s<Al.length;++s)if(Al[s][1]==n)return Al[s];for(s=0;s<ou.length;++s)if(ou[s][1]==n)return ou[s];throw n}).forEach(function(n){if(t[n[1]]!=null){var s=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Mn(IT[n[1]]||n[1],s))}}),tt("DocumentProperties",r.join(""),{xmlns:Ms.o})}function DW(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return t&&zn(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var o=0;o<Al.length;++o)if(a==Al[o][1])return;for(o=0;o<ou.length;++o)if(a==ou[o][1])return;for(o=0;o<r.length;++o)if(a==r[o])return;var u=t[a],d="string";typeof u=="number"?(d="float",u=String(u)):u===!0||u===!1?(d="boolean",u=u?"1":"0"):u=String(u),s.push(tt(yT(a),u,{"dt:dt":d}))}}),e&&zn(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var o=e[a],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o instanceof Date?(u="dateTime.tz",o=o.toISOString()):o=String(o),s.push(tt(yT(a),o,{"dt:dt":u}))}}),"<"+n+' xmlns="'+Ms.o+'">'+s.join("")+"</"+n+">"}function OW(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),s+=a);var o=Ce(8);return o.write_shift(4,n),o.write_shift(4,s),o}function PT(t,e){var r=Ce(4),n=Ce(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Ce(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=OW(e);break;case 31:case 80:for(n=Ce(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Ln([r,n])}var Z6=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function FW(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function RT(t,e,r){var n=Ce(8),s=[],a=[],o=8,u=0,d=Ce(8),h=Ce(8);if(d.write_shift(4,2),d.write_shift(4,1200),h.write_shift(4,1),a.push(d),s.push(h),o+=8+d.length,!e){h=Ce(8),h.write_shift(4,0),s.unshift(h);var p=[Ce(4)];for(p[0].write_shift(4,t.length),u=0;u<t.length;++u){var g=t[u][0];for(d=Ce(8+2*(g.length+1)+(g.length%2?0:2)),d.write_shift(4,u+2),d.write_shift(4,g.length+1),d.write_shift(0,g,"dbcs");d.l!=d.length;)d.write_shift(1,0);p.push(d)}d=Ln(p),a.unshift(d),o+=8+d.length}for(u=0;u<t.length;++u)if(!(e&&!e[t[u][0]])&&!(Z6.indexOf(t[u][0])>-1||Y6.indexOf(t[u][0])>-1)&&t[u][1]!=null){var y=t[u][1],v=0;if(e){v=+e[t[u][0]];var k=r[v];if(k.p=="version"&&typeof y=="string"){var w=y.split(".");y=(+w[0]<<16)+(+w[1]||0)}d=PT(k.t,y)}else{var E=FW(y);E==-1&&(E=31,y=String(y)),d=PT(E,y)}a.push(d),h=Ce(8),h.write_shift(4,e?v:2+u),s.push(h),o+=8+d.length}var D=8*(a.length+1);for(u=0;u<a.length;++u)s[u].write_shift(4,D),D+=a[u].length;return n.write_shift(4,o),n.write_shift(4,a.length),Ln([n].concat(s).concat(a))}function DT(t,e,r,n,s,a){var o=Ce(s?68:48),u=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Tr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,s?68:48);var d=RT(t,r,n);if(u.push(d),s){var h=RT(s,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+d.length),u.push(h)}return Ln(u)}function LW(t,e){e||(e=Ce(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function MW(t,e){return t.read_shift(e)===1}function os(t,e){return e||(e=Ce(2)),e.write_shift(2,+!!t),e}function eA(t){return t.read_shift(2,"u")}function aa(t,e){return e||(e=Ce(2)),e.write_shift(2,t),e}function tA(t,e,r){return r||(r=Ce(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function rA(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?t.read_shift(n,s):"";return o}function $W(t){var e=t.t||"",r=Ce(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Ce(2*e.length);n.write_shift(2*e.length,e,"utf16le");var s=[r,n];return Ln(s)}function VW(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function BW(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):VW(t,n,r)}function UW(t,e,r){if(r.biff>5)return BW(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function nA(t,e,r){return r||(r=Ce(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function OT(t,e){e||(e=Ce(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function zW(t){var e=Ce(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),a=s>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)e.write_shift(4,o[r]);if(a==28)n=n.slice(1),OT(n,e);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));var u=s>-1?n.slice(0,s):n;for(e.write_shift(4,2*(u.length+1)),r=0;r<u.length;++r)e.write_shift(2,u.charCodeAt(r));e.write_shift(2,0),a&8&&OT(s>-1?n.slice(s+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)e.write_shift(1,n.charCodeAt(r+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Ul(t,e,r,n){return n||(n=Ce(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function HW(t,e,r){var n=r.biff>8?4:2,s=t.read_shift(n),a=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[s,a,o]}function WW(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2);return{s:{c:n,r:e},e:{c:s,r}}}function sA(t,e){return e||(e=Ce(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function bb(t,e,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Ce(s);return a.write_shift(2,n),a.write_shift(2,e),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function qW(t,e){var r=!e||e.biff==8,n=Ce(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function GW(t,e){var r=!e||e.biff>=8?2:1,n=Ce(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function KW(t,e){var r=Ce(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],s=0;s<t.length;++s)n[s]=$W(t[s]);var a=Ln([r].concat(n));return a.parts=[r.length].concat(n.map(function(o){return o.length})),a}function XW(){var t=Ce(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function YW(t){var e=Ce(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function QW(t,e){var r=t.name||"Arial",n=e&&e.biff==5,s=n?15+r.length:16+2*r.length,a=Ce(s);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function JW(t,e,r,n){var s=Ce(10);return Ul(t,e,n,s),s.write_shift(4,r),s}function ZW(t,e,r,n,s){var a=!s||s.biff==8,o=Ce(8+ +a+(1+a)*r.length);return Ul(t,e,n,o),o.write_shift(2,r.length),a&&o.write_shift(1,1),o.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),o}function eq(t,e,r,n){var s=r&&r.biff==5;n||(n=Ce(s?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(s?1:2,e.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function tq(t,e){var r=e.biff==8||!e.biff?4:2,n=Ce(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function FT(t,e,r,n){var s=r&&r.biff==5;n||(n=Ce(s?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&s&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function rq(t){var e=Ce(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function nq(t,e,r,n,s,a){var o=Ce(8);return Ul(t,e,n,o),tA(r,a,o),o}function sq(t,e,r,n){var s=Ce(14);return Ul(t,e,n,s),Bl(r,s),s}function aq(t,e,r){if(r.biff<8)return iq(t,e,r);for(var n=[],s=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(HW(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return n}function iq(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=rA(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function oq(t){var e=Ce(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)sA(t[r],e);return e}function lq(t){var e=Ce(24),r=kn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(n[s],16));return Ln([e,zW(t[1])])}function cq(t){var e=t[1].Tooltip,r=Ce(10+2*(e.length+1));r.write_shift(2,2048);var n=kn(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function uq(t){return t||(t=Ce(4)),t.write_shift(2,1),t.write_shift(2,1),t}function dq(t,e,r){if(!r.cellStyles)return di(t,e);var n=r&&r.biff>=12?4:2,s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),u=t.read_shift(n),d=t.read_shift(2);n==2&&(t.l+=2);var h={s,e:a,w:o,ixfe:u,flags:d};return(r.biff>=5||!r.biff)&&(h.level=d>>8&7),h}function hq(t,e){var r=Ce(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function fq(t){for(var e=Ce(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function pq(t,e,r){var n=Ce(15);return Z0(n,t,e),n.write_shift(8,r,"f"),n}function mq(t,e,r){var n=Ce(9);return Z0(n,t,e),n.write_shift(2,r),n}var gq=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=cb({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,d){var h=[],p=Vl(1);switch(d.type){case"base64":p=Na(Hi(u));break;case"binary":p=Na(u);break;case"buffer":case"array":p=u;break}Ls(p,0);var g=p.read_shift(1),y=!!(g&136),v=!1,k=!1;switch(g){case 2:break;case 3:break;case 48:v=!0,y=!0;break;case 49:v=!0,y=!0;break;case 131:break;case 139:break;case 140:k=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var w=0,E=521;g==2&&(w=p.read_shift(2)),p.l+=3,g!=2&&(w=p.read_shift(4)),w>1048576&&(w=1e6),g!=2&&(E=p.read_shift(2));var D=p.read_shift(2),I=d.codepage||1252;g!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(I=t[p[p.l]]),p.l+=1,p.l+=2),k&&(p.l+=36);for(var U=[],O={},X=Math.min(p.length,g==2?521:E-10-(v?264:0)),B=k?32:11;p.l<X&&p[p.l]!=13;)switch(O={},O.name=Rp.utils.decode(I,p.slice(p.l,p.l+B)).replace(/[\u0000\r\n].*$/g,""),p.l+=B,O.type=String.fromCharCode(p.read_shift(1)),g!=2&&!k&&(O.offset=p.read_shift(4)),O.len=p.read_shift(1),g==2&&(O.offset=p.read_shift(2)),O.dec=p.read_shift(1),O.name.length&&U.push(O),g!=2&&(p.l+=k?13:14),O.type){case"B":(!v||O.len!=8)&&d.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(p[p.l]!==13&&(p.l=E-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=E;var A=0,S=0;for(h[0]=[],S=0;S!=U.length;++S)h[0][S]=U[S].name;for(;w-- >0;){if(p[p.l]===42){p.l+=D;continue}for(++p.l,h[++A]=[],S=0,S=0;S!=U.length;++S){var C=p.slice(p.l,p.l+U[S].len);p.l+=U[S].len,Ls(C,0);var R=Rp.utils.decode(I,C);switch(U[S].type){case"C":R.trim().length&&(h[A][S]=R.replace(/\s+$/,""));break;case"D":R.length===8?h[A][S]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):h[A][S]=R;break;case"F":h[A][S]=parseFloat(R.trim());break;case"+":case"I":h[A][S]=k?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":h[A][S]=!0;break;case"N":case"F":h[A][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));h[A][S]="##MEMO##"+(k?parseInt(R.trim(),10):C.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(h[A][S]=+R||0);break;case"@":h[A][S]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":h[A][S]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":h[A][S]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[A][S]=-C.read_shift(-8,"f");break;case"B":if(v&&U[S].len==8){h[A][S]=C.read_shift(8,"f");break}case"G":case"P":C.l+=U[S].len;break;case"0":if(U[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+U[S].type)}}}if(g!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=U,h}function n(u,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var p=$u(r(u,h),h);return p["!cols"]=h.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete h.DBF,p}function s(u,d){try{return tc(n(u,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(u,d){var h=d||{};if(+h.codepage>=0&&y0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var p=Ns(),g=qp(u,{header:1,raw:!0,cellDates:!0}),y=g[0],v=g.slice(1),k=u["!cols"]||[],w=0,E=0,D=0,I=1;for(w=0;w<y.length;++w){if(((k[w]||{}).DBF||{}).name){y[w]=k[w].DBF.name,++D;continue}if(y[w]!=null){if(++D,typeof y[w]=="number"&&(y[w]=y[w].toString(10)),typeof y[w]!="string")throw new Error("DBF Invalid column name "+y[w]+" |"+typeof y[w]+"|");if(y.indexOf(y[w])!==w){for(E=0;E<1024;++E)if(y.indexOf(y[w]+"_"+E)==-1){y[w]+="_"+E;break}}}}var U=Dr(u["!ref"]),O=[],X=[],B=[];for(w=0;w<=U.e.c-U.s.c;++w){var A="",S="",C=0,R=[];for(E=0;E<v.length;++E)v[E][w]!=null&&R.push(v[E][w]);if(R.length==0||y[w]==null){O[w]="?";continue}for(E=0;E<R.length;++E){switch(typeof R[E]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=R[E]instanceof Date?"D":"C";break;default:S="C"}C=Math.max(C,String(R[E]).length),A=A&&A!=S?"C":S}C>250&&(C=250),S=((k[w]||{}).DBF||{}).type,S=="C"&&k[w].DBF.len>C&&(C=k[w].DBF.len),A=="B"&&S=="N"&&(A="N",B[w]=k[w].DBF.dec,C=k[w].DBF.len),X[w]=A=="C"||S=="N"?C:a[A]||0,I+=X[w],O[w]=A}var F=p.next(32);for(F.write_shift(4,318902576),F.write_shift(4,v.length),F.write_shift(2,296+32*D),F.write_shift(2,I),w=0;w<4;++w)F.write_shift(4,0);for(F.write_shift(4,0|(+e[i6]||3)<<8),w=0,E=0;w<y.length;++w)if(y[w]!=null){var W=p.next(32),M=(y[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,M,"sbcs"),W.write_shift(1,O[w]=="?"?"C":O[w],"sbcs"),W.write_shift(4,E),W.write_shift(1,X[w]||a[O[w]]||0),W.write_shift(1,B[w]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),E+=X[w]||a[O[w]]||0}var Se=p.next(264);for(Se.write_shift(4,13),w=0;w<65;++w)Se.write_shift(4,0);for(w=0;w<v.length;++w){var Ie=p.next(I);for(Ie.write_shift(1,0),E=0;E<y.length;++E)if(y[E]!=null)switch(O[E]){case"L":Ie.write_shift(1,v[w][E]==null?63:v[w][E]?84:70);break;case"B":Ie.write_shift(8,v[w][E]||0,"f");break;case"N":var $e="0";for(typeof v[w][E]=="number"&&($e=v[w][E].toFixed(B[E]||0)),D=0;D<X[E]-$e.length;++D)Ie.write_shift(1,32);Ie.write_shift(1,$e,"sbcs");break;case"D":v[w][E]?(Ie.write_shift(4,("0000"+v[w][E].getFullYear()).slice(-4),"sbcs"),Ie.write_shift(2,("00"+(v[w][E].getMonth()+1)).slice(-2),"sbcs"),Ie.write_shift(2,("00"+v[w][E].getDate()).slice(-2),"sbcs")):Ie.write_shift(8,"00000000","sbcs");break;case"C":var Le=String(v[w][E]!=null?v[w][E]:"").slice(0,X[E]);for(Ie.write_shift(1,Le,"sbcs"),D=0;D<X[E]-Le.length;++D)Ie.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}})(),xq=(function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+zn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,v){var k=t[v];return typeof k=="number"?iT(k):k},n=function(y,v,k){var w=v.charCodeAt(0)-32<<4|k.charCodeAt(0)-48;return w==59?y:iT(w)};t["|"]=254;function s(y,v){switch(v.type){case"base64":return a(Hi(y),v);case"binary":return a(y,v);case"buffer":return a(dr&&Buffer.isBuffer(y)?y.toString("binary"):K0(y),v);case"array":return a(Om(y),v)}throw new Error("Unrecognized type "+v.type)}function a(y,v){var k=y.split(/[\n\r]+/),w=-1,E=-1,D=0,I=0,U=[],O=[],X=null,B={},A=[],S=[],C=[],R=0,F;for(+v.codepage>=0&&y0(+v.codepage);D!==k.length;++D){R=0;var W=k[D].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),M=W.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")}),Se=M[0],Ie;if(W.length>0)switch(Se){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&O.push(W.slice(3).replace(/;;/g,";"));break;case"C":var $e=!1,Le=!1,_e=!1,ie=!1,de=-1,se=-1;for(I=1;I<M.length;++I)switch(M[I].charAt(0)){case"A":break;case"X":E=parseInt(M[I].slice(1))-1,Le=!0;break;case"Y":for(w=parseInt(M[I].slice(1))-1,Le||(E=0),F=U.length;F<=w;++F)U[F]=[];break;case"K":Ie=M[I].slice(1),Ie.charAt(0)==='"'?Ie=Ie.slice(1,Ie.length-1):Ie==="TRUE"?Ie=!0:Ie==="FALSE"?Ie=!1:isNaN(Oi(Ie))?isNaN(b0(Ie).getDate())||(Ie=ds(Ie)):(Ie=Oi(Ie),X!==null&&y6(X)&&(Ie=_6(Ie))),$e=!0;break;case"E":ie=!0;var V=mG(M[I].slice(1),{r:w,c:E});U[w][E]=[U[w][E],V];break;case"S":_e=!0,U[w][E]=[U[w][E],"S5S"];break;case"G":break;case"R":de=parseInt(M[I].slice(1))-1;break;case"C":se=parseInt(M[I].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+W)}if($e&&(U[w][E]&&U[w][E].length==2?U[w][E][0]=Ie:U[w][E]=Ie,X=null),_e){if(ie)throw new Error("SYLK shared formula cannot have own formula");var te=de>-1&&U[de][se];if(!te||!te[1])throw new Error("SYLK shared formula cannot find base");U[w][E][1]=gG(te[1],{r:w-de,c:E-se})}break;case"F":var re=0;for(I=1;I<M.length;++I)switch(M[I].charAt(0)){case"X":E=parseInt(M[I].slice(1))-1,++re;break;case"Y":for(w=parseInt(M[I].slice(1))-1,F=U.length;F<=w;++F)U[F]=[];break;case"M":R=parseInt(M[I].slice(1))/20;break;case"F":break;case"G":break;case"P":X=O[parseInt(M[I].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=M[I].slice(1).split(" "),F=parseInt(C[0],10);F<=parseInt(C[1],10);++F)R=parseInt(C[2],10),S[F-1]=R===0?{hidden:!0}:{wch:R},wb(S[F-1]);break;case"C":E=parseInt(M[I].slice(1))-1,S[E]||(S[E]={});break;case"R":w=parseInt(M[I].slice(1))-1,A[w]||(A[w]={}),R>0?(A[w].hpt=R,A[w].hpx=cA(R)):R===0&&(A[w].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+W)}re<1&&(X=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+W)}}return A.length>0&&(B["!rows"]=A),S.length>0&&(B["!cols"]=S),v&&v.sheetRows&&(U=U.slice(0,v.sheetRows)),[U,B]}function o(y,v){var k=s(y,v),w=k[0],E=k[1],D=$u(w,v);return zn(E).forEach(function(I){D[I]=E[I]}),D}function u(y,v){return tc(o(y,v),v)}function d(y,v,k,w){var E="C;Y"+(k+1)+";X"+(w+1)+";K";switch(y.t){case"n":E+=y.v||0,y.f&&!y.F&&(E+=";E"+Eb(y.f,{r:k,c:w}));break;case"b":E+=y.v?"TRUE":"FALSE";break;case"e":E+=y.w||y.v;break;case"d":E+='"'+(y.w||y.v)+'"';break;case"s":E+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function h(y,v){v.forEach(function(k,w){var E="F;W"+(w+1)+" "+(w+1)+" ";k.hidden?E+="0":(typeof k.width=="number"&&!k.wpx&&(k.wpx=Up(k.width)),typeof k.wpx=="number"&&!k.wch&&(k.wch=zp(k.wpx)),typeof k.wch=="number"&&(E+=Math.round(k.wch))),E.charAt(E.length-1)!=" "&&y.push(E)})}function p(y,v){v.forEach(function(k,w){var E="F;";k.hidden?E+="M0;":k.hpt?E+="M"+20*k.hpt+";":k.hpx&&(E+="M"+20*Hp(k.hpx)+";"),E.length>2&&y.push(E+"R"+(w+1))})}function g(y,v){var k=["ID;PWXL;N;E"],w=[],E=Dr(y["!ref"]),D,I=Array.isArray(y),U=`\r
`;k.push("P;PGeneral"),k.push("F;P0;DG0G8;M255"),y["!cols"]&&h(k,y["!cols"]),y["!rows"]&&p(k,y["!rows"]),k.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var O=E.s.r;O<=E.e.r;++O)for(var X=E.s.c;X<=E.e.c;++X){var B=_r({r:O,c:X});D=I?(y[O]||[])[X]:y[B],!(!D||D.v==null&&(!D.f||D.F))&&w.push(d(D,y,O,X))}return k.join(U)+U+w.join(U)+U+"E"+U}return{to_workbook:u,to_sheet:o,from_sheet:g}})(),yq=(function(){function t(a,o){switch(o.type){case"base64":return e(Hi(a),o);case"binary":return e(a,o);case"buffer":return e(dr&&Buffer.isBuffer(a)?a.toString("binary"):K0(a),o);case"array":return e(Om(a),o)}throw new Error("Unrecognized type "+o.type)}function e(a,o){for(var u=a.split(`
`),d=-1,h=-1,p=0,g=[];p!==u.length;++p){if(u[p].trim()==="BOT"){g[++d]=[],h=0;continue}if(!(d<0)){var y=u[p].trim().split(","),v=y[0],k=y[1];++p;for(var w=u[p]||"";(w.match(/["]/g)||[]).length&1&&p<u.length-1;)w+=`
`+u[++p];switch(w=w.trim(),+v){case-1:if(w==="BOT"){g[++d]=[],h=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?g[d][h]=!0:w==="FALSE"?g[d][h]=!1:isNaN(Oi(k))?isNaN(b0(k).getDate())?g[d][h]=k:g[d][h]=ds(k):g[d][h]=Oi(k),++h;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),g[d][h++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function r(a,o){return $u(t(a,o),o)}function n(a,o){return tc(r(a,o),o)}var s=(function(){var a=function(d,h,p,g,y){d.push(h),d.push(p+","+g),d.push('"'+y.replace(/"/g,'""')+'"')},o=function(d,h,p,g){d.push(h+","+p),d.push(h==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(d){var h=[],p=Dr(d["!ref"]),g,y=Array.isArray(d);a(h,"TABLE",0,1,"sheetjs"),a(h,"VECTORS",0,p.e.r-p.s.r+1,""),a(h,"TUPLES",0,p.e.c-p.s.c+1,""),a(h,"DATA",0,0,"");for(var v=p.s.r;v<=p.e.r;++v){o(h,-1,0,"BOT");for(var k=p.s.c;k<=p.e.c;++k){var w=_r({r:v,c:k});if(g=y?(d[v]||[])[k]:d[w],!g){o(h,1,0,"");continue}switch(g.t){case"n":var E=g.w;!E&&g.v!=null&&(E=g.v),E==null?g.f&&!g.F?o(h,1,0,"="+g.f):o(h,1,0,""):o(h,0,E,"V");break;case"b":o(h,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(h,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=Ho(g.z||Yr[14],Ss(ds(g.v)))),o(h,0,g.w,"V");break;default:o(h,1,0,"")}}}o(h,-1,0,"EOD");var D=`\r
`,I=h.join(D);return I}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),aA=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(g,y){for(var v=g.split(`
`),k=-1,w=-1,E=0,D=[];E!==v.length;++E){var I=v[E].trim().split(":");if(I[0]==="cell"){var U=kn(I[1]);if(D.length<=U.r)for(k=D.length;k<=U.r;++k)D[k]||(D[k]=[]);switch(k=U.r,w=U.c,I[2]){case"t":D[k][w]=t(I[3]);break;case"v":D[k][w]=+I[3];break;case"vtf":var O=I[I.length-1];case"vtc":switch(I[3]){case"nl":D[k][w]=!!+I[4];break;default:D[k][w]=+I[4];break}I[2]=="vtf"&&(D[k][w]=[D[k][w],O])}}}return y&&y.sheetRows&&(D=D.slice(0,y.sheetRows)),D}function n(g,y){return $u(r(g,y),y)}function s(g,y){return tc(n(g,y),y)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(g){if(!g||!g["!ref"])return"";for(var y=[],v=[],k,w="",E=qs(g["!ref"]),D=Array.isArray(g),I=E.s.r;I<=E.e.r;++I)for(var U=E.s.c;U<=E.e.c;++U)if(w=_r({r:I,c:U}),k=D?(g[I]||[])[U]:g[w],!(!k||k.v==null||k.t==="z")){switch(v=["cell",w,"t"],k.t){case"s":case"str":v.push(e(k.v));break;case"n":k.f?(v[2]="vtf",v[3]="n",v[4]=k.v,v[5]=e(k.f)):(v[2]="v",v[3]=k.v);break;case"b":v[2]="vt"+(k.f?"f":"c"),v[3]="nl",v[4]=k.v?"1":"0",v[5]=e(k.f||(k.v?"TRUE":"FALSE"));break;case"d":var O=Ss(ds(k.v));v[2]="vtc",v[3]="nd",v[4]=""+O,v[5]=k.w||Ho(k.z||Yr[14],O);break;case"e":continue}y.push(v.join(":"))}return y.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(g){return[a,o,u,o,h(g),d].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:p}})(),vq=(function(){function t(p,g,y,v,k){k.raw?g[y][v]=p:p===""||(p==="TRUE"?g[y][v]=!0:p==="FALSE"?g[y][v]=!1:isNaN(Oi(p))?isNaN(b0(p).getDate())?g[y][v]=p:g[y][v]=ds(p):g[y][v]=Oi(p))}function e(p,g){var y=g||{},v=[];if(!p||p.length===0)return v;for(var k=p.split(/[\r\n]/),w=k.length-1;w>=0&&k[w].length===0;)--w;for(var E=10,D=0,I=0;I<=w;++I)D=k[I].indexOf(" "),D==-1?D=k[I].length:D++,E=Math.max(E,D);for(I=0;I<=w;++I){v[I]=[];var U=0;for(t(k[I].slice(0,E).trim(),v,I,U,y),U=1;U<=(k[I].length-E)/10+1;++U)t(k[I].slice(E+(U-1)*10,E+U*10).trim(),v,I,U,y)}return y.sheetRows&&(v=v.slice(0,y.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(p){for(var g={},y=!1,v=0,k=0;v<p.length;++v)(k=p.charCodeAt(v))==34?y=!y:!y&&k in r&&(g[k]=(g[k]||0)+1);k=[];for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&k.push([g[v],v]);if(!k.length){g=n;for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&k.push([g[v],v])}return k.sort(function(w,E){return w[0]-E[0]||n[w[1]]-n[E[1]]}),r[k.pop()[1]]||44}function a(p,g){var y=g||{},v="",k=y.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(v=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(v=p.charAt(4),p=p.slice(6)):v=s(p.slice(0,1024)):y&&y.FS?v=y.FS:v=s(p.slice(0,1024));var E=0,D=0,I=0,U=0,O=0,X=v.charCodeAt(0),B=!1,A=0,S=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var C=y.dateNF!=null?OH(y.dateNF):null;function R(){var F=p.slice(U,O),W={};if(F.charAt(0)=='"'&&F.charAt(F.length-1)=='"'&&(F=F.slice(1,-1).replace(/""/g,'"')),F.length===0)W.t="z";else if(y.raw)W.t="s",W.v=F;else if(F.trim().length===0)W.t="s",W.v=F;else if(F.charCodeAt(0)==61)F.charCodeAt(1)==34&&F.charCodeAt(F.length-1)==34?(W.t="s",W.v=F.slice(2,-1).replace(/""/g,'"')):xG(F)?(W.t="n",W.f=F.slice(1)):(W.t="s",W.v=F);else if(F=="TRUE")W.t="b",W.v=!0;else if(F=="FALSE")W.t="b",W.v=!1;else if(!isNaN(I=Oi(F)))W.t="n",y.cellText!==!1&&(W.w=F),W.v=I;else if(!isNaN(b0(F).getDate())||C&&F.match(C)){W.z=y.dateNF||Yr[14];var M=0;C&&F.match(C)&&(F=FH(F,y.dateNF,F.match(C)||[]),M=1),y.cellDates?(W.t="d",W.v=ds(F,M)):(W.t="n",W.v=Ss(ds(F,M))),y.cellText!==!1&&(W.w=Ho(W.z,W.v instanceof Date?Ss(W.v):W.v)),y.cellNF||delete W.z}else W.t="s",W.v=F;if(W.t=="z"||(y.dense?(k[E]||(k[E]=[]),k[E][D]=W):k[_r({c:D,r:E})]=W),U=O+1,S=p.charCodeAt(U),w.e.c<D&&(w.e.c=D),w.e.r<E&&(w.e.r=E),A==X)++D;else if(D=0,++E,y.sheetRows&&y.sheetRows<=E)return!0}e:for(;O<p.length;++O)switch(A=p.charCodeAt(O)){case 34:S===34&&(B=!B);break;case X:case 10:case 13:if(!B&&R())break e;break}return O-U>0&&R(),k["!ref"]=ln(w),k}function o(p,g){return!(g&&g.PRN)||g.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?a(p,g):$u(e(p,g),g)}function u(p,g){var y="",v=g.type=="string"?[0,0,0,0]:IQ(p,g);switch(g.type){case"base64":y=Hi(p);break;case"binary":y=p;break;case"buffer":g.codepage==65001?y=p.toString("utf8"):g.codepage&&typeof Rp<"u"||(y=dr&&Buffer.isBuffer(p)?p.toString("binary"):K0(p));break;case"array":y=Om(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+g.type)}return v[0]==239&&v[1]==187&&v[2]==191?y=qd(y.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?y=qd(y):g.type=="binary"&&typeof Rp<"u",y.slice(0,19)=="socialcalc:version:"?aA.to_sheet(g.type=="string"?y:qd(y),g):o(y,g)}function d(p,g){return tc(u(p,g),g)}function h(p){for(var g=[],y=Dr(p["!ref"]),v,k=Array.isArray(p),w=y.s.r;w<=y.e.r;++w){for(var E=[],D=y.s.c;D<=y.e.c;++D){var I=_r({r:w,c:D});if(v=k?(p[w]||[])[D]:p[I],!v||v.v==null){E.push("          ");continue}for(var U=(v.w||(Wi(v),v.w)||"").slice(0,10);U.length<10;)U+=" ";E.push(U+(D===0?" ":""))}g.push(E.join(""))}return g.join(`
`)}return{to_workbook:d,to_sheet:u,from_sheet:h}})(),LT=(function(){function t(V,te,re){if(V){Ls(V,V.l||0);for(var ne=re.Enum||de;V.l<V.length;){var ee=V.read_shift(2),Fe=ne[ee]||ne[65535],Be=V.read_shift(2),Ae=V.l+Be,Pe=Fe.f&&Fe.f(V,Be,re);if(V.l=Ae,te(Pe,Fe,ee))return}}}function e(V,te){switch(te.type){case"base64":return r(Na(Hi(V)),te);case"binary":return r(Na(V),te);case"buffer":case"array":return r(V,te)}throw"Unsupported type "+te.type}function r(V,te){if(!V)return V;var re=te||{},ne=re.dense?[]:{},ee="Sheet1",Fe="",Be=0,Ae={},Pe=[],it=[],yt={s:{r:0,c:0},e:{r:0,c:0}},Wt=re.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)re.Enum=de,t(V,function(Re,pr,$t){switch($t){case 0:re.vers=Re,Re>=4096&&(re.qpro=!0);break;case 6:yt=Re;break;case 204:Re&&(Fe=Re);break;case 222:Fe=Re;break;case 15:case 51:re.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:$t==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=re.dateNF||Yr[14],re.cellDates&&(Re[1].t="d",Re[1].v=_6(Re[1].v))),re.qpro&&Re[3]>Be&&(ne["!ref"]=ln(yt),Ae[ee]=ne,Pe.push(ee),ne=re.dense?[]:{},yt={s:{r:0,c:0},e:{r:0,c:0}},Be=Re[3],ee=Fe||"Sheet"+(Be+1),Fe="");var Gt=re.dense?(ne[Re[0].r]||[])[Re[0].c]:ne[_r(Re[0])];if(Gt){Gt.t=Re[1].t,Gt.v=Re[1].v,Re[1].z!=null&&(Gt.z=Re[1].z),Re[1].f!=null&&(Gt.f=Re[1].f);break}re.dense?(ne[Re[0].r]||(ne[Re[0].r]=[]),ne[Re[0].r][Re[0].c]=Re[1]):ne[_r(Re[0])]=Re[1];break}},re);else if(V[2]==26||V[2]==14)re.Enum=se,V[2]==14&&(re.qpro=!0,V.l=0),t(V,function(Re,pr,$t){switch($t){case 204:ee=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>Be&&(ne["!ref"]=ln(yt),Ae[ee]=ne,Pe.push(ee),ne=re.dense?[]:{},yt={s:{r:0,c:0},e:{r:0,c:0}},Be=Re[3],ee="Sheet"+(Be+1)),Wt>0&&Re[0].r>=Wt)break;re.dense?(ne[Re[0].r]||(ne[Re[0].r]=[]),ne[Re[0].r][Re[0].c]=Re[1]):ne[_r(Re[0])]=Re[1],yt.e.c<Re[0].c&&(yt.e.c=Re[0].c),yt.e.r<Re[0].r&&(yt.e.r=Re[0].r);break;case 27:Re[14e3]&&(it[Re[14e3][0]]=Re[14e3][1]);break;case 1537:it[Re[0]]=Re[1],Re[0]==Be&&(ee=Re[1]);break}},re);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(ne["!ref"]=ln(yt),Ae[Fe||ee]=ne,Pe.push(Fe||ee),!it.length)return{SheetNames:Pe,Sheets:Ae};for(var Oe={},fr=[],Mt=0;Mt<it.length;++Mt)Ae[Pe[Mt]]?(fr.push(it[Mt]||Pe[Mt]),Oe[it[Mt]]=Ae[it[Mt]]||Ae[Pe[Mt]]):(fr.push(it[Mt]),Oe[it[Mt]]={"!ref":"A1"});return{SheetNames:fr,Sheets:Oe}}function n(V,te){var re=te||{};if(+re.codepage>=0&&y0(+re.codepage),re.type=="string")throw new Error("Cannot write WK1 to JS string");var ne=Ns(),ee=Dr(V["!ref"]),Fe=Array.isArray(V),Be=[];rt(ne,0,a(1030)),rt(ne,6,d(ee));for(var Ae=Math.min(ee.e.r,8191),Pe=ee.s.r;Pe<=Ae;++Pe)for(var it=Bn(Pe),yt=ee.s.c;yt<=ee.e.c;++yt){Pe===ee.s.r&&(Be[yt]=Zn(yt));var Wt=Be[yt]+it,Oe=Fe?(V[Pe]||[])[yt]:V[Wt];if(!(!Oe||Oe.t=="z"))if(Oe.t=="n")(Oe.v|0)==Oe.v&&Oe.v>=-32768&&Oe.v<=32767?rt(ne,13,v(Pe,yt,Oe.v)):rt(ne,14,w(Pe,yt,Oe.v));else{var fr=Wi(Oe);rt(ne,15,g(Pe,yt,fr.slice(0,239)))}}return rt(ne,1),ne.end()}function s(V,te){var re=te||{};if(+re.codepage>=0&&y0(+re.codepage),re.type=="string")throw new Error("Cannot write WK3 to JS string");var ne=Ns();rt(ne,0,o(V));for(var ee=0,Fe=0;ee<V.SheetNames.length;++ee)(V.Sheets[V.SheetNames[ee]]||{})["!ref"]&&rt(ne,27,ie(V.SheetNames[ee],Fe++));var Be=0;for(ee=0;ee<V.SheetNames.length;++ee){var Ae=V.Sheets[V.SheetNames[ee]];if(!(!Ae||!Ae["!ref"])){for(var Pe=Dr(Ae["!ref"]),it=Array.isArray(Ae),yt=[],Wt=Math.min(Pe.e.r,8191),Oe=Pe.s.r;Oe<=Wt;++Oe)for(var fr=Bn(Oe),Mt=Pe.s.c;Mt<=Pe.e.c;++Mt){Oe===Pe.s.r&&(yt[Mt]=Zn(Mt));var Re=yt[Mt]+fr,pr=it?(Ae[Oe]||[])[Mt]:Ae[Re];if(!(!pr||pr.t=="z"))if(pr.t=="n")rt(ne,23,R(Oe,Mt,Be,pr.v));else{var $t=Wi(pr);rt(ne,22,A(Oe,Mt,Be,$t.slice(0,239)))}}++Be}}return rt(ne,1),ne.end()}function a(V){var te=Ce(2);return te.write_shift(2,V),te}function o(V){var te=Ce(26);te.write_shift(2,4096),te.write_shift(2,4),te.write_shift(4,0);for(var re=0,ne=0,ee=0,Fe=0;Fe<V.SheetNames.length;++Fe){var Be=V.SheetNames[Fe],Ae=V.Sheets[Be];if(!(!Ae||!Ae["!ref"])){++ee;var Pe=qs(Ae["!ref"]);re<Pe.e.r&&(re=Pe.e.r),ne<Pe.e.c&&(ne=Pe.e.c)}}return re>8191&&(re=8191),te.write_shift(2,re),te.write_shift(1,ee),te.write_shift(1,ne),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(1,1),te.write_shift(1,2),te.write_shift(4,0),te.write_shift(4,0),te}function u(V,te,re){var ne={s:{c:0,r:0},e:{c:0,r:0}};return te==8&&re.qpro?(ne.s.c=V.read_shift(1),V.l++,ne.s.r=V.read_shift(2),ne.e.c=V.read_shift(1),V.l++,ne.e.r=V.read_shift(2),ne):(ne.s.c=V.read_shift(2),ne.s.r=V.read_shift(2),te==12&&re.qpro&&(V.l+=2),ne.e.c=V.read_shift(2),ne.e.r=V.read_shift(2),te==12&&re.qpro&&(V.l+=2),ne.s.c==65535&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}function d(V){var te=Ce(8);return te.write_shift(2,V.s.c),te.write_shift(2,V.s.r),te.write_shift(2,V.e.c),te.write_shift(2,V.e.r),te}function h(V,te,re){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return re.qpro&&re.vers!=20768?(ne[0].c=V.read_shift(1),ne[3]=V.read_shift(1),ne[0].r=V.read_shift(2),V.l+=2):(ne[2]=V.read_shift(1),ne[0].c=V.read_shift(2),ne[0].r=V.read_shift(2)),ne}function p(V,te,re){var ne=V.l+te,ee=h(V,te,re);if(ee[1].t="s",re.vers==20768){V.l++;var Fe=V.read_shift(1);return ee[1].v=V.read_shift(Fe,"utf8"),ee}return re.qpro&&V.l++,ee[1].v=V.read_shift(ne-V.l,"cstr"),ee}function g(V,te,re){var ne=Ce(7+re.length);ne.write_shift(1,255),ne.write_shift(2,te),ne.write_shift(2,V),ne.write_shift(1,39);for(var ee=0;ee<ne.length;++ee){var Fe=re.charCodeAt(ee);ne.write_shift(1,Fe>=128?95:Fe)}return ne.write_shift(1,0),ne}function y(V,te,re){var ne=h(V,te,re);return ne[1].v=V.read_shift(2,"i"),ne}function v(V,te,re){var ne=Ce(7);return ne.write_shift(1,255),ne.write_shift(2,te),ne.write_shift(2,V),ne.write_shift(2,re,"i"),ne}function k(V,te,re){var ne=h(V,te,re);return ne[1].v=V.read_shift(8,"f"),ne}function w(V,te,re){var ne=Ce(13);return ne.write_shift(1,255),ne.write_shift(2,te),ne.write_shift(2,V),ne.write_shift(8,re,"f"),ne}function E(V,te,re){var ne=V.l+te,ee=h(V,te,re);if(ee[1].v=V.read_shift(8,"f"),re.qpro)V.l=ne;else{var Fe=V.read_shift(2);O(V.slice(V.l,V.l+Fe),ee),V.l+=Fe}return ee}function D(V,te,re){var ne=te&32768;return te&=-32769,te=(ne?V:0)+(te>=8192?te-16384:te),(ne?"":"$")+(re?Zn(te):Bn(te))}var I={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},U=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(V,te){Ls(V,0);for(var re=[],ne=0,ee="",Fe="",Be="",Ae="";V.l<V.length;){var Pe=V[V.l++];switch(Pe){case 0:re.push(V.read_shift(8,"f"));break;case 1:Fe=D(te[0].c,V.read_shift(2),!0),ee=D(te[0].r,V.read_shift(2),!1),re.push(Fe+ee);break;case 2:{var it=D(te[0].c,V.read_shift(2),!0),yt=D(te[0].r,V.read_shift(2),!1);Fe=D(te[0].c,V.read_shift(2),!0),ee=D(te[0].r,V.read_shift(2),!1),re.push(it+yt+":"+Fe+ee)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:re.push("("+re.pop()+")");break;case 5:re.push(V.read_shift(2));break;case 6:{for(var Wt="";Pe=V[V.l++];)Wt+=String.fromCharCode(Pe);re.push('"'+Wt.replace(/"/g,'""')+'"')}break;case 8:re.push("-"+re.pop());break;case 23:re.push("+"+re.pop());break;case 22:re.push("NOT("+re.pop()+")");break;case 20:case 21:Ae=re.pop(),Be=re.pop(),re.push(["AND","OR"][Pe-20]+"("+Be+","+Ae+")");break;default:if(Pe<32&&U[Pe])Ae=re.pop(),Be=re.pop(),re.push(Be+U[Pe]+Ae);else if(I[Pe]){if(ne=I[Pe][1],ne==69&&(ne=V[V.l++]),ne>re.length){console.error("WK1 bad formula parse 0x"+Pe.toString(16)+":|"+re.join("|")+"|");return}var Oe=re.slice(-ne);re.length-=ne,re.push(I[Pe][0]+"("+Oe.join(",")+")")}else return Pe<=7?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=24?console.error("WK1 unsupported op "+Pe.toString(16)):Pe<=30?console.error("WK1 invalid opcode "+Pe.toString(16)):Pe<=115?console.error("WK1 unsupported function opcode "+Pe.toString(16)):console.error("WK1 unrecognized opcode "+Pe.toString(16))}}re.length==1?te[1].f=""+re[0]:console.error("WK1 bad formula parse |"+re.join("|")+"|")}function X(V){var te=[{c:0,r:0},{t:"n",v:0},0];return te[0].r=V.read_shift(2),te[3]=V[V.l++],te[0].c=V[V.l++],te}function B(V,te){var re=X(V);return re[1].t="s",re[1].v=V.read_shift(te-4,"cstr"),re}function A(V,te,re,ne){var ee=Ce(6+ne.length);ee.write_shift(2,V),ee.write_shift(1,re),ee.write_shift(1,te),ee.write_shift(1,39);for(var Fe=0;Fe<ne.length;++Fe){var Be=ne.charCodeAt(Fe);ee.write_shift(1,Be>=128?95:Be)}return ee.write_shift(1,0),ee}function S(V,te){var re=X(V);re[1].v=V.read_shift(2);var ne=re[1].v>>1;if(re[1].v&1)switch(ne&7){case 0:ne=(ne>>3)*5e3;break;case 1:ne=(ne>>3)*500;break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64;break}return re[1].v=ne,re}function C(V,te){var re=X(V),ne=V.read_shift(4),ee=V.read_shift(4),Fe=V.read_shift(2);if(Fe==65535)return ne===0&&ee===3221225472?(re[1].t="e",re[1].v=15):ne===0&&ee===3489660928?(re[1].t="e",re[1].v=42):re[1].v=0,re;var Be=Fe&32768;return Fe=(Fe&32767)-16446,re[1].v=(1-Be*2)*(ee*Math.pow(2,Fe+32)+ne*Math.pow(2,Fe)),re}function R(V,te,re,ne){var ee=Ce(14);if(ee.write_shift(2,V),ee.write_shift(1,re),ee.write_shift(1,te),ne==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var Fe=0,Be=0,Ae=0,Pe=0;return ne<0&&(Fe=1,ne=-ne),Be=Math.log2(ne)|0,ne/=Math.pow(2,Be-31),Pe=ne>>>0,(Pe&2147483648)==0&&(ne/=2,++Be,Pe=ne>>>0),ne-=Pe,Pe|=2147483648,Pe>>>=0,ne*=Math.pow(2,32),Ae=ne>>>0,ee.write_shift(4,Ae),ee.write_shift(4,Pe),Be+=16383+(Fe?32768:0),ee.write_shift(2,Be),ee}function F(V,te){var re=C(V);return V.l+=te-14,re}function W(V,te){var re=X(V),ne=V.read_shift(4);return re[1].v=ne>>6,re}function M(V,te){var re=X(V),ne=V.read_shift(8,"f");return re[1].v=ne,re}function Se(V,te){var re=M(V);return V.l+=te-10,re}function Ie(V,te){return V[V.l+te-1]==0?V.read_shift(te,"cstr"):""}function $e(V,te){var re=V[V.l++];re>te-1&&(re=te-1);for(var ne="";ne.length<re;)ne+=String.fromCharCode(V[V.l++]);return ne}function Le(V,te,re){if(!(!re.qpro||te<21)){var ne=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var ee=V.read_shift(te-21,"cstr");return[ne,ee]}}function _e(V,te){for(var re={},ne=V.l+te;V.l<ne;){var ee=V.read_shift(2);if(ee==14e3){for(re[ee]=[0,""],re[ee][0]=V.read_shift(2);V[V.l];)re[ee][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return re}function ie(V,te){var re=Ce(5+V.length);re.write_shift(2,14e3),re.write_shift(2,te);for(var ne=0;ne<V.length;++ne){var ee=V.charCodeAt(ne);re[re.l++]=ee>127?95:ee}return re[re.l++]=0,re}var de={0:{n:"BOF",f:eA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:k},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ie},222:{n:"SHEETNAMELP",f:$e},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:B},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:F},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:_e},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:Se},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}})(),bq=/^\s|\s$|[\t\n\r]/;function iA(t,e){if(!e.bookSST)return"";var r=[cn];r[r.length]=tt("sst",null,{xmlns:Mu[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var s=t[n],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(bq)&&(a+=' xml:space="preserve"'),a+=">"+wr(s.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function wq(t){return[t.read_shift(4),t.read_shift(4)]}function _q(t,e){return e||(e=Ce(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var Eq=fW;function Tq(t){var e=Ns();ze(e,159,_q(t));for(var r=0;r<t.length;++r)ze(e,19,Eq(t[r]));return ze(e,160),e.end()}function kq(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function oA(t){var e=0,r,n=kq(t),s=n.length+1,a,o,u,d,h;for(r=Vl(s),r[0]=n.length,a=1;a!=s;++a)r[a]=n[a-1];for(a=s-1;a>=0;--a)o=r[a],u=(e&16384)===0?0:1,d=e<<1&32767,h=u|d,e=h^o;return e^52811}var Nq=(function(){function t(s,a){switch(a.type){case"base64":return e(Hi(s),a);case"binary":return e(s,a);case"buffer":return e(dr&&Buffer.isBuffer(s)?s.toString("binary"):K0(s),a);case"array":return e(Om(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){var o=a||{},u=o.dense?[]:{},d=s.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,g){Array.isArray(u)&&(u[g]=[]);for(var y=/\\\w+\b/g,v=0,k,w=-1;k=y.exec(p);){switch(k[0]){case"\\cell":var E=p.slice(v,y.lastIndex-k[0].length);if(E[0]==" "&&(E=E.slice(1)),++w,E.length){var D={v:E,t:"s"};Array.isArray(u)?u[g][w]=D:u[_r({r:g,c:w})]=D}break}v=y.lastIndex}w>h.e.c&&(h.e.c=w)}),u["!ref"]=ln(h),u}function r(s,a){return tc(t(s,a),a)}function n(s){for(var a=["{\\rtf1\\ansi"],o=Dr(s["!ref"]),u,d=Array.isArray(s),h=o.s.r;h<=o.e.r;++h){a.push("\\trowd\\trautofit1");for(var p=o.s.c;p<=o.e.c;++p)a.push("\\cellx"+(p+1));for(a.push("\\pard\\intbl"),p=o.s.c;p<=o.e.c;++p){var g=_r({r:h,c:p});u=d?(s[h]||[])[p]:s[g],!(!u||u.v==null&&(!u.f||u.F))&&(a.push(" "+(u.w||(Wi(u),u.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function MT(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var Sq=6,Fi=Sq;function Up(t){return Math.floor((t+Math.round(128/Fi)/256)*Fi)}function zp(t){return Math.floor((t-5)/Fi*100+.5)/100}function tv(t){return Math.round((t*Fi+5)/Fi*256)/256}function wb(t){t.width?(t.wpx=Up(t.width),t.wch=zp(t.wpx),t.MDW=Fi):t.wpx?(t.wch=zp(t.wpx),t.width=tv(t.wch),t.MDW=Fi):typeof t.wch=="number"&&(t.width=tv(t.wch),t.wpx=Up(t.width),t.MDW=Fi),t.customWidth&&delete t.customWidth}var Aq=96,lA=Aq;function Hp(t){return t*96/lA}function cA(t){return t*lA/96}function Cq(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=tt("numFmt",null,{numFmtId:n,formatCode:wr(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=tt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function jq(t){var e=[];return e[e.length]=tt("cellXfs",null),t.forEach(function(r){e[e.length]=tt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=tt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function uA(t,e){var r=[cn,tt("styleSheet",null,{xmlns:Mu[0],"xmlns:vt":Tn.vt})],n;return t.SSF&&(n=Cq(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=jq(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Iq(t,e){var r=t.read_shift(2),n=es(t);return[r,n]}function Pq(t,e,r){r||(r=Ce(6+4*e.length)),r.write_shift(2,t),Nn(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Rq(t,e,r){var n={};n.sz=t.read_shift(2)/20;var s=bW(t);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var u=t.read_shift(1);u>0&&(n.family=u);var d=t.read_shift(1);switch(d>0&&(n.charset=d),t.l++,n.color=vW(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=es(t),n}function Dq(t,e){e||(e=Ce(153)),e.write_shift(2,t.sz*20),wW(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Vp(t.color,e);var n=0;return n=2,e.write_shift(1,n),Nn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Oq=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Qx,Fq=di;function $T(t,e){e||(e=Ce(84)),Qx||(Qx=cb(Oq));var r=Qx[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Vp({auto:1},e),Vp({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Lq(t,e){var r=t.l+e,n=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:s}}function dA(t,e,r){r||(r=Ce(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Ed(t,e){return e||(e=Ce(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Mq=di;function $q(t,e){return e||(e=Ce(51)),e.write_shift(1,0),Ed(null,e),Ed(null,e),Ed(null,e),Ed(null,e),Ed(null,e),e.length>e.l?e.slice(0,e.l):e}function Vq(t,e){return e||(e=Ce(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),$p(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Bq(t,e,r){var n=Ce(2052);return n.write_shift(4,t),$p(e,n),$p(r,n),n.length>n.l?n.slice(0,n.l):n}function Uq(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&++r}),r!=0&&(ze(t,615,Ia(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&ze(t,44,Pq(s,e[s]))}),ze(t,616))}}function zq(t){var e=1;ze(t,611,Ia(e)),ze(t,43,Dq({sz:12,color:{theme:1},name:"Calibri",family:2})),ze(t,612)}function Hq(t){var e=2;ze(t,603,Ia(e)),ze(t,45,$T({patternType:"none"})),ze(t,45,$T({patternType:"gray125"})),ze(t,604)}function Wq(t){var e=1;ze(t,613,Ia(e)),ze(t,46,$q()),ze(t,614)}function qq(t){var e=1;ze(t,626,Ia(e)),ze(t,47,dA({numFmtId:0},65535)),ze(t,627)}function Gq(t,e){ze(t,617,Ia(e.length)),e.forEach(function(r){ze(t,47,dA(r,0))}),ze(t,618)}function Kq(t){var e=1;ze(t,619,Ia(e)),ze(t,48,Vq({xfId:0,name:"Normal"})),ze(t,620)}function Xq(t){var e=0;ze(t,505,Ia(e)),ze(t,506)}function Yq(t){var e=0;ze(t,508,Bq(e,"TableStyleMedium9","PivotStyleMedium4")),ze(t,509)}function Qq(t,e){var r=Ns();return ze(r,278),Uq(r,t.SSF),zq(r),Hq(r),Wq(r),qq(r),Gq(r,e.cellXfs),Kq(r),Xq(r),Yq(r),ze(r,279),r.end()}function hA(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[cn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Jq(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:es(t)}}function Zq(t){var e=Ce(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Nn(t.name,e),e.slice(0,e.l)}function eG(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function tG(t){var e=Ce(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function rG(t,e){var r=Ce(8+2*e.length);return r.write_shift(4,t),Nn(e,r),r.slice(0,r.l)}function nG(t){return t.l+=4,t.read_shift(4)!=0}function sG(t,e){var r=Ce(8);return r.write_shift(4,t),r.write_shift(4,1),r}function aG(){var t=Ns();return ze(t,332),ze(t,334,Ia(1)),ze(t,335,Zq({name:"XLDAPR",version:12e4,flags:3496657072})),ze(t,336),ze(t,339,rG(1,"XLDAPR")),ze(t,52),ze(t,35,Ia(514)),ze(t,4096,Ia(0)),ze(t,4097,aa(1)),ze(t,36),ze(t,53),ze(t,340),ze(t,337,sG(1)),ze(t,51,tG([[1,0]])),ze(t,338),ze(t,333),t.end()}function fA(){var t=[cn];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function iG(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=_r(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var eu=1024;function pA(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[tt("xml",null,{"xmlns:v":Ms.v,"xmlns:o":Ms.o,"xmlns:x":Ms.x,"xmlns:mv":Ms.mv}).replace(/\/>/,">"),tt("o:shapelayout",tt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),tt("v:shapetype",[tt("v:stroke",null,{joinstyle:"miter"}),tt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];eu<t*1e3;)eu+=1e3;return e.forEach(function(a){var o=kn(a[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var d=u.type=="gradient"?tt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=tt("v:fill",d,u),p={on:"t",obscured:"t"};++eu,s=s.concat(["<v:shape"+_0({id:"_x0000_s"+eu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,tt("v:shadow",null,p),tt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Mn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Mn("x:AutoFill","False"),Mn("x:Row",String(o.r)),Mn("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function mA(t){var e=[cn,tt("comments",null,{xmlns:Mu[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(s){var a=wr(s.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var s=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(s=r.indexOf(wr(d.a))),a.push(d.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),a.length<=1)e.push(Mn("t",wr(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,u=1;u<a.length;++u)o+=`Reply:
    `+a[u]+`
`;e.push(Mn("t",wr(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function oG(t,e,r){var n=[cn,tt("ThreadedComments",null,{xmlns:Tn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var a="";(s[1]||[]).forEach(function(o,u){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var d={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};u==0?a=d.id:d.parentId=a,o.ID=d.id,o.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),n.push(tt("threadedComment",Mn("text",o.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function lG(t){var e=[cn,tt("personList",null,{xmlns:Tn.TCMNT,"xmlns:x":Mu[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(tt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function cG(t){var e={};e.iauthor=t.read_shift(4);var r=ac(t);return e.rfx=r.s,e.ref=_r(r.s),t.l+=16,e}function uG(t,e){return e==null&&(e=Ce(36)),e.write_shift(4,t[1].iauthor),Vu(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var dG=es;function hG(t){return Nn(t.slice(0,54))}function fG(t){var e=Ns(),r=[];return ze(e,628),ze(e,630),t.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),ze(e,632,hG(s.a)))})}),ze(e,631),ze(e,633),t.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var a={s:kn(n[0]),e:kn(n[0])};ze(e,635,uG([a,s])),s.t&&s.t.length>0&&ze(e,637,mW(s)),ze(e,636),delete s.iauthor})}),ze(e,634),ze(e,629),e.end()}function pG(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Tr.utils.cfb_add(t,s,e.FileIndex[n].content)}})}var gA=["xlsb","xlsm","xlam","biff8","xla"],mG=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,s,a,o){var u=!1,d=!1;a.length==0?d=!0:a.charAt(0)=="["&&(d=!0,a=a.slice(1,-1)),o.length==0?u=!0:o.charAt(0)=="["&&(u=!0,o=o.slice(1,-1));var h=a.length>0?parseInt(a,10)|0:0,p=o.length>0?parseInt(o,10)|0:0;return u?p+=e.c:--p,d?h+=e.r:--h,s+(u?"":"$")+Zn(p)+(d?"":"$")+Bn(h)}return function(s,a){return e=a,s.replace(t,r)}})(),_b=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Eb=(function(){return function(e,r){return e.replace(_b,function(n,s,a,o,u,d){var h=gb(o)-(a?0:r.c),p=mb(d)-(u?0:r.r),g=p==0?"":u?p+1:"["+p+"]",y=h==0?"":a?h+1:"["+h+"]";return s+"R"+g+"C"+y})}})();function gG(t,e){return t.replace(_b,function(r,n,s,a,o,u){return n+(s=="$"?s+a:Zn(gb(a)+e.c))+(o=="$"?o+u:Bn(mb(u)+e.r))})}function xG(t){return t.length!=1}function sn(t){t.l+=1}function Wo(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function xA(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return yA(t);r.biff==12&&(n=4)}var s=t.read_shift(n),a=t.read_shift(n),o=Wo(t),u=Wo(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:u[0],cRel:u[1],rRel:u[2]}}}function yA(t){var e=Wo(t),r=Wo(t),n=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function yG(t,e,r){if(r.biff<8)return yA(t);var n=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),a=Wo(t),o=Wo(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function vA(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return vG(t);var n=t.read_shift(r&&r.biff==12?4:2),s=Wo(t);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function vG(t){var e=Wo(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function bG(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function wG(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return _G(t);var s=t.read_shift(n>=12?4:2),a=t.read_shift(2),o=(a&16384)>>14,u=(a&32768)>>15;if(a&=16383,u==1)for(;s>524287;)s-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:o,rRel:u}}function _G(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:n}}function EG(t,e,r){var n=(t[t.l++]&96)>>5,s=xA(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function TG(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var o=xA(t,a,r);return[n,s,o]}function kG(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function NG(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,s]}function SG(t,e,r){var n=(t[t.l++]&96)>>5,s=yG(t,e-1,r);return[n,s]}function AG(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function VT(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function CG(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),s=[],a=0;a<=n;++a)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function jG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function IG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function PG(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function RG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function bA(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function DG(t){return t.read_shift(2),bA(t)}function OG(t){return t.read_shift(2),bA(t)}function FG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=vA(t,0,r);return[n,s]}function LG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=wG(t,0,r);return[n,s]}function MG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=vA(t,0,r);return[n,s,a]}function $G(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[$K[s],EA[s],n]}function VG(t,e,r){var n=t[t.l++],s=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:BG(t);return[s,(a[0]===0?EA:MK)[a[1]]]}function BG(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function UG(t,e,r){t.l+=r&&r.biff==2?3:4}function zG(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function HG(t){return t.l++,Q0[t.read_shift(1)]}function WG(t){return t.l++,t.read_shift(2)}function qG(t){return t.l++,t.read_shift(1)!==0}function GG(t){return t.l++,Bu(t)}function KG(t,e,r){return t.l++,rA(t,e-1,r)}function XG(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=MW(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Q0[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Bu(t);break;case 2:r[1]=UW(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function YG(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),s=[],a=0;a!=n;++a)s.push((r.biff==12?ac:WW)(t));return s}function QG(t,e,r){var n=0,s=0;r.biff==12?(n=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var a=0,o=[];a!=n&&(o[a]=[]);++a)for(var u=0;u!=s;++u)o[a][u]=XG(t,r.biff);return o}function JG(t,e,r){var n=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,a=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function ZG(t,e,r){if(r.biff==5)return eK(t);var n=t.read_shift(1)>>>5&3,s=t.read_shift(2),a=t.read_shift(4);return[n,s,a]}function eK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function tK(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function rK(t,e,r){var n=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function nK(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function sK(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,s]}var aK=di,iK=di,oK=di;function J0(t,e,r){return t.l+=2,[bG(t)]}function Tb(t){return t.l+=6,[]}var lK=J0,cK=Tb,uK=Tb,dK=J0;function wA(t){return t.l+=2,[eA(t),t.read_shift(2)&1]}var hK=J0,fK=wA,pK=Tb,mK=J0,gK=J0,xK=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function yK(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s=t.read_shift(2),a=t.read_shift(2),o=xK[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:s,C:a}}function vK(t){return t.l+=2,[t.read_shift(4)]}function bK(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function wK(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function _K(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function EK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function TK(t){return t.l+=4,[0,0]}var BT={1:{n:"PtgExp",f:zG},2:{n:"PtgTbl",f:oK},3:{n:"PtgAdd",f:sn},4:{n:"PtgSub",f:sn},5:{n:"PtgMul",f:sn},6:{n:"PtgDiv",f:sn},7:{n:"PtgPower",f:sn},8:{n:"PtgConcat",f:sn},9:{n:"PtgLt",f:sn},10:{n:"PtgLe",f:sn},11:{n:"PtgEq",f:sn},12:{n:"PtgGe",f:sn},13:{n:"PtgGt",f:sn},14:{n:"PtgNe",f:sn},15:{n:"PtgIsect",f:sn},16:{n:"PtgUnion",f:sn},17:{n:"PtgRange",f:sn},18:{n:"PtgUplus",f:sn},19:{n:"PtgUminus",f:sn},20:{n:"PtgPercent",f:sn},21:{n:"PtgParen",f:sn},22:{n:"PtgMissArg",f:sn},23:{n:"PtgStr",f:KG},26:{n:"PtgSheet",f:bK},27:{n:"PtgEndSheet",f:wK},28:{n:"PtgErr",f:HG},29:{n:"PtgBool",f:qG},30:{n:"PtgInt",f:WG},31:{n:"PtgNum",f:GG},32:{n:"PtgArray",f:AG},33:{n:"PtgFunc",f:$G},34:{n:"PtgFuncVar",f:VG},35:{n:"PtgName",f:JG},36:{n:"PtgRef",f:FG},37:{n:"PtgArea",f:EG},38:{n:"PtgMemArea",f:tK},39:{n:"PtgMemErr",f:aK},40:{n:"PtgMemNoMem",f:iK},41:{n:"PtgMemFunc",f:rK},42:{n:"PtgRefErr",f:nK},43:{n:"PtgAreaErr",f:kG},44:{n:"PtgRefN",f:LG},45:{n:"PtgAreaN",f:SG},46:{n:"PtgMemAreaN",f:_K},47:{n:"PtgMemNoMemN",f:EK},57:{n:"PtgNameX",f:ZG},58:{n:"PtgRef3d",f:MG},59:{n:"PtgArea3d",f:TG},60:{n:"PtgRefErr3d",f:sK},61:{n:"PtgAreaErr3d",f:NG},255:{}},kK={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},NK={1:{n:"PtgElfLel",f:wA},2:{n:"PtgElfRw",f:mK},3:{n:"PtgElfCol",f:lK},6:{n:"PtgElfRwV",f:gK},7:{n:"PtgElfColV",f:dK},10:{n:"PtgElfRadical",f:hK},11:{n:"PtgElfRadicalS",f:pK},13:{n:"PtgElfColS",f:cK},15:{n:"PtgElfColSV",f:uK},16:{n:"PtgElfRadicalLel",f:fK},25:{n:"PtgList",f:yK},29:{n:"PtgSxName",f:vK},255:{}},SK={0:{n:"PtgAttrNoop",f:TK},1:{n:"PtgAttrSemi",f:RG},2:{n:"PtgAttrIf",f:IG},4:{n:"PtgAttrChoose",f:CG},8:{n:"PtgAttrGoto",f:jG},16:{n:"PtgAttrSum",f:UG},32:{n:"PtgAttrBaxcel",f:VT},33:{n:"PtgAttrBaxcel",f:VT},64:{n:"PtgAttrSpace",f:DG},65:{n:"PtgAttrSpaceSemi",f:OG},128:{n:"PtgAttrIfError",f:PG},255:{}};function AK(t,e,r,n){if(n.biff<8)return di(t,e);for(var s=t.l+e,a=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=QG(t,0,n),a.push(r[o][1]);break;case"PtgMemArea":r[o][2]=YG(t,r[o][1],n),a.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),a.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=s-t.l,e!==0&&a.push(di(t,e)),a}function CK(t,e,r){for(var n=t.l+e,s,a,o=[];n!=t.l;)e=n-t.l,a=t[t.l],s=BT[a]||BT[kK[a]],(a===24||a===25)&&(s=(a===24?NK:SK)[t[t.l+1]]),!s||!s.f?di(t,e):o.push([s.n,s.f(t,e,r)]);return o}function jK(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],s=[],a=0;a<n.length;++a){var o=n[a];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var IK={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function PK(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function _A(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[n[0]][0]){case 357:return s=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(s=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function UT(t,e,r){var n=_A(t,e,r);return n=="#REF"?n:PK(n,r)}function ku(t,e,r,n,s){var a=s&&s.biff||8,o={s:{c:0,r:0}},u=[],d,h,p,g=0,y=0,v,k="";if(!t[0]||!t[0][0])return"";for(var w=-1,E="",D=0,I=t[0].length;D<I;++D){var U=t[0][D];switch(U[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=u.pop(),h=u.pop(),w>=0){switch(t[0][w][1][0]){case 0:E=Kr(" ",t[0][w][1][1]);break;case 1:E=Kr("\r",t[0][w][1][1]);break;default:if(E="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}h=h+E,w=-1}u.push(h+IK[U[0]]+d);break;case"PtgIsect":d=u.pop(),h=u.pop(),u.push(h+" "+d);break;case"PtgUnion":d=u.pop(),h=u.pop(),u.push(h+","+d);break;case"PtgRange":d=u.pop(),h=u.pop(),u.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Kd(U[1][1],o,s),u.push(Xd(p,a));break;case"PtgRefN":p=r?Kd(U[1][1],r,s):U[1][1],u.push(Xd(p,a));break;case"PtgRef3d":g=U[1][1],p=Kd(U[1][2],o,s),k=UT(n,g,s),u.push(k+"!"+Xd(p,a));break;case"PtgFunc":case"PtgFuncVar":var O=U[1][0],X=U[1][1];O||(O=0),O&=127;var B=O==0?[]:u.slice(-O);u.length-=O,X==="User"&&(X=B.shift()),u.push(X+"("+B.join(",")+")");break;case"PtgBool":u.push(U[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(U[1]);break;case"PtgNum":u.push(String(U[1]));break;case"PtgStr":u.push('"'+U[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(U[1]);break;case"PtgAreaN":v=NT(U[1][1],r?{s:r}:o,s),u.push(Xx(v,s));break;case"PtgArea":v=NT(U[1][1],o,s),u.push(Xx(v,s));break;case"PtgArea3d":g=U[1][1],v=U[1][2],k=UT(n,g,s),u.push(k+"!"+Xx(v,s));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=U[1][2];var A=(n.names||[])[y-1]||(n[0]||[])[y],S=A?A.Name:"SH33TJSNAME"+String(y);S&&S.slice(0,6)=="_xlfn."&&!s.xlfn&&(S=S.slice(6)),u.push(S);break;case"PtgNameX":var C=U[1][1];y=U[1][2];var R;if(s.biff<=5)C<0&&(C=-C),n[C]&&(R=n[C][y]);else{var F="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][y]&&n[C][y].itab>0&&(F=n.SheetNames[n[C][y].itab-1]+"!"):F=n.SheetNames[y-1]+"!"),n[C]&&n[C][y])F+=n[C][y].Name;else if(n[0]&&n[0][y])F+=n[0][y].Name;else{var W=(_A(n,C,s)||"").split(";;");W[y-1]?F=W[y-1]:F+="SH33TJSERRX"}u.push(F);break}R||(R={Name:"SH33TJSERRY"}),u.push(R.Name);break;case"PtgParen":var M="(",Se=")";if(w>=0){switch(E="",t[0][w][1][0]){case 2:M=Kr(" ",t[0][w][1][1])+M;break;case 3:M=Kr("\r",t[0][w][1][1])+M;break;case 4:Se=Kr(" ",t[0][w][1][1])+Se;break;case 5:Se=Kr("\r",t[0][w][1][1])+Se;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}u.push(M+u.pop()+Se);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":p={c:U[1][1],r:U[1][0]};var Ie={c:r.c,r:r.r};if(n.sharedf[_r(p)]){var $e=n.sharedf[_r(p)];u.push(ku($e,o,Ie,n,s))}else{var Le=!1;for(d=0;d!=n.arrayf.length;++d)if(h=n.arrayf[d],!(p.c<h[0].s.c||p.c>h[0].e.c)&&!(p.r<h[0].s.r||p.r>h[0].e.r)){u.push(ku(h[1],o,Ie,n,s)),Le=!0;break}Le||u.push(U[1])}break;case"PtgArray":u.push("{"+jK(U[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=D;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+U[1].idx+"[#"+U[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(U));default:throw new Error("Unrecognized Formula Token: "+String(U))}var _e=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&w>=0&&_e.indexOf(t[0][D][0])==-1){U=t[0][w];var ie=!0;switch(U[1][0]){case 4:ie=!1;case 0:E=Kr(" ",U[1][1]);break;case 5:ie=!1;case 1:E=Kr("\r",U[1][1]);break;default:if(E="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+U[1][0])}u.push((ie?E:"")+u.pop()+(ie?"":E)),w=-1}}if(u.length>1&&s.WTF)throw new Error("bad formula stack");return u[0]}function RK(t){if(t==null){var e=Ce(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Bl(t);return Bl(0)}function DK(t,e,r,n,s){var a=Ul(e,r,s),o=RK(t.v),u=Ce(6),d=33;u.write_shift(2,d),u.write_shift(4,0);for(var h=Ce(t.bf.length),p=0;p<t.bf.length;++p)h[p]=t.bf[p];var g=Ln([a,o,u,h]);return g}function Fm(t,e,r){var n=t.read_shift(4),s=CK(t,n,r),a=t.read_shift(4),o=a>0?AK(t,a,s,r):null;return[s,o]}var OK=Fm,Lm=Fm,FK=Fm,LK=Fm,MK={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},EA={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},$K={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function VK(t){var e="of:="+t.replace(_b,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function BK(t){return t.replace(/\./,"!")}var Yd=typeof Map<"u";function kb(t,e,r){var n=0,s=t.length;if(r){if(Yd?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=Yd?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<s;++n)if(t[n].t===e)return t.Count++,n;return t[s]={t:e},t.Count++,t.Unique++,r&&(Yd?(r.has(e)||r.set(e,[]),r.get(e).push(s)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(s))),s}function Mm(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Fi=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=zp(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=tv(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function TA(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Zo(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],s=60,a=t.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){v6(e.z,s),r.ssf[s]=e.z,r.revssf[e.z]=n=s;break}}for(s=0;s!=a;++s)if(t[s].numFmtId===n)return s;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function UK(t,e,r){if(t&&t["!ref"]){var n=Dr(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function zK(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+ln(t[r])+'"/>';return e+"</mergeCells>"}function HK(t,e,r,n,s){var a=!1,o={},u=null;if(n.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[r];try{e.Workbook&&(d=e.Workbook.Sheets[r].CodeName||d)}catch{}a=!0,o.codeName=w0(wr(d))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),u=(u||"")+tt("outlinePr",null,h)}!a&&!u||(s[s.length]=tt("sheetPr",u,o))}var WK=["objects","scenarios","selectLockedCells","selectUnlockedCells"],qK=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function GK(t){var e={sheet:1};return WK.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),qK.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=oA(t.password).toString(16).toUpperCase()),tt("sheetProtection",null,e)}function KK(t){return TA(t),tt("pageMargins",null,t)}function XK(t,e){for(var r=["<cols>"],n,s=0;s!=e.length;++s)(n=e[s])&&(r[r.length]=tt("col",null,Mm(s,n)));return r[r.length]="</cols>",r.join("")}function YK(t,e,r,n){var s=typeof t.ref=="string"?t.ref:ln(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=qs(s);o.s.r==o.e.r&&(o.e.r=qs(e["!ref"]).e.r,s=ln(o));for(var u=0;u<a.length;++u){var d=a[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return u==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),tt("autoFilter",null,{ref:s})}function QK(t,e,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),tt("sheetViews",tt("sheetView",null,s),{})}function JK(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",a=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=Q0[t.v];break;case"d":n&&n.cellDates?s=ds(t.v,-1).toISOString():(t=As(t),t.t="n",s=""+(t.v=Ss(ds(t.v)))),typeof t.z>"u"&&(t.z=Yr[14]);break;default:s=t.v;break}var u=Mn("v",wr(s)),d={r:e},h=Zo(n.cellXfs,t,n);switch(h!==0&&(d.s=h),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){u=Mn("v",""+kb(n.Strings,t.v,n.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=a&&(t.t=a,t.v=o),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;u=tt("f",wr(t.f),p)+(t.v!=null?u:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(d.cm=1),tt("c",u,d)}function ZK(t,e,r,n){var s=[],a=[],o=Dr(t["!ref"]),u="",d,h="",p=[],g=0,y=0,v=t["!rows"],k=Array.isArray(t),w={r:h},E,D=-1;for(y=o.s.c;y<=o.e.c;++y)p[y]=Zn(y);for(g=o.s.r;g<=o.e.r;++g){for(a=[],h=Bn(g),y=o.s.c;y<=o.e.c;++y){d=p[y]+h;var I=k?(t[g]||[])[y]:t[d];I!==void 0&&(u=JK(I,d,t,e))!=null&&a.push(u)}(a.length>0||v&&v[g])&&(w={r:h},v&&v[g]&&(E=v[g],E.hidden&&(w.hidden=1),D=-1,E.hpx?D=Hp(E.hpx):E.hpt&&(D=E.hpt),D>-1&&(w.ht=D,w.customHeight=1),E.level&&(w.outlineLevel=E.level)),s[s.length]=tt("row",a.join(""),w))}if(v)for(;g<v.length;++g)v&&v[g]&&(w={r:g+1},E=v[g],E.hidden&&(w.hidden=1),D=-1,E.hpx?D=Hp(E.hpx):E.hpt&&(D=E.hpt),D>-1&&(w.ht=D,w.customHeight=1),E.level&&(w.outlineLevel=E.level),s[s.length]=tt("row","",w));return s.join("")}function kA(t,e,r,n){var s=[cn,tt("worksheet",null,{xmlns:Mu[0],"xmlns:r":Tn.r})],a=r.SheetNames[t],o=0,u="",d=r.Sheets[a];d==null&&(d={});var h=d["!ref"]||"A1",p=Dr(h);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),h=ln(p)}n||(n={}),d["!comments"]=[];var g=[];HK(d,r,t,e,s),s[s.length]=tt("dimension",null,{ref:h}),s[s.length]=QK(d,e,t,r),e.sheetFormat&&(s[s.length]=tt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(s[s.length]=XK(d,d["!cols"])),s[o=s.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(u=ZK(d,e),u.length>0&&(s[s.length]=u)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),d["!protect"]&&(s[s.length]=GK(d["!protect"])),d["!autofilter"]!=null&&(s[s.length]=YK(d["!autofilter"],d,r,t)),d["!merges"]!=null&&d["!merges"].length>0&&(s[s.length]=zK(d["!merges"]));var y=-1,v,k=-1;return d["!links"].length>0&&(s[s.length]="<hyperlinks>",d["!links"].forEach(function(w){w[1].Target&&(v={ref:w[0]},w[1].Target.charAt(0)!="#"&&(k=yr(n,-1,wr(w[1].Target).replace(/#.*$/,""),lr.HLINK),v["r:id"]="rId"+k),(y=w[1].Target.indexOf("#"))>-1&&(v.location=wr(w[1].Target.slice(y+1))),w[1].Tooltip&&(v.tooltip=wr(w[1].Tooltip)),s[s.length]=tt("hyperlink",null,v))}),s[s.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(s[s.length]=KK(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=Mn("ignoredErrors",tt("ignoredError",null,{numberStoredAsText:1,sqref:h}))),g.length>0&&(k=yr(n,-1,"../drawings/drawing"+(t+1)+".xml",lr.DRAW),s[s.length]=tt("drawing",null,{"r:id":"rId"+k}),d["!drawing"]=g),d["!comments"].length>0&&(k=yr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",lr.VML),s[s.length]=tt("legacyDrawing",null,{"r:id":"rId"+k}),d["!legacy"]=k),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function eX(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=s/20),r}function tX(t,e,r){var n=Ce(145),s=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;s.hpx?a=Hp(s.hpx)*20:s.hpt&&(a=s.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var u=0,d=n.l;n.l+=4;for(var h={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var g=-1,y=-1,v=p<<10;v<p+1<<10;++v){h.c=v;var k=Array.isArray(r)?(r[h.r]||[])[h.c]:r[_r(h)];k&&(g<0&&(g=v),y=v)}g<0||(++u,n.write_shift(4,g),n.write_shift(4,y))}var w=n.l;return n.l=d,n.write_shift(4,u),n.l=w,n.length>n.l?n.slice(0,n.l):n}function rX(t,e,r,n){var s=tX(n,r,e);(s.length>17||(e["!rows"]||[])[n])&&ze(t,0,s)}var nX=ac,sX=Vu;function aX(){}function iX(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=gW(t),r}function oX(t,e,r){r==null&&(r=Ce(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return Vp({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),V6(t,r),r.slice(0,r.l)}function lX(t){var e=da(t);return[e]}function cX(t,e,r){return r==null&&(r=Ce(8)),rc(e,r)}function uX(t){var e=nc(t);return[e]}function dX(t,e,r){return r==null&&(r=Ce(4)),sc(e,r)}function hX(t){var e=da(t),r=t.read_shift(1);return[e,r,"b"]}function fX(t,e,r){return r==null&&(r=Ce(9)),rc(e,r),r.write_shift(1,t.v?1:0),r}function pX(t){var e=nc(t),r=t.read_shift(1);return[e,r,"b"]}function mX(t,e,r){return r==null&&(r=Ce(5)),sc(e,r),r.write_shift(1,t.v?1:0),r}function gX(t){var e=da(t),r=t.read_shift(1);return[e,r,"e"]}function xX(t,e,r){return r==null&&(r=Ce(9)),rc(e,r),r.write_shift(1,t.v),r}function yX(t){var e=nc(t),r=t.read_shift(1);return[e,r,"e"]}function vX(t,e,r){return r==null&&(r=Ce(8)),sc(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function bX(t){var e=da(t),r=t.read_shift(4);return[e,r,"s"]}function wX(t,e,r){return r==null&&(r=Ce(12)),rc(e,r),r.write_shift(4,e.v),r}function _X(t){var e=nc(t),r=t.read_shift(4);return[e,r,"s"]}function EX(t,e,r){return r==null&&(r=Ce(8)),sc(e,r),r.write_shift(4,e.v),r}function TX(t){var e=da(t),r=Bu(t);return[e,r,"n"]}function kX(t,e,r){return r==null&&(r=Ce(16)),rc(e,r),Bl(t.v,r),r}function NX(t){var e=nc(t),r=Bu(t);return[e,r,"n"]}function SX(t,e,r){return r==null&&(r=Ce(12)),sc(e,r),Bl(t.v,r),r}function AX(t){var e=da(t),r=B6(t);return[e,r,"n"]}function CX(t,e,r){return r==null&&(r=Ce(12)),rc(e,r),U6(t.v,r),r}function jX(t){var e=nc(t),r=B6(t);return[e,r,"n"]}function IX(t,e,r){return r==null&&(r=Ce(8)),sc(e,r),U6(t.v,r),r}function PX(t){var e=da(t),r=xb(t);return[e,r,"is"]}function RX(t){var e=da(t),r=es(t);return[e,r,"str"]}function DX(t,e,r){return r==null&&(r=Ce(12+4*t.v.length)),rc(e,r),Nn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function OX(t){var e=nc(t),r=es(t);return[e,r,"str"]}function FX(t,e,r){return r==null&&(r=Ce(8+4*t.v.length)),sc(e,r),Nn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function LX(t,e,r){var n=t.l+e,s=da(t);s.r=r["!row"];var a=t.read_shift(1),o=[s,a,"b"];if(r.cellFormula){t.l+=2;var u=Lm(t,n-t.l,r);o[3]=ku(u,null,s,r.supbooks,r)}else t.l=n;return o}function MX(t,e,r){var n=t.l+e,s=da(t);s.r=r["!row"];var a=t.read_shift(1),o=[s,a,"e"];if(r.cellFormula){t.l+=2;var u=Lm(t,n-t.l,r);o[3]=ku(u,null,s,r.supbooks,r)}else t.l=n;return o}function $X(t,e,r){var n=t.l+e,s=da(t);s.r=r["!row"];var a=Bu(t),o=[s,a,"n"];if(r.cellFormula){t.l+=2;var u=Lm(t,n-t.l,r);o[3]=ku(u,null,s,r.supbooks,r)}else t.l=n;return o}function VX(t,e,r){var n=t.l+e,s=da(t);s.r=r["!row"];var a=es(t),o=[s,a,"str"];if(r.cellFormula){t.l+=2;var u=Lm(t,n-t.l,r);o[3]=ku(u,null,s,r.supbooks,r)}else t.l=n;return o}var BX=ac,UX=Vu;function zX(t,e){return e==null&&(e=Ce(4)),e.write_shift(4,t),e}function HX(t,e){var r=t.l+e,n=ac(t),s=yb(t),a=es(t),o=es(t),u=es(t);t.l=r;var d={rfx:n,relId:s,loc:a,display:u};return o&&(d.Tooltip=o),d}function WX(t,e){var r=Ce(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Vu({s:kn(t[0]),e:kn(t[0])},r),vb("rId"+e,r);var n=t[1].Target.indexOf("#"),s=n==-1?"":t[1].Target.slice(n+1);return Nn(s||"",r),Nn(t[1].Tooltip||"",r),Nn("",r),r.slice(0,r.l)}function qX(){}function GX(t,e,r){var n=t.l+e,s=z6(t),a=t.read_shift(1),o=[s];if(o[2]=a,r.cellFormula){var u=OK(t,n-t.l,r);o[1]=u}else t.l=n;return o}function KX(t,e,r){var n=t.l+e,s=ac(t),a=[s];if(r.cellFormula){var o=LK(t,n-t.l,r);a[1]=o,t.l=n}else t.l=n;return a}function XX(t,e,r){r==null&&(r=Ce(18));var n=Mm(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),r.write_shift(2,s),r}var NA=["left","right","top","bottom","header","footer"];function YX(t){var e={};return NA.forEach(function(r){e[r]=Bu(t)}),e}function QX(t,e){return e==null&&(e=Ce(48)),TA(t),NA.forEach(function(r){Bl(t[r],e)}),e}function JX(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function ZX(t,e,r){r==null&&(r=Ce(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function eY(t){var e=Ce(24);return e.write_shift(4,4),e.write_shift(4,1),Vu(t,e),e}function tY(t,e){return e==null&&(e=Ce(66)),e.write_shift(2,t.password?oA(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function rY(){}function nY(){}function sY(t,e,r,n,s,a,o){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=As(e),e.z=e.z||Yr[14],e.v=Ss(ds(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var d={r,c:n};switch(d.s=Zo(s.cellXfs,e,s),e.l&&a["!links"].push([_r(d),e.l]),e.c&&a["!comments"].push([_r(d),e.c]),e.t){case"s":case"str":return s.bookSST?(u=kb(s.Strings,e.v,s.revStrings),d.t="s",d.v=u,o?ze(t,18,EX(e,d)):ze(t,7,wX(e,d))):(d.t="str",o?ze(t,17,FX(e,d)):ze(t,6,DX(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?ze(t,13,IX(e,d)):ze(t,2,CX(e,d)):o?ze(t,16,SX(e,d)):ze(t,5,kX(e,d)),!0;case"b":return d.t="b",o?ze(t,15,mX(e,d)):ze(t,4,fX(e,d)),!0;case"e":return d.t="e",o?ze(t,14,vX(e,d)):ze(t,3,xX(e,d)),!0}return o?ze(t,12,dX(e,d)):ze(t,1,cX(e,d)),!0}function aY(t,e,r,n){var s=Dr(e["!ref"]||"A1"),a,o="",u=[];ze(t,145);var d=Array.isArray(e),h=s.e.r;e["!rows"]&&(h=Math.max(s.e.r,e["!rows"].length-1));for(var p=s.s.r;p<=h;++p){o=Bn(p),rX(t,e,s,p);var g=!1;if(p<=s.e.r)for(var y=s.s.c;y<=s.e.c;++y){p===s.s.r&&(u[y]=Zn(y)),a=u[y]+o;var v=d?(e[p]||[])[y]:e[a];if(!v){g=!1;continue}g=sY(t,v,p,y,n,e,g)}}ze(t,146)}function iY(t,e){!e||!e["!merges"]||(ze(t,177,zX(e["!merges"].length)),e["!merges"].forEach(function(r){ze(t,176,UX(r))}),ze(t,178))}function oY(t,e){!e||!e["!cols"]||(ze(t,390),e["!cols"].forEach(function(r,n){r&&ze(t,60,XX(n,r))}),ze(t,391))}function lY(t,e){!e||!e["!ref"]||(ze(t,648),ze(t,649,eY(Dr(e["!ref"]))),ze(t,650))}function cY(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var s=yr(r,-1,n[1].Target.replace(/#.*$/,""),lr.HLINK);ze(t,494,WX(n,s))}}),delete e["!links"]}function uY(t,e,r,n){if(e["!comments"].length>0){var s=yr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",lr.VML);ze(t,551,vb("rId"+s)),e["!legacy"]=s}}function dY(t,e,r,n){if(e["!autofilter"]){var s=e["!autofilter"],a=typeof s.ref=="string"?s.ref:ln(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,u=qs(a);u.s.r==u.e.r&&(u.e.r=qs(e["!ref"]).e.r,a=ln(u));for(var d=0;d<o.length;++d){var h=o[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+r.SheetNames[n]+"'!"+a;break}}d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ze(t,161,Vu(Dr(a))),ze(t,162)}}function hY(t,e,r){ze(t,133),ze(t,137,ZX(e,r)),ze(t,138),ze(t,134)}function fY(t,e){e["!protect"]&&ze(t,535,tY(e["!protect"]))}function pY(t,e,r,n){var s=Ns(),a=r.SheetNames[t],o=r.Sheets[a]||{},u=a;try{r&&r.Workbook&&(u=r.Workbook.Sheets[t].CodeName||u)}catch{}var d=Dr(o["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ze(s,129),(r.vbaraw||o["!outline"])&&ze(s,147,oX(u,o["!outline"])),ze(s,148,sX(d)),hY(s,o,r.Workbook),oY(s,o),aY(s,o,t,e),fY(s,o),dY(s,o,r,t),iY(s,o),cY(s,o,n),o["!margins"]&&ze(s,476,QX(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&lY(s,o),uY(s,o,t,n),ze(s,130),s.end()}function mY(t,e){t.l+=10;var r=es(t);return{name:r}}var gY=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function xY(t){return!t.Workbook||!t.Workbook.WBProps?"false":KH(t.Workbook.WBProps.date1904)?"true":"false"}var yY="][*?/\\".split("");function SA(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return yY.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function vY(t,e,r){t.forEach(function(n,s){SA(n);for(var a=0;a<s;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=e&&e[s]&&e[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function bY(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];vY(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)UK(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function AA(t){var e=[cn];e[e.length]=tt("workbook",null,{xmlns:Mu[0],"xmlns:r":Tn.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(gY.forEach(function(u){t.Workbook.WBProps[u[0]]!=null&&t.Workbook.WBProps[u[0]]!=u[1]&&(n[u[0]]=t.Workbook.WBProps[u[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=tt("workbookPr",null,n);var s=t.Workbook&&t.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!s[a]||!s[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var o={name:wr(t.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=tt("sheet",null,o)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(u){var d={name:u.Name};u.Comment&&(d.comment=u.Comment),u.Sheet!=null&&(d.localSheetId=""+u.Sheet),u.Hidden&&(d.hidden="1"),u.Ref&&(e[e.length]=tt("definedName",wr(u.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function wY(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=ev(t),r.name=es(t),r}function _Y(t,e){return e||(e=Ce(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),vb(t.strRelID,e),Nn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function EY(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?es(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function TY(t,e){e||(e=Ce(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),V6(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function kY(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),a=xW(t),o=FK(t,0,r),u=yb(t);t.l=n;var d={Name:a,Ptg:o};return s<268435455&&(d.Sheet=s),u&&(d.Comment=u),d}function NY(t,e){ze(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ze(t,156,_Y(s))}ze(t,144)}function SY(t,e){e||(e=Ce(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Nn("SheetJS",e),Nn(Pp.version,e),Nn(Pp.version,e),Nn("7262",e),e.length>e.l?e.slice(0,e.l):e}function AY(t,e){e||(e=Ce(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function CY(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,s=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&a==-1&&(a=n);a>s||(ze(t,135),ze(t,158,AY(s)),ze(t,136))}}function jY(t,e){var r=Ns();return ze(r,131),ze(r,128,SY()),ze(r,153,TY(t.Workbook&&t.Workbook.WBProps||null)),CY(r,t),NY(r,t),ze(r,132),r.end()}function IY(t,e,r){return(e.slice(-4)===".bin"?jY:AA)(t)}function PY(t,e,r,n,s){return(e.slice(-4)===".bin"?pY:kA)(t,r,n,s)}function RY(t,e,r){return(e.slice(-4)===".bin"?Qq:uA)(t,r)}function DY(t,e,r){return(e.slice(-4)===".bin"?Tq:iA)(t,r)}function OY(t,e,r){return(e.slice(-4)===".bin"?fG:mA)(t)}function FY(t){return(t.slice(-4)===".bin"?aG:fA)()}function LY(t,e){var r=[];return t.Props&&r.push(RW(t.Props,e)),t.Custprops&&r.push(DW(t.Props,t.Custprops)),r.join("")}function MY(){return""}function $Y(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,s){var a=[];a.push(tt("NumberFormat",null,{"ss:Format":wr(Yr[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(tt("Style",a.join(""),o))}),tt("Styles",r.join(""))}function CA(t){return tt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Eb(t.Ref,{r:0,c:0})})}function VY(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var s=e[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(CA(s)))}return tt("Names",r.join(""))}function BY(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,a=[],o=0;o<s.length;++o){var u=s[o];u.Sheet==r&&(u.Name.match(/^_xlfn\./)||a.push(CA(u)))}return a.join("")}function UY(t,e,r,n){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(tt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(tt("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(tt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(tt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(Mn("ProtectContents","True")),t["!protect"].objects&&s.push(Mn("ProtectObjects","True")),t["!protect"].scenarios&&s.push(Mn("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(Mn("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(Mn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":tt("WorksheetOptions",s.join(""),{xmlns:Ms.x})}function zY(t){return t.map(function(e){var r=GH(e.t||""),n=tt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return tt("Comment",n,{"ss:Author":e.a})}).join("")}function HY(t,e,r,n,s,a,o){if(!t||t.v==null&&t.f==null)return"";var u={};if(t.f&&(u["ss:Formula"]="="+wr(Eb(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var d=kn(t.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(d.r==o.r?"":"["+(d.r-o.r)+"]")+"C"+(d.c==o.c?"":"["+(d.c-o.c)+"]")}if(t.l&&t.l.Target&&(u["ss:HRef"]=wr(t.l.Target),t.l.Tooltip&&(u["x:HRefScreenTip"]=wr(t.l.Tooltip))),r["!merges"])for(var h=r["!merges"],p=0;p!=h.length;++p)h[p].s.c!=o.c||h[p].s.r!=o.r||(h[p].e.c>h[p].s.c&&(u["ss:MergeAcross"]=h[p].e.c-h[p].s.c),h[p].e.r>h[p].s.r&&(u["ss:MergeDown"]=h[p].e.r-h[p].s.r));var g="",y="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":g="Number",y=String(t.v);break;case"b":g="Boolean",y=t.v?"1":"0";break;case"e":g="Error",y=Q0[t.v];break;case"d":g="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Yr[14]);break;case"s":g="String",y=qH(t.v||"");break}var v=Zo(n.cellXfs,t,n);u["ss:StyleID"]="s"+(21+v),u["ss:Index"]=o.c+1;var k=t.v!=null?y:"",w=t.t=="z"?"":'<Data ss:Type="'+g+'">'+k+"</Data>";return(t.c||[]).length>0&&(w+=zY(t.c)),tt("Cell",w,u)}function WY(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=cA(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function qY(t,e,r,n){if(!t["!ref"])return"";var s=Dr(t["!ref"]),a=t["!merges"]||[],o=0,u=[];t["!cols"]&&t["!cols"].forEach(function(E,D){wb(E);var I=!!E.width,U=Mm(D,E),O={"ss:Index":D+1};I&&(O["ss:Width"]=Up(U.width)),E.hidden&&(O["ss:Hidden"]="1"),u.push(tt("Column",null,O))});for(var d=Array.isArray(t),h=s.s.r;h<=s.e.r;++h){for(var p=[WY(h,(t["!rows"]||[])[h])],g=s.s.c;g<=s.e.c;++g){var y=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>g)&&!(a[o].s.r>h)&&!(a[o].e.c<g)&&!(a[o].e.r<h)){(a[o].s.c!=g||a[o].s.r!=h)&&(y=!0);break}if(!y){var v={r:h,c:g},k=_r(v),w=d?(t[h]||[])[g]:t[k];p.push(HY(w,k,t,e,r,n,v))}}p.push("</Row>"),p.length>2&&u.push(p.join(""))}return u.join("")}function GY(t,e,r){var n=[],s=r.SheetNames[t],a=r.Sheets[s],o=a?BY(a,e,t,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=a?qY(a,e,t,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(UY(a,e,t,r)),n.join("")}function KY(t,e){e||(e={}),t.SSF||(t.SSF=As(Yr)),t.SSF&&(Rm(),Pm(t.SSF),e.revssf=Dm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Zo(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(LY(t,e)),r.push(MY()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(tt("Worksheet",GY(n,e,t),{"ss:Name":wr(t.SheetNames[n])}));return r[2]=$Y(t,e),r[3]=VY(t),cn+tt("Workbook",r.join(""),{xmlns:Ms.ss,"xmlns:o":Ms.o,"xmlns:x":Ms.x,"xmlns:ss":Ms.ss,"xmlns:dt":Ms.dt,"xmlns:html":Ms.html})}var Jx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function XY(t,e){var r=[],n=[],s=[],a=0,o,u=mT(AT,"n"),d=mT(CT,"n");if(t.Props)for(o=zn(t.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(u,o[a])?r:Object.prototype.hasOwnProperty.call(d,o[a])?n:s).push([o[a],t.Props[o[a]]]);if(t.Custprops)for(o=zn(t.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(u,o[a])?r:Object.prototype.hasOwnProperty.call(d,o[a])?n:s).push([o[a],t.Custprops[o[a]]]);var h=[];for(a=0;a<s.length;++a)Z6.indexOf(s[a][0])>-1||Y6.indexOf(s[a][0])>-1||s[a][1]!=null&&h.push(s[a]);n.length&&Tr.utils.cfb_add(e,"/SummaryInformation",DT(n,Jx.SI,d,CT)),(r.length||h.length)&&Tr.utils.cfb_add(e,"/DocumentSummaryInformation",DT(r,Jx.DSI,u,AT,h.length?h:null,Jx.UDI))}function YY(t,e){var r=e||{},n=Tr.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Tr.utils.cfb_add(n,s,jA(t,r)),r.biff==8&&(t.Props||t.Custprops)&&XY(t,n),r.biff==8&&t.vbaraw&&pG(n,Tr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var QY={0:{f:eX},1:{f:lX},2:{f:AX},3:{f:gX},4:{f:hX},5:{f:TX},6:{f:RX},7:{f:bX},8:{f:VX},9:{f:$X},10:{f:LX},11:{f:MX},12:{f:uX},13:{f:jX},14:{f:yX},15:{f:pX},16:{f:NX},17:{f:OX},18:{f:_X},19:{f:xb},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:kY},40:{},42:{},43:{f:Rq},44:{f:Iq},45:{f:Fq},46:{f:Mq},47:{f:Lq},48:{},49:{f:uW},50:{},51:{f:eG},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:dq},62:{f:PX},63:{f:iG},64:{f:rY},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:di,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:JX},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:iX},148:{f:nX,p:16},151:{f:qX},152:{},153:{f:EY},154:{},155:{},156:{f:wY},157:{},158:{},159:{T:1,f:wq},160:{T:-1},161:{T:1,f:ac},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:BX},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Jq},336:{T:-1},337:{f:nG,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ev},357:{},358:{},359:{},360:{T:1},361:{},362:{f:aq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:GX},427:{f:KX},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:YX},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:aX},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:HX},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ev},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:dG},633:{T:1},634:{T:-1},635:{T:1,f:cG},636:{T:-1},637:{f:pW},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:mY},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:nY},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function rt(t,e,r,n){var s=e;if(!isNaN(s)){var a=n||(r||[]).length||0,o=t.next(4);o.write_shift(2,s),o.write_shift(2,a),a>0&&pb(r)&&t.push(r)}}function JY(t,e,r,n){var s=(r||[]).length||0;if(s<=8224)return rt(t,e,r,s);var a=e;if(!isNaN(a)){for(var o=r.parts||[],u=0,d=0,h=0;h+(o[u]||8224)<=8224;)h+=o[u]||8224,u++;var p=t.next(4);for(p.write_shift(2,a),p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h;d<s;){for(p=t.next(4),p.write_shift(2,60),h=0;h+(o[u]||8224)<=8224;)h+=o[u]||8224,u++;p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h}}}function Z0(t,e,r){return t||(t=Ce(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function ZY(t,e,r,n){var s=Ce(9);return Z0(s,t,e),tA(r,n||"b",s),s}function eQ(t,e,r){var n=Ce(8+2*r.length);return Z0(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function tQ(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Ss(ds(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?rt(t,2,mq(r,n,s)):rt(t,3,pq(r,n,s));return;case"b":case"e":rt(t,5,ZY(r,n,e.v,e.t));return;case"s":case"str":rt(t,4,eQ(r,n,(e.v||"").slice(0,255)));return}rt(t,1,Z0(null,r,n))}function rQ(t,e,r,n){var s=Array.isArray(e),a=Dr(e["!ref"]||"A1"),o,u="",d=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=ln(a)}for(var h=a.s.r;h<=a.e.r;++h){u=Bn(h);for(var p=a.s.c;p<=a.e.c;++p){h===a.s.r&&(d[p]=Zn(p)),o=d[p]+u;var g=s?(e[h]||[])[p]:e[o];g&&tQ(t,g,h,p)}}}function nQ(t,e){for(var r=e||{},n=Ns(),s=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(s=a);if(s==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return rt(n,r.biff==4?1033:r.biff==3?521:9,bb(t,16,r)),rQ(n,t.Sheets[t.SheetNames[s]],s,r),rt(n,10),n.end()}function sQ(t,e,r){rt(t,49,QW({sz:12,name:"Arial"},r))}function aQ(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&rt(t,1054,eq(s,e[s],r))})}function iQ(t,e){var r=Ce(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),rt(t,2151,r),r=Ce(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),sA(Dr(e["!ref"]||"A1"),r),r.write_shift(4,4),rt(t,2152,r)}function oQ(t,e){for(var r=0;r<16;++r)rt(t,224,FT({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){rt(t,224,FT(n,0,e))})}function lQ(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];rt(t,440,lq(n)),n[1].Tooltip&&rt(t,2048,cq(n))}delete e["!links"]}function cQ(t,e){if(e){var r=0;e.forEach(function(n,s){++r<=256&&n&&rt(t,125,hq(Mm(s,n),s))})}}function uQ(t,e,r,n,s){var a=16+Zo(s.cellXfs,e,s);if(e.v==null&&!e.bf){rt(t,513,Ul(r,n,a));return}if(e.bf)rt(t,6,DK(e,r,n,s,a));else switch(e.t){case"d":case"n":var o=e.t=="d"?Ss(ds(e.v)):e.v;rt(t,515,sq(r,n,o,a));break;case"b":case"e":rt(t,517,nq(r,n,e.v,a,s,e.t));break;case"s":case"str":if(s.bookSST){var u=kb(s.Strings,e.v,s.revStrings);rt(t,253,JW(r,n,u,a))}else rt(t,516,ZW(r,n,(e.v||"").slice(0,255),a,s));break;default:rt(t,513,Ul(r,n,a))}}function dQ(t,e,r){var n=Ns(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=(r||{}).Workbook||{},u=(o.Sheets||[])[t]||{},d=Array.isArray(a),h=e.biff==8,p,g="",y=[],v=Dr(a["!ref"]||"A1"),k=h?65536:16384;if(v.e.c>255||v.e.r>=k){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,k-1)}rt(n,2057,bb(r,16,e)),rt(n,13,aa(1)),rt(n,12,aa(100)),rt(n,15,os(!0)),rt(n,17,os(!1)),rt(n,16,Bl(.001)),rt(n,95,os(!0)),rt(n,42,os(!1)),rt(n,43,os(!1)),rt(n,130,aa(1)),rt(n,128,rq()),rt(n,131,os(!1)),rt(n,132,os(!1)),h&&cQ(n,a["!cols"]),rt(n,512,tq(v,e)),h&&(a["!links"]=[]);for(var w=v.s.r;w<=v.e.r;++w){g=Bn(w);for(var E=v.s.c;E<=v.e.c;++E){w===v.s.r&&(y[E]=Zn(E)),p=y[E]+g;var D=d?(a[w]||[])[E]:a[p];D&&(uQ(n,D,w,E,e),h&&D.l&&a["!links"].push([p,D.l]))}}var I=u.CodeName||u.name||s;return h&&rt(n,574,YW((o.Views||[])[0])),h&&(a["!merges"]||[]).length&&rt(n,229,oq(a["!merges"])),h&&lQ(n,a),rt(n,442,nA(I)),h&&iQ(n,a),rt(n,10),n.end()}function hQ(t,e,r){var n=Ns(),s=(t||{}).Workbook||{},a=s.Sheets||[],o=s.WBProps||{},u=r.biff==8,d=r.biff==5;if(rt(n,2057,bb(t,5,r)),r.bookType=="xla"&&rt(n,135),rt(n,225,u?aa(1200):null),rt(n,193,LW(2)),d&&rt(n,191),d&&rt(n,192),rt(n,226),rt(n,92,qW("SheetJS",r)),rt(n,66,aa(u?1200:1252)),u&&rt(n,353,aa(0)),u&&rt(n,448),rt(n,317,fq(t.SheetNames.length)),u&&t.vbaraw&&rt(n,211),u&&t.vbaraw){var h=o.CodeName||"ThisWorkbook";rt(n,442,nA(h))}rt(n,156,aa(17)),rt(n,25,os(!1)),rt(n,18,os(!1)),rt(n,19,aa(0)),u&&rt(n,431,os(!1)),u&&rt(n,444,aa(0)),rt(n,61,XW()),rt(n,64,os(!1)),rt(n,141,aa(0)),rt(n,34,os(xY(t)=="true")),rt(n,14,os(!0)),u&&rt(n,439,os(!1)),rt(n,218,aa(0)),sQ(n,t,r),aQ(n,t.SSF,r),oQ(n,r),u&&rt(n,352,os(!1));var p=n.end(),g=Ns();u&&rt(g,140,uq()),u&&r.Strings&&JY(g,252,KW(r.Strings)),rt(g,10);var y=g.end(),v=Ns(),k=0,w=0;for(w=0;w<t.SheetNames.length;++w)k+=(u?12:11)+(u?2:1)*t.SheetNames[w].length;var E=p.length+k+y.length;for(w=0;w<t.SheetNames.length;++w){var D=a[w]||{};rt(v,133,GW({pos:E,hs:D.Hidden||0,dt:0,name:t.SheetNames[w]},r)),E+=e[w].length}var I=v.end();if(k!=I.length)throw new Error("BS8 "+k+" != "+I.length);var U=[];return p.length&&U.push(p),I.length&&U.push(I),y.length&&U.push(y),Ln(U)}function fQ(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=As(Yr)),t&&t.SSF&&(Rm(),Pm(t.SSF),r.revssf=Dm(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Nb(r),r.cellXfs=[],Zo(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)n[n.length]=dQ(s,r,t);return n.unshift(hQ(t,n,r)),Ln(n)}function jA(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var s=qs(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return fQ(t,e);case 4:case 3:case 2:return nQ(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function pQ(t,e,r,n){for(var s=t["!merges"]||[],a=[],o=e.s.c;o<=e.e.c;++o){for(var u=0,d=0,h=0;h<s.length;++h)if(!(s[h].s.r>r||s[h].s.c>o)&&!(s[h].e.r<r||s[h].e.c<o)){if(s[h].s.r<r||s[h].s.c<o){u=-1;break}u=s[h].e.r-s[h].s.r+1,d=s[h].e.c-s[h].s.c+1;break}if(!(u<0)){var p=_r({r,c:o}),g=n.dense?(t[r]||[])[o]:t[p],y=g&&g.v!=null&&(g.h||WH(g.w||(Wi(g),g.w)||""))||"",v={};u>1&&(v.rowspan=u),d>1&&(v.colspan=d),n.editable?y='<span contenteditable="true">'+y+"</span>":g&&(v["data-t"]=g&&g.t||"z",g.v!=null&&(v["data-v"]=g.v),g.z!=null&&(v["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+g.l.Target+'">'+y+"</a>")),v.id=(n.id||"sjs")+"-"+p,a.push(tt("td",y,v))}}var k="<tr>";return k+a.join("")+"</tr>"}var mQ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',gQ="</body></html>";function xQ(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function IA(t,e){var r=e||{},n=r.header!=null?r.header:mQ,s=r.footer!=null?r.footer:gQ,a=[n],o=qs(t["!ref"]);r.dense=Array.isArray(t),a.push(xQ(t,o,r));for(var u=o.s.r;u<=o.e.r;++u)a.push(pQ(t,o,u,r));return a.push("</table>"+s),a.join("")}function PA(t,e,r){var n=r||{},s=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?kn(n.origin):n.origin;s=o.r,a=o.c}var u=e.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,u.length),h={s:{r:0,c:0},e:{r:s,c:a}};if(t["!ref"]){var p=qs(t["!ref"]);h.s.r=Math.min(h.s.r,p.s.r),h.s.c=Math.min(h.s.c,p.s.c),h.e.r=Math.max(h.e.r,p.e.r),h.e.c=Math.max(h.e.c,p.e.c),s==-1&&(h.e.r=s=p.e.r+1)}var g=[],y=0,v=t["!rows"]||(t["!rows"]=[]),k=0,w=0,E=0,D=0,I=0,U=0;for(t["!cols"]||(t["!cols"]=[]);k<u.length&&w<d;++k){var O=u[k];if(zT(O)){if(n.display)continue;v[w]={hidden:!0}}var X=O.children;for(E=D=0;E<X.length;++E){var B=X[E];if(!(n.display&&zT(B))){var A=B.hasAttribute("data-v")?B.getAttribute("data-v"):B.hasAttribute("v")?B.getAttribute("v"):XH(B.innerHTML),S=B.getAttribute("data-z")||B.getAttribute("z");for(y=0;y<g.length;++y){var C=g[y];C.s.c==D+a&&C.s.r<w+s&&w+s<=C.e.r&&(D=C.e.c+1-a,y=-1)}U=+B.getAttribute("colspan")||1,((I=+B.getAttribute("rowspan")||1)>1||U>1)&&g.push({s:{r:w+s,c:D+a},e:{r:w+s+(I||1)-1,c:D+a+(U||1)-1}});var R={t:"s",v:A},F=B.getAttribute("data-t")||B.getAttribute("t")||"";A!=null&&(A.length==0?R.t=F||"z":n.raw||A.trim().length==0||F=="s"||(A==="TRUE"?R={t:"b",v:!0}:A==="FALSE"?R={t:"b",v:!1}:isNaN(Oi(A))?isNaN(b0(A).getDate())||(R={t:"d",v:ds(A)},n.cellDates||(R={t:"n",v:Ss(R.v)}),R.z=n.dateNF||Yr[14]):R={t:"n",v:Oi(A)})),R.z===void 0&&S!=null&&(R.z=S);var W="",M=B.getElementsByTagName("A");if(M&&M.length)for(var Se=0;Se<M.length&&!(M[Se].hasAttribute("href")&&(W=M[Se].getAttribute("href"),W.charAt(0)!="#"));++Se);W&&W.charAt(0)!="#"&&(R.l={Target:W}),n.dense?(t[w+s]||(t[w+s]=[]),t[w+s][D+a]=R):t[_r({c:D+a,r:w+s})]=R,h.e.c<D+a&&(h.e.c=D+a),D+=U}}++w}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),h.e.r=Math.max(h.e.r,w-1+s),t["!ref"]=ln(h),w>=d&&(t["!fullref"]=ln((h.e.r=u.length-k+w-1+s,h))),t}function RA(t,e){var r=e||{},n=r.dense?[]:{};return PA(n,t,e)}function yQ(t,e){return tc(RA(t,e),e)}function zT(t){var e="",r=vQ(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function vQ(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var bQ=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+_0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return cn+e}})(),HT=(function(){var t=function(a){return wr(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,o,u){var d=[];d.push('      <table:table table:name="'+wr(o.SheetNames[u])+`" table:style-name="ta1">
`);var h=0,p=0,g=qs(a["!ref"]||"A1"),y=a["!merges"]||[],v=0,k=Array.isArray(a);if(a["!cols"])for(p=0;p<=g.e.c;++p)d.push("        <table:table-column"+(a["!cols"][p]?' table:style-name="co'+a["!cols"][p].ods+'"':"")+`></table:table-column>
`);var w="",E=a["!rows"]||[];for(h=0;h<g.s.r;++h)w=E[h]?' table:style-name="ro'+E[h].ods+'"':"",d.push("        <table:table-row"+w+`></table:table-row>
`);for(;h<=g.e.r;++h){for(w=E[h]?' table:style-name="ro'+E[h].ods+'"':"",d.push("        <table:table-row"+w+`>
`),p=0;p<g.s.c;++p)d.push(e);for(;p<=g.e.c;++p){var D=!1,I={},U="";for(v=0;v!=y.length;++v)if(!(y[v].s.c>p)&&!(y[v].s.r>h)&&!(y[v].e.c<p)&&!(y[v].e.r<h)){(y[v].s.c!=p||y[v].s.r!=h)&&(D=!0),I["table:number-columns-spanned"]=y[v].e.c-y[v].s.c+1,I["table:number-rows-spanned"]=y[v].e.r-y[v].s.r+1;break}if(D){d.push(r);continue}var O=_r({r:h,c:p}),X=k?(a[h]||[])[p]:a[O];if(X&&X.f&&(I["table:formula"]=wr(VK(X.f)),X.F&&X.F.slice(0,O.length)==O)){var B=qs(X.F);I["table:number-matrix-columns-spanned"]=B.e.c-B.s.c+1,I["table:number-matrix-rows-spanned"]=B.e.r-B.s.r+1}if(!X){d.push(e);continue}switch(X.t){case"b":U=X.v?"TRUE":"FALSE",I["office:value-type"]="boolean",I["office:boolean-value"]=X.v?"true":"false";break;case"n":U=X.w||String(X.v||0),I["office:value-type"]="float",I["office:value"]=X.v||0;break;case"s":case"str":U=X.v==null?"":X.v,I["office:value-type"]="string";break;case"d":U=X.w||ds(X.v).toISOString(),I["office:value-type"]="date",I["office:date-value"]=ds(X.v).toISOString(),I["table:style-name"]="ce1";break;default:d.push(e);continue}var A=t(U);if(X.l&&X.l.Target){var S=X.l.Target;S=S.charAt(0)=="#"?"#"+BK(S.slice(1)):S,S.charAt(0)!="#"&&!S.match(/^\w+:/)&&(S="../"+S),A=tt("text:a",A,{"xlink:href":S.replace(/&/g,"&amp;")})}d.push("          "+tt("table:table-cell",tt("text:p",A,{}),I)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},s=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var u=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var p=0;p<h["!cols"].length;++p)if(h["!cols"][p]){var g=h["!cols"][p];if(g.width==null&&g.wpx==null&&g.wch==null)continue;wb(g),g.ods=u;var y=h["!cols"][p].wpx+"px";a.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),a.push(`  </style:style>
`),++u}}});var d=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var p=0;p<h["!rows"].length;++p)if(h["!rows"][p]){h["!rows"][p].ods=d;var g=h["!rows"][p].hpx+"px";a.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),a.push(`  </style:style>
`),++d}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,u){var d=[cn],h=_0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=_0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(d.push("<office:document"+h+p+`>
`),d.push(K6().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+h+`>
`),s(d,o),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var g=0;g!=o.SheetNames.length;++g)d.push(n(o.Sheets[o.SheetNames[g]],o,g));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),u.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function DA(t,e){if(e.bookType=="fods")return HT(t,e);var r=ub(),n="",s=[],a=[];return n="mimetype",Ut(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ut(r,n,HT(t,e)),s.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Ut(r,n,bQ(t,e)),s.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Ut(r,n,cn+K6()),s.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Ut(r,n,PW(a)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ut(r,n,jW(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Wp(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function wQ(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Na(w0(t))}function _Q(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function qo(t){var e=t.reduce(function(s,a){return s+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(s){r.set(s,n),n+=s.length}),r}function EQ(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;s>=1;++a,s/=256)t[e+a]=s&255;t[e+15]|=r>=0?0:128}function E0(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function xr(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function lu(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function mn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],s=E0(t,r),a=s&7;s=Math.floor(s/8);var o=0,u;if(s==0)break;switch(a){case 0:{for(var d=r[0];t[r[0]++]>=128;);u=t.slice(d,r[0])}break;case 5:o=4,u=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,u=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=E0(t,r),u=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(n))}var h={data:u,type:a};e[s]==null?e[s]=[h]:e[s].push(h)}return e}function In(t){var e=[];return t.forEach(function(r,n){r.forEach(function(s){s.data&&(e.push(xr(n*8+s.type)),s.type==2&&e.push(xr(s.data.length)),e.push(s.data))})}),qo(e)}function Ea(t){for(var e,r=[],n=[0];n[0]<t.length;){var s=E0(t,n),a=mn(t.slice(n[0],n[0]+s));n[0]+=s;var o={id:lu(a[1][0].data),messages:[]};a[2].forEach(function(u){var d=mn(u.data),h=lu(d[3][0].data);o.messages.push({meta:d,data:t.slice(n[0],n[0]+h)}),n[0]+=h}),(e=a[3])!=null&&e[0]&&(o.merge=lu(a[3][0].data)>>>0>0),r.push(o)}return r}function Vc(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:xr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:xr(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:xr(o.data.length)}],n[2].push({data:In(o.meta),type:2})});var a=In(n);e.push(xr(a.length)),e.push(a),s.forEach(function(o){return e.push(o)})}),qo(e)}function TQ(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=E0(e,r),s=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var u=o-59;o=e[r[0]],u>1&&(o|=e[r[0]+1]<<8),u>2&&(o|=e[r[0]+2]<<16),u>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=u}s.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var d=0,h=0;if(a==1?(h=(e[r[0]]>>2&7)+4,d=(e[r[0]++]&224)<<3,d|=e[r[0]++]):(h=(e[r[0]++]>>2)+1,a==2?(d=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(d=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[qo(s)],d==0)throw new Error("Invalid offset 0");if(d>s[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(s.push(s[0].slice(-d)),h-=d;h>=s[s.length-1].length;)s.push(s[s.length-1]),h-=s[s.length-1].length;s.push(s[0].slice(-d,-d+h))}}var p=qo(s);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function Ta(t){for(var e=[],r=0;r<t.length;){var n=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(TQ(n,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return qo(e)}function Bc(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),s=new Uint8Array(4);e.push(s);var a=xr(n),o=a.length;e.push(a),n<=60?(o++,e.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return qo(e)}function Zx(t,e){var r=new Uint8Array(32),n=Wp(r),s=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,EQ(r,s,t.v),a|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,t.v?1:0,!0),a|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(s,e.indexOf(t.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,s)}function ey(t,e){var r=new Uint8Array(32),n=Wp(r),s=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(s,t.v,!0),a|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,t.v?1:0,!0),a|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(s,e.indexOf(t.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,s)}function bo(t){var e=mn(t);return E0(e[1][0].data)}function kQ(t,e,r){var n,s,a,o;if(!((n=t[6])!=null&&n[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var u=((o=(a=t[8])==null?void 0:a[0])==null?void 0:o.data)&&lu(t[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var d=0,h=Wp(t[7][0].data),p=0,g=[],y=Wp(t[4][0].data),v=0,k=[],w=0;w<e.length;++w){if(e[w]==null){h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535);continue}h.setUint16(w*2,p,!0),y.setUint16(w*2,v,!0);var E,D;switch(typeof e[w]){case"string":E=Zx({t:"s",v:e[w]},r),D=ey({t:"s",v:e[w]},r);break;case"number":E=Zx({t:"n",v:e[w]},r),D=ey({t:"n",v:e[w]},r);break;case"boolean":E=Zx({t:"b",v:e[w]},r),D=ey({t:"b",v:e[w]},r);break;default:throw new Error("Unsupported value "+e[w])}g.push(E),p+=E.length,k.push(D),v+=D.length,++d}for(t[2][0].data=xr(d);w<t[7][0].data.length/2;++w)h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535,!0);return t[6][0].data=qo(g),t[3][0].data=qo(k),d}function NQ(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=qs(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(ln(n)));var a=qp(r,{range:n,header:1}),o=["~Sh33tJ5~"];a.forEach(function(te){return te.forEach(function(re){typeof re=="string"&&o.push(re)})});var u={},d=[],h=Tr.read(e.numbers,{type:"base64"});h.FileIndex.map(function(te,re){return[te,h.FullPaths[re]]}).forEach(function(te){var re=te[0],ne=te[1];if(re.type==2&&re.name.match(/\.iwa/)){var ee=re.content,Fe=Ta(ee),Be=Ea(Fe);Be.forEach(function(Ae){d.push(Ae.id),u[Ae.id]={deps:[],location:ne,type:lu(Ae.messages[0].meta[1][0].data)}})}}),d.sort(function(te,re){return te-re});var p=d.filter(function(te){return te>1}).map(function(te){return[te,xr(te)]});h.FileIndex.map(function(te,re){return[te,h.FullPaths[re]]}).forEach(function(te){var re=te[0];if(te[1],!!re.name.match(/\.iwa/)){var ne=Ea(Ta(re.content));ne.forEach(function(ee){ee.messages.forEach(function(Fe){p.forEach(function(Be){ee.messages.some(function(Ae){return lu(Ae.meta[1][0].data)!=11006&&_Q(Ae.data,Be[1])})&&u[Be[0]].deps.push(ee.id)})})})}});for(var g=Tr.find(h,u[1].location),y=Ea(Ta(g.content)),v,k=0;k<y.length;++k){var w=y[k];w.id==1&&(v=w)}var E=bo(mn(v.messages[0].data)[1][0].data);for(g=Tr.find(h,u[E].location),y=Ea(Ta(g.content)),k=0;k<y.length;++k)w=y[k],w.id==E&&(v=w);for(E=bo(mn(v.messages[0].data)[2][0].data),g=Tr.find(h,u[E].location),y=Ea(Ta(g.content)),k=0;k<y.length;++k)w=y[k],w.id==E&&(v=w);for(E=bo(mn(v.messages[0].data)[2][0].data),g=Tr.find(h,u[E].location),y=Ea(Ta(g.content)),k=0;k<y.length;++k)w=y[k],w.id==E&&(v=w);var D=mn(v.messages[0].data);{D[6][0].data=xr(n.e.r+1),D[7][0].data=xr(n.e.c+1);var I=bo(D[46][0].data),U=Tr.find(h,u[I].location),O=Ea(Ta(U.content));{for(var X=0;X<O.length&&O[X].id!=I;++X);if(O[X].id!=I)throw"Bad ColumnRowUIDMapArchive";var B=mn(O[X].messages[0].data);B[1]=[],B[2]=[],B[3]=[];for(var A=0;A<=n.e.c;++A){var S=[];S[1]=S[2]=[{type:0,data:xr(A+420690)}],B[1].push({type:2,data:In(S)}),B[2].push({type:0,data:xr(A)}),B[3].push({type:0,data:xr(A)})}B[4]=[],B[5]=[],B[6]=[];for(var C=0;C<=n.e.r;++C)S=[],S[1]=S[2]=[{type:0,data:xr(C+726270)}],B[4].push({type:2,data:In(S)}),B[5].push({type:0,data:xr(C)}),B[6].push({type:0,data:xr(C)});O[X].messages[0].data=In(B)}U.content=Bc(Vc(O)),U.size=U.content.length,delete D[46];var R=mn(D[4][0].data);{R[7][0].data=xr(n.e.r+1);var F=mn(R[1][0].data),W=bo(F[2][0].data);U=Tr.find(h,u[W].location),O=Ea(Ta(U.content));{if(O[0].id!=W)throw"Bad HeaderStorageBucket";var M=mn(O[0].messages[0].data);for(C=0;C<a.length;++C){var Se=mn(M[2][0].data);Se[1][0].data=xr(C),Se[4][0].data=xr(a[C].length),M[2][C]={type:M[2][0].type,data:In(Se)}}O[0].messages[0].data=In(M)}U.content=Bc(Vc(O)),U.size=U.content.length;var Ie=bo(R[2][0].data);U=Tr.find(h,u[Ie].location),O=Ea(Ta(U.content));{if(O[0].id!=Ie)throw"Bad HeaderStorageBucket";for(M=mn(O[0].messages[0].data),A=0;A<=n.e.c;++A)Se=mn(M[2][0].data),Se[1][0].data=xr(A),Se[4][0].data=xr(n.e.r+1),M[2][A]={type:M[2][0].type,data:In(Se)};O[0].messages[0].data=In(M)}U.content=Bc(Vc(O)),U.size=U.content.length;var $e=bo(R[4][0].data);(function(){for(var te=Tr.find(h,u[$e].location),re=Ea(Ta(te.content)),ne,ee=0;ee<re.length;++ee){var Fe=re[ee];Fe.id==$e&&(ne=Fe)}var Be=mn(ne.messages[0].data);{Be[3]=[];var Ae=[];o.forEach(function(yt,Wt){Ae[1]=[{type:0,data:xr(Wt)}],Ae[2]=[{type:0,data:xr(1)}],Ae[3]=[{type:2,data:wQ(yt)}],Be[3].push({type:2,data:In(Ae)})})}ne.messages[0].data=In(Be);var Pe=Vc(re),it=Bc(Pe);te.content=it,te.size=te.content.length})();var Le=mn(R[3][0].data);{var _e=Le[1][0];delete Le[2];var ie=mn(_e.data);{var de=bo(ie[2][0].data);(function(){for(var te=Tr.find(h,u[de].location),re=Ea(Ta(te.content)),ne,ee=0;ee<re.length;++ee){var Fe=re[ee];Fe.id==de&&(ne=Fe)}var Be=mn(ne.messages[0].data);{delete Be[6],delete Le[7];var Ae=new Uint8Array(Be[5][0].data);Be[5]=[];for(var Pe=0,it=0;it<=n.e.r;++it){var yt=mn(Ae);Pe+=kQ(yt,a[it],o),yt[1][0].data=xr(it),Be[5].push({data:In(yt),type:2})}Be[1]=[{type:0,data:xr(n.e.c+1)}],Be[2]=[{type:0,data:xr(n.e.r+1)}],Be[3]=[{type:0,data:xr(Pe)}],Be[4]=[{type:0,data:xr(n.e.r+1)}]}ne.messages[0].data=In(Be);var Wt=Vc(re),Oe=Bc(Wt);te.content=Oe,te.size=te.content.length})()}_e.data=In(ie)}R[3][0].data=In(Le)}D[4][0].data=In(R)}v.messages[0].data=In(D);var se=Vc(y),V=Bc(se);return g.content=V,g.size=g.content.length,h}function SQ(t){return function(r){for(var n=0;n!=t.length;++n){var s=t[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Nb(t){SQ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function AQ(t,e){return e.bookType=="ods"?DA(t,e):e.bookType=="numbers"?NQ(t,e):e.bookType=="xlsb"?CQ(t,e):jQ(t,e)}function CQ(t,e){eu=1024,t&&!t.SSF&&(t.SSF=As(Yr)),t&&t.SSF&&(Rm(),Pm(t.SSF),e.revssf=Dm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Yd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=gA.indexOf(e.bookType)>-1,s=W6();Nb(e=e||{});var a=ub(),o="",u=0;if(e.cellXfs=[],Zo(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Ut(a,o,X6(t.Props,e)),s.coreprops.push(o),yr(e.rels,2,o,lr.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,Ut(a,o,Q6(t.Props)),s.extprops.push(o),yr(e.rels,3,o,lr.EXT_PROPS),t.Custprops!==t.Props&&zn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Ut(a,o,J6(t.Custprops)),s.custprops.push(o),yr(e.rels,4,o,lr.CUST_PROPS)),u=1;u<=t.SheetNames.length;++u){var p={"!id":{}},g=t.Sheets[t.SheetNames[u-1]],y=(g||{})["!type"]||"sheet";switch(y){case"chart":default:o="xl/worksheets/sheet"+u+"."+r,Ut(a,o,PY(u-1,o,e,t,p)),s.sheets.push(o),yr(e.wbrels,-1,"worksheets/sheet"+u+"."+r,lr.WS[0])}if(g){var v=g["!comments"],k=!1,w="";v&&v.length>0&&(w="xl/comments"+u+"."+r,Ut(a,w,OY(v,w)),s.comments.push(w),yr(p,-1,"../comments"+u+"."+r,lr.CMNT),k=!0),g["!legacy"]&&k&&Ut(a,"xl/drawings/vmlDrawing"+u+".vml",pA(u,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&Ut(a,G6(o),iu(p))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Ut(a,o,DY(e.Strings,o,e)),s.strs.push(o),yr(e.wbrels,-1,"sharedStrings."+r,lr.SST)),o="xl/workbook."+r,Ut(a,o,IY(t,o)),s.workbooks.push(o),yr(e.rels,1,o,lr.WB),o="xl/theme/theme1.xml",Ut(a,o,hA(t.Themes,e)),s.themes.push(o),yr(e.wbrels,-1,"theme/theme1.xml",lr.THEME),o="xl/styles."+r,Ut(a,o,RY(t,o,e)),s.styles.push(o),yr(e.wbrels,-1,"styles."+r,lr.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Ut(a,o,t.vbaraw),s.vba.push(o),yr(e.wbrels,-1,"vbaProject.bin",lr.VBA)),o="xl/metadata."+r,Ut(a,o,FY(o)),s.metadata.push(o),yr(e.wbrels,-1,"metadata."+r,lr.XLMETA),Ut(a,"[Content_Types].xml",q6(s,e)),Ut(a,"_rels/.rels",iu(e.rels)),Ut(a,"xl/_rels/workbook."+r+".rels",iu(e.wbrels)),delete e.revssf,delete e.ssf,a}function jQ(t,e){eu=1024,t&&!t.SSF&&(t.SSF=As(Yr)),t&&t.SSF&&(Rm(),Pm(t.SSF),e.revssf=Dm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Yd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=gA.indexOf(e.bookType)>-1,s=W6();Nb(e=e||{});var a=ub(),o="",u=0;if(e.cellXfs=[],Zo(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Ut(a,o,X6(t.Props,e)),s.coreprops.push(o),yr(e.rels,2,o,lr.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,Ut(a,o,Q6(t.Props)),s.extprops.push(o),yr(e.rels,3,o,lr.EXT_PROPS),t.Custprops!==t.Props&&zn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Ut(a,o,J6(t.Custprops)),s.custprops.push(o),yr(e.rels,4,o,lr.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,u=1;u<=t.SheetNames.length;++u){var g={"!id":{}},y=t.Sheets[t.SheetNames[u-1]],v=(y||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+u+"."+r,Ut(a,o,kA(u-1,e,t,g)),s.sheets.push(o),yr(e.wbrels,-1,"worksheets/sheet"+u+"."+r,lr.WS[0])}if(y){var k=y["!comments"],w=!1,E="";if(k&&k.length>0){var D=!1;k.forEach(function(I){I[1].forEach(function(U){U.T==!0&&(D=!0)})}),D&&(E="xl/threadedComments/threadedComment"+u+"."+r,Ut(a,E,oG(k,p,e)),s.threadedcomments.push(E),yr(g,-1,"../threadedComments/threadedComment"+u+"."+r,lr.TCMNT)),E="xl/comments"+u+"."+r,Ut(a,E,mA(k)),s.comments.push(E),yr(g,-1,"../comments"+u+"."+r,lr.CMNT),w=!0}y["!legacy"]&&w&&Ut(a,"xl/drawings/vmlDrawing"+u+".vml",pA(u,y["!comments"])),delete y["!comments"],delete y["!legacy"]}g["!id"].rId1&&Ut(a,G6(o),iu(g))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Ut(a,o,iA(e.Strings,e)),s.strs.push(o),yr(e.wbrels,-1,"sharedStrings."+r,lr.SST)),o="xl/workbook."+r,Ut(a,o,AA(t)),s.workbooks.push(o),yr(e.rels,1,o,lr.WB),o="xl/theme/theme1.xml",Ut(a,o,hA(t.Themes,e)),s.themes.push(o),yr(e.wbrels,-1,"theme/theme1.xml",lr.THEME),o="xl/styles."+r,Ut(a,o,uA(t,e)),s.styles.push(o),yr(e.wbrels,-1,"styles."+r,lr.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Ut(a,o,t.vbaraw),s.vba.push(o),yr(e.wbrels,-1,"vbaProject.bin",lr.VBA)),o="xl/metadata."+r,Ut(a,o,fA()),s.metadata.push(o),yr(e.wbrels,-1,"metadata."+r,lr.XLMETA),p.length>1&&(o="xl/persons/person.xml",Ut(a,o,lG(p)),s.people.push(o),yr(e.wbrels,-1,"persons/person.xml",lr.PEOPLE)),Ut(a,"[Content_Types].xml",q6(s,e)),Ut(a,"_rels/.rels",iu(e.rels)),Ut(a,"xl/_rels/workbook."+r+".rels",iu(e.wbrels)),delete e.revssf,delete e.ssf,a}function IQ(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Hi(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function OA(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return X0(e.file,Tr.write(t,{type:dr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Tr.write(t,e)}function PQ(t,e){var r=As(e||{}),n=AQ(t,r);return RQ(n,r)}function RQ(t,e){var r={},n=dr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?Tr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(Im(s))}return e.password&&typeof encrypt_agile<"u"?OA(encrypt_agile(s,e.password),e):e.type==="file"?X0(e.file,s):e.type=="string"?qd(s):s}function DQ(t,e){var r=e||{},n=YY(t,r);return OA(n,r)}function Xa(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return v0(w0(n));case"binary":return w0(n);case"string":return t;case"file":return X0(e.file,n,"utf8");case"buffer":return dr?Ki(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Xa(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function OQ(t,e){switch(e.type){case"base64":return v0(t);case"binary":return t;case"string":return t;case"file":return X0(e.file,t,"binary");case"buffer":return dr?Ki(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function jf(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?v0(r):e.type=="string"?qd(r):r;case"file":return X0(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function FA(t,e){cH(),bY(t);var r=As(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=FA(t,r);return r.type="array",Im(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=t.SheetNames.indexOf(r.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Xa(KY(t,r),r);case"slk":case"sylk":return Xa(xq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"htm":case"html":return Xa(IA(t.Sheets[t.SheetNames[s]],r),r);case"txt":return OQ(LA(t.Sheets[t.SheetNames[s]],r),r);case"csv":return Xa(Sb(t.Sheets[t.SheetNames[s]],r),r,"\uFEFF");case"dif":return Xa(yq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"dbf":return jf(gq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"prn":return Xa(vq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"rtf":return Xa(Nq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"eth":return Xa(aA.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"fods":return Xa(DA(t,r),r);case"wk1":return jf(LT.sheet_to_wk1(t.Sheets[t.SheetNames[s]],r),r);case"wk3":return jf(LT.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),jf(jA(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),DQ(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return PQ(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function FQ(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function $m(t,e,r){var n={};return n.type="file",n.file=e,FQ(n),FA(t,n)}function LQ(t,e,r,n,s,a,o,u){var d=Bn(r),h=u.defval,p=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),g=!0,y=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!o||t[r])for(var v=e.s.c;v<=e.e.c;++v){var k=o?t[r][v]:t[n[v]+d];if(k===void 0||k.t===void 0){if(h===void 0)continue;a[v]!=null&&(y[a[v]]=h);continue}var w=k.v;switch(k.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+k.t)}if(a[v]!=null){if(w==null)if(k.t=="e"&&w===null)y[a[v]]=null;else if(h!==void 0)y[a[v]]=h;else if(p&&w===null)y[a[v]]=null;else continue;else y[a[v]]=p&&(k.t!=="n"||k.t==="n"&&u.rawNumbers!==!1)?w:Wi(k,w,u);w!=null&&(g=!1)}}return{row:y,isempty:g}}function qp(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,a=[],o=0,u="",d={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},p=h.range!=null?h.range:t["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof p){case"string":d=Dr(p);break;case"number":d=Dr(t["!ref"]),d.s.r=p;break;default:d=p}n>0&&(s=0);var g=Bn(d.s.r),y=[],v=[],k=0,w=0,E=Array.isArray(t),D=d.s.r,I=0,U={};E&&!t[D]&&(t[D]=[]);var O=h.skipHidden&&t["!cols"]||[],X=h.skipHidden&&t["!rows"]||[];for(I=d.s.c;I<=d.e.c;++I)if(!(O[I]||{}).hidden)switch(y[I]=Zn(I),r=E?t[D][I]:t[y[I]+g],n){case 1:a[I]=I-d.s.c;break;case 2:a[I]=y[I];break;case 3:a[I]=h.header[I-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=o=Wi(r,null,h),w=U[o]||0,!w)U[o]=1;else{do u=o+"_"+w++;while(U[u]);U[o]=w,U[u]=1}a[I]=u}for(D=d.s.r+s;D<=d.e.r;++D)if(!(X[D]||{}).hidden){var B=LQ(t,d,D,y,n,a,E,h);(B.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(v[k++]=B.row)}return v.length=k,v}var WT=/"/g;function MQ(t,e,r,n,s,a,o,u){for(var d=!0,h=[],p="",g=Bn(r),y=e.s.c;y<=e.e.c;++y)if(n[y]){var v=u.dense?(t[r]||[])[y]:t[n[y]+g];if(v==null)p="";else if(v.v!=null){d=!1,p=""+(u.rawNumbers&&v.t=="n"?v.v:Wi(v,null,u));for(var k=0,w=0;k!==p.length;++k)if((w=p.charCodeAt(k))===s||w===a||w===34||u.forceQuotes){p='"'+p.replace(WT,'""')+'"';break}p=="ID"&&(p='"ID"')}else v.f!=null&&!v.F?(d=!1,p="="+v.f,p.indexOf(",")>=0&&(p='"'+p.replace(WT,'""')+'"')):p="";h.push(p)}return u.blankrows===!1&&d?null:h.join(o)}function Sb(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var s=Dr(t["!ref"]),a=n.FS!==void 0?n.FS:",",o=a.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,d=u.charCodeAt(0),h=new RegExp((a=="|"?"\\|":a)+"+$"),p="",g=[];n.dense=Array.isArray(t);for(var y=n.skipHidden&&t["!cols"]||[],v=n.skipHidden&&t["!rows"]||[],k=s.s.c;k<=s.e.c;++k)(y[k]||{}).hidden||(g[k]=Zn(k));for(var w=0,E=s.s.r;E<=s.e.r;++E)(v[E]||{}).hidden||(p=MQ(t,s,E,g,o,d,a,n),p!=null&&(n.strip&&(p=p.replace(h,"")),(p||n.blankrows!==!1)&&r.push((w++?u:"")+p)));return delete n.dense,r.join("")}function LA(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Sb(t,e);return r}function $Q(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var s=Dr(t["!ref"]),a="",o=[],u,d=[],h=Array.isArray(t);for(u=s.s.c;u<=s.e.c;++u)o[u]=Zn(u);for(var p=s.s.r;p<=s.e.r;++p)for(a=Bn(p),u=s.s.c;u<=s.e.c;++u)if(e=o[u]+a,r=h?(t[p]||[])[u]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=e+"="+n}return d}function MA(t,e,r){var n=r||{},s=+!n.skipHeader,a=t||{},o=0,u=0;if(a&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?kn(n.origin):n.origin;o=d.r,u=d.c}var h,p={s:{c:0,r:0},e:{c:u,r:o+e.length-1+s}};if(a["!ref"]){var g=Dr(a["!ref"]);p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),o==-1&&(o=g.e.r+1,p.e.r=o+e.length-1+s)}else o==-1&&(o=0,p.e.r=e.length-1+s);var y=n.header||[],v=0;e.forEach(function(w,E){zn(w).forEach(function(D){(v=y.indexOf(D))==-1&&(y[v=y.length]=D);var I=w[D],U="z",O="",X=_r({c:u+v,r:o+E+s});h=T0(a,X),I&&typeof I=="object"&&!(I instanceof Date)?a[X]=I:(typeof I=="number"?U="n":typeof I=="boolean"?U="b":typeof I=="string"?U="s":I instanceof Date?(U="d",n.cellDates||(U="n",I=Ss(I)),O=n.dateNF||Yr[14]):I===null&&n.nullError&&(U="e",I=0),h?(h.t=U,h.v=I,delete h.w,delete h.R,O&&(h.z=O)):a[X]=h={t:U,v:I},O&&(h.z=O))})}),p.e.c=Math.max(p.e.c,u+y.length-1);var k=Bn(o);if(s)for(v=0;v<y.length;++v)a[Zn(v+u)+k]={t:"s",v:y[v]};return a["!ref"]=ln(p),a}function VQ(t,e){return MA(null,t,e)}function T0(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=kn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?T0(t,_r(e)):T0(t,_r({r:e,c:r||0}))}function BQ(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function UQ(){return{SheetNames:[],Sheets:{}}}function zQ(t,e,r,n){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var o=a&&a[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=o+s)!=-1;++s);}if(SA(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function HQ(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=BQ(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function WQ(t,e){return t.z=e,t}function $A(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function qQ(t,e,r){return $A(t,"#"+e,r)}function GQ(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function KQ(t,e,r,n){for(var s=typeof e!="string"?e:Dr(e),a=typeof e=="string"?e:ln(e),o=s.s.r;o<=s.e.r;++o)for(var u=s.s.c;u<=s.e.c;++u){var d=T0(t,o,u);d.t="n",d.F=a,delete d.v,o==s.s.r&&u==s.s.c&&(d.f=r,n&&(d.D=!0))}return t}var la={encode_col:Zn,encode_row:Bn,encode_cell:_r,encode_range:ln,decode_col:gb,decode_row:mb,split_cell:cW,decode_cell:kn,decode_range:qs,format_cell:Wi,sheet_add_aoa:$6,sheet_add_json:MA,sheet_add_dom:PA,aoa_to_sheet:$u,json_to_sheet:VQ,table_to_sheet:RA,table_to_book:yQ,sheet_to_csv:Sb,sheet_to_txt:LA,sheet_to_json:qp,sheet_to_html:IA,sheet_to_formulae:$Q,sheet_to_row_object_array:qp,sheet_get_cell:T0,book_new:UQ,book_append_sheet:zQ,book_set_sheet_visibility:HQ,cell_set_number_format:WQ,cell_set_hyperlink:$A,cell_set_internal_link:qQ,cell_add_comment:GQ,sheet_set_array_formula:KQ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const VA=({orders:t,setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:s,formatDate:a,handleRenewal:o,actionLoading:u,balance:d,theme:h="dark"})=>{const[p,g]=T.useState(!1),[y,v]=T.useState(null),[k,w]=T.useState(""),[E,D]=T.useState(!1),[I,U]=T.useState({key:null,direction:"asc"}),O=h==="dark",X={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},B={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:O?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},A={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.25,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.15}}},S={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},C=T.useMemo(()=>{let ie=[...t].filter(de=>(de.productName||"").toLowerCase().includes(n.toLowerCase())||(de.orderId||"").toLowerCase().includes(n.toLowerCase()));return I.key&&ie.sort((de,se)=>{let V=de[I.key]||"",te=se[I.key]||"";return typeof V=="string"&&(V=V.toLowerCase()),typeof te=="string"&&(te=te.toLowerCase()),V<te?I.direction==="asc"?-1:1:V>te?I.direction==="asc"?1:-1:0}),ie},[t,n,I]),R=ie=>{const de={netflix:{bg:O?"bg-red-900/30":"bg-red-100",text:O?"text-red-300":"text-red-800"},disney:{bg:O?"bg-blue-900/30":"bg-blue-100",text:O?"text-blue-300":"text-blue-800"},max:{bg:O?"bg-yellow-900/30":"bg-yellow-100",text:O?"text-yellow-300":"text-yellow-800"},spotify:{bg:O?"bg-green-900/30":"bg-green-100",text:O?"text-green-300":"text-green-800"},default:{bg:O?"bg-gray-900/30":"bg-gray-100",text:O?"text-gray-300":"text-gray-700"}};return de[ie?.toLowerCase()]||de.default},F=ie=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[ie?.toLowerCase()]||ie||"N/A",W=(ie,de)=>{const se=ie.status||"pending",V=new Date(ie.endDate)>new Date;let te,re,ne;return se==="soporte"?(te="En soporte",re=de?"text-blue-400":"text-blue-600",ne=i.jsx(Ri,{className:re,title:"En Soporte"})):se==="rechazado"?(te="No aplica soporte",re=de?"text-amber-700":"text-amber-900",ne=i.jsx(oa,{className:re,title:"No aplica soporte"})):se==="pending"?(te="Pendiente a activacion",re=de?"text-yellow-400":"text-yellow-600",ne=i.jsx(Zl,{className:re,title:"Pendiente a activacion"})):V?(te="Activo",re=de?"text-green-400":"text-green-600",ne=i.jsx(_u,{className:re,title:"Activo"})):(te="Expirado",re=de?"text-red-400":"text-red-600",ne=i.jsx(oa,{className:re,title:"Expirado"})),{text:te,color:re,icon:ne}},M=ie=>{U(de=>({key:ie,direction:de.key===ie&&de.direction==="asc"?"desc":"asc"}))},Se=ie=>I.key!==ie?null:I.direction==="asc"?i.jsx(Cm,{className:"ml-1"}):i.jsx(Am,{className:"ml-1"}),Ie=()=>{const ie=C.map(te=>{const re=parseFloat(te.price)||0,ne=parseFloat(te.renewalPrice)||re,ee=te.status||"pending",Fe=ee==="pending",Be=ee==="soporte",Ae=ee==="rechazado",Pe=new Date(te.endDate)>new Date,it=Math.max(0,te.daysRemaining||0);let yt;Be?yt="En soporte":Ae?yt="No aplica soporte":Fe?yt="Pendiente a activacion":Pe?yt="Activo":yt="Expirado";const Wt=Be||Ae||Fe;let Oe;return Wt?Oe=yt:Oe=`${it} día${it===1?"":"s"}`,{Estado:yt,Producto:te.productName||"Sin nombre",Categoría:F(te.category),"N° Pedido":te.orderId||"N/A",Precio:`S/ ${re.toFixed(2)}`,"Precio Renovación":ne!==re?`S/ ${ne.toFixed(2)}`:"N/A","Tiempo Restante":Oe,"Fecha de Inicio":a(te.startDate),"Fecha de Vencimiento":a(te.endDate),Email:te.account?.email||"N/A",Contraseña:te.account?.password||"N/A",Perfil:te.account?.profile||"N/A",PIN:te.account?.pin||"N/A",Proveedor:te.provider||"N/A",Nombre:te.client?.customerName||"N/A","Teléfono Cliente":te.client?.phone||"N/A"}}),de=la.json_to_sheet(ie),se=la.book_new();la.book_append_sheet(se,de,"Pedidos");const V=new Date().toISOString().slice(0,10).replace(/-/g,"");$m(se,`mis_pedidos_export_${V}.xlsx`)},$e=ie=>{v(ie),w(""),g(!0)},Le=()=>{g(!1),v(null),w(""),D(!1)},_e=async()=>{if(!k.trim()){alert("El mensaje es obligatorio.");return}if(!y||!y.id){alert("Error: No se encontró el ID del pedido.");return}D(!0);try{await ci(ht(je,"sales",y.id),{status:"soporte",soporteMessage:k,soporteCreatedAt:new Date},{merge:!0}),console.log(`Documento actualizado exitosamente para order ID: ${y.id}`),typeof e=="function"&&e(ie=>{const de=ie.map(V=>String(V.id)===String(y.id)?{...V,status:"soporte",soporteMessage:k,soporteCreatedAt:new Date}:V);console.log("Orders actualizados localmente:",de);const se=de.find(V=>String(V.id)===String(y.id));return console.log(`Mensaje agregado localmente para ${y.id}:`,se?.soporteMessage),de}),typeof r=="function"&&setTimeout(async()=>{await r()},500),alert(`Soporte enviado para "${y.productName}". El pedido ahora está en estado "En soporte".`)}catch(ie){console.error("Error detallado en sendSupport:",ie),alert("Hubo un error al enviar a soporte. Verifica la consola del navegador para más detalles. Asegúrate de que el ID del pedido sea correcto y que tengas permisos en Firebase.")}finally{D(!1)}Le()};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${O?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:X,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"orders-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"orders-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${O?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(ii,{className:"mr-2"})," Mis Pedidos",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${O?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:C.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos por nombre o ID...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${O?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:ie=>s(ie.target.value),"aria-label":"Buscar pedidos por nombre o ID"}),i.jsx(ii,{className:`absolute left-3 top-3.5 ${O?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(Z.button,{onClick:Ie,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${O?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos como Excel","aria-label":"Exportar pedidos a Excel",children:[i.jsx(jm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx(Vt,{children:C.length>0?i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${O?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${O?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:"status",label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"orderId",label:"N° Pedido"},{key:"price",label:"Precio"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{key:"provider",label:"Proveedor"},{key:"customerName",label:"Nombre Cliente"},{key:"phone",label:"Teléfono Cliente"},{label:"Acciones"}].map(({key:ie,label:de})=>i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${O?"text-gray-300":"text-gray-700"} cursor-pointer hover:text-blue-400 transition-colors`,onClick:()=>ie&&M(ie),children:i.jsxs("div",{className:"flex items-center justify-between",children:[de,ie&&Se(ie)]})},ie||de))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:C.map(ie=>{const de=parseFloat(ie.price)||0,se=parseFloat(ie.renewalPrice)||de,V=ie.status||"pending",te=V==="pending",re=V==="soporte",ne=V==="rechazado",ee=new Date(ie.endDate)>new Date,Fe=Math.max(0,ie.daysRemaining||0),Be=Math.min(ie.timeElapsedPercentage||0,100),Ae=W(ie,O),Pe=R(ie.category);let it;Be<70?it=O?"bg-green-500":"bg-green-600":Be<90?it=O?"bg-orange-500":"bg-orange-600":it=O?"bg-red-500":"bg-red-600";const yt=!["En soporte","No aplica soporte","Pendiente a activacion"].includes(Ae.text),Oe=re||ne||te?Ae.text:`${Fe} día${Fe===1?"":"s"}`,fr=yt?it.replace("bg-","text-"):Ae.color,Mt=Ae.text,Re=encodeURIComponent(`*Consulta sobre Pedido - ${ie.productName||"Sin nombre"}*

*N° Pedido:* ${ie.orderId||"No especificado"}
*Producto:* ${ie.productName||"Sin nombre"}
*Precio:* S/ ${de.toFixed(2)}
`+(se?`*Precio de Renovación:* S/ ${se.toFixed(2)}
`:"")+`*Estado:* ${Mt}
*Fecha de Inicio:* ${a(ie.startDate)}
*Fecha de Vencimiento:* ${a(ie.endDate)}
`+(te?`Hola 😊, he comprado un producto a pedido (${ie.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),pr=!(te||re||ne),$t=te?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:re?`*Nota:* Este pedido está "En Soporte". El proveedor lo está revisando.

`:ne?`*Nota:* Este pedido ha sido rechazado. No aplica soporte.

`:"",Gt=encodeURIComponent(`😊 Estimado/a ${ie.client?.customerName||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${ie.productName||"Sin nombre"}.
🔢 Código: ${ie.orderId||"No especificado"}
`+(pr?`📧 Correo: ${ie.account?.email||"No especificado"}
🔐 Contraseña: ${ie.account?.password||"No especificado"}
👤 Perfil: ${ie.account?.profile||"No especificado"}
📌 PIN: ${ie.account?.pin||"No especificado"}
`:"")+`🌐 URL: Sin URL
📅 Fecha de creación: ${a(ie.startDate)}
📅 Fecha de vencimiento: ${a(ie.endDate)}
🏁 Días contratados: ${ie.durationDays||30} días.

`+$t+`*Términos y Condiciones:*
${ie.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),le=ie.providerPhone?ie.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999",Ye=ie.client?.phone?ie.client.phone.replace(/^\+/,"").replace(/\D/g,""):"51999999999";return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${O?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:B,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${ie.id}-title`,children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-full ${Ae.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:Ae.icon}),i.jsx("span",{className:`${Ae.color} font-medium`,children:Ae.text})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsx("h4",{id:`order-${ie.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:ie.productName||"Sin nombre"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Pe.bg} ${Pe.text}`,children:F(ie.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:ie.orderId||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"font-bold text-lg",children:["S/ ",de.toFixed(2)]}),se!==de&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-gray-100/50 dark:bg-gray-800/50 px-2 py-1 rounded-full",children:[i.jsx(K5,{size:12,className:"text-gray-400"}),i.jsxs("span",{children:["S/ ",se.toFixed(2)]})]})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[yt&&i.jsx("div",{className:"relative",children:i.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${O?"bg-gray-600/40":"bg-gray-300/40"}`,children:i.jsx(Z.div,{className:`h-2 rounded-full ${it}`,initial:{width:0},animate:{width:`${Be}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),i.jsx("span",{className:`text-sm font-medium ${fr}`,children:Oe})]})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(ie.startDate)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(ie.endDate)}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:ie.account?.email||"N/A",children:ie.account?.email||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:ie.account?.password||"N/A",children:ie.account?.password||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:ie.account?.profile||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono",children:ie.account?.pin||"N/A"}),i.jsx("td",{className:"px-4 py-4 text-sm font-medium text-teal-600",children:ie.provider||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:ie.client?.customerName||"N/A",children:ie.client?.customerName||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.client?.phone||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:["soporte","rechazado"].includes(V)?i.jsx("div",{className:"flex gap-2",children:i.jsx("span",{className:"text-gray-400 text-xs",children:"Sin acciones"})}):i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z.a,{href:`https://wa.me/51${le}?text=${Re}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor","aria-label":`Contactar proveedor para el pedido ${ie.orderId||ie.productName}`,children:i.jsx(Ur,{size:16})}),ee&&ie.renewable&&i.jsx(Z.button,{onClick:()=>o(ie),disabled:u[`renew_${ie.id}`]||d<se,className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${u[`renew_${ie.id}`]||d<se?"bg-gray-300/50 text-gray-500 cursor-not-allowed":"bg-blue-500/80 hover:bg-blue-600/90 text-white"} transition-all duration-200`,whileHover:{scale:u[`renew_${ie.id}`]||d<se?1:1.1},whileTap:{scale:u[`renew_${ie.id}`]||d<se?1:.9},title:"Renovar pedido","aria-label":`Renovar pedido ${ie.orderId||ie.productName} por S/ ${se.toFixed(2)}`,children:u[`renew_${ie.id}`]?i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):i.jsx(G5,{size:16})}),i.jsx(Z.a,{href:`https://wa.me/51${Ye}?text=${Gt}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-amber-500/80 hover:bg-amber-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente","aria-label":`Contactar cliente para el pedido ${ie.orderId||ie.productName}`,children:i.jsx(Ur,{size:16})}),i.jsx(Z.button,{onClick:()=>$e(ie),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-purple-500/80 hover:bg-purple-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Soporte","aria-label":`Abrir soporte para el pedido ${ie.orderId||ie.productName}`,children:i.jsx(Ri,{size:16})})]})})]},ie.id)})})]})})}):i.jsxs(Z.div,{className:"text-center py-16",variants:X,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(ii,{className:`mx-auto text-6xl ${O?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${O?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos encontrados"}),i.jsx("p",{className:`text-sm ${O?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o realiza tu primer pedido."})]})}),i.jsx(Vt,{children:p&&y&&i.jsxs(i.Fragment,{children:[i.jsx(Z.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",variants:S,initial:"hidden",animate:"visible",exit:"exit",onClick:Le}),i.jsxs(Z.div,{className:`relative w-full max-w-md p-6 rounded-3xl shadow-2xl border z-[10000] ${O?"bg-gray-800/95 border-gray-700/50 text-white":"bg-white/95 border-gray-200/50 text-gray-900"}`,variants:A,initial:"hidden",animate:"visible",exit:"exit",onClick:ie=>ie.stopPropagation(),children:[i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx(Z.button,{onClick:Le,className:`p-2 rounded-full ${O?"bg-gray-700/50 hover:bg-gray-600/50":"bg-gray-200/50 hover:bg-gray-300/50"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(oa,{size:18,className:O?"text-gray-300":"text-gray-600"})})}),i.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[i.jsx(Ri,{className:"text-purple-500"}),"Soporte para: ",y.productName||"Sin nombre"]}),i.jsx("textarea",{value:k,onChange:ie=>w(ie.target.value),placeholder:"Escribe tu mensaje de soporte detallado (obligatorio)...",className:`w-full p-4 rounded-2xl resize-none transition-all duration-200 ${O?"bg-gray-700/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-purple-500/50":"bg-gray-100/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-purple-500/50"} focus:ring-2 focus:ring-purple-500/30 focus:outline-none`,rows:5,required:!0,disabled:E}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx(Z.button,{onClick:Le,className:`px-6 py-2.5 rounded-xl font-medium transition-all duration-200 ${O?"bg-gray-600/70 hover:bg-gray-700/80 text-white":"bg-gray-300/70 hover:bg-gray-400/80 text-gray-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},disabled:E,children:"Cancelar"}),i.jsx(Z.button,{onClick:_e,className:`px-6 py-2.5 rounded-xl font-medium flex items-center gap-2 transition-all duration-200 ${!k.trim()||E?"bg-gray-400/70 cursor-not-allowed text-gray-500":"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white"}`,whileHover:!k.trim()||E?{}:{scale:1.05},whileTap:!k.trim()||E?{}:{scale:.95},disabled:!k.trim()||E,children:E?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}),"Enviando..."]}):"Enviar Soporte"})]})]})]})})]})};VA.propTypes={orders:G.arrayOf(G.shape({id:G.string.isRequired,productName:G.string,category:G.string,orderId:G.string,price:G.oneOfType([G.string,G.number]),renewalPrice:G.oneOfType([G.string,G.number]),status:G.string,startDate:G.oneOfType([G.string,G.instanceOf(Date)]),endDate:G.oneOfType([G.string,G.instanceOf(Date)]),daysRemaining:G.number,timeElapsedPercentage:G.number,account:G.shape({email:G.string,password:G.string,profile:G.string,pin:G.string}),client:G.shape({customerName:G.string,phone:G.string}),provider:G.string,providerPhone:G.string,renewable:G.bool,termsAndConditions:G.string,durationDays:G.number,soporteMessage:G.string,soporteCreatedAt:G.oneOfType([G.string,G.instanceOf(Date)])})).isRequired,setOrders:G.func.isRequired,fetchOrders:G.func,searchQuery:G.string.isRequired,setSearchQuery:G.func.isRequired,formatDate:G.func.isRequired,handleRenewal:G.func.isRequired,actionLoading:G.object.isRequired,balance:G.number.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const BA=({userName:t,email:e,actionLoading:r,handleUpdatePassword:n,openEditProfileModal:s,handleLogout:a,theme:o="dark"})=>{const u=o==="dark",d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},p={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}};return i.jsxs(Z.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"settings-title",children:[i.jsx(Z.h3,{id:"settings-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Configuración"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[i.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ks,{size:20}),"Perfil"]}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[i.jsx(ks,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Nombre:"}),i.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:t.username})]})]}),i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[i.jsx(ab,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Correo:"}),i.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:e})]})]}),i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[i.jsx(x0,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Teléfono:"}),i.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:t.phone||"No especificado"})]})]})]}),i.jsxs(Z.button,{onClick:()=>s({id:t.id,username:t.username,phone:t.phone}),className:`w-full px-6 py-3 rounded-xl font-semibold transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white focus:ring-blue-400":"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white focus:ring-blue-500"}`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Editar perfil",children:[i.jsx(lz,{size:18,className:"inline mr-2"}),"Editar Perfil"]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[i.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-green-400":"text-green-600"}`,children:[i.jsx(Cp,{size:20}),"Seguridad"]}),i.jsxs("form",{onSubmit:n,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nueva Contraseña"}),i.jsx("input",{type:"password",name:"password",className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-300`,placeholder:"Ingrese nueva contraseña (mínimo 6 caracteres)","aria-label":"Nueva contraseña"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nuevo Teléfono"}),i.jsx("input",{type:"tel",name:"phone",className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-300`,placeholder:"Ingrese nuevo teléfono (ej: +51 940 505 969)",defaultValue:t.phone||"","aria-label":"Nuevo teléfono"})]}),i.jsx(Z.button,{type:"submit",disabled:r.password,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${r.password?"bg-gray-300 text-gray-500 cursor-not-allowed":u?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-400":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-500"}`,variants:p,whileHover:r.password?{}:"hover",whileTap:r.password?{}:"tap","aria-label":"Guardar cambios de seguridad",children:r.password?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}),i.jsx("span",{children:"Guardando..."})]}):"Guardar Cambios"})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[i.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-red-400":"text-red-600"}`,children:[i.jsx(jp,{size:20}),"Sesión"]}),i.jsxs(Z.button,{onClick:a,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${u?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-400":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-500"}`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar sesión",children:[i.jsx(jp,{size:18}),"Cerrar Sesión"]})]})]})]})};BA.propTypes={userName:G.shape({id:G.string.isRequired,username:G.string.isRequired,phone:G.string}).isRequired,email:G.string.isRequired,actionLoading:G.shape({password:G.bool}).isRequired,handleUpdatePassword:G.func.isRequired,openEditProfileModal:G.func.isRequired,handleLogout:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const UA=({orders:t=[],setOrders:e=()=>{},fetchOrders:r,searchQuery:n="",setSearchQuery:s=()=>{},formatDate:a=p=>p?new Date(p).toLocaleDateString("es-PE"):"",handleRenewal:o=()=>{},actionLoading:u={},balance:d=0,theme:h="dark"})=>{const[p,g]=T.useState({key:null,direction:"asc"}),y=h==="dark",v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},k={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:y?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},w=T.useMemo(()=>{let A=[...t.filter(S=>S.status==="soporte")].filter(S=>(S.productName||"").toLowerCase().includes(n.toLowerCase())||(S.orderId||"").toLowerCase().includes(n.toLowerCase()));return p.key&&A.sort((S,C)=>{let R=S[p.key]||"",F=C[p.key]||"";return p.key==="soporteMessage"?(R=S.soporteMessage||"",F=C.soporteMessage||""):p.key==="category"&&(R=D(S.category),F=D(C.category)),typeof R=="string"&&(R=R.toLowerCase()),typeof F=="string"&&(F=F.toLowerCase()),R<F?p.direction==="asc"?-1:1:R>F?p.direction==="asc"?1:-1:0}),A},[t,n,p]),E=B=>{const A={netflix:{bg:y?"bg-red-900/30":"bg-red-100",text:y?"text-red-300":"text-red-800"},disney:{bg:y?"bg-blue-900/30":"bg-blue-100",text:y?"text-blue-300":"text-blue-800"},max:{bg:y?"bg-yellow-900/30":"bg-yellow-100",text:y?"text-yellow-300":"text-yellow-800"},spotify:{bg:y?"bg-green-900/30":"bg-green-100",text:y?"text-green-300":"text-green-800"},default:{bg:y?"bg-gray-900/30":"bg-gray-100",text:y?"text-gray-300":"text-gray-700"}};return A[B?.toLowerCase()]||A.default},D=B=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[B?.toLowerCase()]||B||"N/A",I=(B,A)=>{const S=B.status||"pending",C=new Date(B.endDate)>new Date;let R,F,W;return S==="soporte"?(R="En soporte",F=A?"text-blue-400":"text-blue-600",W=i.jsx(Ri,{className:F,title:"En Soporte"})):S==="rechazado"?(R="No aplica soporte",F=A?"text-amber-700":"text-amber-900",W=i.jsx(oa,{className:F,title:"No aplica soporte"})):C?(R="Activo",F=A?"text-green-400":"text-green-600",W=i.jsx(_u,{className:F,title:"Activo"})):S==="pending"?(R="Pendiente a activacion",F=A?"text-yellow-400":"text-yellow-600",W=i.jsx(Zl,{className:F,title:"Pendiente a activacion"})):(R="Expirado",F=A?"text-red-400":"text-red-600",W=i.jsx(oa,{className:F,title:"Expirado"})),{text:R,color:F,icon:W}},U=B=>{g(A=>({key:B,direction:A.key===B&&A.direction==="asc"?"desc":"asc"}))},O=B=>p.key!==B?null:p.direction==="asc"?i.jsx(Cm,{className:"ml-1"}):i.jsx(Am,{className:"ml-1"}),X=()=>{const B=w.map(R=>{const F=parseFloat(R.price)||0,W=parseFloat(R.renewalPrice)||F,M=R.status||"pending",Se=M==="pending",Ie=M==="soporte",$e=M==="rechazado",Le=new Date(R.endDate)>new Date,_e=Math.max(0,R.daysRemaining||0);let ie;Ie?ie="En Soporte":$e?ie="No aplica soporte":Le?ie="Activo":Se?ie="Pendiente a activacion":ie="Expirado";const de=Ie||$e||Se&&!Le;let se;return de?se=ie:se=`${_e} día${_e===1?"":"s"}`,{Estado:ie,Producto:R.productName||"Sin nombre",Categoría:D(R.category),"N° Pedido":R.orderId||"N/A",Precio:`S/ ${F.toFixed(2)}`,"Precio Renovación":W!==F?`S/ ${W.toFixed(2)}`:"N/A","Tiempo Restante":se,"Fecha de Inicio":a(R.startDate),"Fecha de Vencimiento":a(R.endDate),Email:R.account?.email||"N/A",Contraseña:R.account?.password||"N/A",Perfil:R.account?.profile||"N/A",PIN:R.account?.pin||"N/A",Proveedor:R.provider||"N/A","Mensaje de Soporte":R.soporteMessage||"Sin mensaje"}}),A=la.json_to_sheet(B),S=la.book_new();la.book_append_sheet(S,A,"Pedidos");const C=new Date().toISOString().slice(0,10).replace(/-/g,"");$m(S,`mis_pedidos_soporte_export_${C}.xlsx`)};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${y?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"support-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"support-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${y?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(Ri,{className:"mr-2"})," Pedidos en Soporte",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${y?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:w.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos en soporte por nombre o ID...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${y?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:B=>s(B.target.value),"aria-label":"Buscar pedidos en soporte por nombre o ID"}),i.jsx(ii,{className:`absolute left-3 top-3.5 ${y?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(Z.button,{onClick:X,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${y?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos en soporte como Excel","aria-label":"Exportar pedidos en soporte a Excel",children:[i.jsx(jm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx(Vt,{children:w.length>0?i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${y?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${y?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:null,label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"orderId",label:"N° Pedido"},{key:"price",label:"Precio"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{key:"provider",label:"Proveedor"},{key:"soporteMessage",label:"Mensaje de Soporte"},{label:"Acciones"}].map(({key:B,label:A})=>i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${y?"text-gray-300":"text-gray-700"} ${B?"cursor-pointer hover:text-blue-400 transition-colors":""}`,onClick:()=>B&&U(B),children:i.jsxs("div",{className:"flex items-center justify-between",children:[A,B&&O(B)]})},B||A))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:w.map(B=>{const A=parseFloat(B.price)||0,S=parseFloat(B.renewalPrice)||A,C=B.status||"pending",R=C==="pending",F=C==="soporte",W=C==="rechazado",M=new Date(B.endDate)>new Date,Se=Math.max(0,B.daysRemaining||0),Ie=Math.min(B.timeElapsedPercentage||0,100),$e=I(B,y),Le=E(B.category);let _e;Ie<70?_e=y?"bg-green-500":"bg-green-600":Ie<90?_e=y?"bg-orange-500":"bg-orange-600":_e=y?"bg-red-500":"bg-red-600";const ie=!["En soporte","No aplica soporte","Pendiente a activacion"].includes($e.text),se=F||W||R&&!M?$e.text:`${Se} día${Se===1?"":"s"}`,V=ie?_e.replace("bg-","text-"):$e.color,te=encodeURIComponent(`*Consulta de Soporte - Pedido ${B.orderId||"N/A"}*

*Producto:* ${B.productName||"Sin nombre"}
*Cliente:* ${B.client?.customerName||"N/A"}
*Mensaje del Cliente:* ${B.soporteMessage||"Sin mensaje"}

Por favor, proporciona una solución o actualización para este soporte. ¡Gracias!`),re=B.providerPhone?B.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${y?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:k,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${B.id}-title`,children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-full ${$e.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:$e.icon}),i.jsx("span",{className:`${$e.color} font-medium`,children:$e.text})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsx("h4",{id:`order-${B.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:B.productName||"Sin nombre"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Le.bg} ${Le.text}`,children:D(B.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:B.orderId||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"font-bold text-lg",children:["S/ ",A.toFixed(2)]}),S!==A&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-gray-100/50 dark:bg-gray-800/50 px-2 py-1 rounded-full",children:[i.jsx(K5,{size:12,className:"text-gray-400"}),i.jsxs("span",{children:["S/ ",S.toFixed(2)]})]})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[ie&&i.jsx("div",{className:"relative",children:i.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${y?"bg-gray-600/40":"bg-gray-300/40"}`,children:i.jsx(Z.div,{className:`h-2 rounded-full ${_e}`,initial:{width:0},animate:{width:`${Ie}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),i.jsx("span",{className:`text-sm font-medium ${V}`,children:se})]})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(B.startDate)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(B.endDate)}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:B.account?.email||"N/A",children:B.account?.email||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:B.account?.password||"N/A",children:B.account?.password||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:B.account?.profile||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono",children:B.account?.pin||"N/A"}),i.jsx("td",{className:"px-4 py-4 text-sm font-medium text-teal-600",children:B.provider||"N/A"}),i.jsxs("td",{className:"px-4 py-4 max-w-xs",children:[i.jsx("p",{className:"text-sm break-words line-clamp-3 bg-gray-100/30 dark:bg-gray-800/30 p-2 rounded",title:B.soporteMessage||"Sin mensaje",children:B.soporteMessage||"Sin mensaje"}),B.soporteCreatedAt&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a(B.soporteCreatedAt)})]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("div",{className:"flex gap-2",children:i.jsx(Z.a,{href:`https://wa.me/51${re}?text=${te}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor por WhatsApp","aria-label":`Contactar proveedor para el pedido ${B.orderId||B.productName}`,children:i.jsx(Ur,{size:16})})})})]},B.id)})})]})})}):i.jsxs(Z.div,{className:"text-center py-16",variants:v,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(Ri,{className:`mx-auto text-6xl ${y?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${y?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos en soporte encontrados"}),i.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o verifica si hay pedidos en estado de soporte."})]})})]})};UA.propTypes={orders:G.arrayOf(G.shape({id:G.string.isRequired,productName:G.string,category:G.string,orderId:G.string,price:G.oneOfType([G.string,G.number]),renewalPrice:G.oneOfType([G.string,G.number]),status:G.string,startDate:G.oneOfType([G.string,G.instanceOf(Date)]),endDate:G.oneOfType([G.string,G.instanceOf(Date)]),daysRemaining:G.number,timeElapsedPercentage:G.number,account:G.shape({email:G.string,password:G.string,profile:G.string,pin:G.string}),client:G.shape({customerName:G.string}),provider:G.string,providerPhone:G.string,renewable:G.bool,termsAndConditions:G.string,durationDays:G.number,soporteMessage:G.string,soporteCreatedAt:G.oneOfType([G.string,G.instanceOf(Date)])})),setOrders:G.func,fetchOrders:G.func,searchQuery:G.string,setSearchQuery:G.func,formatDate:G.func,handleRenewal:G.func,actionLoading:G.object,balance:G.number,theme:G.oneOf(["light","dark"])};const XQ=({referralCode:t,affiliates:e,formatDate:r,theme:n="dark"})=>{const[s,a]=T.useState(!1),o=n==="dark",u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h=async()=>{try{await navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)}catch(p){console.error("Failed to copy code:",p)}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${o?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[i.jsx(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${o?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Afiliados"}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm mb-8 ${o?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${o?"text-blue-400":"text-blue-600"}`,children:[i.jsx(Tu,{size:20}),"Tu Código de Referido"]}),i.jsxs("div",{className:"relative",children:[i.jsx("p",{className:`text-3xl font-bold text-center mb-4 px-4 py-3 rounded-xl bg-gradient-to-r ${o?"from-blue-500/20 to-purple-500/20 text-blue-300 border-blue-500/30":"from-blue-100/50 to-purple-100/50 text-blue-700 border-blue-300/50"} border`,children:t||"Cargando..."}),i.jsx(Z.button,{onClick:h,className:`absolute -top-2 -right-2 p-2 rounded-full bg-blue-500 text-white shadow-lg hover:bg-blue-600 transition-all duration-300 ${o?"hover:shadow-blue-500/25":"hover:shadow-blue-500/50"}`,whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"Copiar código",disabled:!t,children:i.jsx(z5,{size:16})}),i.jsx(Vt,{children:s&&i.jsx(Z.p,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs ${o?"text-green-400":"text-green-600"}`,children:"¡Código copiado!"})})]}),i.jsx("p",{className:`text-sm text-center mt-4 ${o?"text-gray-400":"text-gray-600"}`,children:"Comparte este código con tus amigos para que se unan a través de ti."})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${o?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${o?"text-white":"text-gray-900"}`,children:[i.jsx(Tu,{size:20}),"Usuarios Afiliados"]}),i.jsx(Vt,{children:e.length>0?e.map((p,g)=>i.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:g*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${o?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[i.jsx("div",{className:"flex items-start justify-between mb-2",children:i.jsx("p",{className:`font-semibold flex-1 ${o?"text-white":"text-gray-900"}`,children:p.username})}),i.jsxs("div",{className:`space-y-2 ${o?"text-gray-300":"text-gray-700"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ur,{className:"text-blue-400 flex-shrink-0",size:16}),i.jsx("span",{className:"text-sm",children:p.email})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(x0,{className:"text-blue-400 flex-shrink-0",size:16}),i.jsx("span",{className:"text-sm",children:p.phone||"No especificado"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(iz,{className:"text-blue-400 flex-shrink-0",size:16}),i.jsx("span",{className:"text-sm",children:r(p.createdAt)})]})]})]},p.id)):i.jsx(Z.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${o?"text-gray-400":"text-gray-500"}`,children:"SERVICIO QUE VA A LLEGAR MUY PRONTO"})})]})]})},YQ=ja.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>i.jsx(Vt,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(Vn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));YQ.propTypes={show:G.bool.isRequired,onClose:G.func.isRequired,title:G.string.isRequired,message:G.string.isRequired,theme:G.string.isRequired};const zA=()=>{const[t,e]=T.useState(!1),[r,n]=T.useState(""),[s,a]=T.useState([]),[o,u]=T.useState({username:"",phone:""}),[d,h]=T.useState(""),[p,g]=T.useState(0),[y,v]=T.useState(null),[k,w]=T.useState("inicio"),[E,D]=T.useState([]),[I,U]=T.useState({}),[O,X]=T.useState([]),[B,A]=T.useState([]),[S,C]=T.useState(""),[R,F]=T.useState(!0),[W,M]=T.useState({}),[Se,Ie]=T.useState(null),[$e,Le]=T.useState({isOpen:!1,message:"",title:""}),[_e,ie]=T.useState({isOpen:!1,user:null}),[de,se]=T.useState({isOpen:!1,provider:null}),[V,te]=T.useState(""),[re,ne]=T.useState([]),[ee,Fe]=T.useState("dark"),[Be,Ae]=T.useState(!1),[Pe,it]=T.useState(!1),[yt,Wt]=T.useState(!1),Oe=La();T.useEffect(()=>{const be=()=>Wt(window.innerWidth<1024);return be(),window.addEventListener("resize",be),()=>window.removeEventListener("resize",be)},[]);const fr=T.useCallback(()=>{Fe(be=>be==="dark"?"light":"dark")},[]),Mt=T.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),Re=T.useCallback((be,ke)=>{Le({isOpen:!0,title:be,message:ke})},[]),pr=T.useCallback(()=>{Le({isOpen:!1,message:"",title:""})},[]),$t=T.useCallback(be=>{ie({isOpen:!0,user:be})},[]),Gt=T.useCallback(()=>{ie({isOpen:!1,user:null})},[]),le=T.useCallback(be=>{se({isOpen:!0,provider:be})},[]),Ye=T.useCallback(()=>{se({isOpen:!1,provider:null})},[]),ct=T.useCallback(be=>{if(!be)return"No especificada";try{const ke=be instanceof Date?be:new Date(be);return isNaN(ke.getTime())?"Fecha inválida":ke.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},[]),ut=T.useCallback(async()=>{if(y)try{const be=tr(kt(je,"sales"),vr("customerId","==",y)),ke=await tn(be),Me=new Set,Ze=[];ke.forEach(ot=>{const et=ot.data();et.providerId&&!Me.has(et.providerId)&&(Me.add(et.providerId),Ze.push({id:et.providerId,name:et.provider||"Proveedor desconocido",phone:et.providerPhone||"No especificado"}))});const vt=tr(kt(je,"ratings"),vr("userId","==",y)),at=(await tn(vt)).docs.map(ot=>ot.data().providerId);Ze.forEach(ot=>{ot.hasRated=at.includes(ot.id)}),ne(Ze)}catch(be){console.error("Error fetching providers:",be),Ie("Error al cargar proveedores: "+be.message)}},[y]),At=T.useCallback(async(be,ke)=>{try{M(Ze=>({...Ze,profile:!0}));const Me=ht(je,"users",be);await Xr(Me,{username:ke,updatedAt:br()}),u(Ze=>({...Ze,username:ke})),Re("Éxito","Perfil actualizado exitosamente"),Gt()}catch(Me){console.error("Error al actualizar perfil:",Me),Re("Error",Me.message||"Error al actualizar el perfil")}finally{M(Me=>({...Me,profile:!1}))}},[Re,Gt]),wt=T.useCallback(async(be,ke)=>{try{M(Me=>({...Me,[`rate_${be}`]:!0})),await Ro(kt(je,"ratings"),{userId:y,providerId:be,rating:ke,ratedAt:br()}),ne(Me=>Me.map(Ze=>Ze.id===be?{...Ze,hasRated:!0}:Ze)),Re("Éxito","Calificación enviada exitosamente"),Ye()}catch(Me){console.error("Error al calificar proveedor:",Me),Re("Error",Me.message||"Error al enviar la calificación")}finally{M(Me=>({...Me,[`rate_${be}`]:!1}))}},[y,Re,Ye]),st=T.useCallback(async be=>{try{M(Ze=>({...Ze,[`delete_${be.id}`]:!0}));const ke=tr(kt(je,"ratings"),vr("userId","==",y),vr("providerId","==",be.id)),Me=await tn(ke);if(Me.empty){Re("Error","No se encontró la calificación para eliminar");return}await Ai(Me.docs[0].ref),ne(Ze=>Ze.map(vt=>vt.id===be.id?{...vt,hasRated:!1}:vt)),le(be),Re("Éxito","Calificación anterior eliminada. Ahora puedes volver a calificar.")}catch(ke){console.error("Error al eliminar calificación:",ke),Re("Error",ke.message||"Error al eliminar la calificación")}finally{M(ke=>({...ke,[`delete_${be.id}`]:!1}))}},[y,Re,le]),gt=T.useCallback(async be=>{try{M(Bt=>({...Bt,[`renew_${be.id}`]:!0}));const ke=parseFloat(be.renewalPrice)||parseFloat(be.price)||0;if(p<ke){Re("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const Me=parseInt(be.durationDays)||30,Ze=kr.now(),vt=Ze.toDate(),Nt=vt,at=new Date(Nt.getTime()+Me*24*60*60*1e3),ot=kr.fromDate(at),et=ht(je,"sales",be.id);await Xr(et,{startDate:Ze,endDate:ot,renewedAt:Ze,status:"completed",updatedAt:br()});const Tt=ht(je,"users",y);await Xr(Tt,{balance:p-ke}),g(Bt=>Bt-ke),D(Bt=>Bt.map(Kt=>Kt.id===be.id?{...Kt,startDate:Nt,endDate:at,renewedAt:vt,status:"completed",daysRemaining:Me,totalDays:Me,timeElapsedPercentage:0}:Kt)),Re("Éxito",`¡Pedido renovado exitosamente! Nueva fecha de vencimiento: ${ct(at)}`)}catch(ke){console.error("Error al renovar el pedido:",ke),Re("Error","Error al renovar el pedido: "+ke.message)}finally{M(ke=>({...ke,[`renew_${be.id}`]:!1}))}},[p,y,Re,ct]);T.useEffect(()=>{(async()=>{try{const ke=tr(kt(je,"products")),Me=await tn(ke),Ze={};Me.forEach(vt=>{Ze[vt.id]=vt.data()}),U(Ze)}catch(ke){console.error("Error fetching products:",ke),Ie("Error al cargar productos: "+ke.message)}})()},[]),T.useEffect(()=>{const be=hr(ht(je,"notifications","adminMessage"),ke=>{if(ke.exists()){const Me=ke.data();Me.roles&&Me.roles.includes("user")?X([{id:ke.id,...Me,timestamp:Me.updatedAt?.toDate()}]):X([])}else X([])},ke=>{console.error("Error in notifications listener:",ke),Ie("Error al cargar notificaciones: "+ke.message)});return()=>be()},[]),T.useEffect(()=>{if(!y){console.log("No userId disponible para fetch affiliates");return}console.log("Iniciando fetch de affiliates para userId:",y);const be=tr(kt(je,"users"),vr("referredBy","==",y)),ke=hr(be,Me=>{console.log(`Affiliates snapshot recibido. Docs length: ${Me.docs.length}`);const Ze=Me.docs.map(vt=>{const Nt=vt.data();return console.log(`Affiliate doc: ID=${vt.id}, referredBy=${Nt.referredBy}, username=${Nt.username}`),{id:vt.id,username:Nt.username||"Desconocido",email:Nt.email||"No especificado",phone:Nt.phone||"No especificado",createdAt:Nt.createdAt?.toDate?.()||new Date}});console.log("Affiliates procesados:",Ze),A(Ze)},Me=>{console.error("Error fetching affiliates:",Me),Ie("Error al cargar afiliados: "+Me.message)});return()=>{console.log("Desuscribiendo affiliates listener"),ke()}},[y]),T.useEffect(()=>{ut()},[ut]);const ir=T.useCallback(async()=>{try{await B0(en),Oe("/")}catch(be){console.error("Error al cerrar sesión:",be),Re("Error",be.message||"Error al cerrar sesión")}},[Oe,Re]);T.useEffect(()=>{const be=Gl(en,ke=>{ke?(console.log("Auth user loaded:",ke.uid),v(ke.uid),h(ke.email||"No especificado"),C(""),F(!1)):Oe("/login")});return()=>be()},[Oe]),T.useEffect(()=>{if(!y)return;console.log("Iniciando fetch de user data para:",y);const be=ht(je,"users",y),ke=hr(be,Me=>{if(Me.exists()){const Ze=Me.data();console.log("User data loaded:",{username:Ze.username,referralCode:Ze.referralCode}),u({username:Ze.username||"Usuario",phone:Ze.phone||""}),h(Ze.email||"No especificado"),g(Number(Ze.balance)||0),C(Ze.referralCode||y.slice(-6).toUpperCase())}else console.error("User doc no existe para:",y),Ie("Usuario no encontrado")},Me=>{console.error("Error in user data listener:",Me),Ie("Error al cargar datos del usuario: "+Me.message)});return()=>ke()},[y]),T.useEffect(()=>{if(!y)return;const be=tr(kt(je,"sales"),vr("customerId","==",y)),ke=hr(be,async Ze=>{if(Ze.empty){D([]),F(!1);return}const vt=new Date,Nt=7200*60*1e3;for(const ot of Ze.docs){const Tt=ot.data().endDate?.toDate?.()||new Date;if(Tt<vt&&vt.getTime()-Tt.getTime()>Nt)try{await Ai(ht(je,"sales",ot.id)),console.log(`Deleted expired order: ${ot.id}`)}catch(Bt){console.error(`Error deleting order ${ot.id}:`,Bt)}}const at=Ze.docs.map(ot=>{const et=ot.data(),Bt=et.saleDate?.toDate?.()||et.createdAt?.toDate?.()||new Date;let Kt=et.startDate?.toDate?.(),jr=Kt||Bt,Mr=!1;Kt||(Mr=!0);const un=et.durationDays||30;let cr;et.endDate?cr=et.endDate.toDate?et.endDate.toDate():new Date(et.endDate):(cr=new Date(jr.getTime()+un*24*60*60*1e3),Mr=!0),Mr&&Xr(ht(je,"sales",ot.id),{startDate:Kt||kr.fromDate(Bt),endDate:kr.fromDate(cr),durationDays:un}).catch(z=>{console.error("Error al actualizar startDate/endDate en Firestore:",z)});const Hn=cr.getTime()-jr.getTime(),ur=vt.getTime()-jr.getTime(),dn=cr.getTime()-vt.getTime(),Er=Math.ceil(Hn/(1e3*60*60*24)),xn=Math.max(0,Math.ceil(dn/(1e3*60*60*24))),ve=Math.ceil(ur/(1e3*60*60*24)),Ne=Er>0?ve/Er*100:100,P=I[et.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:ot.id,productName:et.productName||"Producto sin nombre",category:et.type||"netflix",price:parseFloat(et.price)||0,renewalPrice:parseFloat(et.renewalPrice)||0,provider:et.provider||"No especificado",providerId:et.providerId||"",providerPhone:et.providerPhone||et.providerWhatsapp||"51999999999",status:et.status||"completed",saleDate:Bt,startDate:jr,endDate:cr,durationDays:un,daysRemaining:xn,totalDays:Er,timeElapsedPercentage:Ne,account:{email:et.accountDetails?.email||"No especificado",password:et.accountDetails?.password||"No especificado",profile:et.accountDetails?.profile||"No especificado",pin:et.accountDetails?.pin||"No especificado"},client:{customerName:et.customerName||"Cliente desconocido",email:et.customerEmail||"No especificado",phone:et.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BLK-${ot.id.slice(0,8).toUpperCase()}`,termsAndConditions:P,renewable:et.renewable!==void 0?et.renewable:!0}}).filter(ot=>{const et=new Date(ot.endDate);return!(et<vt&&vt.getTime()-et.getTime()>Nt)});D(at),F(!1)},Ze=>{console.error("Error al obtener pedidos:",Ze),Ie("Error al cargar pedidos: "+Ze.message),F(!1)}),Me=setInterval(()=>{const Ze=new Date,vt=7200*60*1e3;D(Nt=>Nt.map(at=>{const ot=new Date(at.endDate).getTime()-new Date(at.startDate).getTime(),et=Ze.getTime()-new Date(at.startDate).getTime(),Tt=new Date(at.endDate).getTime()-Ze.getTime(),Bt=Math.ceil(ot/(1e3*60*60*24)),Kt=Math.max(0,Math.ceil(Tt/(1e3*60*60*24))),jr=Math.ceil(et/(1e3*60*60*24)),Mr=Bt>0?jr/Bt*100:100;return{...at,daysRemaining:Kt,totalDays:Bt,timeElapsedPercentage:Mr}}).filter(at=>{const ot=new Date(at.endDate);return!(ot<Ze&&Ze.getTime()-ot.getTime()>vt)}))},6e4);return()=>{ke(),clearInterval(Me)}},[y,I]),T.useEffect(()=>{if(!y)return;const be=tr(kt(je,"pendingTopUps"),vr("userId","==",y)),ke=hr(be,Me=>{const Ze=Me.docs.map(vt=>({id:vt.id,...vt.data(),date:vt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(vt.data().amount)||0}));a(Ze)},Me=>{console.error("Error al obtener recargas:",Me),Ie("Error al cargar recargas: "+Me.message)});return()=>ke()},[y]);const Q=T.useCallback(async()=>{try{if(M(ke=>({...ke,topUp:!0})),!r||isNaN(r)){Re("Error","Ingrese un monto válido");return}const be=parseFloat(r);if(be<5){Re("Error","El monto mínimo de recarga es S/ 5.00");return}await Ro(kt(je,"pendingTopUps"),{userId:y,username:o.username,amount:be,status:"pendiente",requestedAt:br()}),n(""),Re("Éxito","Solicitud de recarga enviada correctamente")}catch(be){console.error("Error al solicitar recarga:",be),Re("Error",be.message||"Error al enviar solicitud de recarga")}finally{M(be=>({...be,topUp:!1}))}},[r,y,o.username,Re]),Te=T.useCallback(async be=>{be.preventDefault();try{M(at=>({...at,password:!0}));const ke=be.target.password.value,Me=be.target.phone.value,Ze=en.currentUser,vt=ht(je,"users",y),Nt={};if(ke){if(ke.length<6){Re("Error","La contraseña debe tener al menos 6 caracteres");return}await m1(Ze,ke),Nt.updatedAt=br()}Me&&(Nt.phone=Me,Nt.updatedAt=br()),Object.keys(Nt).length>0&&await Xr(vt,Nt),u(at=>({...at,phone:Me||at.phone})),Re("Éxito","Cambios guardados correctamente"),be.target.reset()}catch(ke){console.error("Error al actualizar los datos:",ke),Re("Error",ke.message||"Error al guardar los cambios")}finally{M(ke=>({...ke,password:!1}))}},[y,Re]);T.useEffect(()=>{const be=()=>{Ae(window.scrollY>300)};return window.addEventListener("scroll",be),()=>window.removeEventListener("scroll",be)},[]);const ft=()=>R?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):Se?i.jsxs("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ml,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${ee==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:Se}),i.jsx("button",{onClick:()=>Ie(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):i.jsx("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(k){case"inicio":return i.jsx(sH,{userName:o,email:d,balance:p,orders:E,notifications:O,setActivePage:w,formatDate:ct});case"notificaciones":return i.jsx(n6,{notifications:O,formatDate:ct});case"recargar":return i.jsx(s6,{amount:r,setAmount:n,topUps:s,actionLoading:W,handleTopUpRequest:Q,formatDate:ct,showModal:Re});case"proveedores":return i.jsx(a6,{providers:re,openRateProviderModal:le,deleteRatingProvider:st,theme:ee});case"afiliados":return console.log("Rendering AffiliatesSection with:",{referralCode:S,affiliatesLength:B.length}),i.jsx(XQ,{referralCode:S,affiliates:B,formatDate:ct,theme:ee});case"pedidos":return i.jsx(VA,{orders:E,setOrders:D,balance:p,searchQuery:V,setSearchQuery:te,formatDate:ct,handleRenewal:gt,actionLoading:W,theme:ee});case"configuracion":return i.jsx(BA,{userName:o,email:d,actionLoading:W,handleUpdatePassword:Te,openEditProfileModal:$t,handleLogout:ir});case"soporte":return i.jsx(UA,{orders:E,setOrders:D,searchQuery:V,setSearchQuery:te,formatDate:ct,handleRenewal:gt,actionLoading:W,balance:p,theme:ee});default:return i.jsxs("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ml,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${ee==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),i.jsx("p",{className:`text-base ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>w("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()});return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${ee==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${ee==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(15)].map((be,ke)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},ke))})]}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${ee==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>{Oe("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:i.jsx(Vn,{className:"text-lg"})})]}),i.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${ee==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:o.username.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${ee==="dark"?"text-white":"text-gray-900"}`,children:o.username}),i.jsx("p",{className:`text-xs ${ee==="dark"?"text-gray-400":"text-gray-600"}`,children:"Usuario"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:eb},{id:"notificaciones",label:"Notificaciones",icon:Ll},{id:"recargar",label:"Recargar saldo",icon:ai},{id:"pedidos",label:"Mis pedidos",icon:vu},{id:"proveedores",label:"Proveedores",icon:$l},{id:"afiliados",label:"Afiliados",icon:wu},{id:"soporte",label:"Soporte",icon:nz},{id:"configuracion",label:"Configuración",icon:Ap}].map(be=>i.jsxs("button",{onClick:()=>{w(be.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${k===be.id?"bg-blue-100 text-blue-600 border border-blue-300":ee==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":k===be.id?"page":void 0,children:[i.jsx(be.icon,{className:"text-lg"}),i.jsx("span",{children:be.label})]},be.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:()=>{ir(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${ee==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[i.jsx(bu,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsxs("header",{className:`${ee==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Z.img,{src:ec,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border cursor-pointer ${ee==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy",onClick:()=>Oe("/")}),i.jsx("button",{onClick:()=>{yt?Oe("/"):w("inicio")},className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300 cursor-pointer","aria-label":yt?"Go to BlackStreaming homepage":"Ir al inicio del dashboard",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:V,onChange:be=>te(be.target.value),className:`w-full py-2.5 px-5 ${ee==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:be=>be.key==="Enter"&&w("pedidos")}),i.jsx("button",{onClick:()=>w("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${ee==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:i.jsx(yu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[i.jsx("button",{onClick:fr,className:`p-2 rounded-full ${ee==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${ee==="dark"?"light":"dark"} theme`,children:ee==="dark"?i.jsx(Jl,{size:20}):i.jsx(Ql,{size:20})}),i.jsxs("button",{onClick:()=>it(!0),className:`p-2 rounded-full relative ${ee==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${O.length} new)`,children:[i.jsx(Ll,{size:20}),O.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:O.length})]}),i.jsx("button",{className:`lg:hidden p-2 rounded-full ${ee==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:i.jsx(Sm,{size:20,className:ee==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:i.jsx("div",{className:"relative",children:i.jsxs("button",{className:`flex items-center space-x-2 ${ee==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:o.username.charAt(0).toUpperCase()}),i.jsx("span",{className:`text-sm font-semibold ${ee==="dark"?"text-gray-200":"text-gray-800"}`,children:o.username})]})})})]})]}),i.jsx(Vt,{children:Pe&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>it(!1),role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${ee==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:be=>be.stopPropagation(),children:[i.jsx("button",{onClick:()=>it(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:i.jsx(Vn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${ee==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),O.length>0?O.map(be=>i.jsxs("div",{className:`p-4 mb-2 rounded-md ${ee==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${ee==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[i.jsx("h3",{className:`font-semibold ${ee==="dark"?"text-gray-200":"text-gray-800"}`,children:be.title||"Nueva Notificación"}),i.jsx("p",{className:`text-sm ${ee==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:be.message}),be.roles&&be.roles.length>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",be.roles.join(", ")]}),be.timestamp&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ct(be.timestamp)})]},be.id)):i.jsx("p",{className:`text-center ${ee==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),i.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:ft()}),i.jsxs("footer",{className:`${ee==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),i.jsxs("p",{className:`text-base sm:text-lg ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[i.jsx("a",{href:"https://twitter.com",className:`${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:i.jsx(Yl,{size:28})}),i.jsx("a",{href:"https://instagram.com",className:`${ee==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:i.jsx(Xl,{size:28})}),i.jsx("a",{href:"https://facebook.com",className:`${ee==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:i.jsx(Kl,{size:28})})]}),i.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),i.jsxs("p",{className:`text-sm ${ee==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),i.jsx(Vt,{children:Be&&i.jsx(Z.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:Mt,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:i.jsx(Nm,{size:20})})}),i.jsx(nH,{isOpen:$e.isOpen,title:$e.title,message:$e.message,onClose:pr,theme:ee}),_e.isOpen&&i.jsx(t6,{isOpen:_e.isOpen,user:_e.user,onClose:Gt,onSave:At,theme:ee}),de.isOpen&&i.jsx(r6,{isOpen:de.isOpen,provider:de.provider,onClose:Ye,onRate:wt,theme:ee}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};zA.propTypes={};const QQ=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Ws,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,JQ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[s,a]=T.useState(e?.username||""),[o,u]=T.useState(""),d=h=>{if(h.preventDefault(),u(""),!s.trim()){u("El nombre de usuario no puede estar vacío.");return}n(e.id,s.trim())};return t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Perfil"}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Ws,{size:20})})]}),i.jsxs("form",{onSubmit:d,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),i.jsx("input",{type:"text",value:s,onChange:h=>a(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0}),o&&i.jsx("p",{className:"text-red-400 text-sm mt-2",children:o})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},ZQ=()=>{const[t,e]=T.useState(!1),[r,n]=T.useState("inicio"),[s,a]=T.useState(""),[o,u]=T.useState(""),[d,h]=T.useState(""),[p,g]=T.useState([]),[y,v]=T.useState(0),[k,w]=T.useState(0),[E,D]=T.useState(null),[I,U]=T.useState(!0),[O,X]=T.useState({}),[B,A]=T.useState(null),[S,C]=T.useState([]),[R,F]=T.useState(!1),[W,M]=T.useState(""),[Se,Ie]=T.useState(""),[$e,Le]=T.useState([]),[_e,ie]=T.useState([]),[de,se]=T.useState({}),[V,te]=T.useState([]),[re,ne]=T.useState({isOpen:!1,message:"",title:""}),[ee,Fe]=T.useState({isOpen:!1,user:null}),Be=La(),Ae=(le,Ye)=>{ne({isOpen:!0,title:le,message:Ye})},Pe=()=>{ne({isOpen:!1,message:"",title:""})},it=le=>{Fe({isOpen:!0,user:le})},yt=()=>{Fe({isOpen:!1,user:null})},Wt=async(le,Ye)=>{try{X(At=>({...At,profile:!0}));const ct=ht(je,"users",le),ut=ht(je,"affiliates",le);await Xr(ct,{username:Ye,updatedAt:br()}),await Xr(ut,{username:Ye,updatedAt:br()}),a(Ye),Ae("Éxito","Perfil actualizado exitosamente"),yt()}catch(ct){console.error("Error al actualizar perfil:",ct),Ae("Error",ct.message||"Error al actualizar el perfil")}finally{X(ct=>({...ct,profile:!1}))}};T.useEffect(()=>{const le=Gl(en,Ye=>{Ye?(D(Ye.uid),u(Ye.email||"No especificado"),U(!1)):Be("/login")});return()=>le()},[Be]),T.useEffect(()=>{(async()=>{try{const Ye=tr(kt(je,"products")),ct=await tn(Ye),ut={};ct.forEach(At=>{ut[At.id]=At.data()}),se(ut)}catch(Ye){console.error("Error fetching products:",Ye),A("Error al cargar productos")}})()},[]),T.useEffect(()=>{hr(ht(je,"notifications","adminMessage"),ct=>{if(ct.exists()){const ut=ct.data();ut.roles&&ut.roles.includes("affiliate")?te([{id:ct.id,...ut}]):te([])}else te([])})},[]),T.useEffect(()=>{(async()=>{if(E)try{const Ye=ht(je,"users",E),ct=await Za(Ye);if(ct.exists()){const wt=ct.data();a(wt.username||"Usuario"),w(Number(wt.balance)||0)}const ut=ht(je,"affiliates",E),At=await Za(ut);if(At.exists()){const wt=At.data();h(wt.affiliateCode||""),v(Number(wt.earnings)||0)}else{const wt=`AFF-${Math.random().toString(36).substring(2,8).toUpperCase()}`;await ci(ut,{username:s||"Nuevo Afiliado",email:o,affiliateCode:wt,earnings:0,createdAt:br(),updatedAt:br()}),h(wt)}}catch(Ye){console.error("Error al manejar datos:",Ye),A("Error al cargar datos")}finally{U(!1)}})()},[E,o,s]),T.useEffect(()=>{if(!E)return;(()=>{const Ye=tr(kt(je,"pendingTopUps"),vr("userId","==",E));return hr(Ye,ut=>{const At=ut.docs.map(wt=>({id:wt.id,...wt.data(),date:wt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(wt.data().amount)||0}));Le(At)},ut=>{console.error("Error al obtener recargas:",ut),A("Error al cargar recargas")})})()},[E]),T.useEffect(()=>{if(!d)return;const le=tr(kt(je,"users"),vr("referrerCode","==",d),s1("createdAt","desc"),b3(5)),Ye=hr(le,ct=>{const ut=ct.docs.map(At=>({id:At.id,...At.data(),joinDate:At.data().createdAt?.toDate()||new Date}));C(ut)});return()=>Ye()},[d]),T.useEffect(()=>{if(!d)return;const le=tr(kt(je,"users"),vr("referrerCode","==",d)),Ye=hr(le,ct=>{const ut=ct.docs.map(At=>({id:At.id,...At.data(),joinDate:At.data().createdAt?.toDate()||new Date}));g(ut)});return()=>Ye()},[d]),T.useEffect(()=>{if(!E)return;(()=>{const Ye=tr(kt(je,"sales"),vr("customerId","==",E)),ct=hr(Ye,At=>{if(At.empty){ie([]),U(!1);return}const wt=At.docs.map(st=>{const gt=st.data(),Q=gt.saleDate?.toDate?.()||gt.createdAt?.toDate?.()||new Date;let Te=gt.startDate?.toDate?.(),ft=Te||Q,be=!1;Te||(be=!0);const ke=gt.durationDays||30;let Me;gt.endDate?Me=new Date(gt.endDate):(Me=new Date(ft.getTime()+ke*24*60*60*1e3),be=!0),be&&Xr(ht(je,"sales",st.id),{startDate:Te||kr.fromDate(Q),endDate:Me.toISOString(),durationDays:ke}).catch(jr=>{console.error("Error al actualizar startDate/endDate en Firestore:",jr)});const Ze=new Date,vt=Me.getTime()-ft.getTime(),Nt=Ze.getTime()-ft.getTime(),at=Me.getTime()-Ze.getTime(),ot=Math.ceil(vt/(1e3*60*60*24)),et=Math.max(0,Math.ceil(at/(1e3*60*60*24))),Tt=Math.ceil(Nt/(1e3*60*60*24)),Bt=ot>0?Tt/ot*100:100,Kt=de[gt.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:st.id,productName:gt.productName||"Producto sin nombre",category:gt.type||"netflix",price:parseFloat(gt.price)||0,provider:gt.provider||"No especificado",providerId:gt.providerId||"",providerPhone:gt.providerPhone||gt.providerWhatsapp||"51999999999",status:gt.status||"completed",saleDate:Q,startDate:ft,endDate:Me,durationDays:ke,daysRemaining:et,totalDays:ot,timeElapsedPercentage:Bt,account:{email:gt.accountDetails?.email||"No especificado",password:gt.accountDetails?.password||"No especificado",profile:gt.accountDetails?.profile||"No especificado",pin:gt.accountDetails?.pin||"No especificado"},client:{name:gt.customerName||"Cliente desconocido",email:gt.customerEmail||"No especificado",phone:gt.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${st.id.slice(0,8).toUpperCase()}`,termsAndConditions:Kt,renewable:gt.renewable!==void 0?gt.renewable:!0}});ie(wt),U(!1)},At=>{console.error("Error al obtener pedidos:",At),A("Error al cargar pedidos: "+At.message),U(!1)}),ut=setInterval(()=>{ie(At=>At.map(wt=>{const st=new Date,gt=new Date(wt.endDate).getTime()-new Date(wt.startDate).getTime(),ir=st.getTime()-new Date(wt.startDate).getTime(),Q=new Date(wt.endDate).getTime()-st.getTime(),Te=Math.ceil(gt/(1e3*60*60*24)),ft=Math.max(0,Math.ceil(Q/(1e3*60*60*24))),be=Math.ceil(ir/(1e3*60*60*24)),ke=Te>0?be/Te*100:100;return{...wt,daysRemaining:ft,totalDays:Te,timeElapsedPercentage:ke}}))},6e4);return()=>{ct(),clearInterval(ut)}})()},[E,de]);const Oe=async()=>{try{if(X(Ye=>({...Ye,topUp:!0})),!Se||isNaN(Se)){Ae("Error","Ingrese un monto válido");return}const le=parseFloat(Se);if(le<10){Ae("Error","El monto mínimo de recarga es S/ 10.00");return}await Ro(kt(je,"pendingTopUps"),{userId:E,username:s,amount:le,status:"pendiente",requestedAt:br(),processed:!1}),Ie(""),Ae("Éxito","Solicitud de recarga enviada correctamente")}catch(le){console.error("Error al solicitar recarga:",le),Ae("Error",le.message||"Error al enviar solicitud de recarga")}finally{X(le=>({...le,topUp:!1}))}},fr=async le=>{try{X(Te=>({...Te,[`renew_${le.id}`]:!0}));const Ye=parseFloat(le.price)||0;if(k<Ye){Ae("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const ct=parseInt(le.durationDays)||30,ut=kr.now(),At=ut.toDate(),wt=new Date(At.getTime()+ct*24*60*60*1e3),st=wt.toISOString(),gt={customerId:E,customerName:le.client?.name||"Cliente desconocido",customerEmail:le.client?.email||o,phoneNumber:le.client?.phone||"No especificado",productName:le.productName||"Producto sin nombre",type:le.category||"netflix",price:Ye,accountDetails:{email:le.account?.email||"No especificado",password:le.account?.password||"No especificado",profile:le.account?.profile||"No especificado",pin:le.account?.pin||"No especificado"},provider:le.provider||"Proveedor desconocido",providerId:le.providerId||"",providerPhone:le.providerPhone||le.providerWhatsapp||"51999999999",status:"completed",createdAt:ut,saleDate:ut,startDate:ut,endDate:st,durationDays:ct,renewedAt:ut,renewable:le.renewable!==void 0?le.renewable:!0},ir=await Ro(kt(je,"sales"),gt),Q=ht(je,"users",E);await Xr(Q,{balance:k-Ye}),w(Te=>Te-Ye),ie(Te=>[...Te,{...gt,id:ir.id,saleDate:At,startDate:At,endDate:wt,account:gt.accountDetails,client:{name:gt.customerName,email:gt.customerEmail,phone:gt.phoneNumber},orderId:`BS-${ir.id.slice(0,8).toUpperCase()}`,renewable:gt.renewable,daysRemaining:ct,totalDays:ct,timeElapsedPercentage:0,termsAndConditions:de[gt.providerId]?.terms||"No se especificaron términos y condiciones."}]),Ae("Éxito","¡Pedido renovado exitosamente!")}catch(Ye){console.error("Error al renovar el pedido:",Ye),Ae("Error","Error al renovar el pedido: "+Ye.message)}finally{X(Ye=>({...Ye,[`renew_${le.id}`]:!1}))}},Mt=()=>{d&&(navigator.clipboard.writeText(d),F(!0),setTimeout(()=>F(!1),2e3))},Re=le=>{if(!le)return"No especificada";try{const Ye=le instanceof Date?le:new Date(le);return isNaN(Ye.getTime())?"Fecha inválida":Ye.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},pr=async()=>{try{await B0(en),Be("/")}catch(le){console.error("Error al cerrar sesión:",le),Ae("Error",le.message||"Error al cerrar sesión")}},$t=async le=>{le.preventDefault();try{X(ut=>({...ut,password:!0}));const Ye=le.target.password.value;if(!Ye){Ae("Error","Por favor, ingrese una nueva contraseña");return}if(Ye.length<6){Ae("Error","La contraseña debe tener al menos 6 caracteres");return}const ct=en.currentUser;ct&&(await m1(ct,Ye),Ae("Éxito","Contraseña actualizada correctamente"),le.target.reset())}catch(Ye){console.error("Error al actualizar la contraseña:",Ye),Ae("Error",Ye.message||"Error al actualizar la contraseña")}finally{X(Ye=>({...Ye,password:!1}))}},Gt=()=>{if(I)return i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(B)return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[i.jsx(oa,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),i.jsx("p",{className:"text-gray-300 mb-4",children:B}),i.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",i.jsx("span",{className:"text-cyan-400",children:s})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),i.jsxs("div",{className:"space-y-2 text-gray-300",children:[i.jsxs("p",{className:"flex items-center",children:[i.jsx(ks,{className:"mr-2 text-cyan-400"}),i.jsx("span",{children:s})]}),i.jsxs("p",{className:"flex items-center",children:[i.jsx(Ur,{className:"mr-2 text-cyan-400"}),i.jsx("span",{children:o})]})]})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),i.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",k.toFixed(2)]}),i.jsx("button",{onClick:()=>n("recargas"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Recargar"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias totales"}),i.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),i.jsx("button",{onClick:()=>n("ganancias"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Ver ganancias"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu código de afiliado"}),i.jsxs("button",{onClick:Mt,disabled:!d,className:`flex items-center gap-2 px-3 py-1 rounded-xl transition-all duration-300 ${d?"bg-cyan-900/80 text-cyan-400 hover:bg-cyan-800/80":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[i.jsx(z5,{size:16}),R?"¡Copiado!":"Copiar"]})]}),i.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 border border-gray-600/50",children:i.jsx("p",{className:"text-2xl font-bold text-center tracking-wider text-white",children:d||"Generando código..."})}),i.jsx("p",{className:"text-gray-300 mb-4",children:"Comparte este código con tus amigos para que se registren y ganes comisiones por sus compras."}),i.jsxs("div",{className:"bg-cyan-900/30 p-4 rounded-xl border border-cyan-800/50",children:[i.jsx("h4",{className:"font-medium text-cyan-400 mb-2",children:"Enlace de afiliado:"}),i.jsx("p",{className:"text-sm bg-gray-800/50 p-2 rounded-xl border border-gray-600/50 overflow-x-auto text-gray-300",children:d?`https://blackkstreaming.com/register?ref=${d}`:"Generando enlace..."})]})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Referidos recientes"}),S.length>0?S.map(le=>i.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"font-medium text-white",children:le.username||"Sin nombre"}),i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-900/80 text-green-400",children:"Activo"})]}),i.jsxs("p",{className:"text-sm text-gray-400",children:["Unido: ",Re(le.joinDate)]})]},le.id)):i.jsx("p",{className:"text-gray-400 py-2",children:"No tienes referidos recientes"}),S.length>0&&i.jsx("button",{onClick:()=>n("referidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los referidos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),_e.length>0?_e.slice(0,3).map(le=>{const Ye=new Date(le.endDate)>new Date&&le.status==="completed",ct=le.status==="pending";return i.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"font-medium text-white",children:le.productName}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ct?"bg-yellow-900/80 text-yellow-400":Ye?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ct?"A pedido":Ye?"Activo":"Expirado"})]}),i.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",Re(le.endDate)]})]},le.id)}):i.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),_e.length>3&&i.jsx("button",{onClick:()=>n("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Notificaciones"}),V.length>0?V.map(le=>i.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[i.jsx("p",{className:"text-gray-300",children:le.message}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Re(le.updatedAt)})]},le.id)):i.jsx("p",{className:"text-gray-400 py-2",children:"No hay notificaciones"})]})]})]});case"notificaciones":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Notificaciones"}),V.length>0?i.jsx("div",{className:"space-y-4",children:V.map(le=>i.jsxs("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:[i.jsx("p",{className:"text-gray-300",children:le.message}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Re(le.updatedAt)})]},le.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(g0,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),i.jsx("p",{className:"text-gray-400",children:"No tienes mensajes nuevos"})]})]});case"recargas":return i.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargar saldo"}),i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),i.jsx("input",{type:"number",value:Se,onChange:le=>Ie(le.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),i.jsx("button",{onClick:Oe,disabled:O.topUp||!Se||parseFloat(Se)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${Se&&parseFloat(Se)>=10&&!O.topUp?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:O.topUp?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"}),i.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[i.jsx(Us,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),i.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",i.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),i.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 931757531"}),i.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),i.jsxs("a",{href:`https://wa.me/51931757531?text=${encodeURIComponent("Hola 😊, he realizado una recarga a través de Yape. Por favor, confirma mi pago.")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[i.jsx(Ur,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),$e.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acción"})]})}),i.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:$e.map(le=>{const Ye=encodeURIComponent(`Hola, he pedido una recarga de S/ ${le.amount?.toFixed(2)||"0.00"} con el nombre ${s}. Adjunto la captura de mi pago, por favor.`);return i.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",le.amount?.toFixed(2)||"0.00"]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${le.status==="aprobado"?"bg-green-900/80 text-green-400":le.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:le.status})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:Re(le.date)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:le.status==="pendiente"?i.jsxs("a",{href:`https://wa.me/51940505969?text=${Ye}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 text-sm",children:[i.jsx(Ur,{className:"mr-2"})," Enviar captura"]}):i.jsx("span",{className:"text-gray-400 text-sm",children:"—"})})]},le.id)})})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Us,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Mis pedidos"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:W,onChange:le=>M(le.target.value)}),i.jsx(ii,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),_e.length>0?i.jsx("div",{className:"space-y-6",children:_e.filter(le=>(le.productName||"").toLowerCase().includes(W.toLowerCase())||(le.orderId||"").toLowerCase().includes(W.toLowerCase())).map(le=>{const Ye=parseFloat(le.price)||0,ct=new Date(le.endDate)>new Date&&le.status==="completed",ut=le.status==="pending",At=le.daysRemaining||0,wt=le.timeElapsedPercentage||0;let st="bg-green-400";wt>70&&wt<=90?st="bg-yellow-400":wt>90&&(st="bg-red-400");const gt=ut?i.jsx(Zl,{className:"text-yellow-400"}):ct?i.jsx(_u,{className:"text-green-400"}):i.jsx(oa,{className:"text-red-400"}),ir=encodeURIComponent(`*Consulta sobre Pedido - ${le.productName||"Sin nombre"}*

*N° Pedido:* ${le.orderId||"No especificado"}
*Producto:* ${le.productName||"No especificado"}
*Precio:* S/ ${Ye.toFixed(2)}
*Estado:* ${ut?"A pedido":ct?"Activo":"Expirado"}
*Fecha de Inicio:* ${Re(le.startDate)}
*Fecha de Vencimiento:* ${Re(le.endDate)}

`+(ut?`Hola 😊, he comprado un producto a pedido (${le.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),Q=encodeURIComponent(`😊 Estimado/a ${le.client?.name||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${le.productName||"Sin nombre"}.
🔢 Código: ${le.orderId||"No especificado"}
`+(ut?"":`📧 Correo: ${le.account?.email||"No especificado"}
🔐 Contraseña: ${le.account?.password||"No especificado"}
👤 Perfil: ${le.account?.profile||"No especificado"}
📌 PIN: ${le.account?.pin||"No especificado"}
`)+`🌐 URL: Sin URL
📅 Fecha de creación: ${Re(le.startDate)}
📅 Fecha de vencimiento: ${Re(le.endDate)}
🏁 Días contratados: ${le.durationDays||30} días.

`+(ut?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${le.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),Te=le.providerPhone?le.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return i.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[gt,i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white",children:le.productName||"Producto sin nombre"}),le.orderId&&i.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",le.orderId]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",Ye.toFixed(2)]}),i.jsx("p",{className:`text-xs font-medium ${ut?"text-yellow-400":st.replace("bg-","text-")}`,children:ut?"Pendiente de activación":`${At} día${At===1?"":"s"} restante${At===1?"":"s"}`})]})]}),i.jsxs("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"w-full bg-gray-600/50 rounded-full h-2.5",children:i.jsx("div",{className:`h-2.5 rounded-full ${st}`,style:{width:`${Math.min(wt,100)}%`}})}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[wt.toFixed(0),"% completado"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[i.jsx(ks,{className:"mr-2"})," Detalles de la Cuenta"]}),i.jsx("div",{className:"space-y-2 text-gray-300",children:ut?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),i.jsx("span",{className:"block text-white break-all",children:le.account?.email||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),i.jsx("span",{className:"block text-white break-all",children:le.account?.password||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),i.jsx("span",{className:"block text-white",children:le.account?.profile||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),i.jsx("span",{className:"block text-white",children:le.account?.pin||"No especificado"})]})]})})]}),i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[i.jsx(sb,{className:"mr-2"})," Información del Pedido"]}),i.jsxs("div",{className:"space-y-2 text-gray-300",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),i.jsx("span",{className:"block text-white",children:le.provider||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),i.jsx("span",{className:"block text-white",children:le.providerPhone||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),i.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${ut?"bg-yellow-900/80 text-yellow-400":ct?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ut?"A pedido":ct?"Activo":"Expirado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),i.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),i.jsx("span",{className:"block text-white",children:Re(le.startDate)})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),i.jsx("span",{className:"block text-white",children:Re(le.endDate)})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Días restantes:"}),i.jsx("span",{className:`block ${st.replace("bg-","text-")}`,children:At})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[i.jsx(ks,{className:"mr-2"})," Información del Cliente"]}),i.jsxs("div",{className:"space-y-2 text-gray-300",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),i.jsx("span",{className:"block text-white",children:le.client?.name||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),i.jsx("span",{className:"block text-white",children:le.client?.phone||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),i.jsx("span",{className:"block text-white",children:le.client?.email||"No especificado"})]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("a",{href:`https://wa.me/51${Te}?text=${ir}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[i.jsx(Ur,{size:18})," Contactar Proveedor"]}),le.renewable&&i.jsx("button",{onClick:()=>fr(le),disabled:O[`renew_${le.id}`],className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${O[`renew_${le.id}`]?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:O[`renew_${le.id}`]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(G5,{size:18})," Renovar Pedido"]})}),le.client?.phone&&i.jsxs("a",{href:`https://wa.me/${le.client.phone.replace(/^\+/,"")}?text=${Q}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[i.jsx(Ur,{size:18})," Contactar Cliente"]})]})]})]},le.id)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(zo,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),i.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"referidos":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos tus referidos (",p.length,")"]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Buscar referidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:W,onChange:le=>M(le.target.value)}),i.jsx(ii,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),p.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de registro"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),i.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:p.filter(le=>{const Ye=le.username||"",ct=le.email||"";return Ye.toLowerCase().includes(W.toLowerCase())||ct.toLowerCase().includes(W.toLowerCase())}).map(le=>i.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:le.username||"Sin nombre"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.email||"Sin email"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.joinDate?Re(le.joinDate):"No especificada"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:le.status||"Activo"})})]},le.id))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Tu,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes referidos aún"}),i.jsx("p",{className:"text-gray-400",children:"Comparte tu código de afiliado para empezar a ganar comisiones"})]})]});case"ganancias":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),i.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde ayer"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),i.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde la semana pasada"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias totales"}),i.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),i.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[p.length," referidos"]})]})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[i.jsx(aT,{className:"mr-2 text-cyan-400"})," Historial de comisiones"]}),p.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:"bg-gray-800/50 backdrop-blur-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Referido"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Origen"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),i.jsx("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:p.map(le=>i.jsxs("tr",{className:"hover:bg-gray-600/50 transition-all duration-300",children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:le.username||"Usuario sin nombre"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.joinDate?Re(le.joinDate):"No especificada"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:"S/ 0.00"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:"Registro"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900/80 text-yellow-400",children:"Pendiente"})})]},le.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Us,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("p",{className:"text-gray-400",children:"No hay comisiones registradas"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gana comisiones cuando tus referidos realicen compras"})]})]})]});case"configuracion":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),i.jsxs("form",{onSubmit:$t,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("input",{type:"text",value:s,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"}),i.jsx("button",{type:"button",onClick:()=>it({id:E,username:s}),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-300",title:"Editar Nombre",children:i.jsx(cz,{size:16})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),i.jsx("input",{type:"email",value:o,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña (opcional)"}),i.jsx("input",{type:"password",name:"password",placeholder:"Nueva contraseña",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),i.jsx("button",{type:"submit",disabled:O.password,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 disabled:bg-cyan-800",children:O.password?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]}),i.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:i.jsxs("button",{onClick:pr,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[i.jsx(jp,{})," Cerrar sesión"]})})]});default:return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[i.jsx(oa,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),i.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[i.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:i.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:i.jsx(pz,{className:"text-xl"})})}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:i.jsx(Ws,{className:"text-lg"})})]}),i.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-white",children:s}),i.jsx("p",{className:"text-xs text-gray-400",children:"Afiliador"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:uz},{id:"notificaciones",label:"Notificaciones",icon:g0},{id:"recargas",label:"Recargas",icon:Us},{id:"pedidos",label:"Pedidos",icon:zo},{id:"referidos",label:"Referidos",icon:Tu},{id:"ganancias",label:"Ganancias",icon:aT},{id:"configuracion",label:"Configuración",icon:X5}].map(le=>i.jsxs("button",{onClick:()=>{n(le.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===le.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-cyan-400"}`,children:[i.jsx(le.icon,{className:"text-lg"}),i.jsx("span",{children:le.label})]},le.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:pr,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[i.jsx(jp,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:Gt()}),i.jsx(QQ,{isOpen:re.isOpen,title:re.title,message:re.message,onClose:Pe}),i.jsx(JQ,{isOpen:ee.isOpen,user:ee.user,onClose:yt,onSave:Wt}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>e(!1)})]})},eJ=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Ws,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,HA=({username:t="Usuario",products:e=[],orders:r=[],providerBalance:n=0,balanceLoading:s=!1,totalStock:a=0,totalEarnings:o=0,isAdmin:u=!1,email:d="",notifications:h=[],setActiveSection:p=()=>{},formatDate:g=v=>new Date(v).toLocaleDateString(),theme:y="dark"})=>{const v=y==="dark",k={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${v?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:k,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${v?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Bienvenido, ",i.jsx("span",{className:"text-red-400",children:t})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-blue-400":"text-blue-600"}`,children:[i.jsx(nb,{size:20}),"Inventario"]}),i.jsx("p",{className:`text-4xl font-bold ${v?"text-white":"text-gray-900"} mb-2`,children:e.length}),i.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"} mb-1`,children:"Productos registrados"}),i.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Stock total: ",a]}),i.jsx(Z.button,{onClick:()=>p("inventario"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${v?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Inventario"})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-green-400":"text-green-600"}`,children:[i.jsx(Us,{size:20}),"Ganancias"]}),s?i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"}),i.jsx("span",{className:`ml-2 ${v?"text-gray-400":"text-gray-600"}`,children:"Cargando..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:`text-4xl font-bold ${v?"text-white":"text-gray-900"} mb-2`,children:["S/ ",o.toFixed(2)]}),i.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"} mb-1`,children:[r.length," ventas realizadas"]}),i.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",n.toFixed(2)]}),i.jsx(Z.button,{onClick:()=>p("ganancias"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${v?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Ganancias"})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-purple-400":"text-purple-600"}`,children:[i.jsx(ks,{size:20}),"Mi Cuenta"]}),i.jsxs("div",{className:`space-y-3 ${v?"text-gray-300":"text-gray-700"} mb-6`,children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(ks,{className:"text-purple-400 flex-shrink-0",size:18}),i.jsx("span",{className:"font-medium",children:t})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(Ur,{className:"text-purple-400 flex-shrink-0",size:18}),i.jsx("span",{className:"font-medium",children:d})]}),i.jsx("div",{className:`px-3 py-2 rounded-full text-sm font-medium ${u?v?"bg-purple-900/50 text-purple-300 border border-purple-500/30":"bg-purple-100 text-purple-800 border border-purple-300":v?"bg-gray-700/50 text-gray-300 border border-gray-500/30":"bg-gray-200 text-gray-700 border border-gray-300"}`,children:u?"Administrador":"Proveedor"})]}),i.jsx(Z.button,{onClick:()=>p("configuracion"),className:`w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${v?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Editar Perfil"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(zo,{size:20}),"Pedidos recientes"]}),i.jsx(Vt,{children:r.length===0?i.jsxs(Z.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(Z.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(zo,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"No hay pedidos recientes"}),i.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus pedidos aparecerán aquí"})]}):i.jsxs("div",{className:"overflow-x-auto rounded-xl border",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`${v?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Comprador"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"})]})}),i.jsx("tbody",{className:`${v?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:r.slice(0,3).map((E,D)=>{const I=new Date(E.endDate)>new Date&&E.status==="completed",U=E.status==="pending";return i.jsxs(Z.tr,{className:"transition-all duration-300 hover:bg-indigo-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:D*.1},children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${v?"text-white":"text-gray-900"} truncate max-w-xs`,children:E.productName}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${v?"text-gray-300":"text-gray-700"}`,children:E.buyer}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-semibold ${v?"text-indigo-400":"text-indigo-600"}`,children:["S/ ",(E.amount||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U?v?"bg-yellow-900/80 text-yellow-300 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":I?v?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":v?"bg-red-900/80 text-red-300 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:U?"A pedido":I?"Activo":"Expirado"})})]},E.id||D)})})]}),r.length>3&&i.jsx(Z.button,{onClick:()=>p("pedidos"),className:`w-full mt-4 px-6 py-3 text-center text-sm transition-all duration-300 rounded-xl border-2 font-medium ${v?"border-indigo-500/50 text-indigo-400 hover:bg-indigo-500/10":"border-indigo-500/50 text-indigo-600 hover:bg-indigo-500/10"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver todos los pedidos"})]})})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-pink-400":"text-pink-600"}`,children:[i.jsx(Ur,{size:20}),"Notificaciones"]}),i.jsx(Vt,{children:h.length>0?h.map((E,D)=>i.jsx(Z.div,{className:`border-b py-4 last:border-0 hover:rounded-xl hover:px-2 transition-all duration-300 ${v?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,delay:D*.1},whileHover:{backgroundColor:v?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)"},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 pt-1",children:i.jsx(Ur,{className:"text-pink-400",size:18})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`font-medium ${v?"text-gray-300":"text-gray-700"} mb-1`,children:E.message}),i.jsx("p",{className:`text-xs ${v?"text-gray-400":"text-gray-500"}`,children:g(E.updatedAt?.toDate?.()||new Date)})]})]})},E.id)):i.jsxs(Z.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(Z.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(Ur,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"No hay notificaciones"}),i.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus notificaciones aparecerán aquí"})]})})]})]})]})};HA.propTypes={username:G.string.isRequired,products:G.arrayOf(G.object).isRequired,orders:G.arrayOf(G.object).isRequired,providerBalance:G.number.isRequired,balanceLoading:G.bool.isRequired,totalStock:G.number.isRequired,totalEarnings:G.number.isRequired,isAdmin:G.bool.isRequired,email:G.string.isRequired,notifications:G.arrayOf(G.object).isRequired,setActiveSection:G.func.isRequired,formatDate:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const WA=({products:t,setActiveSection:e,handleEdit:r,handleDelete:n,getCategoryDisplayName:s,totalStock:a,theme:o="dark"})=>{const u=o==="dark",d=y=>{const v={netflix:{bg:u?"bg-red-900/30":"bg-red-100",text:u?"text-red-300":"text-red-800"},disney:{bg:u?"bg-blue-900/30":"bg-blue-100",text:u?"text-blue-300":"text-blue-800"},max:{bg:u?"bg-yellow-900/30":"bg-yellow-100",text:u?"text-yellow-300":"text-yellow-800"},spotify:{bg:u?"bg-green-900/30":"bg-green-100",text:u?"text-green-300":"text-green-800"},default:{bg:u?"bg-gray-900/30":"bg-gray-100",text:u?"text-gray-300":"text-gray-700"}};return v[y?.toLowerCase()]||v.default},h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},g={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:u?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)",transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-4",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Inventario",i.jsxs("span",{className:`ml-2 bg-gradient-to-r ${u?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:[t.length," productos"]})]}),i.jsxs(Z.button,{onClick:()=>e("subirProducto"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx(sT,{className:"mr-2",size:18}),"Nuevo Producto"]})]}),t.length>0?i.jsx("div",{className:"overflow-x-auto rounded-2xl border shadow-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200/30",children:[i.jsx("thead",{className:`${u?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Producto"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Precio"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Stock"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Categoría"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Estado"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:i.jsx(Vt,{children:t.map((y,v)=>{const k=d(y.category);return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${u?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:g,initial:"hidden",animate:"visible",whileHover:"hover",exit:{opacity:0,x:-20},transition:{duration:.3,delay:v*.05},children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-3",children:[y.image?i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{className:"w-10 h-10 rounded-full object-cover shadow-md",src:y.image,alt:y.name,loading:"lazy"})}):i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-md",children:i.jsx(mz,{className:"text-white",size:16})}),i.jsx("div",{className:"min-w-0 flex-1",children:i.jsx("div",{className:`text-sm font-semibold ${u?"text-white":"text-gray-900"} truncate`,children:y.name})})]})}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"text-sm font-semibold text-green-500",children:["S/ ",(parseFloat(y.price)||0).toFixed(2)]}),y.renewalPrice&&parseFloat(y.renewalPrice)!==parseFloat(y.price)&&i.jsxs("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:["Ren: S/ ",parseFloat(y.renewalPrice).toFixed(2)]})]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(y.stock||0)>0?u?"bg-green-900/50 text-green-400":"bg-green-100 text-green-800":u?"bg-red-900/50 text-red-400":"bg-red-100 text-red-800"}`,children:y.stock||0})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bg} ${k.text}`,children:s(y.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${y.status==="En stock"?u?"bg-green-900/80 text-green-400 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":y.status==="A pedido"?u?"bg-yellow-900/80 text-yellow-400 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":u?"bg-red-900/80 text-red-400 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:y.status||"En stock"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z.button,{onClick:()=>r(y),className:"p-2 rounded-xl bg-blue-500/80 hover:bg-blue-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Editar","aria-label":"Editar producto",children:i.jsx(H5,{size:16})}),i.jsx(Z.button,{onClick:()=>n(y.id),className:"p-2 rounded-xl bg-red-500/80 hover:bg-red-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Eliminar","aria-label":"Eliminar producto",children:i.jsx(ib,{size:16})})]})})]},y.id||v)})})})]})}):i.jsxs(Z.div,{className:`text-center py-16 rounded-2xl border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",whileHover:"hover",children:[i.jsx(Z.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${u?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(nb,{className:"text-white",size:32})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${u?"text-gray-300":"text-gray-700"}`,children:"No tienes productos registrados"}),i.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mb-6`,children:"Agrega tu primer producto para comenzar a vender"}),i.jsxs(Z.button,{onClick:()=>e("subirProducto"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx(sT,{className:"mr-2",size:18}),"Agregar Producto"]})]})]})};WA.propTypes={products:G.arrayOf(G.shape({id:G.string.isRequired,name:G.string.isRequired,price:G.oneOfType([G.string,G.number]).isRequired,stock:G.oneOfType([G.string,G.number]),status:G.string,category:G.string,image:G.string})).isRequired,setActiveSection:G.func.isRequired,handleEdit:G.func.isRequired,handleDelete:G.func.isRequired,getCategoryDisplayName:G.func.isRequired,totalStock:G.number.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const tJ=({soldAccounts:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:s,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(nT,{className:"inline mr-2",size:32}),"Cuentas Vendidas"]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${n?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:a,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${n?"text-blue-400":"text-blue-600"}`,children:[i.jsx(nb,{size:20}),"Registro de Ventas"]}),i.jsx(Vt,{children:t.length===0?i.jsxs(Z.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(Z.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(nT,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"No hay cuentas vendidas"}),i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Las cuentas vendidas aparecerán aquí"})]}):i.jsx("div",{className:"overflow-x-auto rounded-xl border",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`${n?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Email"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Perfil"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Fecha de Venta"})]})}),i.jsx("tbody",{className:`${n?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:t.map((o,u)=>i.jsxs(Z.tr,{className:"transition-all duration-300 hover:bg-blue-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:u*.1},children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${n?"text-white":"text-gray-900"} truncate max-w-xs`,children:o.productName}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:o.email}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:o.profile||"N/A"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:e(o.saleDate)})]},o.id||u))})]})})})]})]})},rJ=({product:t,setProduct:e,handleChange:r,handleFileChange:n,handleStockChange:s,handleAccountFieldChange:a,handleSubmit:o,setActiveSection:u,theme:d="dark"})=>{const h=d==="dark",p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${h?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${h?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Ip,{className:"inline mr-2",size:32}),"Subir Nuevo Producto"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-blue-400":"text-blue-600"}`,children:[i.jsx(W5,{size:20}),"Imagen del producto"]}),i.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${h?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:t.image?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:t.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),i.jsx(Z.button,{type:"button",onClick:()=>e({...t,image:""}),className:`absolute top-0 right-0 ${h?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(Ws,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Ip,{className:`mx-auto h-12 w-12 ${h?"text-gray-400":"text-gray-500"}`}),i.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:i.jsxs("label",{htmlFor:"file-upload",className:`relative cursor-pointer rounded-xl font-medium ${h?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[i.jsx("span",{children:"Subir una imagen"}),i.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:y=>n(y),accept:"image/*"})]})}),i.jsx("p",{className:`text-xs ${h?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-purple-400":"text-purple-600"}`,children:[i.jsx(Y5,{size:20}),"Información Básica"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Nombre del producto*"}),i.jsx("input",{type:"text",name:"name",value:t.name,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Categoría*"}),i.jsxs("select",{name:"category",value:t.category,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Netflix",children:"Netflix"}),i.jsx("option",{value:"Spotify",children:"Spotify"}),i.jsx("option",{value:"Disney",children:"Disney+"}),i.jsx("option",{value:"Max",children:"Max"}),i.jsx("option",{value:"Prime Video",children:"Prime Video"}),i.jsx("option",{value:"Vix",children:"Vix"}),i.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),i.jsx("option",{value:"Canva",children:"Canva"}),i.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),i.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),i.jsx("option",{value:"Dgo",children:"DGO"}),i.jsx("option",{value:"Liga Max",children:"Liga Max"}),i.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),i.jsx("option",{value:"Youtube",children:"YouTube"}),i.jsx("option",{value:"Deezer",children:"Deezer"}),i.jsx("option",{value:"Tidal",children:"Tidal"}),i.jsx("option",{value:"Vpn",children:"VPN"}),i.jsx("option",{value:"WinTv",children:"WinTV"}),i.jsx("option",{value:"Apple Music",children:"Apple Music"}),i.jsx("option",{value:"Apple Tv",children:"Apple TV"}),i.jsx("option",{value:"Iptv",children:"IPTV"}),i.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),i.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),i.jsx("option",{value:"Pornhub",children:"Pornhub"}),i.jsx("option",{value:"Paramount",children:"Paramount"}),i.jsx("option",{value:"Licencias",children:"Licencias"}),i.jsx("option",{value:"Capcut",children:"Capcut"}),i.jsx("option",{value:"Duolingo",children:"Duolingo"}),i.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Tipo de cuenta*"}),i.jsxs("select",{name:"accountType",value:t.accountType,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Premium",children:"Premium"}),i.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Estado*"}),i.jsxs("select",{name:"status",value:t.status,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"En stock",children:"En stock"}),i.jsx("option",{value:"A pedido",children:"A pedido"}),i.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Stock*"}),i.jsx("input",{type:"number",name:"stock",value:t.status==="Agotado"?0:t.stock,onChange:s,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all ${t.status==="Agotado"?"opacity-50 cursor-not-allowed":""} placeholder-gray-500`,min:"0",required:!0,disabled:t.status==="Agotado"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio (S/)*"}),i.jsx("input",{type:"number",name:"price",value:t.price,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"renewal",checked:t.renewal,onChange:r,className:`h-4 w-4 rounded ${h?"text-purple-400 focus:ring-purple-400 border-gray-600/50":"text-purple-600 focus:ring-purple-600 border-gray-300/50"}`}),i.jsx("label",{className:`ml-2 text-sm ${h?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),t.renewal&&i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio de renovación (S/)*"}),i.jsx("input",{type:"number",name:"renewalPrice",value:t.renewalPrice,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-green-400":"text-green-600"}`,children:[i.jsx(Zl,{size:20}),"Duración y Contacto"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Duración (días)"}),i.jsx("input",{type:"number",name:"duration",value:t.duration,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:["Teléfono de contacto ",t.status==="A pedido"?"*":""]}),i.jsx("input",{type:"text",name:"providerPhone",value:t.providerPhone,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:t.status==="A pedido"})]})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(q5,{size:20}),"Enlaces y Descripciones"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"URL del producto (opcional)"}),i.jsx("input",{type:"url",name:"productUrl",value:t.productUrl||"",onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Detalles del producto"}),i.jsx("textarea",{name:"details",value:t.details,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Términos y condiciones"}),i.jsx("textarea",{name:"terms",value:t.terms,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]})]})]}),t.status==="En stock"&&i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-pink-400":"text-pink-600"}`,children:[i.jsx(Tu,{size:20}),"Cuentas Asociadas"]}),i.jsx("p",{className:`text-sm mb-4 ${h?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),i.jsx(Vt,{children:i.jsx("div",{className:"space-y-4",children:t.accounts.map((y,v)=>i.jsxs(Z.div,{className:`border rounded-xl p-4 ${h?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:v*.1},children:[i.jsxs("h4",{className:`text-sm font-medium ${h?"text-white":"text-gray-900"} mb-3 flex items-center gap-2`,children:["Cuenta ",v+1]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),i.jsx("input",{type:"email",value:y.email,onChange:k=>a(v,"email",k.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),i.jsx("input",{type:"text",value:y.password,onChange:k=>a(v,"password",k.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),i.jsx("input",{type:"text",value:y.profile,onChange:k=>a(v,"profile",k.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),i.jsx("input",{type:"text",value:y.pin,onChange:k=>a(v,"pin",k.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},v))})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[i.jsx(Z.button,{onClick:()=>u("inventario"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${h?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),i.jsx(Z.button,{onClick:o,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-pink-500/50 ${h?"from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700":"from-pink-600 to-purple-800 hover:from-pink-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Subir Producto"})]})]})},nJ=({orders:t,totalEarnings:e,providerBalance:r,balanceLoading:n,getCategoryDisplayName:s,formatDate:a,theme:o="dark"})=>{const u=o==="dark",d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Us,{className:"inline mr-2",size:32}),"Ganancias"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-green-400":"text-green-600"}`,children:[i.jsx(Us,{size:20}),"Resumen Financiero"]}),i.jsxs("p",{className:`text-4xl font-bold ${u?"text-white":"text-gray-900"} mb-2`,children:["S/ ",e.toFixed(2)]}),i.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mb-1`,children:[t.length," ventas realizadas"]}),n?i.jsxs("div",{className:"flex items-center justify-center py-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-500 mr-2"}),i.jsx("span",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Cargando saldo..."})]}):i.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",r.toFixed(2)]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(zo,{size:20}),"Historial de Ventas"]}),i.jsx(Vt,{children:t.length===0?i.jsxs(Z.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(Z.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(zo,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${u?"text-gray-300":"text-gray-700"}`,children:"No hay ventas registradas"}),i.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Tus ventas aparecerán aquí"})]}):i.jsxs("div",{className:"overflow-x-auto rounded-xl border",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`${u?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Categoría"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Comprador"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Contacto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Fecha"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"})]})}),i.jsx("tbody",{className:`${u?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:t.slice(0,10).map((p,g)=>i.jsxs(Z.tr,{className:"transition-all duration-300 hover:bg-indigo-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:g*.1},children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-gray-900"} truncate max-w-xs`,children:p.productName}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:s(p.category)}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[i.jsx("div",{className:`text-sm font-medium ${u?"text-white":"text-gray-900"}`,children:p.buyer}),i.jsx("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:p.buyerEmail})]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:p.buyerPhone}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:a(p.saleDate)}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-semibold ${u?"text-indigo-400":"text-indigo-600"}`,children:["S/ ",(p.amount||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${u?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300"}`,children:"Completado"})})]},p.id||g))})]}),t.length>10&&i.jsxs("p",{className:`text-center mt-4 text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Mostrando las primeras 10 ventas. Hay ",t.length," en total."]})]})})]})]})]})},qA=({orders:t,searchQuery:e,setSearchQuery:r,getCategoryDisplayName:n,formatDate:s,handleEditOrder:a,handleActivateOrder:o,handleDeleteOrder:u,theme:d="dark"})=>{const[h,p]=T.useState({key:null,direction:"asc"}),g=d==="dark",y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},v={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:g?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},k=T.useMemo(()=>{let O=[...t].filter(X=>(X.productName||"").toLowerCase().includes(e.toLowerCase())||(X.category||"").toLowerCase().includes(e.toLowerCase())||(X.provider||"").toLowerCase().includes(e.toLowerCase())||(X.buyer||"").toLowerCase().includes(e.toLowerCase())||(X.accountDetails?.email||"").toLowerCase().includes(e.toLowerCase()));return h.key&&O.sort((X,B)=>{let A=X[h.key]||"",S=B[h.key]||"";return typeof A=="string"&&(A=A.toLowerCase()),typeof S=="string"&&(S=S.toLowerCase()),A<S?h.direction==="asc"?-1:1:A>S?h.direction==="asc"?1:-1:0}),O},[t,e,h]),w=O=>{const X={netflix:{bg:g?"bg-red-900/30":"bg-red-100",text:g?"text-red-300":"text-red-800"},disney:{bg:g?"bg-blue-900/30":"bg-blue-100",text:g?"text-blue-300":"text-blue-800"},max:{bg:g?"bg-yellow-900/30":"bg-yellow-100",text:g?"text-yellow-300":"text-yellow-800"},spotify:{bg:g?"bg-green-900/30":"bg-green-100",text:g?"text-green-300":"text-green-800"},default:{bg:g?"bg-gray-900/30":"bg-gray-100",text:g?"text-gray-300":"text-gray-700"}};return X[O?.toLowerCase()]||X.default},E=(O,X)=>{const B=O.status||"pending",S=(O.daysRemaining||0)>0;let C,R,F;return B==="soporte"?(C="En soporte",R=X?"text-blue-400":"text-blue-600",F=i.jsx(Ri,{className:R,title:"En Soporte"})):B==="rechazado"?(C="No aplica soporte",R=X?"text-amber-700":"text-amber-900",F=i.jsx(oa,{className:R,title:"No aplica soporte"})):B==="refunded"?(C="Reembolsado",R=X?"text-gray-400":"text-gray-600",F=i.jsx(oa,{className:R,title:"Reembolsado"})):B==="pending"?(C="Pendiente",R=X?"text-yellow-400":"text-yellow-600",F=i.jsx(Zl,{className:R,title:"Pendiente"})):S?(C="Activo",R=X?"text-green-400":"text-green-600",F=i.jsx(_u,{className:R,title:"Activo"})):(C="Expirado",R=X?"text-red-400":"text-red-600",F=i.jsx(oa,{className:R,title:"Expirado"})),{text:C,color:R,icon:F}},D=O=>{p(X=>({key:O,direction:X.key===O&&X.direction==="asc"?"desc":"asc"}))},I=O=>h.key!==O?null:h.direction==="asc"?i.jsx(Cm,{className:"ml-1"}):i.jsx(Am,{className:"ml-1"}),U=()=>{const O=k.map(S=>{const C=S.status||"pending",R=C==="pending",F=C==="soporte",W=C==="rechazado",M=C==="refunded",Se=S.daysRemaining||0,Ie=Se>0;let $e;F?$e="En Soporte":W?$e="No aplica soporte":M?$e="Reembolsado":Ie?$e="Activo":R?$e="Pendiente":$e="Expirado";const Le=F||W||M||R&&!Ie;let _e;return Le?_e=$e:_e=`${Se} día${Se===1?"":"s"}`,{Estado:$e,Producto:S.productName||"Sin nombre",Categoría:n(S.category),Proveedor:S.provider||"N/A",Monto:`S/ ${(S.amount||0).toFixed(2)}`,"Tiempo Restante":_e,"Fecha de Inicio":S.startDate?s(S.startDate):"N/A","Fecha de Vencimiento":S.endDate?s(S.endDate):"N/A",Comprador:S.buyer||"N/A",Teléfono:S.buyerPhone||"N/A",Email:S.accountDetails?.email||"N/A",Contraseña:S.accountDetails?.password||"N/A",Perfil:S.accountDetails?.profile||"N/A",PIN:S.accountDetails?.pin||"N/A"}}),X=la.json_to_sheet(O),B=la.book_new();la.book_append_sheet(B,X,"Pedidos");const A=new Date().toISOString().slice(0,10).replace(/-/g,"");$m(B,`orders_export_${A}.xlsx`)};return i.jsxs(Z.div,{className:`backdrop-blur-md p-2 sm:p-4 md:p-6 lg:p-8 rounded-3xl shadow-2xl w-full border ${g?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"orders-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"orders-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${g?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(zo,{className:"mr-2"})," Mis Pedidos",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${g?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:k.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 md:w-64 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos por nombre, categoría, proveedor, cliente o email...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${g?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:e,onChange:O=>r(O.target.value),"aria-label":"Buscar pedidos por nombre, categoría, proveedor, cliente o email"}),i.jsx(ii,{className:`absolute left-3 top-3.5 ${g?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(Z.button,{onClick:U,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${g?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos como Excel","aria-label":"Exportar pedidos a Excel",children:[i.jsx(jm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx(Vt,{children:k.length>0?i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${g?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${g?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:"status",label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"provider",label:"Proveedor"},{key:"amount",label:"Monto"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"buyer",label:"Comprador"},{key:"buyerPhone",label:"Teléfono"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{label:"Acciones"}].map(({key:O,label:X})=>i.jsx("th",{className:`px-2 sm:px-3 md:px-4 py-3 sm:py-4 text-left text-xs font-semibold uppercase tracking-wider ${g?"text-gray-300":"text-gray-700"} cursor-pointer hover:text-blue-400 transition-colors`,onClick:()=>O&&D(O),children:i.jsxs("div",{className:"flex items-center justify-between",children:[X,O&&I(O)]})},O||X))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:k.map(O=>{const X=parseFloat(O.amount)||0,B=O.status||"pending",A=B==="pending",S=B==="soporte",C=B==="rechazado",R=B==="refunded",F=O.daysRemaining||0,W=Math.min(O.timeElapsedPercentage||0,100),M=E(O,g),Se=w(O.category);let Ie;W<70?Ie=g?"bg-green-500":"bg-green-600":W<90?Ie=g?"bg-orange-500":"bg-orange-600":Ie=g?"bg-red-500":"bg-red-600";const $e=!["En soporte","No aplica soporte","Reembolsado","Pendiente"].includes(M.text),Le=S||C||R||A,_e=Le?M.text:`${F} día${F===1?"":"s"}`,ie=$e?Ie.replace("bg-","text-"):M.color,de=O.provider||"BlackStreaming",se=O.buyerPhone?O.buyerPhone.replace(/[^0-9]/g,""):null,V=O.soporteMessage?`

📝 *Nota de Soporte*: ${O.soporteMessage}`:"",te=encodeURIComponent(`¡Hola! 👋 Soy ${de} de BlackStreaming.

🔧 *Necesito contactarte* sobre tu pedido de *${O.productName||"Sin nombre"}*.
🆔 *Pedido*: ${O.id||"N/A"}
📞 ¿Podrías confirmarme algunos detalles o resolver una duda rápida?

¡Gracias por tu paciencia! 🙏`),re=encodeURIComponent(`¡Hola! 👋 *${de}* de BlackStreaming aquí.

🎉 *¡Tu cuenta está lista!* Has adquirido:
📺 *${O.productName||"Sin nombre"}*
💰 *Precio*: S/ ${X.toFixed(2)}
⏰ *Duración*: ${O.durationDays||30} días

🍿 Tu suscripción a *${O.productName||"Sin nombre"}* (${de}) sigue activa! 🎬
⏳ *Te quedan*: ${Le?S?"En Soporte":C?"No aplica soporte":R?"Reembolsado":"Pendiente de activación":`${F} día${F===1?"":"s"}`} para disfrutar! 🕒
📋 *Detalles*:
✉️ *Usuario*: ${O.accountDetails?.email||"N/A"}
🔐 *Contraseña*: ${O.accountDetails?.password||"N/A"}
👥 *Perfil*: ${O.accountDetails?.profile||"N/A"}
🔢 *PIN*: ${O.accountDetails?.pin||"N/A"}
🗓 *Compra*: ${O.startDate?s(O.startDate):"N/A"}
🗓 *Vencimiento*: ${O.endDate?s(O.endDate):"N/A"}
📞 *Teléfono*: ${O.buyerPhone||"N/A"}

`+V+`👤 *${de}* te recomienda renovar a tiempo para no perderte nada! 😊
🚀 ¡Sigue disfrutando y contáctanos si necesitas ayuda! 🎉`);return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${g?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:v,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${O.id}-title`,children:[i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-full ${M.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:M.icon}),i.jsx("span",{className:`${M.color} font-medium`,children:M.text})]})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4",children:i.jsx("h4",{id:`order-${O.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:O.productName||"Sin nombre"})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Se.bg} ${Se.text}`,children:n(O.category)})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap font-mono text-sm",children:O.provider||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsx("div",{className:"space-y-1",children:i.jsxs("p",{className:"font-bold text-lg",children:["S/ ",X.toFixed(2)]})})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[$e&&i.jsx("div",{className:"relative",children:i.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${g?"bg-gray-600/40":"bg-gray-300/40"}`,children:i.jsx(Z.div,{className:`h-2 rounded-full ${Ie}`,initial:{width:0},animate:{width:`${W}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),i.jsx("span",{className:`text-sm font-medium ${ie}`,children:_e})]})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:O.startDate?s(O.startDate):"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:O.endDate?s(O.endDate):"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:O.buyer||"N/A",children:O.buyer||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:O.buyerPhone||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:O.accountDetails?.email||"N/A",children:O.accountDetails?.email||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:O.accountDetails?.password||"N/A",children:O.accountDetails?.password||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm",children:O.accountDetails?.profile||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm font-mono",children:O.accountDetails?.pin||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z.button,{onClick:()=>a(O),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-blue-500/80 hover:bg-blue-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Editar cuenta","aria-label":`Editar cuenta para el pedido ${O.id}`,children:i.jsx(H5,{size:16})}),A&&i.jsx(Z.button,{onClick:()=>o(O.id),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-green-500/80 hover:bg-green-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Activar pedido","aria-label":`Activar pedido ${O.id}`,children:i.jsx(_u,{size:16})}),se&&i.jsxs(i.Fragment,{children:[i.jsx(Z.a,{href:`https://wa.me/${se}?text=${te}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente","aria-label":`Contactar cliente para el pedido ${O.id}`,children:i.jsx(Ur,{size:16})}),!R&&!S&&!C&&i.jsx(Z.a,{href:`https://wa.me/${se}?text=${re}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-amber-500/80 hover:bg-amber-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Notificar cliente sobre estado o vencimiento","aria-label":`Notificar cliente para el pedido ${O.id}`,children:i.jsx(g0,{size:16})})]}),i.jsx(Z.button,{onClick:()=>u(O.id),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-red-500/80 hover:bg-red-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Eliminar pedido","aria-label":`Eliminar pedido ${O.id}`,children:i.jsx(ib,{size:16})})]})})]},O.id)})})]})})}):i.jsxs(Z.div,{className:"text-center py-16",variants:y,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(ii,{className:`mx-auto text-6xl ${g?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos encontrados"}),i.jsx("p",{className:`text-sm ${g?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o realiza tu primer pedido."})]})})]})};qA.propTypes={orders:G.arrayOf(G.shape({id:G.string.isRequired,productName:G.string,category:G.string,provider:G.string,amount:G.oneOfType([G.string,G.number]),status:G.string,startDate:G.oneOfType([G.string,G.instanceOf(Date)]),endDate:G.oneOfType([G.string,G.instanceOf(Date)]),daysRemaining:G.number,timeElapsedPercentage:G.number,accountDetails:G.shape({email:G.string,password:G.string,profile:G.string,pin:G.string}),buyer:G.string,buyerPhone:G.string,durationDays:G.number,soporteMessage:G.string})).isRequired,searchQuery:G.string.isRequired,setSearchQuery:G.func.isRequired,getCategoryDisplayName:G.func.isRequired,formatDate:G.func.isRequired,handleEditOrder:G.func.isRequired,handleActivateOrder:G.func.isRequired,handleDeleteOrder:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const sJ=({accountDetails:t,handleAccountChange:e,handleUpdateAccount:r,theme:n="dark"})=>{const s=n==="dark",a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},o={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${s?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:a,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(X5,{className:"inline mr-2",size:32}),"Configuración"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${s?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:o,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${s?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ab,{size:20}),"Información de Cuenta"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"} mb-2`,children:"Correo electrónico"}),i.jsx("input",{type:"email",value:t.email,disabled:!0,className:`w-full px-4 py-2 rounded-xl border ${s?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-200/50 text-gray-600 border-gray-300/50"} cursor-not-allowed focus:ring-0`})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"} mb-2 flex items-center gap-2`,children:[i.jsx(Cp,{size:16}),"Nueva contraseña (opcional)"]}),i.jsx("input",{type:"password",name:"password",value:t.password,onChange:e,className:`w-full px-4 py-2 rounded-xl border ${s?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Dejar en blanco para no cambiar"})]})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${s?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:o,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${s?"text-purple-400":"text-purple-600"}`,children:[i.jsx(sb,{size:20}),"Preferencias"]}),i.jsx("textarea",{name:"preferences",value:t.preferences,onChange:e,rows:"6",className:`w-full px-4 py-2 rounded-xl border resize-none ${s?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Especifica tus preferencias o notas"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(Z.button,{onClick:r,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-pink-500/50 ${s?"from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700":"from-pink-600 to-purple-800 hover:from-pink-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Guardar Cambios"})})]})},GA=({orders:t=[],setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:s,getCategoryDisplayName:a,formatDate:o,theme:u="dark"})=>{const[d,h]=T.useState({}),[p,g]=T.useState({key:null,direction:"asc"}),y=u==="dark",v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},k={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:y?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},w=B=>{const A={netflix:{bg:y?"bg-red-900/30":"bg-red-100",text:y?"text-red-300":"text-red-800"},disney:{bg:y?"bg-blue-900/30":"bg-blue-100",text:y?"text-blue-300":"text-blue-800"},max:{bg:y?"bg-yellow-900/30":"bg-yellow-100",text:y?"text-yellow-300":"text-yellow-800"},spotify:{bg:y?"bg-green-900/30":"bg-green-100",text:y?"text-green-300":"text-green-800"},default:{bg:y?"bg-gray-900/30":"bg-gray-100",text:y?"text-gray-300":"text-gray-700"}};return A[B?.toLowerCase()]||A.default},E=T.useMemo(()=>{let A=[...t.filter(S=>S.status==="soporte")].filter(S=>(S.productName||"").toLowerCase().includes(n.toLowerCase())||(S.customerName||S.buyerName||"").toLowerCase().includes(n.toLowerCase()));return p.key&&A.sort((S,C)=>{let R=S[p.key]||"",F=C[p.key]||"";return p.key==="soporteMessage"?(R=S.soporteMessage||"",F=C.soporteMessage||""):p.key==="category"&&(R=a(S.category),F=a(C.category)),typeof R=="string"&&(R=R.toLowerCase()),typeof F=="string"&&(F=F.toLowerCase()),R<F?p.direction==="asc"?-1:1:R>F?p.direction==="asc"?1:-1:0}),A},[t,n,p,a]),D=B=>{g(A=>({key:B,direction:A.key===B&&A.direction==="asc"?"desc":"asc"}))},I=B=>p.key!==B?null:p.direction==="asc"?i.jsx(Cm,{className:"ml-1"}):i.jsx(Am,{className:"ml-1"}),U=()=>{const B=E.map(R=>{const F=R.customerName||R.buyerName||"N/A";return{Producto:R.productName||"Sin nombre",Categoría:a(R.category),Comprador:F,Teléfono:R.buyerPhone||"N/A",Email:R.accountDetails?.email||"N/A","Mensaje de Soporte":R.soporteMessage||"Sin mensaje","Fecha de Inicio":R.startDate?o(R.startDate):"N/A","Fecha de Vencimiento":R.endDate?o(R.endDate):"N/A"}}),A=la.json_to_sheet(B),S=la.book_new();la.book_append_sheet(S,A,"Pedidos en Soporte");const C=new Date().toISOString().slice(0,10).replace(/-/g,"");$m(S,`pedidos_soporte_export_${C}.xlsx`)},O=async B=>{h(A=>({...A,[`reject_${B}`]:!0}));try{await ci(ht(je,"sales",B),{status:"rechazado"},{merge:!0}),e(A=>A.map(S=>S.id===B?{...S,status:"rechazado"}:S)),r&&await r(),alert("Pedido rechazado exitosamente.")}catch(A){console.error("Error rejecting support:",A),alert("Error al rechazar el soporte.")}finally{h(A=>({...A,[`reject_${B}`]:!1}))}},X=async B=>{h(A=>({...A,[`solve_${B}`]:!0}));try{await ci(ht(je,"sales",B),{status:"active"},{merge:!0}),e(A=>A.map(S=>S.id===B?{...S,status:"active"}:S)),r&&await r(),alert("Soporte solucionado y pedido activado exitosamente.")}catch(A){console.error("Error solving support:",A),alert("Error al solucionar el soporte.")}finally{h(A=>({...A,[`solve_${B}`]:!1}))}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${y?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"support-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"support-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${y?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(Ri,{className:"mr-2"})," Pedidos en Soporte",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${y?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:E.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar en soporte...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${y?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:B=>s(B.target.value),"aria-label":"Buscar en soporte"}),i.jsx(ii,{className:`absolute left-3 top-3.5 ${y?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(Z.button,{onClick:U,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${y?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos en soporte como Excel","aria-label":"Exportar pedidos en soporte a Excel",children:[i.jsx(jm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx(Vt,{children:E.length>0?i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${y?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${y?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:null,label:"Comprador"},{key:null,label:"Teléfono"},{key:null,label:"Email"},{key:"soporteMessage",label:"Mensaje de Soporte"},{key:"startDate",label:"Fecha de Inicio"},{key:"endDate",label:"Fecha de Vencimiento"},{label:"Acciones"}].map(({key:B,label:A})=>i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${y?"text-gray-300":"text-gray-700"} ${B?"cursor-pointer hover:text-blue-400 transition-colors":""}`,onClick:()=>B&&D(B),children:i.jsxs("div",{className:"flex items-center justify-between",children:[A,B&&I(B)]})},B||A))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:E.map(B=>{const A=B.buyerPhone?B.buyerPhone.replace(/^\+/,"").replace(/\D/g,""):null,S=B.customerName||B.buyerName||"N/A",C=encodeURIComponent(`Hola ${S}! 👋

📋 *Soporte para tu pedido de ${B.productName||"Sin nombre"}*:

Estamos revisando tu consulta. Por favor, describe el problema o pregunta para ayudarte mejor.

Detalles del pedido:
✉️ *Usuario*: ${B.accountDetails?.email||"N/A"}
🗓 *Inicio*: ${B.startDate?o(B.startDate):"N/A"}
🗓 *Vencimiento*: ${B.endDate?o(B.endDate):"N/A"}

¡Gracias por tu paciencia! 😊`),R=w(B.category);return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${y?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:k,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${B.id}-title`,children:[i.jsx("td",{className:"px-4 py-4",children:i.jsx("h4",{id:`order-${B.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:B.productName||"Sin nombre"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.bg} ${R.text}`,children:a(B.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:S}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:B.buyerPhone||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:B.accountDetails?.email||"N/A",children:B.accountDetails?.email||"N/A"}),i.jsxs("td",{className:"px-4 py-4 max-w-xs",children:[i.jsx("p",{className:"text-sm break-words line-clamp-3 bg-gray-100/30 dark:bg-gray-800/30 p-2 rounded",title:B.soporteMessage||"Sin mensaje",children:B.soporteMessage||"Sin mensaje"}),B.soporteCreatedAt&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o(B.soporteCreatedAt)})]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:B.startDate?o(B.startDate):"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:B.endDate?o(B.endDate):"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex gap-2",children:[A&&i.jsx(Z.a,{href:`https://wa.me/${A}?text=${C}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Comunicarse con el usuario","aria-label":`Comunicarse con el usuario para el pedido ${B.productName}`,children:i.jsx(Ur,{size:16})}),i.jsx(Z.button,{onClick:()=>O(B.id),disabled:d[`reject_${B.id}`],className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${d[`reject_${B.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":"bg-red-500/80 hover:bg-red-600/90 text-white"} transition-all duration-200`,whileHover:d[`reject_${B.id}`]?{}:{scale:1.1},whileTap:d[`reject_${B.id}`]?{}:{scale:.9},title:"Rechazar soporte","aria-label":"Rechazar soporte",children:d[`reject_${B.id}`]?i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):i.jsx(xz,{size:16})}),i.jsx(Z.button,{onClick:()=>X(B.id),disabled:d[`solve_${B.id}`],className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${d[`solve_${B.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-200`,whileHover:d[`solve_${B.id}`]?{}:{scale:1.1},whileTap:d[`solve_${B.id}`]?{}:{scale:.9},title:"Solucionar soporte","aria-label":"Solucionar soporte",children:d[`solve_${B.id}`]?i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):i.jsx(_u,{size:16})})]})})]},B.id)})})]})})}):i.jsxs(Z.div,{className:"text-center py-16",variants:v,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(Ri,{className:`mx-auto text-6xl ${y?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${y?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos en soporte"}),i.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"}`,children:"Los pedidos en soporte aparecerán aquí"})]})})]})};GA.propTypes={orders:G.array.isRequired,setOrders:G.func,fetchOrders:G.func,searchQuery:G.string,setSearchQuery:G.func,getCategoryDisplayName:G.func.isRequired,formatDate:G.func.isRequired,theme:G.oneOf(["light","dark"])};const aJ=({editModalOpen:t,setEditModalOpen:e,selectedProduct:r,setSelectedProduct:n,editError:s,setEditError:a,handleFileChange:o,handleEditStockChange:u,handleEditAccountFieldChange:d,handleUpdateProduct:h,theme:p="dark"})=>{const g=p==="dark",y={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},v={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},k={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},w=E=>{const{name:D,value:I,type:U,checked:O}=E.target;n(X=>({...X,[D]:U==="checkbox"?O:I,...D==="status"&&{stock:I==="Agotado"?0:X.stock||1,accounts:I==="En stock"?X.accounts.length?X.accounts:Array(X.stock||1).fill({email:"",password:"",profile:"",pin:""}):[]}}))};return t?i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl w-full max-w-6xl border max-h-[90vh] overflow-y-auto ${g?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${g?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Ip,{className:"inline mr-2",size:32}),"Editar Producto"]}),i.jsx(Z.button,{onClick:()=>e(!1),className:`${g?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(Ws,{size:20})})]}),i.jsx(Vt,{children:s&&i.jsx(Z.div,{className:`mb-8 p-4 border rounded-2xl ${g?"bg-red-900/30 border-red-700/50 text-red-300":"bg-red-100/30 border-red-300/50 text-red-700"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:s})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",variants:v,initial:"hidden",animate:"visible",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-blue-400":"text-blue-600"}`,children:[i.jsx(W5,{size:20}),"Imagen del producto"]}),i.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${g?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:r.image?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:r.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),i.jsx(Z.button,{type:"button",onClick:()=>n({...r,image:""}),className:`absolute top-0 right-0 ${g?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(Ws,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Ip,{className:`mx-auto h-12 w-12 ${g?"text-gray-400":"text-gray-500"}`}),i.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:i.jsxs("label",{htmlFor:"edit-file-upload",className:`relative cursor-pointer rounded-xl font-medium ${g?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[i.jsx("span",{children:"Subir una imagen"}),i.jsx("input",{id:"edit-file-upload",name:"edit-file-upload",type:"file",className:"sr-only",onChange:E=>o(E,!0),accept:"image/*"})]})}),i.jsx("p",{className:`text-xs ${g?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-purple-400":"text-purple-600"}`,children:[i.jsx(Y5,{size:20}),"Información Básica"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Nombre del producto*"}),i.jsx("input",{type:"text",name:"name",value:r.name,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Categoría*"}),i.jsxs("select",{name:"category",value:r.category,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Netflix",children:"Netflix"}),i.jsx("option",{value:"Spotify",children:"Spotify"}),i.jsx("option",{value:"Disney",children:"Disney+"}),i.jsx("option",{value:"Max",children:"Max"}),i.jsx("option",{value:"Prime Video",children:"Prime Video"}),i.jsx("option",{value:"Vix",children:"Vix"}),i.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),i.jsx("option",{value:"Canva",children:"Canva"}),i.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),i.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),i.jsx("option",{value:"Dgo",children:"DGO"}),i.jsx("option",{value:"Liga Max",children:"Liga Max"}),i.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),i.jsx("option",{value:"Youtube",children:"YouTube"}),i.jsx("option",{value:"Deezer",children:"Deezer"}),i.jsx("option",{value:"Tidal",children:"Tidal"}),i.jsx("option",{value:"Vpn",children:"VPN"}),i.jsx("option",{value:"WinTv",children:"WinTV"}),i.jsx("option",{value:"Apple Music",children:"Apple Music"}),i.jsx("option",{value:"Apple Tv",children:"Apple TV"}),i.jsx("option",{value:"Iptv",children:"IPTV"}),i.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),i.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),i.jsx("option",{value:"Pornhub",children:"Pornhub"}),i.jsx("option",{value:"Paramount",children:"Paramount"}),i.jsx("option",{value:"Licencias",children:"Licencias"}),i.jsx("option",{value:"Capcut",children:"Capcut"}),i.jsx("option",{value:"Duolingo",children:"Duolingo"}),i.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Tipo de cuenta*"}),i.jsxs("select",{name:"accountType",value:r.accountType,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Premium",children:"Premium"}),i.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Estado*"}),i.jsxs("select",{name:"status",value:r.status,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"En stock",children:"En stock"}),i.jsx("option",{value:"A pedido",children:"A pedido"}),i.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Stock*"}),i.jsx("input",{type:"number",name:"stock",value:r.status==="Agotado"?0:r.stock,onChange:u,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all ${r.status==="Agotado"?"opacity-50 cursor-not-allowed":""} placeholder-gray-500`,min:"0",required:!0,disabled:r.status==="Agotado"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio (S/)*"}),i.jsx("input",{type:"number",name:"price",value:r.price,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"renewal",checked:r.renewal,onChange:w,className:`h-4 w-4 rounded ${g?"text-purple-400 focus:ring-purple-400 border-gray-600/50":"text-purple-600 focus:ring-purple-600 border-gray-300/50"}`}),i.jsx("label",{className:`ml-2 text-sm ${g?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),r.renewal&&i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio de renovación (S/)*"}),i.jsx("input",{type:"number",name:"renewalPrice",value:r.renewalPrice,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8",variants:v,initial:"hidden",animate:"visible",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-green-400":"text-green-600"}`,children:[i.jsx(Zl,{size:20}),"Duración y Contacto"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Duración (días)"}),i.jsx("input",{type:"number",name:"duration",value:r.duration,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:["Teléfono de contacto ",r.status==="A pedido"?"*":""]}),i.jsx("input",{type:"text",name:"providerPhone",value:r.providerPhone,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:r.status==="A pedido"})]})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(q5,{size:20}),"Enlaces y Descripciones"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"URL del producto (opcional)"}),i.jsx("input",{type:"url",name:"productUrl",value:r.productUrl||"",onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Detalles del producto"}),i.jsx("textarea",{name:"details",value:r.details,onChange:w,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Términos y condiciones"}),i.jsx("textarea",{name:"terms",value:r.terms,onChange:w,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]})]})]}),r.status==="En stock"&&i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-pink-400":"text-pink-600"}`,children:[i.jsx(Tu,{size:20}),"Cuentas Asociadas"]}),i.jsx("p",{className:`text-sm mb-4 ${g?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),i.jsx(Vt,{children:i.jsx("div",{className:"space-y-4",children:r.accounts.map((E,D)=>i.jsxs(Z.div,{className:`border rounded-xl p-4 ${g?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:D*.1},children:[i.jsxs("h4",{className:`text-sm font-medium ${g?"text-white":"text-gray-900"} mb-3 flex items-center gap-2`,children:["Cuenta ",D+1]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),i.jsx("input",{type:"email",value:E.email,onChange:I=>d(D,"email",I.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),i.jsx("input",{type:"text",value:E.password,onChange:I=>d(D,"password",I.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),i.jsx("input",{type:"text",value:E.profile,onChange:I=>d(D,"profile",I.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),i.jsx("input",{type:"text",value:E.pin,onChange:I=>d(D,"pin",I.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},D))})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[i.jsx(Z.button,{onClick:()=>e(!1),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${g?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),i.jsx(Z.button,{onClick:h,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${g?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Actualizar Producto"})]})]})}):null},iJ=({editOrderModalOpen:t,setEditOrderModalOpen:e,selectedOrder:r,handleOrderAccountChange:n,editOrderError:s,setEditOrderError:a,handleUpdateOrder:o,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return t?i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl w-full max-w-md border max-h-[90vh] overflow-y-auto ${d?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Cp,{className:"inline mr-2",size:32}),"Editar Detalles de Cuenta"]}),i.jsx(Z.button,{onClick:()=>e(!1),className:`${d?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(Ws,{size:20})})]}),i.jsx(Vt,{children:s&&i.jsx(Z.div,{className:`mb-8 p-4 border rounded-2xl ${d?"bg-red-900/30 border-red-700/50 text-red-300":"bg-red-100/30 border-red-300/50 text-red-700"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:s})}),i.jsx(Z.div,{className:`border rounded-2xl p-6 shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"} space-y-4`,variants:p,initial:"hidden",animate:"visible",children:i.jsxs(Z.div,{className:"space-y-4",variants:g,whileHover:"hover",children:[i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(ab,{size:16}),"Correo electrónico*"]}),i.jsx("input",{type:"email",name:"email",value:r.accountDetails.email,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: usuario@ejemplo.com",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(Cp,{size:16}),"Contraseña*"]}),i.jsx("input",{type:"text",name:"password",value:r.accountDetails.password,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: contraseña123",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(ks,{size:16}),"Perfil (opcional)"]}),i.jsx("input",{type:"text",name:"profile",value:r.accountDetails.profile,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: Perfil 1"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(hz,{size:16}),"PIN (opcional)"]}),i.jsx("input",{type:"text",name:"pin",value:r.accountDetails.pin,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: 1234"})]})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[i.jsx(Z.button,{onClick:()=>e(!1),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${d?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),i.jsx(Z.button,{onClick:o,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${d?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Guardar Cambios"})]})]})}):null},oJ=({users:t,providerBalance:e,handleRecharge:r,theme:n,userSearch:s,setUserSearch:a})=>{const o=n==="dark",u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},[h,p]=T.useState({}),g=(v,k)=>{p(w=>({...w,[v]:k}))},y=v=>{const k=parseFloat(h[v]);k&&k>0&&k<=e&&(r(v,k),p(w=>({...w,[v]:""})))};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${o?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[i.jsx(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${o?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Gestión de Recargas"}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative group",children:[i.jsx(ii,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${o?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,size:18}),i.jsx("input",{type:"text",placeholder:"Buscar usuarios por nombre o email...",value:s,onChange:v=>a(v.target.value),className:`w-full pl-10 pr-4 py-2.5 ${o?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${o?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${o?"text-green-400":"text-green-600"}`,children:[i.jsx(Us,{size:20}),"Tu Saldo Disponible"]}),i.jsxs("p",{className:`text-4xl font-bold ${o?"text-white":"text-gray-900"}`,children:["S/ ",e.toFixed(2)]}),i.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"} mt-2`,children:"Usa para recargar saldos de usuarios"})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${o?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${o?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ks,{size:20}),"Total Usuarios"]}),i.jsx("p",{className:`text-4xl font-bold ${o?"text-white":"text-gray-900"}`,children:t.length}),i.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"} mt-2`,children:'Usuarios con rol "Usuario"'})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${o?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${o?"text-purple-400":"text-purple-600"}`,children:[i.jsx(Us,{size:20}),"Saldo Total Distribuido"]}),i.jsxs("p",{className:`text-4xl font-bold ${o?"text-white":"text-gray-900"}`,children:["S/ ",t.reduce((v,k)=>v+(k.balance||0),0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"} mt-2`,children:"Suma de saldos de usuarios"})]})]}),i.jsxs(Z.div,{className:`bg-${o?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${o?"border-gray-700/50":"border-gray-300"}`,variants:u,whileHover:"hover",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${o?"text-white":"text-gray-900"}`,children:["Lista de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Usuarios"})," ","(",t.length,")"]})}),t.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${o?"bg-gray-800/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${o?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx($l,{})," Usuario"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${o?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(xu,{})," Email"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${o?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Us,{})," Saldo"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${o?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),i.jsx("tbody",{className:`${o?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:t.map(v=>i.jsxs("tr",{className:`hover:bg-${o?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${o?"text-white":"text-gray-900"}`,children:v.username||"Sin nombre"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${o?"text-gray-300":"text-gray-600"}`,children:v.email}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${o?"text-white":"text-gray-900"}`,children:["S/ ",(v.balance||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap flex space-x-2",children:i.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[i.jsx("input",{type:"number",placeholder:"Monto",value:h[v.id]||"",onChange:k=>g(v.id,k.target.value),className:`w-20 px-2 py-1 rounded ${o?"bg-gray-700/50 border-gray-500/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} text-sm focus:outline-none focus:ring-2 focus:ring-blue-400`,min:"0",step:"0.01",max:e}),i.jsx(Z.button,{onClick:()=>y(v.id),className:`px-3 py-1 text-white rounded text-xs transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${o?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!h[v.id]||parseFloat(h[v.id])<=0||parseFloat(h[v.id])>e,children:"Recargar"})]})})]},v.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(wu,{className:`mx-auto text-4xl ${o?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${o?"text-gray-300":"text-gray-600"}`,children:"No hay usuarios disponibles"})]})]})]})},lJ=ja.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>i.jsx(Vt,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(Vn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));lJ.propTypes={show:G.bool.isRequired,onClose:G.func.isRequired,title:G.string.isRequired,message:G.string.isRequired,theme:G.string.isRequired};const KA=()=>{const[t,e]=T.useState(!1),[r,n]=T.useState("inicio"),[s,a]=T.useState("Usuario"),[o,u]=T.useState(""),[d,h]=T.useState(""),[p,g]=T.useState([]),[y,v]=T.useState([]),[k,w]=T.useState([]),[E,D]=T.useState([]),[I,U]=T.useState(!0),[O,X]=T.useState(""),[B,A]=T.useState({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:Array(1).fill({email:"",password:"",profile:"",pin:""})}),[S,C]=T.useState(null),[R,F]=T.useState(!1),[W,M]=T.useState(""),[Se,Ie]=T.useState(""),[$e,Le]=T.useState(""),[_e,ie]=T.useState({isOpen:!1,message:"",title:""}),[de,se]=T.useState({email:"",password:"",preferences:"",balance:0}),[V,te]=T.useState(!1),[re,ne]=T.useState(!0),[ee,Fe]=T.useState(0),[Be,Ae]=T.useState(!1),[Pe,it]=T.useState(null),[yt,Wt]=T.useState(""),[Oe,fr]=T.useState("dark"),[Mt,Re]=T.useState(!1),[pr,$t]=T.useState(!1),[Gt,le]=T.useState([]),Ye=La(),ct=y1(),ut=T.useCallback(ve=>{const Ne=new Date(ve);return Ne.setUTCHours(23,59,59,999),Ne},[]),At=T.useCallback(()=>{fr(ve=>ve==="dark"?"light":"dark")},[]),wt=T.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),st=T.useCallback((ve,Ne)=>{ie({isOpen:!0,title:ve,message:Ne})},[]),gt=T.useCallback(()=>{ie({isOpen:!1,message:"",title:""})},[]),ir=T.useCallback(ve=>{if(!ve)return"No especificada";try{const Ne=ve instanceof Date?ve:ve?.toDate?.()||new Date(ve);return isNaN(Ne.getTime())?"Fecha inválida":Ne.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Ne){return console.error("Error formatting date:",Ne),"Fecha inválida"}},[]),Q=T.useCallback(ve=>({netflix:"Netflix",spotify:"Spotify",disney:"Disney",max:"Max",primevideo:"Prime Video",vix:"Vix",crunchyroll:"Crunchyroll",canva:"Canva",chatgpt:"ChatGPT",redessociales:"Redes Sociales",dgo:"Dgo",ligamax:"Liga Max",movistarplay:"Movistar Play",youtube:"Youtube",deezer:"Deezer",tidal:"Tidal",vpn:"Vpn",wintv:"WinTv",applemusic:"Apple Music",appletv:"Apple TV",iptv:"Iptv",flujotv:"Flujo Tv",vikirakuten:"Viki Rakuten",pornhub:"Pornhub",paramount:"Paramount",licencias:"Licencias",capcut:"Capcut",duolingo:"Duolingo",buscapersonas:"BuscaPersonas"})[ve?.toLowerCase()]||"Otro",[]);T.useEffect(()=>{const ve=Gl(ct,Ne=>{Ne?(u(Ne.email||""),h(Ne.uid),Te(Ne.uid)):Ye("/login")});return()=>ve()},[ct,Ye]);const Te=async ve=>{try{const Ne=ht(je,"users",ve),P=await Za(Ne);if(P.exists()){const z=P.data();a(z.username||"Usuario"),se({email:z.email||"",password:"",preferences:z.preferences||"",balance:z.balance||0})}U(!1)}catch(Ne){X("Error al cargar datos del usuario"),console.error("Error fetching user data:",Ne),U(!1)}};T.useEffect(()=>{if(!d)return;const ve=ht(je,"users",d);return hr(ve,P=>{if(P.exists()){const z=P.data();se(H=>({...H,email:z.email||H.email,preferences:z.preferences||H.preferences,balance:z.balance||0})),a(z.username||prev.username)}},P=>{console.error("Error listening to user data:",P)})},[d]),T.useEffect(()=>{o&&(async Ne=>{try{const P=await Za(ht(je,"admins",Ne));te(P.exists())}catch(P){console.error("Error checking admin status:",P)}})(o)},[o]),T.useEffect(()=>{const ve=hr(ht(je,"notifications","adminMessage"),Ne=>{if(Ne.exists()){const P=Ne.data(),z=V?"admin":"provider";P.roles&&P.roles.includes(z)?le([{id:Ne.id,...P,timestamp:P.updatedAt?.toDate()}]):le([])}else le([])},Ne=>{console.error("Error in notifications listener:",Ne),X("Error al cargar notificaciones: "+Ne.message)});return()=>ve()},[V]),T.useEffect(()=>{const ve=tr(kt(je,"users"),vr("role","==","user")),Ne=hr(ve,P=>{const z=P.docs.map(H=>({id:H.id,...H.data()}));D(z)},P=>{console.error("Error fetching users:",P),X("Error al cargar usuarios")});return()=>Ne()},[]),T.useEffect(()=>{if(!s)return;const ve=tr(kt(je,"products"),vr("provider","==",s)),Ne=hr(ve,P=>{const z=P.docs.map(H=>({id:H.id,...H.data()}));v(z)},P=>{console.error("Error fetching products:",P),X("Error al cargar productos")});return()=>Ne()},[s]),T.useEffect(()=>{if(!d)return;const ve=tr(kt(je,"sales"),vr("providerId","==",d)),Ne=hr(ve,async z=>{if(z.empty){g([]),ne(!1);return}const H=new Date,K=7200*60*1e3;for(const ue of z.docs){let he=ue.data().endDate,ge=he instanceof kr?he.toDate():typeof he=="string"?new Date(he):new Date(he);const xe=ut(ge);if(xe<H&&H.getTime()-xe.getTime()>K)try{await Ai(ht(je,"sales",ue.id)),console.log(`Deleted expired order: ${ue.id}`)}catch(Ue){console.error(`Error deleting order ${ue.id}:`,Ue)}}const J=z.docs.map(ue=>{const me=ue.data(),ge=me.saleDate?.toDate?.()||me.createdAt?.toDate?.()||new Date;let xe=me.startDate?.toDate?.(),Ue=xe||ge,Je=!xe;const lt=Number(me.durationDays)||30;let Ke;me.endDate?Ke=typeof me.endDate=="string"?new Date(me.endDate):me.endDate.toDate?.()||new Date(me.endDate):(Ke=new Date(Ue.getTime()+lt*24*60*60*1e3),Je=!0),Je&&Xr(ht(je,"sales",ue.id),{startDate:xe||kr.fromDate(ge),endDate:kr.fromDate(ut(Ke)),durationDays:lt}).catch($r=>{console.error("Error al actualizar startDate/endDate en Firestore:",$r)});const We=ut(Ke),Pt=We.getTime()-Ue.getTime(),nr=H.getTime()-Ue.getTime(),Jt=We.getTime()-H.getTime(),sr=Math.max(1,Math.ceil(Pt/(1e3*60*60*24))),Cs=Math.max(0,Math.ceil(Jt/(1e3*60*60*24))),Gs=Math.ceil(nr/(1e3*60*60*24)),rs=sr>0?Math.min(100,Gs/sr*100):100;return{id:ue.id,...me,productName:me.productName||"Producto sin nombre",category:me.type||"netflix",amount:parseFloat(me.price)||0,buyer:me.buyerName||me.customerName||"Comprador desconocido",buyerPhone:me.buyerPhone||"No especificado",buyerEmail:me.customerEmail||"No especificado",status:me.status||"completed",saleDate:ge,startDate:Ue,endDate:Ke,durationDays:lt,daysRemaining:Cs,totalDays:sr,timeElapsedPercentage:rs,accountDetails:me.accountDetails||{email:"No disponible",password:"No disponible",profile:"N/A",pin:""},balance:parseFloat(me.price)||0}}).filter(ue=>{const me=ut(ue.endDate);return!(me<H&&H.getTime()-me.getTime()>K)});g(J);const Y=J.filter(ue=>ue.status==="completed"&&ue.accountDetails).map(ue=>({...ue.accountDetails,productName:ue.productName,saleDate:ue.saleDate,orderId:ue.id}));w(Y),ne(!1)},z=>{console.error("Error fetching sales:",z),X("Error al cargar ventas"),ne(!1)}),P=setInterval(()=>{g(z=>z.map(H=>{const K=new Date,J=ut(H.endDate),Y=J.getTime()-new Date(H.startDate).getTime(),ue=K.getTime()-new Date(H.startDate).getTime(),me=J.getTime()-K.getTime(),he=Math.max(1,Math.ceil(Y/(1e3*60*60*24))),ge=Math.max(0,Math.ceil(me/(1e3*60*60*24))),xe=Math.ceil(ue/(1e3*60*60*24)),Ue=he>0?Math.min(100,xe/he*100):100;return{...H,daysRemaining:ge,totalDays:he,timeElapsedPercentage:Ue}}).filter(H=>{const K=ut(H.endDate),J=new Date,Y=7200*60*1e3;return!(K<J&&J.getTime()-K.getTime()>Y)}))},6e4);return()=>{Ne(),clearInterval(P)}},[d,ut]),T.useEffect(()=>{if(!s)return;const ve=ht(je,"providerBalances",s),Ne=hr(ve,P=>{P.exists()?Fe(P.data().balance||0):(ci(ve,{balance:0,provider:s,updatedAt:br()}),Fe(0)),ne(!1)},P=>{console.error("Error fetching provider balance:",P),X("Error al cargar el saldo del proveedor"),ne(!1)});return()=>Ne()},[s]);const ft=T.useCallback(async(ve,Ne)=>{if(!Ne||Ne<=0){st("Error","El monto debe ser mayor a 0");return}if(Ne>de.balance){st("Error","Saldo insuficiente en tu cuenta");return}try{await ky(je,async P=>{const z=ht(je,"users",d),H=ht(je,"users",ve),K=await P.get(z),J=await P.get(H);if(!K.exists())throw new Error("Cuenta no encontrada");if(!J.exists())throw new Error("Usuario destino no encontrado");const Y=(K.data().balance||0)-Ne,ue=(J.data().balance||0)+Ne;if(Y<0)throw new Error("Saldo insuficiente");P.update(z,{balance:Y,updatedAt:br()}),P.update(H,{balance:ue,updatedAt:br()})}),se(P=>({...P,balance:P.balance-Ne})),D(P=>P.map(z=>z.id===ve?{...z,balance:(z.balance||0)+Ne}:z)),st("Éxito",`Transferencia de S/ ${Ne.toFixed(2)} exitosa`)}catch(P){console.error("Error en recarga:",P),st("Error",P.message||"Error al procesar la recarga")}},[de.balance,d,st]),be=T.useCallback(async()=>{try{await B0(ct),Ye("/login")}catch(ve){console.error("Error al cerrar sesión:",ve),st("Error",ve.message||"Error al cerrar sesión")}},[Ye,st]),ke=T.useCallback(ve=>{const{name:Ne,value:P,type:z,checked:H}=ve.target;A(K=>({...K,[Ne]:z==="checkbox"?H:P}))},[]),Me=T.useCallback(ve=>{const{name:Ne,value:P}=ve.target;se(z=>({...z,[Ne]:P}))},[]),Ze=T.useCallback((ve,Ne=!1)=>{const P=ve.target.files[0];if(P){if(P.size>10485760){Ne?M("La imagen no debe exceder los 10MB"):X("La imagen no debe exceder los 10MB");return}const H=new FileReader;H.onloadend=()=>{Ne?C(K=>({...K,image:H.result})):A(K=>({...K,image:H.result}))},H.readAsDataURL(P)}},[]),vt=T.useCallback(ve=>{const Ne=parseInt(ve.target.value)||1,P=B.accounts||[];if(Ne>P.length){const z=[...P];for(;z.length<Ne;)z.push({email:"",password:"",profile:"",pin:""});A({...B,stock:Ne,accounts:z})}else if(Ne<P.length){const z=P.slice(0,Math.max(Ne,1));A({...B,stock:Ne,accounts:z})}else A({...B,stock:Ne})},[B]),Nt=T.useCallback(ve=>{const Ne=parseInt(ve.target.value)||1;let z=[...S.accounts||[]];if(Ne>z.length)for(;z.length<Ne;)z.push({email:"",password:"",profile:"",pin:""});else Ne<z.length&&(z=z.slice(0,Math.max(Ne,1)));C({...S,stock:Ne,accounts:z})},[S]),at=T.useCallback((ve,Ne,P)=>{const z=[...B.accounts];z[ve]={...z[ve],[Ne]:P},A({...B,accounts:z})},[B]),ot=T.useCallback((ve,Ne,P)=>{C(z=>({...z,accounts:z.accounts.map((H,K)=>K===ve?{...H,[Ne]:P}:H)}))},[]),et=T.useCallback(ve=>{const{name:Ne,value:P}=ve.target;it(z=>({...z,accountDetails:{...z.accountDetails,[Ne]:P}}))},[]),Tt=T.useCallback(async()=>{if(X(""),!B.name||!B.price){st("Error","Por favor complete todos los campos obligatorios");return}if(B.renewal&&!B.renewalPrice){st("Error","Por favor ingrese el precio de renovación");return}if(B.status==="En stock"&&B.accounts.some(Ne=>!Ne.email||!Ne.password)){st("Error","Por favor complete todos los campos de las cuentas");return}try{const ve={...B,provider:s,providerId:d,providerPhone:B.status==="En stock"?B.providerPhone||"":B.providerPhone||"No especificado",createdAt:br(),availableAccounts:B.status==="En stock"?B.accounts.length:0},Ne=await Ro(kt(je,"products"),ve);if(B.status==="En stock"){const P=kt(je,`products/${Ne.id}/accounts`);for(const z of B.accounts)await Ro(P,{email:z.email,password:z.password,profile:z.profile||"",pin:z.pin||"",status:"available"})}A({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:[{email:"",password:"",profile:"",pin:""}]}),n("inventario"),st("Éxito","Producto subido exitosamente!")}catch(ve){console.error("Error al subir el producto:",ve),st("Error",`Error al subir el producto: ${ve.message}`)}},[B,s,d,st]),Bt=T.useCallback(async ve=>{M("");try{const Ne=tr(kt(je,"sales"),vr("providerId","==",d),vr("productName","==",ve.name)),z=(await tn(Ne)).docs.filter(Y=>Y.data().status==="completed"&&Y.data().accountDetails?.email).map(Y=>Y.data().accountDetails.email),H=kt(je,`products/${ve.id}/accounts`),J=(await tn(H)).docs.filter(Y=>Y.data().status==="available").map(Y=>({email:Y.data().email||"",password:Y.data().password||"",profile:Y.data().profile||"",pin:Y.data().pin||""}));C({id:ve.id,name:ve.name||"",image:ve.image||"",category:ve.category||"Netflix",accountType:ve.accountType||"Premium",status:ve.status||"En stock",stock:J.length||ve.stock||1,price:ve.price||"",renewal:ve.renewal||!1,renewalPrice:ve.renewalPrice||"",duration:ve.duration||"",providerPhone:ve.providerPhone||"",details:ve.details||"",terms:ve.terms||"",providerId:ve.providerId||d,accounts:ve.status==="En stock"?J.length>0?J:Array(Math.max(ve.stock||1,1)).fill({email:"",password:"",profile:"",pin:""}):[]}),F(!0)}catch(Ne){console.error("Error al preparar edición del producto:",Ne),M("Error al preparar edición del producto")}},[d]),Kt=T.useCallback(async()=>{if(M(""),!S.name||!S.price){M("Por favor complete todos los campos obligatorios");return}if(S.renewal&&!S.renewalPrice){M("Por favor ingrese el precio de renovación");return}if(S.status==="En stock"&&S.accounts.some(Ne=>!Ne.email||!Ne.password)){M("Por favor complete todos los campos de las cuentas");return}try{const ve=ht(je,"products",S.id);if(await ci(ve,{...S,providerId:S.providerId||d,availableAccounts:S.status==="En stock"&&S.accounts?.length||0},{merge:!0}),S.status==="En stock"){const Ne=kt(je,`products/${S.id}/accounts`),P=await tn(Ne);for(const z of P.docs)await Ai(z.ref);for(const z of S.accounts)await Ro(Ne,{email:z.email,password:z.password,profile:z.profile||"",pin:z.pin||"",status:"available"})}F(!1),st("Éxito","Producto actualizado exitosamente!")}catch(ve){console.error("Error al actualizar el producto:",ve),M(`Error al actualizar el producto: ${ve.message}`)}},[S,d,st]),jr=T.useCallback(ve=>{it(ve),Ae(!0)},[]),Mr=T.useCallback(async()=>{if(Pe)try{const ve=ht(je,"sales",Pe.id);await Xr(ve,{...Pe,updatedAt:br()}),Ae(!1),st("Éxito","Pedido actualizado exitosamente!")}catch(ve){console.error("Error al actualizar el pedido:",ve),Wt(`Error al actualizar el pedido: ${ve.message}`)}},[Pe,st]),un=T.useCallback(async ve=>{try{const Ne=ht(je,"sales",ve);await Xr(Ne,{status:"completed"}),st("Éxito","Pedido activado exitosamente!")}catch(Ne){console.error("Error al activar el pedido:",Ne),st("Error",`Error al activar el pedido: ${Ne.message}`)}},[st]),cr=T.useCallback(async ve=>{try{await Ai(ht(je,"sales",ve)),st("Éxito","Pedido eliminado exitosamente!")}catch(Ne){console.error("Error al eliminar el pedido:",Ne),st("Error",`Error al eliminar el pedido: ${Ne.message}`)}},[st]),Hn=T.useCallback(async ve=>{ve.preventDefault();try{const Ne={updatedAt:br()};de.email&&(Ne.email=de.email),de.preferences&&(Ne.preferences=de.preferences),await Xr(ht(je,"users",d),Ne),st("Éxito","Cuenta actualizada exitosamente!")}catch(Ne){console.error("Error al actualizar la cuenta:",Ne),st("Error",`Error al actualizar la cuenta: ${Ne.message}`)}},[de,d,st]),ur=T.useCallback(async ve=>{try{await Ai(ht(je,"products",ve)),st("Éxito","Producto eliminado exitosamente!")}catch(Ne){console.error("Error al eliminar el producto:",Ne),st("Error",`Error al eliminar el producto: ${Ne.message}`)}},[st]),dn=T.useMemo(()=>y.reduce((ve,Ne)=>ve+(Ne.availableAccounts||0),0),[y]),Er=T.useMemo(()=>p.reduce((ve,Ne)=>ve+(Ne.balance||0),0),[p]),xn=T.useCallback(()=>{if(I)return i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(O)return i.jsxs("div",{className:`bg-${Oe==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${Oe==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ml,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${Oe==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${Oe==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:O}),i.jsx("button",{onClick:()=>X(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]});const ve=E.filter(Ne=>Ne.username?.toLowerCase().includes($e.toLowerCase())||Ne.email?.toLowerCase().includes($e.toLowerCase()));return i.jsx("div",{className:`bg-${Oe==="dark"?"black/50":"white"}
    backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md 
    w-full xl:max-w-full border ${Oe==="dark"?"border-gray-700/50":"border-gray-300"} overflow-x-auto`,children:(()=>{switch(r){case"inicio":return i.jsx(HA,{username:s,products:y,orders:p,providerBalance:ee,balanceLoading:re,totalStock:dn,totalEarnings:Er,isAdmin:V,email:o,setActiveSection:n,formatDate:ir,notifications:Gt,theme:Oe});case"inventario":return i.jsx(WA,{products:y,setActiveSection:n,handleEdit:Bt,handleDelete:ur,getCategoryDisplayName:Q,totalStock:dn,theme:Oe});case"cuentas":return i.jsx(tJ,{soldAccounts:k,formatDate:ir});case"subirProducto":return i.jsx(rJ,{product:B,setProduct:A,handleChange:ke,handleFileChange:Ze,handleStockChange:vt,handleAccountFieldChange:at,handleSubmit:Tt,setActiveSection:n});case"ganancias":return i.jsx(nJ,{orders:p,totalEarnings:Er,providerBalance:ee,balanceLoading:re,getCategoryDisplayName:Q,formatDate:ir});case"pedidos":return i.jsx(qA,{orders:p,searchQuery:Se,setSearchQuery:Ie,getCategoryDisplayName:Q,formatDate:ir,handleEditOrder:jr,handleActivateOrder:un,handleDeleteOrder:cr,theme:Oe});case"recargas":return i.jsx(oJ,{users:ve,providerBalance:de.balance||0,handleRecharge:ft,formatDate:ir,theme:Oe,userSearch:$e,setUserSearch:Le});case"configuracion":return i.jsx(sJ,{accountDetails:de,handleAccountChange:Me,handleUpdateAccount:Hn});case"soporte":return i.jsx(GA,{orders:p,setOrders:g,searchQuery:Se,setSearchQuery:Ie,getCategoryDisplayName:Q,formatDate:ir,theme:Oe,username:s,email:o,showModal:st});default:return i.jsxs("div",{className:`bg-${Oe==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${Oe==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ml,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${Oe==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),i.jsx("p",{className:`text-base ${Oe==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()})},[I,O,Oe,r,s,y,p,ee,re,dn,Er,V,o,n,ir,Bt,ur,Q,k,B,A,ke,Ze,vt,at,Tt,Se,Ie,jr,un,cr,de,Me,Hn,st,Gt,E,$e,ft]);return T.useEffect(()=>{const ve=()=>{Re(window.scrollY>300)};return window.addEventListener("scroll",ve),()=>window.removeEventListener("scroll",ve)},[]),i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${Oe==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${Oe==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(15)].map((ve,Ne)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ne))})]}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${Oe==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>{Ye("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:i.jsx(Vn,{className:"text-lg"})})]}),i.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${Oe==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${Oe==="dark"?"text-white":"text-gray-900"}`,children:s}),i.jsx("p",{className:`text-xs ${Oe==="dark"?"text-gray-400":"text-gray-600"}`,children:V?"Admin":"Proveedor"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:eb},{id:"inventario",label:"Inventario",icon:KU},{id:"cuentas",label:"Cuentas Vendidas",icon:vu},{id:"pedidos",label:"Pedidos",icon:vu},{id:"recargas",label:"Recargas",icon:ai},{id:"ganancias",label:"Ganancias",icon:ai},{id:"subirProducto",label:"Subir Producto",icon:sz},{id:"soporte",label:"Soporte",icon:rz},{id:"configuracion",label:"Configuración",icon:Ap}].map(ve=>i.jsxs("button",{onClick:()=>{n(ve.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===ve.id?"bg-blue-100 text-blue-600 border border-blue-300":Oe==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===ve.id?"page":void 0,children:[i.jsx(ve.icon,{className:"text-lg"}),i.jsx("span",{children:ve.label})]},ve.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:()=>{be(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${Oe==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[i.jsx(bu,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsxs("header",{className:`${Oe==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Z.img,{src:ec,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${Oe==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:Se,onChange:ve=>Ie(ve.target.value),className:`w-full py-2.5 px-5 ${Oe==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:ve=>ve.key==="Enter"&&n("pedidos")}),i.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${Oe==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:i.jsx(yu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[i.jsx("button",{onClick:At,className:`p-2 rounded-full ${Oe==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${Oe==="dark"?"light":"dark"} theme`,children:Oe==="dark"?i.jsx(Jl,{size:20}):i.jsx(Ql,{size:20})}),i.jsxs("button",{onClick:()=>$t(!0),className:`p-2 rounded-full relative ${Oe==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${Gt.length} new)`,children:[i.jsx(Ll,{size:20}),Gt.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:Gt.length})]}),i.jsx("button",{className:`lg:hidden p-2 rounded-full ${Oe==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:i.jsx(Sm,{size:20,className:Oe==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:i.jsx("div",{className:"relative",children:i.jsxs("button",{className:`flex items-center space-x-2 ${Oe==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:s.charAt(0).toUpperCase()}),i.jsx("span",{className:`text-sm font-semibold ${Oe==="dark"?"text-gray-200":"text-gray-800"}`,children:s})]})})})]})]}),i.jsx(Vt,{children:pr&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>$t(!1),role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${Oe==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${Oe==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:ve=>ve.stopPropagation(),children:[i.jsx("button",{onClick:()=>$t(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:i.jsx(Vn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${Oe==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),Gt.length>0?Gt.map(ve=>i.jsxs("div",{className:`p-4 mb-2 rounded-md ${Oe==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${Oe==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[i.jsx("h3",{className:`font-semibold ${Oe==="dark"?"text-gray-200":"text-gray-800"}`,children:ve.title||"Nueva Notificación"}),i.jsx("p",{className:`text-sm ${Oe==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:ve.message}),ve.roles&&ve.roles.length>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",ve.roles.join(", ")]}),ve.timestamp&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ir(ve.timestamp)})]},ve.id)):i.jsx("p",{className:`text-center ${Oe==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),i.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:xn()}),i.jsxs("footer",{className:`${Oe==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${Oe==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),i.jsxs("p",{className:`text-base sm:text-lg ${Oe==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[i.jsx("a",{href:"https://twitter.com",className:`${Oe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:i.jsx(Yl,{size:28})}),i.jsx("a",{href:"https://instagram.com",className:`${Oe==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:i.jsx(Xl,{size:28})}),i.jsx("a",{href:"https://facebook.com",className:`${Oe==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:i.jsx(Kl,{size:28})})]}),i.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[i.jsx("a",{href:"#",className:`text-sm ${Oe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),i.jsx("a",{href:"#",className:`text-sm ${Oe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),i.jsx("a",{href:"#",className:`text-sm ${Oe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),i.jsxs("p",{className:`text-sm ${Oe==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),i.jsx(Vt,{children:Mt&&i.jsx(Z.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:wt,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:i.jsx(Nm,{size:20})})}),i.jsx(eJ,{isOpen:_e.isOpen,title:_e.title,message:_e.message,onClose:gt}),i.jsx(aJ,{editModalOpen:R,setEditModalOpen:F,selectedProduct:S,setSelectedProduct:C,editError:W,setEditError:M,handleFileChange:Ze,handleEditStockChange:Nt,handleEditAccountFieldChange:ot,handleUpdateProduct:Kt}),i.jsx(iJ,{editOrderModalOpen:Be,setEditOrderModalOpen:Ae,selectedOrder:Pe,handleOrderAccountChange:et,editOrderError:yt,setEditOrderError:Wt,handleUpdateOrder:Mr}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};KA.propTypes={};const cJ=()=>{const[t,e]=T.useState(""),[r,n]=T.useState(""),[s,a]=T.useState(0),[o,u]=T.useState([]),[d,h]=T.useState([]),[p,g]=T.useState([]),[y,v]=T.useState([]),[k,w]=T.useState([]),[E,D]=T.useState(0),[I,U]=T.useState({day:0,week:0,month:0,total:0}),[O,X]=T.useState(!0),[B,A]=T.useState(null),[S,C]=T.useState("dark"),R=La();T.useEffect(()=>{const M=Gl(en,Se=>{Se?(n(Se.email||"No especificado"),F(Se.uid),X(!1)):R("/login")});return()=>M()},[R]);const F=async M=>{try{const Se=ht(je,"users",M),Ie=await Za(Se);if(Ie.exists()){const $e=Ie.data();e($e.username||$e.email.split("@")[0])}else A("Usuario no encontrado en la base de datos")}catch(Se){console.error("Error al obtener el nombre de usuario:",Se),A("Error al cargar datos del usuario")}},W=M=>{const Ie=M*5,$e=Ie*.25,Le=Ie*.05;U({day:Le,week:$e,month:Ie,total:Ie})};return T.useEffect(()=>{(async()=>{try{const ie=await tn(kt(je,"users")),de=ie.size,se=ie.docs.map(it=>({id:it.id,...it.data()}));a(de),u(se.slice(-5)),W(de);const V=tr(kt(je,"pendingRegistrations"),vr("status","==","pending")),te=await tn(V);h(te.docs.map(it=>({id:it.id,...it.data()})));const re=tr(kt(je,"pendingTopUps"),vr("status","==","pendiente")),ne=await tn(re);g(ne.docs.map(it=>({id:it.id,...it.data()})));const ee=tr(kt(je,"withdrawals"),vr("status","==","pending")),Fe=await tn(ee);v(Fe.docs.map(it=>({id:it.id,...it.data()})));const Ae=(await tn(kt(je,"sales"))).docs.map(it=>({id:it.id,...it.data()}));w(Ae);const Pe=Ae.reduce((it,yt)=>it+(parseFloat(yt.price)||0),0);D(Pe)}catch(ie){console.error("Error al obtener datos:",ie),A("Error al cargar datos")}})();const Se=hr(kt(je,"users"),ie=>{const de=ie.size,se=ie.docs.map(V=>({id:V.id,...V.data()}));a(de),u(se.slice(-5)),W(de)}),Ie=hr(tr(kt(je,"pendingRegistrations"),vr("status","==","pending")),ie=>{h(ie.docs.map(de=>({id:de.id,...de.data()})))}),$e=hr(tr(kt(je,"pendingTopUps"),vr("status","==","pendiente")),ie=>{g(ie.docs.map(de=>({id:de.id,...de.data()})))}),Le=hr(tr(kt(je,"withdrawals"),vr("status","==","pending")),ie=>{v(ie.docs.map(de=>({id:de.id,...de.data()})))}),_e=hr(kt(je,"sales"),ie=>{const de=ie.docs.map(V=>({id:V.id,...V.data()}));w(de);const se=de.reduce((V,te)=>V+(parseFloat(te.price)||0),0);D(se)});return()=>{Se(),Ie(),$e(),Le(),_e()}},[]),O?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):B?i.jsxs("div",{className:`bg-${S==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${S==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ml,{className:"mx-auto text-4xl text-blue-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${S==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${S==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:B}),i.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):i.jsxs("div",{className:`bg-${S==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${S==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h2",{className:`text-2xl sm:text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Bienvenido a BlackStreaming,"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:t})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[i.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[i.jsx(wu,{className:"mr-2"})," Total Usuarios"]}),i.jsx("p",{className:`text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"}`,children:s}),i.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>R("/usuarios"),children:"Ver usuarios"})]}),i.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[i.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[i.jsx(vu,{className:"mr-2"})," Total Ventas"]}),i.jsxs("p",{className:`text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",E.toFixed(2)]}),i.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>R("/pedidos"),children:"Ver ventas"})]}),i.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[i.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[i.jsx(ai,{className:"mr-2"})," Ganancias del Mes"]}),i.jsxs("p",{className:`text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",I.month.toFixed(2)]}),i.jsx("p",{className:`text-sm ${S==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:"(5 soles por usuario)"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[i.jsx("h3",{className:`text-lg font-semibold ${S==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Últimos Usuarios"}),o.length>0?o.map(M=>i.jsxs("div",{className:`border-b ${S==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${S==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:`font-medium ${S==="dark"?"text-white":"text-gray-900"}`,children:M.username||"Sin nombre"}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${S==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:M.role||"usuario"})]}),i.jsx("p",{className:`text-sm ${S==="dark"?"text-gray-400":"text-gray-600"}`,children:M.email})]},M.id)):i.jsx("p",{className:`text-${S==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay usuarios registrados"})]}),i.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[i.jsx("h3",{className:`text-lg font-semibold ${S==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Solicitudes Pendientes"}),d.length>0?d.slice(0,3).map(M=>i.jsxs("div",{className:`border-b ${S==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${S==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:`font-medium ${S==="dark"?"text-white":"text-gray-900"}`,children:M.username||"Sin nombre"}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${S==="dark"?"bg-purple-900/80 text-purple-400":"bg-purple-100/80 text-purple-600"}`,children:M.role||"usuario"})]}),i.jsx("p",{className:`text-sm ${S==="dark"?"text-gray-400":"text-gray-600"}`,children:M.email})]},M.id)):i.jsx("p",{className:`text-${S==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay solicitudes pendientes"})]}),i.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[i.jsx("h3",{className:`text-lg font-semibold ${S==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Retiros Pendientes"}),y.length>0?y.slice(0,3).map(M=>i.jsxs("div",{className:`border-b ${S==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${S==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:`font-medium ${S==="dark"?"text-white":"text-gray-900"}`,children:M.provider||"Sin proveedor"}),i.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${S==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600"}`,children:["S/ ",(M.amount||0).toFixed(2)]})]}),i.jsxs("p",{className:`text-sm ${S==="dark"?"text-gray-400":"text-gray-600"}`,children:["Método: ",M.method||"No especificado"]})]},M.id)):i.jsx("p",{className:`text-${S==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay retiros pendientes"})]})]})]})},uJ=({notificationForm:t={message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}},setNotificationForm:e=()=>{},theme:r="dark"})=>{const[n,s]=T.useState(""),[a,o]=T.useState(""),[u,d]=T.useState(!1),h=t.roles||{user:!1,affiliate:!1,provider:!1,admin:!1},p=Object.values(h).some(y=>y),g=T.useCallback(async y=>{if(y.preventDefault(),!p){s("Selecciona al menos un rol para enviar la notificación");return}if(!t.message.trim()){s("El mensaje de la notificación no puede estar vacío");return}s(""),o(""),d(!0);try{await Ro(kt(je,"notifications"),{message:t.message.trim(),roles:{user:h.user,affiliate:h.affiliate,provider:h.provider,admin:h.admin},createdAt:br()}),e({message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}}),o("Notificación enviada exitosamente")}catch(v){s("Error al enviar la notificación. Por favor, intenta de nuevo."),console.error("Error sending notification:",v)}finally{d(!1)}},[t,h,e]);return i.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Enviar Notificación -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsxs(Vt,{children:[n&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:n}),a&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:a})]}),i.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Mensaje de la Notificación"}),i.jsx("textarea",{value:t.message||"",onChange:y=>e({...t,message:y.target.value}),className:`w-full px-4 py-2 rounded-xl ${r==="dark"?"bg-gray-800/50 text-gray-200 border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-800 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all resize-y`,rows:"5",placeholder:"Escribe el mensaje para los usuarios...",required:!0,"aria-label":"Mensaje de la notificación"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Enviar a los siguientes roles"}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:["user","affiliate","provider","admin"].map(y=>i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:h[y]||!1,onChange:v=>e({...t,roles:{...h,[y]:v.target.checked}}),className:`h-4 w-4 ${r==="dark"?"text-blue-400 focus:ring-blue-400 border-gray-600":"text-blue-600 focus:ring-blue-600 border-gray-300"} rounded`,"aria-label":`Enviar a rol ${y}`}),i.jsx("span",{className:`text-sm capitalize ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:y})]},y))})]}),i.jsx(Z.button,{type:"submit",disabled:u||!p,className:`w-full py-3 px-4 ${u||!p?r==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Enviar notificación",whileHover:{scale:u||!p?1:1.05},whileTap:{scale:u||!p?1:.95},children:u?i.jsx(Z.div,{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}):"Enviar Notificación"}),!p&&i.jsx("p",{className:`text-sm text-center ${r==="dark"?"text-blue-400":"text-blue-600"}`,children:"Selecciona al menos un rol para enviar la notificación"})]})]})},XA=[{value:"user",label:"Usuario"},{value:"affiliate",label:"Afiliador"},{value:"provider",label:"Proveedor"},{value:"admin",label:"Administrador"}],dJ=t=>{const e=XA.find(r=>r.value===t);return e?e.label:t},YA=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:a})=>{const[o,u]=T.useState(e?.balance||0),[d,h]=T.useState("");T.useEffect(()=>{u(e?.balance||0),h("")},[e]);const p=g=>{if(g.preventDefault(),h(""),isNaN(o)||o<0){h("Por favor, ingrese un saldo válido (número no negativo).");return}n(e.id,parseFloat(o))};return!t||!e?null:i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${a==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${a==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${a==="dark"?"text-white":"text-gray-900"}`,children:["Editar Saldo de ",e.username]}),i.jsx("button",{onClick:r,className:`${a==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),i.jsxs("form",{onSubmit:p,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block text-sm font-medium ${a==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Saldo (S/)"}),i.jsx("input",{type:"number",value:o,onChange:g=>u(g.target.value),className:`w-full px-4 py-2 rounded-xl ${a==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,min:"0",step:"0.01",required:!0,"aria-label":"Nuevo saldo"}),d&&i.jsx("p",{className:`text-sm mt-2 ${a==="dark"?"text-blue-400":"text-blue-600"}`,children:d})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${a==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?a==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar saldo",children:s?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};YA.propTypes={isOpen:G.bool.isRequired,user:G.object,onClose:G.func.isRequired,onSave:G.func.isRequired,loading:G.bool,theme:G.oneOf(["dark","light"])};const QA=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:a})=>{const[o,u]=T.useState(e?.role||"user");return T.useEffect(()=>{u(e?.role||"user")},[e]),!t||!e?null:i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${a==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${a==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${a==="dark"?"text-white":"text-gray-900"}`,children:["Cambiar Rol de ",e.username]}),i.jsx("button",{onClick:r,className:`${a==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),i.jsxs("form",{onSubmit:d=>{d.preventDefault(),n(e.id,o)},children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block text-sm font-medium ${a==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Rol"}),i.jsx("select",{value:o,onChange:d=>u(d.target.value),className:`w-full px-4 py-2 rounded-xl ${a==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,"aria-label":"Seleccionar nuevo rol",children:XA.map(d=>i.jsx("option",{value:d.value,children:d.label},d.value))})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${a==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?a==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar rol",children:s?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};QA.propTypes={isOpen:G.bool.isRequired,user:G.object,onClose:G.func.isRequired,onSave:G.func.isRequired,loading:G.bool,theme:G.oneOf(["dark","light"])};const JA=({theme:t="dark"})=>{const[e,r]=T.useState([]),[n,s]=T.useState(""),[a,o]=T.useState({isOpen:!1,user:null}),[u,d]=T.useState({isOpen:!1,user:null}),[h,p]=T.useState(!0),[g,y]=T.useState({}),[v,k]=T.useState(null);T.useEffect(()=>{(async()=>{p(!0);try{const S=await tn(kt(je,"users")),C=await Promise.all(S.docs.map(async R=>{const F={id:R.id,...R.data()},W=tr(kt(je,"sales"),vr("userId","==",R.id)),M=await tn(W);return{...F,orderCount:M.size}}));r(C)}catch(S){k("No se pudieron obtener los usuarios: "+S.message)}p(!1)})()},[]);const w=A=>o({isOpen:!0,user:A}),E=()=>o({isOpen:!1,user:null}),D=A=>d({isOpen:!0,user:A}),I=()=>d({isOpen:!1,user:null}),U=async(A,S)=>{y(C=>({...C,[`balance_${A}`]:!0}));try{const C=ht(je,"users",A);await Xr(C,{balance:S}),r(R=>R.map(F=>F.id===A?{...F,balance:S}:F)),E()}catch(C){k("Error al actualizar saldo: "+C.message)}y(C=>({...C,[`balance_${A}`]:!1}))},O=async(A,S)=>{y(C=>({...C,[`role_${A}`]:!0}));try{const C=ht(je,"users",A);await Xr(C,{role:S}),r(R=>R.map(F=>F.id===A?{...F,role:S}:F)),I()}catch(C){k("Error al actualizar rol: "+C.message)}y(C=>({...C,[`role_${A}`]:!1}))},X=async(A,S)=>{y(C=>({...C,[`status_${A}`]:!0}));try{const C=ht(je,"users",A),R=S==="suspended"?"active":"suspended";await Xr(C,{status:R}),r(F=>F.map(W=>W.id===A?{...W,status:R}:W))}catch(C){k("Error al cambiar estado: "+C.message)}y(C=>({...C,[`status_${A}`]:!1}))},B=async A=>{y(S=>({...S,[`delete_${A}`]:!0}));try{const S=ht(je,"users",A);await Ai(S),r(C=>C.filter(R=>R.id!==A))}catch(S){k("Error al eliminar usuario: "+S.message)}y(S=>({...S,[`delete_${A}`]:!1}))};return i.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:`bg-${t==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${t==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${t==="dark"?"text-white":"text-gray-900"}`,children:["Lista de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Usuarios"})," ","(",e.length,")"]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:`px-4 py-2 rounded-xl ${t==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400 placeholder-gray-500":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600 placeholder-gray-400"} focus:ring-2 transition-all text-sm`,value:n,onChange:A=>s(A.target.value),"aria-label":"Buscar usuarios"}),i.jsx(yu,{className:`absolute right-3 top-2.5 ${t==="dark"?"text-blue-400":"text-blue-600"}`})]})]}),h?i.jsx("div",{className:"flex justify-center items-center h-40",children:i.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 ${t==="dark"?"border-blue-500":"border-blue-600"}`})}):v?i.jsx("div",{className:`text-center py-4 ${t==="dark"?"text-blue-400":"text-blue-600"}`,children:v}):e.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${t==="dark"?"bg-gray-800/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx($l,{})," Usuario"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(xu,{})," Email"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(wu,{})," Rol"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(ai,{})," Saldo"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Órdenes"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),i.jsx("tbody",{className:`${t==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:e.filter(A=>(A.username||"").toLowerCase().includes(n.toLowerCase())||(A.email||"").toLowerCase().includes(n.toLowerCase())).map(A=>i.jsxs("tr",{className:`${A.status==="suspended"?t==="dark"?"bg-red-900/20":"bg-red-100/50":""} hover:bg-${t==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:A.username||"Sin nombre"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:A.email}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:dJ(A.role)}),i.jsx("button",{onClick:()=>D(A),disabled:g[`role_${A.id}`],className:`ml-2 p-1 ${t==="dark"?"bg-blue-700 hover:bg-blue-800 text-blue-200 disabled:bg-blue-900":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Rol","aria-label":`Editar rol de ${A.username}`,children:i.jsx(rT,{size:14})})]}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(A.balance||0).toFixed(2)]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:A.orderCount||0}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap flex space-x-2",children:[i.jsx("button",{onClick:()=>w(A),disabled:g[`balance_${A.id}`],className:`p-2 ${t==="dark"?"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-800":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Saldo","aria-label":`Editar saldo de ${A.username}`,children:i.jsx(rT,{size:16})}),i.jsx("button",{onClick:()=>X(A.id,A.status),disabled:g[`status_${A.id}`],className:`p-2 ${A.status==="suspended"?t==="dark"?"bg-green-600 hover:bg-green-700 text-white disabled:bg-green-800":"bg-green-500 hover:bg-green-600 text-white disabled:bg-green-300":t==="dark"?"bg-yellow-600 hover:bg-yellow-700 text-white disabled:bg-yellow-800":"bg-yellow-500 hover:bg-yellow-600 text-white disabled:bg-yellow-300"} rounded-xl transition-all duration-300`,title:A.status==="suspended"?"Activar Cuenta":"Suspender Cuenta","aria-label":A.status==="suspended"?`Activar cuenta de ${A.username}`:`Suspender cuenta de ${A.username}`,children:A.status==="suspended"?i.jsx(YU,{size:16}):i.jsx(GU,{size:16})}),i.jsx("button",{onClick:()=>B(A.id),disabled:g[`delete_${A.id}`],className:`p-2 ${t==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Cuenta","aria-label":`Eliminar cuenta de ${A.username}`,children:i.jsx(rb,{size:16})})]})]},A.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(wu,{className:`mx-auto text-4xl ${t==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${t==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay usuarios registrados"})]})]}),i.jsx(YA,{isOpen:a.isOpen,user:a.user,onClose:E,onSave:U,loading:g[`balance_${a.user?.id}`],theme:t}),i.jsx(QA,{isOpen:u.isOpen,user:u.user,onClose:I,onSave:O,loading:g[`role_${u.user?.id}`],theme:t})]})};JA.propTypes={theme:G.oneOf(["dark","light"])};const ZA=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Vn,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null;ZA.propTypes={isOpen:G.bool.isRequired,message:G.string.isRequired,title:G.string.isRequired,onClose:G.func.isRequired};const eC=({formatDate:t=r=>{if(!r)return"No especificada";try{const n=r.toDate?r.toDate():new Date(r);return isNaN(n.getTime())?"Fecha inválida":n.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},theme:e="dark"})=>{const[r,n]=T.useState([]),[s,a]=T.useState([]),[o,u]=T.useState({}),[d,h]=T.useState({isOpen:!1,message:"",title:""}),p=(k,w)=>{h({isOpen:!0,title:k,message:w})},g=()=>{h({isOpen:!1,message:"",title:""})};T.useEffect(()=>{const k=hr(tr(kt(je,"pendingTopUps"),vr("status","==","pendiente")),E=>{n(E.docs.map(D=>({id:D.id,...D.data()})))}),w=hr(kt(je,"topUpsHistory"),E=>{a(E.docs.map(D=>({id:D.id,...D.data()})))});return()=>{k(),w()}},[]);const y=async k=>{try{u(I=>({...I,[k]:!0}));const w=ht(je,"pendingTopUps",k),E=r.find(I=>I.id===k);if(!E?.userId)throw new Error("Usuario no encontrado para la recarga");await Xr(w,{status:"aprobado",updatedAt:br()});const D=ht(je,"users",E.userId);await Xr(D,{balance:eO(E.amount||0)}),await ci(ht(je,"topUpsHistory",k),{...E,status:"aprobado",updatedAt:br()}),p("Éxito","Recarga aprobada exitosamente")}catch(w){console.error("Error al aprobar recarga:",w),p("Error",w.message||"Error al aprobar la recarga")}finally{u(w=>({...w,[k]:!1}))}},v=async k=>{try{u(D=>({...D,[k]:!0}));const w=ht(je,"pendingTopUps",k);await Xr(w,{status:"rechazado",updatedAt:br()});const E=r.find(D=>D.id===k);await ci(ht(je,"topUpsHistory",k),{...E,status:"rechazado",updatedAt:br()}),p("Éxito","Recarga rechazada exitosamente")}catch(w){console.error("Error al rechazar recarga:",w),p("Error",w.message||"Error al rechazar la recarga")}finally{u(w=>({...w,[k]:!1}))}};return i.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Recargas"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pendientes - BlackStreaming"})]}),Array.isArray(r)&&r.length>0?i.jsx("div",{className:"space-y-4",children:r.map(k=>i.jsxs("div",{className:`border ${e==="dark"?"border-gray-600/50":"border-gray-300"} rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300`,children:[i.jsxs("div",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm px-4 py-3 border-b ${e==="dark"?"border-gray-600/50":"border-gray-300"} flex justify-between items-center`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-10 h-10 ${e==="dark"?"bg-blue-900/80":"bg-blue-100/80"} rounded-full flex items-center justify-center ${e==="dark"?"text-blue-400":"text-blue-600"}`,children:i.jsx(ai,{size:18})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${e==="dark"?"text-white":"text-gray-900"}`,children:k.username||"Sin nombre"}),i.jsxs("p",{className:`text-xs ${e==="dark"?"text-gray-400":"text-gray-600"}`,children:["Solicitado: ",t(k.requestedAt)]})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:`text-lg font-medium ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(k.amount||0).toFixed(2)]})})]}),i.jsx("div",{className:`p-4 ${e==="dark"?"bg-gray-700/50":"bg-gray-50"} backdrop-blur-sm`,children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("button",{onClick:()=>y(k.id),disabled:o[k.id],className:`flex-1 ${e==="dark"?"bg-green-600 hover:bg-green-700 disabled:bg-green-800":"bg-green-500 hover:bg-green-600 disabled:bg-green-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Aprobar recarga de ${k.username}`,children:o[k.id]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(QU,{size:18})," Aprobar Recarga"]})}),i.jsx("button",{onClick:()=>v(k.id),disabled:o[k.id],className:`flex-1 ${e==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Rechazar recarga de ${k.username}`,children:o[k.id]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(Vn,{size:18})," Rechazar Recarga"]})})]})})]},k.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ai,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("h4",{className:`text-lg font-medium ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay recargas pendientes"}),i.jsx("p",{className:`${e==="dark"?"text-gray-400":"text-gray-500"}`,children:"Todas las solicitudes han sido procesadas"})]})]}),i.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Recargas - BlackStreaming"})]}),Array.isArray(s)&&s.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),i.jsx("tbody",{className:`${e==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:s.map(k=>i.jsxs("tr",{className:`hover:bg-${e==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:k.username||"Sin nombre"}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(k.amount||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k.status==="aprobado"?e==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":e==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:k.status||"Desconocido"})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:t(k.updatedAt)})]},k.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ai,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay historial de recargas"})]})]}),i.jsx(ZA,{isOpen:d.isOpen,title:d.title,message:d.message,onClose:g})]})};eC.propTypes={formatDate:G.func,theme:G.oneOf(["dark","light"])};const hJ=({withdrawals:t,formatDate:e,actionLoading:r,setActionLoading:n,showNotificationModal:s})=>{const a=async(o,u)=>{try{n(h=>({...h,[o]:!0}));const d=ht(je,"withdrawals",o);await Xr(d,{status:u==="approve"?"completed":"rejected",updatedAt:br()}),s("Éxito",`Retiro ${u==="approve"?"aprobado":"rechazado"} exitosamente`)}catch(d){s("Error",d.message||`Error al ${u==="approve"?"aprobar":"rechazar"} el retiro`)}finally{n(d=>({...d,[o]:!1}))}};return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Retiros ",i.jsx("span",{className:"text-red-400",children:"Pendientes"})]}),t.length===0?i.jsxs("div",{className:"text-center text-gray-300 py-8",children:[i.jsx(Us,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("p",{children:"No hay retiros pendientes"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-gray-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-600/50",children:[i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Usuario"}),i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Monto"}),i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Fecha"}),i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Acciones"})]})}),i.jsx("tbody",{children:t.map(o=>i.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-all duration-300",children:[i.jsx("td",{className:"py-3 px-4",children:o.userEmail||"No especificado"}),i.jsxs("td",{className:"py-3 px-4",children:["S/ ",o.amount?.toFixed(2)||"0.00"]}),i.jsx("td",{className:"py-3 px-4",children:e(o.createdAt)}),i.jsxs("td",{className:"py-3 px-4 flex space-x-2",children:[i.jsxs("button",{onClick:()=>a(o.id,"approve"),disabled:r[o.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[o.id]?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-600"}`,children:[i.jsx(oz,{}),i.jsx("span",{children:"Aprobar"})]}),i.jsxs("button",{onClick:()=>a(o.id,"reject"),disabled:r[o.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[o.id]?"bg-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,children:[i.jsx(Ws,{}),i.jsx("span",{children:"Rechazar"})]})]})]},o.id))})]})})]})},tC=({sales:t=[],totalSales:e=0,formatDate:r=a=>"No especificada",getOrderStatus:n=()=>"Desconocido",theme:s="dark"})=>{const[a,o]=T.useState({}),[u,d]=T.useState(null),h=async p=>{o(g=>({...g,[`delete_${p}`]:!0}));try{const g=ht(je,"sales",p);await Ai(g),window.dispatchEvent(new CustomEvent("saleDeleted",{detail:{saleId:p}}))}catch(g){d("Error al eliminar pedido: "+g.message)}o(g=>({...g,[`delete_${p}`]:!1}))};return i.jsxs("div",{className:`bg-${s==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${s==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Ventas"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"General - BlackStreaming"})]}),i.jsxs("div",{className:`${s==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-6 text-center mb-6 border ${s==="dark"?"border-gray-600/50":"border-gray-300"}`,children:[i.jsx("h4",{className:`text-lg font-semibold ${s==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Total Ventas"}),i.jsxs("p",{className:`text-3xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",e.toFixed(2)]}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-600"} mt-2`,children:"Suma de todos los pedidos realizados"})]}),i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${s==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pedidos - BlackStreaming"})]}),u&&i.jsx("div",{className:`text-center py-4 ${s==="dark"?"text-blue-400":"text-blue-600"}`,children:u}),t.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${s==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Nombre del Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Precio"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Proveedor"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario Comprador"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),i.jsx("tbody",{className:`${s==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:t.map(p=>i.jsxs("tr",{className:`hover:bg-${s==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-white":"text-gray-900"}`,children:p.productName||"Sin nombre"}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(p.price||0).toFixed(2)]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:p.provider||"Sin proveedor"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:p.buyerName||"Sin comprador"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:r(p.createdAt)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n(p)==="Pendiente"?s==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600":n(p)==="Activo"?s==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":s==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:n(p)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("button",{onClick:()=>h(p.id),disabled:a[`delete_${p.id}`],className:`p-2 ${s==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Pedido","aria-label":`Eliminar pedido ${p.productName||"sin nombre"}`,children:a[`delete_${p.id}`]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsx(rb,{size:16})})})]},p.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(vu,{className:`mx-auto text-4xl ${s==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${s==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay pedidos registrados"})]})]})};tC.propTypes={sales:G.array,totalSales:G.number,formatDate:G.func,getOrderStatus:G.func,theme:G.oneOf(["dark","light"])};const rC=({earnings:t={day:0,week:0,month:0,total:0},totalUsers:e=0,theme:r="dark"})=>i.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Ganancias -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Id,{className:"mr-2","aria-hidden":"true"})," Ganancias Diarias"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias diarias",children:["S/ ",(t.day||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por día"})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Id,{className:"mr-2","aria-hidden":"true"})," Ganancias Semanales"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias semanales",children:["S/ ",(t.week||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por semana"})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Id,{className:"mr-2","aria-hidden":"true"})," Ganancias Mensuales"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias mensuales",children:["S/ ",(t.month||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por mes"})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Id,{className:"mr-2","aria-hidden":"true"})," Ganancias Totales"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias totales",children:["S/ ",(t.total||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Total acumulado"})]})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsx("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Resumen"}),i.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"}`,children:["Total de usuarios registrados:"," ",i.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Total de usuarios registrados",children:e})]}),i.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:["Ganancia por usuario:"," ",i.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancia por usuario",children:"S/ 5.00"})]}),i.jsx("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Las ganancias se calculan asumiendo S/ 5.00 por cada usuario registrado. Las estimaciones diarias y semanales son proporciones del total (5% y 25%, respectivamente)."})]})]});rC.propTypes={earnings:G.shape({day:G.number,week:G.number,month:G.number,total:G.number}),totalUsers:G.number,theme:G.oneOf(["dark","light"])};const nC=({userName:t="",setUserName:e=()=>{},email:r="",handleSaveChanges:n=()=>{},handleLogout:s=()=>{},actionLoading:a={},theme:o="dark"})=>i.jsxs("div",{className:`bg-${o==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${o==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${o==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Configuración -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsxs("form",{onSubmit:n,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${o==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[i.jsx($l,{className:`mr-2 ${o==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nombre de usuario"]}),i.jsx("input",{type:"text",value:t,onChange:u=>e(u.target.value),className:`w-full px-4 py-2 rounded-xl ${o==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa tu nombre de usuario",required:!0,"aria-label":"Nombre de usuario"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${o==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[i.jsx(xu,{className:`mr-2 ${o==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Correo electrónico"]}),i.jsx("input",{type:"email",value:r,disabled:!0,className:`w-full px-4 py-2 rounded-xl ${o==="dark"?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-100 text-gray-500 border-gray-300"} cursor-not-allowed`,"aria-label":"Correo electrónico (solo lectura)"}),i.jsx("p",{className:`text-sm ${o==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"El correo no puede ser modificado."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${o==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[i.jsx(tb,{className:`mr-2 ${o==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nueva contraseña (opcional)"]}),i.jsx("input",{type:"password",name:"password",className:`w-full px-4 py-2 rounded-xl ${o==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa una nueva contraseña","aria-label":"Nueva contraseña"}),i.jsx("p",{className:`text-sm ${o==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"Mínimo 6 caracteres. Déjalo en blanco para no cambiarla."})]}),i.jsx("button",{type:"submit",disabled:a.config,className:`w-full py-3 px-4 ${o==="dark"?"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-800":"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Guardar cambios",children:a.config?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar Cambios"})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("button",{onClick:s,className:`w-full py-3 px-4 ${o==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white rounded-xl font-medium transition-all duration-300 flex items-center justify-center gap-2`,"aria-label":"Cerrar sesión",children:[i.jsx(bu,{size:18})," Cerrar Sesión"]})})]});nC.propTypes={userName:G.string,setUserName:G.func,email:G.string,handleSaveChanges:G.func,handleLogout:G.func,actionLoading:G.object,theme:G.oneOf(["dark","light"])};const sC=({isOpen:t,message:e,title:r,onClose:n,theme:s="dark"})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${s==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${s==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:[r||"Notificación"," -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:n,className:`${s==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar notificación",children:i.jsx(Vn,{size:20})})]}),i.jsx("p",{className:`mb-6 ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:e||"No se proporcionó ningún mensaje."}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:`px-4 py-2 ${s==="dark"?"bg-blue-500 hover:bg-blue-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Aceptar notificación",children:"Aceptar"})})]})})}):null;sC.propTypes={isOpen:G.bool.isRequired,message:G.string,title:G.string,onClose:G.func.isRequired,theme:G.oneOf(["dark","light"])};const fJ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[s,a]=T.useState(e?.balance||0),[o,u]=T.useState(""),d=h=>{if(h.preventDefault(),u(""),isNaN(s)||s<0){u("Por favor, ingrese un saldo válido (número no negativo).");return}n(e.id,parseFloat(s))};return t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold text-white",children:["Editar Saldo de ",e.username]}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Ws,{size:20})})]}),i.jsxs("form",{onSubmit:d,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Saldo (S/)"}),i.jsx("input",{type:"number",value:s,onChange:h=>a(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"0",step:"0.01",required:!0}),o&&i.jsx("p",{className:"text-red-400 text-sm mt-2",children:o})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},aC=({theme:t,products:e,loadingProducts:r,searchQuery:n,setSearchQuery:s,handleDeleteProduct:a})=>{const o=t==="dark",u=e.filter(d=>d.name?.toLowerCase().includes(n.toLowerCase())||d.category?.toLowerCase().includes(n.toLowerCase()));return r?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-6xl mx-auto border ${o?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[i.jsx("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${o?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Gestión de Productos"}),i.jsx("div",{className:"relative w-full sm:w-64 mt-4 sm:mt-0",children:i.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:d=>s(d.target.value),className:`w-full px-3 py-2 rounded-xl ${o?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 text-sm placeholder-gray-500`,"aria-label":"Search products"})})]}),u.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`backdrop-blur-sm ${o?"bg-gray-900/80":"bg-gray-200/80"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Imagen"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Nombre"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Categoría"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Tipo"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Proveedor"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Stock"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Precio"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),i.jsx("tbody",{className:`divide-y divide-gray-700/50 ${o?"bg-gray-800/70":"bg-gray-100/70"}`,children:u.map((d,h)=>i.jsxs("tr",{className:"hover:bg-blue-500/10 transition-all duration-300",children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:d.image?i.jsx("img",{src:d.image,alt:d.name,className:"h-12 w-12 rounded-lg object-cover",loading:"lazy"}):i.jsx("div",{className:"h-12 w-12 bg-gray-300 rounded-lg flex items-center justify-center",children:i.jsx(Xy,{className:"text-gray-500",size:20})})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${o?"text-white":"text-gray-900"}`,children:d.name||"Sin nombre"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.category||"Sin categoría"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.accountType||"N/A"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.provider||"Sin proveedor"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${d.status==="En stock"?"bg-green-500/20 text-green-400 border-green-500/50":d.status==="A pedido"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"bg-red-500/20 text-red-400 border-red-500/50"} border`,children:d.status||"Desconocido"})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.stock!=null?d.stock:"0"}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-white":"text-gray-900"}`,children:["S/ ",parseFloat(d.price||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.jsx("button",{onClick:()=>a(d.id),className:`p-2 rounded-full ${o?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-red-100 text-red-600 hover:bg-red-200"} transition-all duration-300`,title:"Eliminar producto","aria-label":`Eliminar producto ${d.name}`,children:i.jsx(rb,{size:14})})})]},d.id||h))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Xy,{className:`mx-auto text-4xl ${o?"text-gray-400":"text-gray-500"} mb-3`}),i.jsx("h4",{className:`text-lg font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"No hay productos registrados"}),i.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:"Los productos aparecerán aquí cuando los agregues."})]})]})};aC.propTypes={theme:G.string.isRequired,products:G.array.isRequired,loadingProducts:G.bool.isRequired,searchQuery:G.string.isRequired,setSearchQuery:G.func.isRequired,handleDeleteProduct:G.func.isRequired};const pJ=ja.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>i.jsx(Vt,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(Vn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));pJ.propTypes={show:G.bool.isRequired,onClose:G.func.isRequired,title:G.string.isRequired,message:G.string.isRequired,theme:G.string.isRequired};const iC=()=>{const[t,e]=T.useState(!1),[r,n]=T.useState("inicio"),[s,a]=T.useState(""),[o,u]=T.useState(""),[d,h]=T.useState([]),[p,g]=T.useState([]),[y,v]=T.useState([]),[k,w]=T.useState([]),[E,D]=T.useState([]),[I,U]=T.useState([]),[O,X]=T.useState(0),[B,A]=T.useState(0),[S,C]=T.useState(0),[R,F]=T.useState(0),[W,M]=T.useState({day:0,week:0,month:0,total:0}),[Se,Ie]=T.useState(!0),[$e,Le]=T.useState(!0),[_e,ie]=T.useState(null),[de,se]=T.useState({}),[V,te]=T.useState({isOpen:!1,message:"",title:""}),[re,ne]=T.useState({isOpen:!1,user:null}),[ee,Fe]=T.useState("dark"),[Be,Ae]=T.useState(!1),[Pe,it]=T.useState(!1),[yt,Wt]=T.useState(""),[Oe,fr]=T.useState(""),Mt=La(),Re=T.useCallback(()=>{Fe(Q=>Q==="dark"?"light":"dark")},[]),pr=T.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),$t=T.useCallback((Q,Te)=>{te({isOpen:!0,title:Q,message:Te})},[]),Gt=T.useCallback(()=>{te({isOpen:!1,message:"",title:""})},[]),le=T.useCallback(Q=>{ne({isOpen:!0,user:Q})},[]),Ye=T.useCallback(()=>{ne({isOpen:!1,user:null})},[]),ct=T.useCallback(Q=>{if(!Q)return"No especificada";try{const Te=Q instanceof Date?Q:new Date(Q);return isNaN(Te.getTime())?"Fecha inválida":Te.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},[]),ut=T.useCallback(async Q=>{if(window.confirm("¿Estás seguro de que quieres eliminar este producto?"))try{se(Te=>({...Te,deleteProduct:!0})),await Ai(ht(je,"products",Q)),$t("Éxito","Producto eliminado correctamente")}catch(Te){console.error("Error al eliminar producto:",Te),$t("Error",Te.message||"Error al eliminar el producto")}finally{se(Te=>({...Te,deleteProduct:!1}))}},[$t]),At=T.useCallback(async(Q,Te)=>{try{se(be=>({...be,balance:!0}));const ft=ht(je,"users",Q);await Xr(ft,{balance:Te,updatedAt:br()}),$t("Éxito","Saldo actualizado exitosamente"),Ye()}catch(ft){console.error("Error al actualizar saldo:",ft),$t("Error",ft.message||"Error al actualizar el saldo")}finally{se(ft=>({...ft,balance:!1}))}},[$t,Ye]),wt=T.useCallback(async Q=>{Q.preventDefault();try{se(ke=>({...ke,config:!0}));const Te=Q.target.password.value,ft=ht(je,"users",en.currentUser.uid),be={username:s,updatedAt:br()};if(Te){if(Te.length<6){$t("Error","La contraseña debe tener al menos 6 caracteres");return}await m1(en.currentUser,Te)}await Xr(ft,be),$t("Éxito","Cambios guardados correctamente"),Q.target.reset()}catch(Te){console.error("Error al guardar cambios:",Te),$t("Error",Te.message||"Error al guardar los cambios")}finally{se(Te=>({...Te,config:!1}))}},[s,$t]),st=T.useCallback(async()=>{try{await B0(en),Mt("/")}catch(Q){console.error("Error al cerrar sesión:",Q),$t("Error",Q.message||"Error al cerrar sesión")}},[Mt,$t]);T.useEffect(()=>{const Q=Gl(en,Te=>{Te?(u(Te.email||"No especificado"),Ie(!1)):Mt("/login")});return()=>Q()},[Mt]),T.useEffect(()=>{if(!en.currentUser)return;const Q=ht(je,"users",en.currentUser.uid),Te=hr(Q,ft=>{if(ft.exists()){const be=ft.data();a(be.username||"Admin")}else ie("Usuario no encontrado")},ft=>{console.error("Error al cargar datos del usuario:",ft),ie("Error al cargar datos del usuario: "+ft.message)});return()=>Te()},[]),T.useEffect(()=>{const Q=kt(je,"users"),Te=kt(je,"sales"),ft=tr(kt(je,"pendingTopUps"),vr("status","==","pendiente")),be=tr(kt(je,"withdrawals"),vr("status","==","pendiente")),ke=tr(kt(je,"products"),s1("createdAt","desc")),Me=hr(Q,ot=>{const et=ot.docs.map(Tt=>({id:Tt.id,...Tt.data()}));h(et),X(et.length)},ot=>{console.error("Error al cargar usuarios:",ot),ie("Error al cargar usuarios: "+ot.message)}),Ze=hr(Te,ot=>{const et=ot.docs.map(Bt=>({id:Bt.id,...Bt.data()}));g(et);const Tt=et.reduce((Bt,Kt)=>Bt+(parseFloat(Kt.price)||0),0);A(Tt)},ot=>{console.error("Error al cargar ventas:",ot),ie("Error al cargar ventas: "+ot.message)}),vt=hr(ft,ot=>{const et=ot.docs.map(Tt=>({id:Tt.id,...Tt.data(),date:Tt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Tt.data().amount)||0}));v(et),C(et.length)},ot=>{console.error("Error al cargar recargas:",ot),ie("Error al cargar recargas: "+ot.message)}),Nt=hr(be,ot=>{const et=ot.docs.map(Tt=>({id:Tt.id,...Tt.data(),date:Tt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Tt.data().amount)||0}));w(et),F(et.length)},ot=>{console.error("Error al cargar retiros:",ot),ie("Error al cargar retiros: "+ot.message)}),at=hr(ke,ot=>{const et=ot.docs.map(Tt=>({id:Tt.id,...Tt.data(),createdAt:Tt.data().createdAt?.toDate?.()||new Date}));D(et),Le(!1)},ot=>{console.error("Error al cargar productos:",ot),ie("Error al cargar productos: "+ot.message),Le(!1)});return()=>{Me(),Ze(),vt(),Nt(),at()}},[]),T.useEffect(()=>{const Q=hr(ht(je,"notifications","adminMessage"),Te=>{if(Te.exists()){const ft=Te.data();U([{id:Te.id,...ft,timestamp:ft.updatedAt?.toDate()}])}else U([])},Te=>{console.error("Error al cargar notificaciones:",Te),ie("Error al cargar notificaciones: "+Te.message)});return()=>Q()},[]),T.useEffect(()=>{const Q=O*5;M({day:Q*.05,week:Q*.25,month:Q,total:Q})},[O]),T.useEffect(()=>{const Q=()=>{Ae(window.scrollY>300)};return window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)},[]);const gt=T.useCallback(Q=>{const Te=Q.endDate?.toDate?.()||new Date,ft=new Date;return Q.status==="pending"?"Pendiente":Te>ft&&Q.status==="completed"?"Activo":"Expirado"},[]),ir=T.useCallback(()=>Se?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):_e?i.jsxs("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ml,{className:"mx-auto text-4xl text-blue-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${ee==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:_e}),i.jsx("button",{onClick:()=>ie(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):i.jsx("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(r){case"inicio":return i.jsx(cJ,{totalUsers:O,totalSales:B,pendingTopUps:S,pendingWithdrawals:R});case"notificaciones":return i.jsx(uJ,{notifications:I,formatDate:ct});case"usuarios":return i.jsx(JA,{users:d,openEditBalanceModal:le});case"recargas":return i.jsx(eC,{topUps:y,formatDate:ct,actionLoading:de,setActionLoading:se,showNotificationModal:$t});case"retiros":return i.jsx(hJ,{withdrawals:k,formatDate:ct,actionLoading:de,setActionLoading:se,showNotificationModal:$t});case"pedidos":return i.jsx(tC,{sales:p,totalSales:B,formatDate:ct,getOrderStatus:gt});case"productos":return i.jsx(aC,{theme:ee,products:E,loadingProducts:$e,searchQuery:Oe,setSearchQuery:fr,handleDeleteProduct:ut});case"ganancias":return i.jsx(rC,{earnings:W,totalUsers:O});case"configuracion":return i.jsx(nC,{userName:s,setUserName:a,email:o,handleSaveChanges:wt,handleLogout:st,actionLoading:de});default:return i.jsxs("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Ml,{className:"mx-auto text-4xl text-blue-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${ee==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),i.jsx("p",{className:`text-base ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()}),[Se,_e,ee,r,O,B,S,R,I,ct,d,le,y,de,$t,k,p,gt,W,s,a,o,wt,st,E,$e,Oe,ut]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${ee==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${ee==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(15)].map((Q,Te)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Te))})]}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${ee==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>{Mt("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:i.jsx(Vn,{className:"text-lg"})})]}),i.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${ee==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${ee==="dark"?"text-white":"text-gray-900"}`,children:s}),i.jsx("p",{className:`text-xs ${ee==="dark"?"text-gray-400":"text-gray-600"}`,children:"Administrador"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:eb},{id:"notificaciones",label:"Notificaciones",icon:Ll},{id:"usuarios",label:"Usuarios",icon:wu},{id:"recargas",label:"Recargas",icon:ai},{id:"retiros",label:"Retiros",icon:ai},{id:"pedidos",label:"Pedidos",icon:vu},{id:"productos",label:"Productos",icon:Xy},{id:"ganancias",label:"Ganancias",icon:Id},{id:"configuracion",label:"Configuración",icon:ez}].map(Q=>i.jsxs("button",{onClick:()=>{n(Q.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===Q.id?"bg-blue-100 text-blue-600 border border-blue-300":ee==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===Q.id?"page":void 0,children:[i.jsx(Q.icon,{className:"text-lg"}),i.jsx("span",{children:Q.label})]},Q.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:()=>{st(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${ee==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[i.jsx(bu,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsxs("header",{className:`${ee==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Z.img,{src:ec,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:yt,onChange:Q=>Wt(Q.target.value),className:`w-full py-2.5 px-5 ${ee==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:Q=>Q.key==="Enter"&&n("pedidos")}),i.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${ee==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:i.jsx(yu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[i.jsx("button",{onClick:Re,className:`p-2 rounded-full ${ee==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${ee==="dark"?"light":"dark"} theme`,children:ee==="dark"?i.jsx(Jl,{size:20}):i.jsx(Ql,{size:20})}),i.jsxs("button",{onClick:()=>it(!0),className:`p-2 rounded-full relative ${ee==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${I.length} new)`,children:[i.jsx(Ll,{size:20}),I.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:I.length})]}),i.jsx("button",{className:`lg:hidden p-2 rounded-full ${ee==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:i.jsx(Sm,{size:20,className:ee==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:i.jsx("div",{className:"relative",children:i.jsxs("button",{className:`flex items-center space-x-2 ${ee==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:s.charAt(0).toUpperCase()}),i.jsx("span",{className:`text-sm font-semibold ${ee==="dark"?"text-gray-200":"text-gray-800"}`,children:s})]})})})]})]}),i.jsx(Vt,{children:Pe&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>it(!1),role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${ee==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>it(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:i.jsx(Vn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${ee==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),I.length>0?I.map(Q=>i.jsxs("div",{className:`p-4 mb-2 rounded-md ${ee==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${ee==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[i.jsx("h3",{className:`font-semibold ${ee==="dark"?"text-gray-200":"text-gray-800"}`,children:Q.title||"Nueva Notificación"}),i.jsx("p",{className:`text-sm ${ee==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:Q.message}),Q.roles&&Q.roles.length>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",Q.roles.join(", ")]}),Q.timestamp&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ct(Q.timestamp)})]},Q.id)):i.jsx("p",{className:`text-center ${ee==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),i.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:ir()}),i.jsxs("footer",{className:`${ee==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),i.jsxs("p",{className:`text-base sm:text-lg ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[i.jsx("a",{href:"https://twitter.com",className:`${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:i.jsx(Yl,{size:28})}),i.jsx("a",{href:"https://instagram.com",className:`${ee==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:i.jsx(Xl,{size:28})}),i.jsx("a",{href:"https://facebook.com",className:`${ee==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:i.jsx(Kl,{size:28})})]}),i.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),i.jsxs("p",{className:`text-sm ${ee==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),i.jsx(Vt,{children:Be&&i.jsx(Z.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:pr,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:i.jsx(Nm,{size:20})})}),i.jsx(sC,{isOpen:V.isOpen,title:V.title,message:V.message,onClose:Gt}),i.jsx(fJ,{isOpen:re.isOpen,user:re.user,onClose:Ye,onSave:At}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};iC.propTypes={};const oC=T.createContext(),mJ=({children:t})=>{const e=y1(z0),[r,n]=T.useState(null),[s,a]=T.useState(null),[o,u]=T.useState(!0);return T.useEffect(()=>{const d=Gl(e,async h=>{if(h){n(h);try{const p=await Za(ht(je,"users",h.uid));p.exists()?a(p.data().role):a("user")}catch(p){console.error("Error fetching role:",p),a("user")}}else n(null),a(null);u(!1)});return()=>d()},[]),i.jsx(oC.Provider,{value:{user:r,role:s,loading:o},children:!o&&t})},If=()=>{const t=T.useContext(oC);if(t===void 0)throw new Error("useAuth debe usarse dentro de un AuthProvider");return t},gJ=T.lazy(()=>mr(()=>import("./Netflix-ycVvEnXw.js"),[])),xJ=T.lazy(()=>mr(()=>import("./Disney-ZvFwStxG.js"),[])),yJ=T.lazy(()=>mr(()=>import("./Max-C7HObm4z.js"),[])),vJ=T.lazy(()=>mr(()=>import("./Spotify-CNU52eyt.js"),[])),bJ=T.lazy(()=>mr(()=>import("./PrimeVideo-DT_qQyTG.js"),[])),wJ=T.lazy(()=>mr(()=>import("./Vix-BeQHOSio.js"),[])),_J=T.lazy(()=>mr(()=>import("./canva-DxE-IdNb.js"),[])),EJ=T.lazy(()=>mr(()=>import("./ChatGPT-DTUEehyY.js"),[])),TJ=T.lazy(()=>mr(()=>import("./Crunchyroll-BEhmr01r.js"),[])),kJ=T.lazy(()=>mr(()=>import("./RedesSociales-Dh7vAHFt.js"),[])),NJ=T.lazy(()=>mr(()=>import("./AppleMusic-BIfrppcK.js"),[])),SJ=T.lazy(()=>mr(()=>import("./AppleTv-Bgf0dUdo.js"),[])),AJ=T.lazy(()=>mr(()=>import("./IPTV-g2o23kZG.js"),[])),CJ=T.lazy(()=>mr(()=>import("./FlujoTv-BM8akzs1.js"),[])),jJ=T.lazy(()=>mr(()=>import("./VikiRakuten-DgSz42XG.js"),[])),IJ=T.lazy(()=>mr(()=>import("./Pornhub-BR11j70P.js"),[])),PJ=T.lazy(()=>mr(()=>import("./Paramount-CPbaW94r.js"),[])),RJ=T.lazy(()=>mr(()=>import("./Licencias-C1raLPcz.js"),[])),DJ=T.lazy(()=>mr(()=>import("./Capcut-CI3ZbNLC.js"),[])),OJ=T.lazy(()=>mr(()=>import("./Duolingo-YbZBw4_-.js"),[])),FJ=T.lazy(()=>mr(()=>import("./Dgo-DV3xELg4.js"),[])),LJ=T.lazy(()=>mr(()=>import("./LigaMax-BCzEKPAh.js"),[])),MJ=T.lazy(()=>mr(()=>import("./MovistarPlay-C1OC813Z.js"),[])),$J=T.lazy(()=>mr(()=>import("./Youtube-CjJ4vYLg.js"),[])),VJ=T.lazy(()=>mr(()=>import("./Deezer-C06aYYeA.js"),[])),BJ=T.lazy(()=>mr(()=>import("./Tidal-CUO9B5t3.js"),[])),UJ=T.lazy(()=>mr(()=>import("./Vpn-CmxDctes.js"),[])),zJ=T.lazy(()=>mr(()=>import("./WinTv-BeVb07ql.js"),[])),HJ=T.lazy(()=>mr(()=>import("./Buscapersonas-CS4exsgz.js"),[]));T.lazy(()=>mr(()=>import("./Maintenance-DJISVspw.js"),[]));const WJ=()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Página no encontrada"}),i.jsx("a",{href:"/",className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600",children:"Volver al inicio"})]})}),qJ=()=>{const t=({children:s,redirectTo:a})=>{const{user:o,role:u,loading:d}=If();return d?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):o&&u==="user"?s:i.jsx(uf,{to:a||"/login",replace:!0})},e=({children:s,redirectTo:a})=>{const{user:o,role:u,loading:d}=If();return d?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):o&&u==="admin"?s:i.jsx(uf,{to:a||"/login",replace:!0})},r=({children:s,redirectTo:a})=>{const{user:o,role:u,loading:d}=If();return d?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):o&&u==="affiliate"?s:i.jsx(uf,{to:a||"/login",replace:!0})},n=({children:s,redirectTo:a})=>{const{user:o,role:u,loading:d}=If();return d?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):o&&u==="provider"?s:i.jsx(uf,{to:a||"/login",replace:!0})};return i.jsx(hI,{children:i.jsxs(i.Fragment,{children:[i.jsx(zt,{path:"/",element:i.jsx(e6,{})}),i.jsx(zt,{path:"/login",element:i.jsx(eH,{})}),i.jsx(zt,{path:"/register",element:i.jsx(tH,{})}),i.jsx(zt,{path:"/forgot-password",element:i.jsx(rH,{})}),i.jsx(zt,{path:"/dashboard/user",element:i.jsx(t,{children:i.jsx(zA,{})})}),i.jsx(zt,{path:"/dashboard/affiliate",element:i.jsx(r,{children:i.jsx(ZQ,{})})}),i.jsx(zt,{path:"/dashboard/provider",element:i.jsx(n,{children:i.jsx(KA,{})})}),i.jsx(zt,{path:"/dashboard/admin",element:i.jsx(e,{children:i.jsx(iC,{})})}),i.jsx(zt,{path:"/netflix",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(gJ,{})})}),i.jsx(zt,{path:"/disney",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(xJ,{})})}),i.jsx(zt,{path:"/max",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(yJ,{})})}),i.jsx(zt,{path:"/spotify",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(vJ,{})})}),i.jsx(zt,{path:"/primevideo",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(bJ,{})})}),i.jsx(zt,{path:"/vix",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(wJ,{})})}),i.jsx(zt,{path:"/canva",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(_J,{})})}),i.jsx(zt,{path:"/chatgpt",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(EJ,{})})}),i.jsx(zt,{path:"/crunchyroll",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(TJ,{})})}),i.jsx(zt,{path:"/redessociales",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(kJ,{})})}),i.jsx(zt,{path:"/applemusic",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(NJ,{})})}),i.jsx(zt,{path:"/appletv",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(SJ,{})})}),i.jsx(zt,{path:"/iptv",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(AJ,{})})}),i.jsx(zt,{path:"/flujotv",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(CJ,{})})}),i.jsx(zt,{path:"/vikirakuten",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(jJ,{})})}),i.jsx(zt,{path:"/pornhub",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(IJ,{})})}),i.jsx(zt,{path:"/paramount",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(PJ,{})})}),i.jsx(zt,{path:"/licencias",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(RJ,{})})}),i.jsx(zt,{path:"/capcut",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(DJ,{})})}),i.jsx(zt,{path:"/duolingo",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(OJ,{})})}),i.jsx(zt,{path:"/dgo",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(FJ,{})})}),i.jsx(zt,{path:"/ligamax",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(LJ,{})})}),i.jsx(zt,{path:"/movistarplay",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(MJ,{})})}),i.jsx(zt,{path:"/youtube",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx($J,{})})}),i.jsx(zt,{path:"/deezer",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(VJ,{})})}),i.jsx(zt,{path:"/tidal",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(BJ,{})})}),i.jsx(zt,{path:"/vpn",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(UJ,{})})}),i.jsx(zt,{path:"/wintv",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(zJ,{})})}),i.jsx(zt,{path:"/buscapersonas",element:i.jsx(T.Suspense,{fallback:i.jsx("div",{children:"Cargando..."}),children:i.jsx(HJ,{})})}),i.jsx(zt,{path:"*",element:i.jsx(WJ,{})})]})})};_j.createRoot(document.getElementById("root")).render(i.jsx(ja.StrictMode,{children:i.jsx(OI,{children:i.jsx(mJ,{children:i.jsx(qJ,{})})})}));export{s1 as $,oa as A,Z as B,ec as C,yu as D,Jl as E,Eu as F,Ql as G,Ll as H,pz as I,XU as J,Vt as K,Ap as L,bu as M,ws as N,Yy as O,Qy as P,Vn as Q,Zl as R,gz as S,az as T,dz as U,zo as V,Nm as W,Yl as X,Xl as Y,Kl as Z,Za as _,hr as a,tn as a0,G as a1,b3 as a2,eO as a3,ja as a4,rZ as a5,ks as a6,jp as a7,ky as b,kt as c,je as d,ht as e,B0 as f,en as g,YJ as h,ZJ as i,i as j,nZ as k,sZ as l,tZ as m,XJ as n,Gl as o,eZ as p,tr as q,T as r,br as s,JJ as t,La as u,QJ as v,vr as w,sb as x,ii as y,fz as z};
