(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();const fj="modulepreload",pj=function(t){return"/"+t},Fw={},mr=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let d=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=o?.nonce||o?.getAttribute("nonce");s=d(r.map(h=>{if(h=pj(h),h in Fw)return;Fw[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":fj,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((v,k)=>{y.addEventListener("load",v),y.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};function s1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hx={exports:{}},bd={},fx={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function mj(){if(Lw)return qt;Lw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(se){return se===null||typeof se!="object"?null:(se=g&&se[g]||se["@@iterator"],typeof se=="function"?se:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function T(se,V,te){this.props=se,this.context=V,this.refs=w,this.updater=te||v}T.prototype.isReactComponent={},T.prototype.setState=function(se,V){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,V,"setState")},T.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function D(){}D.prototype=T.prototype;function I(se,V,te){this.props=se,this.context=V,this.refs=w,this.updater=te||v}var U=I.prototype=new D;U.constructor=I,k(U,T.prototype),U.isPureReactComponent=!0;var O=Array.isArray,X=Object.prototype.hasOwnProperty,B={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(se,V,te){var re,ne={},ee=null,Oe=null;if(V!=null)for(re in V.ref!==void 0&&(Oe=V.ref),V.key!==void 0&&(ee=""+V.key),V)X.call(V,re)&&!A.hasOwnProperty(re)&&(ne[re]=V[re]);var Be=arguments.length-2;if(Be===1)ne.children=te;else if(1<Be){for(var Ae=Array(Be),Fe=0;Fe<Be;Fe++)Ae[Fe]=arguments[Fe+2];ne.children=Ae}if(se&&se.defaultProps)for(re in Be=se.defaultProps,Be)ne[re]===void 0&&(ne[re]=Be[re]);return{$$typeof:t,type:se,key:ee,ref:Oe,props:ne,_owner:B.current}}function C(se,V){return{$$typeof:t,type:se.type,key:V,ref:se.ref,props:se.props,_owner:se._owner}}function R(se){return typeof se=="object"&&se!==null&&se.$$typeof===t}function F(se){var V={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(te){return V[te]})}var W=/\/+/g;function M(se,V){return typeof se=="object"&&se!==null&&se.key!=null?F(""+se.key):V.toString(36)}function Se(se,V,te,re,ne){var ee=typeof se;(ee==="undefined"||ee==="boolean")&&(se=null);var Oe=!1;if(se===null)Oe=!0;else switch(ee){case"string":case"number":Oe=!0;break;case"object":switch(se.$$typeof){case t:case e:Oe=!0}}if(Oe)return Oe=se,ne=ne(Oe),se=re===""?"."+M(Oe,0):re,O(ne)?(te="",se!=null&&(te=se.replace(W,"$&/")+"/"),Se(ne,V,te,"",function(Fe){return Fe})):ne!=null&&(R(ne)&&(ne=C(ne,te+(!ne.key||Oe&&Oe.key===ne.key?"":(""+ne.key).replace(W,"$&/")+"/")+se)),V.push(ne)),1;if(Oe=0,re=re===""?".":re+":",O(se))for(var Be=0;Be<se.length;Be++){ee=se[Be];var Ae=re+M(ee,Be);Oe+=Se(ee,V,te,Ae,ne)}else if(Ae=y(se),typeof Ae=="function")for(se=Ae.call(se),Be=0;!(ee=se.next()).done;)ee=ee.value,Ae=re+M(ee,Be++),Oe+=Se(ee,V,te,Ae,ne);else if(ee==="object")throw V=String(se),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Oe}function Ie(se,V,te){if(se==null)return se;var re=[],ne=0;return Se(se,re,"","",function(ee){return V.call(te,ee,ne++)}),re}function $e(se){if(se._status===-1){var V=se._result;V=V(),V.then(function(te){(se._status===0||se._status===-1)&&(se._status=1,se._result=te)},function(te){(se._status===0||se._status===-1)&&(se._status=2,se._result=te)}),se._status===-1&&(se._status=0,se._result=V)}if(se._status===1)return se._result.default;throw se._result}var Le={current:null},_e={transition:null},ie={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:_e,ReactCurrentOwner:B};function de(){throw Error("act(...) is not supported in production builds of React.")}return qt.Children={map:Ie,forEach:function(se,V,te){Ie(se,function(){V.apply(this,arguments)},te)},count:function(se){var V=0;return Ie(se,function(){V++}),V},toArray:function(se){return Ie(se,function(V){return V})||[]},only:function(se){if(!R(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},qt.Component=T,qt.Fragment=r,qt.Profiler=s,qt.PureComponent=I,qt.StrictMode=n,qt.Suspense=d,qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,qt.act=de,qt.cloneElement=function(se,V,te){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var re=k({},se.props),ne=se.key,ee=se.ref,Oe=se._owner;if(V!=null){if(V.ref!==void 0&&(ee=V.ref,Oe=B.current),V.key!==void 0&&(ne=""+V.key),se.type&&se.type.defaultProps)var Be=se.type.defaultProps;for(Ae in V)X.call(V,Ae)&&!A.hasOwnProperty(Ae)&&(re[Ae]=V[Ae]===void 0&&Be!==void 0?Be[Ae]:V[Ae])}var Ae=arguments.length-2;if(Ae===1)re.children=te;else if(1<Ae){Be=Array(Ae);for(var Fe=0;Fe<Ae;Fe++)Be[Fe]=arguments[Fe+2];re.children=Be}return{$$typeof:t,type:se.type,key:ne,ref:ee,props:re,_owner:Oe}},qt.createContext=function(se){return se={$$typeof:o,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:a,_context:se},se.Consumer=se},qt.createElement=S,qt.createFactory=function(se){var V=S.bind(null,se);return V.type=se,V},qt.createRef=function(){return{current:null}},qt.forwardRef=function(se){return{$$typeof:u,render:se}},qt.isValidElement=R,qt.lazy=function(se){return{$$typeof:p,_payload:{_status:-1,_result:se},_init:$e}},qt.memo=function(se,V){return{$$typeof:h,type:se,compare:V===void 0?null:V}},qt.startTransition=function(se){var V=_e.transition;_e.transition={};try{se()}finally{_e.transition=V}},qt.unstable_act=de,qt.useCallback=function(se,V){return Le.current.useCallback(se,V)},qt.useContext=function(se){return Le.current.useContext(se)},qt.useDebugValue=function(){},qt.useDeferredValue=function(se){return Le.current.useDeferredValue(se)},qt.useEffect=function(se,V){return Le.current.useEffect(se,V)},qt.useId=function(){return Le.current.useId()},qt.useImperativeHandle=function(se,V,te){return Le.current.useImperativeHandle(se,V,te)},qt.useInsertionEffect=function(se,V){return Le.current.useInsertionEffect(se,V)},qt.useLayoutEffect=function(se,V){return Le.current.useLayoutEffect(se,V)},qt.useMemo=function(se,V){return Le.current.useMemo(se,V)},qt.useReducer=function(se,V,te){return Le.current.useReducer(se,V,te)},qt.useRef=function(se){return Le.current.useRef(se)},qt.useState=function(se){return Le.current.useState(se)},qt.useSyncExternalStore=function(se,V,te){return Le.current.useSyncExternalStore(se,V,te)},qt.useTransition=function(){return Le.current.useTransition()},qt.version="18.3.1",qt}var Mw;function a1(){return Mw||(Mw=1,fx.exports=mj()),fx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function gj(){if($w)return bd;$w=1;var t=a1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,h){var p,g={},y=null,v=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!a.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:v,props:g,_owner:s.current}}return bd.Fragment=r,bd.jsx=o,bd.jsxs=o,bd}var Vw;function xj(){return Vw||(Vw=1,hx.exports=gj()),hx.exports}var i=xj(),_=a1();const Ia=s1(_);var ff={},px={exports:{}},bs={},mx={exports:{}},gx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw;function yj(){return Bw||(Bw=1,(function(t){function e(_e,ie){var de=_e.length;_e.push(ie);e:for(;0<de;){var se=de-1>>>1,V=_e[se];if(0<s(V,ie))_e[se]=ie,_e[de]=V,de=se;else break e}}function r(_e){return _e.length===0?null:_e[0]}function n(_e){if(_e.length===0)return null;var ie=_e[0],de=_e.pop();if(de!==ie){_e[0]=de;e:for(var se=0,V=_e.length,te=V>>>1;se<te;){var re=2*(se+1)-1,ne=_e[re],ee=re+1,Oe=_e[ee];if(0>s(ne,de))ee<V&&0>s(Oe,ne)?(_e[se]=Oe,_e[ee]=de,se=ee):(_e[se]=ne,_e[re]=de,se=re);else if(ee<V&&0>s(Oe,de))_e[se]=Oe,_e[ee]=de,se=ee;else break e}}return ie}function s(_e,ie){var de=_e.sortIndex-ie.sortIndex;return de!==0?de:_e.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],h=[],p=1,g=null,y=3,v=!1,k=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(_e){for(var ie=r(h);ie!==null;){if(ie.callback===null)n(h);else if(ie.startTime<=_e)n(h),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=r(h)}}function O(_e){if(w=!1,U(_e),!k)if(r(d)!==null)k=!0,$e(X);else{var ie=r(h);ie!==null&&Le(O,ie.startTime-_e)}}function X(_e,ie){k=!1,w&&(w=!1,D(S),S=-1),v=!0;var de=y;try{for(U(ie),g=r(d);g!==null&&(!(g.expirationTime>ie)||_e&&!F());){var se=g.callback;if(typeof se=="function"){g.callback=null,y=g.priorityLevel;var V=se(g.expirationTime<=ie);ie=t.unstable_now(),typeof V=="function"?g.callback=V:g===r(d)&&n(d),U(ie)}else n(d);g=r(d)}if(g!==null)var te=!0;else{var re=r(h);re!==null&&Le(O,re.startTime-ie),te=!1}return te}finally{g=null,y=de,v=!1}}var B=!1,A=null,S=-1,C=5,R=-1;function F(){return!(t.unstable_now()-R<C)}function W(){if(A!==null){var _e=t.unstable_now();R=_e;var ie=!0;try{ie=A(!0,_e)}finally{ie?M():(B=!1,A=null)}}else B=!1}var M;if(typeof I=="function")M=function(){I(W)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ie=Se.port2;Se.port1.onmessage=W,M=function(){Ie.postMessage(null)}}else M=function(){T(W,0)};function $e(_e){A=_e,B||(B=!0,M())}function Le(_e,ie){S=T(function(){_e(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_e){_e.callback=null},t.unstable_continueExecution=function(){k||v||(k=!0,$e(X))},t.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<_e?Math.floor(1e3/_e):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(_e){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var de=y;y=ie;try{return _e()}finally{y=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_e,ie){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var de=y;y=_e;try{return ie()}finally{y=de}},t.unstable_scheduleCallback=function(_e,ie,de){var se=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?se+de:se):de=se,_e){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=de+V,_e={id:p++,callback:ie,priorityLevel:_e,startTime:de,expirationTime:V,sortIndex:-1},de>se?(_e.sortIndex=de,e(h,_e),r(d)===null&&_e===r(h)&&(w?(D(S),S=-1):w=!0,Le(O,de-se))):(_e.sortIndex=V,e(d,_e),k||v||(k=!0,$e(X))),_e},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(_e){var ie=y;return function(){var de=y;y=ie;try{return _e.apply(this,arguments)}finally{y=de}}}})(gx)),gx}var Uw;function vj(){return Uw||(Uw=1,mx.exports=yj()),mx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function bj(){if(zw)return bs;zw=1;var t=a1(),e=vj();function r(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(l,c){o(l,c),o(l+"Capture",c)}function o(l,c){for(s[l]=c,l=0;l<c.length;l++)n.add(c[l])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(l){return d.call(g,l)?!0:d.call(p,l)?!1:h.test(l)?g[l]=!0:(p[l]=!0,!1)}function v(l,c,f,x){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:f!==null?!f.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function k(l,c,f,x){if(c===null||typeof c>"u"||v(l,c,f,x))return!0;if(x)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(l,c,f,x,b,N,L){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=l,this.type=c,this.sanitizeURL=N,this.removeEmptyString=L}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){T[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var c=l[0];T[c]=new w(c,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){T[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){T[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){T[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){T[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){T[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){T[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){T[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function I(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var c=l.replace(D,I);T[c]=new w(c,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var c=l.replace(D,I);T[c]=new w(c,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var c=l.replace(D,I);T[c]=new w(c,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){T[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),T.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){T[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function U(l,c,f,x){var b=T.hasOwnProperty(c)?T[c]:null;(b!==null?b.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(k(c,f,b,x)&&(f=null),x||b===null?y(c)&&(f===null?l.removeAttribute(c):l.setAttribute(c,""+f)):b.mustUseProperty?l[b.propertyName]=f===null?b.type===3?!1:"":f:(c=b.attributeName,x=b.attributeNamespace,f===null?l.removeAttribute(c):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,x?l.setAttributeNS(x,c,f):l.setAttribute(c,f))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),B=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),Le=Symbol.for("react.offscreen"),_e=Symbol.iterator;function ie(l){return l===null||typeof l!="object"?null:(l=_e&&l[_e]||l["@@iterator"],typeof l=="function"?l:null)}var de=Object.assign,se;function V(l){if(se===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);se=c&&c[1]||""}return`
`+se+l}var te=!1;function re(l,c){if(!l||te)return"";te=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(we){var x=we}Reflect.construct(l,[],c)}else{try{c.call()}catch(we){x=we}l.call(c.prototype)}else{try{throw Error()}catch(we){x=we}l()}}catch(we){if(we&&x&&typeof we.stack=="string"){for(var b=we.stack.split(`
`),N=x.stack.split(`
`),L=b.length-1,ae=N.length-1;1<=L&&0<=ae&&b[L]!==N[ae];)ae--;for(;1<=L&&0<=ae;L--,ae--)if(b[L]!==N[ae]){if(L!==1||ae!==1)do if(L--,ae--,0>ae||b[L]!==N[ae]){var oe=`
`+b[L].replace(" at new "," at ");return l.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",l.displayName)),oe}while(1<=L&&0<=ae);break}}}finally{te=!1,Error.prepareStackTrace=f}return(l=l?l.displayName||l.name:"")?V(l):""}function ne(l){switch(l.tag){case 5:return V(l.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return l=re(l.type,!1),l;case 11:return l=re(l.type.render,!1),l;case 1:return l=re(l.type,!0),l;default:return""}}function ee(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case A:return"Fragment";case B:return"Portal";case C:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case Se:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case F:return(l.displayName||"Context")+".Consumer";case R:return(l._context.displayName||"Context")+".Provider";case W:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Ie:return c=l.displayName||null,c!==null?c:ee(l.type)||"Memo";case $e:c=l._payload,l=l._init;try{return ee(l(c))}catch{}}return null}function Oe(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(c);case 8:return c===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Be(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ae(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Fe(l){var c=Ae(l)?"checked":"value",f=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),x=""+l[c];if(!l.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,N=f.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return b.call(this)},set:function(L){x=""+L,N.call(this,L)}}),Object.defineProperty(l,c,{enumerable:f.enumerable}),{getValue:function(){return x},setValue:function(L){x=""+L},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function it(l){l._valueTracker||(l._valueTracker=Fe(l))}function yt(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var f=c.getValue(),x="";return l&&(x=Ae(l)?l.checked?"true":"false":l.value),l=x,l!==f?(c.setValue(l),!0):!1}function Wt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function De(l,c){var f=c.checked;return de({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??l._wrapperState.initialChecked})}function fr(l,c){var f=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;f=Be(c.value!=null?c.value:f),l._wrapperState={initialChecked:x,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Mt(l,c){c=c.checked,c!=null&&U(l,"checked",c,!1)}function Pe(l,c){Mt(l,c);var f=Be(c.value),x=c.type;if(f!=null)x==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+f):l.value!==""+f&&(l.value=""+f);else if(x==="submit"||x==="reset"){l.removeAttribute("value");return}c.hasOwnProperty("value")?$t(l,c.type,f):c.hasOwnProperty("defaultValue")&&$t(l,c.type,Be(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(l.defaultChecked=!!c.defaultChecked)}function pr(l,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+l._wrapperState.initialValue,f||c===l.value||(l.value=c),l.defaultValue=c}f=l.name,f!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,f!==""&&(l.name=f)}function $t(l,c,f){(c!=="number"||Wt(l.ownerDocument)!==l)&&(f==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+f&&(l.defaultValue=""+f))}var Gt=Array.isArray;function le(l,c,f,x){if(l=l.options,c){c={};for(var b=0;b<f.length;b++)c["$"+f[b]]=!0;for(f=0;f<l.length;f++)b=c.hasOwnProperty("$"+l[f].value),l[f].selected!==b&&(l[f].selected=b),b&&x&&(l[f].defaultSelected=!0)}else{for(f=""+Be(f),c=null,b=0;b<l.length;b++){if(l[b].value===f){l[b].selected=!0,x&&(l[b].defaultSelected=!0);return}c!==null||l[b].disabled||(c=l[b])}c!==null&&(c.selected=!0)}}function Ye(l,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return de({},c,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function ct(l,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(r(92));if(Gt(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),f=c}l._wrapperState={initialValue:Be(f)}}function ut(l,c){var f=Be(c.value),x=Be(c.defaultValue);f!=null&&(f=""+f,f!==l.value&&(l.value=f),c.defaultValue==null&&l.defaultValue!==f&&(l.defaultValue=f)),x!=null&&(l.defaultValue=""+x)}function At(l){var c=l.textContent;c===l._wrapperState.initialValue&&c!==""&&c!==null&&(l.value=c)}function wt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(l,c){return l==null||l==="http://www.w3.org/1999/xhtml"?wt(c):l==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var gt,ir=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,x,b){MSApp.execUnsafeLocalFunction(function(){return l(c,f,x,b)})}:l})(function(l,c){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=c;else{for(gt=gt||document.createElement("div"),gt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=gt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;c.firstChild;)l.appendChild(c.firstChild)}});function Q(l,c){if(c){var f=l.firstChild;if(f&&f===l.lastChild&&f.nodeType===3){f.nodeValue=c;return}}l.textContent=c}var Te={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];Object.keys(Te).forEach(function(l){ft.forEach(function(c){c=c+l.charAt(0).toUpperCase()+l.substring(1),Te[c]=Te[l]})});function be(l,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||Te.hasOwnProperty(l)&&Te[l]?(""+c).trim():c+"px"}function ke(l,c){l=l.style;for(var f in c)if(c.hasOwnProperty(f)){var x=f.indexOf("--")===0,b=be(f,c[f],x);f==="float"&&(f="cssFloat"),x?l.setProperty(f,b):l[f]=b}}var Me=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ze(l,c){if(c){if(Me[l]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function vt(l,c){if(l.indexOf("-")===-1)return typeof c.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=null;function at(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ot=null,et=null,Tt=null;function Bt(l){if(l=ad(l)){if(typeof ot!="function")throw Error(r(280));var c=l.stateNode;c&&(c=Sh(c),ot(l.stateNode,l.type,c))}}function Kt(l){et?Tt?Tt.push(l):Tt=[l]:et=l}function Ir(){if(et){var l=et,c=Tt;if(Tt=et=null,Bt(l),c)for(l=0;l<c.length;l++)Bt(c[l])}}function $r(l,c){return l(c)}function dn(){}var cr=!1;function Wn(l,c,f){if(cr)return l(c,f);cr=!0;try{return $r(l,c,f)}finally{cr=!1,(et!==null||Tt!==null)&&(dn(),Ir())}}function ur(l,c){var f=l.stateNode;if(f===null)return null;var x=Sh(f);if(x===null)return null;f=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var hn=!1;if(u)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){hn=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{hn=!1}function yn(l,c,f,x,b,N,L,ae,oe){var we=Array.prototype.slice.call(arguments,3);try{c.apply(f,we)}catch(qe){this.onError(qe)}}var ve=!1,Ne=null,P=!1,z=null,H={onError:function(l){ve=!0,Ne=l}};function K(l,c,f,x,b,N,L,ae,oe){ve=!1,Ne=null,yn.apply(H,arguments)}function J(l,c,f,x,b,N,L,ae,oe){if(K.apply(this,arguments),ve){if(ve){var we=Ne;ve=!1,Ne=null}else throw Error(r(198));P||(P=!0,z=we)}}function Y(l){var c=l,f=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(f=c.return),l=c.return;while(l)}return c.tag===3?f:null}function ue(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function me(l){if(Y(l)!==l)throw Error(r(188))}function he(l){var c=l.alternate;if(!c){if(c=Y(l),c===null)throw Error(r(188));return c!==l?null:l}for(var f=l,x=c;;){var b=f.return;if(b===null)break;var N=b.alternate;if(N===null){if(x=b.return,x!==null){f=x;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===f)return me(b),l;if(N===x)return me(b),c;N=N.sibling}throw Error(r(188))}if(f.return!==x.return)f=b,x=N;else{for(var L=!1,ae=b.child;ae;){if(ae===f){L=!0,f=b,x=N;break}if(ae===x){L=!0,x=b,f=N;break}ae=ae.sibling}if(!L){for(ae=N.child;ae;){if(ae===f){L=!0,f=N,x=b;break}if(ae===x){L=!0,x=N,f=b;break}ae=ae.sibling}if(!L)throw Error(r(189))}}if(f.alternate!==x)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?l:c}function ge(l){return l=he(l),l!==null?xe(l):null}function xe(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=xe(l);if(c!==null)return c;l=l.sibling}return null}var Ue=e.unstable_scheduleCallback,Je=e.unstable_cancelCallback,lt=e.unstable_shouldYield,Ke=e.unstable_requestPaint,We=e.unstable_now,Pt=e.unstable_getCurrentPriorityLevel,nr=e.unstable_ImmediatePriority,Jt=e.unstable_UserBlockingPriority,sr=e.unstable_NormalPriority,js=e.unstable_LowPriority,Ks=e.unstable_IdlePriority,ns=null,Vr=null;function Yi(l){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(ns,l,void 0,(l.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:ah,zu=Math.log,sh=Math.LN2;function ah(l){return l>>>=0,l===0?32:31-(zu(l)/sh|0)|0}var oc=64,lc=4194304;function Qi(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function tl(l,c){var f=l.pendingLanes;if(f===0)return 0;var x=0,b=l.suspendedLanes,N=l.pingedLanes,L=f&268435455;if(L!==0){var ae=L&~b;ae!==0?x=Qi(ae):(N&=L,N!==0&&(x=Qi(N)))}else L=f&~b,L!==0?x=Qi(L):N!==0&&(x=Qi(N));if(x===0)return 0;if(c!==0&&c!==x&&(c&b)===0&&(b=x&-x,N=c&-c,b>=N||b===16&&(N&4194240)!==0))return c;if((x&4)!==0&&(x|=f&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=x;0<c;)f=31-Pr(c),b=1<<f,x|=l[f],c&=~b;return x}function Um(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(l,c){for(var f=l.suspendedLanes,x=l.pingedLanes,b=l.expirationTimes,N=l.pendingLanes;0<N;){var L=31-Pr(N),ae=1<<L,oe=b[L];oe===-1?((ae&f)===0||(ae&x)!==0)&&(b[L]=Um(ae,c)):oe<=c&&(l.expiredLanes|=ae),N&=~ae}}function Is(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function rl(){var l=oc;return oc<<=1,(oc&4194240)===0&&(oc=64),l}function Ji(l){for(var c=[],f=0;31>f;f++)c.push(l);return c}function Zi(l,c,f){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-Pr(c),l[c]=f}function Sr(l,c){var f=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var x=l.eventTimes;for(l=l.expirationTimes;0<f;){var b=31-Pr(f),N=1<<b;c[b]=0,x[b]=-1,l[b]=-1,f&=~N}}function eo(l,c){var f=l.entangledLanes|=c;for(l=l.entanglements;f;){var x=31-Pr(f),b=1<<x;b&c|l[x]&c&&(l[x]|=c),f&=~b}}var Qt=0;function to(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var ih,cc,oh,lh,ch,Hu=!1,Va=[],An=null,fa=null,pa=null,ro=new Map,Xs=new Map,Ba=[],zm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uh(l,c){switch(l){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":ro.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(c.pointerId)}}function fs(l,c,f,x,b,N){return l===null||l.nativeEvent!==N?(l={blockedOn:c,domEventName:f,eventSystemFlags:x,nativeEvent:N,targetContainers:[b]},c!==null&&(c=ad(c),c!==null&&cc(c)),l):(l.eventSystemFlags|=x,c=l.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),l)}function Hm(l,c,f,x,b){switch(c){case"focusin":return An=fs(An,l,c,f,x,b),!0;case"dragenter":return fa=fs(fa,l,c,f,x,b),!0;case"mouseover":return pa=fs(pa,l,c,f,x,b),!0;case"pointerover":var N=b.pointerId;return ro.set(N,fs(ro.get(N)||null,l,c,f,x,b)),!0;case"gotpointercapture":return N=b.pointerId,Xs.set(N,fs(Xs.get(N)||null,l,c,f,x,b)),!0}return!1}function dh(l){var c=ol(l.target);if(c!==null){var f=Y(c);if(f!==null){if(c=f.tag,c===13){if(c=ue(f),c!==null){l.blockedOn=c,ch(l.priority,function(){oh(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){l.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}l.blockedOn=null}function gi(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var f=uc(l.domEventName,l.eventSystemFlags,c[0],l.nativeEvent);if(f===null){f=l.nativeEvent;var x=new f.constructor(f.type,f);Nt=x,f.target.dispatchEvent(x),Nt=null}else return c=ad(f),c!==null&&cc(c),l.blockedOn=f,!1;c.shift()}return!0}function nl(l,c,f){gi(l)&&f.delete(c)}function hh(){Hu=!1,An!==null&&gi(An)&&(An=null),fa!==null&&gi(fa)&&(fa=null),pa!==null&&gi(pa)&&(pa=null),ro.forEach(nl),Xs.forEach(nl)}function ma(l,c){l.blockedOn===c&&(l.blockedOn=null,Hu||(Hu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hh)))}function ga(l){function c(b){return ma(b,l)}if(0<Va.length){ma(Va[0],l);for(var f=1;f<Va.length;f++){var x=Va[f];x.blockedOn===l&&(x.blockedOn=null)}}for(An!==null&&ma(An,l),fa!==null&&ma(fa,l),pa!==null&&ma(pa,l),ro.forEach(c),Xs.forEach(c),f=0;f<Ba.length;f++)x=Ba[f],x.blockedOn===l&&(x.blockedOn=null);for(;0<Ba.length&&(f=Ba[0],f.blockedOn===null);)dh(f),f.blockedOn===null&&Ba.shift()}var xi=O.ReactCurrentBatchConfig,no=!0;function Fr(l,c,f,x){var b=Qt,N=xi.transition;xi.transition=null;try{Qt=1,Wu(l,c,f,x)}finally{Qt=b,xi.transition=N}}function Wm(l,c,f,x){var b=Qt,N=xi.transition;xi.transition=null;try{Qt=4,Wu(l,c,f,x)}finally{Qt=b,xi.transition=N}}function Wu(l,c,f,x){if(no){var b=uc(l,c,f,x);if(b===null)rg(l,c,x,sl,f),uh(l,x);else if(Hm(b,l,c,f,x))x.stopPropagation();else if(uh(l,x),c&4&&-1<zm.indexOf(l)){for(;b!==null;){var N=ad(b);if(N!==null&&ih(N),N=uc(l,c,f,x),N===null&&rg(l,c,x,sl,f),N===b)break;b=N}b!==null&&x.stopPropagation()}else rg(l,c,x,null,f)}}var sl=null;function uc(l,c,f,x){if(sl=null,l=at(x),l=ol(l),l!==null)if(c=Y(l),c===null)l=null;else if(f=c.tag,f===13){if(l=ue(c),l!==null)return l;l=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null);return sl=l,null}function qu(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pt()){case nr:return 1;case Jt:return 4;case sr:case js:return 16;case Ks:return 536870912;default:return 16}default:return 16}}var Ps=null,dc=null,ps=null;function Gu(){if(ps)return ps;var l,c=dc,f=c.length,x,b="value"in Ps?Ps.value:Ps.textContent,N=b.length;for(l=0;l<f&&c[l]===b[l];l++);var L=f-l;for(x=1;x<=L&&c[f-x]===b[N-x];x++);return ps=b.slice(l,1<x?1-x:void 0)}function hc(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function Ua(){return!0}function Ku(){return!1}function Cn(l){function c(f,x,b,N,L){this._reactName=f,this._targetInst=b,this.type=x,this.nativeEvent=N,this.target=L,this.currentTarget=null;for(var ae in l)l.hasOwnProperty(ae)&&(f=l[ae],this[ae]=f?f(N):N[ae]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Ua:Ku,this.isPropagationStopped=Ku,this}return de(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),c}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=Cn(xa),za=de({},xa,{view:0,detail:0}),qm=Cn(za),pc,yi,so,al=de({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==so&&(so&&l.type==="mousemove"?(pc=l.screenX-so.screenX,yi=l.screenY-so.screenY):yi=pc=0,so=l),pc)},movementY:function(l){return"movementY"in l?l.movementY:yi}}),mc=Cn(al),Xu=de({},al,{dataTransfer:0}),fh=Cn(Xu),gc=de({},za,{relatedTarget:0}),xc=Cn(gc),ph=de({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),vi=Cn(ph),mh=de({},xa,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),gh=Cn(mh),xh=de({},xa,{data:0}),Yu=Cn(xh),yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ss={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=yh[l])?!!c[l]:!1}function Ha(){return vh}var m=de({},za,{key:function(l){if(l.key){var c=yc[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=hc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?ss[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(l){return l.type==="keypress"?hc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?hc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),E=Cn(m),j=de({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q=Cn(j),fe=de({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),Ee=Cn(fe),nt=de({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),gr=Cn(nt),fn=de({},al,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Zt=Cn(fn),vn=[9,13,27,32],nn=u&&"CompositionEvent"in window,Ys=null;u&&"documentMode"in document&&(Ys=document.documentMode);var Rs=u&&"TextEvent"in window&&!Ys,il=u&&(!nn||Ys&&8<Ys&&11>=Ys),vc=" ",jb=!1;function Ib(l,c){switch(l){case"keyup":return vn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pb(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var bc=!1;function uC(l,c){switch(l){case"compositionend":return Pb(c);case"keypress":return c.which!==32?null:(jb=!0,vc);case"textInput":return l=c.data,l===vc&&jb?null:l;default:return null}}function dC(l,c){if(bc)return l==="compositionend"||!nn&&Ib(l,c)?(l=Gu(),ps=dc=Ps=null,bc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return il&&c.locale!=="ko"?null:c.data;default:return null}}var hC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rb(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!hC[l.type]:c==="textarea"}function Db(l,c,f,x){Kt(x),c=Th(c,"onChange"),0<c.length&&(f=new fc("onChange","change",null,f,x),l.push({event:f,listeners:c}))}var Qu=null,Ju=null;function fC(l){Jb(l,0)}function bh(l){var c=kc(l);if(yt(c))return l}function pC(l,c){if(l==="change")return c}var Ob=!1;if(u){var Gm;if(u){var Km="oninput"in document;if(!Km){var Fb=document.createElement("div");Fb.setAttribute("oninput","return;"),Km=typeof Fb.oninput=="function"}Gm=Km}else Gm=!1;Ob=Gm&&(!document.documentMode||9<document.documentMode)}function Lb(){Qu&&(Qu.detachEvent("onpropertychange",Mb),Ju=Qu=null)}function Mb(l){if(l.propertyName==="value"&&bh(Ju)){var c=[];Db(c,Ju,l,at(l)),Wn(fC,c)}}function mC(l,c,f){l==="focusin"?(Lb(),Qu=c,Ju=f,Qu.attachEvent("onpropertychange",Mb)):l==="focusout"&&Lb()}function gC(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return bh(Ju)}function xC(l,c){if(l==="click")return bh(c)}function yC(l,c){if(l==="input"||l==="change")return bh(c)}function vC(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var ya=typeof Object.is=="function"?Object.is:vC;function Zu(l,c){if(ya(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var f=Object.keys(l),x=Object.keys(c);if(f.length!==x.length)return!1;for(x=0;x<f.length;x++){var b=f[x];if(!d.call(c,b)||!ya(l[b],c[b]))return!1}return!0}function $b(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Vb(l,c){var f=$b(l);l=0;for(var x;f;){if(f.nodeType===3){if(x=l+f.textContent.length,l<=c&&x>=c)return{node:f,offset:c-l};l=x}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=$b(f)}}function Bb(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?Bb(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function Ub(){for(var l=window,c=Wt();c instanceof l.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)l=c.contentWindow;else break;c=Wt(l.document)}return c}function Xm(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}function bC(l){var c=Ub(),f=l.focusedElem,x=l.selectionRange;if(c!==f&&f&&f.ownerDocument&&Bb(f.ownerDocument.documentElement,f)){if(x!==null&&Xm(f)){if(c=x.start,l=x.end,l===void 0&&(l=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(l,f.value.length);else if(l=(c=f.ownerDocument||document)&&c.defaultView||window,l.getSelection){l=l.getSelection();var b=f.textContent.length,N=Math.min(x.start,b);x=x.end===void 0?N:Math.min(x.end,b),!l.extend&&N>x&&(b=x,x=N,N=b),b=Vb(f,N);var L=Vb(f,x);b&&L&&(l.rangeCount!==1||l.anchorNode!==b.node||l.anchorOffset!==b.offset||l.focusNode!==L.node||l.focusOffset!==L.offset)&&(c=c.createRange(),c.setStart(b.node,b.offset),l.removeAllRanges(),N>x?(l.addRange(c),l.extend(L.node,L.offset)):(c.setEnd(L.node,L.offset),l.addRange(c)))}}for(c=[],l=f;l=l.parentNode;)l.nodeType===1&&c.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)l=c[f],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var wC=u&&"documentMode"in document&&11>=document.documentMode,wc=null,Ym=null,ed=null,Qm=!1;function zb(l,c,f){var x=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Qm||wc==null||wc!==Wt(x)||(x=wc,"selectionStart"in x&&Xm(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),ed&&Zu(ed,x)||(ed=x,x=Th(Ym,"onSelect"),0<x.length&&(c=new fc("onSelect","select",null,c,f),l.push({event:c,listeners:x}),c.target=wc)))}function wh(l,c){var f={};return f[l.toLowerCase()]=c.toLowerCase(),f["Webkit"+l]="webkit"+c,f["Moz"+l]="moz"+c,f}var _c={animationend:wh("Animation","AnimationEnd"),animationiteration:wh("Animation","AnimationIteration"),animationstart:wh("Animation","AnimationStart"),transitionend:wh("Transition","TransitionEnd")},Jm={},Hb={};u&&(Hb=document.createElement("div").style,"AnimationEvent"in window||(delete _c.animationend.animation,delete _c.animationiteration.animation,delete _c.animationstart.animation),"TransitionEvent"in window||delete _c.transitionend.transition);function _h(l){if(Jm[l])return Jm[l];if(!_c[l])return l;var c=_c[l],f;for(f in c)if(c.hasOwnProperty(f)&&f in Hb)return Jm[l]=c[f];return l}var Wb=_h("animationend"),qb=_h("animationiteration"),Gb=_h("animationstart"),Kb=_h("transitionend"),Xb=new Map,Yb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(l,c){Xb.set(l,c),a(c,[l])}for(var Zm=0;Zm<Yb.length;Zm++){var eg=Yb[Zm],_C=eg.toLowerCase(),EC=eg[0].toUpperCase()+eg.slice(1);ao(_C,"on"+EC)}ao(Wb,"onAnimationEnd"),ao(qb,"onAnimationIteration"),ao(Gb,"onAnimationStart"),ao("dblclick","onDoubleClick"),ao("focusin","onFocus"),ao("focusout","onBlur"),ao(Kb,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TC=new Set("cancel close invalid load scroll toggle".split(" ").concat(td));function Qb(l,c,f){var x=l.type||"unknown-event";l.currentTarget=f,J(x,c,void 0,l),l.currentTarget=null}function Jb(l,c){c=(c&4)!==0;for(var f=0;f<l.length;f++){var x=l[f],b=x.event;x=x.listeners;e:{var N=void 0;if(c)for(var L=x.length-1;0<=L;L--){var ae=x[L],oe=ae.instance,we=ae.currentTarget;if(ae=ae.listener,oe!==N&&b.isPropagationStopped())break e;Qb(b,ae,we),N=oe}else for(L=0;L<x.length;L++){if(ae=x[L],oe=ae.instance,we=ae.currentTarget,ae=ae.listener,oe!==N&&b.isPropagationStopped())break e;Qb(b,ae,we),N=oe}}}if(P)throw l=z,P=!1,z=null,l}function Rr(l,c){var f=c[lg];f===void 0&&(f=c[lg]=new Set);var x=l+"__bubble";f.has(x)||(Zb(c,l,2,!1),f.add(x))}function tg(l,c,f){var x=0;c&&(x|=4),Zb(f,l,x,c)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function rd(l){if(!l[Eh]){l[Eh]=!0,n.forEach(function(f){f!=="selectionchange"&&(TC.has(f)||tg(f,!1,l),tg(f,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[Eh]||(c[Eh]=!0,tg("selectionchange",!1,c))}}function Zb(l,c,f,x){switch(qu(c)){case 1:var b=Fr;break;case 4:b=Wm;break;default:b=Wu}f=b.bind(null,c,f,l),b=void 0,!hn||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),x?b!==void 0?l.addEventListener(c,f,{capture:!0,passive:b}):l.addEventListener(c,f,!0):b!==void 0?l.addEventListener(c,f,{passive:b}):l.addEventListener(c,f,!1)}function rg(l,c,f,x,b){var N=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var L=x.tag;if(L===3||L===4){var ae=x.stateNode.containerInfo;if(ae===b||ae.nodeType===8&&ae.parentNode===b)break;if(L===4)for(L=x.return;L!==null;){var oe=L.tag;if((oe===3||oe===4)&&(oe=L.stateNode.containerInfo,oe===b||oe.nodeType===8&&oe.parentNode===b))return;L=L.return}for(;ae!==null;){if(L=ol(ae),L===null)return;if(oe=L.tag,oe===5||oe===6){x=N=L;continue e}ae=ae.parentNode}}x=x.return}Wn(function(){var we=N,qe=at(f),Xe=[];e:{var He=Xb.get(l);if(He!==void 0){var pt=fc,bt=l;switch(l){case"keypress":if(hc(f)===0)break e;case"keydown":case"keyup":pt=E;break;case"focusin":bt="focus",pt=xc;break;case"focusout":bt="blur",pt=xc;break;case"beforeblur":case"afterblur":pt=xc;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Ee;break;case Wb:case qb:case Gb:pt=vi;break;case Kb:pt=gr;break;case"scroll":pt=qm;break;case"wheel":pt=Zt;break;case"copy":case"cut":case"paste":pt=gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=q}var _t=(c&4)!==0,Jr=!_t&&l==="scroll",pe=_t?He!==null?He+"Capture":null:He;_t=[];for(var ce=we,ye;ce!==null;){ye=ce;var Qe=ye.stateNode;if(ye.tag===5&&Qe!==null&&(ye=Qe,pe!==null&&(Qe=ur(ce,pe),Qe!=null&&_t.push(nd(ce,Qe,ye)))),Jr)break;ce=ce.return}0<_t.length&&(He=new pt(He,bt,null,f,qe),Xe.push({event:He,listeners:_t}))}}if((c&7)===0){e:{if(He=l==="mouseover"||l==="pointerover",pt=l==="mouseout"||l==="pointerout",He&&f!==Nt&&(bt=f.relatedTarget||f.fromElement)&&(ol(bt)||bt[bi]))break e;if((pt||He)&&(He=qe.window===qe?qe:(He=qe.ownerDocument)?He.defaultView||He.parentWindow:window,pt?(bt=f.relatedTarget||f.toElement,pt=we,bt=bt?ol(bt):null,bt!==null&&(Jr=Y(bt),bt!==Jr||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(pt=null,bt=we),pt!==bt)){if(_t=mc,Qe="onMouseLeave",pe="onMouseEnter",ce="mouse",(l==="pointerout"||l==="pointerover")&&(_t=q,Qe="onPointerLeave",pe="onPointerEnter",ce="pointer"),Jr=pt==null?He:kc(pt),ye=bt==null?He:kc(bt),He=new _t(Qe,ce+"leave",pt,f,qe),He.target=Jr,He.relatedTarget=ye,Qe=null,ol(qe)===we&&(_t=new _t(pe,ce+"enter",bt,f,qe),_t.target=ye,_t.relatedTarget=Jr,Qe=_t),Jr=Qe,pt&&bt)t:{for(_t=pt,pe=bt,ce=0,ye=_t;ye;ye=Ec(ye))ce++;for(ye=0,Qe=pe;Qe;Qe=Ec(Qe))ye++;for(;0<ce-ye;)_t=Ec(_t),ce--;for(;0<ye-ce;)pe=Ec(pe),ye--;for(;ce--;){if(_t===pe||pe!==null&&_t===pe.alternate)break t;_t=Ec(_t),pe=Ec(pe)}_t=null}else _t=null;pt!==null&&e2(Xe,He,pt,_t,!1),bt!==null&&Jr!==null&&e2(Xe,Jr,bt,_t,!0)}}e:{if(He=we?kc(we):window,pt=He.nodeName&&He.nodeName.toLowerCase(),pt==="select"||pt==="input"&&He.type==="file")var Et=pC;else if(Rb(He))if(Ob)Et=yC;else{Et=gC;var Ct=mC}else(pt=He.nodeName)&&pt.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(Et=xC);if(Et&&(Et=Et(l,we))){Db(Xe,Et,f,qe);break e}Ct&&Ct(l,He,we),l==="focusout"&&(Ct=He._wrapperState)&&Ct.controlled&&He.type==="number"&&$t(He,"number",He.value)}switch(Ct=we?kc(we):window,l){case"focusin":(Rb(Ct)||Ct.contentEditable==="true")&&(wc=Ct,Ym=we,ed=null);break;case"focusout":ed=Ym=wc=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,zb(Xe,f,qe);break;case"selectionchange":if(wC)break;case"keydown":case"keyup":zb(Xe,f,qe)}var jt;if(nn)e:{switch(l){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else bc?Ib(l,f)&&(Ft="onCompositionEnd"):l==="keydown"&&f.keyCode===229&&(Ft="onCompositionStart");Ft&&(il&&f.locale!=="ko"&&(bc||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&bc&&(jt=Gu()):(Ps=qe,dc="value"in Ps?Ps.value:Ps.textContent,bc=!0)),Ct=Th(we,Ft),0<Ct.length&&(Ft=new Yu(Ft,l,null,f,qe),Xe.push({event:Ft,listeners:Ct}),jt?Ft.data=jt:(jt=Pb(f),jt!==null&&(Ft.data=jt)))),(jt=Rs?uC(l,f):dC(l,f))&&(we=Th(we,"onBeforeInput"),0<we.length&&(qe=new Yu("onBeforeInput","beforeinput",null,f,qe),Xe.push({event:qe,listeners:we}),qe.data=jt))}Jb(Xe,c)})}function nd(l,c,f){return{instance:l,listener:c,currentTarget:f}}function Th(l,c){for(var f=c+"Capture",x=[];l!==null;){var b=l,N=b.stateNode;b.tag===5&&N!==null&&(b=N,N=ur(l,f),N!=null&&x.unshift(nd(l,N,b)),N=ur(l,c),N!=null&&x.push(nd(l,N,b))),l=l.return}return x}function Ec(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function e2(l,c,f,x,b){for(var N=c._reactName,L=[];f!==null&&f!==x;){var ae=f,oe=ae.alternate,we=ae.stateNode;if(oe!==null&&oe===x)break;ae.tag===5&&we!==null&&(ae=we,b?(oe=ur(f,N),oe!=null&&L.unshift(nd(f,oe,ae))):b||(oe=ur(f,N),oe!=null&&L.push(nd(f,oe,ae)))),f=f.return}L.length!==0&&l.push({event:c,listeners:L})}var kC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function t2(l){return(typeof l=="string"?l:""+l).replace(kC,`
`).replace(NC,"")}function kh(l,c,f){if(c=t2(c),t2(l)!==c&&f)throw Error(r(425))}function Nh(){}var ng=null,sg=null;function ag(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var ig=typeof setTimeout=="function"?setTimeout:void 0,SC=typeof clearTimeout=="function"?clearTimeout:void 0,r2=typeof Promise=="function"?Promise:void 0,AC=typeof queueMicrotask=="function"?queueMicrotask:typeof r2<"u"?function(l){return r2.resolve(null).then(l).catch(CC)}:ig;function CC(l){setTimeout(function(){throw l})}function og(l,c){var f=c,x=0;do{var b=f.nextSibling;if(l.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(x===0){l.removeChild(b),ga(c);return}x--}else f!=="$"&&f!=="$?"&&f!=="$!"||x++;f=b}while(f);ga(c)}function io(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return l}function n2(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var f=l.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return l;c--}else f==="/$"&&c++}l=l.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),Wa="__reactFiber$"+Tc,sd="__reactProps$"+Tc,bi="__reactContainer$"+Tc,lg="__reactEvents$"+Tc,jC="__reactListeners$"+Tc,IC="__reactHandles$"+Tc;function ol(l){var c=l[Wa];if(c)return c;for(var f=l.parentNode;f;){if(c=f[bi]||f[Wa]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(l=n2(l);l!==null;){if(f=l[Wa])return f;l=n2(l)}return c}l=f,f=l.parentNode}return null}function ad(l){return l=l[Wa]||l[bi],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function kc(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Sh(l){return l[sd]||null}var cg=[],Nc=-1;function oo(l){return{current:l}}function Dr(l){0>Nc||(l.current=cg[Nc],cg[Nc]=null,Nc--)}function Cr(l,c){Nc++,cg[Nc]=l.current,l.current=c}var lo={},qn=oo(lo),ms=oo(!1),ll=lo;function Sc(l,c){var f=l.type.contextTypes;if(!f)return lo;var x=l.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var b={},N;for(N in f)b[N]=c[N];return x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=b),b}function gs(l){return l=l.childContextTypes,l!=null}function Ah(){Dr(ms),Dr(qn)}function s2(l,c,f){if(qn.current!==lo)throw Error(r(168));Cr(qn,c),Cr(ms,f)}function a2(l,c,f){var x=l.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return f;x=x.getChildContext();for(var b in x)if(!(b in c))throw Error(r(108,Oe(l)||"Unknown",b));return de({},f,x)}function Ch(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||lo,ll=qn.current,Cr(qn,l),Cr(ms,ms.current),!0}function i2(l,c,f){var x=l.stateNode;if(!x)throw Error(r(169));f?(l=a2(l,c,ll),x.__reactInternalMemoizedMergedChildContext=l,Dr(ms),Dr(qn),Cr(qn,l)):Dr(ms),Cr(ms,f)}var wi=null,jh=!1,ug=!1;function o2(l){wi===null?wi=[l]:wi.push(l)}function PC(l){jh=!0,o2(l)}function co(){if(!ug&&wi!==null){ug=!0;var l=0,c=Qt;try{var f=wi;for(Qt=1;l<f.length;l++){var x=f[l];do x=x(!0);while(x!==null)}wi=null,jh=!1}catch(b){throw wi!==null&&(wi=wi.slice(l+1)),Ue(nr,co),b}finally{Qt=c,ug=!1}}return null}var Ac=[],Cc=0,Ih=null,Ph=0,Qs=[],Js=0,cl=null,_i=1,Ei="";function ul(l,c){Ac[Cc++]=Ph,Ac[Cc++]=Ih,Ih=l,Ph=c}function l2(l,c,f){Qs[Js++]=_i,Qs[Js++]=Ei,Qs[Js++]=cl,cl=l;var x=_i;l=Ei;var b=32-Pr(x)-1;x&=~(1<<b),f+=1;var N=32-Pr(c)+b;if(30<N){var L=b-b%5;N=(x&(1<<L)-1).toString(32),x>>=L,b-=L,_i=1<<32-Pr(c)+b|f<<b|x,Ei=N+l}else _i=1<<N|f<<b|x,Ei=l}function dg(l){l.return!==null&&(ul(l,1),l2(l,1,0))}function hg(l){for(;l===Ih;)Ih=Ac[--Cc],Ac[Cc]=null,Ph=Ac[--Cc],Ac[Cc]=null;for(;l===cl;)cl=Qs[--Js],Qs[Js]=null,Ei=Qs[--Js],Qs[Js]=null,_i=Qs[--Js],Qs[Js]=null}var Ds=null,Os=null,Lr=!1,va=null;function c2(l,c){var f=ra(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=l,c=l.deletions,c===null?(l.deletions=[f],l.flags|=16):c.push(f)}function u2(l,c){switch(l.tag){case 5:var f=l.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(l.stateNode=c,Ds=l,Os=io(c.firstChild),!0):!1;case 6:return c=l.pendingProps===""||c.nodeType!==3?null:c,c!==null?(l.stateNode=c,Ds=l,Os=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=cl!==null?{id:_i,overflow:Ei}:null,l.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=ra(18,null,null,0),f.stateNode=c,f.return=l,l.child=f,Ds=l,Os=null,!0):!1;default:return!1}}function fg(l){return(l.mode&1)!==0&&(l.flags&128)===0}function pg(l){if(Lr){var c=Os;if(c){var f=c;if(!u2(l,c)){if(fg(l))throw Error(r(418));c=io(f.nextSibling);var x=Ds;c&&u2(l,c)?c2(x,f):(l.flags=l.flags&-4097|2,Lr=!1,Ds=l)}}else{if(fg(l))throw Error(r(418));l.flags=l.flags&-4097|2,Lr=!1,Ds=l}}}function d2(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Ds=l}function Rh(l){if(l!==Ds)return!1;if(!Lr)return d2(l),Lr=!0,!1;var c;if((c=l.tag!==3)&&!(c=l.tag!==5)&&(c=l.type,c=c!=="head"&&c!=="body"&&!ag(l.type,l.memoizedProps)),c&&(c=Os)){if(fg(l))throw h2(),Error(r(418));for(;c;)c2(l,c),c=io(c.nextSibling)}if(d2(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8){var f=l.data;if(f==="/$"){if(c===0){Os=io(l.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}l=l.nextSibling}Os=null}}else Os=Ds?io(l.stateNode.nextSibling):null;return!0}function h2(){for(var l=Os;l;)l=io(l.nextSibling)}function jc(){Os=Ds=null,Lr=!1}function mg(l){va===null?va=[l]:va.push(l)}var RC=O.ReactCurrentBatchConfig;function id(l,c,f){if(l=f.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var x=f.stateNode}if(!x)throw Error(r(147,l));var b=x,N=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===N?c.ref:(c=function(L){var ae=b.refs;L===null?delete ae[N]:ae[N]=L},c._stringRef=N,c)}if(typeof l!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,l))}return l}function Dh(l,c){throw l=Object.prototype.toString.call(c),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function f2(l){var c=l._init;return c(l._payload)}function p2(l){function c(pe,ce){if(l){var ye=pe.deletions;ye===null?(pe.deletions=[ce],pe.flags|=16):ye.push(ce)}}function f(pe,ce){if(!l)return null;for(;ce!==null;)c(pe,ce),ce=ce.sibling;return null}function x(pe,ce){for(pe=new Map;ce!==null;)ce.key!==null?pe.set(ce.key,ce):pe.set(ce.index,ce),ce=ce.sibling;return pe}function b(pe,ce){return pe=yo(pe,ce),pe.index=0,pe.sibling=null,pe}function N(pe,ce,ye){return pe.index=ye,l?(ye=pe.alternate,ye!==null?(ye=ye.index,ye<ce?(pe.flags|=2,ce):ye):(pe.flags|=2,ce)):(pe.flags|=1048576,ce)}function L(pe){return l&&pe.alternate===null&&(pe.flags|=2),pe}function ae(pe,ce,ye,Qe){return ce===null||ce.tag!==6?(ce=ix(ye,pe.mode,Qe),ce.return=pe,ce):(ce=b(ce,ye),ce.return=pe,ce)}function oe(pe,ce,ye,Qe){var Et=ye.type;return Et===A?qe(pe,ce,ye.props.children,Qe,ye.key):ce!==null&&(ce.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===$e&&f2(Et)===ce.type)?(Qe=b(ce,ye.props),Qe.ref=id(pe,ce,ye),Qe.return=pe,Qe):(Qe=sf(ye.type,ye.key,ye.props,null,pe.mode,Qe),Qe.ref=id(pe,ce,ye),Qe.return=pe,Qe)}function we(pe,ce,ye,Qe){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==ye.containerInfo||ce.stateNode.implementation!==ye.implementation?(ce=ox(ye,pe.mode,Qe),ce.return=pe,ce):(ce=b(ce,ye.children||[]),ce.return=pe,ce)}function qe(pe,ce,ye,Qe,Et){return ce===null||ce.tag!==7?(ce=yl(ye,pe.mode,Qe,Et),ce.return=pe,ce):(ce=b(ce,ye),ce.return=pe,ce)}function Xe(pe,ce,ye){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=ix(""+ce,pe.mode,ye),ce.return=pe,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case X:return ye=sf(ce.type,ce.key,ce.props,null,pe.mode,ye),ye.ref=id(pe,null,ce),ye.return=pe,ye;case B:return ce=ox(ce,pe.mode,ye),ce.return=pe,ce;case $e:var Qe=ce._init;return Xe(pe,Qe(ce._payload),ye)}if(Gt(ce)||ie(ce))return ce=yl(ce,pe.mode,ye,null),ce.return=pe,ce;Dh(pe,ce)}return null}function He(pe,ce,ye,Qe){var Et=ce!==null?ce.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return Et!==null?null:ae(pe,ce,""+ye,Qe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case X:return ye.key===Et?oe(pe,ce,ye,Qe):null;case B:return ye.key===Et?we(pe,ce,ye,Qe):null;case $e:return Et=ye._init,He(pe,ce,Et(ye._payload),Qe)}if(Gt(ye)||ie(ye))return Et!==null?null:qe(pe,ce,ye,Qe,null);Dh(pe,ye)}return null}function pt(pe,ce,ye,Qe,Et){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return pe=pe.get(ye)||null,ae(ce,pe,""+Qe,Et);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case X:return pe=pe.get(Qe.key===null?ye:Qe.key)||null,oe(ce,pe,Qe,Et);case B:return pe=pe.get(Qe.key===null?ye:Qe.key)||null,we(ce,pe,Qe,Et);case $e:var Ct=Qe._init;return pt(pe,ce,ye,Ct(Qe._payload),Et)}if(Gt(Qe)||ie(Qe))return pe=pe.get(ye)||null,qe(ce,pe,Qe,Et,null);Dh(ce,Qe)}return null}function bt(pe,ce,ye,Qe){for(var Et=null,Ct=null,jt=ce,Ft=ce=0,_n=null;jt!==null&&Ft<ye.length;Ft++){jt.index>Ft?(_n=jt,jt=null):_n=jt.sibling;var or=He(pe,jt,ye[Ft],Qe);if(or===null){jt===null&&(jt=_n);break}l&&jt&&or.alternate===null&&c(pe,jt),ce=N(or,ce,Ft),Ct===null?Et=or:Ct.sibling=or,Ct=or,jt=_n}if(Ft===ye.length)return f(pe,jt),Lr&&ul(pe,Ft),Et;if(jt===null){for(;Ft<ye.length;Ft++)jt=Xe(pe,ye[Ft],Qe),jt!==null&&(ce=N(jt,ce,Ft),Ct===null?Et=jt:Ct.sibling=jt,Ct=jt);return Lr&&ul(pe,Ft),Et}for(jt=x(pe,jt);Ft<ye.length;Ft++)_n=pt(jt,pe,Ft,ye[Ft],Qe),_n!==null&&(l&&_n.alternate!==null&&jt.delete(_n.key===null?Ft:_n.key),ce=N(_n,ce,Ft),Ct===null?Et=_n:Ct.sibling=_n,Ct=_n);return l&&jt.forEach(function(vo){return c(pe,vo)}),Lr&&ul(pe,Ft),Et}function _t(pe,ce,ye,Qe){var Et=ie(ye);if(typeof Et!="function")throw Error(r(150));if(ye=Et.call(ye),ye==null)throw Error(r(151));for(var Ct=Et=null,jt=ce,Ft=ce=0,_n=null,or=ye.next();jt!==null&&!or.done;Ft++,or=ye.next()){jt.index>Ft?(_n=jt,jt=null):_n=jt.sibling;var vo=He(pe,jt,or.value,Qe);if(vo===null){jt===null&&(jt=_n);break}l&&jt&&vo.alternate===null&&c(pe,jt),ce=N(vo,ce,Ft),Ct===null?Et=vo:Ct.sibling=vo,Ct=vo,jt=_n}if(or.done)return f(pe,jt),Lr&&ul(pe,Ft),Et;if(jt===null){for(;!or.done;Ft++,or=ye.next())or=Xe(pe,or.value,Qe),or!==null&&(ce=N(or,ce,Ft),Ct===null?Et=or:Ct.sibling=or,Ct=or);return Lr&&ul(pe,Ft),Et}for(jt=x(pe,jt);!or.done;Ft++,or=ye.next())or=pt(jt,pe,Ft,or.value,Qe),or!==null&&(l&&or.alternate!==null&&jt.delete(or.key===null?Ft:or.key),ce=N(or,ce,Ft),Ct===null?Et=or:Ct.sibling=or,Ct=or);return l&&jt.forEach(function(hj){return c(pe,hj)}),Lr&&ul(pe,Ft),Et}function Jr(pe,ce,ye,Qe){if(typeof ye=="object"&&ye!==null&&ye.type===A&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case X:e:{for(var Et=ye.key,Ct=ce;Ct!==null;){if(Ct.key===Et){if(Et=ye.type,Et===A){if(Ct.tag===7){f(pe,Ct.sibling),ce=b(Ct,ye.props.children),ce.return=pe,pe=ce;break e}}else if(Ct.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===$e&&f2(Et)===Ct.type){f(pe,Ct.sibling),ce=b(Ct,ye.props),ce.ref=id(pe,Ct,ye),ce.return=pe,pe=ce;break e}f(pe,Ct);break}else c(pe,Ct);Ct=Ct.sibling}ye.type===A?(ce=yl(ye.props.children,pe.mode,Qe,ye.key),ce.return=pe,pe=ce):(Qe=sf(ye.type,ye.key,ye.props,null,pe.mode,Qe),Qe.ref=id(pe,ce,ye),Qe.return=pe,pe=Qe)}return L(pe);case B:e:{for(Ct=ye.key;ce!==null;){if(ce.key===Ct)if(ce.tag===4&&ce.stateNode.containerInfo===ye.containerInfo&&ce.stateNode.implementation===ye.implementation){f(pe,ce.sibling),ce=b(ce,ye.children||[]),ce.return=pe,pe=ce;break e}else{f(pe,ce);break}else c(pe,ce);ce=ce.sibling}ce=ox(ye,pe.mode,Qe),ce.return=pe,pe=ce}return L(pe);case $e:return Ct=ye._init,Jr(pe,ce,Ct(ye._payload),Qe)}if(Gt(ye))return bt(pe,ce,ye,Qe);if(ie(ye))return _t(pe,ce,ye,Qe);Dh(pe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,ce!==null&&ce.tag===6?(f(pe,ce.sibling),ce=b(ce,ye),ce.return=pe,pe=ce):(f(pe,ce),ce=ix(ye,pe.mode,Qe),ce.return=pe,pe=ce),L(pe)):f(pe,ce)}return Jr}var Ic=p2(!0),m2=p2(!1),Oh=oo(null),Fh=null,Pc=null,gg=null;function xg(){gg=Pc=Fh=null}function yg(l){var c=Oh.current;Dr(Oh),l._currentValue=c}function vg(l,c,f){for(;l!==null;){var x=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),l===f)break;l=l.return}}function Rc(l,c){Fh=l,gg=Pc=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&c)!==0&&(xs=!0),l.firstContext=null)}function Zs(l){var c=l._currentValue;if(gg!==l)if(l={context:l,memoizedValue:c,next:null},Pc===null){if(Fh===null)throw Error(r(308));Pc=l,Fh.dependencies={lanes:0,firstContext:l}}else Pc=Pc.next=l;return c}var dl=null;function bg(l){dl===null?dl=[l]:dl.push(l)}function g2(l,c,f,x){var b=c.interleaved;return b===null?(f.next=f,bg(c)):(f.next=b.next,b.next=f),c.interleaved=f,Ti(l,x)}function Ti(l,c){l.lanes|=c;var f=l.alternate;for(f!==null&&(f.lanes|=c),f=l,l=l.return;l!==null;)l.childLanes|=c,f=l.alternate,f!==null&&(f.childLanes|=c),f=l,l=l.return;return f.tag===3?f.stateNode:null}var uo=!1;function wg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x2(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ki(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function ho(l,c,f){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(ar&2)!==0){var b=x.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),x.pending=c,Ti(l,f)}return b=x.interleaved,b===null?(c.next=c,bg(x)):(c.next=b.next,b.next=c),x.interleaved=c,Ti(l,f)}function Lh(l,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var x=c.lanes;x&=l.pendingLanes,f|=x,c.lanes=f,eo(l,f)}}function y2(l,c){var f=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,f===x)){var b=null,N=null;if(f=f.firstBaseUpdate,f!==null){do{var L={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};N===null?b=N=L:N=N.next=L,f=f.next}while(f!==null);N===null?b=N=c:N=N.next=c}else b=N=c;f={baseState:x.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:x.shared,effects:x.effects},l.updateQueue=f;return}l=f.lastBaseUpdate,l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=c}function Mh(l,c,f,x){var b=l.updateQueue;uo=!1;var N=b.firstBaseUpdate,L=b.lastBaseUpdate,ae=b.shared.pending;if(ae!==null){b.shared.pending=null;var oe=ae,we=oe.next;oe.next=null,L===null?N=we:L.next=we,L=oe;var qe=l.alternate;qe!==null&&(qe=qe.updateQueue,ae=qe.lastBaseUpdate,ae!==L&&(ae===null?qe.firstBaseUpdate=we:ae.next=we,qe.lastBaseUpdate=oe))}if(N!==null){var Xe=b.baseState;L=0,qe=we=oe=null,ae=N;do{var He=ae.lane,pt=ae.eventTime;if((x&He)===He){qe!==null&&(qe=qe.next={eventTime:pt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var bt=l,_t=ae;switch(He=c,pt=f,_t.tag){case 1:if(bt=_t.payload,typeof bt=="function"){Xe=bt.call(pt,Xe,He);break e}Xe=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=_t.payload,He=typeof bt=="function"?bt.call(pt,Xe,He):bt,He==null)break e;Xe=de({},Xe,He);break e;case 2:uo=!0}}ae.callback!==null&&ae.lane!==0&&(l.flags|=64,He=b.effects,He===null?b.effects=[ae]:He.push(ae))}else pt={eventTime:pt,lane:He,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},qe===null?(we=qe=pt,oe=Xe):qe=qe.next=pt,L|=He;if(ae=ae.next,ae===null){if(ae=b.shared.pending,ae===null)break;He=ae,ae=He.next,He.next=null,b.lastBaseUpdate=He,b.shared.pending=null}}while(!0);if(qe===null&&(oe=Xe),b.baseState=oe,b.firstBaseUpdate=we,b.lastBaseUpdate=qe,c=b.shared.interleaved,c!==null){b=c;do L|=b.lane,b=b.next;while(b!==c)}else N===null&&(b.shared.lanes=0);pl|=L,l.lanes=L,l.memoizedState=Xe}}function v2(l,c,f){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var x=l[c],b=x.callback;if(b!==null){if(x.callback=null,x=f,typeof b!="function")throw Error(r(191,b));b.call(x)}}}var od={},qa=oo(od),ld=oo(od),cd=oo(od);function hl(l){if(l===od)throw Error(r(174));return l}function _g(l,c){switch(Cr(cd,c),Cr(ld,l),Cr(qa,od),l=c.nodeType,l){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:st(null,"");break;default:l=l===8?c.parentNode:c,c=l.namespaceURI||null,l=l.tagName,c=st(c,l)}Dr(qa),Cr(qa,c)}function Dc(){Dr(qa),Dr(ld),Dr(cd)}function b2(l){hl(cd.current);var c=hl(qa.current),f=st(c,l.type);c!==f&&(Cr(ld,l),Cr(qa,f))}function Eg(l){ld.current===l&&(Dr(qa),Dr(ld))}var Br=oo(0);function $h(l){for(var c=l;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Tg=[];function kg(){for(var l=0;l<Tg.length;l++)Tg[l]._workInProgressVersionPrimary=null;Tg.length=0}var Vh=O.ReactCurrentDispatcher,Ng=O.ReactCurrentBatchConfig,fl=0,Ur=null,pn=null,bn=null,Bh=!1,ud=!1,dd=0,DC=0;function Gn(){throw Error(r(321))}function Sg(l,c){if(c===null)return!1;for(var f=0;f<c.length&&f<l.length;f++)if(!ya(l[f],c[f]))return!1;return!0}function Ag(l,c,f,x,b,N){if(fl=N,Ur=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Vh.current=l===null||l.memoizedState===null?MC:$C,l=f(x,b),ud){N=0;do{if(ud=!1,dd=0,25<=N)throw Error(r(301));N+=1,bn=pn=null,c.updateQueue=null,Vh.current=VC,l=f(x,b)}while(ud)}if(Vh.current=Hh,c=pn!==null&&pn.next!==null,fl=0,bn=pn=Ur=null,Bh=!1,c)throw Error(r(300));return l}function Cg(){var l=dd!==0;return dd=0,l}function Ga(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Ur.memoizedState=bn=l:bn=bn.next=l,bn}function ea(){if(pn===null){var l=Ur.alternate;l=l!==null?l.memoizedState:null}else l=pn.next;var c=bn===null?Ur.memoizedState:bn.next;if(c!==null)bn=c,pn=l;else{if(l===null)throw Error(r(310));pn=l,l={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},bn===null?Ur.memoizedState=bn=l:bn=bn.next=l}return bn}function hd(l,c){return typeof c=="function"?c(l):c}function jg(l){var c=ea(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var x=pn,b=x.baseQueue,N=f.pending;if(N!==null){if(b!==null){var L=b.next;b.next=N.next,N.next=L}x.baseQueue=b=N,f.pending=null}if(b!==null){N=b.next,x=x.baseState;var ae=L=null,oe=null,we=N;do{var qe=we.lane;if((fl&qe)===qe)oe!==null&&(oe=oe.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),x=we.hasEagerState?we.eagerState:l(x,we.action);else{var Xe={lane:qe,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};oe===null?(ae=oe=Xe,L=x):oe=oe.next=Xe,Ur.lanes|=qe,pl|=qe}we=we.next}while(we!==null&&we!==N);oe===null?L=x:oe.next=ae,ya(x,c.memoizedState)||(xs=!0),c.memoizedState=x,c.baseState=L,c.baseQueue=oe,f.lastRenderedState=x}if(l=f.interleaved,l!==null){b=l;do N=b.lane,Ur.lanes|=N,pl|=N,b=b.next;while(b!==l)}else b===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function Ig(l){var c=ea(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var x=f.dispatch,b=f.pending,N=c.memoizedState;if(b!==null){f.pending=null;var L=b=b.next;do N=l(N,L.action),L=L.next;while(L!==b);ya(N,c.memoizedState)||(xs=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),f.lastRenderedState=N}return[N,x]}function w2(){}function _2(l,c){var f=Ur,x=ea(),b=c(),N=!ya(x.memoizedState,b);if(N&&(x.memoizedState=b,xs=!0),x=x.queue,Pg(k2.bind(null,f,x,l),[l]),x.getSnapshot!==c||N||bn!==null&&bn.memoizedState.tag&1){if(f.flags|=2048,fd(9,T2.bind(null,f,x,b,c),void 0,null),wn===null)throw Error(r(349));(fl&30)!==0||E2(f,c,b)}return b}function E2(l,c,f){l.flags|=16384,l={getSnapshot:c,value:f},c=Ur.updateQueue,c===null?(c={lastEffect:null,stores:null},Ur.updateQueue=c,c.stores=[l]):(f=c.stores,f===null?c.stores=[l]:f.push(l))}function T2(l,c,f,x){c.value=f,c.getSnapshot=x,N2(c)&&S2(l)}function k2(l,c,f){return f(function(){N2(c)&&S2(l)})}function N2(l){var c=l.getSnapshot;l=l.value;try{var f=c();return!ya(l,f)}catch{return!0}}function S2(l){var c=Ti(l,1);c!==null&&Ea(c,l,1,-1)}function A2(l){var c=Ga();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:l},c.queue=l,l=l.dispatch=LC.bind(null,Ur,l),[c.memoizedState,l]}function fd(l,c,f,x){return l={tag:l,create:c,destroy:f,deps:x,next:null},c=Ur.updateQueue,c===null?(c={lastEffect:null,stores:null},Ur.updateQueue=c,c.lastEffect=l.next=l):(f=c.lastEffect,f===null?c.lastEffect=l.next=l:(x=f.next,f.next=l,l.next=x,c.lastEffect=l)),l}function C2(){return ea().memoizedState}function Uh(l,c,f,x){var b=Ga();Ur.flags|=l,b.memoizedState=fd(1|c,f,void 0,x===void 0?null:x)}function zh(l,c,f,x){var b=ea();x=x===void 0?null:x;var N=void 0;if(pn!==null){var L=pn.memoizedState;if(N=L.destroy,x!==null&&Sg(x,L.deps)){b.memoizedState=fd(c,f,N,x);return}}Ur.flags|=l,b.memoizedState=fd(1|c,f,N,x)}function j2(l,c){return Uh(8390656,8,l,c)}function Pg(l,c){return zh(2048,8,l,c)}function I2(l,c){return zh(4,2,l,c)}function P2(l,c){return zh(4,4,l,c)}function R2(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function D2(l,c,f){return f=f!=null?f.concat([l]):null,zh(4,4,R2.bind(null,c,l),f)}function Rg(){}function O2(l,c){var f=ea();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&Sg(c,x[1])?x[0]:(f.memoizedState=[l,c],l)}function F2(l,c){var f=ea();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&Sg(c,x[1])?x[0]:(l=l(),f.memoizedState=[l,c],l)}function L2(l,c,f){return(fl&21)===0?(l.baseState&&(l.baseState=!1,xs=!0),l.memoizedState=f):(ya(f,c)||(f=rl(),Ur.lanes|=f,pl|=f,l.baseState=!0),c)}function OC(l,c){var f=Qt;Qt=f!==0&&4>f?f:4,l(!0);var x=Ng.transition;Ng.transition={};try{l(!1),c()}finally{Qt=f,Ng.transition=x}}function M2(){return ea().memoizedState}function FC(l,c,f){var x=go(l);if(f={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null},$2(l))V2(c,f);else if(f=g2(l,c,f,x),f!==null){var b=is();Ea(f,l,x,b),B2(f,c,x)}}function LC(l,c,f){var x=go(l),b={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null};if($2(l))V2(c,b);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var L=c.lastRenderedState,ae=N(L,f);if(b.hasEagerState=!0,b.eagerState=ae,ya(ae,L)){var oe=c.interleaved;oe===null?(b.next=b,bg(c)):(b.next=oe.next,oe.next=b),c.interleaved=b;return}}catch{}finally{}f=g2(l,c,b,x),f!==null&&(b=is(),Ea(f,l,x,b),B2(f,c,x))}}function $2(l){var c=l.alternate;return l===Ur||c!==null&&c===Ur}function V2(l,c){ud=Bh=!0;var f=l.pending;f===null?c.next=c:(c.next=f.next,f.next=c),l.pending=c}function B2(l,c,f){if((f&4194240)!==0){var x=c.lanes;x&=l.pendingLanes,f|=x,c.lanes=f,eo(l,f)}}var Hh={readContext:Zs,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},MC={readContext:Zs,useCallback:function(l,c){return Ga().memoizedState=[l,c===void 0?null:c],l},useContext:Zs,useEffect:j2,useImperativeHandle:function(l,c,f){return f=f!=null?f.concat([l]):null,Uh(4194308,4,R2.bind(null,c,l),f)},useLayoutEffect:function(l,c){return Uh(4194308,4,l,c)},useInsertionEffect:function(l,c){return Uh(4,2,l,c)},useMemo:function(l,c){var f=Ga();return c=c===void 0?null:c,l=l(),f.memoizedState=[l,c],l},useReducer:function(l,c,f){var x=Ga();return c=f!==void 0?f(c):c,x.memoizedState=x.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},x.queue=l,l=l.dispatch=FC.bind(null,Ur,l),[x.memoizedState,l]},useRef:function(l){var c=Ga();return l={current:l},c.memoizedState=l},useState:A2,useDebugValue:Rg,useDeferredValue:function(l){return Ga().memoizedState=l},useTransition:function(){var l=A2(!1),c=l[0];return l=OC.bind(null,l[1]),Ga().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,f){var x=Ur,b=Ga();if(Lr){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),wn===null)throw Error(r(349));(fl&30)!==0||E2(x,c,f)}b.memoizedState=f;var N={value:f,getSnapshot:c};return b.queue=N,j2(k2.bind(null,x,N,l),[l]),x.flags|=2048,fd(9,T2.bind(null,x,N,f,c),void 0,null),f},useId:function(){var l=Ga(),c=wn.identifierPrefix;if(Lr){var f=Ei,x=_i;f=(x&~(1<<32-Pr(x)-1)).toString(32)+f,c=":"+c+"R"+f,f=dd++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=DC++,c=":"+c+"r"+f.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},$C={readContext:Zs,useCallback:O2,useContext:Zs,useEffect:Pg,useImperativeHandle:D2,useInsertionEffect:I2,useLayoutEffect:P2,useMemo:F2,useReducer:jg,useRef:C2,useState:function(){return jg(hd)},useDebugValue:Rg,useDeferredValue:function(l){var c=ea();return L2(c,pn.memoizedState,l)},useTransition:function(){var l=jg(hd)[0],c=ea().memoizedState;return[l,c]},useMutableSource:w2,useSyncExternalStore:_2,useId:M2,unstable_isNewReconciler:!1},VC={readContext:Zs,useCallback:O2,useContext:Zs,useEffect:Pg,useImperativeHandle:D2,useInsertionEffect:I2,useLayoutEffect:P2,useMemo:F2,useReducer:Ig,useRef:C2,useState:function(){return Ig(hd)},useDebugValue:Rg,useDeferredValue:function(l){var c=ea();return pn===null?c.memoizedState=l:L2(c,pn.memoizedState,l)},useTransition:function(){var l=Ig(hd)[0],c=ea().memoizedState;return[l,c]},useMutableSource:w2,useSyncExternalStore:_2,useId:M2,unstable_isNewReconciler:!1};function ba(l,c){if(l&&l.defaultProps){c=de({},c),l=l.defaultProps;for(var f in l)c[f]===void 0&&(c[f]=l[f]);return c}return c}function Dg(l,c,f,x){c=l.memoizedState,f=f(x,c),f=f==null?c:de({},c,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var Wh={isMounted:function(l){return(l=l._reactInternals)?Y(l)===l:!1},enqueueSetState:function(l,c,f){l=l._reactInternals;var x=is(),b=go(l),N=ki(x,b);N.payload=c,f!=null&&(N.callback=f),c=ho(l,N,b),c!==null&&(Ea(c,l,b,x),Lh(c,l,b))},enqueueReplaceState:function(l,c,f){l=l._reactInternals;var x=is(),b=go(l),N=ki(x,b);N.tag=1,N.payload=c,f!=null&&(N.callback=f),c=ho(l,N,b),c!==null&&(Ea(c,l,b,x),Lh(c,l,b))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var f=is(),x=go(l),b=ki(f,x);b.tag=2,c!=null&&(b.callback=c),c=ho(l,b,x),c!==null&&(Ea(c,l,x,f),Lh(c,l,x))}};function U2(l,c,f,x,b,N,L){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,N,L):c.prototype&&c.prototype.isPureReactComponent?!Zu(f,x)||!Zu(b,N):!0}function z2(l,c,f){var x=!1,b=lo,N=c.contextType;return typeof N=="object"&&N!==null?N=Zs(N):(b=gs(c)?ll:qn.current,x=c.contextTypes,N=(x=x!=null)?Sc(l,b):lo),c=new c(f,N),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Wh,l.stateNode=c,c._reactInternals=l,x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=b,l.__reactInternalMemoizedMaskedChildContext=N),c}function H2(l,c,f,x){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,x),c.state!==l&&Wh.enqueueReplaceState(c,c.state,null)}function Og(l,c,f,x){var b=l.stateNode;b.props=f,b.state=l.memoizedState,b.refs={},wg(l);var N=c.contextType;typeof N=="object"&&N!==null?b.context=Zs(N):(N=gs(c)?ll:qn.current,b.context=Sc(l,N)),b.state=l.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Dg(l,c,N,f),b.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(c=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),c!==b.state&&Wh.enqueueReplaceState(b,b.state,null),Mh(l,f,b,x),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308)}function Oc(l,c){try{var f="",x=c;do f+=ne(x),x=x.return;while(x);var b=f}catch(N){b=`
Error generating stack: `+N.message+`
`+N.stack}return{value:l,source:c,stack:b,digest:null}}function Fg(l,c,f){return{value:l,source:null,stack:f??null,digest:c??null}}function Lg(l,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var BC=typeof WeakMap=="function"?WeakMap:Map;function W2(l,c,f){f=ki(-1,f),f.tag=3,f.payload={element:null};var x=c.value;return f.callback=function(){Jh||(Jh=!0,Jg=x),Lg(l,c)},f}function q2(l,c,f){f=ki(-1,f),f.tag=3;var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var b=c.value;f.payload=function(){return x(b)},f.callback=function(){Lg(l,c)}}var N=l.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(f.callback=function(){Lg(l,c),typeof x!="function"&&(po===null?po=new Set([this]):po.add(this));var L=c.stack;this.componentDidCatch(c.value,{componentStack:L!==null?L:""})}),f}function G2(l,c,f){var x=l.pingCache;if(x===null){x=l.pingCache=new BC;var b=new Set;x.set(c,b)}else b=x.get(c),b===void 0&&(b=new Set,x.set(c,b));b.has(f)||(b.add(f),l=tj.bind(null,l,c,f),c.then(l,l))}function K2(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function X2(l,c,f,x,b){return(l.mode&1)===0?(l===c?l.flags|=65536:(l.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=ki(-1,1),c.tag=2,ho(f,c,1))),f.lanes|=1),l):(l.flags|=65536,l.lanes=b,l)}var UC=O.ReactCurrentOwner,xs=!1;function as(l,c,f,x){c.child=l===null?m2(c,null,f,x):Ic(c,l.child,f,x)}function Y2(l,c,f,x,b){f=f.render;var N=c.ref;return Rc(c,b),x=Ag(l,c,f,x,N,b),f=Cg(),l!==null&&!xs?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~b,Ni(l,c,b)):(Lr&&f&&dg(c),c.flags|=1,as(l,c,x,b),c.child)}function Q2(l,c,f,x,b){if(l===null){var N=f.type;return typeof N=="function"&&!ax(N)&&N.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=N,J2(l,c,N,x,b)):(l=sf(f.type,null,x,c,c.mode,b),l.ref=c.ref,l.return=c,c.child=l)}if(N=l.child,(l.lanes&b)===0){var L=N.memoizedProps;if(f=f.compare,f=f!==null?f:Zu,f(L,x)&&l.ref===c.ref)return Ni(l,c,b)}return c.flags|=1,l=yo(N,x),l.ref=c.ref,l.return=c,c.child=l}function J2(l,c,f,x,b){if(l!==null){var N=l.memoizedProps;if(Zu(N,x)&&l.ref===c.ref)if(xs=!1,c.pendingProps=x=N,(l.lanes&b)!==0)(l.flags&131072)!==0&&(xs=!0);else return c.lanes=l.lanes,Ni(l,c,b)}return Mg(l,c,f,x,b)}function Z2(l,c,f){var x=c.pendingProps,b=x.children,N=l!==null?l.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Lc,Fs),Fs|=f;else{if((f&1073741824)===0)return l=N!==null?N.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,Cr(Lc,Fs),Fs|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=N!==null?N.baseLanes:f,Cr(Lc,Fs),Fs|=x}else N!==null?(x=N.baseLanes|f,c.memoizedState=null):x=f,Cr(Lc,Fs),Fs|=x;return as(l,c,b,f),c.child}function ew(l,c){var f=c.ref;(l===null&&f!==null||l!==null&&l.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function Mg(l,c,f,x,b){var N=gs(f)?ll:qn.current;return N=Sc(c,N),Rc(c,b),f=Ag(l,c,f,x,N,b),x=Cg(),l!==null&&!xs?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~b,Ni(l,c,b)):(Lr&&x&&dg(c),c.flags|=1,as(l,c,f,b),c.child)}function tw(l,c,f,x,b){if(gs(f)){var N=!0;Ch(c)}else N=!1;if(Rc(c,b),c.stateNode===null)Gh(l,c),z2(c,f,x),Og(c,f,x,b),x=!0;else if(l===null){var L=c.stateNode,ae=c.memoizedProps;L.props=ae;var oe=L.context,we=f.contextType;typeof we=="object"&&we!==null?we=Zs(we):(we=gs(f)?ll:qn.current,we=Sc(c,we));var qe=f.getDerivedStateFromProps,Xe=typeof qe=="function"||typeof L.getSnapshotBeforeUpdate=="function";Xe||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ae!==x||oe!==we)&&H2(c,L,x,we),uo=!1;var He=c.memoizedState;L.state=He,Mh(c,x,L,b),oe=c.memoizedState,ae!==x||He!==oe||ms.current||uo?(typeof qe=="function"&&(Dg(c,f,qe,x),oe=c.memoizedState),(ae=uo||U2(c,f,ae,x,He,oe,we))?(Xe||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(c.flags|=4194308)):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=oe),L.props=x,L.state=oe,L.context=we,x=ae):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{L=c.stateNode,x2(l,c),ae=c.memoizedProps,we=c.type===c.elementType?ae:ba(c.type,ae),L.props=we,Xe=c.pendingProps,He=L.context,oe=f.contextType,typeof oe=="object"&&oe!==null?oe=Zs(oe):(oe=gs(f)?ll:qn.current,oe=Sc(c,oe));var pt=f.getDerivedStateFromProps;(qe=typeof pt=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ae!==Xe||He!==oe)&&H2(c,L,x,oe),uo=!1,He=c.memoizedState,L.state=He,Mh(c,x,L,b);var bt=c.memoizedState;ae!==Xe||He!==bt||ms.current||uo?(typeof pt=="function"&&(Dg(c,f,pt,x),bt=c.memoizedState),(we=uo||U2(c,f,we,x,He,bt,oe)||!1)?(qe||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(x,bt,oe),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(x,bt,oe)),typeof L.componentDidUpdate=="function"&&(c.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof L.componentDidUpdate!="function"||ae===l.memoizedProps&&He===l.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&He===l.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=bt),L.props=x,L.state=bt,L.context=oe,x=we):(typeof L.componentDidUpdate!="function"||ae===l.memoizedProps&&He===l.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&He===l.memoizedState||(c.flags|=1024),x=!1)}return $g(l,c,f,x,N,b)}function $g(l,c,f,x,b,N){ew(l,c);var L=(c.flags&128)!==0;if(!x&&!L)return b&&i2(c,f,!1),Ni(l,c,N);x=c.stateNode,UC.current=c;var ae=L&&typeof f.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,l!==null&&L?(c.child=Ic(c,l.child,null,N),c.child=Ic(c,null,ae,N)):as(l,c,ae,N),c.memoizedState=x.state,b&&i2(c,f,!0),c.child}function rw(l){var c=l.stateNode;c.pendingContext?s2(l,c.pendingContext,c.pendingContext!==c.context):c.context&&s2(l,c.context,!1),_g(l,c.containerInfo)}function nw(l,c,f,x,b){return jc(),mg(b),c.flags|=256,as(l,c,f,x),c.child}var Vg={dehydrated:null,treeContext:null,retryLane:0};function Bg(l){return{baseLanes:l,cachePool:null,transitions:null}}function sw(l,c,f){var x=c.pendingProps,b=Br.current,N=!1,L=(c.flags&128)!==0,ae;if((ae=L)||(ae=l!==null&&l.memoizedState===null?!1:(b&2)!==0),ae?(N=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(b|=1),Cr(Br,b&1),l===null)return pg(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((c.mode&1)===0?c.lanes=1:l.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(L=x.children,l=x.fallback,N?(x=c.mode,N=c.child,L={mode:"hidden",children:L},(x&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=L):N=af(L,x,0,null),l=yl(l,x,f,null),N.return=c,l.return=c,N.sibling=l,c.child=N,c.child.memoizedState=Bg(f),c.memoizedState=Vg,l):Ug(c,L));if(b=l.memoizedState,b!==null&&(ae=b.dehydrated,ae!==null))return zC(l,c,L,x,ae,b,f);if(N){N=x.fallback,L=c.mode,b=l.child,ae=b.sibling;var oe={mode:"hidden",children:x.children};return(L&1)===0&&c.child!==b?(x=c.child,x.childLanes=0,x.pendingProps=oe,c.deletions=null):(x=yo(b,oe),x.subtreeFlags=b.subtreeFlags&14680064),ae!==null?N=yo(ae,N):(N=yl(N,L,f,null),N.flags|=2),N.return=c,x.return=c,x.sibling=N,c.child=x,x=N,N=c.child,L=l.child.memoizedState,L=L===null?Bg(f):{baseLanes:L.baseLanes|f,cachePool:null,transitions:L.transitions},N.memoizedState=L,N.childLanes=l.childLanes&~f,c.memoizedState=Vg,x}return N=l.child,l=N.sibling,x=yo(N,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=f),x.return=c,x.sibling=null,l!==null&&(f=c.deletions,f===null?(c.deletions=[l],c.flags|=16):f.push(l)),c.child=x,c.memoizedState=null,x}function Ug(l,c){return c=af({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function qh(l,c,f,x){return x!==null&&mg(x),Ic(c,l.child,null,f),l=Ug(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function zC(l,c,f,x,b,N,L){if(f)return c.flags&256?(c.flags&=-257,x=Fg(Error(r(422))),qh(l,c,L,x)):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(N=x.fallback,b=c.mode,x=af({mode:"visible",children:x.children},b,0,null),N=yl(N,b,L,null),N.flags|=2,x.return=c,N.return=c,x.sibling=N,c.child=x,(c.mode&1)!==0&&Ic(c,l.child,null,L),c.child.memoizedState=Bg(L),c.memoizedState=Vg,N);if((c.mode&1)===0)return qh(l,c,L,null);if(b.data==="$!"){if(x=b.nextSibling&&b.nextSibling.dataset,x)var ae=x.dgst;return x=ae,N=Error(r(419)),x=Fg(N,x,void 0),qh(l,c,L,x)}if(ae=(L&l.childLanes)!==0,xs||ae){if(x=wn,x!==null){switch(L&-L){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(x.suspendedLanes|L))!==0?0:b,b!==0&&b!==N.retryLane&&(N.retryLane=b,Ti(l,b),Ea(x,l,b,-1))}return sx(),x=Fg(Error(r(421))),qh(l,c,L,x)}return b.data==="$?"?(c.flags|=128,c.child=l.child,c=rj.bind(null,l),b._reactRetry=c,null):(l=N.treeContext,Os=io(b.nextSibling),Ds=c,Lr=!0,va=null,l!==null&&(Qs[Js++]=_i,Qs[Js++]=Ei,Qs[Js++]=cl,_i=l.id,Ei=l.overflow,cl=c),c=Ug(c,x.children),c.flags|=4096,c)}function aw(l,c,f){l.lanes|=c;var x=l.alternate;x!==null&&(x.lanes|=c),vg(l.return,c,f)}function zg(l,c,f,x,b){var N=l.memoizedState;N===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:f,tailMode:b}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=x,N.tail=f,N.tailMode=b)}function iw(l,c,f){var x=c.pendingProps,b=x.revealOrder,N=x.tail;if(as(l,c,x.children,f),x=Br.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&aw(l,f,c);else if(l.tag===19)aw(l,f,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}if(Cr(Br,x),(c.mode&1)===0)c.memoizedState=null;else switch(b){case"forwards":for(f=c.child,b=null;f!==null;)l=f.alternate,l!==null&&$h(l)===null&&(b=f),f=f.sibling;f=b,f===null?(b=c.child,c.child=null):(b=f.sibling,f.sibling=null),zg(c,!1,b,f,N);break;case"backwards":for(f=null,b=c.child,c.child=null;b!==null;){if(l=b.alternate,l!==null&&$h(l)===null){c.child=b;break}l=b.sibling,b.sibling=f,f=b,b=l}zg(c,!0,f,null,N);break;case"together":zg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Gh(l,c){(c.mode&1)===0&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function Ni(l,c,f){if(l!==null&&(c.dependencies=l.dependencies),pl|=c.lanes,(f&c.childLanes)===0)return null;if(l!==null&&c.child!==l.child)throw Error(r(153));if(c.child!==null){for(l=c.child,f=yo(l,l.pendingProps),c.child=f,f.return=c;l.sibling!==null;)l=l.sibling,f=f.sibling=yo(l,l.pendingProps),f.return=c;f.sibling=null}return c.child}function HC(l,c,f){switch(c.tag){case 3:rw(c),jc();break;case 5:b2(c);break;case 1:gs(c.type)&&Ch(c);break;case 4:_g(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,b=c.memoizedProps.value;Cr(Oh,x._currentValue),x._currentValue=b;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(Cr(Br,Br.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?sw(l,c,f):(Cr(Br,Br.current&1),l=Ni(l,c,f),l!==null?l.sibling:null);Cr(Br,Br.current&1);break;case 19:if(x=(f&c.childLanes)!==0,(l.flags&128)!==0){if(x)return iw(l,c,f);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Cr(Br,Br.current),x)break;return null;case 22:case 23:return c.lanes=0,Z2(l,c,f)}return Ni(l,c,f)}var ow,Hg,lw,cw;ow=function(l,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)l.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Hg=function(){},lw=function(l,c,f,x){var b=l.memoizedProps;if(b!==x){l=c.stateNode,hl(qa.current);var N=null;switch(f){case"input":b=De(l,b),x=De(l,x),N=[];break;case"select":b=de({},b,{value:void 0}),x=de({},x,{value:void 0}),N=[];break;case"textarea":b=Ye(l,b),x=Ye(l,x),N=[];break;default:typeof b.onClick!="function"&&typeof x.onClick=="function"&&(l.onclick=Nh)}Ze(f,x);var L;f=null;for(we in b)if(!x.hasOwnProperty(we)&&b.hasOwnProperty(we)&&b[we]!=null)if(we==="style"){var ae=b[we];for(L in ae)ae.hasOwnProperty(L)&&(f||(f={}),f[L]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(s.hasOwnProperty(we)?N||(N=[]):(N=N||[]).push(we,null));for(we in x){var oe=x[we];if(ae=b?.[we],x.hasOwnProperty(we)&&oe!==ae&&(oe!=null||ae!=null))if(we==="style")if(ae){for(L in ae)!ae.hasOwnProperty(L)||oe&&oe.hasOwnProperty(L)||(f||(f={}),f[L]="");for(L in oe)oe.hasOwnProperty(L)&&ae[L]!==oe[L]&&(f||(f={}),f[L]=oe[L])}else f||(N||(N=[]),N.push(we,f)),f=oe;else we==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,ae=ae?ae.__html:void 0,oe!=null&&ae!==oe&&(N=N||[]).push(we,oe)):we==="children"?typeof oe!="string"&&typeof oe!="number"||(N=N||[]).push(we,""+oe):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(s.hasOwnProperty(we)?(oe!=null&&we==="onScroll"&&Rr("scroll",l),N||ae===oe||(N=[])):(N=N||[]).push(we,oe))}f&&(N=N||[]).push("style",f);var we=N;(c.updateQueue=we)&&(c.flags|=4)}},cw=function(l,c,f,x){f!==x&&(c.flags|=4)};function pd(l,c){if(!Lr)switch(l.tailMode){case"hidden":c=l.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Kn(l){var c=l.alternate!==null&&l.alternate.child===l.child,f=0,x=0;if(c)for(var b=l.child;b!==null;)f|=b.lanes|b.childLanes,x|=b.subtreeFlags&14680064,x|=b.flags&14680064,b.return=l,b=b.sibling;else for(b=l.child;b!==null;)f|=b.lanes|b.childLanes,x|=b.subtreeFlags,x|=b.flags,b.return=l,b=b.sibling;return l.subtreeFlags|=x,l.childLanes=f,c}function WC(l,c,f){var x=c.pendingProps;switch(hg(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(c),null;case 1:return gs(c.type)&&Ah(),Kn(c),null;case 3:return x=c.stateNode,Dc(),Dr(ms),Dr(qn),kg(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(l===null||l.child===null)&&(Rh(c)?c.flags|=4:l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,va!==null&&(tx(va),va=null))),Hg(l,c),Kn(c),null;case 5:Eg(c);var b=hl(cd.current);if(f=c.type,l!==null&&c.stateNode!=null)lw(l,c,f,x,b),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Kn(c),null}if(l=hl(qa.current),Rh(c)){x=c.stateNode,f=c.type;var N=c.memoizedProps;switch(x[Wa]=c,x[sd]=N,l=(c.mode&1)!==0,f){case"dialog":Rr("cancel",x),Rr("close",x);break;case"iframe":case"object":case"embed":Rr("load",x);break;case"video":case"audio":for(b=0;b<td.length;b++)Rr(td[b],x);break;case"source":Rr("error",x);break;case"img":case"image":case"link":Rr("error",x),Rr("load",x);break;case"details":Rr("toggle",x);break;case"input":fr(x,N),Rr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!N.multiple},Rr("invalid",x);break;case"textarea":ct(x,N),Rr("invalid",x)}Ze(f,N),b=null;for(var L in N)if(N.hasOwnProperty(L)){var ae=N[L];L==="children"?typeof ae=="string"?x.textContent!==ae&&(N.suppressHydrationWarning!==!0&&kh(x.textContent,ae,l),b=["children",ae]):typeof ae=="number"&&x.textContent!==""+ae&&(N.suppressHydrationWarning!==!0&&kh(x.textContent,ae,l),b=["children",""+ae]):s.hasOwnProperty(L)&&ae!=null&&L==="onScroll"&&Rr("scroll",x)}switch(f){case"input":it(x),pr(x,N,!0);break;case"textarea":it(x),At(x);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(x.onclick=Nh)}x=b,c.updateQueue=x,x!==null&&(c.flags|=4)}else{L=b.nodeType===9?b:b.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=wt(f)),l==="http://www.w3.org/1999/xhtml"?f==="script"?(l=L.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof x.is=="string"?l=L.createElement(f,{is:x.is}):(l=L.createElement(f),f==="select"&&(L=l,x.multiple?L.multiple=!0:x.size&&(L.size=x.size))):l=L.createElementNS(l,f),l[Wa]=c,l[sd]=x,ow(l,c,!1,!1),c.stateNode=l;e:{switch(L=vt(f,x),f){case"dialog":Rr("cancel",l),Rr("close",l),b=x;break;case"iframe":case"object":case"embed":Rr("load",l),b=x;break;case"video":case"audio":for(b=0;b<td.length;b++)Rr(td[b],l);b=x;break;case"source":Rr("error",l),b=x;break;case"img":case"image":case"link":Rr("error",l),Rr("load",l),b=x;break;case"details":Rr("toggle",l),b=x;break;case"input":fr(l,x),b=De(l,x),Rr("invalid",l);break;case"option":b=x;break;case"select":l._wrapperState={wasMultiple:!!x.multiple},b=de({},x,{value:void 0}),Rr("invalid",l);break;case"textarea":ct(l,x),b=Ye(l,x),Rr("invalid",l);break;default:b=x}Ze(f,b),ae=b;for(N in ae)if(ae.hasOwnProperty(N)){var oe=ae[N];N==="style"?ke(l,oe):N==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,oe!=null&&ir(l,oe)):N==="children"?typeof oe=="string"?(f!=="textarea"||oe!=="")&&Q(l,oe):typeof oe=="number"&&Q(l,""+oe):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?oe!=null&&N==="onScroll"&&Rr("scroll",l):oe!=null&&U(l,N,oe,L))}switch(f){case"input":it(l),pr(l,x,!1);break;case"textarea":it(l),At(l);break;case"option":x.value!=null&&l.setAttribute("value",""+Be(x.value));break;case"select":l.multiple=!!x.multiple,N=x.value,N!=null?le(l,!!x.multiple,N,!1):x.defaultValue!=null&&le(l,!!x.multiple,x.defaultValue,!0);break;default:typeof b.onClick=="function"&&(l.onclick=Nh)}switch(f){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Kn(c),null;case 6:if(l&&c.stateNode!=null)cw(l,c,l.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(f=hl(cd.current),hl(qa.current),Rh(c)){if(x=c.stateNode,f=c.memoizedProps,x[Wa]=c,(N=x.nodeValue!==f)&&(l=Ds,l!==null))switch(l.tag){case 3:kh(x.nodeValue,f,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&kh(x.nodeValue,f,(l.mode&1)!==0)}N&&(c.flags|=4)}else x=(f.nodeType===9?f:f.ownerDocument).createTextNode(x),x[Wa]=c,c.stateNode=x}return Kn(c),null;case 13:if(Dr(Br),x=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Lr&&Os!==null&&(c.mode&1)!==0&&(c.flags&128)===0)h2(),jc(),c.flags|=98560,N=!1;else if(N=Rh(c),x!==null&&x.dehydrated!==null){if(l===null){if(!N)throw Error(r(318));if(N=c.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Wa]=c}else jc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Kn(c),N=!1}else va!==null&&(tx(va),va=null),N=!0;if(!N)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(x=x!==null,x!==(l!==null&&l.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(l===null||(Br.current&1)!==0?mn===0&&(mn=3):sx())),c.updateQueue!==null&&(c.flags|=4),Kn(c),null);case 4:return Dc(),Hg(l,c),l===null&&rd(c.stateNode.containerInfo),Kn(c),null;case 10:return yg(c.type._context),Kn(c),null;case 17:return gs(c.type)&&Ah(),Kn(c),null;case 19:if(Dr(Br),N=c.memoizedState,N===null)return Kn(c),null;if(x=(c.flags&128)!==0,L=N.rendering,L===null)if(x)pd(N,!1);else{if(mn!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(L=$h(l),L!==null){for(c.flags|=128,pd(N,!1),x=L.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=f,f=c.child;f!==null;)N=f,l=x,N.flags&=14680066,L=N.alternate,L===null?(N.childLanes=0,N.lanes=l,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=L.childLanes,N.lanes=L.lanes,N.child=L.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=L.memoizedProps,N.memoizedState=L.memoizedState,N.updateQueue=L.updateQueue,N.type=L.type,l=L.dependencies,N.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),f=f.sibling;return Cr(Br,Br.current&1|2),c.child}l=l.sibling}N.tail!==null&&We()>Mc&&(c.flags|=128,x=!0,pd(N,!1),c.lanes=4194304)}else{if(!x)if(l=$h(L),l!==null){if(c.flags|=128,x=!0,f=l.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),pd(N,!0),N.tail===null&&N.tailMode==="hidden"&&!L.alternate&&!Lr)return Kn(c),null}else 2*We()-N.renderingStartTime>Mc&&f!==1073741824&&(c.flags|=128,x=!0,pd(N,!1),c.lanes=4194304);N.isBackwards?(L.sibling=c.child,c.child=L):(f=N.last,f!==null?f.sibling=L:c.child=L,N.last=L)}return N.tail!==null?(c=N.tail,N.rendering=c,N.tail=c.sibling,N.renderingStartTime=We(),c.sibling=null,f=Br.current,Cr(Br,x?f&1|2:f&1),c):(Kn(c),null);case 22:case 23:return nx(),x=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(Fs&1073741824)!==0&&(Kn(c),c.subtreeFlags&6&&(c.flags|=8192)):Kn(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function qC(l,c){switch(hg(c),c.tag){case 1:return gs(c.type)&&Ah(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return Dc(),Dr(ms),Dr(qn),kg(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 5:return Eg(c),null;case 13:if(Dr(Br),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(r(340));jc()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return Dr(Br),null;case 4:return Dc(),null;case 10:return yg(c.type._context),null;case 22:case 23:return nx(),null;case 24:return null;default:return null}}var Kh=!1,Xn=!1,GC=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Fc(l,c){var f=l.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(x){Gr(l,c,x)}else f.current=null}function Wg(l,c,f){try{f()}catch(x){Gr(l,c,x)}}var uw=!1;function KC(l,c){if(ng=no,l=Ub(),Xm(l)){if("selectionStart"in l)var f={start:l.selectionStart,end:l.selectionEnd};else e:{f=(f=l.ownerDocument)&&f.defaultView||window;var x=f.getSelection&&f.getSelection();if(x&&x.rangeCount!==0){f=x.anchorNode;var b=x.anchorOffset,N=x.focusNode;x=x.focusOffset;try{f.nodeType,N.nodeType}catch{f=null;break e}var L=0,ae=-1,oe=-1,we=0,qe=0,Xe=l,He=null;t:for(;;){for(var pt;Xe!==f||b!==0&&Xe.nodeType!==3||(ae=L+b),Xe!==N||x!==0&&Xe.nodeType!==3||(oe=L+x),Xe.nodeType===3&&(L+=Xe.nodeValue.length),(pt=Xe.firstChild)!==null;)He=Xe,Xe=pt;for(;;){if(Xe===l)break t;if(He===f&&++we===b&&(ae=L),He===N&&++qe===x&&(oe=L),(pt=Xe.nextSibling)!==null)break;Xe=He,He=Xe.parentNode}Xe=pt}f=ae===-1||oe===-1?null:{start:ae,end:oe}}else f=null}f=f||{start:0,end:0}}else f=null;for(sg={focusedElem:l,selectionRange:f},no=!1,xt=c;xt!==null;)if(c=xt,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,xt=l;else for(;xt!==null;){c=xt;try{var bt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var _t=bt.memoizedProps,Jr=bt.memoizedState,pe=c.stateNode,ce=pe.getSnapshotBeforeUpdate(c.elementType===c.type?_t:ba(c.type,_t),Jr);pe.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:var ye=c.stateNode.containerInfo;ye.nodeType===1?ye.textContent="":ye.nodeType===9&&ye.documentElement&&ye.removeChild(ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Qe){Gr(c,c.return,Qe)}if(l=c.sibling,l!==null){l.return=c.return,xt=l;break}xt=c.return}return bt=uw,uw=!1,bt}function md(l,c,f){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var b=x=x.next;do{if((b.tag&l)===l){var N=b.destroy;b.destroy=void 0,N!==void 0&&Wg(c,f,N)}b=b.next}while(b!==x)}}function Xh(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&l)===l){var x=f.create;f.destroy=x()}f=f.next}while(f!==c)}}function qg(l){var c=l.ref;if(c!==null){var f=l.stateNode;switch(l.tag){case 5:l=f;break;default:l=f}typeof c=="function"?c(l):c.current=l}}function dw(l){var c=l.alternate;c!==null&&(l.alternate=null,dw(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&(delete c[Wa],delete c[sd],delete c[lg],delete c[jC],delete c[IC])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function hw(l){return l.tag===5||l.tag===3||l.tag===4}function fw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||hw(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Gg(l,c,f){var x=l.tag;if(x===5||x===6)l=l.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(l,c):f.insertBefore(l,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(l,f)):(c=f,c.appendChild(l)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Nh));else if(x!==4&&(l=l.child,l!==null))for(Gg(l,c,f),l=l.sibling;l!==null;)Gg(l,c,f),l=l.sibling}function Kg(l,c,f){var x=l.tag;if(x===5||x===6)l=l.stateNode,c?f.insertBefore(l,c):f.appendChild(l);else if(x!==4&&(l=l.child,l!==null))for(Kg(l,c,f),l=l.sibling;l!==null;)Kg(l,c,f),l=l.sibling}var jn=null,wa=!1;function fo(l,c,f){for(f=f.child;f!==null;)pw(l,c,f),f=f.sibling}function pw(l,c,f){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(ns,f)}catch{}switch(f.tag){case 5:Xn||Fc(f,c);case 6:var x=jn,b=wa;jn=null,fo(l,c,f),jn=x,wa=b,jn!==null&&(wa?(l=jn,f=f.stateNode,l.nodeType===8?l.parentNode.removeChild(f):l.removeChild(f)):jn.removeChild(f.stateNode));break;case 18:jn!==null&&(wa?(l=jn,f=f.stateNode,l.nodeType===8?og(l.parentNode,f):l.nodeType===1&&og(l,f),ga(l)):og(jn,f.stateNode));break;case 4:x=jn,b=wa,jn=f.stateNode.containerInfo,wa=!0,fo(l,c,f),jn=x,wa=b;break;case 0:case 11:case 14:case 15:if(!Xn&&(x=f.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){b=x=x.next;do{var N=b,L=N.destroy;N=N.tag,L!==void 0&&((N&2)!==0||(N&4)!==0)&&Wg(f,c,L),b=b.next}while(b!==x)}fo(l,c,f);break;case 1:if(!Xn&&(Fc(f,c),x=f.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=f.memoizedProps,x.state=f.memoizedState,x.componentWillUnmount()}catch(ae){Gr(f,c,ae)}fo(l,c,f);break;case 21:fo(l,c,f);break;case 22:f.mode&1?(Xn=(x=Xn)||f.memoizedState!==null,fo(l,c,f),Xn=x):fo(l,c,f);break;default:fo(l,c,f)}}function mw(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var f=l.stateNode;f===null&&(f=l.stateNode=new GC),c.forEach(function(x){var b=nj.bind(null,l,x);f.has(x)||(f.add(x),x.then(b,b))})}}function _a(l,c){var f=c.deletions;if(f!==null)for(var x=0;x<f.length;x++){var b=f[x];try{var N=l,L=c,ae=L;e:for(;ae!==null;){switch(ae.tag){case 5:jn=ae.stateNode,wa=!1;break e;case 3:jn=ae.stateNode.containerInfo,wa=!0;break e;case 4:jn=ae.stateNode.containerInfo,wa=!0;break e}ae=ae.return}if(jn===null)throw Error(r(160));pw(N,L,b),jn=null,wa=!1;var oe=b.alternate;oe!==null&&(oe.return=null),b.return=null}catch(we){Gr(b,c,we)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)gw(c,l),c=c.sibling}function gw(l,c){var f=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(_a(c,l),Ka(l),x&4){try{md(3,l,l.return),Xh(3,l)}catch(_t){Gr(l,l.return,_t)}try{md(5,l,l.return)}catch(_t){Gr(l,l.return,_t)}}break;case 1:_a(c,l),Ka(l),x&512&&f!==null&&Fc(f,f.return);break;case 5:if(_a(c,l),Ka(l),x&512&&f!==null&&Fc(f,f.return),l.flags&32){var b=l.stateNode;try{Q(b,"")}catch(_t){Gr(l,l.return,_t)}}if(x&4&&(b=l.stateNode,b!=null)){var N=l.memoizedProps,L=f!==null?f.memoizedProps:N,ae=l.type,oe=l.updateQueue;if(l.updateQueue=null,oe!==null)try{ae==="input"&&N.type==="radio"&&N.name!=null&&Mt(b,N),vt(ae,L);var we=vt(ae,N);for(L=0;L<oe.length;L+=2){var qe=oe[L],Xe=oe[L+1];qe==="style"?ke(b,Xe):qe==="dangerouslySetInnerHTML"?ir(b,Xe):qe==="children"?Q(b,Xe):U(b,qe,Xe,we)}switch(ae){case"input":Pe(b,N);break;case"textarea":ut(b,N);break;case"select":var He=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!N.multiple;var pt=N.value;pt!=null?le(b,!!N.multiple,pt,!1):He!==!!N.multiple&&(N.defaultValue!=null?le(b,!!N.multiple,N.defaultValue,!0):le(b,!!N.multiple,N.multiple?[]:"",!1))}b[sd]=N}catch(_t){Gr(l,l.return,_t)}}break;case 6:if(_a(c,l),Ka(l),x&4){if(l.stateNode===null)throw Error(r(162));b=l.stateNode,N=l.memoizedProps;try{b.nodeValue=N}catch(_t){Gr(l,l.return,_t)}}break;case 3:if(_a(c,l),Ka(l),x&4&&f!==null&&f.memoizedState.isDehydrated)try{ga(c.containerInfo)}catch(_t){Gr(l,l.return,_t)}break;case 4:_a(c,l),Ka(l);break;case 13:_a(c,l),Ka(l),b=l.child,b.flags&8192&&(N=b.memoizedState!==null,b.stateNode.isHidden=N,!N||b.alternate!==null&&b.alternate.memoizedState!==null||(Qg=We())),x&4&&mw(l);break;case 22:if(qe=f!==null&&f.memoizedState!==null,l.mode&1?(Xn=(we=Xn)||qe,_a(c,l),Xn=we):_a(c,l),Ka(l),x&8192){if(we=l.memoizedState!==null,(l.stateNode.isHidden=we)&&!qe&&(l.mode&1)!==0)for(xt=l,qe=l.child;qe!==null;){for(Xe=xt=qe;xt!==null;){switch(He=xt,pt=He.child,He.tag){case 0:case 11:case 14:case 15:md(4,He,He.return);break;case 1:Fc(He,He.return);var bt=He.stateNode;if(typeof bt.componentWillUnmount=="function"){x=He,f=He.return;try{c=x,bt.props=c.memoizedProps,bt.state=c.memoizedState,bt.componentWillUnmount()}catch(_t){Gr(x,f,_t)}}break;case 5:Fc(He,He.return);break;case 22:if(He.memoizedState!==null){vw(Xe);continue}}pt!==null?(pt.return=He,xt=pt):vw(Xe)}qe=qe.sibling}e:for(qe=null,Xe=l;;){if(Xe.tag===5){if(qe===null){qe=Xe;try{b=Xe.stateNode,we?(N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(ae=Xe.stateNode,oe=Xe.memoizedProps.style,L=oe!=null&&oe.hasOwnProperty("display")?oe.display:null,ae.style.display=be("display",L))}catch(_t){Gr(l,l.return,_t)}}}else if(Xe.tag===6){if(qe===null)try{Xe.stateNode.nodeValue=we?"":Xe.memoizedProps}catch(_t){Gr(l,l.return,_t)}}else if((Xe.tag!==22&&Xe.tag!==23||Xe.memoizedState===null||Xe===l)&&Xe.child!==null){Xe.child.return=Xe,Xe=Xe.child;continue}if(Xe===l)break e;for(;Xe.sibling===null;){if(Xe.return===null||Xe.return===l)break e;qe===Xe&&(qe=null),Xe=Xe.return}qe===Xe&&(qe=null),Xe.sibling.return=Xe.return,Xe=Xe.sibling}}break;case 19:_a(c,l),Ka(l),x&4&&mw(l);break;case 21:break;default:_a(c,l),Ka(l)}}function Ka(l){var c=l.flags;if(c&2){try{e:{for(var f=l.return;f!==null;){if(hw(f)){var x=f;break e}f=f.return}throw Error(r(160))}switch(x.tag){case 5:var b=x.stateNode;x.flags&32&&(Q(b,""),x.flags&=-33);var N=fw(l);Kg(l,N,b);break;case 3:case 4:var L=x.stateNode.containerInfo,ae=fw(l);Gg(l,ae,L);break;default:throw Error(r(161))}}catch(oe){Gr(l,l.return,oe)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function XC(l,c,f){xt=l,xw(l)}function xw(l,c,f){for(var x=(l.mode&1)!==0;xt!==null;){var b=xt,N=b.child;if(b.tag===22&&x){var L=b.memoizedState!==null||Kh;if(!L){var ae=b.alternate,oe=ae!==null&&ae.memoizedState!==null||Xn;ae=Kh;var we=Xn;if(Kh=L,(Xn=oe)&&!we)for(xt=b;xt!==null;)L=xt,oe=L.child,L.tag===22&&L.memoizedState!==null?bw(b):oe!==null?(oe.return=L,xt=oe):bw(b);for(;N!==null;)xt=N,xw(N),N=N.sibling;xt=b,Kh=ae,Xn=we}yw(l)}else(b.subtreeFlags&8772)!==0&&N!==null?(N.return=b,xt=N):yw(l)}}function yw(l){for(;xt!==null;){var c=xt;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Xn||Xh(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Xn)if(f===null)x.componentDidMount();else{var b=c.elementType===c.type?f.memoizedProps:ba(c.type,f.memoizedProps);x.componentDidUpdate(b,f.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var N=c.updateQueue;N!==null&&v2(c,N,x);break;case 3:var L=c.updateQueue;if(L!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}v2(c,L,f)}break;case 5:var ae=c.stateNode;if(f===null&&c.flags&4){f=ae;var oe=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":oe.autoFocus&&f.focus();break;case"img":oe.src&&(f.src=oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var we=c.alternate;if(we!==null){var qe=we.memoizedState;if(qe!==null){var Xe=qe.dehydrated;Xe!==null&&ga(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Xn||c.flags&512&&qg(c)}catch(He){Gr(c,c.return,He)}}if(c===l){xt=null;break}if(f=c.sibling,f!==null){f.return=c.return,xt=f;break}xt=c.return}}function vw(l){for(;xt!==null;){var c=xt;if(c===l){xt=null;break}var f=c.sibling;if(f!==null){f.return=c.return,xt=f;break}xt=c.return}}function bw(l){for(;xt!==null;){var c=xt;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Xh(4,c)}catch(oe){Gr(c,f,oe)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var b=c.return;try{x.componentDidMount()}catch(oe){Gr(c,b,oe)}}var N=c.return;try{qg(c)}catch(oe){Gr(c,N,oe)}break;case 5:var L=c.return;try{qg(c)}catch(oe){Gr(c,L,oe)}}}catch(oe){Gr(c,c.return,oe)}if(c===l){xt=null;break}var ae=c.sibling;if(ae!==null){ae.return=c.return,xt=ae;break}xt=c.return}}var YC=Math.ceil,Yh=O.ReactCurrentDispatcher,Xg=O.ReactCurrentOwner,ta=O.ReactCurrentBatchConfig,ar=0,wn=null,sn=null,In=0,Fs=0,Lc=oo(0),mn=0,gd=null,pl=0,Qh=0,Yg=0,xd=null,ys=null,Qg=0,Mc=1/0,Si=null,Jh=!1,Jg=null,po=null,Zh=!1,mo=null,ef=0,yd=0,Zg=null,tf=-1,rf=0;function is(){return(ar&6)!==0?We():tf!==-1?tf:tf=We()}function go(l){return(l.mode&1)===0?1:(ar&2)!==0&&In!==0?In&-In:RC.transition!==null?(rf===0&&(rf=rl()),rf):(l=Qt,l!==0||(l=window.event,l=l===void 0?16:qu(l.type)),l)}function Ea(l,c,f,x){if(50<yd)throw yd=0,Zg=null,Error(r(185));Zi(l,f,x),((ar&2)===0||l!==wn)&&(l===wn&&((ar&2)===0&&(Qh|=f),mn===4&&xo(l,In)),vs(l,x),f===1&&ar===0&&(c.mode&1)===0&&(Mc=We()+500,jh&&co()))}function vs(l,c){var f=l.callbackNode;mi(l,c);var x=tl(l,l===wn?In:0);if(x===0)f!==null&&Je(f),l.callbackNode=null,l.callbackPriority=0;else if(c=x&-x,l.callbackPriority!==c){if(f!=null&&Je(f),c===1)l.tag===0?PC(_w.bind(null,l)):o2(_w.bind(null,l)),AC(function(){(ar&6)===0&&co()}),f=null;else{switch(to(x)){case 1:f=nr;break;case 4:f=Jt;break;case 16:f=sr;break;case 536870912:f=Ks;break;default:f=sr}f=jw(f,ww.bind(null,l))}l.callbackPriority=c,l.callbackNode=f}}function ww(l,c){if(tf=-1,rf=0,(ar&6)!==0)throw Error(r(327));var f=l.callbackNode;if($c()&&l.callbackNode!==f)return null;var x=tl(l,l===wn?In:0);if(x===0)return null;if((x&30)!==0||(x&l.expiredLanes)!==0||c)c=nf(l,x);else{c=x;var b=ar;ar|=2;var N=Tw();(wn!==l||In!==c)&&(Si=null,Mc=We()+500,gl(l,c));do try{ZC();break}catch(ae){Ew(l,ae)}while(!0);xg(),Yh.current=N,ar=b,sn!==null?c=0:(wn=null,In=0,c=mn)}if(c!==0){if(c===2&&(b=Is(l),b!==0&&(x=b,c=ex(l,b))),c===1)throw f=gd,gl(l,0),xo(l,x),vs(l,We()),f;if(c===6)xo(l,x);else{if(b=l.current.alternate,(x&30)===0&&!QC(b)&&(c=nf(l,x),c===2&&(N=Is(l),N!==0&&(x=N,c=ex(l,N))),c===1))throw f=gd,gl(l,0),xo(l,x),vs(l,We()),f;switch(l.finishedWork=b,l.finishedLanes=x,c){case 0:case 1:throw Error(r(345));case 2:xl(l,ys,Si);break;case 3:if(xo(l,x),(x&130023424)===x&&(c=Qg+500-We(),10<c)){if(tl(l,0)!==0)break;if(b=l.suspendedLanes,(b&x)!==x){is(),l.pingedLanes|=l.suspendedLanes&b;break}l.timeoutHandle=ig(xl.bind(null,l,ys,Si),c);break}xl(l,ys,Si);break;case 4:if(xo(l,x),(x&4194240)===x)break;for(c=l.eventTimes,b=-1;0<x;){var L=31-Pr(x);N=1<<L,L=c[L],L>b&&(b=L),x&=~N}if(x=b,x=We()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*YC(x/1960))-x,10<x){l.timeoutHandle=ig(xl.bind(null,l,ys,Si),x);break}xl(l,ys,Si);break;case 5:xl(l,ys,Si);break;default:throw Error(r(329))}}}return vs(l,We()),l.callbackNode===f?ww.bind(null,l):null}function ex(l,c){var f=xd;return l.current.memoizedState.isDehydrated&&(gl(l,c).flags|=256),l=nf(l,c),l!==2&&(c=ys,ys=f,c!==null&&tx(c)),l}function tx(l){ys===null?ys=l:ys.push.apply(ys,l)}function QC(l){for(var c=l;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var x=0;x<f.length;x++){var b=f[x],N=b.getSnapshot;b=b.value;try{if(!ya(N(),b))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function xo(l,c){for(c&=~Yg,c&=~Qh,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var f=31-Pr(c),x=1<<f;l[f]=-1,c&=~x}}function _w(l){if((ar&6)!==0)throw Error(r(327));$c();var c=tl(l,0);if((c&1)===0)return vs(l,We()),null;var f=nf(l,c);if(l.tag!==0&&f===2){var x=Is(l);x!==0&&(c=x,f=ex(l,x))}if(f===1)throw f=gd,gl(l,0),xo(l,c),vs(l,We()),f;if(f===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,xl(l,ys,Si),vs(l,We()),null}function rx(l,c){var f=ar;ar|=1;try{return l(c)}finally{ar=f,ar===0&&(Mc=We()+500,jh&&co())}}function ml(l){mo!==null&&mo.tag===0&&(ar&6)===0&&$c();var c=ar;ar|=1;var f=ta.transition,x=Qt;try{if(ta.transition=null,Qt=1,l)return l()}finally{Qt=x,ta.transition=f,ar=c,(ar&6)===0&&co()}}function nx(){Fs=Lc.current,Dr(Lc)}function gl(l,c){l.finishedWork=null,l.finishedLanes=0;var f=l.timeoutHandle;if(f!==-1&&(l.timeoutHandle=-1,SC(f)),sn!==null)for(f=sn.return;f!==null;){var x=f;switch(hg(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Ah();break;case 3:Dc(),Dr(ms),Dr(qn),kg();break;case 5:Eg(x);break;case 4:Dc();break;case 13:Dr(Br);break;case 19:Dr(Br);break;case 10:yg(x.type._context);break;case 22:case 23:nx()}f=f.return}if(wn=l,sn=l=yo(l.current,null),In=Fs=c,mn=0,gd=null,Yg=Qh=pl=0,ys=xd=null,dl!==null){for(c=0;c<dl.length;c++)if(f=dl[c],x=f.interleaved,x!==null){f.interleaved=null;var b=x.next,N=f.pending;if(N!==null){var L=N.next;N.next=b,x.next=L}f.pending=x}dl=null}return l}function Ew(l,c){do{var f=sn;try{if(xg(),Vh.current=Hh,Bh){for(var x=Ur.memoizedState;x!==null;){var b=x.queue;b!==null&&(b.pending=null),x=x.next}Bh=!1}if(fl=0,bn=pn=Ur=null,ud=!1,dd=0,Xg.current=null,f===null||f.return===null){mn=1,gd=c,sn=null;break}e:{var N=l,L=f.return,ae=f,oe=c;if(c=In,ae.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var we=oe,qe=ae,Xe=qe.tag;if((qe.mode&1)===0&&(Xe===0||Xe===11||Xe===15)){var He=qe.alternate;He?(qe.updateQueue=He.updateQueue,qe.memoizedState=He.memoizedState,qe.lanes=He.lanes):(qe.updateQueue=null,qe.memoizedState=null)}var pt=K2(L);if(pt!==null){pt.flags&=-257,X2(pt,L,ae,N,c),pt.mode&1&&G2(N,we,c),c=pt,oe=we;var bt=c.updateQueue;if(bt===null){var _t=new Set;_t.add(oe),c.updateQueue=_t}else bt.add(oe);break e}else{if((c&1)===0){G2(N,we,c),sx();break e}oe=Error(r(426))}}else if(Lr&&ae.mode&1){var Jr=K2(L);if(Jr!==null){(Jr.flags&65536)===0&&(Jr.flags|=256),X2(Jr,L,ae,N,c),mg(Oc(oe,ae));break e}}N=oe=Oc(oe,ae),mn!==4&&(mn=2),xd===null?xd=[N]:xd.push(N),N=L;do{switch(N.tag){case 3:N.flags|=65536,c&=-c,N.lanes|=c;var pe=W2(N,oe,c);y2(N,pe);break e;case 1:ae=oe;var ce=N.type,ye=N.stateNode;if((N.flags&128)===0&&(typeof ce.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(po===null||!po.has(ye)))){N.flags|=65536,c&=-c,N.lanes|=c;var Qe=q2(N,ae,c);y2(N,Qe);break e}}N=N.return}while(N!==null)}Nw(f)}catch(Et){c=Et,sn===f&&f!==null&&(sn=f=f.return);continue}break}while(!0)}function Tw(){var l=Yh.current;return Yh.current=Hh,l===null?Hh:l}function sx(){(mn===0||mn===3||mn===2)&&(mn=4),wn===null||(pl&268435455)===0&&(Qh&268435455)===0||xo(wn,In)}function nf(l,c){var f=ar;ar|=2;var x=Tw();(wn!==l||In!==c)&&(Si=null,gl(l,c));do try{JC();break}catch(b){Ew(l,b)}while(!0);if(xg(),ar=f,Yh.current=x,sn!==null)throw Error(r(261));return wn=null,In=0,mn}function JC(){for(;sn!==null;)kw(sn)}function ZC(){for(;sn!==null&&!lt();)kw(sn)}function kw(l){var c=Cw(l.alternate,l,Fs);l.memoizedProps=l.pendingProps,c===null?Nw(l):sn=c,Xg.current=null}function Nw(l){var c=l;do{var f=c.alternate;if(l=c.return,(c.flags&32768)===0){if(f=WC(f,c,Fs),f!==null){sn=f;return}}else{if(f=qC(f,c),f!==null){f.flags&=32767,sn=f;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{mn=6,sn=null;return}}if(c=c.sibling,c!==null){sn=c;return}sn=c=l}while(c!==null);mn===0&&(mn=5)}function xl(l,c,f){var x=Qt,b=ta.transition;try{ta.transition=null,Qt=1,ej(l,c,f,x)}finally{ta.transition=b,Qt=x}return null}function ej(l,c,f,x){do $c();while(mo!==null);if((ar&6)!==0)throw Error(r(327));f=l.finishedWork;var b=l.finishedLanes;if(f===null)return null;if(l.finishedWork=null,l.finishedLanes=0,f===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var N=f.lanes|f.childLanes;if(Sr(l,N),l===wn&&(sn=wn=null,In=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Zh||(Zh=!0,jw(sr,function(){return $c(),null})),N=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||N){N=ta.transition,ta.transition=null;var L=Qt;Qt=1;var ae=ar;ar|=4,Xg.current=null,KC(l,f),gw(f,l),bC(sg),no=!!ng,sg=ng=null,l.current=f,XC(f),Ke(),ar=ae,Qt=L,ta.transition=N}else l.current=f;if(Zh&&(Zh=!1,mo=l,ef=b),N=l.pendingLanes,N===0&&(po=null),Yi(f.stateNode),vs(l,We()),c!==null)for(x=l.onRecoverableError,f=0;f<c.length;f++)b=c[f],x(b.value,{componentStack:b.stack,digest:b.digest});if(Jh)throw Jh=!1,l=Jg,Jg=null,l;return(ef&1)!==0&&l.tag!==0&&$c(),N=l.pendingLanes,(N&1)!==0?l===Zg?yd++:(yd=0,Zg=l):yd=0,co(),null}function $c(){if(mo!==null){var l=to(ef),c=ta.transition,f=Qt;try{if(ta.transition=null,Qt=16>l?16:l,mo===null)var x=!1;else{if(l=mo,mo=null,ef=0,(ar&6)!==0)throw Error(r(331));var b=ar;for(ar|=4,xt=l.current;xt!==null;){var N=xt,L=N.child;if((xt.flags&16)!==0){var ae=N.deletions;if(ae!==null){for(var oe=0;oe<ae.length;oe++){var we=ae[oe];for(xt=we;xt!==null;){var qe=xt;switch(qe.tag){case 0:case 11:case 15:md(8,qe,N)}var Xe=qe.child;if(Xe!==null)Xe.return=qe,xt=Xe;else for(;xt!==null;){qe=xt;var He=qe.sibling,pt=qe.return;if(dw(qe),qe===we){xt=null;break}if(He!==null){He.return=pt,xt=He;break}xt=pt}}}var bt=N.alternate;if(bt!==null){var _t=bt.child;if(_t!==null){bt.child=null;do{var Jr=_t.sibling;_t.sibling=null,_t=Jr}while(_t!==null)}}xt=N}}if((N.subtreeFlags&2064)!==0&&L!==null)L.return=N,xt=L;else e:for(;xt!==null;){if(N=xt,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:md(9,N,N.return)}var pe=N.sibling;if(pe!==null){pe.return=N.return,xt=pe;break e}xt=N.return}}var ce=l.current;for(xt=ce;xt!==null;){L=xt;var ye=L.child;if((L.subtreeFlags&2064)!==0&&ye!==null)ye.return=L,xt=ye;else e:for(L=ce;xt!==null;){if(ae=xt,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:Xh(9,ae)}}catch(Et){Gr(ae,ae.return,Et)}if(ae===L){xt=null;break e}var Qe=ae.sibling;if(Qe!==null){Qe.return=ae.return,xt=Qe;break e}xt=ae.return}}if(ar=b,co(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(ns,l)}catch{}x=!0}return x}finally{Qt=f,ta.transition=c}}return!1}function Sw(l,c,f){c=Oc(f,c),c=W2(l,c,1),l=ho(l,c,1),c=is(),l!==null&&(Zi(l,1,c),vs(l,c))}function Gr(l,c,f){if(l.tag===3)Sw(l,l,f);else for(;c!==null;){if(c.tag===3){Sw(c,l,f);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(po===null||!po.has(x))){l=Oc(f,l),l=q2(c,l,1),c=ho(c,l,1),l=is(),c!==null&&(Zi(c,1,l),vs(c,l));break}}c=c.return}}function tj(l,c,f){var x=l.pingCache;x!==null&&x.delete(c),c=is(),l.pingedLanes|=l.suspendedLanes&f,wn===l&&(In&f)===f&&(mn===4||mn===3&&(In&130023424)===In&&500>We()-Qg?gl(l,0):Yg|=f),vs(l,c)}function Aw(l,c){c===0&&((l.mode&1)===0?c=1:(c=lc,lc<<=1,(lc&130023424)===0&&(lc=4194304)));var f=is();l=Ti(l,c),l!==null&&(Zi(l,c,f),vs(l,f))}function rj(l){var c=l.memoizedState,f=0;c!==null&&(f=c.retryLane),Aw(l,f)}function nj(l,c){var f=0;switch(l.tag){case 13:var x=l.stateNode,b=l.memoizedState;b!==null&&(f=b.retryLane);break;case 19:x=l.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(c),Aw(l,f)}var Cw;Cw=function(l,c,f){if(l!==null)if(l.memoizedProps!==c.pendingProps||ms.current)xs=!0;else{if((l.lanes&f)===0&&(c.flags&128)===0)return xs=!1,HC(l,c,f);xs=(l.flags&131072)!==0}else xs=!1,Lr&&(c.flags&1048576)!==0&&l2(c,Ph,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;Gh(l,c),l=c.pendingProps;var b=Sc(c,qn.current);Rc(c,f),b=Ag(null,c,x,l,b,f);var N=Cg();return c.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,gs(x)?(N=!0,Ch(c)):N=!1,c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,wg(c),b.updater=Wh,c.stateNode=b,b._reactInternals=c,Og(c,x,l,f),c=$g(null,c,x,!0,N,f)):(c.tag=0,Lr&&N&&dg(c),as(null,c,b,f),c=c.child),c;case 16:x=c.elementType;e:{switch(Gh(l,c),l=c.pendingProps,b=x._init,x=b(x._payload),c.type=x,b=c.tag=aj(x),l=ba(x,l),b){case 0:c=Mg(null,c,x,l,f);break e;case 1:c=tw(null,c,x,l,f);break e;case 11:c=Y2(null,c,x,l,f);break e;case 14:c=Q2(null,c,x,ba(x.type,l),f);break e}throw Error(r(306,x,""))}return c;case 0:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:ba(x,b),Mg(l,c,x,b,f);case 1:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:ba(x,b),tw(l,c,x,b,f);case 3:e:{if(rw(c),l===null)throw Error(r(387));x=c.pendingProps,N=c.memoizedState,b=N.element,x2(l,c),Mh(c,x,null,f);var L=c.memoizedState;if(x=L.element,N.isDehydrated)if(N={element:x,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){b=Oc(Error(r(423)),c),c=nw(l,c,x,f,b);break e}else if(x!==b){b=Oc(Error(r(424)),c),c=nw(l,c,x,f,b);break e}else for(Os=io(c.stateNode.containerInfo.firstChild),Ds=c,Lr=!0,va=null,f=m2(c,null,x,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(jc(),x===b){c=Ni(l,c,f);break e}as(l,c,x,f)}c=c.child}return c;case 5:return b2(c),l===null&&pg(c),x=c.type,b=c.pendingProps,N=l!==null?l.memoizedProps:null,L=b.children,ag(x,b)?L=null:N!==null&&ag(x,N)&&(c.flags|=32),ew(l,c),as(l,c,L,f),c.child;case 6:return l===null&&pg(c),null;case 13:return sw(l,c,f);case 4:return _g(c,c.stateNode.containerInfo),x=c.pendingProps,l===null?c.child=Ic(c,null,x,f):as(l,c,x,f),c.child;case 11:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:ba(x,b),Y2(l,c,x,b,f);case 7:return as(l,c,c.pendingProps,f),c.child;case 8:return as(l,c,c.pendingProps.children,f),c.child;case 12:return as(l,c,c.pendingProps.children,f),c.child;case 10:e:{if(x=c.type._context,b=c.pendingProps,N=c.memoizedProps,L=b.value,Cr(Oh,x._currentValue),x._currentValue=L,N!==null)if(ya(N.value,L)){if(N.children===b.children&&!ms.current){c=Ni(l,c,f);break e}}else for(N=c.child,N!==null&&(N.return=c);N!==null;){var ae=N.dependencies;if(ae!==null){L=N.child;for(var oe=ae.firstContext;oe!==null;){if(oe.context===x){if(N.tag===1){oe=ki(-1,f&-f),oe.tag=2;var we=N.updateQueue;if(we!==null){we=we.shared;var qe=we.pending;qe===null?oe.next=oe:(oe.next=qe.next,qe.next=oe),we.pending=oe}}N.lanes|=f,oe=N.alternate,oe!==null&&(oe.lanes|=f),vg(N.return,f,c),ae.lanes|=f;break}oe=oe.next}}else if(N.tag===10)L=N.type===c.type?null:N.child;else if(N.tag===18){if(L=N.return,L===null)throw Error(r(341));L.lanes|=f,ae=L.alternate,ae!==null&&(ae.lanes|=f),vg(L,f,c),L=N.sibling}else L=N.child;if(L!==null)L.return=N;else for(L=N;L!==null;){if(L===c){L=null;break}if(N=L.sibling,N!==null){N.return=L.return,L=N;break}L=L.return}N=L}as(l,c,b.children,f),c=c.child}return c;case 9:return b=c.type,x=c.pendingProps.children,Rc(c,f),b=Zs(b),x=x(b),c.flags|=1,as(l,c,x,f),c.child;case 14:return x=c.type,b=ba(x,c.pendingProps),b=ba(x.type,b),Q2(l,c,x,b,f);case 15:return J2(l,c,c.type,c.pendingProps,f);case 17:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:ba(x,b),Gh(l,c),c.tag=1,gs(x)?(l=!0,Ch(c)):l=!1,Rc(c,f),z2(c,x,b),Og(c,x,b,f),$g(null,c,x,!0,l,f);case 19:return iw(l,c,f);case 22:return Z2(l,c,f)}throw Error(r(156,c.tag))};function jw(l,c){return Ue(l,c)}function sj(l,c,f,x){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(l,c,f,x){return new sj(l,c,f,x)}function ax(l){return l=l.prototype,!(!l||!l.isReactComponent)}function aj(l){if(typeof l=="function")return ax(l)?1:0;if(l!=null){if(l=l.$$typeof,l===W)return 11;if(l===Ie)return 14}return 2}function yo(l,c){var f=l.alternate;return f===null?(f=ra(l.tag,c,l.key,l.mode),f.elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=c,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=l.flags&14680064,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,c=l.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f}function sf(l,c,f,x,b,N){var L=2;if(x=l,typeof l=="function")ax(l)&&(L=1);else if(typeof l=="string")L=5;else e:switch(l){case A:return yl(f.children,b,N,c);case S:L=8,b|=8;break;case C:return l=ra(12,f,c,b|2),l.elementType=C,l.lanes=N,l;case M:return l=ra(13,f,c,b),l.elementType=M,l.lanes=N,l;case Se:return l=ra(19,f,c,b),l.elementType=Se,l.lanes=N,l;case Le:return af(f,b,N,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:L=10;break e;case F:L=9;break e;case W:L=11;break e;case Ie:L=14;break e;case $e:L=16,x=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return c=ra(L,f,c,b),c.elementType=l,c.type=x,c.lanes=N,c}function yl(l,c,f,x){return l=ra(7,l,x,c),l.lanes=f,l}function af(l,c,f,x){return l=ra(22,l,x,c),l.elementType=Le,l.lanes=f,l.stateNode={isHidden:!1},l}function ix(l,c,f){return l=ra(6,l,null,c),l.lanes=f,l}function ox(l,c,f){return c=ra(4,l.children!==null?l.children:[],l.key,c),c.lanes=f,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function ij(l,c,f,x,b){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ji(0),this.expirationTimes=Ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.identifierPrefix=x,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function lx(l,c,f,x,b,N,L,ae,oe){return l=new ij(l,c,f,ae,oe),c===1?(c=1,N===!0&&(c|=8)):c=0,N=ra(3,null,null,c),l.current=N,N.stateNode=l,N.memoizedState={element:x,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},wg(N),l}function oj(l,c,f){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:x==null?null:""+x,children:l,containerInfo:c,implementation:f}}function Iw(l){if(!l)return lo;l=l._reactInternals;e:{if(Y(l)!==l||l.tag!==1)throw Error(r(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(gs(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(l.tag===1){var f=l.type;if(gs(f))return a2(l,f,c)}return c}function Pw(l,c,f,x,b,N,L,ae,oe){return l=lx(f,x,!0,l,b,N,L,ae,oe),l.context=Iw(null),f=l.current,x=is(),b=go(f),N=ki(x,b),N.callback=c??null,ho(f,N,b),l.current.lanes=b,Zi(l,b,x),vs(l,x),l}function of(l,c,f,x){var b=c.current,N=is(),L=go(b);return f=Iw(f),c.context===null?c.context=f:c.pendingContext=f,c=ki(N,L),c.payload={element:l},x=x===void 0?null:x,x!==null&&(c.callback=x),l=ho(b,c,L),l!==null&&(Ea(l,b,L,N),Lh(l,b,L)),L}function lf(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Rw(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<c?f:c}}function cx(l,c){Rw(l,c),(l=l.alternate)&&Rw(l,c)}function lj(){return null}var Dw=typeof reportError=="function"?reportError:function(l){console.error(l)};function ux(l){this._internalRoot=l}cf.prototype.render=ux.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(r(409));of(l,c,null,null)},cf.prototype.unmount=ux.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;ml(function(){of(null,l,null,null)}),c[bi]=null}};function cf(l){this._internalRoot=l}cf.prototype.unstable_scheduleHydration=function(l){if(l){var c=lh();l={blockedOn:null,target:l,priority:c};for(var f=0;f<Ba.length&&c!==0&&c<Ba[f].priority;f++);Ba.splice(f,0,l),f===0&&dh(l)}};function dx(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function uf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Ow(){}function cj(l,c,f,x,b){if(b){if(typeof x=="function"){var N=x;x=function(){var we=lf(L);N.call(we)}}var L=Pw(c,x,l,0,null,!1,!1,"",Ow);return l._reactRootContainer=L,l[bi]=L.current,rd(l.nodeType===8?l.parentNode:l),ml(),L}for(;b=l.lastChild;)l.removeChild(b);if(typeof x=="function"){var ae=x;x=function(){var we=lf(oe);ae.call(we)}}var oe=lx(l,0,!1,null,null,!1,!1,"",Ow);return l._reactRootContainer=oe,l[bi]=oe.current,rd(l.nodeType===8?l.parentNode:l),ml(function(){of(c,oe,f,x)}),oe}function df(l,c,f,x,b){var N=f._reactRootContainer;if(N){var L=N;if(typeof b=="function"){var ae=b;b=function(){var oe=lf(L);ae.call(oe)}}of(c,L,l,b)}else L=cj(f,c,l,b,x);return lf(L)}ih=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var f=Qi(c.pendingLanes);f!==0&&(eo(c,f|1),vs(c,We()),(ar&6)===0&&(Mc=We()+500,co()))}break;case 13:ml(function(){var x=Ti(l,1);if(x!==null){var b=is();Ea(x,l,1,b)}}),cx(l,1)}},cc=function(l){if(l.tag===13){var c=Ti(l,134217728);if(c!==null){var f=is();Ea(c,l,134217728,f)}cx(l,134217728)}},oh=function(l){if(l.tag===13){var c=go(l),f=Ti(l,c);if(f!==null){var x=is();Ea(f,l,c,x)}cx(l,c)}},lh=function(){return Qt},ch=function(l,c){var f=Qt;try{return Qt=l,c()}finally{Qt=f}},ot=function(l,c,f){switch(c){case"input":if(Pe(l,f),c=f.name,f.type==="radio"&&c!=null){for(f=l;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var x=f[c];if(x!==l&&x.form===l.form){var b=Sh(x);if(!b)throw Error(r(90));yt(x),Pe(x,b)}}}break;case"textarea":ut(l,f);break;case"select":c=f.value,c!=null&&le(l,!!f.multiple,c,!1)}},$r=rx,dn=ml;var uj={usingClientEntryPoint:!1,Events:[ad,kc,Sh,Kt,Ir,rx]},vd={findFiberByHostInstance:ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dj={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ge(l),l===null?null:l.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||lj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{ns=hf.inject(dj),Vr=hf}catch{}}return bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uj,bs.createPortal=function(l,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dx(c))throw Error(r(200));return oj(l,c,null,f)},bs.createRoot=function(l,c){if(!dx(l))throw Error(r(299));var f=!1,x="",b=Dw;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),c=lx(l,1,!1,null,null,f,!1,x,b),l[bi]=c.current,rd(l.nodeType===8?l.parentNode:l),new ux(c)},bs.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=ge(c),l=l===null?null:l.stateNode,l},bs.flushSync=function(l){return ml(l)},bs.hydrate=function(l,c,f){if(!uf(c))throw Error(r(200));return df(null,l,c,!0,f)},bs.hydrateRoot=function(l,c,f){if(!dx(l))throw Error(r(405));var x=f!=null&&f.hydratedSources||null,b=!1,N="",L=Dw;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(N=f.identifierPrefix),f.onRecoverableError!==void 0&&(L=f.onRecoverableError)),c=Pw(c,null,l,1,f??null,b,!1,N,L),l[bi]=c.current,rd(l),x)for(l=0;l<x.length;l++)f=x[l],b=f._getVersion,b=b(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,b]:c.mutableSourceEagerHydrationData.push(f,b);return new cf(c)},bs.render=function(l,c,f){if(!uf(c))throw Error(r(200));return df(null,l,c,!1,f)},bs.unmountComponentAtNode=function(l){if(!uf(l))throw Error(r(40));return l._reactRootContainer?(ml(function(){df(null,null,l,!1,function(){l._reactRootContainer=null,l[bi]=null})}),!0):!1},bs.unstable_batchedUpdates=rx,bs.unstable_renderSubtreeIntoContainer=function(l,c,f,x){if(!uf(f))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return df(l,c,f,!1,x)},bs.version="18.3.1-next-f1338f8080-20240426",bs}var Hw;function wj(){if(Hw)return px.exports;Hw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),px.exports=bj(),px.exports}var Ww;function _j(){if(Ww)return ff;Ww=1;var t=wj();return ff.createRoot=t.createRoot,ff.hydrateRoot=t.hydrateRoot,ff}var Ej=_j();const Tj=s1(Ej);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qw="popstate";function kj(t={}){function e(n,s){let{pathname:a,search:o,hash:u}=n.location;return ny("",{pathname:a,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Jd(s)}return Sj(e,r,null,t)}function Mr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ra(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Nj(){return Math.random().toString(36).substring(2,10)}function Gw(t,e){return{usr:t.state,key:t.key,idx:e}}function ny(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Su(e):e,state:r,key:e&&e.key||n||Nj()}}function Jd({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Su(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Sj(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,u="POP",d=null,h=p();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function p(){return(o.state||{idx:null}).idx}function g(){u="POP";let T=p(),D=T==null?null:T-h;h=T,d&&d({action:u,location:w.location,delta:D})}function y(T,D){u="PUSH";let I=ny(w.location,T,D);h=p()+1;let U=Gw(I,h),O=w.createHref(I);try{o.pushState(U,"",O)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(O)}a&&d&&d({action:u,location:w.location,delta:1})}function v(T,D){u="REPLACE";let I=ny(w.location,T,D);h=p();let U=Gw(I,h),O=w.createHref(I);o.replaceState(U,"",O),a&&d&&d({action:u,location:w.location,delta:0})}function k(T){return Aj(T)}let w={get action(){return u},get location(){return t(s,o)},listen(T){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(qw,g),d=T,()=>{s.removeEventListener(qw,g),d=null}},createHref(T){return e(s,T)},createURL:k,encodeLocation(T){let D=k(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:y,replace:v,go(T){return o.go(T)}};return w}function Aj(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Mr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Jd(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function KT(t,e,r="/"){return Cj(t,e,r,!1)}function Cj(t,e,r,n){let s=typeof e=="string"?Su(e):e,a=Mi(s.pathname||"/",r);if(a==null)return null;let o=XT(t);jj(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let h=Bj(a);u=$j(o[d],h,n)}return u}function XT(t,e=[],r=[],n="",s=!1){let a=(o,u,d=s,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;Mr(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=Pi([n,p.relativePath]),y=r.concat(p);o.children&&o.children.length>0&&(Mr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),XT(o.children,e,y,g,d)),!(o.path==null&&!o.index)&&e.push({path:g,score:Lj(g,o.index),routesMeta:y})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))a(o,u);else for(let d of YT(o.path))a(o,u,!0,d)}),e}function YT(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=YT(n.join("/")),u=[];return u.push(...o.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...o),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function jj(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Mj(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Ij=/^:[\w-]+$/,Pj=3,Rj=2,Dj=1,Oj=10,Fj=-2,Kw=t=>t==="*";function Lj(t,e){let r=t.split("/"),n=r.length;return r.some(Kw)&&(n+=Fj),e&&(n+=Rj),r.filter(s=>!Kw(s)).reduce((s,a)=>s+(Ij.test(a)?Pj:a===""?Dj:Oj),n)}function Mj(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function $j(t,e,r=!1){let{routesMeta:n}=t,s={},a="/",o=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=Yf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=Yf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Pi([a,g.pathname]),pathnameBase:Wj(Pi([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=Pi([a,g.pathnameBase]))}return o}function Yf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Vj(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let k=u[y]||"";o=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const v=u[y];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:t}}function Vj(t,e=!1,r=!0){Ra(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Bj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ra(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Uj(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Su(t):t;return{pathname:r?r.startsWith("/")?r:zj(r,e):e,search:qj(n),hash:Gj(s)}}function zj(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function xx(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hj(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function i1(t){let e=Hj(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function o1(t,e,r,n=!1){let s;typeof t=="string"?s=Su(t):(s={...t},Mr(!s.pathname||!s.pathname.includes("?"),xx("?","pathname","search",s)),Mr(!s.pathname||!s.pathname.includes("#"),xx("#","pathname","hash",s)),Mr(!s.search||!s.search.includes("#"),xx("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,u;if(o==null)u=r;else{let g=e.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}u=g>=0?e[g]:"/"}let d=Uj(s,u),h=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Pi=t=>t.join("/").replace(/\/\/+/g,"/"),Wj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var QT=["POST","PUT","PATCH","DELETE"];new Set(QT);var Xj=["GET",...QT];new Set(Xj);var Au=_.createContext(null);Au.displayName="DataRouter";var Xp=_.createContext(null);Xp.displayName="DataRouterState";_.createContext(!1);var JT=_.createContext({isTransitioning:!1});JT.displayName="ViewTransition";var Yj=_.createContext(new Map);Yj.displayName="Fetchers";var Qj=_.createContext(null);Qj.displayName="Await";var La=_.createContext(null);La.displayName="Navigation";var N0=_.createContext(null);N0.displayName="Location";var fi=_.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var l1=_.createContext(null);l1.displayName="RouteError";function Jj(t,{relative:e}={}){Mr(Cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=_.useContext(La),{hash:s,pathname:a,search:o}=S0(t,{relative:e}),u=a;return r!=="/"&&(u=a==="/"?r:Pi([r,a])),n.createHref({pathname:u,search:o,hash:s})}function Cu(){return _.useContext(N0)!=null}function Ko(){return Mr(Cu(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(N0).location}var ZT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ek(t){_.useContext(La).static||_.useLayoutEffect(t)}function Ma(){let{isDataRoute:t}=_.useContext(fi);return t?dI():Zj()}function Zj(){Mr(Cu(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(Au),{basename:e,navigator:r}=_.useContext(La),{matches:n}=_.useContext(fi),{pathname:s}=Ko(),a=JSON.stringify(i1(n)),o=_.useRef(!1);return ek(()=>{o.current=!0}),_.useCallback((d,h={})=>{if(Ra(o.current,ZT),!o.current)return;if(typeof d=="number"){r.go(d);return}let p=o1(d,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Pi([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,a,s,t])}_.createContext(null);function S0(t,{relative:e}={}){let{matches:r}=_.useContext(fi),{pathname:n}=Ko(),s=JSON.stringify(i1(r));return _.useMemo(()=>o1(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function eI(t,e){return tk(t,e)}function tk(t,e,r,n,s){Mr(Cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=_.useContext(La),{matches:o}=_.useContext(fi),u=o[o.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let I=g&&g.path||"";rk(h,!g||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=Ko(),v;if(e){let I=typeof e=="string"?Su(e):e;Mr(p==="/"||I.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${I.pathname}" was given in the \`location\` prop.`),v=I}else v=y;let k=v.pathname||"/",w=k;if(p!=="/"){let I=p.replace(/^\//,"").split("/");w="/"+k.replace(/^\//,"").split("/").slice(I.length).join("/")}let T=KT(t,{pathname:w});Ra(g||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ra(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=aI(T&&T.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:Pi([p,a.encodeLocation?a.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:Pi([p,a.encodeLocation?a.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,r,n,s);return e&&D?_.createElement(N0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},D):D}function tI(){let t=uI(),e=Kj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:a},"ErrorBoundary")," or"," ",_.createElement("code",{style:a},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:s},r):null,o)}var rI=_.createElement(tI,null),nI=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(fi.Provider,{value:this.props.routeContext},_.createElement(l1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sI({routeContext:t,match:e,children:r}){let n=_.useContext(Au);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(fi.Provider,{value:t},r)}function aI(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=r?.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Mr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(r)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:y}=r,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let y,v=!1,k=null,w=null;r&&(y=o&&p.route.id?o[p.route.id]:void 0,k=p.route.errorElement||rI,u&&(d<0&&g===0?(rk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):d===g&&(v=!0,w=p.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,g+1)),D=()=>{let I;return y?I=k:v?I=w:p.route.Component?I=_.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=h,_.createElement(sI,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:r!=null},children:I})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?_.createElement(nI,{location:r.location,revalidation:r.revalidation,component:k,error:y,children:D(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:n}):D()},null)}function c1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iI(t){let e=_.useContext(Au);return Mr(e,c1(t)),e}function oI(t){let e=_.useContext(Xp);return Mr(e,c1(t)),e}function lI(t){let e=_.useContext(fi);return Mr(e,c1(t)),e}function u1(t){let e=lI(t),r=e.matches[e.matches.length-1];return Mr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function cI(){return u1("useRouteId")}function uI(){let t=_.useContext(l1),e=oI("useRouteError"),r=u1("useRouteError");return t!==void 0?t:e.errors?.[r]}function dI(){let{router:t}=iI("useNavigate"),e=u1("useNavigate"),r=_.useRef(!1);return ek(()=>{r.current=!0}),_.useCallback(async(s,a={})=>{Ra(r.current,ZT),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Xw={};function rk(t,e,r){!e&&!Xw[t]&&(Xw[t]=!0,Ra(!1,r))}_.memo(hI);function hI({routes:t,future:e,state:r,unstable_onError:n}){return tk(t,void 0,r,n,e)}function A0({to:t,replace:e,state:r,relative:n}){Mr(Cu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=_.useContext(La);Ra(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=_.useContext(fi),{pathname:o}=Ko(),u=Ma(),d=o1(t,i1(a),o,n==="path"),h=JSON.stringify(d);return _.useEffect(()=>{u(JSON.parse(h),{replace:e,state:r,relative:n})},[u,h,n,e,r]),null}function zt(t){Mr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fI({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:a=!1}){Mr(!Cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:o,navigator:s,static:a,future:{}}),[o,s,a]);typeof r=="string"&&(r=Su(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:y="default"}=r,v=_.useMemo(()=>{let k=Mi(d,o);return k==null?null:{location:{pathname:k,search:h,hash:p,state:g,key:y},navigationType:n}},[o,d,h,p,g,y,n]);return Ra(v!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:_.createElement(La.Provider,{value:u},_.createElement(N0.Provider,{children:e,value:v}))}function pI({children:t,location:e}){return eI(sy(t),e)}function sy(t,e=[]){let r=[];return _.Children.forEach(t,(n,s)=>{if(!_.isValidElement(n))return;let a=[...e,s];if(n.type===_.Fragment){r.push.apply(r,sy(n.props.children,a));return}Mr(n.type===zt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=sy(n.props.children,a)),r.push(o)}),r}var Df="get",Of="application/x-www-form-urlencoded";function Yp(t){return t!=null&&typeof t.tagName=="string"}function mI(t){return Yp(t)&&t.tagName.toLowerCase()==="button"}function gI(t){return Yp(t)&&t.tagName.toLowerCase()==="form"}function xI(t){return Yp(t)&&t.tagName.toLowerCase()==="input"}function yI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vI(t,e){return t.button===0&&(!e||e==="_self")&&!yI(t)}var pf=null;function bI(){if(pf===null)try{new FormData(document.createElement("form"),0),pf=!1}catch{pf=!0}return pf}var wI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yx(t){return t!=null&&!wI.has(t)?(Ra(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):t}function _I(t,e){let r,n,s,a,o;if(gI(t)){let u=t.getAttribute("action");n=u?Mi(u,e):null,r=t.getAttribute("method")||Df,s=yx(t.getAttribute("enctype"))||Of,a=new FormData(t)}else if(mI(t)||xI(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(n=d?Mi(d,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||Df,s=yx(t.getAttribute("formenctype"))||yx(u.getAttribute("enctype"))||Of,a=new FormData(u,t),!bI()){let{name:h,type:p,value:g}=t;if(p==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,g)}}else{if(Yp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Df,n=null,s=Of,o=t}return a&&s==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function d1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function EI(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Mi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function TI(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function NI(t,e,r){let n=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let o=await TI(a,r);return o.links?o.links():[]}return[]}));return jI(n.flat(1).filter(kI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Yw(t,e,r,n,s,a){let o=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,u=(d,h)=>r[h].pathname!==d.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>o(d,h)||u(d,h)):a==="data"?e.filter((d,h)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(o(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function SI(t,e,{includeHydrateFallback:r}={}){return AI(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function AI(t){return[...new Set(t)]}function CI(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function jI(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let a=JSON.stringify(CI(s));return r.has(a)||(r.add(a),n.push({key:a,link:s})),n},[])}function nk(){let t=_.useContext(Au);return d1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function II(){let t=_.useContext(Xp);return d1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var h1=_.createContext(void 0);h1.displayName="FrameworkContext";function sk(){let t=_.useContext(h1);return d1(t,"You must render this element inside a <HydratedRouter> element"),t}function PI(t,e){let r=_.useContext(h1),[n,s]=_.useState(!1),[a,o]=_.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,y=_.useRef(null);_.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=D=>{D.forEach(I=>{o(I.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[t]),_.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{s(!0)},k=()=>{s(!1),o(!1)};return r?t!=="intent"?[a,y,{}]:[a,y,{onFocus:wd(u,v),onBlur:wd(d,k),onMouseEnter:wd(h,v),onMouseLeave:wd(p,k),onTouchStart:wd(g,v)}]:[!1,y,{}]}function wd(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function RI({page:t,...e}){let{router:r}=nk(),n=_.useMemo(()=>KT(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?_.createElement(OI,{page:t,matches:n,...e}):null}function DI(t){let{manifest:e,routeModules:r}=sk(),[n,s]=_.useState([]);return _.useEffect(()=>{let a=!1;return NI(t,e,r).then(o=>{a||s(o)}),()=>{a=!0}},[t,e,r]),n}function OI({page:t,matches:e,...r}){let n=Ko(),{manifest:s,routeModules:a}=sk(),{basename:o}=nk(),{loaderData:u,matches:d}=II(),h=_.useMemo(()=>Yw(t,e,d,s,n,"data"),[t,e,d,s,n]),p=_.useMemo(()=>Yw(t,e,d,s,n,"assets"),[t,e,d,s,n]),g=_.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let k=new Set,w=!1;if(e.forEach(D=>{let I=s.routes[D.route.id];!I||!I.hasLoader||(!h.some(U=>U.route.id===D.route.id)&&D.route.id in u&&a[D.route.id]?.shouldRevalidate||I.hasClientLoader?w=!0:k.add(D.route.id))}),k.size===0)return[];let T=EI(t,o,"data");return w&&k.size>0&&T.searchParams.set("_routes",e.filter(D=>k.has(D.route.id)).map(D=>D.route.id).join(",")),[T.pathname+T.search]},[o,u,n,s,h,e,t,a]),y=_.useMemo(()=>SI(p,s),[p,s]),v=DI(p);return _.createElement(_.Fragment,null,g.map(k=>_.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),y.map(k=>_.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),v.map(({key:k,link:w})=>_.createElement("link",{key:k,nonce:r.nonce,...w})))}function FI(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var ak=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ak&&(window.__reactRouterVersion="7.8.2")}catch{}function LI({basename:t,children:e,window:r}){let n=_.useRef();n.current==null&&(n.current=kj({window:r,v5Compat:!0}));let s=n.current,[a,o]=_.useState({action:s.action,location:s.location}),u=_.useCallback(d=>{_.startTransition(()=>o(d))},[o]);return _.useLayoutEffect(()=>s.listen(u),[s,u]),_.createElement(fI,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_s=_.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:a,replace:o,state:u,target:d,to:h,preventScrollReset:p,viewTransition:g,...y},v){let{basename:k}=_.useContext(La),w=typeof h=="string"&&ik.test(h),T,D=!1;if(typeof h=="string"&&w&&(T=h,ak))try{let C=new URL(window.location.href),R=h.startsWith("//")?new URL(C.protocol+h):new URL(h),F=Mi(R.pathname,k);R.origin===C.origin&&F!=null?h=F+R.search+R.hash:D=!0}catch{Ra(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=Jj(h,{relative:s}),[U,O,X]=PI(n,y),B=BI(h,{replace:o,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:g});function A(C){e&&e(C),C.defaultPrevented||B(C)}let S=_.createElement("a",{...y,...X,href:T||I,onClick:D||a?e:A,ref:FI(v,O),target:d,"data-discover":!w&&r==="render"?"true":void 0});return U&&!w?_.createElement(_.Fragment,null,S,_.createElement(RI,{page:I})):S});_s.displayName="Link";var MI=_.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:a,to:o,viewTransition:u,children:d,...h},p){let g=S0(o,{relative:h.relative}),y=Ko(),v=_.useContext(Xp),{navigator:k,basename:w}=_.useContext(La),T=v!=null&&qI(g)&&u===!0,D=k.encodeLocation?k.encodeLocation(g).pathname:g.pathname,I=y.pathname,U=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(I=I.toLowerCase(),U=U?U.toLowerCase():null,D=D.toLowerCase()),U&&w&&(U=Mi(U,w)||U);const O=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let X=I===D||!s&&I.startsWith(D)&&I.charAt(O)==="/",B=U!=null&&(U===D||!s&&U.startsWith(D)&&U.charAt(D.length)==="/"),A={isActive:X,isPending:B,isTransitioning:T},S=X?e:void 0,C;typeof n=="function"?C=n(A):C=[n,X?"active":null,B?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(A):a;return _.createElement(_s,{...h,"aria-current":S,className:C,ref:p,style:R,to:o,viewTransition:u},typeof d=="function"?d(A):d)});MI.displayName="NavLink";var $I=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:a,method:o=Df,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...y},v)=>{let k=HI(),w=WI(u,{relative:h}),T=o.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&ik.test(u),I=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let O=U.nativeEvent.submitter,X=O?.getAttribute("formmethod")||o;k(O||U.currentTarget,{fetcherKey:e,method:X,navigate:r,replace:s,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return _.createElement("form",{ref:v,method:T,action:w,onSubmit:n?d:I,...y,"data-discover":!D&&t==="render"?"true":void 0})});$I.displayName="Form";function VI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ok(t){let e=_.useContext(Au);return Mr(e,VI(t)),e}function BI(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:a,viewTransition:o}={}){let u=Ma(),d=Ko(),h=S0(t,{relative:a});return _.useCallback(p=>{if(vI(p,e)){p.preventDefault();let g=r!==void 0?r:Jd(d)===Jd(h);u(t,{replace:g,state:n,preventScrollReset:s,relative:a,viewTransition:o})}},[d,u,h,r,n,e,t,s,a,o])}var UI=0,zI=()=>`__${String(++UI)}__`;function HI(){let{router:t}=ok("useSubmit"),{basename:e}=_.useContext(La),r=cI();return _.useCallback(async(n,s={})=>{let{action:a,method:o,encType:u,formData:d,body:h}=_I(n,e);if(s.navigate===!1){let p=s.fetcherKey||zI();await t.fetch(p,r,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function WI(t,{relative:e}={}){let{basename:r}=_.useContext(La),n=_.useContext(fi);Mr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...S0(t||".",{relative:e})},o=Ko();if(t==null){a.search=o.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Pi([r,a.pathname])),Jd(a)}function qI(t,{relative:e}={}){let r=_.useContext(JT);Mr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ok("useViewTransitionState"),s=S0(t,{relative:e});if(!r.isTransitioning)return!1;let a=Mi(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Mi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Yf(s.pathname,o)!=null||Yf(s.pathname,a)!=null}const GI=()=>{};var Qw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},KI=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[r++];e[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[r++],o=t[r++],u=t[r++],d=((s&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return e.join("")},ck={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const a=t[s],o=s+1<t.length,u=o?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,p=a>>2,g=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,v=h&63;d||(v=64,o||(y=64)),n.push(r[p],r[g],r[y],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const a=r[t.charAt(s++)],u=s<t.length?r[t.charAt(s)]:0;++s;const h=s<t.length?r[t.charAt(s)]:64;++s;const g=s<t.length?r[t.charAt(s)]:64;if(++s,a==null||u==null||h==null||g==null)throw new XI;const y=a<<2|u>>4;if(n.push(y),h!==64){const v=u<<4&240|h>>2;if(n.push(v),g!==64){const k=h<<6&192|g;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YI=function(t){const e=lk(t);return ck.encodeByteArray(e,!0)},Qf=function(t){return YI(t).replace(/\./g,"")},uk=function(t){try{return ck.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=()=>QI().__FIREBASE_DEFAULTS__,ZI=()=>{if(typeof process>"u"||typeof Qw>"u")return;const t=Qw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uk(t[1]);return e&&JSON.parse(e)},Qp=()=>{try{return GI()||JI()||ZI()||eP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dk=t=>{var e,r;return(r=(e=Qp())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},hk=t=>{const e=dk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},fk=()=>{var t;return(t=Qp())===null||t===void 0?void 0:t.config},pk=t=>{var e;return(e=Qp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qf(JSON.stringify(r)),Qf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rs())}function nP(){var t;const e=(t=Qp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iP(){const t=rs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oP(){return!nP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xk(){try{return typeof indexedDB=="object"}catch{return!1}}function yk(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function lP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="FirebaseError";class da extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=cP,Object.setPrototypeOf(this,da.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?uP(a,n):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new da(s,u,n)}}function uP(t,e){return t.replace(dP,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const dP=/\{\$([^}]+)}/g;function hP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oo(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const a=t[s],o=e[s];if(Jw(a)&&Jw(o)){if(!Oo(a,o))return!1}else if(a!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function Jw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function kd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,a]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Nd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function fP(t,e){const r=new pP(t,e);return r.subscribe.bind(r)}class pP{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");mP(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=vx),s.error===void 0&&(s.error=vx),s.complete===void 0&&(s.complete=vx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mP(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function vx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=1e3,xP=2,yP=14400*1e3,vP=.5;function Zw(t,e=gP,r=xP){const n=e*Math.pow(r,t),s=Math.round(vP*n*(Math.random()-.5)*2);return Math.min(yP,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){return t&&t._delegate?t._delegate:t}class ua{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new tP;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),s=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_P(e))try{this.getOrInitializeService({instanceIdentifier:bl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(e=bl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bl){return this.instances.has(e)}getOptions(e=bl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:wP(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=bl){return this.component?this.component.multipleInstances?e:bl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wP(t){return t===bl?void 0:t}function _P(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new bP(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xt||(Xt={}));const TP={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},kP=Xt.INFO,NP={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},SP=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=NP[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jp{constructor(e){this.name=e,this._logLevel=kP,this._logHandler=SP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...e),this._logHandler(this,Xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...e),this._logHandler(this,Xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...e),this._logHandler(this,Xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...e),this._logHandler(this,Xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...e),this._logHandler(this,Xt.ERROR,...e)}}const AP=(t,e)=>e.some(r=>t instanceof r);let e_,t_;function CP(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jP(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vk=new WeakMap,ay=new WeakMap,bk=new WeakMap,bx=new WeakMap,f1=new WeakMap;function IP(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(jo(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&vk.set(r,t)}).catch(()=>{}),f1.set(e,t),e}function PP(t){if(ay.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});ay.set(t,e)}let iy={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return ay.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return jo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RP(t){iy=t(iy)}function DP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(wx(this),e,...r);return bk.set(n,e.sort?e.sort():[e]),jo(n)}:jP().includes(t)?function(...e){return t.apply(wx(this),e),jo(vk.get(this))}:function(...e){return jo(t.apply(wx(this),e))}}function OP(t){return typeof t=="function"?DP(t):(t instanceof IDBTransaction&&PP(t),AP(t,CP())?new Proxy(t,iy):t)}function jo(t){if(t instanceof IDBRequest)return IP(t);if(bx.has(t))return bx.get(t);const e=OP(t);return e!==t&&(bx.set(t,e),f1.set(e,t)),e}const wx=t=>f1.get(t);function wk(t,e,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const o=indexedDB.open(t,e),u=jo(o);return n&&o.addEventListener("upgradeneeded",d=>{n(jo(o.result),d.oldVersion,d.newVersion,jo(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const FP=["get","getKey","getAll","getAllKeys","count"],LP=["put","add","delete","clear"],_x=new Map;function r_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_x.get(e))return _x.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=LP.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||FP.includes(r)))return;const a=async function(o,...u){const d=this.transaction(o,s?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[r](...u),s&&d.done]))[0]};return _x.set(e,a),a}RP(t=>({...t,get:(e,r,n)=>r_(e,r)||t.get(e,r,n),has:(e,r)=>!!r_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if($P(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function $P(t){const e=t.getComponent();return e?.type==="VERSION"}const oy="@firebase/app",n_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Jp("@firebase/app"),VP="@firebase/app-compat",BP="@firebase/analytics-compat",UP="@firebase/analytics",zP="@firebase/app-check-compat",HP="@firebase/app-check",WP="@firebase/auth",qP="@firebase/auth-compat",GP="@firebase/database",KP="@firebase/data-connect",XP="@firebase/database-compat",YP="@firebase/functions",QP="@firebase/functions-compat",JP="@firebase/installations",ZP="@firebase/installations-compat",eR="@firebase/messaging",tR="@firebase/messaging-compat",rR="@firebase/performance",nR="@firebase/performance-compat",sR="@firebase/remote-config",aR="@firebase/remote-config-compat",iR="@firebase/storage",oR="@firebase/storage-compat",lR="@firebase/firestore",cR="@firebase/vertexai",uR="@firebase/firestore-compat",dR="firebase",hR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="[DEFAULT]",fR={[oy]:"fire-core",[VP]:"fire-core-compat",[UP]:"fire-analytics",[BP]:"fire-analytics-compat",[HP]:"fire-app-check",[zP]:"fire-app-check-compat",[WP]:"fire-auth",[qP]:"fire-auth-compat",[GP]:"fire-rtdb",[KP]:"fire-data-connect",[XP]:"fire-rtdb-compat",[YP]:"fire-fn",[QP]:"fire-fn-compat",[JP]:"fire-iid",[ZP]:"fire-iid-compat",[eR]:"fire-fcm",[tR]:"fire-fcm-compat",[rR]:"fire-perf",[nR]:"fire-perf-compat",[sR]:"fire-rc",[aR]:"fire-rc-compat",[iR]:"fire-gcs",[oR]:"fire-gcs-compat",[lR]:"fire-fst",[uR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[dR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new Map,pR=new Map,cy=new Map;function s_(t,e){try{t.container.addComponent(e)}catch(r){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Da(t){const e=t.name;if(cy.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;cy.set(e,t);for(const r of Jf.values())s_(r,t);for(const r of pR.values())s_(r,t);return!0}function Xo(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Bs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Io=new Hl("app","Firebase",mR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=hR;function _k(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:ly,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Io.create("bad-app-name",{appName:String(s)});if(r||(r=fk()),!r)throw Io.create("no-options");const a=Jf.get(s);if(a){if(Oo(r,a.options)&&Oo(n,a.config))return a;throw Io.create("duplicate-app",{appName:s})}const o=new EP(s);for(const d of cy.values())o.addComponent(d);const u=new gR(r,n,o);return Jf.set(s,u),u}function Zp(t=ly){const e=Jf.get(t);if(!e&&t===ly&&fk())return _k();if(!e)throw Io.create("no-app",{appName:t});return e}function Ts(t,e,r){var n;let s=(n=fR[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(u.join(" "));return}Da(new ua(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firebase-heartbeat-database",yR=1,Zd="firebase-heartbeat-store";let Ex=null;function Ek(){return Ex||(Ex=wk(xR,yR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zd)}catch(r){console.warn(r)}}}}).catch(t=>{throw Io.create("idb-open",{originalErrorMessage:t.message})})),Ex}async function vR(t){try{const r=(await Ek()).transaction(Zd),n=await r.objectStore(Zd).get(Tk(t));return await r.done,n}catch(e){if(e instanceof da)$i.warn(e.message);else{const r=Io.create("idb-get",{originalErrorMessage:e?.message});$i.warn(r.message)}}}async function a_(t,e){try{const n=(await Ek()).transaction(Zd,"readwrite");await n.objectStore(Zd).put(e,Tk(t)),await n.done}catch(r){if(r instanceof da)$i.warn(r.message);else{const n=Io.create("idb-set",{originalErrorMessage:r?.message});$i.warn(n.message)}}}function Tk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1024,wR=30;class _R{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new TR(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=i_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>wR){const o=kR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){$i.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=i_(),{heartbeatsToSend:n,unsentEntries:s}=ER(this._heartbeatsCache.heartbeats),a=Qf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return $i.warn(r),""}}}function i_(){return new Date().toISOString().substring(0,10)}function ER(t,e=bR){const r=[];let n=t.slice();for(const s of t){const a=r.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),o_(r)>e){a.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),o_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class TR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xk()?yk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await vR(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return a_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return a_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function o_(t){return Qf(JSON.stringify({version:2,heartbeats:t})).length}function kR(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t){Da(new ua("platform-logger",e=>new MP(e),"PRIVATE")),Da(new ua("heartbeat",e=>new _R(e),"PRIVATE")),Ts(oy,n_,t),Ts(oy,n_,"esm2017"),Ts("fire-js","")}NR("");var SR="firebase",AR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(SR,AR,"app");const kk="@firebase/installations",p1="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=1e4,Sk=`w:${p1}`,Ak="FIS_v2",CR="https://firebaseinstallations.googleapis.com/v1",jR=3600*1e3,IR="installations",PR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jl=new Hl(IR,PR,RR);function Ck(t){return t instanceof da&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk({projectId:t}){return`${CR}/projects/${t}/installations`}function Ik(t){return{token:t.token,requestStatus:2,expiresIn:OR(t.expiresIn),creationTime:Date.now()}}async function Pk(t,e){const n=(await e.json()).error;return jl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Rk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function DR(t,{refreshToken:e}){const r=Rk(t);return r.append("Authorization",FR(e)),r}async function Dk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function OR(t){return Number(t.replace("s","000"))}function FR(t){return`${Ak} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=jk(t),s=Rk(t),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={fid:r,authVersion:Ak,appId:t.appId,sdkVersion:Sk},u={method:"POST",headers:s,body:JSON.stringify(o)},d=await Dk(()=>fetch(n,u));if(d.ok){const h=await d.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:Ik(h.authToken)}}else throw await Pk("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=/^[cdef][\w-]{21}$/,uy="";function VR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=BR(t);return $R.test(r)?r:uy}catch{return uy}}function BR(t){return MR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=new Map;function Lk(t,e){const r=em(t);Mk(r,e),UR(r,e)}function Mk(t,e){const r=Fk.get(t);if(r)for(const n of r)n(e)}function UR(t,e){const r=zR();r&&r.postMessage({key:t,fid:e}),HR()}let El=null;function zR(){return!El&&"BroadcastChannel"in self&&(El=new BroadcastChannel("[Firebase] FID Change"),El.onmessage=t=>{Mk(t.data.key,t.data.fid)}),El}function HR(){Fk.size===0&&El&&(El.close(),El=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="firebase-installations-database",qR=1,Il="firebase-installations-store";let Tx=null;function m1(){return Tx||(Tx=wk(WR,qR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Il)}}})),Tx}async function Zf(t,e){const r=em(t),s=(await m1()).transaction(Il,"readwrite"),a=s.objectStore(Il),o=await a.get(r);return await a.put(e,r),await s.done,(!o||o.fid!==e.fid)&&Lk(t,e.fid),e}async function $k(t){const e=em(t),n=(await m1()).transaction(Il,"readwrite");await n.objectStore(Il).delete(e),await n.done}async function tm(t,e){const r=em(t),s=(await m1()).transaction(Il,"readwrite"),a=s.objectStore(Il),o=await a.get(r),u=e(o);return u===void 0?await a.delete(r):await a.put(u,r),await s.done,u&&(!o||o.fid!==u.fid)&&Lk(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(t){let e;const r=await tm(t.appConfig,n=>{const s=GR(n),a=KR(t,s);return e=a.registrationPromise,a.installationEntry});return r.fid===uy?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function GR(t){const e=t||{fid:VR(),registrationStatus:0};return Vk(e)}function KR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(jl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=XR(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YR(t)}:{installationEntry:e}}async function XR(t,e){try{const r=await LR(t,e);return Zf(t.appConfig,r)}catch(r){throw Ck(r)&&r.customData.serverCode===409?await $k(t.appConfig):await Zf(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function YR(t){let e=await l_(t.appConfig);for(;e.registrationStatus===1;)await Ok(100),e=await l_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await g1(t);return n||r}return e}function l_(t){return tm(t,e=>{if(!e)throw jl.create("installation-not-found");return Vk(e)})}function Vk(t){return QR(t)?{fid:t.fid,registrationStatus:0}:t}function QR(t){return t.registrationStatus===1&&t.registrationTime+Nk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR({appConfig:t,heartbeatServiceProvider:e},r){const n=ZR(t,r),s=DR(t,r),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={installation:{sdkVersion:Sk,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(o)},d=await Dk(()=>fetch(n,u));if(d.ok){const h=await d.json();return Ik(h)}else throw await Pk("Generate Auth Token",d)}function ZR(t,{fid:e}){return`${jk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(t,e=!1){let r;const n=await tm(t.appConfig,a=>{if(!Bk(a))throw jl.create("not-registered");const o=a.authToken;if(!e&&r8(o))return a;if(o.requestStatus===1)return r=e8(t,e),a;{if(!navigator.onLine)throw jl.create("app-offline");const u=s8(a);return r=t8(t,u),u}});return r?await r:n.authToken}async function e8(t,e){let r=await c_(t.appConfig);for(;r.authToken.requestStatus===1;)await Ok(100),r=await c_(t.appConfig);const n=r.authToken;return n.requestStatus===0?x1(t,e):n}function c_(t){return tm(t,e=>{if(!Bk(e))throw jl.create("not-registered");const r=e.authToken;return a8(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function t8(t,e){try{const r=await JR(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Zf(t.appConfig,n),r}catch(r){if(Ck(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await $k(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Zf(t.appConfig,n)}throw r}}function Bk(t){return t!==void 0&&t.registrationStatus===2}function r8(t){return t.requestStatus===2&&!n8(t)}function n8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jR}function s8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function a8(t){return t.requestStatus===1&&t.requestTime+Nk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i8(t){const e=t,{installationEntry:r,registrationPromise:n}=await g1(e);return n?n.catch(console.error):x1(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o8(t,e=!1){const r=t;return await l8(r),(await x1(r,e)).token}async function l8(t){const{registrationPromise:e}=await g1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t){if(!t||!t.options)throw kx("App Configuration");if(!t.name)throw kx("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw kx(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function kx(t){return jl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="installations",u8="installations-internal",d8=t=>{const e=t.getProvider("app").getImmediate(),r=c8(e),n=Xo(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},h8=t=>{const e=t.getProvider("app").getImmediate(),r=Xo(e,Uk).getImmediate();return{getId:()=>i8(r),getToken:s=>o8(r,s)}};function f8(){Da(new ua(Uk,d8,"PUBLIC")),Da(new ua(u8,h8,"PRIVATE"))}f8();Ts(kk,p1);Ts(kk,p1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="analytics",p8="firebase_id",m8="origin",g8=60*1e3,x8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",y1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Jp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Hs=new Hl("analytics","Analytics",y8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t){if(!t.startsWith(y1)){const e=Hs.create("invalid-gtag-resource",{gtagURL:t});return ks.warn(e.message),""}return t}function zk(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function b8(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function w8(t,e){const r=b8("firebase-js-sdk-policy",{createScriptURL:v8}),n=document.createElement("script"),s=`${y1}?l=${t}&id=${e}`;n.src=r?r?.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function _8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function E8(t,e,r,n,s,a){const o=n[s];try{if(o)await e[o];else{const d=(await zk(r)).find(h=>h.measurementId===s);d&&await e[d.appId]}}catch(u){ks.error(u)}t("config",s,a)}async function T8(t,e,r,n,s){try{let a=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const u=await zk(r);for(const d of o){const h=u.find(g=>g.measurementId===d),p=h&&e[h.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,s||{})}catch(a){ks.error(a)}}function k8(t,e,r,n){async function s(a,...o){try{if(a==="event"){const[u,d]=o;await T8(t,e,r,u,d)}else if(a==="config"){const[u,d]=o;await E8(t,e,r,n,u,d)}else if(a==="consent"){const[u,d]=o;t("consent",u,d)}else if(a==="get"){const[u,d,h]=o;t("get",u,d,h)}else if(a==="set"){const[u]=o;t("set",u)}else t(a,...o)}catch(u){ks.error(u)}}return s}function N8(t,e,r,n,s){let a=function(...o){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=k8(a,t,e,r),{gtagCore:a,wrappedGtag:window[s]}}function S8(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(y1)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=30,C8=1e3;class j8{constructor(e={},r=C8){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Hk=new j8;function I8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function P8(t){var e;const{appId:r,apiKey:n}=t,s={method:"GET",headers:I8(n)},a=x8.replace("{app-id}",r),o=await fetch(a,s);if(o.status!==200&&o.status!==304){let u="";try{const d=await o.json();!((e=d.error)===null||e===void 0)&&e.message&&(u=d.error.message)}catch{}throw Hs.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function R8(t,e=Hk,r){const{appId:n,apiKey:s,measurementId:a}=t.options;if(!n)throw Hs.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:n};throw Hs.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new F8;return setTimeout(async()=>{u.abort()},g8),Wk({appId:n,apiKey:s,measurementId:a},o,u,e)}async function Wk(t,{throttleEndTimeMillis:e,backoffCount:r},n,s=Hk){var a;const{appId:o,measurementId:u}=t;try{await D8(n,e)}catch(d){if(u)return ks.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:o,measurementId:u};throw d}try{const d=await P8(t);return s.deleteThrottleMetadata(o),d}catch(d){const h=d;if(!O8(h)){if(s.deleteThrottleMetadata(o),u)return ks.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:u};throw d}const p=Number((a=h?.customData)===null||a===void 0?void 0:a.httpStatus)===503?Zw(r,s.intervalMillis,A8):Zw(r,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:r+1};return s.setThrottleMetadata(o,g),ks.debug(`Calling attemptFetch again in ${p} millis`),Wk(t,g,n,s)}}function D8(t,e){return new Promise((r,n)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(r,s);t.addEventListener(()=>{clearTimeout(a),n(Hs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function O8(t){if(!(t instanceof da)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class F8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function L8(t,e,r,n,s){if(s&&s.global){t("event",r,n);return}else{const a=await e,o=Object.assign(Object.assign({},n),{send_to:a});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8(){if(xk())try{await yk()}catch(t){return ks.warn(Hs.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return ks.warn(Hs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $8(t,e,r,n,s,a,o){var u;const d=R8(t);d.then(v=>{r[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&ks.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>ks.error(v)),e.push(d);const h=M8().then(v=>{if(v)return n.getId()}),[p,g]=await Promise.all([d,h]);S8(a)||w8(a,p.measurementId),s("js",new Date);const y=(u=o?.config)!==null&&u!==void 0?u:{};return y[m8]="firebase",y.update=!0,g!=null&&(y[p8]=g),s("config",p.measurementId,y),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.app=e}_delete(){return delete Dd[this.app.options.appId],Promise.resolve()}}let Dd={},u_=[];const d_={};let Nx="dataLayer",B8="gtag",h_,qk,f_=!1;function U8(){const t=[];if(gk()&&t.push("This is a browser extension environment."),lP()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=Hs.create("invalid-analytics-context",{errorInfo:e});ks.warn(r.message)}}function z8(t,e,r){U8();const n=t.options.appId;if(!n)throw Hs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ks.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Hs.create("no-api-key");if(Dd[n]!=null)throw Hs.create("already-exists",{id:n});if(!f_){_8(Nx);const{wrappedGtag:a,gtagCore:o}=N8(Dd,u_,d_,Nx,B8);qk=a,h_=o,f_=!0}return Dd[n]=$8(t,u_,d_,e,h_,Nx,r),new V8(t)}function H8(t=Zp()){t=jr(t);const e=Xo(t,ep);return e.isInitialized()?e.getImmediate():W8(t)}function W8(t,e={}){const r=Xo(t,ep);if(r.isInitialized()){const s=r.getImmediate();if(Oo(e,r.getOptions()))return s;throw Hs.create("already-initialized")}return r.initialize({options:e})}function q8(t,e,r,n){t=jr(t),L8(qk,Dd[t.app.options.appId],e,r,n).catch(s=>ks.error(s))}const p_="@firebase/analytics",m_="0.10.12";function G8(){Da(new ua(ep,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return z8(n,s,r)},"PUBLIC")),Da(new ua("analytics-internal",t,"PRIVATE")),Ts(p_,m_),Ts(p_,m_,"esm2017");function t(e){try{const r=e.getProvider(ep).getImmediate();return{logEvent:(n,s,a)=>q8(r,n,s,a)}}catch(r){throw Hs.create("interop-component-reg-failed",{reason:r})}}}G8();var g_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Po,Gk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function C(){}C.prototype=S.prototype,A.D=S.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(R,F,W){for(var M=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)M[Se-2]=arguments[Se];return S.prototype[F].apply(R,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,S,C){C||(C=0);var R=Array(16);if(typeof S=="string")for(var F=0;16>F;++F)R[F]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(F=0;16>F;++F)R[F]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=A.g[0],C=A.g[1],F=A.g[2];var W=A.g[3],M=S+(W^C&(F^W))+R[0]+3614090360&4294967295;S=C+(M<<7&4294967295|M>>>25),M=W+(F^S&(C^F))+R[1]+3905402710&4294967295,W=S+(M<<12&4294967295|M>>>20),M=F+(C^W&(S^C))+R[2]+606105819&4294967295,F=W+(M<<17&4294967295|M>>>15),M=C+(S^F&(W^S))+R[3]+3250441966&4294967295,C=F+(M<<22&4294967295|M>>>10),M=S+(W^C&(F^W))+R[4]+4118548399&4294967295,S=C+(M<<7&4294967295|M>>>25),M=W+(F^S&(C^F))+R[5]+1200080426&4294967295,W=S+(M<<12&4294967295|M>>>20),M=F+(C^W&(S^C))+R[6]+2821735955&4294967295,F=W+(M<<17&4294967295|M>>>15),M=C+(S^F&(W^S))+R[7]+4249261313&4294967295,C=F+(M<<22&4294967295|M>>>10),M=S+(W^C&(F^W))+R[8]+1770035416&4294967295,S=C+(M<<7&4294967295|M>>>25),M=W+(F^S&(C^F))+R[9]+2336552879&4294967295,W=S+(M<<12&4294967295|M>>>20),M=F+(C^W&(S^C))+R[10]+4294925233&4294967295,F=W+(M<<17&4294967295|M>>>15),M=C+(S^F&(W^S))+R[11]+2304563134&4294967295,C=F+(M<<22&4294967295|M>>>10),M=S+(W^C&(F^W))+R[12]+1804603682&4294967295,S=C+(M<<7&4294967295|M>>>25),M=W+(F^S&(C^F))+R[13]+4254626195&4294967295,W=S+(M<<12&4294967295|M>>>20),M=F+(C^W&(S^C))+R[14]+2792965006&4294967295,F=W+(M<<17&4294967295|M>>>15),M=C+(S^F&(W^S))+R[15]+1236535329&4294967295,C=F+(M<<22&4294967295|M>>>10),M=S+(F^W&(C^F))+R[1]+4129170786&4294967295,S=C+(M<<5&4294967295|M>>>27),M=W+(C^F&(S^C))+R[6]+3225465664&4294967295,W=S+(M<<9&4294967295|M>>>23),M=F+(S^C&(W^S))+R[11]+643717713&4294967295,F=W+(M<<14&4294967295|M>>>18),M=C+(W^S&(F^W))+R[0]+3921069994&4294967295,C=F+(M<<20&4294967295|M>>>12),M=S+(F^W&(C^F))+R[5]+3593408605&4294967295,S=C+(M<<5&4294967295|M>>>27),M=W+(C^F&(S^C))+R[10]+38016083&4294967295,W=S+(M<<9&4294967295|M>>>23),M=F+(S^C&(W^S))+R[15]+3634488961&4294967295,F=W+(M<<14&4294967295|M>>>18),M=C+(W^S&(F^W))+R[4]+3889429448&4294967295,C=F+(M<<20&4294967295|M>>>12),M=S+(F^W&(C^F))+R[9]+568446438&4294967295,S=C+(M<<5&4294967295|M>>>27),M=W+(C^F&(S^C))+R[14]+3275163606&4294967295,W=S+(M<<9&4294967295|M>>>23),M=F+(S^C&(W^S))+R[3]+4107603335&4294967295,F=W+(M<<14&4294967295|M>>>18),M=C+(W^S&(F^W))+R[8]+1163531501&4294967295,C=F+(M<<20&4294967295|M>>>12),M=S+(F^W&(C^F))+R[13]+2850285829&4294967295,S=C+(M<<5&4294967295|M>>>27),M=W+(C^F&(S^C))+R[2]+4243563512&4294967295,W=S+(M<<9&4294967295|M>>>23),M=F+(S^C&(W^S))+R[7]+1735328473&4294967295,F=W+(M<<14&4294967295|M>>>18),M=C+(W^S&(F^W))+R[12]+2368359562&4294967295,C=F+(M<<20&4294967295|M>>>12),M=S+(C^F^W)+R[5]+4294588738&4294967295,S=C+(M<<4&4294967295|M>>>28),M=W+(S^C^F)+R[8]+2272392833&4294967295,W=S+(M<<11&4294967295|M>>>21),M=F+(W^S^C)+R[11]+1839030562&4294967295,F=W+(M<<16&4294967295|M>>>16),M=C+(F^W^S)+R[14]+4259657740&4294967295,C=F+(M<<23&4294967295|M>>>9),M=S+(C^F^W)+R[1]+2763975236&4294967295,S=C+(M<<4&4294967295|M>>>28),M=W+(S^C^F)+R[4]+1272893353&4294967295,W=S+(M<<11&4294967295|M>>>21),M=F+(W^S^C)+R[7]+4139469664&4294967295,F=W+(M<<16&4294967295|M>>>16),M=C+(F^W^S)+R[10]+3200236656&4294967295,C=F+(M<<23&4294967295|M>>>9),M=S+(C^F^W)+R[13]+681279174&4294967295,S=C+(M<<4&4294967295|M>>>28),M=W+(S^C^F)+R[0]+3936430074&4294967295,W=S+(M<<11&4294967295|M>>>21),M=F+(W^S^C)+R[3]+3572445317&4294967295,F=W+(M<<16&4294967295|M>>>16),M=C+(F^W^S)+R[6]+76029189&4294967295,C=F+(M<<23&4294967295|M>>>9),M=S+(C^F^W)+R[9]+3654602809&4294967295,S=C+(M<<4&4294967295|M>>>28),M=W+(S^C^F)+R[12]+3873151461&4294967295,W=S+(M<<11&4294967295|M>>>21),M=F+(W^S^C)+R[15]+530742520&4294967295,F=W+(M<<16&4294967295|M>>>16),M=C+(F^W^S)+R[2]+3299628645&4294967295,C=F+(M<<23&4294967295|M>>>9),M=S+(F^(C|~W))+R[0]+4096336452&4294967295,S=C+(M<<6&4294967295|M>>>26),M=W+(C^(S|~F))+R[7]+1126891415&4294967295,W=S+(M<<10&4294967295|M>>>22),M=F+(S^(W|~C))+R[14]+2878612391&4294967295,F=W+(M<<15&4294967295|M>>>17),M=C+(W^(F|~S))+R[5]+4237533241&4294967295,C=F+(M<<21&4294967295|M>>>11),M=S+(F^(C|~W))+R[12]+1700485571&4294967295,S=C+(M<<6&4294967295|M>>>26),M=W+(C^(S|~F))+R[3]+2399980690&4294967295,W=S+(M<<10&4294967295|M>>>22),M=F+(S^(W|~C))+R[10]+4293915773&4294967295,F=W+(M<<15&4294967295|M>>>17),M=C+(W^(F|~S))+R[1]+2240044497&4294967295,C=F+(M<<21&4294967295|M>>>11),M=S+(F^(C|~W))+R[8]+1873313359&4294967295,S=C+(M<<6&4294967295|M>>>26),M=W+(C^(S|~F))+R[15]+4264355552&4294967295,W=S+(M<<10&4294967295|M>>>22),M=F+(S^(W|~C))+R[6]+2734768916&4294967295,F=W+(M<<15&4294967295|M>>>17),M=C+(W^(F|~S))+R[13]+1309151649&4294967295,C=F+(M<<21&4294967295|M>>>11),M=S+(F^(C|~W))+R[4]+4149444226&4294967295,S=C+(M<<6&4294967295|M>>>26),M=W+(C^(S|~F))+R[11]+3174756917&4294967295,W=S+(M<<10&4294967295|M>>>22),M=F+(S^(W|~C))+R[2]+718787259&4294967295,F=W+(M<<15&4294967295|M>>>17),M=C+(W^(F|~S))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(F+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+F&4294967295,A.g[3]=A.g[3]+W&4294967295}n.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var C=S-this.blockSize,R=this.B,F=this.h,W=0;W<S;){if(F==0)for(;W<=C;)s(this,A,W),W+=this.blockSize;if(typeof A=="string"){for(;W<S;)if(R[F++]=A.charCodeAt(W++),F==this.blockSize){s(this,R),F=0;break}}else for(;W<S;)if(R[F++]=A[W++],F==this.blockSize){s(this,R),F=0;break}}this.h=F,this.o+=S},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var C=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=C&255,C/=256;for(this.u(A),A=Array(16),S=C=0;4>S;++S)for(var R=0;32>R;R+=8)A[C++]=this.g[S]>>>R&255;return A};function a(A,S){var C=u;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=S(A)}function o(A,S){this.h=S;for(var C=[],R=!0,F=A.length-1;0<=F;F--){var W=A[F]|0;R&&W==S||(C[F]=W,R=!1)}this.g=C}var u={};function d(A){return-128<=A&&128>A?a(A,function(S){return new o([S|0],0>S?-1:0)}):new o([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return g;if(0>A)return T(h(-A));for(var S=[],C=1,R=0;A>=C;R++)S[R]=A/C|0,C*=4294967296;return new o(S,0)}function p(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return T(p(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(S,8)),R=g,F=0;F<A.length;F+=8){var W=Math.min(8,A.length-F),M=parseInt(A.substring(F,F+W),S);8>W?(W=h(Math.pow(S,W)),R=R.j(W).add(h(M))):(R=R.j(C),R=R.add(h(M)))}return R}var g=d(0),y=d(1),v=d(16777216);t=o.prototype,t.m=function(){if(w(this))return-T(this).m();for(var A=0,S=1,C=0;C<this.g.length;C++){var R=this.i(C);A+=(0<=R?R:4294967296+R)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k(this))return"0";if(w(this))return"-"+T(this).toString(A);for(var S=h(Math.pow(A,6)),C=this,R="";;){var F=O(C,S).g;C=D(C,F.j(S));var W=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=F,k(C))return W+R;for(;6>W.length;)W="0"+W;R=W+R}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function k(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=D(this,A),w(A)?-1:k(A)?0:1};function T(A){for(var S=A.g.length,C=[],R=0;R<S;R++)C[R]=~A.g[R];return new o(C,~A.h).add(y)}t.abs=function(){return w(this)?T(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],R=0,F=0;F<=S;F++){var W=R+(this.i(F)&65535)+(A.i(F)&65535),M=(W>>>16)+(this.i(F)>>>16)+(A.i(F)>>>16);R=M>>>16,W&=65535,M&=65535,C[F]=M<<16|W}return new o(C,C[C.length-1]&-2147483648?-1:0)};function D(A,S){return A.add(T(S))}t.j=function(A){if(k(this)||k(A))return g;if(w(this))return w(A)?T(this).j(T(A)):T(T(this).j(A));if(w(A))return T(this.j(T(A)));if(0>this.l(v)&&0>A.l(v))return h(this.m()*A.m());for(var S=this.g.length+A.g.length,C=[],R=0;R<2*S;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var F=0;F<A.g.length;F++){var W=this.i(R)>>>16,M=this.i(R)&65535,Se=A.i(F)>>>16,Ie=A.i(F)&65535;C[2*R+2*F]+=M*Ie,I(C,2*R+2*F),C[2*R+2*F+1]+=W*Ie,I(C,2*R+2*F+1),C[2*R+2*F+1]+=M*Se,I(C,2*R+2*F+1),C[2*R+2*F+2]+=W*Se,I(C,2*R+2*F+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new o(C,0)};function I(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function U(A,S){this.g=A,this.h=S}function O(A,S){if(k(S))throw Error("division by zero");if(k(A))return new U(g,g);if(w(A))return S=O(T(A),S),new U(T(S.g),T(S.h));if(w(S))return S=O(A,T(S)),new U(T(S.g),S.h);if(30<A.g.length){if(w(A)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var C=y,R=S;0>=R.l(A);)C=X(C),R=X(R);var F=B(C,1),W=B(R,1);for(R=B(R,2),C=B(C,2);!k(R);){var M=W.add(R);0>=M.l(A)&&(F=F.add(C),W=M),R=B(R,1),C=B(C,1)}return S=D(A,F.j(S)),new U(F,S)}for(F=g;0<=A.l(S);){for(C=Math.max(1,Math.floor(A.m()/S.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),W=h(C),M=W.j(S);w(M)||0<M.l(A);)C-=R,W=h(C),M=W.j(S);k(W)&&(W=y),F=F.add(W),A=D(A,M)}return new U(F,A)}t.A=function(A){return O(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)&A.i(R);return new o(C,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)|A.i(R);return new o(C,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)^A.i(R);return new o(C,this.h^A.h)};function X(A){for(var S=A.g.length+1,C=[],R=0;R<S;R++)C[R]=A.i(R)<<1|A.i(R-1)>>>31;return new o(C,A.h)}function B(A,S){var C=S>>5;S%=32;for(var R=A.g.length-C,F=[],W=0;W<R;W++)F[W]=0<S?A.i(W+C)>>>S|A.i(W+C+1)<<32-S:A.i(W+C);return new o(F,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Gk=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,Po=o}).apply(typeof g_<"u"?g_:typeof self<"u"?self:typeof window<"u"?window:{});var mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kk,Sd,Xk,Ff,dy,Yk,Qk,Jk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,j){return m==Array.prototype||m==Object.prototype||(m[E]=j.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof mf=="object"&&mf];for(var E=0;E<m.length;++E){var j=m[E];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var n=r(this);function s(m,E){if(E)e:{var j=n;m=m.split(".");for(var q=0;q<m.length-1;q++){var fe=m[q];if(!(fe in j))break e;j=j[fe]}m=m[m.length-1],q=j[m],E=E(q),E!=q&&E!=null&&e(j,m,{configurable:!0,writable:!0,value:E})}}function a(m,E){m instanceof String&&(m+="");var j=0,q=!1,fe={next:function(){if(!q&&j<m.length){var Ee=j++;return{value:E(Ee,m[Ee]),done:!1}}return q=!0,{done:!0,value:void 0}}};return fe[Symbol.iterator]=function(){return fe},fe}s("Array.prototype.values",function(m){return m||function(){return a(this,function(E,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function d(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function h(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function p(m,E,j){return m.call.apply(m.bind,arguments)}function g(m,E,j){if(!m)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var fe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(fe,q),m.apply(E,fe)}}return function(){return m.apply(E,arguments)}}function y(m,E,j){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function v(m,E){var j=Array.prototype.slice.call(arguments,1);return function(){var q=j.slice();return q.push.apply(q,arguments),m.apply(this,q)}}function k(m,E){function j(){}j.prototype=E.prototype,m.aa=E.prototype,m.prototype=new j,m.prototype.constructor=m,m.Qb=function(q,fe,Ee){for(var nt=Array(arguments.length-2),gr=2;gr<arguments.length;gr++)nt[gr-2]=arguments[gr];return E.prototype[fe].apply(q,nt)}}function w(m){const E=m.length;if(0<E){const j=Array(E);for(let q=0;q<E;q++)j[q]=m[q];return j}return[]}function T(m,E){for(let j=1;j<arguments.length;j++){const q=arguments[j];if(d(q)){const fe=m.length||0,Ee=q.length||0;m.length=fe+Ee;for(let nt=0;nt<Ee;nt++)m[fe+nt]=q[nt]}else m.push(q)}}class D{constructor(E,j){this.i=E,this.j=j,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function I(m){return/^[\s\xa0]*$/.test(m)}function U(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function O(m){return O[" "](m),m}O[" "]=function(){};var X=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function B(m,E,j){for(const q in m)E.call(j,m[q],q,m)}function A(m,E){for(const j in m)E.call(void 0,m[j],j,m)}function S(m){const E={};for(const j in m)E[j]=m[j];return E}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(m,E){let j,q;for(let fe=1;fe<arguments.length;fe++){q=arguments[fe];for(j in q)m[j]=q[j];for(let Ee=0;Ee<C.length;Ee++)j=C[Ee],Object.prototype.hasOwnProperty.call(q,j)&&(m[j]=q[j])}}function F(m){var E=1;m=m.split(":");const j=[];for(;0<E&&m.length;)j.push(m.shift()),E--;return m.length&&j.push(m.join(":")),j}function W(m){u.setTimeout(()=>{throw m},0)}function M(){var m=ie;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class Se{constructor(){this.h=this.g=null}add(E,j){const q=Ie.get();q.set(E,j),this.h?this.h.next=q:this.g=q,this.h=q}}var Ie=new D(()=>new $e,m=>m.reset());class $e{constructor(){this.next=this.g=this.h=null}set(E,j){this.h=E,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,_e=!1,ie=new Se,de=()=>{const m=u.Promise.resolve(void 0);Le=()=>{m.then(se)}};var se=()=>{for(var m;m=M();){try{m.h.call(m.g)}catch(j){W(j)}var E=Ie;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}_e=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var re=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const j=()=>{};u.addEventListener("test",j,E),u.removeEventListener("test",j,E)}catch{}return m})();function ne(m,E){if(te.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var j=this.type=m.type,q=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(X){e:{try{O(E.nodeName);var fe=!0;break e}catch{}fe=!1}fe||(E=null)}}else j=="mouseover"?E=m.fromElement:j=="mouseout"&&(E=m.toElement);this.relatedTarget=E,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ee[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ne.aa.h.call(this)}}k(ne,te);var ee={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Be=0;function Ae(m,E,j,q,fe){this.listener=m,this.proxy=null,this.src=E,this.type=j,this.capture=!!q,this.ha=fe,this.key=++Be,this.da=this.fa=!1}function Fe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function it(m){this.src=m,this.g={},this.h=0}it.prototype.add=function(m,E,j,q,fe){var Ee=m.toString();m=this.g[Ee],m||(m=this.g[Ee]=[],this.h++);var nt=Wt(m,E,q,fe);return-1<nt?(E=m[nt],j||(E.fa=!1)):(E=new Ae(E,this.src,Ee,!!q,fe),E.fa=j,m.push(E)),E};function yt(m,E){var j=E.type;if(j in m.g){var q=m.g[j],fe=Array.prototype.indexOf.call(q,E,void 0),Ee;(Ee=0<=fe)&&Array.prototype.splice.call(q,fe,1),Ee&&(Fe(E),m.g[j].length==0&&(delete m.g[j],m.h--))}}function Wt(m,E,j,q){for(var fe=0;fe<m.length;++fe){var Ee=m[fe];if(!Ee.da&&Ee.listener==E&&Ee.capture==!!j&&Ee.ha==q)return fe}return-1}var De="closure_lm_"+(1e6*Math.random()|0),fr={};function Mt(m,E,j,q,fe){if(Array.isArray(E)){for(var Ee=0;Ee<E.length;Ee++)Mt(m,E[Ee],j,q,fe);return null}return j=At(j),m&&m[Oe]?m.K(E,j,h(q)?!!q.capture:!1,fe):Pe(m,E,j,!1,q,fe)}function Pe(m,E,j,q,fe,Ee){if(!E)throw Error("Invalid event type");var nt=h(fe)?!!fe.capture:!!fe,gr=ct(m);if(gr||(m[De]=gr=new it(m)),j=gr.add(E,j,q,nt,Ee),j.proxy)return j;if(q=pr(),j.proxy=q,q.src=m,q.listener=j,m.addEventListener)re||(fe=nt),fe===void 0&&(fe=!1),m.addEventListener(E.toString(),q,fe);else if(m.attachEvent)m.attachEvent(le(E.toString()),q);else if(m.addListener&&m.removeListener)m.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return j}function pr(){function m(j){return E.call(m.src,m.listener,j)}const E=Ye;return m}function $t(m,E,j,q,fe){if(Array.isArray(E))for(var Ee=0;Ee<E.length;Ee++)$t(m,E[Ee],j,q,fe);else q=h(q)?!!q.capture:!!q,j=At(j),m&&m[Oe]?(m=m.i,E=String(E).toString(),E in m.g&&(Ee=m.g[E],j=Wt(Ee,j,q,fe),-1<j&&(Fe(Ee[j]),Array.prototype.splice.call(Ee,j,1),Ee.length==0&&(delete m.g[E],m.h--)))):m&&(m=ct(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Wt(E,j,q,fe)),(j=-1<m?E[m]:null)&&Gt(j))}function Gt(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[Oe])yt(E.i,m);else{var j=m.type,q=m.proxy;E.removeEventListener?E.removeEventListener(j,q,m.capture):E.detachEvent?E.detachEvent(le(j),q):E.addListener&&E.removeListener&&E.removeListener(q),(j=ct(E))?(yt(j,m),j.h==0&&(j.src=null,E[De]=null)):Fe(m)}}}function le(m){return m in fr?fr[m]:fr[m]="on"+m}function Ye(m,E){if(m.da)m=!0;else{E=new ne(E,this);var j=m.listener,q=m.ha||m.src;m.fa&&Gt(m),m=j.call(q,E)}return m}function ct(m){return m=m[De],m instanceof it?m:null}var ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(m){return typeof m=="function"?m:(m[ut]||(m[ut]=function(E){return m.handleEvent(E)}),m[ut])}function wt(){V.call(this),this.i=new it(this),this.M=this,this.F=null}k(wt,V),wt.prototype[Oe]=!0,wt.prototype.removeEventListener=function(m,E,j,q){$t(this,m,E,j,q)};function st(m,E){var j,q=m.F;if(q)for(j=[];q;q=q.F)j.push(q);if(m=m.M,q=E.type||E,typeof E=="string")E=new te(E,m);else if(E instanceof te)E.target=E.target||m;else{var fe=E;E=new te(q,m),R(E,fe)}if(fe=!0,j)for(var Ee=j.length-1;0<=Ee;Ee--){var nt=E.g=j[Ee];fe=gt(nt,q,!0,E)&&fe}if(nt=E.g=m,fe=gt(nt,q,!0,E)&&fe,fe=gt(nt,q,!1,E)&&fe,j)for(Ee=0;Ee<j.length;Ee++)nt=E.g=j[Ee],fe=gt(nt,q,!1,E)&&fe}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var j=m.g[E],q=0;q<j.length;q++)Fe(j[q]);delete m.g[E],m.h--}}this.F=null},wt.prototype.K=function(m,E,j,q){return this.i.add(String(m),E,!1,j,q)},wt.prototype.L=function(m,E,j,q){return this.i.add(String(m),E,!0,j,q)};function gt(m,E,j,q){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var fe=!0,Ee=0;Ee<E.length;++Ee){var nt=E[Ee];if(nt&&!nt.da&&nt.capture==j){var gr=nt.listener,fn=nt.ha||nt.src;nt.fa&&yt(m.i,nt),fe=gr.call(fn,q)!==!1&&fe}}return fe&&!q.defaultPrevented}function ir(m,E,j){if(typeof m=="function")j&&(m=y(m,j));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(m,E||0)}function Q(m){m.g=ir(()=>{m.g=null,m.i&&(m.i=!1,Q(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class Te extends V{constructor(E,j){super(),this.m=E,this.l=j,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ft(m){V.call(this),this.h=m,this.g={}}k(ft,V);var be=[];function ke(m){B(m.g,function(E,j){this.g.hasOwnProperty(j)&&Gt(E)},m),m.g={}}ft.prototype.N=function(){ft.aa.N.call(this),ke(this)},ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Me=u.JSON.stringify,Ze=u.JSON.parse,vt=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function Nt(){}Nt.prototype.h=null;function at(m){return m.h||(m.h=m.i())}function ot(){}var et={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tt(){te.call(this,"d")}k(Tt,te);function Bt(){te.call(this,"c")}k(Bt,te);var Kt={},Ir=null;function $r(){return Ir=Ir||new wt}Kt.La="serverreachability";function dn(m){te.call(this,Kt.La,m)}k(dn,te);function cr(m){const E=$r();st(E,new dn(E))}Kt.STAT_EVENT="statevent";function Wn(m,E){te.call(this,Kt.STAT_EVENT,m),this.stat=E}k(Wn,te);function ur(m){const E=$r();st(E,new Wn(E,m))}Kt.Ma="timingevent";function hn(m,E){te.call(this,Kt.Ma,m),this.size=E}k(hn,te);function Tr(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},E)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function ve(m,E,j,q,fe,Ee){m.info(function(){if(m.g)if(Ee)for(var nt="",gr=Ee.split("&"),fn=0;fn<gr.length;fn++){var Zt=gr[fn].split("=");if(1<Zt.length){var vn=Zt[0];Zt=Zt[1];var nn=vn.split("_");nt=2<=nn.length&&nn[1]=="type"?nt+(vn+"="+Zt+"&"):nt+(vn+"=redacted&")}}else nt=null;else nt=Ee;return"XMLHTTP REQ ("+q+") [attempt "+fe+"]: "+E+`
`+j+`
`+nt})}function Ne(m,E,j,q,fe,Ee,nt){m.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+fe+"]: "+E+`
`+j+`
`+Ee+" "+nt})}function P(m,E,j,q){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+H(m,j)+(q?" "+q:"")})}function z(m,E){m.info(function(){return"TIMEOUT: "+E})}yn.prototype.info=function(){};function H(m,E){if(!m.g)return E;if(!E)return null;try{var j=JSON.parse(E);if(j){for(m=0;m<j.length;m++)if(Array.isArray(j[m])){var q=j[m];if(!(2>q.length)){var fe=q[1];if(Array.isArray(fe)&&!(1>fe.length)){var Ee=fe[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(var nt=1;nt<fe.length;nt++)fe[nt]=""}}}}return Me(j)}catch{return E}}var K={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},J={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Y;function ue(){}k(ue,Nt),ue.prototype.g=function(){return new XMLHttpRequest},ue.prototype.i=function(){return{}},Y=new ue;function me(m,E,j,q){this.j=m,this.i=E,this.l=j,this.R=q||1,this.U=new ft(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var ge={},xe={};function Ue(m,E,j){m.L=1,m.v=eo(Is(E)),m.m=j,m.P=!0,Je(m,null)}function Je(m,E){m.F=Date.now(),We(m),m.A=Is(m.v);var j=m.A,q=m.R;Array.isArray(q)||(q=[String(q)]),ro(j.i,"t",q),m.C=0,j=m.j.J,m.h=new he,m.g=xh(m.j,j?E:null,!m.m),0<m.O&&(m.M=new Te(y(m.Y,m,m.g),m.O)),E=m.U,j=m.g,q=m.ca;var fe="readystatechange";Array.isArray(fe)||(fe&&(be[0]=fe.toString()),fe=be);for(var Ee=0;Ee<fe.length;Ee++){var nt=Mt(j,fe[Ee],q||E.handleEvent,!1,E.h||E);if(!nt)break;E.g[nt.key]=nt}E=m.H?S(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),cr(),ve(m.i,m.u,m.A,m.l,m.R,m.m)}me.prototype.ca=function(m){m=m.target;const E=this.M;E&&ps(m)==3?E.j():this.Y(m)},me.prototype.Y=function(m){try{if(m==this.g)e:{const nn=ps(this.g);var E=this.g.Ba();const Ys=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||Gu(this.g)))){this.J||nn!=4||E==7||(E==8||0>=Ys?cr(3):cr(2)),nr(this);var j=this.g.Z();this.X=j;t:if(lt(this)){var q=Gu(this.g);m="";var fe=q.length,Ee=ps(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),Jt(this);var nt="";break t}this.h.i=new u.TextDecoder}for(E=0;E<fe;E++)this.h.h=!0,m+=this.h.i.decode(q[E],{stream:!(Ee&&E==fe-1)});q.length=0,this.h.g+=m,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=j==200,Ne(this.i,this.u,this.A,this.l,this.R,nn,j),this.o){if(this.T&&!this.K){t:{if(this.g){var gr,fn=this.g;if((gr=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(gr)){var Zt=gr;break t}}Zt=null}if(j=Zt)P(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,js(this,j);else{this.o=!1,this.s=3,ur(12),sr(this),Jt(this);break e}}if(this.P){j=!0;let Rs;for(;!this.J&&this.C<nt.length;)if(Rs=Ke(this,nt),Rs==xe){nn==4&&(this.s=4,ur(14),j=!1),P(this.i,this.l,null,"[Incomplete Response]");break}else if(Rs==ge){this.s=4,ur(15),P(this.i,this.l,nt,"[Invalid Chunk]"),j=!1;break}else P(this.i,this.l,Rs,null),js(this,Rs);if(lt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||nt.length!=0||this.h.h||(this.s=1,ur(16),j=!1),this.o=this.o&&j,!j)P(this.i,this.l,nt,"[Invalid Chunked Response]"),sr(this),Jt(this);else if(0<nt.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Xu(vn),vn.M=!0,ur(11))}}else P(this.i,this.l,nt,null),js(this,nt);nn==4&&sr(this),this.o&&!this.J&&(nn==4?xc(this.j,this):(this.o=!1,We(this)))}else hc(this.g),j==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ur(12)):(this.s=0,ur(13)),sr(this),Jt(this)}}}catch{}finally{}};function lt(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ke(m,E){var j=m.C,q=E.indexOf(`
`,j);return q==-1?xe:(j=Number(E.substring(j,q)),isNaN(j)?ge:(q+=1,q+j>E.length?xe:(E=E.slice(q,q+j),m.C=q+j,E)))}me.prototype.cancel=function(){this.J=!0,sr(this)};function We(m){m.S=Date.now()+m.I,Pt(m,m.I)}function Pt(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Tr(y(m.ba,m),E)}function nr(m){m.B&&(u.clearTimeout(m.B),m.B=null)}me.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(z(this.i,this.A),this.L!=2&&(cr(),ur(17)),sr(this),this.s=2,Jt(this)):Pt(this,this.S-m)};function Jt(m){m.j.G==0||m.J||xc(m.j,m)}function sr(m){nr(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,ke(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function js(m,E){try{var j=m.j;if(j.G!=0&&(j.g==m||Pr(j.h,m))){if(!m.K&&Pr(j.h,m)&&j.G==3){try{var q=j.Da.g.parse(E)}catch{q=null}if(Array.isArray(q)&&q.length==3){var fe=q;if(fe[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<m.F)gc(j),xa(j);else break e;mc(j),ur(18)}}else j.za=fe[1],0<j.za-j.T&&37500>fe[2]&&j.F&&j.v==0&&!j.C&&(j.C=Tr(y(j.Za,j),6e3));if(1>=Yi(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else vi(j,11)}else if((m.K||j.g==m)&&gc(j),!I(E))for(fe=j.Da.g.parse(E),E=0;E<fe.length;E++){let Zt=fe[E];if(j.T=Zt[0],Zt=Zt[1],j.G==2)if(Zt[0]=="c"){j.K=Zt[1],j.ia=Zt[2];const vn=Zt[3];vn!=null&&(j.la=vn,j.j.info("VER="+j.la));const nn=Zt[4];nn!=null&&(j.Aa=nn,j.j.info("SVER="+j.Aa));const Ys=Zt[5];Ys!=null&&typeof Ys=="number"&&0<Ys&&(q=1.5*Ys,j.L=q,j.j.info("backChannelRequestTimeoutMs_="+q)),q=j;const Rs=m.g;if(Rs){const il=Rs.g?Rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(il){var Ee=q.h;Ee.g||il.indexOf("spdy")==-1&&il.indexOf("quic")==-1&&il.indexOf("h2")==-1||(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(zu(Ee,Ee.h),Ee.h=null))}if(q.D){const vc=Rs.g?Rs.g.getResponseHeader("X-HTTP-Session-Id"):null;vc&&(q.ya=vc,Sr(q.I,q.D,vc))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-m.F,j.j.info("Handshake RTT: "+j.R+"ms")),q=j;var nt=m;if(q.qa=gh(q,q.J?q.ia:null,q.W),nt.K){sh(q.h,nt);var gr=nt,fn=q.L;fn&&(gr.I=fn),gr.B&&(nr(gr),We(gr)),q.g=nt}else al(q);0<j.i.length&&za(j)}else Zt[0]!="stop"&&Zt[0]!="close"||vi(j,7);else j.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?vi(j,7):Cn(j):Zt[0]!="noop"&&j.l&&j.l.ta(Zt),j.v=0)}}cr(4)}catch{}}var Ks=class{constructor(m,E){this.g=m,this.map=E}};function ns(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Yi(m){return m.h?1:m.g?m.g.size:0}function Pr(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function zu(m,E){m.g?m.g.add(E):m.h=E}function sh(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}ns.prototype.cancel=function(){if(this.i=ah(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function ah(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const j of m.g.values())E=E.concat(j.D);return E}return w(m.i)}function oc(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var E=[],j=m.length,q=0;q<j;q++)E.push(m[q]);return E}E=[],j=0;for(q in m)E[j++]=m[q];return E}function lc(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var E=[];m=m.length;for(var j=0;j<m;j++)E.push(j);return E}E=[],j=0;for(const q in m)E[j++]=q;return E}}}function Qi(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var j=lc(m),q=oc(m),fe=q.length,Ee=0;Ee<fe;Ee++)E.call(void 0,q[Ee],j&&j[Ee],m)}var tl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Um(m,E){if(m){m=m.split("&");for(var j=0;j<m.length;j++){var q=m[j].indexOf("="),fe=null;if(0<=q){var Ee=m[j].substring(0,q);fe=m[j].substring(q+1)}else Ee=m[j];E(Ee,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function mi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof mi){this.h=m.h,rl(this,m.j),this.o=m.o,this.g=m.g,Ji(this,m.s),this.l=m.l;var E=m.i,j=new Va;j.i=E.i,E.g&&(j.g=new Map(E.g),j.h=E.h),Zi(this,j),this.m=m.m}else m&&(E=String(m).match(tl))?(this.h=!1,rl(this,E[1]||"",!0),this.o=Qt(E[2]||""),this.g=Qt(E[3]||"",!0),Ji(this,E[4]),this.l=Qt(E[5]||"",!0),Zi(this,E[6]||"",!0),this.m=Qt(E[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}mi.prototype.toString=function(){var m=[],E=this.j;E&&m.push(to(E,cc,!0),":");var j=this.g;return(j||E=="file")&&(m.push("//"),(E=this.o)&&m.push(to(E,cc,!0),"@"),m.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&m.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&m.push("/"),m.push(to(j,j.charAt(0)=="/"?lh:oh,!0))),(j=this.i.toString())&&m.push("?",j),(j=this.m)&&m.push("#",to(j,Hu)),m.join("")};function Is(m){return new mi(m)}function rl(m,E,j){m.j=j?Qt(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Ji(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function Zi(m,E,j){E instanceof Va?(m.i=E,Ba(m.i,m.h)):(j||(E=to(E,ch)),m.i=new Va(E,m.h))}function Sr(m,E,j){m.i.set(E,j)}function eo(m){return Sr(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Qt(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function to(m,E,j){return typeof m=="string"?(m=encodeURI(m).replace(E,ih),j&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ih(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var cc=/[#\/\?@]/g,oh=/[#\?:]/g,lh=/[#\?]/g,ch=/[#\?@]/g,Hu=/#/g;function Va(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function An(m){m.g||(m.g=new Map,m.h=0,m.i&&Um(m.i,function(E,j){m.add(decodeURIComponent(E.replace(/\+/g," ")),j)}))}t=Va.prototype,t.add=function(m,E){An(this),this.i=null,m=Xs(this,m);var j=this.g.get(m);return j||this.g.set(m,j=[]),j.push(E),this.h+=1,this};function fa(m,E){An(m),E=Xs(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function pa(m,E){return An(m),E=Xs(m,E),m.g.has(E)}t.forEach=function(m,E){An(this),this.g.forEach(function(j,q){j.forEach(function(fe){m.call(E,fe,q,this)},this)},this)},t.na=function(){An(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),j=[];for(let q=0;q<E.length;q++){const fe=m[q];for(let Ee=0;Ee<fe.length;Ee++)j.push(E[q])}return j},t.V=function(m){An(this);let E=[];if(typeof m=="string")pa(this,m)&&(E=E.concat(this.g.get(Xs(this,m))));else{m=Array.from(this.g.values());for(let j=0;j<m.length;j++)E=E.concat(m[j])}return E},t.set=function(m,E){return An(this),this.i=null,m=Xs(this,m),pa(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function ro(m,E,j){fa(m,E),0<j.length&&(m.i=null,m.g.set(Xs(m,E),w(j)),m.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var j=0;j<E.length;j++){var q=E[j];const Ee=encodeURIComponent(String(q)),nt=this.V(q);for(q=0;q<nt.length;q++){var fe=Ee;nt[q]!==""&&(fe+="="+encodeURIComponent(String(nt[q]))),m.push(fe)}}return this.i=m.join("&")};function Xs(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Ba(m,E){E&&!m.j&&(An(m),m.i=null,m.g.forEach(function(j,q){var fe=q.toLowerCase();q!=fe&&(fa(this,q),ro(this,fe,j))},m)),m.j=E}function zm(m,E){const j=new yn;if(u.Image){const q=new Image;q.onload=v(fs,j,"TestLoadImage: loaded",!0,E,q),q.onerror=v(fs,j,"TestLoadImage: error",!1,E,q),q.onabort=v(fs,j,"TestLoadImage: abort",!1,E,q),q.ontimeout=v(fs,j,"TestLoadImage: timeout",!1,E,q),u.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=m}else E(!1)}function uh(m,E){const j=new yn,q=new AbortController,fe=setTimeout(()=>{q.abort(),fs(j,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:q.signal}).then(Ee=>{clearTimeout(fe),Ee.ok?fs(j,"TestPingServer: ok",!0,E):fs(j,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(fe),fs(j,"TestPingServer: error",!1,E)})}function fs(m,E,j,q,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),q(j)}catch{}}function Hm(){this.g=new vt}function dh(m,E,j){const q=j||"";try{Qi(m,function(fe,Ee){let nt=fe;h(fe)&&(nt=Me(fe)),E.push(q+Ee+"="+encodeURIComponent(nt))})}catch(fe){throw E.push(q+"type="+encodeURIComponent("_badmap")),fe}}function gi(m){this.l=m.Ub||null,this.j=m.eb||!1}k(gi,Nt),gi.prototype.g=function(){return new nl(this.l,this.j)},gi.prototype.i=(function(m){return function(){return m}})({});function nl(m,E){wt.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(nl,wt),t=nl.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,ga(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function hh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?ma(this):ga(this),this.readyState==3&&hh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,ma(this))},t.Qa=function(m){this.g&&(this.response=m,ma(this))},t.ga=function(){this.g&&ma(this)};function ma(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ga(m)}t.setRequestHeader=function(m,E){this.u.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var j=E.next();!j.done;)j=j.value,m.push(j[0]+": "+j[1]),j=E.next();return m.join(`\r
`)};function ga(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function xi(m){let E="";return B(m,function(j,q){E+=q,E+=":",E+=j,E+=`\r
`}),E}function no(m,E,j){e:{for(q in j){var q=!1;break e}q=!0}q||(j=xi(j),typeof m=="string"?j!=null&&encodeURIComponent(String(j)):Sr(m,E,j))}function Fr(m){wt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Fr,wt);var Wm=/^https?$/i,Wu=["POST","PUT"];t=Fr.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,E,j,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Y.g(),this.v=this.o?at(this.o):at(Y),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(Ee){sl(this,Ee);return}if(m=j||"",j=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var fe in q)j.set(fe,q[fe]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const Ee of q.keys())j.set(Ee,q.get(Ee));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(j.keys()).find(Ee=>Ee.toLowerCase()=="content-type"),fe=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Wu,E,void 0))||q||fe||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ee,nt]of j)this.g.setRequestHeader(Ee,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dc(this),this.u=!0,this.g.send(m),this.u=!1}catch(Ee){sl(this,Ee)}};function sl(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,uc(m),Ps(m)}function uc(m){m.A||(m.A=!0,st(m,"complete"),st(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,st(this,"complete"),st(this,"abort"),Ps(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ps(this,!0)),Fr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qu(this):this.bb())},t.bb=function(){qu(this)};function qu(m){if(m.h&&typeof o<"u"&&(!m.v[1]||ps(m)!=4||m.Z()!=2)){if(m.u&&ps(m)==4)ir(m.Ea,0,m);else if(st(m,"readystatechange"),ps(m)==4){m.h=!1;try{const nt=m.Z();e:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var j;if(!(j=E)){var q;if(q=nt===0){var fe=String(m.D).match(tl)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),q=!Wm.test(fe?fe.toLowerCase():"")}j=q}if(j)st(m,"complete"),st(m,"success");else{m.m=6;try{var Ee=2<ps(m)?m.g.statusText:""}catch{Ee=""}m.l=Ee+" ["+m.Z()+"]",uc(m)}}finally{Ps(m)}}}}function Ps(m,E){if(m.g){dc(m);const j=m.g,q=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||st(m,"ready");try{j.onreadystatechange=q}catch{}}}function dc(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ps(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ps(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Ze(E)}};function Gu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function hc(m){const E={};m=(m.g&&2<=ps(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<m.length;q++){if(I(m[q]))continue;var j=F(m[q]);const fe=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const Ee=E[fe]||[];E[fe]=Ee,Ee.push(j)}A(E,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(m,E,j){return j&&j.internalChannelParams&&j.internalChannelParams[m]||E}function Ku(m){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,m),this.cb=Ua("retryDelaySeedMs",1e4,m),this.Wa=Ua("forwardChannelMaxRetries",2,m),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ns(m&&m.concurrentRequestLimit),this.Da=new Hm,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ku.prototype,t.la=8,t.G=1,t.connect=function(m,E,j,q){ur(0),this.W=m,this.H=E||{},j&&q!==void 0&&(this.H.OSID=j,this.H.OAID=q),this.F=this.X,this.I=gh(this,null,this.W),za(this)};function Cn(m){if(fc(m),m.G==3){var E=m.U++,j=Is(m.I);if(Sr(j,"SID",m.K),Sr(j,"RID",E),Sr(j,"TYPE","terminate"),yi(m,j),E=new me(m,m.j,E),E.L=2,E.v=eo(Is(j)),j=!1,u.navigator&&u.navigator.sendBeacon)try{j=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!j&&u.Image&&(new Image().src=E.v,j=!0),j||(E.g=xh(E.j,null),E.g.ea(E.v)),E.F=Date.now(),We(E)}mh(m)}function xa(m){m.g&&(Xu(m),m.g.cancel(),m.g=null)}function fc(m){xa(m),m.u&&(u.clearTimeout(m.u),m.u=null),gc(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function za(m){if(!Vr(m.h)&&!m.s){m.s=!0;var E=m.Ga;Le||de(),_e||(Le(),_e=!0),ie.add(E,m),m.B=0}}function qm(m,E){return Yi(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Tr(y(m.Ga,m,E),ph(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const fe=new me(this,this.j,m);let Ee=this.o;if(this.S&&(Ee?(Ee=S(Ee),R(Ee,this.S)):Ee=this.S),this.m!==null||this.O||(fe.H=Ee,Ee=null),this.P)e:{for(var E=0,j=0;j<this.i.length;j++){t:{var q=this.i[j];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(E+=q,4096<E){E=j;break e}if(E===4096||j===this.i.length-1){E=j+1;break e}}E=1e3}else E=1e3;E=so(this,fe,E),j=Is(this.I),Sr(j,"RID",m),Sr(j,"CVER",22),this.D&&Sr(j,"X-HTTP-Session-Id",this.D),yi(this,j),Ee&&(this.O?E="headers="+encodeURIComponent(String(xi(Ee)))+"&"+E:this.m&&no(j,this.m,Ee)),zu(this.h,fe),this.Ua&&Sr(j,"TYPE","init"),this.P?(Sr(j,"$req",E),Sr(j,"SID","null"),fe.T=!0,Ue(fe,j,null)):Ue(fe,j,E),this.G=2}}else this.G==3&&(m?pc(this,m):this.i.length==0||Vr(this.h)||pc(this))};function pc(m,E){var j;E?j=E.l:j=m.U++;const q=Is(m.I);Sr(q,"SID",m.K),Sr(q,"RID",j),Sr(q,"AID",m.T),yi(m,q),m.m&&m.o&&no(q,m.m,m.o),j=new me(m,m.j,j,m.B+1),m.m===null&&(j.H=m.o),E&&(m.i=E.D.concat(m.i)),E=so(m,j,1e3),j.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),zu(m.h,j),Ue(j,q,E)}function yi(m,E){m.H&&B(m.H,function(j,q){Sr(E,q,j)}),m.l&&Qi({},function(j,q){Sr(E,q,j)})}function so(m,E,j){j=Math.min(m.i.length,j);var q=m.l?y(m.l.Na,m.l,m):null;e:{var fe=m.i;let Ee=-1;for(;;){const nt=["count="+j];Ee==-1?0<j?(Ee=fe[0].g,nt.push("ofs="+Ee)):Ee=0:nt.push("ofs="+Ee);let gr=!0;for(let fn=0;fn<j;fn++){let Zt=fe[fn].g;const vn=fe[fn].map;if(Zt-=Ee,0>Zt)Ee=Math.max(0,fe[fn].g-100),gr=!1;else try{dh(vn,nt,"req"+Zt+"_")}catch{q&&q(vn)}}if(gr){q=nt.join("&");break e}}}return m=m.i.splice(0,j),E.D=m,q}function al(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;Le||de(),_e||(Le(),_e=!0),ie.add(E,m),m.v=0}}function mc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Tr(y(m.Fa,m),ph(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,fh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Tr(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ur(10),xa(this),fh(this))};function Xu(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function fh(m){m.g=new me(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=Is(m.qa);Sr(E,"RID","rpc"),Sr(E,"SID",m.K),Sr(E,"AID",m.T),Sr(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&Sr(E,"TO",m.ja),Sr(E,"TYPE","xmlhttp"),yi(m,E),m.m&&m.o&&no(E,m.m,m.o),m.L&&(m.g.I=m.L);var j=m.g;m=m.ia,j.L=1,j.v=eo(Is(E)),j.m=null,j.P=!0,Je(j,m)}t.Za=function(){this.C!=null&&(this.C=null,xa(this),mc(this),ur(19))};function gc(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function xc(m,E){var j=null;if(m.g==E){gc(m),Xu(m),m.g=null;var q=2}else if(Pr(m.h,E))j=E.D,sh(m.h,E),q=1;else return;if(m.G!=0){if(E.o)if(q==1){j=E.m?E.m.length:0,E=Date.now()-E.F;var fe=m.B;q=$r(),st(q,new hn(q,j)),za(m)}else al(m);else if(fe=E.s,fe==3||fe==0&&0<E.X||!(q==1&&qm(m,E)||q==2&&mc(m)))switch(j&&0<j.length&&(E=m.h,E.i=E.i.concat(j)),fe){case 1:vi(m,5);break;case 4:vi(m,10);break;case 3:vi(m,6);break;default:vi(m,2)}}}function ph(m,E){let j=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(j*=2),j*E}function vi(m,E){if(m.j.info("Error code "+E),E==2){var j=y(m.fb,m),q=m.Xa;const fe=!q;q=new mi(q||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||rl(q,"https"),eo(q),fe?zm(q.toString(),j):uh(q.toString(),j)}else ur(2);m.G=0,m.l&&m.l.sa(E),mh(m),fc(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ur(2)):(this.j.info("Failed to ping google.com"),ur(1))};function mh(m){if(m.G=0,m.ka=[],m.l){const E=ah(m.h);(E.length!=0||m.i.length!=0)&&(T(m.ka,E),T(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function gh(m,E,j){var q=j instanceof mi?Is(j):new mi(j);if(q.g!="")E&&(q.g=E+"."+q.g),Ji(q,q.s);else{var fe=u.location;q=fe.protocol,E=E?E+"."+fe.hostname:fe.hostname,fe=+fe.port;var Ee=new mi(null);q&&rl(Ee,q),E&&(Ee.g=E),fe&&Ji(Ee,fe),j&&(Ee.l=j),q=Ee}return j=m.D,E=m.ya,j&&E&&Sr(q,j,E),Sr(q,"VER",m.la),yi(m,q),q}function xh(m,E,j){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new Fr(new gi({eb:j})):new Fr(m.pa),E.Ha(m.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}t=Yu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yc(){}yc.prototype.g=function(m,E){return new ss(m,E)};function ss(m,E){wt.call(this),this.g=new Ku(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!I(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!I(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Ha(this)}k(ss,wt),ss.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ss.prototype.close=function(){Cn(this.g)},ss.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var j={};j.__data__=m,m=j}else this.u&&(j={},j.__data__=Me(m),m=j);E.i.push(new Ks(E.Ya++,m)),E.G==3&&za(E)},ss.prototype.N=function(){this.g.l=null,delete this.j,Cn(this.g),delete this.g,ss.aa.N.call(this)};function yh(m){Tt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const j in E){m=j;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}k(yh,Tt);function vh(){Bt.call(this),this.status=1}k(vh,Bt);function Ha(m){this.g=m}k(Ha,Yu),Ha.prototype.ua=function(){st(this.g,"a")},Ha.prototype.ta=function(m){st(this.g,new yh(m))},Ha.prototype.sa=function(m){st(this.g,new vh)},Ha.prototype.ra=function(){st(this.g,"b")},yc.prototype.createWebChannel=yc.prototype.g,ss.prototype.send=ss.prototype.o,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,Jk=function(){return new yc},Qk=function(){return $r()},Yk=Kt,dy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,Ff=K,J.COMPLETE="complete",Xk=J,ot.EventType=et,et.OPEN="a",et.CLOSE="b",et.ERROR="c",et.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Sd=ot,Fr.prototype.listenOnce=Fr.prototype.L,Fr.prototype.getLastError=Fr.prototype.Ka,Fr.prototype.getLastErrorCode=Fr.prototype.Ba,Fr.prototype.getStatus=Fr.prototype.Z,Fr.prototype.getResponseJson=Fr.prototype.Oa,Fr.prototype.getResponseText=Fr.prototype.oa,Fr.prototype.send=Fr.prototype.ea,Fr.prototype.setWithCredentials=Fr.prototype.Ha,Kk=Fr}).apply(typeof mf<"u"?mf:typeof self<"u"?self:typeof window<"u"?window:{});const x_="@firebase/firestore",y_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new Jp("@firebase/firestore");function zc(){return Pl.logLevel}function mt(t,...e){if(Pl.logLevel<=Xt.DEBUG){const r=e.map(v1);Pl.debug(`Firestore (${ju}): ${t}`,...r)}}function Vi(t,...e){if(Pl.logLevel<=Xt.ERROR){const r=e.map(v1);Pl.error(`Firestore (${ju}): ${t}`,...r)}}function uu(t,...e){if(Pl.logLevel<=Xt.WARN){const r=e.map(v1);Pl.warn(`Firestore (${ju}): ${t}`,...r)}}function v1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t="Unexpected state"){const e=`FIRESTORE (${ju}) INTERNAL ASSERTION FAILED: `+t;throw Vi(e),new Error(e)}function rr(t,e){t||It()}function Lt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends da{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Jn.UNAUTHENTICATED)))}shutdown(){}}class X8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Y8{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){rr(this.o===void 0);let n=this.i;const s=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let a=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ja,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ja)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(rr(typeof n.accessToken=="string"),new Zk(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rr(e===null||typeof e=="string"),new Jn(e)}}class Q8{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class J8{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new Q8(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(Jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class v_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z8{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Bs(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){rr(this.o===void 0);const n=a=>{a.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,mt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const s=a=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new v_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(rr(typeof r.token=="string"),this.R=r.token,new v_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=eD(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<r&&(n+=e.charAt(s[a]%62))}return n}}function Ht(t,e){return t<e?-1:t>e?1:0}function hy(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),s=e.codePointAt(r);if(n!==s){if(n<128&&s<128)return Ht(n,s);{const a=eN(),o=tD(a.encode(b_(t,r)),a.encode(b_(e,r)));return o!==0?o:Ht(n,s)}}r+=n>65535?2:1}return Ht(t.length,e.length)}function b_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function tD(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Ht(t[r],e[r]);return Ht(t.length,e.length)}function du(t,e,r){return t.length===e.length&&t.every(((n,s)=>r(n,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=-62135596800,__=1e6;class Nr{static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*__);return new Nr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new dt(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new dt(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<w_)throw new dt(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/__}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-w_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Nr(0,0))}static max(){return new Rt(new Nr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="__name__";class Qa{constructor(e,r,n){r===void 0?r=0:r>e.length&&It(),n===void 0?n=e.length-r:n>e.length-r&&It(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Qa.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Qa?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const a=Qa.compareSegments(e.get(s),r.get(s));if(a!==0)return a}return Ht(e.length,r.length)}static compareSegments(e,r){const n=Qa.isNumericId(e),s=Qa.isNumericId(r);return n&&!s?-1:!n&&s?1:n&&s?Qa.extractNumericId(e).compare(Qa.extractNumericId(r)):hy(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Po.fromString(e.substring(4,e.length-2))}}class Ar extends Qa{construct(e,r,n){return new Ar(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new dt(Re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((s=>s.length>0)))}return new Ar(r)}static emptyPath(){return new Ar([])}}const rD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Qa{construct(e,r,n){return new Fn(e,r,n)}static isValidIdentifier(e){return rD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E_}static keyField(){return new Fn([E_])}static fromServerFormat(e){const r=[];let n="",s=0;const a=()=>{if(n.length===0)throw new dt(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new dt(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new dt(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(n+=u,s++):(a(),s++)}if(a(),o)throw new dt(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(r)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.path=e}static fromPath(e){return new St(Ar.fromString(e))}static fromName(e){return new St(Ar.fromString(e).popFirst(5))}static empty(){return new St(Ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ar.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ar.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new Ar(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=-1;function nD(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Rt.fromTimestamp(n===1e9?new Nr(r+1,0):new Nr(r,n));return new Fo(s,St.empty(),e)}function sD(t){return new Fo(t.readTime,t.key,e0)}class Fo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Fo(Rt.min(),St.empty(),e0)}static max(){return new Fo(Rt.max(),St.empty(),e0)}}function aD(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=St.comparator(t.documentKey,e.documentKey),r!==0?r:Ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(t){if(t.code!==Re.FAILED_PRECONDITION||t.message!==iD)throw t;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ve(((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,s)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Ve?r:Ve.resolve(r)}catch(r){return Ve.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Ve.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Ve.reject(r)}static resolve(e){return new Ve(((r,n)=>{r(e)}))}static reject(e){return new Ve(((r,n)=>{n(e)}))}static waitFor(e){return new Ve(((r,n)=>{let s=0,a=0,o=!1;e.forEach((u=>{++s,u.next((()=>{++a,o&&a===s&&r()}),(d=>n(d)))})),o=!0,a===s&&r()}))}static or(e){let r=Ve.resolve(!1);for(const n of e)r=r.next((s=>s?Ve.resolve(s):n()));return r}static forEach(e,r){const n=[];return e.forEach(((s,a)=>{n.push(r.call(this,s,a))})),this.waitFor(n)}static mapArray(e,r){return new Ve(((n,s)=>{const a=e.length,o=new Array(a);let u=0;for(let d=0;d<a;d++){const h=d;r(e[h]).next((p=>{o[h]=p,++u,u===a&&n(o)}),(p=>s(p)))}}))}static doWhile(e,r){return new Ve(((n,s)=>{const a=()=>{e()===!0?r().next((()=>{a()}),s):n()};a()}))}}function lD(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Pu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=-1;function j0(t){return t==null}function tp(t){return t===0&&1/t==-1/0}function cD(t){return typeof t=="number"&&Number.isInteger(t)&&!tp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="";function uD(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=T_(e)),e=dD(t.get(r),e);return T_(e)}function dD(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const a=t.charAt(s);switch(a){case"\0":r+="";break;case rN:r+="";break;default:r+=a}}return r}function T_(t){return t+rN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Yo(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function nN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,r){this.comparator=e,this.root=r||On.EMPTY}insert(e,r){return new qr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gf(this.root,e,this.comparator,!0)}}class gf{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class On{constructor(e,r,n,s,a){this.key=e,this.value=r,this.color=n??On.RED,this.left=s??On.EMPTY,this.right=a??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,a){return new On(e??this.key,r??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const a=n(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,r,n),null):a===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return On.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1;On.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(e,r,n,s,a){return this}insert(e,r,n){return new On(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(e){return new N_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new xn(this.comparator);return r.data=e,r}}class N_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new Us([])}unionWith(e){let r=new xn(Fn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Us(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return du(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sN("Invalid base64 string: "+a):a}})(e);return new zn(r)}static fromUint8Array(e){const r=(function(s){let a="";for(let o=0;o<s.length;++o)a+=String.fromCharCode(s[o]);return a})(e);return new zn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const hD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(t){if(rr(!!t),typeof t=="string"){let e=0;const r=hD.exec(t);if(rr(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mo(t){return typeof t=="string"?zn.fromBase64String(t):zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="server_timestamp",iN="__type__",oN="__previous_value__",lN="__local_write_time__";function w1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[iN])===null||r===void 0?void 0:r.stringValue)===aN}function nm(t){const e=t.mapValue.fields[oN];return w1(e)?nm(e):e}function t0(t){const e=Lo(t.mapValue.fields[lN].timestampValue);return new Nr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,r,n,s,a,o,u,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const rp="(default)";class r0{constructor(e,r){this.projectId=e,this.database=r||rp}static empty(){return new r0("","")}get isDefaultDatabase(){return this.database===rp}isEqual(e){return e instanceof r0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="__type__",pD="__max__",xf={mapValue:{}},uN="__vector__",np="value";function $o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?w1(t)?4:gD(t)?9007199254740991:mD(t)?10:11:It()}function li(t,e){if(t===e)return!0;const r=$o(t);if(r!==$o(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return t0(t).isEqual(t0(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const o=Lo(s.timestampValue),u=Lo(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return Mo(s.bytesValue).isEqual(Mo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return en(s.geoPointValue.latitude)===en(a.geoPointValue.latitude)&&en(s.geoPointValue.longitude)===en(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return en(s.integerValue)===en(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const o=en(s.doubleValue),u=en(a.doubleValue);return o===u?tp(o)===tp(u):isNaN(o)&&isNaN(u)}return!1})(t,e);case 9:return du(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return(function(s,a){const o=s.mapValue.fields||{},u=a.mapValue.fields||{};if(k_(o)!==k_(u))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(u[d]===void 0||!li(o[d],u[d])))return!1;return!0})(t,e);default:return It()}}function n0(t,e){return(t.values||[]).find((r=>li(r,e)))!==void 0}function hu(t,e){if(t===e)return 0;const r=$o(t),n=$o(e);if(r!==n)return Ht(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ht(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const u=en(a.integerValue||a.doubleValue),d=en(o.integerValue||o.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return S_(t.timestampValue,e.timestampValue);case 4:return S_(t0(t),t0(e));case 5:return hy(t.stringValue,e.stringValue);case 6:return(function(a,o){const u=Mo(a),d=Mo(o);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const u=a.split("/"),d=o.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=Ht(u[h],d[h]);if(p!==0)return p}return Ht(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const u=Ht(en(a.latitude),en(o.latitude));return u!==0?u:Ht(en(a.longitude),en(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return A_(t.arrayValue,e.arrayValue);case 10:return(function(a,o){var u,d,h,p;const g=a.fields||{},y=o.fields||{},v=(u=g[np])===null||u===void 0?void 0:u.arrayValue,k=(d=y[np])===null||d===void 0?void 0:d.arrayValue,w=Ht(((h=v?.values)===null||h===void 0?void 0:h.length)||0,((p=k?.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:A_(v,k)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===xf.mapValue&&o===xf.mapValue)return 0;if(a===xf.mapValue)return 1;if(o===xf.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),h=o.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const y=hy(d[g],p[g]);if(y!==0)return y;const v=hu(u[d[g]],h[p[g]]);if(v!==0)return v}return Ht(d.length,p.length)})(t.mapValue,e.mapValue);default:throw It()}}function S_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ht(t,e);const r=Lo(t),n=Lo(e),s=Ht(r.seconds,n.seconds);return s!==0?s:Ht(r.nanos,n.nanos)}function A_(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const a=hu(r[s],n[s]);if(a)return a}return Ht(r.length,n.length)}function fu(t){return fy(t)}function fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Lo(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Mo(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return St.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",s=!0;for(const a of r.values||[])s?s=!1:n+=",",n+=fy(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const o of n)a?a=!1:s+=",",s+=`${o}:${fy(r.fields[o])}`;return s+"}"})(t.mapValue):It()}function Lf(t){switch($o(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(t);return e?16+Lf(e):16;case 5:return 2*t.stringValue.length;case 6:return Mo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,a)=>s+Lf(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let s=0;return Yo(n.fields,((a,o)=>{s+=a.length+Lf(o)})),s})(t.mapValue);default:throw It()}}function C_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function py(t){return!!t&&"integerValue"in t}function _1(t){return!!t&&"arrayValue"in t}function j_(t){return!!t&&"nullValue"in t}function I_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mf(t){return!!t&&"mapValue"in t}function mD(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[cN])===null||r===void 0?void 0:r.stringValue)===uN}function Od(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yo(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Od(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Od(t.arrayValue.values[r]);return e}return Object.assign({},t)}function gD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===pD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.value=e}static empty(){return new cs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Mf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Od(r)}setAll(e){let r=Fn.emptyPath(),n={},s=[];e.forEach(((o,u)=>{if(!r.isImmediateParentOf(u)){const d=this.getFieldsMap(r);this.applyChanges(d,n,s),n={},s=[],r=u.popLast()}o?n[u.lastSegment()]=Od(o):s.push(u.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,s)}delete(e){const r=this.field(e.popLast());Mf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];Mf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){Yo(r,((s,a)=>e[s]=a));for(const s of n)delete e[s]}clone(){return new cs(Od(this.value))}}function dN(t){const e=[];return Yo(t.fields,((r,n)=>{const s=new Fn([r]);if(Mf(n)){const a=dN(n.mapValue).fields;if(a.length===0)e.push(s);else for(const o of a)e.push(s.child(o))}else e.push(s)})),new Us(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,r,n,s,a,o,u){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Tn(e,0,Rt.min(),Rt.min(),Rt.min(),cs.empty(),0)}static newFoundDocument(e,r,n,s){return new Tn(e,1,r,Rt.min(),n,s,0)}static newNoDocument(e,r){return new Tn(e,2,r,Rt.min(),Rt.min(),cs.empty(),0)}static newUnknownDocument(e,r){return new Tn(e,3,r,Rt.min(),Rt.min(),cs.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,r){this.position=e,this.inclusive=r}}function P_(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const a=e[s],o=t.position[s];if(a.field.isKeyField()?n=St.comparator(St.fromName(o.referenceValue),r.key):n=hu(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function R_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!li(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,r="asc"){this.field=e,this.dir=r}}function xD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{}class ln extends hN{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new vD(e,r,n):r==="array-contains"?new _D(e,n):r==="in"?new ED(e,n):r==="not-in"?new TD(e,n):r==="array-contains-any"?new kD(e,n):new ln(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new bD(e,n):new wD(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(hu(r,this.value)):r!==null&&$o(this.value)===$o(r)&&this.matchesComparison(hu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oa extends hN{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new Oa(e,r)}matches(e){return fN(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function fN(t){return t.op==="and"}function pN(t){return yD(t)&&fN(t)}function yD(t){for(const e of t.filters)if(e instanceof Oa)return!1;return!0}function my(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+fu(t.value);if(pN(t))return t.filters.map((e=>my(e))).join(",");{const e=t.filters.map((r=>my(r))).join(",");return`${t.op}(${e})`}}function mN(t,e){return t instanceof ln?(function(n,s){return s instanceof ln&&n.op===s.op&&n.field.isEqual(s.field)&&li(n.value,s.value)})(t,e):t instanceof Oa?(function(n,s){return s instanceof Oa&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((a,o,u)=>a&&mN(o,s.filters[u])),!0):!1})(t,e):void It()}function gN(t){return t instanceof ln?(function(r){return`${r.field.canonicalString()} ${r.op} ${fu(r.value)}`})(t):t instanceof Oa?(function(r){return r.op.toString()+" {"+r.getFilters().map(gN).join(" ,")+"}"})(t):"Filter"}class vD extends ln{constructor(e,r,n){super(e,r,n),this.key=St.fromName(n.referenceValue)}matches(e){const r=St.comparator(e.key,this.key);return this.matchesComparison(r)}}class bD extends ln{constructor(e,r){super(e,"in",r),this.keys=xN("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class wD extends ln{constructor(e,r){super(e,"not-in",r),this.keys=xN("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function xN(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>St.fromName(n.referenceValue)))}class _D extends ln{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return _1(r)&&n0(r.arrayValue,this.value)}}class ED extends ln{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&n0(this.value.arrayValue,r)}}class TD extends ln{constructor(e,r){super(e,"not-in",r)}matches(e){if(n0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!n0(this.value.arrayValue,r)}}class kD extends ln{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!_1(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>n0(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,r=null,n=[],s=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=o,this.endAt=u,this.le=null}}function D_(t,e=null,r=[],n=[],s=null,a=null,o=null){return new ND(t,e,r,n,s,a,o)}function E1(t){const e=Lt(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>my(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),j0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>fu(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>fu(n))).join(",")),e.le=r}return e.le}function T1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!xD(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!mN(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!R_(t.startAt,e.startAt)&&R_(t.endAt,e.endAt)}function gy(t){return St.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,r=null,n=[],s=[],a=null,o="F",u=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function SD(t,e,r,n,s,a,o,u){return new Ru(t,e,r,n,s,a,o,u)}function sm(t){return new Ru(t)}function O_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yN(t){return t.collectionGroup!==null}function Fd(t){const e=Lt(t);if(e.he===null){e.he=[];const r=new Set;for(const a of e.explicitOrderBy)e.he.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new xn(Fn.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.he.push(new s0(a,n))})),r.has(Fn.keyField().canonicalString())||e.he.push(new s0(Fn.keyField(),n))}return e.he}function Za(t){const e=Lt(t);return e.Pe||(e.Pe=AD(e,Fd(t))),e.Pe}function AD(t,e){if(t.limitType==="F")return D_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new s0(s.field,a)}));const r=t.endAt?new sp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new sp(t.startAt.position,t.startAt.inclusive):null;return D_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function xy(t,e){const r=t.filters.concat([e]);return new Ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function ap(t,e,r){return new Ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function am(t,e){return T1(Za(t),Za(e))&&t.limitType===e.limitType}function vN(t){return`${E1(Za(t))}|lt:${t.limitType}`}function Hc(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((s=>gN(s))).join(", ")}]`),j0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((s=>fu(s))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((s=>fu(s))).join(",")),`Target(${n})`})(Za(t))}; limitType=${t.limitType})`}function im(t,e){return e.isFoundDocument()&&(function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):St.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,s){for(const a of Fd(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(n,s){return!(n.startAt&&!(function(o,u,d){const h=P_(o,u,d);return o.inclusive?h<=0:h<0})(n.startAt,Fd(n),s)||n.endAt&&!(function(o,u,d){const h=P_(o,u,d);return o.inclusive?h>=0:h>0})(n.endAt,Fd(n),s))})(t,e)}function CD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bN(t){return(e,r)=>{let n=!1;for(const s of Fd(t)){const a=jD(s,e,r);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function jD(t,e,r){const n=t.field.isKeyField()?St.comparator(e.key,r.key):(function(a,o,u){const d=o.data.field(a),h=u.data.field(a);return d!==null&&h!==null?hu(d,h):It()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return It()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,((r,n)=>{for(const[s,a]of n)e(s,a)}))}isEmpty(){return nN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new qr(St.comparator);function Bi(){return ID}const wN=new qr(St.comparator);function Ad(...t){let e=wN;for(const r of t)e=e.insert(r.key,r);return e}function _N(t){let e=wN;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Tl(){return Ld()}function EN(){return Ld()}function Ld(){return new ql((t=>t.toString()),((t,e)=>t.isEqual(e)))}const PD=new qr(St.comparator),RD=new xn(St.comparator);function Yt(...t){let e=RD;for(const r of t)e=e.add(r);return e}const DD=new xn(Ht);function OD(){return DD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tp(e)?"-0":e}}function TN(t){return{integerValue:""+t}}function kN(t,e){return cD(e)?TN(e):k1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this._=void 0}}function FD(t,e,r){return t instanceof a0?(function(s,a){const o={fields:{[iN]:{stringValue:aN},[lN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&w1(a)&&(a=nm(a)),a&&(o.fields[oN]=a),{mapValue:o}})(r,e):t instanceof i0?SN(t,e):t instanceof o0?AN(t,e):(function(s,a){const o=NN(s,a),u=F_(o)+F_(s.Ie);return py(o)&&py(s.Ie)?TN(u):k1(s.serializer,u)})(t,e)}function LD(t,e,r){return t instanceof i0?SN(t,e):t instanceof o0?AN(t,e):r}function NN(t,e){return t instanceof l0?(function(n){return py(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class a0 extends om{}class i0 extends om{constructor(e){super(),this.elements=e}}function SN(t,e){const r=CN(e);for(const n of t.elements)r.some((s=>li(s,n)))||r.push(n);return{arrayValue:{values:r}}}class o0 extends om{constructor(e){super(),this.elements=e}}function AN(t,e){let r=CN(e);for(const n of t.elements)r=r.filter((s=>!li(s,n)));return{arrayValue:{values:r}}}class l0 extends om{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function F_(t){return en(t.integerValue||t.doubleValue)}function CN(t){return _1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,r){this.field=e,this.transform=r}}function MD(t,e){return t.field.isEqual(e.field)&&(function(n,s){return n instanceof i0&&s instanceof i0||n instanceof o0&&s instanceof o0?du(n.elements,s.elements,li):n instanceof l0&&s instanceof l0?li(n.Ie,s.Ie):n instanceof a0&&s instanceof a0})(t.transform,e.transform)}class $D{constructor(e,r){this.version=e,this.transformResults=r}}class Ln{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $f(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lm{}function IN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cm(t.key,Ln.none()):new I0(t.key,t.data,Ln.none());{const r=t.data,n=cs.empty();let s=new xn(Fn.comparator);for(let a of e.fields)if(!s.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),s=s.add(a)}return new Qo(t.key,n,new Us(s.toArray()),Ln.none())}}function VD(t,e,r){t instanceof I0?(function(s,a,o){const u=s.value.clone(),d=M_(s.fieldTransforms,a,o.transformResults);u.setAll(d),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,r):t instanceof Qo?(function(s,a,o){if(!$f(s.precondition,a))return void a.convertToUnknownDocument(o.version);const u=M_(s.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(PN(s)),d.setAll(u),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,r):(function(s,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function Md(t,e,r,n){return t instanceof I0?(function(a,o,u,d){if(!$f(a.precondition,o))return u;const h=a.value.clone(),p=$_(a.fieldTransforms,d,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,r,n):t instanceof Qo?(function(a,o,u,d){if(!$f(a.precondition,o))return u;const h=$_(a.fieldTransforms,d,o),p=o.data;return p.setAll(PN(a)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,r,n):(function(a,o,u){return $f(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(t,e,r)}function BD(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),a=NN(n.transform,s||null);a!=null&&(r===null&&(r=cs.empty()),r.set(n.field,a))}return r||null}function L_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&du(n,s,((a,o)=>MD(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class I0 extends lm{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qo extends lm{constructor(e,r,n,s,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function PN(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function M_(t,e,r){const n=new Map;rr(t.length===r.length);for(let s=0;s<r.length;s++){const a=t[s],o=a.transform,u=e.data.field(a.field);n.set(a.field,LD(o,u,r[s]))}return n}function $_(t,e,r){const n=new Map;for(const s of t){const a=s.transform,o=r.data.field(s.field);n.set(s.field,FD(a,o,e))}return n}class cm extends lm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RN extends lm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&VD(a,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Md(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Md(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=EN();return this.mutations.forEach((s=>{const a=e.get(s.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=r.has(s.key)?null:u;const d=IN(o,u);d!==null&&n.set(s.key,d),o.isValidDocument()||o.convertToNoDocument(Rt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Yt())}isEqual(e){return this.batchId===e.batchId&&du(this.mutations,e.mutations,((r,n)=>L_(r,n)))&&du(this.baseMutations,e.baseMutations,((r,n)=>L_(r,n)))}}class N1{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){rr(e.mutations.length===n.length);let s=(function(){return PD})();const a=e.mutations;for(let o=0;o<a.length;o++)s=s.insert(a[o].key,n[o].version);return new N1(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,er;function DN(t){switch(t){case Re.OK:return It();case Re.CANCELLED:case Re.UNKNOWN:case Re.DEADLINE_EXCEEDED:case Re.RESOURCE_EXHAUSTED:case Re.INTERNAL:case Re.UNAVAILABLE:case Re.UNAUTHENTICATED:return!1;case Re.INVALID_ARGUMENT:case Re.NOT_FOUND:case Re.ALREADY_EXISTS:case Re.PERMISSION_DENIED:case Re.FAILED_PRECONDITION:case Re.ABORTED:case Re.OUT_OF_RANGE:case Re.UNIMPLEMENTED:case Re.DATA_LOSS:return!0;default:return It()}}function ON(t){if(t===void 0)return Vi("GRPC error has no .code"),Re.UNKNOWN;switch(t){case on.OK:return Re.OK;case on.CANCELLED:return Re.CANCELLED;case on.UNKNOWN:return Re.UNKNOWN;case on.DEADLINE_EXCEEDED:return Re.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return Re.RESOURCE_EXHAUSTED;case on.INTERNAL:return Re.INTERNAL;case on.UNAVAILABLE:return Re.UNAVAILABLE;case on.UNAUTHENTICATED:return Re.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return Re.INVALID_ARGUMENT;case on.NOT_FOUND:return Re.NOT_FOUND;case on.ALREADY_EXISTS:return Re.ALREADY_EXISTS;case on.PERMISSION_DENIED:return Re.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return Re.FAILED_PRECONDITION;case on.ABORTED:return Re.ABORTED;case on.OUT_OF_RANGE:return Re.OUT_OF_RANGE;case on.UNIMPLEMENTED:return Re.UNIMPLEMENTED;case on.DATA_LOSS:return Re.DATA_LOSS;default:return It()}}(er=on||(on={}))[er.OK=0]="OK",er[er.CANCELLED=1]="CANCELLED",er[er.UNKNOWN=2]="UNKNOWN",er[er.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",er[er.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",er[er.NOT_FOUND=5]="NOT_FOUND",er[er.ALREADY_EXISTS=6]="ALREADY_EXISTS",er[er.PERMISSION_DENIED=7]="PERMISSION_DENIED",er[er.UNAUTHENTICATED=16]="UNAUTHENTICATED",er[er.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",er[er.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",er[er.ABORTED=10]="ABORTED",er[er.OUT_OF_RANGE=11]="OUT_OF_RANGE",er[er.UNIMPLEMENTED=12]="UNIMPLEMENTED",er[er.INTERNAL=13]="INTERNAL",er[er.UNAVAILABLE=14]="UNAVAILABLE",er[er.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new Po([4294967295,4294967295],0);function V_(t){const e=eN().encode(t),r=new Gk;return r.update(e),new Uint8Array(r.digest())}function B_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Po([r,n],0),new Po([s,a],0)]}class S1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Cd(`Invalid padding: ${r}`);if(n<0)throw new Cd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Cd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Cd(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=Po.fromNumber(this.Ee)}Ae(e,r,n){let s=e.add(r.multiply(Po.fromNumber(n)));return s.compare(WD)===1&&(s=new Po([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=V_(e),[n,s]=B_(r);for(let a=0;a<this.hashCount;a++){const o=this.Ae(n,s,a);if(!this.Re(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new S1(a,s,r);return n.forEach((u=>o.insert(u))),o}insert(e){if(this.Ee===0)return;const r=V_(e),[n,s]=B_(r);for(let a=0;a<this.hashCount;a++){const o=this.Ae(n,s,a);this.Ve(o)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Cd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,r,n,s,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,P0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new um(Rt.min(),s,new qr(Ht),Bi(),Yt())}}class P0{constructor(e,r,n,s,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new P0(n,r,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,r,n,s){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=s}}class FN{constructor(e,r){this.targetId=e,this.ge=r}}class LN{constructor(e,r,n=zn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class U_{constructor(){this.pe=0,this.ye=z_(),this.we=zn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Yt(),r=Yt(),n=Yt();return this.ye.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:It()}})),new P0(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=z_()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,rr(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class qD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Bi(),this.$e=yf(),this.Ue=yf(),this.Ke=new qr(Ht)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,(r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:It()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach(((n,s)=>{this.Je(s)&&r(s)}))}Ze(e){const r=e.targetId,n=e.ge.count,s=this.Xe(r);if(s){const a=s.target;if(gy(a))if(n===0){const o=new St(a.path);this.ze(r,o,Tn.newNoDocument(o,Rt.min()))}else rr(n===1);else{const o=this.et(r);if(o!==n){const u=this.tt(e),d=u?this.nt(u,e,o):1;if(d!==0){this.Ye(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,h)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:a=0}=r;let o,u;try{o=Mo(n).toUint8Array()}catch(d){if(d instanceof sN)return uu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new S1(o,s,a)}catch(d){return uu(d instanceof Cd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let s=0;return n.forEach((a=>{const o=this.ke.it(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.ze(r,a,null),s++)})),s}ot(e){const r=new Map;this.qe.forEach(((a,o)=>{const u=this.Xe(o);if(u){if(a.current&&gy(u.target)){const d=new St(u.target.path);this._t(d).has(o)||this.ut(o,d)||this.ze(o,d,Tn.newNoDocument(d,e))}a.ve&&(r.set(o,a.Fe()),a.Me())}}));let n=Yt();this.Ue.forEach(((a,o)=>{let u=!0;o.forEachWhile((d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(n=n.add(a))})),this.Qe.forEach(((a,o)=>o.setReadTime(e)));const s=new um(e,r,this.Ke,this.Qe,n);return this.Qe=Bi(),this.$e=yf(),this.Ue=yf(),this.Ke=new qr(Ht),s}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const s=this.He(e);this.ut(e,r)?s.xe(r,1):s.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new U_,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new xn(Ht),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new xn(Ht),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||mt("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new U_),this.ke.getRemoteKeysForTarget(e).forEach((r=>{this.ze(e,r,null)}))}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function yf(){return new qr(St.comparator)}function z_(){return new qr(St.comparator)}const GD={asc:"ASCENDING",desc:"DESCENDING"},KD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XD={and:"AND",or:"OR"};class YD{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function yy(t,e){return t.useProto3Json||j0(e)?e:{value:e}}function ip(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QD(t,e){return ip(t,e.toTimestamp())}function Ws(t){return rr(!!t),Rt.fromTimestamp((function(r){const n=Lo(r);return new Nr(n.seconds,n.nanos)})(t))}function A1(t,e){return vy(t,e).canonicalString()}function vy(t,e){const r=(function(s){return new Ar(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?r:r.child(e)}function $N(t){const e=Ar.fromString(t);return rr(WN(e)),e}function op(t,e){return A1(t.databaseId,e.path)}function $d(t,e){const r=$N(e);if(r.get(1)!==t.databaseId.projectId)throw new dt(Re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new dt(Re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new St(BN(r))}function VN(t,e){return A1(t.databaseId,e)}function JD(t){const e=$N(t);return e.length===4?Ar.emptyPath():BN(e)}function by(t){return new Ar(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BN(t){return rr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function H_(t,e,r){return{name:op(t,e),fields:r.value.mapValue.fields}}function ZD(t,e){return"found"in e?(function(n,s){rr(!!s.found),s.found.name,s.found.updateTime;const a=$d(n,s.found.name),o=Ws(s.found.updateTime),u=s.found.createTime?Ws(s.found.createTime):Rt.min(),d=new cs({mapValue:{fields:s.found.fields}});return Tn.newFoundDocument(a,o,u,d)})(t,e):"missing"in e?(function(n,s){rr(!!s.missing),rr(!!s.readTime);const a=$d(n,s.missing),o=Ws(s.readTime);return Tn.newNoDocument(a,o)})(t,e):It()}function e9(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:It()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(h,p){return h.useProto3Json?(rr(p===void 0||typeof p=="string"),zn.fromBase64String(p||"")):(rr(p===void 0||p instanceof Buffer||p instanceof Uint8Array),zn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(h){const p=h.code===void 0?Re.UNKNOWN:ON(h.code);return new dt(p,h.message||"")})(o);r=new LN(n,s,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=$d(t,n.document.name),a=Ws(n.document.updateTime),o=n.document.createTime?Ws(n.document.createTime):Rt.min(),u=new cs({mapValue:{fields:n.document.fields}}),d=Tn.newFoundDocument(s,a,o,u),h=n.targetIds||[],p=n.removedTargetIds||[];r=new Vf(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=$d(t,n.document),a=n.readTime?Ws(n.readTime):Rt.min(),o=Tn.newNoDocument(s,a),u=n.removedTargetIds||[];r=new Vf([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=$d(t,n.document),a=n.removedTargetIds||[];r=new Vf([],a,s,null)}else{if(!("filter"in e))return It();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:a}=n,o=new HD(s,a),u=n.targetId;r=new FN(u,o)}}return r}function UN(t,e){let r;if(e instanceof I0)r={update:H_(t,e.key,e.value)};else if(e instanceof cm)r={delete:op(t,e.key)};else if(e instanceof Qo)r={update:H_(t,e.key,e.data),updateMask:c9(e.fieldMask)};else{if(!(e instanceof RN))return It();r={verify:op(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,o){const u=o.transform;if(u instanceof a0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof i0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof o0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof l0)return{fieldPath:o.field.canonicalString(),increment:u.Ie};throw It()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:QD(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:It()})(t,e.precondition)),r}function t9(t,e){return t&&t.length>0?(rr(e!==void 0),t.map((r=>(function(s,a){let o=s.updateTime?Ws(s.updateTime):Ws(a);return o.isEqual(Rt.min())&&(o=Ws(a)),new $D(o,s.transformResults||[])})(r,e)))):[]}function r9(t,e){return{documents:[VN(t,e.path)]}}function n9(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=VN(t,s);const a=(function(h){if(h.length!==0)return HN(Oa.create(h,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const o=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:Wc(y.field),direction:i9(y.dir)}})(p)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const u=yy(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ht:r,parent:s}}function s9(t){let e=JD(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){rr(n===1);const p=r.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=(function(g){const y=zN(g);return y instanceof Oa&&pN(y)?y.getFilters():[y]})(r.where));let o=[];r.orderBy&&(o=(function(g){return g.map((y=>(function(k){return new s0(qc(k.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(y)))})(r.orderBy));let u=null;r.limit&&(u=(function(g){let y;return y=typeof g=="object"?g.value:g,j0(y)?null:y})(r.limit));let d=null;r.startAt&&(d=(function(g){const y=!!g.before,v=g.values||[];return new sp(v,y)})(r.startAt));let h=null;return r.endAt&&(h=(function(g){const y=!g.before,v=g.values||[];return new sp(v,y)})(r.endAt)),SD(e,s,o,a,u,"F",d,h)}function a9(t,e){const r=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function zN(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=qc(r.unaryFilter.field);return ln.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=qc(r.unaryFilter.field);return ln.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=qc(r.unaryFilter.field);return ln.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=qc(r.unaryFilter.field);return ln.create(o,"!=",{nullValue:"NULL_VALUE"});default:return It()}})(t):t.fieldFilter!==void 0?(function(r){return ln.create(qc(r.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Oa.create(r.compositeFilter.filters.map((n=>zN(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return It()}})(r.compositeFilter.op))})(t):It()}function i9(t){return GD[t]}function o9(t){return KD[t]}function l9(t){return XD[t]}function Wc(t){return{fieldPath:t.canonicalString()}}function qc(t){return Fn.fromServerFormat(t.fieldPath)}function HN(t){return t instanceof ln?(function(r){if(r.op==="=="){if(I_(r.value))return{unaryFilter:{field:Wc(r.field),op:"IS_NAN"}};if(j_(r.value))return{unaryFilter:{field:Wc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(I_(r.value))return{unaryFilter:{field:Wc(r.field),op:"IS_NOT_NAN"}};if(j_(r.value))return{unaryFilter:{field:Wc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wc(r.field),op:o9(r.op),value:r.value}}})(t):t instanceof Oa?(function(r){const n=r.getFilters().map((s=>HN(s)));return n.length===1?n[0]:{compositeFilter:{op:l9(r.op),filters:n}}})(t):It()}function c9(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function WN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,r,n,s,a=Rt.min(),o=Rt.min(),u=zn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new So(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new So(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.Tt=e}}function d9(t){const e=s9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(){this.Tn=new f9}addToCollectionParentIndex(e,r){return this.Tn.add(r),Ve.resolve()}getCollectionParents(e,r){return Ve.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return Ve.resolve()}deleteFieldIndex(e,r){return Ve.resolve()}deleteAllFieldIndexes(e){return Ve.resolve()}createTargetIndexes(e,r){return Ve.resolve()}getDocumentsMatchingTarget(e,r){return Ve.resolve(null)}getIndexType(e,r){return Ve.resolve(0)}getFieldIndexes(e,r){return Ve.resolve([])}getNextCollectionGroupToUpdate(e){return Ve.resolve(null)}getMinOffset(e,r){return Ve.resolve(Fo.min())}getMinOffsetFromCollectionGroup(e,r){return Ve.resolve(Fo.min())}updateCollectionGroup(e,r,n){return Ve.resolve()}updateIndexEntries(e,r){return Ve.resolve()}}class f9{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new xn(Ar.comparator),a=!s.has(n);return this.index[r]=s.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new xn(Ar.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qN=41943040;class ws{static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(qN,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new pu(0)}static Kn(){return new pu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="LruGarbageCollector",p9=1048576;function G_([t,e],[r,n]){const s=Ht(t,r);return s===0?Ht(e,n):s}class m9{constructor(e){this.Hn=e,this.buffer=new xn(G_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();G_(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class g9{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){mt(q_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Pu(r)?mt(q_,"Ignoring IndexedDB error during garbage collection: ",r):await Iu(r)}await this.er(3e5)}))}}class x9{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return Ve.resolve(rm.ae);const n=new m9(r);return this.tr.forEachTarget(e,(s=>n.Zn(s.sequenceNumber))).next((()=>this.tr.rr(e,(s=>n.Zn(s))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(W_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.ir(e,r)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,s,a,o,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(n=g,u=Date.now(),this.removeTargets(e,n,r)))).next((g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,n)))).next((g=>(h=Date.now(),zc()<=Xt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:g}))))}}function y9(t,e){return new x9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this.changes=new ql((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ve.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,r)))).next((s=>(n!==null&&Md(n.mutation,s,Us.empty(),Nr.now()),s)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Yt()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Yt()){const s=Tl();return this.populateOverlays(e,s,r).next((()=>this.computeViews(e,r,s,n).next((a=>{let o=Ad();return a.forEach(((u,d)=>{o=o.insert(u,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=Tl();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Yt())))}populateOverlays(e,r,n){const s=[];return n.forEach((a=>{r.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((o,u)=>{r.set(o,u)}))}))}computeViews(e,r,n,s){let a=Bi();const o=Ld(),u=(function(){return Ld()})();return r.forEach(((d,h)=>{const p=n.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof Qo)?a=a.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),Md(p.mutation,h,p.mutation.getFieldMask(),Nr.now())):o.set(h.key,Us.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((h,p)=>o.set(h,p))),r.forEach(((h,p)=>{var g;return u.set(h,new b9(p,(g=o.get(h))!==null&&g!==void 0?g:null))})),u)))}recalculateAndSaveOverlays(e,r){const n=Ld();let s=new qr(((o,u)=>o-u)),a=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const u of o)u.keys().forEach((d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||Us.empty();p=u.applyToLocalView(h,p),n.set(d,p);const g=(s.get(u.batchId)||Yt()).add(d);s=s.insert(u.batchId,g)}))})).next((()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,g=EN();p.forEach((y=>{if(!a.has(y)){const v=IN(r.get(y),n.get(y));v!==null&&g.set(y,v),a=a.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Ve.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,s){return(function(o){return St.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):yN(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next((a=>{const o=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-a.size):Ve.resolve(Tl());let u=e0,d=a;return o.next((h=>Ve.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(p)?Ve.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{d=d.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,d,h,Yt()))).next((p=>({batchId:u,changes:_N(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new St(r)).next((n=>{let s=Ad();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const a=r.collectionGroup;let o=Ad();return this.indexManager.getCollectionParents(e,a).next((u=>Ve.forEach(u,(d=>{const h=(function(g,y){return new Ru(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(r,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,n,s).next((p=>{p.forEach(((g,y)=>{o=o.insert(g,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,s)))).next((o=>{a.forEach(((d,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,Tn.newInvalidDocument(p)))}));let u=Ad();return o.forEach(((d,h)=>{const p=a.get(d);p!==void 0&&Md(p.mutation,h,Us.empty(),Nr.now()),im(r,h)&&(u=u.insert(d,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return Ve.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,(function(s){return{id:s.id,version:s.version,createTime:Ws(s.createTime)}})(r)),Ve.resolve()}getNamedQuery(e,r){return Ve.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,(function(s){return{name:s.name,query:d9(s.bundledQuery),readTime:Ws(s.readTime)}})(r)),Ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.overlays=new qr(St.comparator),this.Rr=new Map}getOverlay(e,r){return Ve.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Tl();return Ve.forEach(r,(s=>this.getOverlay(e,s).next((a=>{a!==null&&n.set(s,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((s,a)=>{this.Et(e,r,a)})),Ve.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Rr.get(n);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Rr.delete(n)),Ve.resolve()}getOverlaysForCollection(e,r,n){const s=Tl(),a=r.length+1,o=new St(r.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>n&&s.set(d.getKey(),d)}return Ve.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let a=new qr(((h,p)=>h-p));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=a.get(h.largestBatchId);p===null&&(p=Tl(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=Tl(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=s)););return Ve.resolve(u)}Et(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(n.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new zD(r,n));let a=this.Rr.get(r);a===void 0&&(a=Yt(),this.Rr.set(r,a)),this.Rr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(e){return Ve.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.Vr=new xn(En.mr),this.gr=new xn(En.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new En(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.wr(new En(e,r))}Sr(e,r){e.forEach((n=>this.removeReference(n,r)))}br(e){const r=new St(new Ar([])),n=new En(r,e),s=new En(r,e+1),a=[];return this.gr.forEachInRange([n,s],(o=>{this.wr(o),a.push(o.key)})),a}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new St(new Ar([])),n=new En(r,e),s=new En(r,e+1);let a=Yt();return this.gr.forEachInRange([n,s],(o=>{a=a.add(o.key)})),a}containsKey(e){const r=new En(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class En{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return St.comparator(e.key,r.key)||Ht(e.Cr,r.Cr)}static pr(e,r){return Ht(e.Cr,r.Cr)||St.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new xn(En.mr)}checkEmpty(e){return Ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UD(a,r,n,s);this.mutationQueue.push(o);for(const u of s)this.Mr=this.Mr.add(new En(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ve.resolve(o)}lookupMutationBatch(e,r){return Ve.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.Nr(n),a=s<0?0:s;return Ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(this.mutationQueue.length===0?b1:this.Fr-1)}getAllMutationBatches(e){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new En(r,0),s=new En(r,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([n,s],(o=>{const u=this.Or(o.Cr);a.push(u)})),Ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new xn(Ht);return r.forEach((s=>{const a=new En(s,0),o=new En(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,o],(u=>{n=n.add(u.Cr)}))})),Ve.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let a=n;St.isDocumentKey(a)||(a=a.child(""));const o=new En(new St(a),0);let u=new xn(Ht);return this.Mr.forEachWhile((d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===s&&(u=u.add(d.Cr)),!0)}),o),Ve.resolve(this.Br(u))}Br(e){const r=[];return e.forEach((n=>{const s=this.Or(n);s!==null&&r.push(s)})),r}removeMutationBatch(e,r){rr(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return Ve.forEach(r.mutations,(s=>{const a=new En(s.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,r){const n=new En(r,0),s=this.Mr.firstAfterOrEqual(n);return Ve.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ve.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.kr=e,this.docs=(function(){return new qr(St.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),a=s?s.size:0,o=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ve.resolve(n?n.document.mutableCopy():Tn.newInvalidDocument(r))}getEntries(e,r){let n=Bi();return r.forEach((s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():Tn.newInvalidDocument(s))})),Ve.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let a=Bi();const o=r.path,u=new St(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||aD(sD(p),n)<=0||(s.has(p.key)||im(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return Ve.resolve(a)}getAllFromCollectionGroup(e,r,n,s){It()}qr(e,r){return Ve.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new S9(this)}getSize(e){return Ve.resolve(this.size)}}class S9 extends v9{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?r.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(n)})),Ve.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.persistence=e,this.Qr=new ql((r=>E1(r)),T1),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new C1,this.targetCount=0,this.Kr=pu.Un()}forEachTarget(e,r){return this.Qr.forEach(((n,s)=>r(s))),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),Ve.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new pu(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,Ve.resolve()}updateTargetData(e,r){return this.zn(r),Ve.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,r,n){let s=0;const a=[];return this.Qr.forEach(((o,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Qr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Ve.waitFor(a).next((()=>s))}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return Ve.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),Ve.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const s=this.persistence.referenceDelegate,a=[];return s&&r.forEach((o=>{a.push(s.markPotentiallyOrphaned(e,o))})),Ve.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),Ve.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return Ve.resolve(n)}containsKey(e,r){return Ve.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new rm(0),this.zr=!1,this.zr=!0,this.jr=new T9,this.referenceDelegate=e(this),this.Hr=new A9(this),this.indexManager=new h9,this.remoteDocumentCache=(function(s){return new N9(s)})((n=>this.referenceDelegate.Jr(n))),this.serializer=new u9(r),this.Yr=new _9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new E9,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new k9(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){mt("MemoryPersistence","Starting transaction:",e);const s=new C9(this.Gr.next());return this.referenceDelegate.Zr(),n(s).next((a=>this.referenceDelegate.Xr(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}ei(e,r){return Ve.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,r))))}}class C9 extends oD{constructor(e){super(),this.currentSequenceNumber=e}}class j1{constructor(e){this.persistence=e,this.ti=new C1,this.ni=null}static ri(e){return new j1(e)}get ii(){if(this.ni)return this.ni;throw It()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),Ve.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),Ve.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),Ve.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach((s=>this.ii.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((s=>{s.forEach((a=>this.ii.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.ii,(n=>{const s=St.fromPath(n);return this.si(e,s).next((a=>{a||r.removeEntry(s,Rt.min())}))})).next((()=>(this.ni=null,r.apply(e))))}updateLimboDocument(e,r){return this.si(e,r).next((n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())}))}Jr(e){return 0}si(e,r){return Ve.or([()=>Ve.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class lp{constructor(e,r){this.persistence=e,this.oi=new ql((n=>uD(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=y9(this,r)}static ri(e,r){return new lp(e,r)}Zr(){}Xr(e){return Ve.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((s=>n+s))))}sr(e){let r=0;return this.rr(e,(n=>{r++})).next((()=>r))}rr(e,r){return Ve.forEach(this.oi,((n,s)=>this.ar(e,n,s).next((a=>a?Ve.resolve():r(s)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,(o=>this.ar(e,o,r).next((u=>{u||(n++,a.removeEntry(o,Rt.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),Ve.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),Ve.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),Ve.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),Ve.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Lf(e.data.value)),r}ar(e,r,n){return Ve.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.oi.get(r);return Ve.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=s}static Yi(e,r){let n=Yt(),s=Yt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new I1(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(function(){return oP()?8:lD(rs())>0?6:4})()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,s){const a={result:null};return this.rs(e,r).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ss(e,r,s,n).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new j9;return this._s(e,r,o).next((u=>{if(a.result=u,this.Xi)return this.us(e,r,o,u.size)}))})).next((()=>a.result))}us(e,r,n,s){return n.documentReadCount<this.es?(zc()<=Xt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Hc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ve.resolve()):(zc()<=Xt.DEBUG&&mt("QueryEngine","Query:",Hc(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ts*s?(zc()<=Xt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Hc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Za(r))):Ve.resolve())}rs(e,r){if(O_(r))return Ve.resolve(null);let n=Za(r);return this.indexManager.getIndexType(e,n).next((s=>s===0?null:(r.limit!==null&&s===1&&(r=ap(r,null,"F"),n=Za(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const o=Yt(...a);return this.ns.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,n).next((d=>{const h=this.cs(r,u);return this.ls(r,h,o,d.readTime)?this.rs(e,ap(r,null,"F")):this.hs(e,h,r,d)}))))})))))}ss(e,r,n,s){return O_(r)||s.isEqual(Rt.min())?Ve.resolve(null):this.ns.getDocuments(e,n).next((a=>{const o=this.cs(r,a);return this.ls(r,o,n,s)?Ve.resolve(null):(zc()<=Xt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hc(r)),this.hs(e,o,r,nD(s,e0)).next((u=>u)))}))}cs(e,r){let n=new xn(bN(e));return r.forEach(((s,a)=>{im(e,a)&&(n=n.add(a))})),n}ls(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,r,n){return zc()<=Xt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Hc(r)),this.ns.getDocumentsMatchingQuery(e,r,Fo.min(),n)}hs(e,r,n,s){return this.ns.getDocumentsMatchingQuery(e,n,s).next((a=>(r.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="LocalStore",P9=3e8;class R9{constructor(e,r,n,s){this.persistence=e,this.Ps=r,this.serializer=s,this.Ts=new qr(Ht),this.Is=new ql((a=>E1(a)),T1),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ts)))}}function D9(t,e,r,n){return new R9(t,e,r,n)}async function KN(t,e){const r=Lt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next((a=>(s=a,r.As(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const o=[],u=[];let d=Yt();for(const h of s){o.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of a){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next((h=>({Rs:h,removedBatchIds:o,addedBatchIds:u})))}))}))}function O9(t,e){const r=Lt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=e.batch.keys(),a=r.ds.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,p){const g=h.batch,y=g.keys();let v=Ve.resolve();return y.forEach((k=>{v=v.next((()=>p.getEntry(d,k))).next((w=>{const T=h.docVersions.get(k);rr(T!==null),w.version.compareTo(T)<0&&(g.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),p.addEntry(w)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let d=Yt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>r.localDocuments.getDocuments(n,s)))}))}function XN(t){const e=Lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Hr.getLastRemoteSnapshotVersion(r)))}function F9(t,e){const r=Lt(t),n=e.snapshotVersion;let s=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=r.ds.newChangeBuffer({trackRemovals:!0});s=r.Ts;const u=[];e.targetChanges.forEach(((p,g)=>{const y=s.get(g);if(!y)return;u.push(r.Hr.removeMatchingKeys(a,p.removedDocuments,g).next((()=>r.Hr.addMatchingKeys(a,p.addedDocuments,g))));let v=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(zn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,n)),s=s.insert(g,v),(function(w,T,D){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=P9?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(y,v,p)&&u.push(r.Hr.updateTargetData(a,v))}));let d=Bi(),h=Yt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))})),u.push(L9(a,o,e.documentUpdates).next((p=>{d=p.Vs,h=p.fs}))),!n.isEqual(Rt.min())){const p=r.Hr.getLastRemoteSnapshotVersion(a).next((g=>r.Hr.setTargetsMetadata(a,a.currentSequenceNumber,n)));u.push(p)}return Ve.waitFor(u).next((()=>o.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,d,h))).next((()=>d))})).then((a=>(r.Ts=s,a)))}function L9(t,e,r){let n=Yt(),s=Yt();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let o=Bi();return r.forEach(((u,d)=>{const h=a.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Rt.min())?(e.removeEntry(u,d.readTime),o=o.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(u,d)):mt(P1,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{Vs:o,fs:s}}))}function M9(t,e){const r=Lt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=b1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function $9(t,e){const r=Lt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return r.Hr.getTargetData(n,e).next((a=>a?(s=a,Ve.resolve(s)):r.Hr.allocateTargetId(n).next((o=>(s=new So(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=r.Ts.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n}))}async function wy(t,e,r){const n=Lt(t),s=n.Ts.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(o=>n.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Pu(o))throw o;mt(P1,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ts=n.Ts.remove(e),n.Is.delete(s.target)}function K_(t,e,r){const n=Lt(t);let s=Rt.min(),a=Yt();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,h,p){const g=Lt(d),y=g.Is.get(p);return y!==void 0?Ve.resolve(g.Ts.get(y)):g.Hr.getTargetData(h,p)})(n,o,Za(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(o,u.targetId).next((d=>{a=d}))})).next((()=>n.Ps.getDocumentsMatchingQuery(o,e,r?s:Rt.min(),r?a:Yt()))).next((u=>(V9(n,CD(e),u),{documents:u,gs:a})))))}function V9(t,e,r){let n=t.Es.get(e)||Rt.min();r.forEach(((s,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Es.set(e,n)}class X_{constructor(){this.activeTargetIds=OD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B9{constructor(){this.ho=new X_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new X_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="ConnectivityMonitor";class Q_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){mt(Y_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){mt(Y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf=null;function _y(){return vf===null?vf=(function(){return 268435456+Math.round(2147483648*Math.random())})():vf++,"0x"+vf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="RestConnection",z9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H9{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${s}`,this.wo=this.databaseId.database===rp?`project_id=${n}`:`project_id=${n}&database_id=${s}`}So(e,r,n,s,a){const o=_y(),u=this.bo(e,r.toUriEncodedString());mt(Sx,`Sending RPC '${e}' ${o}:`,u,n);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,a),this.vo(e,u,d,n).then((h=>(mt(Sx,`Received RPC '${e}' ${o}: `,h),h)),(h=>{throw uu(Sx,`RPC '${e}' ${o} failed with error: `,h,"url: ",u,"request:",n),h}))}Co(e,r,n,s,a,o){return this.So(e,r,n,s,a)}Do(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ju})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((s,a)=>e[a]=s)),n&&n.headers.forEach(((s,a)=>e[a]=s))}bo(e,r){const n=z9[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="WebChannelConnection";class q9 extends H9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,s){const a=_y();return new Promise(((o,u)=>{const d=new Kk;d.setWithCredentials(!0),d.listenOnce(Xk.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Ff.NO_ERROR:const p=d.getResponseJson();mt(Yn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case Ff.TIMEOUT:mt(Yn,`RPC '${e}' ${a} timed out`),u(new dt(Re.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const g=d.getStatus();if(mt(Yn,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y?.error;if(v&&v.status&&v.message){const k=(function(T){const D=T.toLowerCase().replace(/_/g,"-");return Object.values(Re).indexOf(D)>=0?D:Re.UNKNOWN})(v.status);u(new dt(k,v.message))}else u(new dt(Re.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new dt(Re.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{mt(Yn,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(s);mt(Yn,`RPC '${e}' ${a} sending request:`,s),d.send(r,"POST",h,n,15)}))}Wo(e,r,n){const s=_y(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Jk(),u=Qk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=a.join("");mt(Yn,`Creating RPC '${e}' stream ${s}: ${p}`,d);const g=o.createWebChannel(p,d);let y=!1,v=!1;const k=new W9({Fo:T=>{v?mt(Yn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(y||(mt(Yn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),mt(Yn,`RPC '${e}' stream ${s} sending:`,T),g.send(T))},Mo:()=>g.close()}),w=(T,D,I)=>{T.listen(D,(U=>{try{I(U)}catch(O){setTimeout((()=>{throw O}),0)}}))};return w(g,Sd.EventType.OPEN,(()=>{v||(mt(Yn,`RPC '${e}' stream ${s} transport opened.`),k.Qo())})),w(g,Sd.EventType.CLOSE,(()=>{v||(v=!0,mt(Yn,`RPC '${e}' stream ${s} transport closed`),k.Uo())})),w(g,Sd.EventType.ERROR,(T=>{v||(v=!0,uu(Yn,`RPC '${e}' stream ${s} transport errored:`,T),k.Uo(new dt(Re.UNAVAILABLE,"The operation could not be completed")))})),w(g,Sd.EventType.MESSAGE,(T=>{var D;if(!v){const I=T.data[0];rr(!!I);const U=I,O=U?.error||((D=U[0])===null||D===void 0?void 0:D.error);if(O){mt(Yn,`RPC '${e}' stream ${s} received error:`,O);const X=O.status;let B=(function(C){const R=on[C];if(R!==void 0)return ON(R)})(X),A=O.message;B===void 0&&(B=Re.INTERNAL,A="Unknown error status: "+X+" with message "+O.message),v=!0,k.Uo(new dt(B,A)),g.close()}else mt(Yn,`RPC '${e}' stream ${s} received:`,I),k.Ko(I)}})),w(u,Yk.STAT_EVENT,(T=>{T.stat===dy.PROXY?mt(Yn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===dy.NOPROXY&&mt(Yn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{k.$o()}),0),k}}function Ax(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){return new YD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,r,n=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),s=Math.max(0,r-n);s>0&&mt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="PersistentStream";class YN{constructor(e,r,n,s,a,o,u,d){this.Ti=e,this.n_=n,this.r_=s,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new R1(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===Re.RESOURCE_EXHAUSTED?(Vi(r.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===Re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.i_===r&&this.V_(n,s)}),(n=>{e((()=>{const s=new dt(Re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(s)}))}))}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((s=>{n((()=>this.m_(s)))})),this.stream.onMessage((s=>{n((()=>++this.__==1?this.g_(s):this.onNext(s)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return mt(J_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget((()=>this.i_===e?r():(mt(J_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class G9 extends YN{constructor(e,r,n,s,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=a}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=e9(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Rt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Rt.min():o.readTime?Ws(o.readTime):Rt.min()})(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=by(this.serializer),r.addTarget=(function(a,o){let u;const d=o.target;if(u=gy(d)?{documents:r9(a,d)}:{query:n9(a,d).ht},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=MN(a,o.resumeToken);const h=yy(a,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(Rt.min())>0){u.readTime=ip(a,o.snapshotVersion.toTimestamp());const h=yy(a,o.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const n=a9(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=by(this.serializer),r.removeTarget=e,this.I_(r)}}class K9 extends YN{constructor(e,r,n,s,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return rr(!!e.streamToken),this.lastStreamToken=e.streamToken,rr(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){rr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=t9(e.writeResults,e.commitTime),n=Ws(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=by(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>UN(this.serializer,n)))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{}class Y9 extends X9{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new dt(Re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.So(e,vy(r,n),s,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new dt(Re.UNKNOWN,a.toString())}))}Co(e,r,n,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Co(e,vy(r,n),s,o,u,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new dt(Re.UNKNOWN,o.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class Q9{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Vi(r),this.N_=!1):mt("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="RemoteStore";class J9{constructor(e,r,n,s,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To((o=>{n.enqueueAndForget((async()=>{Gl(this)&&(mt(Rl,"Restarting streams for network reachability change."),await(async function(d){const h=Lt(d);h.W_.add(4),await R0(h),h.j_.set("Unknown"),h.W_.delete(4),await hm(h)})(this))}))})),this.j_=new Q9(n,s)}}async function hm(t){if(Gl(t))for(const e of t.G_)await e(!0)}async function R0(t){for(const e of t.G_)await e(!1)}function QN(t,e){const r=Lt(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),L1(r)?F1(r):Du(r).c_()&&O1(r,e))}function D1(t,e){const r=Lt(t),n=Du(r);r.K_.delete(e),n.c_()&&JN(r,e),r.K_.size===0&&(n.c_()?n.P_():Gl(r)&&r.j_.set("Unknown"))}function O1(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Du(t).y_(e)}function JN(t,e){t.H_.Ne(e),Du(t).w_(e)}function F1(t){t.H_=new qD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Du(t).start(),t.j_.B_()}function L1(t){return Gl(t)&&!Du(t).u_()&&t.K_.size>0}function Gl(t){return Lt(t).W_.size===0}function ZN(t){t.H_=void 0}async function Z9(t){t.j_.set("Online")}async function e7(t){t.K_.forEach(((e,r)=>{O1(t,e)}))}async function t7(t,e){ZN(t),L1(t)?(t.j_.q_(e),F1(t)):t.j_.set("Unknown")}async function r7(t,e,r){if(t.j_.set("Online"),e instanceof LN&&e.state===2&&e.cause)try{await(async function(s,a){const o=a.cause;for(const u of a.targetIds)s.K_.has(u)&&(await s.remoteSyncer.rejectListen(u,o),s.K_.delete(u),s.H_.removeTarget(u))})(t,e)}catch(n){mt(Rl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await cp(t,n)}else if(e instanceof Vf?t.H_.We(e):e instanceof FN?t.H_.Ze(e):t.H_.je(e),!r.isEqual(Rt.min()))try{const n=await XN(t.localStore);r.compareTo(n)>=0&&await(function(a,o){const u=a.H_.ot(o);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.K_.get(h);p&&a.K_.set(h,p.withResumeToken(d.resumeToken,o))}})),u.targetMismatches.forEach(((d,h)=>{const p=a.K_.get(d);if(!p)return;a.K_.set(d,p.withResumeToken(zn.EMPTY_BYTE_STRING,p.snapshotVersion)),JN(a,d);const g=new So(p.target,d,h,p.sequenceNumber);O1(a,g)})),a.remoteSyncer.applyRemoteEvent(u)})(t,r)}catch(n){mt(Rl,"Failed to raise snapshot:",n),await cp(t,n)}}async function cp(t,e,r){if(!Pu(e))throw e;t.W_.add(1),await R0(t),t.j_.set("Offline"),r||(r=()=>XN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{mt(Rl,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await hm(t)}))}function e3(t,e){return e().catch((r=>cp(t,r,e)))}async function fm(t){const e=Lt(t),r=Vo(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:b1;for(;n7(e);)try{const s=await M9(e.localStore,n);if(s===null){e.U_.length===0&&r.P_();break}n=s.batchId,s7(e,s)}catch(s){await cp(e,s)}t3(e)&&r3(e)}function n7(t){return Gl(t)&&t.U_.length<10}function s7(t,e){t.U_.push(e);const r=Vo(t);r.c_()&&r.S_&&r.b_(e.mutations)}function t3(t){return Gl(t)&&!Vo(t).u_()&&t.U_.length>0}function r3(t){Vo(t).start()}async function a7(t){Vo(t).C_()}async function i7(t){const e=Vo(t);for(const r of t.U_)e.b_(r.mutations)}async function o7(t,e,r){const n=t.U_.shift(),s=N1.from(n,e,r);await e3(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await fm(t)}async function l7(t,e){e&&Vo(t).S_&&await(async function(n,s){if((function(o){return DN(o)&&o!==Re.ABORTED})(s.code)){const a=n.U_.shift();Vo(n).h_(),await e3(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,s))),await fm(n)}})(t,e),t3(t)&&r3(t)}async function Z_(t,e){const r=Lt(t);r.asyncQueue.verifyOperationInProgress(),mt(Rl,"RemoteStore received new credentials");const n=Gl(r);r.W_.add(3),await R0(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await hm(r)}async function c7(t,e){const r=Lt(t);e?(r.W_.delete(2),await hm(r)):e||(r.W_.add(2),await R0(r),r.j_.set("Unknown"))}function Du(t){return t.J_||(t.J_=(function(r,n,s){const a=Lt(r);return a.M_(),new G9(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{xo:Z9.bind(null,t),No:e7.bind(null,t),Lo:t7.bind(null,t),p_:r7.bind(null,t)}),t.G_.push((async e=>{e?(t.J_.h_(),L1(t)?F1(t):t.j_.set("Unknown")):(await t.J_.stop(),ZN(t))}))),t.J_}function Vo(t){return t.Y_||(t.Y_=(function(r,n,s){const a=Lt(r);return a.M_(),new K9(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:a7.bind(null,t),Lo:l7.bind(null,t),D_:i7.bind(null,t),v_:o7.bind(null,t)}),t.G_.push((async e=>{e?(t.Y_.h_(),await fm(t)):(await t.Y_.stop(),t.U_.length>0&&(mt(Rl,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))}))),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,r,n,s,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,a){const o=Date.now()+n,u=new M1(e,r,o,s,a);return u.start(n),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $1(t,e){if(Vi("AsyncQueue",`${e}: ${t}`),Pu(t))return new dt(Re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{static emptySet(e){return new ru(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||St.comparator(r.key,n.key):(r,n)=>St.comparator(r.key,n.key),this.keyedMap=Ad(),this.sortedSet=new qr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ru)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new ru;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.Z_=new qr(St.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):It():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class mu{constructor(e,r,n,s,a,o,u,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,s,a){const o=[];return r.forEach((u=>{o.push({type:0,doc:u})})),new mu(e,r,ru.emptySet(r),o,n,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class d7{constructor(){this.queries=t4(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const s=Lt(r),a=s.queries;s.queries=t4(),a.forEach(((o,u)=>{for(const d of u.ta)d.onError(n)}))})(this,new dt(Re.ABORTED,"Firestore shutting down"))}}function t4(){return new ql((t=>vN(t)),am)}async function V1(t,e){const r=Lt(t);let n=3;const s=e.query;let a=r.queries.get(s);a?!a.na()&&e.ra()&&(n=2):(a=new u7,n=e.ra()?0:1);try{switch(n){case 0:a.ea=await r.onListen(s,!0);break;case 1:a.ea=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const u=$1(o,`Initialization of query '${Hc(e.query)}' failed`);return void e.onError(u)}r.queries.set(s,a),a.ta.push(e),e.sa(r.onlineState),a.ea&&e.oa(a.ea)&&U1(r)}async function B1(t,e){const r=Lt(t),n=e.query;let s=3;const a=r.queries.get(n);if(a){const o=a.ta.indexOf(e);o>=0&&(a.ta.splice(o,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function h7(t,e){const r=Lt(t);let n=!1;for(const s of e){const a=s.query,o=r.queries.get(a);if(o){for(const u of o.ta)u.oa(s)&&(n=!0);o.ea=s}}n&&U1(r)}function f7(t,e,r){const n=Lt(t),s=n.queries.get(e);if(s)for(const a of s.ta)a.onError(r);n.queries.delete(e)}function U1(t){t.ia.forEach((e=>{e.next()}))}var Ey,r4;(r4=Ey||(Ey={}))._a="default",r4.Cache="cache";class z1{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new mu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ey.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.key=e}}class s3{constructor(e){this.key=e}}class p7{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Yt(),this.mutatedKeys=Yt(),this.ya=bN(e),this.wa=new ru(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new e4,s=r?r.wa:this.wa;let a=r?r.mutatedKeys:this.mutatedKeys,o=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const y=s.get(p),v=im(this.query,g)?g:null,k=!!y&&this.mutatedKeys.has(y.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let T=!1;y&&v?y.data.isEqual(v.data)?k!==w&&(n.track({type:3,doc:v}),T=!0):this.va(y,v)||(n.track({type:2,doc:v}),T=!0,(d&&this.ya(v,d)>0||h&&this.ya(v,h)<0)&&(u=!0)):!y&&v?(n.track({type:0,doc:v}),T=!0):y&&!v&&(n.track({type:1,doc:y}),T=!0,(d||h)&&(u=!0)),T&&(v?(o=o.add(v),a=w?a.add(p):a.delete(p)):(o=o.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{wa:o,Da:n,ls:u,mutatedKeys:a}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort(((p,g)=>(function(v,k){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return w(v)-w(k)})(p.type,g.type)||this.ya(p.doc,g.doc))),this.Ca(n),s=s!=null&&s;const u=r&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,h=d!==this.ga;return this.ga=d,o.length!==0||h?{snapshot:new mu(this.query,e.wa,a,o,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new e4,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((r=>this.fa=this.fa.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.fa=this.fa.delete(r))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Yt(),this.wa.forEach((n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))}));const r=[];return e.forEach((n=>{this.pa.has(n)||r.push(new s3(n))})),this.pa.forEach((n=>{e.has(n)||r.push(new n3(n))})),r}Oa(e){this.fa=e.gs,this.pa=Yt();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return mu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const H1="SyncEngine";class m7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class g7{constructor(e){this.key=e,this.Ba=!1}}class x7{constructor(e,r,n,s,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new ql((u=>vN(u)),am),this.qa=new Map,this.Qa=new Set,this.$a=new qr(St.comparator),this.Ua=new Map,this.Ka=new C1,this.Wa={},this.Ga=new Map,this.za=pu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function y7(t,e,r=!0){const n=u3(t);let s;const a=n.ka.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await a3(n,e,r,!0),s}async function v7(t,e){const r=u3(t);await a3(r,e,!0,!1)}async function a3(t,e,r,n){const s=await $9(t.localStore,Za(e)),a=s.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await b7(t,e,a,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&QN(t.remoteStore,s),u}async function b7(t,e,r,n,s){t.Ha=(g,y,v)=>(async function(w,T,D,I){let U=T.view.ba(D);U.ls&&(U=await K_(w.localStore,T.query,!1).then((({documents:A})=>T.view.ba(A,U))));const O=I&&I.targetChanges.get(T.targetId),X=I&&I.targetMismatches.get(T.targetId)!=null,B=T.view.applyChanges(U,w.isPrimaryClient,O,X);return s4(w,T.targetId,B.Ma),B.snapshot})(t,g,y,v);const a=await K_(t.localStore,e,!0),o=new p7(e,a.gs),u=o.ba(a.documents),d=P0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),h=o.applyChanges(u,t.isPrimaryClient,d);s4(t,r,h.Ma);const p=new m7(e,r,o);return t.ka.set(e,p),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),h.snapshot}async function w7(t,e,r){const n=Lt(t),s=n.ka.get(e),a=n.qa.get(s.targetId);if(a.length>1)return n.qa.set(s.targetId,a.filter((o=>!am(o,e)))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await wy(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),r&&D1(n.remoteStore,s.targetId),Ty(n,s.targetId)})).catch(Iu)):(Ty(n,s.targetId),await wy(n.localStore,s.targetId,!0))}async function _7(t,e){const r=Lt(t),n=r.ka.get(e),s=r.qa.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),D1(r.remoteStore,n.targetId))}async function E7(t,e,r){const n=j7(t);try{const s=await(function(o,u){const d=Lt(o),h=Nr.now(),p=u.reduce(((v,k)=>v.add(k.key)),Yt());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let k=Bi(),w=Yt();return d.ds.getEntries(v,p).next((T=>{k=T,k.forEach(((D,I)=>{I.isValidDocument()||(w=w.add(D))}))})).next((()=>d.localDocuments.getOverlayedDocuments(v,k))).next((T=>{g=T;const D=[];for(const I of u){const U=BD(I,g.get(I.key).overlayedDocument);U!=null&&D.push(new Qo(I.key,U,dN(U.value.mapValue),Ln.exists(!0)))}return d.mutationQueue.addMutationBatch(v,h,D,u)})).next((T=>{y=T;const D=T.applyToLocalDocumentSet(g,w);return d.documentOverlayCache.saveOverlays(v,T.batchId,D)}))})).then((()=>({batchId:y.batchId,changes:_N(g)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),(function(o,u,d){let h=o.Wa[o.currentUser.toKey()];h||(h=new qr(Ht)),h=h.insert(u,d),o.Wa[o.currentUser.toKey()]=h})(n,s.batchId,r),await D0(n,s.changes),await fm(n.remoteStore)}catch(s){const a=$1(s,"Failed to persist write");r.reject(a)}}async function i3(t,e){const r=Lt(t);try{const n=await F9(r.localStore,e);e.targetChanges.forEach(((s,a)=>{const o=r.Ua.get(a);o&&(rr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?rr(o.Ba):s.removedDocuments.size>0&&(rr(o.Ba),o.Ba=!1))})),await D0(r,n,e)}catch(n){await Iu(n)}}function n4(t,e,r){const n=Lt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.ka.forEach(((a,o)=>{const u=o.view.sa(e);u.snapshot&&s.push(u.snapshot)})),(function(o,u){const d=Lt(o);d.onlineState=u;let h=!1;d.queries.forEach(((p,g)=>{for(const y of g.ta)y.sa(u)&&(h=!0)})),h&&U1(d)})(n.eventManager,e),s.length&&n.La.p_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function T7(t,e,r){const n=Lt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Ua.get(e),a=s&&s.key;if(a){let o=new qr(St.comparator);o=o.insert(a,Tn.newNoDocument(a,Rt.min()));const u=Yt().add(a),d=new um(Rt.min(),new Map,new qr(Ht),o,u);await i3(n,d),n.$a=n.$a.remove(a),n.Ua.delete(e),W1(n)}else await wy(n.localStore,e,!1).then((()=>Ty(n,e,r))).catch(Iu)}async function k7(t,e){const r=Lt(t),n=e.batch.batchId;try{const s=await O9(r.localStore,e);l3(r,n,null),o3(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await D0(r,s)}catch(s){await Iu(s)}}async function N7(t,e,r){const n=Lt(t);try{const s=await(function(o,u){const d=Lt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(rr(g!==null),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>d.localDocuments.getDocuments(h,p)))}))})(n.localStore,e);l3(n,e,r),o3(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await D0(n,s)}catch(s){await Iu(s)}}function o3(t,e){(t.Ga.get(e)||[]).forEach((r=>{r.resolve()})),t.Ga.delete(e)}function l3(t,e,r){const n=Lt(t);let s=n.Wa[n.currentUser.toKey()];if(s){const a=s.get(e);a&&(r?a.reject(r):a.resolve(),s=s.remove(e)),n.Wa[n.currentUser.toKey()]=s}}function Ty(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach((n=>{t.Ka.containsKey(n)||c3(t,n)}))}function c3(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&(D1(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),W1(t))}function s4(t,e,r){for(const n of r)n instanceof n3?(t.Ka.addReference(n.key,e),S7(t,n)):n instanceof s3?(mt(H1,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||c3(t,n.key)):It()}function S7(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(mt(H1,"New document in limbo: "+r),t.Qa.add(n),W1(t))}function W1(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new St(Ar.fromString(e)),n=t.za.next();t.Ua.set(n,new g7(r)),t.$a=t.$a.insert(r,n),QN(t.remoteStore,new So(Za(sm(r.path)),n,"TargetPurposeLimboResolution",rm.ae))}}async function D0(t,e,r){const n=Lt(t),s=[],a=[],o=[];n.ka.isEmpty()||(n.ka.forEach(((u,d)=>{o.push(n.Ha(d,e,r).then((h=>{var p;if((h||r)&&n.isPrimaryClient){const g=h?!h.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){s.push(h);const g=I1.Yi(d.targetId,h);a.push(g)}})))})),await Promise.all(o),n.La.p_(s),await(async function(d,h){const p=Lt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Ve.forEach(h,(y=>Ve.forEach(y.Hi,(v=>p.persistence.referenceDelegate.addReference(g,y.targetId,v))).next((()=>Ve.forEach(y.Ji,(v=>p.persistence.referenceDelegate.removeReference(g,y.targetId,v)))))))))}catch(g){if(!Pu(g))throw g;mt(P1,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const v=p.Ts.get(y),k=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(k);p.Ts=p.Ts.insert(y,w)}}})(n.localStore,a))}async function A7(t,e){const r=Lt(t);if(!r.currentUser.isEqual(e)){mt(H1,"User change. New user:",e.toKey());const n=await KN(r.localStore,e);r.currentUser=e,(function(a,o){a.Ga.forEach((u=>{u.forEach((d=>{d.reject(new dt(Re.CANCELLED,o))}))})),a.Ga.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await D0(r,n.Rs)}}function C7(t,e){const r=Lt(t),n=r.Ua.get(e);if(n&&n.Ba)return Yt().add(n.key);{let s=Yt();const a=r.qa.get(e);if(!a)return s;for(const o of a){const u=r.ka.get(o);s=s.unionWith(u.view.Sa)}return s}}function u3(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T7.bind(null,e),e.La.p_=h7.bind(null,e.eventManager),e.La.Ja=f7.bind(null,e.eventManager),e}function j7(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N7.bind(null,e),e}class up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return D9(this.persistence,new I9,e.initialUser,this.serializer)}Xa(e){return new GN(j1.ri,this.serializer)}Za(e){return new B9}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}up.provider={build:()=>new up};class I7 extends up{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){rr(this.persistence.referenceDelegate instanceof lp);const n=this.persistence.referenceDelegate.garbageCollector;return new g9(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new GN((n=>lp.ri(n,r)),this.serializer)}}class ky{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>n4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=A7.bind(null,this.syncEngine),await c7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new d7})()}createDatastore(e){const r=dm(e.databaseInfo.databaseId),n=(function(a){return new q9(a)})(e.databaseInfo);return(function(a,o,u,d){return new Y9(a,o,u,d)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,s,a,o,u){return new J9(n,s,a,o,u)})(this.localStore,this.datastore,e.asyncQueue,(r=>n4(this.syncEngine,r,0)),(function(){return Q_.D()?new Q_:new U9})())}createSyncEngine(e,r){return(function(s,a,o,u,d,h,p){const g=new x7(s,a,o,u,d,h);return p&&(g.ja=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(s){const a=Lt(s);mt(Rl,"RemoteStore shutting down."),a.W_.add(5),await R0(a),a.z_.shutdown(),a.j_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}ky.provider={build:()=>new ky};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new dt(Re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await(async function(s,a){const o=Lt(s),u={documents:a.map((g=>op(o.serializer,g)))},d=await o.Co("BatchGetDocuments",o.serializer.databaseId,Ar.emptyPath(),u,a.length),h=new Map;d.forEach((g=>{const y=ZD(o.serializer,g);h.set(y.key.toString(),y)}));const p=[];return a.forEach((g=>{const y=h.get(g.toString());rr(!!y),p.push(y)})),p})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new cm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{const s=St.fromPath(n);this.mutations.push(new RN(s,this.precondition(s)))})),await(async function(n,s){const a=Lt(n),o={writes:s.map((u=>UN(a.serializer,u)))};await a.So("Commit",a.serializer.databaseId,Ar.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw It();r=Rt.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new dt(Re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Rt.min())?Ln.exists(!1):Ln.updateTime(r):Ln.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Rt.min()))throw new dt(Re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ln.updateTime(r)}return Ln.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,r,n,s,a){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=s,this.deferred=a,this.Tu=n.maxAttempts,this.a_=new R1(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo((async()=>{const e=new P7(this.datastore),r=this.du(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((s=>{this.Au(s)}))))})).catch((n=>{this.Au(n)}))}))}du(e){try{const r=this.updateFunction(e);return!j0(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Eu(),Promise.resolve())))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!DN(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="FirestoreClient";class D7{constructor(e,r,n,s,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Jn.UNAUTHENTICATED,this.clientId=tN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async o=>{mt(Bo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(mt(Bo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=$1(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Cx(t,e){t.asyncQueue.verifyOperationInProgress(),mt(Bo,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async s=>{n.isEqual(s)||(await KN(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function a4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await O7(t);mt(Bo,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>Z_(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,s)=>Z_(e.remoteStore,s))),t._onlineComponents=e}async function O7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){mt(Bo,"Using user provided OfflineComponentProvider");try{await Cx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Re.FAILED_PRECONDITION||s.code===Re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(r))throw r;uu("Error using user provided cache. Falling back to memory cache: "+r),await Cx(t,new up)}}else mt(Bo,"Using default OfflineComponentProvider"),await Cx(t,new I7(void 0));return t._offlineComponents}async function G1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(mt(Bo,"Using user provided OnlineComponentProvider"),await a4(t,t._uninitializedComponentsProvider._online)):(mt(Bo,"Using default OnlineComponentProvider"),await a4(t,new ky))),t._onlineComponents}function F7(t){return G1(t).then((e=>e.syncEngine))}function L7(t){return G1(t).then((e=>e.datastore))}async function dp(t){const e=await G1(t),r=e.eventManager;return r.onListen=y7.bind(null,e.syncEngine),r.onUnlisten=w7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=v7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=_7.bind(null,e.syncEngine),r}function M7(t,e,r={}){const n=new Ja;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,d,h){const p=new q1({next:y=>{p.su(),o.enqueueAndForget((()=>B1(a,g)));const v=y.docs.has(u);!v&&y.fromCache?h.reject(new dt(Re.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&d&&d.source==="server"?h.reject(new dt(Re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new z1(sm(u.path),p,{includeMetadataChanges:!0,Ta:!0});return V1(a,g)})(await dp(t),t.asyncQueue,e,r,n))),n.promise}function $7(t,e,r={}){const n=new Ja;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,u,d,h){const p=new q1({next:y=>{p.su(),o.enqueueAndForget((()=>B1(a,g))),y.fromCache&&d.source==="server"?h.reject(new dt(Re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new z1(u,p,{includeMetadataChanges:!0,Ta:!0});return V1(a,g)})(await dp(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t,e,r){if(!r)throw new dt(Re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V7(t,e,r,n){if(e===!0&&n===!0)throw new dt(Re.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function o4(t){if(!St.isDocumentKey(t))throw new dt(Re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l4(t){if(St.isDocumentKey(t))throw new dt(Re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":It()}function ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new dt(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=pm(t);throw new dt(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function B7(t,e){if(e<=0)throw new dt(Re.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="firestore.googleapis.com",c4=!0;class u4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new dt(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f3,this.ssl=c4}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:c4;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p9)throw new dt(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d3((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new dt(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new dt(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new dt(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mm{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new K8;switch(n.type){case"firstParty":return new J8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new dt(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=i4.get(r);n&&(mt("ComponentProvider","Removing Datastore"),i4.delete(r),n.terminate())})(this),Promise.resolve()}}function U7(t,e,r,n={}){var s;const a=(t=ds(t,mm))._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${r}`;a.host!==f3&&a.host!==u&&uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:u,ssl:!1,emulatorOptions:n});if(!Oo(d,o)&&(t._setSettings(d),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=Jn.MOCK_USER;else{h=mk(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new dt(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Jn(g)}t._authCredentials=new X8(new Zk(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Gi(this.firestore,e,this._query)}}class Vn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Ro extends Gi{constructor(e,r,n){super(e,r,sm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new St(e))}withConverter(e){return new Ro(this.firestore,e,this._path)}}function kt(t,e,...r){if(t=jr(t),h3("collection","path",e),t instanceof mm){const n=Ar.fromString(e,...r);return l4(n),new Ro(t,null,n)}{if(!(t instanceof Vn||t instanceof Ro))throw new dt(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ar.fromString(e,...r));return l4(n),new Ro(t.firestore,null,n)}}function ht(t,e,...r){if(t=jr(t),arguments.length===1&&(e=tN.newId()),h3("doc","path",e),t instanceof mm){const n=Ar.fromString(e,...r);return o4(n),new Vn(t,null,new St(n))}{if(!(t instanceof Vn||t instanceof Ro))throw new dt(Re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ar.fromString(e,...r));return o4(n),new Vn(t.firestore,t instanceof Ro?t.converter:null,new St(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="AsyncQueue";class h4{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new R1(this,"async_queue_retry"),this.Su=()=>{const n=Ax();n&&mt(d4,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=Ax();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=Ax();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const r=new Ja;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Pu(e))throw e;mt(d4,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const r=this.bu.then((()=>(this.pu=!0,e().catch((n=>{this.gu=n,this.pu=!1;const s=(function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u})(n);throw Vi("INTERNAL UNHANDLED ERROR: ",s),n})).then((n=>(this.pu=!1,n))))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const s=M1.createAndSchedule(this,e,r,n,(a=>this.Fu(a)));return this.fu.push(s),s}Du(){this.gu&&It()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function f4(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const a of n)if(a in s&&typeof s[a]=="function")return!0;return!1})(t,["next","error","complete"])}class ci extends mm{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new h4,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new h4(e),this._firestoreClient=void 0,await e}}}function z7(t,e){const r=typeof t=="object"?t:Zp(),n=typeof t=="string"?t:rp,s=Xo(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const a=hk("firestore");a&&U7(s,...a)}return s}function O0(t){if(t._terminated)throw new dt(Re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||H7(t),t._firestoreClient}function H7(t){var e,r,n;const s=t._freezeSettings(),a=(function(u,d,h,p){return new fD(u,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,d3(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new D7(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(u){const d=u?._online.build();return{_offline:u?._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(zn.fromBase64String(e))}catch(r){throw new dt(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Dl(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new dt(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new dt(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new dt(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==s[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=/^__.*__$/;class q7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,r,this.fieldTransforms):new I0(e,this.data,r,this.fieldTransforms)}}class p3{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Qo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function m3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class Y1{constructor(e,r,n,s,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Y1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.$u(e),s}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return hp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(m3(this.Lu)&&W7.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class G7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||dm(e)}ju(e,r,n,s=!1){return new Y1({Lu:e,methodName:r,zu:n,path:Fn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M0(t){const e=t._freezeSettings(),r=dm(t._databaseId);return new G7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Q1(t,e,r,n,s,a={}){const o=t.ju(a.merge||a.mergeFields?2:0,e,r,s);ev("Data must be an object, but it was:",o,n);const u=y3(n,o);let d,h;if(a.merge)d=new Us(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const y=Ny(e,g,r);if(!o.contains(y))throw new dt(Re.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);b3(p,y)||p.push(y)}d=new Us(p),h=o.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=o.fieldTransforms;return new q7(new cs(u),d,h)}class gm extends L0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gm}}class J1 extends L0{_toFieldTransform(e){return new jN(e.path,new a0)}isEqual(e){return e instanceof J1}}class Z1 extends L0{constructor(e,r){super(e),this.Ju=r}_toFieldTransform(e){const r=new l0(e.serializer,kN(e.serializer,this.Ju));return new jN(e.path,r)}isEqual(e){return e instanceof Z1&&this.Ju===e.Ju}}function g3(t,e,r,n){const s=t.ju(1,e,r);ev("Data must be an object, but it was:",s,n);const a=[],o=cs.empty();Yo(n,((d,h)=>{const p=tv(e,d,r);h=jr(h);const g=s.Uu(p);if(h instanceof gm)a.push(p);else{const y=$0(h,g);y!=null&&(a.push(p),o.set(p,y))}}));const u=new Us(a);return new p3(o,u,s.fieldTransforms)}function x3(t,e,r,n,s,a){const o=t.ju(1,e,r),u=[Ny(e,n,r)],d=[s];if(a.length%2!=0)throw new dt(Re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(Ny(e,a[y])),d.push(a[y+1]);const h=[],p=cs.empty();for(let y=u.length-1;y>=0;--y)if(!b3(h,u[y])){const v=u[y];let k=d[y];k=jr(k);const w=o.Uu(v);if(k instanceof gm)h.push(v);else{const T=$0(k,w);T!=null&&(h.push(v),p.set(v,T))}}const g=new Us(h);return new p3(p,g,o.fieldTransforms)}function K7(t,e,r,n=!1){return $0(r,t.ju(n?4:3,e))}function $0(t,e){if(v3(t=jr(t)))return ev("Unsupported field value:",e,t),y3(t,e);if(t instanceof L0)return(function(n,s){if(!m3(s.Lu))throw s.Wu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return(function(n,s){const a=[];let o=0;for(const u of n){let d=$0(u,s.Ku(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}})(t,e)}return(function(n,s){if((n=jr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return kN(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Nr.fromDate(n);return{timestampValue:ip(s.serializer,a)}}if(n instanceof Nr){const a=new Nr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ip(s.serializer,a)}}if(n instanceof K1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Dl)return{bytesValue:MN(s.serializer,n._byteString)};if(n instanceof Vn){const a=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:A1(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof X1)return(function(o,u){return{mapValue:{fields:{[cN]:{stringValue:uN},[np]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return k1(u.serializer,h)}))}}}}}})(n,s);throw s.Wu(`Unsupported field value: ${pm(n)}`)})(t,e)}function y3(t,e){const r={};return nN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(t,((n,s)=>{const a=$0(s,e.qu(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function v3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nr||t instanceof K1||t instanceof Dl||t instanceof Vn||t instanceof L0||t instanceof X1)}function ev(t,e,r){if(!v3(r)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(r)){const n=pm(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function Ny(t,e,r){if((e=jr(e))instanceof F0)return e._internalPath;if(typeof e=="string")return tv(t,e);throw hp("Field path arguments must be of type string or ",t,!1,void 0,r)}const X7=new RegExp("[~\\*/\\[\\]]");function tv(t,e,r){if(e.search(X7)>=0)throw hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new F0(...e.split("."))._internalPath}catch{throw hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function hp(t,e,r,n,s){const a=n&&!n.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${n}`),o&&(d+=` in document ${s}`),d+=")"),new dt(Re.INVALID_ARGUMENT,u+t+d)}function b3(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,r,n,s,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(xm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Y7 extends fp{data(){return super.data()}}function xm(t,e){return typeof e=="string"?tv(t,e):e instanceof F0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new dt(Re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rv{}class nv extends rv{}function tr(t,e,...r){let n=[];e instanceof rv&&n.push(e),n=n.concat(r),(function(a){const o=a.filter((d=>d instanceof sv)).length,u=a.filter((d=>d instanceof ym)).length;if(o>1||o>0&&u>0)throw new dt(Re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)t=s._apply(t);return t}class ym extends nv{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new ym(e,r,n)}_apply(e){const r=this._parse(e);return E3(e._query,r),new Gi(e.firestore,e.converter,xy(e._query,r))}_parse(e){const r=M0(e.firestore);return(function(a,o,u,d,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new dt(Re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){m4(g,p);const k=[];for(const w of g)k.push(p4(d,a,w));y={arrayValue:{values:k}}}else y=p4(d,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||m4(g,p),y=K7(u,o,g,p==="in"||p==="not-in");return ln.create(h,p,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function br(t,e,r){const n=e,s=xm("where",t);return ym._create(s,n,r)}class sv extends rv{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new sv(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Oa.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(s,a){let o=s;const u=a.getFlattenedFilters();for(const d of u)E3(o,d),o=xy(o,d)})(e._query,r),new Gi(e.firestore,e.converter,xy(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class av extends nv{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new av(e,r)}_apply(e){const r=(function(s,a,o){if(s.startAt!==null)throw new dt(Re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new dt(Re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new s0(a,o)})(e._query,this._field,this._direction);return new Gi(e.firestore,e.converter,(function(s,a){const o=s.explicitOrderBy.concat([a]);return new Ru(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,r))}}function iv(t,e="asc"){const r=e,n=xm("orderBy",t);return av._create(n,r)}class ov extends nv{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new ov(e,r,n)}_apply(e){return new Gi(e.firestore,e.converter,ap(e._query,this._limit,this._limitType))}}function _3(t){return B7("limit",t),ov._create("limit",t,"F")}function p4(t,e,r){if(typeof(r=jr(r))=="string"){if(r==="")throw new dt(Re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yN(e)&&r.indexOf("/")!==-1)throw new dt(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ar.fromString(r));if(!St.isDocumentKey(n))throw new dt(Re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return C_(t,new St(n))}if(r instanceof Vn)return C_(t,r._key);throw new dt(Re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pm(r)}.`)}function m4(t,e){if(!Array.isArray(t)||t.length===0)throw new dt(Re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function E3(t,e){const r=(function(s,a){for(const o of s)for(const u of o.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new dt(Re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new dt(Re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class T3{convertValue(e,r="none"){switch($o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw It()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Yo(e,((s,a)=>{n[s]=this.convertValue(a,r)})),n}convertVectorValue(e){var r,n,s;const a=(s=(n=(r=e.fields)===null||r===void 0?void 0:r[np].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map((o=>en(o.doubleValue)));return new X1(a)}convertGeoPoint(e){return new K1(en(e.latitude),en(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=nm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(t0(e));default:return null}}convertTimestamp(e){const r=Lo(e);return new Nr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ar.fromString(e);rr(WN(n));const s=new r0(n.get(1),n.get(3)),a=new St(n.popFirst(5));return s.isEqual(r)||Vi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Q7 extends T3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cv extends fp{constructor(e,r,n,s,a,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(xm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Bf extends cv{data(e={}){return super.data(e)}}class k3{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Kc(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Bf(this._firestore,this._userDataWriter,n.key,n,new Kc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new dt(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((u=>{const d=new Bf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Kc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const d=new Bf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Kc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),p=o.indexOf(u.doc.key)),{type:J7(u.type),doc:d,oldIndex:h,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function J7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t){t=ds(t,Vn);const e=ds(t.firestore,ci);return M7(O0(e),t._key).then((r=>N3(e,t,r)))}class vm extends T3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,r)}}function rn(t){t=ds(t,Gi);const e=ds(t.firestore,ci),r=O0(e),n=new vm(e);return w3(t._query),$7(r,t._query).then((s=>new k3(e,n,t,s)))}function ui(t,e,r){t=ds(t,Vn);const n=ds(t.firestore,ci),s=lv(t.converter,e,r);return bm(n,[Q1(M0(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Ln.none())])}function Yr(t,e,r,...n){t=ds(t,Vn);const s=ds(t.firestore,ci),a=M0(s);let o;return o=typeof(e=jr(e))=="string"||e instanceof F0?x3(a,"updateDoc",t._key,e,r,n):g3(a,"updateDoc",t._key,e),bm(s,[o.toMutation(t._key,Ln.exists(!0))])}function Ci(t){return bm(ds(t.firestore,ci),[new cm(t._key,Ln.none())])}function Do(t,e){const r=ds(t.firestore,ci),n=ht(t),s=lv(t.converter,e);return bm(r,[Q1(M0(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Ln.exists(!1))]).then((()=>n))}function hr(t,...e){var r,n,s;t=jr(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||f4(e[o])||(a=e[o],o++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(f4(e[o])){const g=e[o];e[o]=(r=g.next)===null||r===void 0?void 0:r.bind(g),e[o+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),e[o+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let d,h,p;if(t instanceof Vn)h=ds(t.firestore,ci),p=sm(t._key.path),d={next:g=>{e[o]&&e[o](N3(h,t,g))},error:e[o+1],complete:e[o+2]};else{const g=ds(t,Gi);h=ds(g.firestore,ci),p=g._query;const y=new vm(h);d={next:v=>{e[o]&&e[o](new k3(h,y,g,v))},error:e[o+1],complete:e[o+2]},w3(t._query)}return(function(y,v,k,w){const T=new q1(w),D=new z1(v,T,k);return y.asyncQueue.enqueueAndForget((async()=>V1(await dp(y),D))),()=>{T.su(),y.asyncQueue.enqueueAndForget((async()=>B1(await dp(y),D)))}})(O0(h),p,u,d)}function bm(t,e){return(function(n,s){const a=new Ja;return n.asyncQueue.enqueueAndForget((async()=>E7(await F7(n),s,a))),a.promise})(O0(t),e)}function N3(t,e,r){const n=r.docs.get(e._key),s=new vm(t);return new cv(t,s,e._key,n,new Kc(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7={maxAttempts:5};function jd(t,e){if((t=jr(t)).firestore!==e)throw new dt(Re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=M0(e)}get(e){const r=jd(e,this._firestore),n=new Q7(this._firestore);return this._transaction.lookup([r._key]).then((s=>{if(!s||s.length!==1)return It();const a=s[0];if(a.isFoundDocument())return new fp(this._firestore,n,a.key,a,r.converter);if(a.isNoDocument())return new fp(this._firestore,n,r._key,null,r.converter);throw It()}))}set(e,r,n){const s=jd(e,this._firestore),a=lv(s.converter,r,n),o=Q1(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,n);return this._transaction.set(s._key,o),this}update(e,r,n,...s){const a=jd(e,this._firestore);let o;return o=typeof(r=jr(r))=="string"||r instanceof F0?x3(this._dataReader,"Transaction.update",a._key,r,n,s):g3(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,o),this}delete(e){const r=jd(e,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO extends eO{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=jd(e,this._firestore),n=new vm(this._firestore);return super.get(e).then((s=>new cv(this._firestore,n,r._key,s._document,new Kc(!1,!1),r.converter)))}}function Sy(t,e,r){t=ds(t,ci);const n=Object.assign(Object.assign({},Z7),r);return(function(a){if(a.maxAttempts<1)throw new dt(Re.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(a,o,u){const d=new Ja;return a.asyncQueue.enqueueAndForget((async()=>{const h=await L7(a);new R7(a.asyncQueue,h,u,o,d).Iu()})),d.promise})(O0(t),(s=>e(new tO(t,s))),n)}function wr(){return new J1("serverTimestamp")}function rO(t){return new Z1("increment",t)}(function(e,r=!0){(function(s){ju=s})(Wl),Da(new ua("firestore",((n,{instanceIdentifier:s,options:a})=>{const o=n.getProvider("app").getImmediate(),u=new ci(new Y8(n.getProvider("auth-internal")),new Z8(o,n.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new dt(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new r0(h.options.projectId,p)})(o,s),o);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Ts(x_,y_,e),Ts(x_,y_,"esm2017")})();function uv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function S3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nO=S3,A3=new Hl("auth","Firebase",S3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=new Jp("@firebase/auth");function sO(t,...e){pp.logLevel<=Xt.WARN&&pp.warn(`Auth (${Wl}): ${t}`,...e)}function Uf(t,...e){pp.logLevel<=Xt.ERROR&&pp.error(`Auth (${Wl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t,...e){throw dv(t,...e)}function ti(t,...e){return dv(t,...e)}function C3(t,e,r){const n=Object.assign(Object.assign({},nO()),{[e]:r});return new Hl("auth","Firebase",n).create(e,{appName:t.name})}function Ri(t){return C3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dv(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return A3.create(t,...e)}function Dt(t,e,...r){if(!t)throw dv(e,...r)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uf(e),new Error(e)}function Ui(t,e){t||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aO(){return g4()==="http:"||g4()==="https:"}function g4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aO()||gk()||"connection"in navigator)?navigator.onLine:!0}function oO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ui(r>e,"Short delay should be less than long delay!"),this.isMobile=rP()||aP()}get(){return iO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uO=new V0(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $a(t,e,r,n,s={}){return I3(t,s,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const u=C0(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},a);return sP()||(h.referrerPolicy="no-referrer"),j3.fetch()(await P3(t,t.config.apiHost,r,u),h)})}async function I3(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},lO),e);try{const s=new hO(t),a=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw bf(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const u=a.ok?o.errorMessage:o.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw bf(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw bf(t,"user-disabled",o);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw C3(t,p,h);Fa(t,p)}}catch(s){if(s instanceof da)throw s;Fa(t,"network-request-failed",{message:String(s)})}}async function B0(t,e,r,n,s={}){const a=await $a(t,e,r,n,s);return"mfaPendingCredential"in a&&Fa(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function P3(t,e,r,n){const s=`${e}${r}?${n}`,a=t,o=a.config.emulator?hv(t.config,s):`${t.config.apiScheme}://${s}`;return cO.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function dO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ti(this.auth,"network-request-failed")),uO.get())})}}function bf(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=ti(t,e,n);return s.customData._tokenResponse=r,s}function x4(t){return t!==void 0&&t.enterprise!==void 0}class fO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return dO(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pO(t,e){return $a(t,"GET","/v2/recaptchaConfig",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e){return $a(t,"POST","/v1/accounts:delete",e)}async function mp(t,e){return $a(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gO(t,e=!1){const r=jr(t),n=await r.getIdToken(e),s=fv(n);Dt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,o=a?.sign_in_provider;return{claims:s,token:n,authTime:Vd(jx(s.auth_time)),issuedAtTime:Vd(jx(s.iat)),expirationTime:Vd(jx(s.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function jx(t){return Number(t)*1e3}function fv(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const s=uk(r);return s?JSON.parse(s):(Uf("Failed to decode base64 JWT payload"),null)}catch(s){return Uf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function y4(t){const e=fv(t);return Dt(e,"internal-error"),Dt(typeof e.exp<"u","internal-error"),Dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof da&&xO(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function xO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vd(this.lastLoginAt),this.creationTime=Vd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gp(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Ol(t,mp(r,{idToken:n}));Dt(s?.users.length,r,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?R3(a.providerUserInfo):[],u=bO(t.providerData,o),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!u?.length,p=d?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Cy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function vO(t){const e=jr(t);await gp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bO(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function R3(t){return t.map(e=>{var{providerId:r}=e,n=uv(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(t,e){const r=await I3(t,{},async()=>{const n=C0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,o=await P3(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",j3.fetch()(o,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function _O(t,e){return $a(t,"POST","/v2/accounts:revokeToken",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Dt(e.idToken,"internal-error"),Dt(typeof e.idToken<"u","internal-error"),Dt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Dt(e.length!==0,"internal-error");const r=y4(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Dt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:a}=await wO(e,r);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:a}=r,o=new nu;return n&&(Dt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(Dt(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),a&&(Dt(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nu,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,e){Dt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Aa{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,a=uv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Cy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return Dt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return gO(this,e)}reload(){return vO(this)}_assign(e){this!==e&&(Dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Aa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await gp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bs(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await Ol(this,mO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,a,o,u,d,h,p;const g=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(s=r.email)!==null&&s!==void 0?s:void 0,v=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,k=(o=r.photoURL)!==null&&o!==void 0?o:void 0,w=(u=r.tenantId)!==null&&u!==void 0?u:void 0,T=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,D=(h=r.createdAt)!==null&&h!==void 0?h:void 0,I=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:U,emailVerified:O,isAnonymous:X,providerData:B,stsTokenManager:A}=r;Dt(U&&A,e,"internal-error");const S=nu.fromJSON(this.name,A);Dt(typeof U=="string",e,"internal-error"),bo(g,e.name),bo(y,e.name),Dt(typeof O=="boolean",e,"internal-error"),Dt(typeof X=="boolean",e,"internal-error"),bo(v,e.name),bo(k,e.name),bo(w,e.name),bo(T,e.name),bo(D,e.name),bo(I,e.name);const C=new Aa({uid:U,auth:e,email:y,emailVerified:O,displayName:g,isAnonymous:X,photoURL:k,phoneNumber:v,tenantId:w,stsTokenManager:S,createdAt:D,lastLoginAt:I});return B&&Array.isArray(B)&&(C.providerData=B.map(R=>Object.assign({},R))),T&&(C._redirectEventId=T),C}static async _fromIdTokenResponse(e,r,n=!1){const s=new nu;s.updateFromServerResponse(r);const a=new Aa({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await gp(a),a}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Dt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?R3(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!a?.length,u=new nu;u.updateFromIdToken(n);const d=new Aa({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Cy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new Map;function Ii(t){Ui(t instanceof Function,"Expected a class definition");let e=v4.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}D3.type="NONE";const b4=D3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t,e,r){return`firebase:${t}:${e}:${r}`}class su{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=zf(this.userKey,s.apiKey,a),this.fullPersistenceKey=zf("persistence",s.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await mp(this.auth,{idToken:e}).catch(()=>{});return r?Aa._fromGetAccountInfoResponse(this.auth,r,e):null}return Aa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new su(Ii(b4),e,n);const s=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=s[0]||Ii(b4);const o=zf(n,e.config.apiKey,e.name);let u=null;for(const h of r)try{const p=await h._get(o);if(p){let g;if(typeof p=="string"){const y=await mp(e,{idToken:p}).catch(()=>{});if(!y)break;g=await Aa._fromGetAccountInfoResponse(e,y,p)}else g=Aa._fromJSON(e,p);h!==a&&(u=g),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new su(a,e,n):(a=d[0],u&&await a._set(o,u.toJSON()),await Promise.all(r.map(async h=>{if(h!==a)try{await h._remove(o)}catch{}})),new su(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V3(e))return"Blackberry";if(B3(e))return"Webos";if(F3(e))return"Safari";if((e.includes("chrome/")||L3(e))&&!e.includes("edge/"))return"Chrome";if($3(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function O3(t=rs()){return/firefox\//i.test(t)}function F3(t=rs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L3(t=rs()){return/crios\//i.test(t)}function M3(t=rs()){return/iemobile/i.test(t)}function $3(t=rs()){return/android/i.test(t)}function V3(t=rs()){return/blackberry/i.test(t)}function B3(t=rs()){return/webos/i.test(t)}function pv(t=rs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EO(t=rs()){var e;return pv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TO(){return iP()&&document.documentMode===10}function U3(t=rs()){return pv(t)||$3(t)||B3(t)||V3(t)||/windows phone/i.test(t)||M3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t,e=[]){let r;switch(t){case"Browser":r=w4(rs());break;case"Worker":r=`${w4(rs())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Wl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,u)=>{try{const d=e(a);o(d)}catch(d){u(d)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e={}){return $a(t,"GET","/v2/passwordPolicy",Ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=6;class AO{constructor(e){var r,n,s,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:SO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,a,o,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _4(this),this.idTokenSubscription=new _4(this),this.beforeStateQueue=new kO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ii(r)),this._initializationPromise=this.queue(async()=>{var n,s,a;if(!this._deleted&&(this.persistenceManager=await su.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await mp(this,{idToken:e}),n=await Aa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Bs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===u)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await gp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bs(this.app))return Promise.reject(Ri(this));const r=e?jr(e):null;return r&&Dt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Dt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bs(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bs(this.app)?Promise.reject(Ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NO(this),r=new AO(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hl("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await _O(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ii(e)||this._popupRedirectResolver;Dt(r,this,"argument-error"),this.redirectPersistenceManager=await su.create(this,[Ii(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(u,this,"internal-error"),u.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,s);return()=>{o=!0,d()}}else{const d=e.addObserver(r);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;if(Bs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&sO(`Error while retrieving App Check token: ${r.error}`),r?.token}}function Jo(t){return jr(t)}class _4{constructor(e){this.auth=e,this.observer=null,this.addObserver=fP(r=>this.observer=r)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jO(t){wm=t}function H3(t){return wm.loadJS(t)}function IO(){return wm.recaptchaEnterpriseScript}function PO(){return wm.gapiScript}function RO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class DO{constructor(){this.enterprise=new OO}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class OO{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const FO="recaptcha-enterprise",W3="NO_RECAPTCHA";class LO{constructor(e){this.type=FO,this.auth=Jo(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,u)=>{pO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new fO(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,o(h.siteKey)}}).catch(d=>{u(d)})})}function s(a,o,u){const d=window.grecaptcha;x4(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{o(h)}).catch(()=>{o(W3)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DO().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(u=>{if(!r&&x4(window.grecaptcha))s(u,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=IO();d.length!==0&&(d+=u),H3(d).then(()=>{s(u,a,o)}).catch(h=>{o(h)})}}).catch(u=>{o(u)})})}}async function E4(t,e,r,n=!1,s=!1){const a=new LO(t);let o;if(s)o=W3;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const u=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function xp(t,e,r,n,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await E4(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await E4(t,e,r,r==="getOobCode");return n(t,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t,e){const r=Xo(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),a=r.getOptions();if(Oo(a,e??{}))return s;Fa(s,"already-initialized")}return r.initialize({options:e})}function $O(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function VO(t,e,r){const n=Jo(t);Dt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,a=q3(e),{host:o,port:u}=BO(e),d=u===null?"":`:${u}`,h={url:`${a}//${o}${d}/`},p=Object.freeze({host:o,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Dt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Dt(Oo(h,n.config.emulator)&&Oo(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,UO()}function q3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BO(t){const e=q3(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:T4(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:T4(o)}}}function T4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UO(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,r){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function zO(t,e){return $a(t,"POST","/v1/accounts:update",e)}async function HO(t,e){return $a(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(t,e){return B0(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}async function qO(t,e){return $a(t,"POST","/v1/accounts:sendOobCode",Ki(t,e))}async function GO(t,e){return qO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e){return B0(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function XO(t,e){return B0(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends mv{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new c0(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new c0(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xp(e,r,"signInWithPassword",WO);case"emailLink":return KO(e,{email:this._email,oobCode:this._password});default:Fa(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xp(e,n,"signUpPassword",HO);case"emailLink":return XO(e,{idToken:r,email:this._email,oobCode:this._password});default:Fa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t,e){return B0(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="http://localhost";class Fl extends mv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Fl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Fa("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,a=uv(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new Fl(n,s);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return au(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,au(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,au(e,r)}buildRequest(){const e={requestUri:YO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=C0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JO(t){const e=kd(Nd(t)).link,r=e?kd(Nd(e)).deep_link_id:null,n=kd(Nd(t)).deep_link_id;return(n?kd(Nd(n)).link:null)||n||r||e||t}class gv{constructor(e){var r,n,s,a,o,u;const d=kd(Nd(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,g=QO((s=d.mode)!==null&&s!==void 0?s:null);Dt(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=d.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=JO(e);try{return new gv(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.providerId=Ou.PROVIDER_ID}static credential(e,r){return c0._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=gv.parseLink(r);return Dt(n,"argument-error"),c0._fromEmailAndCode(e,n.code,n.tenantId)}}Ou.PROVIDER_ID="password";Ou.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ou.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends G3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends U0{constructor(){super("facebook.com")}static credential(e){return Fl._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends U0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Fl._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return To.credential(r,n)}catch{return null}}}To.GOOGLE_SIGN_IN_METHOD="google.com";To.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends U0{constructor(){super("github.com")}static credential(e){return Fl._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.GITHUB_SIGN_IN_METHOD="github.com";ko.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends U0{constructor(){super("twitter.com")}static credential(e,r){return Fl._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return No.credential(r,n)}catch{return null}}}No.TWITTER_SIGN_IN_METHOD="twitter.com";No.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e){return B0(t,"POST","/v1/accounts:signUp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const a=await Aa._fromIdTokenResponse(e,n,s),o=k4(n);return new Ll({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=k4(n);return new Ll({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function k4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends da{constructor(e,r,n,s){var a;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,yp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new yp(e,r,n,s)}}function K3(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?yp._fromErrorAndOperation(t,a,e,n):a})}async function eF(t,e,r=!1){const n=await Ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ll._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(t,e,r=!1){const{auth:n}=t;if(Bs(n.app))return Promise.reject(Ri(n));const s="reauthenticate";try{const a=await Ol(t,K3(n,s,e,t),r);Dt(a.idToken,n,"internal-error");const o=fv(a.idToken);Dt(o,n,"internal-error");const{sub:u}=o;return Dt(t.uid===u,n,"user-mismatch"),Ll._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Fa(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(t,e,r=!1){if(Bs(t.app))return Promise.reject(Ri(t));const n="signIn",s=await K3(t,n,e),a=await Ll._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(a.user),a}async function rF(t,e){return X3(Jo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(t){const e=Jo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nF(t,e,r){const n=Jo(t);await xp(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",GO)}async function sF(t,e,r){if(Bs(t.app))return Promise.reject(Ri(t));const n=Jo(t),o=await xp(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZO).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Y3(t),d}),u=await Ll._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(u.user),u}function aF(t,e,r){return Bs(t.app)?Promise.reject(Ri(t)):rF(jr(t),Ou.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Y3(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e){return $a(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=jr(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Ol(n,iF(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const u=n.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=n.displayName,u.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function xv(t,e){return lF(jr(t),null,e)}async function lF(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(a.password=r);const o=await Ol(t,zO(n,a));await t._updateTokensIfNecessary(o,!0)}function cF(t,e,r,n){return jr(t).onIdTokenChanged(e,r,n)}function uF(t,e,r){return jr(t).beforeAuthStateChanged(e,r)}function Kl(t,e,r,n){return jr(t).onAuthStateChanged(e,r,n)}function z0(t){return jr(t).signOut()}const vp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(vp,"1"),this.storage.removeItem(vp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=1e3,hF=10;class J3 extends Q3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,u,d)=>{this.notifyListeners(o,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);TO()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,hF):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},dF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}J3.type="LOCAL";const fF=J3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3 extends Q3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Z3.type="SESSION";const eS=Z3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new _m(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:a}=r.data,o=this.handlersMap[s];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const u=Array.from(o).map(async h=>h(r.origin,a)),d=await pF(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((u,d)=>{const h=yv("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function gF(t){ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function xF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vF(){return tS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firebaseLocalStorageDb",bF=1,bp="firebaseLocalStorage",nS="fbase_key";class H0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Em(t,e){return t.transaction([bp],e?"readwrite":"readonly").objectStore(bp)}function wF(){const t=indexedDB.deleteDatabase(rS);return new H0(t).toPromise()}function jy(){const t=indexedDB.open(rS,bF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(bp,{keyPath:nS})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(bp)?e(n):(n.close(),await wF(),e(await jy()))})})}async function N4(t,e,r){const n=Em(t,!0).put({[nS]:e,value:r});return new H0(n).toPromise()}async function _F(t,e){const r=Em(t,!1).get(e),n=await new H0(r).toPromise();return n===void 0?null:n.value}function S4(t,e){const r=Em(t,!0).delete(e);return new H0(r).toPromise()}const EF=800,TF=3;class sS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jy(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>TF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_m._getInstance(vF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await xF(),!this.activeServiceWorker)return;this.sender=new mF(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jy();return await N4(e,vp,"1"),await S4(e,vp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>N4(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>_F(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>S4(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Em(s,!1).getAll();return new H0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sS.type="LOCAL";const kF=sS;new V0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t,e){return e?Ii(e):(Dt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv extends mv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return au(e,this._buildIdpRequest())}_linkToIdToken(e,r){return au(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return au(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function SF(t){return X3(t.auth,new vv(t),t.bypassAuthState)}function AF(t){const{auth:e,user:r}=t;return Dt(r,e,"internal-error"),tF(r,new vv(t),t.bypassAuthState)}async function CF(t){const{auth:e,user:r}=t;return Dt(r,e,"internal-error"),eF(r,new vv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,r,n,s,a=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:a,error:o,type:u}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SF;case"linkViaPopup":case"linkViaRedirect":return CF;case"reauthViaPopup":case"reauthViaRedirect":return AF;default:Fa(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=new V0(2e3,1e4);class Xc extends aS{constructor(e,r,n,s,a){super(e,r,s,a),this.provider=n,this.authWindow=null,this.pollId=null,Xc.currentPopupAction&&Xc.currentPopupAction.cancel(),Xc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Dt(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jF.get())};e()}}Xc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="pendingRedirect",Hf=new Map;class PF extends aS{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Hf.get(this.auth._key());if(!e){try{const n=await RF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Hf.set(this.auth._key(),e)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RF(t,e){const r=FF(e),n=OF(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function DF(t,e){Hf.set(t._key(),e)}function OF(t){return Ii(t._redirectPersistence)}function FF(t){return zf(IF,t.config.apiKey,t.name)}async function LF(t,e,r=!1){if(Bs(t.app))return Promise.reject(Ri(t));const n=Jo(t),s=NF(n,e),o=await new PF(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=600*1e3;class $F{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!iS(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ti(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MF&&this.cachedEventUids.clear(),this.cachedEventUids.has(A4(e))}saveEventToCache(e){this.cachedEventUids.add(A4(e)),this.lastProcessedEventTime=Date.now()}}function A4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function VF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BF(t,e={}){return $a(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zF=/^https?/;async function HF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BF(t);for(const r of e)try{if(WF(r))return}catch{}Fa(t,"unauthorized-domain")}function WF(t){const e=Ay(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!zF.test(r))return!1;if(UF.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=new V0(3e4,6e4);function C4(){const t=ri().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function GF(t){return new Promise((e,r)=>{var n,s,a;function o(){C4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C4(),r(ti(t,"network-request-failed"))},timeout:qF.get()})}if(!((s=(n=ri().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=ri().gapi)===null||a===void 0)&&a.load)o();else{const u=RO("iframefcb");return ri()[u]=()=>{gapi.load?o():r(ti(t,"network-request-failed"))},H3(`${PO()}?onload=${u}`).catch(d=>r(d))}}).catch(e=>{throw Wf=null,e})}let Wf=null;function KF(t){return Wf=Wf||GF(t),Wf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=new V0(5e3,15e3),YF="__/auth/iframe",QF="emulator/auth/iframe",JF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eL(t){const e=t.config;Dt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?hv(e,QF):`https://${t.config.authDomain}/${YF}`,n={apiKey:e.apiKey,appName:t.name,v:Wl},s=ZF.get(t.config.apiHost);s&&(n.eid=s);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${C0(n).slice(1)}`}async function tL(t){const e=await KF(t),r=ri().gapi;return Dt(r,t,"internal-error"),e.open({where:document.body,url:eL(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JF,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const o=ti(t,"network-request-failed"),u=ri().setTimeout(()=>{a(o)},XF.get());function d(){ri().clearTimeout(u),s(n)}n.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nL=500,sL=600,aL="_blank",iL="http://localhost";class j4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oL(t,e,r,n=nL,s=sL){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},rL),{width:n.toString(),height:s.toString(),top:a,left:o}),h=rs().toLowerCase();r&&(u=L3(h)?aL:r),O3(h)&&(e=e||iL,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[v,k])=>`${y}${v}=${k},`,"");if(EO(h)&&u!=="_self")return lL(e||"",u),new j4(null);const g=window.open(e||"",u,p);Dt(g,t,"popup-blocked");try{g.focus()}catch{}return new j4(g)}function lL(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="__/auth/handler",uL="emulator/auth/handler",dL=encodeURIComponent("fac");async function I4(t,e,r,n,s,a){Dt(t.config.authDomain,t,"auth-domain-config-required"),Dt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Wl,eventId:s};if(e instanceof G3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof U0){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${dL}=${encodeURIComponent(d)}`:"";return`${hL(t)}?${C0(u).slice(1)}${h}`}function hL({config:t}){return t.emulator?hv(t,uL):`https://${t.authDomain}/${cL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="webStorageSupport";class fL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eS,this._completeRedirectFn=LF,this._overrideRedirectResult=DF}async _openPopup(e,r,n,s){var a;Ui((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await I4(e,r,n,Ay(),s);return oL(e,o,yv())}async _openRedirect(e,r,n,s){await this._originValidation(e);const a=await I4(e,r,n,Ay(),s);return gF(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:a}=this.eventManagers[r];return s?Promise.resolve(s):(Ui(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await tL(e),n=new $F(e);return r.register("authEvent",s=>(Dt(s?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Ix,{type:Ix},s=>{var a;const o=(a=s?.[0])===null||a===void 0?void 0:a[Ix];o!==void 0&&r(!!o),Fa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=HF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return U3()||F3()||pv()}}const pL=fL;var P4="@firebase/auth",R4="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xL(t){Da(new ua("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=n.options;Dt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z3(t)},h=new CO(n,s,a,d);return $O(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Da(new ua("auth-internal",e=>{const r=Jo(e.getProvider("auth").getImmediate());return(n=>new mL(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(P4,R4,gL(t)),Ts(P4,R4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=300,vL=pk("authIdTokenMaxAge")||yL;let D4=null;const bL=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>vL)return;const s=r?.token;D4!==s&&(D4=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function bv(t=Zp()){const e=Xo(t,"auth");if(e.isInitialized())return e.getImmediate();const r=MO(t,{popupRedirectResolver:pL,persistence:[kF,fF,eS]}),n=pk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=bL(a.toString());uF(r,o,()=>o(r.currentUser)),cF(r,u=>o(u))}}const s=dk("auth");return s&&VO(r,`http://${s}`),r}function wL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jO({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const a=ti("internal-error");a.customData=s,r(a)},n.type="text/javascript",n.charset="UTF-8",wL().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="firebasestorage.googleapis.com",_L="storageBucket",EL=120*1e3,TL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends da{constructor(e,r,n=0){super(Px(e),`Firebase Storage: ${r} (${Px(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Px(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var di;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(di||(di={}));function Px(t){return"storage/"+t}function kL(){const t="An unknown error occurred, please check the error payload for server response.";return new pi(di.UNKNOWN,t)}function NL(){return new pi(di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SL(){return new pi(di.CANCELED,"User canceled the upload/download.")}function AL(t){return new pi(di.INVALID_URL,"Invalid URL '"+t+"'.")}function CL(t){return new pi(di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function O4(t){return new pi(di.INVALID_ARGUMENT,t)}function lS(){return new pi(di.APP_DELETED,"The Firebase app was deleted.")}function jL(t){return new pi(di.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Ca.makeFromUrl(e,r)}catch{return new Ca(e,"")}if(n.path==="")return n;throw CL(e)}static makeFromUrl(e,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function a(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),d={bucket:1,path:3};function h(O){O.path_=decodeURIComponent(O.path)}const p="v[A-Za-z0-9_]+",g=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${p}/b/${s}/o${y}`,"i"),k={bucket:1,path:3},w=r===oS?"(?:storage.googleapis.com|storage.cloud.google.com)":r,T="([^?#]*)",D=new RegExp(`^https?://${w}/${s}/${T}`,"i"),U=[{regex:u,indices:d,postModify:a},{regex:v,indices:k,postModify:h},{regex:D,indices:{bucket:1,path:2},postModify:h}];for(let O=0;O<U.length;O++){const X=U[O],B=X.regex.exec(e);if(B){const A=B[X.indices.bucket];let S=B[X.indices.path];S||(S=""),n=new Ca(A,S),X.postModify(n);break}}if(n==null)throw AL(e);return n}}class IL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e,r){let n=1,s=null,a=null,o=!1,u=0;function d(){return u===2}let h=!1;function p(...T){h||(h=!0,e.apply(null,T))}function g(T){s=setTimeout(()=>{s=null,t(v,d())},T)}function y(){a&&clearTimeout(a)}function v(T,...D){if(h){y();return}if(T){y(),p.call(null,T,...D);return}if(d()||o){y(),p.call(null,T,...D);return}n<64&&(n*=2);let U;u===1?(u=2,U=0):U=(n+Math.random())*1e3,g(U)}let k=!1;function w(T){k||(k=!0,y(),!h&&(s!==null?(T||(u=2),clearTimeout(s),g(0)):T||(u=1)))}return g(0),a=setTimeout(()=>{o=!0,w(!0)},r),w}function RL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){return t!==void 0}function F4(t,e,r,n){if(n<e)throw O4(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw O4(`Invalid value for '${t}'. Expected ${r} or less.`)}function OL(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const s=e(n)+"="+e(t[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var wp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wp||(wp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){const r=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,r,n,s,a,o,u,d,h,p,g,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,k)=>{this.resolve_=v,this.reject_=k,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new wf(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=u=>{const d=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const u=a.getErrorCode()===wp.NO_ERROR,d=a.getStatus();if(!u||FL(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===wp.ABORT;n(!1,new wf(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new wf(h,a))})},r=(n,s)=>{const a=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());DL(d)?a(d):a()}catch(d){o(d)}else if(u!==null){const d=kL();d.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,d)):o(d)}else if(s.canceled){const d=this.appDelete_?lS():SL();o(d)}else{const d=NL();o(d)}};this.canceled_?r(!1,new wf(!1,null,!0)):this.backoffId_=PL(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wf{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function ML(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $L(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function VL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function BL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function UL(t,e,r,n,s,a,o=!0){const u=OL(t.urlParams),d=t.url+u,h=Object.assign({},t.headers);return VL(h,e),ML(h,r),$L(h,a),BL(h,n),new LL(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function HL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,r){this._service=e,r instanceof Ca?this._location=r:this._location=Ca.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new _p(e,r)}get root(){const e=new Ca(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HL(this._location.path)}get storage(){return this._service}get parent(){const e=zL(this._location.path);if(e===null)return null;const r=new Ca(this._location.bucket,e);return new _p(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw jL(e)}}function L4(t,e){const r=e?.[_L];return r==null?null:Ca.makeFromBucketSpec(r,t)}function WL(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:mk(s,t.app.options.projectId))}class qL{constructor(e,r,n,s,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=oS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EL,this._maxUploadRetryTime=TL,this._requests=new Set,s!=null?this._bucket=Ca.makeFromBucketSpec(s,this._host):this._bucket=L4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ca.makeFromBucketSpec(this._url,e):this._bucket=L4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){F4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){F4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Bs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _p(this,e)}_makeRequest(e,r,n,s,a=!0){if(this._deleted)return new IL(lS());{const o=UL(e,this._appId,n,s,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,s).getPromise()}}const M4="@firebase/storage",$4="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="storage";function GL(t=Zp(),e){t=jr(t);const n=Xo(t,cS).getImmediate({identifier:e}),s=hk("storage");return s&&KL(n,...s),n}function KL(t,e,r,n={}){WL(t,e,r,n)}function XL(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new qL(r,n,s,e,Wl)}function YL(){Da(new ua(cS,XL,"PUBLIC").setMultipleInstances(!0)),Ts(M4,$4,""),Ts(M4,$4,"esm2017")}YL();const QL={apiKey:"AIzaSyDYacL_WIzZUSP-Tjl3794P_jHocMDqN9g",authDomain:"blackkstreaming-55f0e.firebaseapp.com",projectId:"blackkstreaming-55f0e",storageBucket:"blackkstreaming-55f0e.firebasestorage.app",messagingSenderId:"998157647233",appId:"1:998157647233:web:3e5b8128a0275ae4553c80",measurementId:"G-GFM50WNMSP"},W0=_k(QL);H8(W0);const je=z7(W0);GL(W0);const tn=bv(W0),wv=_.createContext({});function _v(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ev=typeof window<"u",uS=Ev?_.useLayoutEffect:_.useEffect,Tm=_.createContext(null);function Tv(t,e){t.indexOf(e)===-1&&t.push(e)}function kv(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const zi=(t,e,r)=>r>e?e:r<t?t:r;let Nv=()=>{};const Hi={},dS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function hS(t){return typeof t=="object"&&t!==null}const fS=t=>/^0[^.\s]+$/u.test(t);function Sv(t){let e;return()=>(e===void 0&&(e=t()),e)}const oa=t=>t,JL=(t,e)=>r=>e(t(r)),q0=(...t)=>t.reduce(JL),u0=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class Av{constructor(){this.subscriptions=[]}add(e){return Tv(this.subscriptions,e),()=>kv(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ni=t=>t*1e3,si=t=>t/1e3;function pS(t,e){return e?t*(1e3/e):0}const mS=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,ZL=1e-7,eM=12;function tM(t,e,r,n,s){let a,o,u=0;do o=e+(r-e)/2,a=mS(o,n,s)-t,a>0?r=o:e=o;while(Math.abs(a)>ZL&&++u<eM);return o}function G0(t,e,r,n){if(t===e&&r===n)return oa;const s=a=>tM(a,0,1,t,r);return a=>a===0||a===1?a:mS(s(a),e,n)}const gS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xS=t=>e=>1-t(1-e),yS=G0(.33,1.53,.69,.99),Cv=xS(yS),vS=gS(Cv),bS=t=>(t*=2)<1?.5*Cv(t):.5*(2-Math.pow(2,-10*(t-1))),jv=t=>1-Math.sin(Math.acos(t)),wS=xS(jv),_S=gS(jv),rM=G0(.42,0,1,1),nM=G0(0,0,.58,1),ES=G0(.42,0,.58,1),sM=t=>Array.isArray(t)&&typeof t[0]!="number",TS=t=>Array.isArray(t)&&typeof t[0]=="number",aM={linear:oa,easeIn:rM,easeInOut:ES,easeOut:nM,circIn:jv,circInOut:_S,circOut:wS,backIn:Cv,backInOut:vS,backOut:yS,anticipate:bS},iM=t=>typeof t=="string",V4=t=>{if(TS(t)){Nv(t.length===4);const[e,r,n,s]=t;return G0(e,r,n,s)}else if(iM(t))return aM[t];return t},_f=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],B4={value:null};function oM(t,e){let r=new Set,n=new Set,s=!1,a=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function h(g){o.has(g)&&(p.schedule(g),t()),d++,g(u)}const p={schedule:(g,y=!1,v=!1)=>{const w=v&&s?r:n;return y&&o.add(g),w.has(g)||w.add(g),g},cancel:g=>{n.delete(g),o.delete(g)},process:g=>{if(u=g,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(h),e&&B4.value&&B4.value.frameloop[e].push(d),d=0,r.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const lM=40;function kS(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=_f.reduce((U,O)=>(U[O]=oM(a,e?O:void 0),U),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:p,update:g,preRender:y,render:v,postRender:k}=o,w=()=>{const U=Hi.useManualTiming?s.timestamp:performance.now();r=!1,Hi.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(U-s.timestamp,lM),1)),s.timestamp=U,s.isProcessing=!0,u.process(s),d.process(s),h.process(s),p.process(s),g.process(s),y.process(s),v.process(s),k.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(w))},T=()=>{r=!0,n=!0,s.isProcessing||t(w)};return{schedule:_f.reduce((U,O)=>{const X=o[O];return U[O]=(B,A=!1,S=!1)=>(r||T(),X.schedule(B,A,S)),U},{}),cancel:U=>{for(let O=0;O<_f.length;O++)o[_f[O]].cancel(U)},state:s,steps:o}}const{schedule:Wr,cancel:Uo,state:Rn,steps:Rx}=kS(typeof requestAnimationFrame<"u"?requestAnimationFrame:oa,!0);let qf;function cM(){qf=void 0}const Es={now:()=>(qf===void 0&&Es.set(Rn.isProcessing||Hi.useManualTiming?Rn.timestamp:performance.now()),qf),set:t=>{qf=t,queueMicrotask(cM)}},NS=t=>e=>typeof e=="string"&&e.startsWith(t),Iv=NS("--"),uM=NS("var(--"),Pv=t=>uM(t)?dM.test(t.split("/*")[0].trim()):!1,dM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},d0={...Fu,transform:t=>zi(0,1,t)},Ef={...Fu,default:1},Bd=t=>Math.round(t*1e5)/1e5,Rv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hM(t){return t==null}const fM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dv=(t,e)=>r=>!!(typeof r=="string"&&fM.test(r)&&r.startsWith(t)||e&&!hM(r)&&Object.prototype.hasOwnProperty.call(r,e)),SS=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,a,o,u]=n.match(Rv);return{[t]:parseFloat(s),[e]:parseFloat(a),[r]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},pM=t=>zi(0,255,t),Dx={...Fu,transform:t=>Math.round(pM(t))},kl={test:Dv("rgb","red"),parse:SS("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Dx.transform(t)+", "+Dx.transform(e)+", "+Dx.transform(r)+", "+Bd(d0.transform(n))+")"};function mM(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Iy={test:Dv("#"),parse:mM,transform:kl.transform},K0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_o=K0("deg"),ai=K0("%"),Ot=K0("px"),gM=K0("vh"),xM=K0("vw"),U4={...ai,parse:t=>ai.parse(t)/100,transform:t=>ai.transform(t*100)},Yc={test:Dv("hsl","hue"),parse:SS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ai.transform(Bd(e))+", "+ai.transform(Bd(r))+", "+Bd(d0.transform(n))+")"},Qn={test:t=>kl.test(t)||Iy.test(t)||Yc.test(t),parse:t=>kl.test(t)?kl.parse(t):Yc.test(t)?Yc.parse(t):Iy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?kl.transform(t):Yc.transform(t)},yM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vM(t){return isNaN(t)&&typeof t=="string"&&(t.match(Rv)?.length||0)+(t.match(yM)?.length||0)>0}const AS="number",CS="color",bM="var",wM="var(",z4="${}",_M=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function h0(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(_M,d=>(Qn.test(d)?(n.color.push(a),s.push(CS),r.push(Qn.parse(d))):d.startsWith(wM)?(n.var.push(a),s.push(bM),r.push(d)):(n.number.push(a),s.push(AS),r.push(parseFloat(d))),++a,z4)).split(z4);return{values:r,split:u,indexes:n,types:s}}function jS(t){return h0(t).values}function IS(t){const{split:e,types:r}=h0(t),n=e.length;return s=>{let a="";for(let o=0;o<n;o++)if(a+=e[o],s[o]!==void 0){const u=r[o];u===AS?a+=Bd(s[o]):u===CS?a+=Qn.transform(s[o]):a+=s[o]}return a}}const EM=t=>typeof t=="number"?0:t;function TM(t){const e=jS(t);return IS(t)(e.map(EM))}const zo={test:vM,parse:jS,createTransformer:IS,getAnimatableNone:TM};function Ox(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function kM({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,a=0,o=0;if(!e)s=a=o=r;else{const u=r<.5?r*(1+e):r+e-r*e,d=2*r-u;s=Ox(d,u,t+1/3),a=Ox(d,u,t),o=Ox(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function Ep(t,e){return r=>r>0?e:t}const Hr=(t,e,r)=>t+(e-t)*r,Fx=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},NM=[Iy,kl,Yc],SM=t=>NM.find(e=>e.test(t));function H4(t){const e=SM(t);if(!e)return!1;let r=e.parse(t);return e===Yc&&(r=kM(r)),r}const W4=(t,e)=>{const r=H4(t),n=H4(e);if(!r||!n)return Ep(t,e);const s={...r};return a=>(s.red=Fx(r.red,n.red,a),s.green=Fx(r.green,n.green,a),s.blue=Fx(r.blue,n.blue,a),s.alpha=Hr(r.alpha,n.alpha,a),kl.transform(s))},Py=new Set(["none","hidden"]);function AM(t,e){return Py.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function CM(t,e){return r=>Hr(t,e,r)}function Ov(t){return typeof t=="number"?CM:typeof t=="string"?Pv(t)?Ep:Qn.test(t)?W4:PM:Array.isArray(t)?PS:typeof t=="object"?Qn.test(t)?W4:jM:Ep}function PS(t,e){const r=[...t],n=r.length,s=t.map((a,o)=>Ov(a)(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=s[o](a);return r}}function jM(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=Ov(t[s])(t[s],e[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function IM(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][n[a]],u=t.values[o]??0;r[s]=u,n[a]++}return r}const PM=(t,e)=>{const r=zo.createTransformer(e),n=h0(t),s=h0(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Py.has(t)&&!s.values.length||Py.has(e)&&!n.values.length?AM(t,e):q0(PS(IM(n,s),s.values),r):Ep(t,e)};function RS(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Hr(t,e,r):Ov(t)(t,e)}const RM=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Wr.update(e,r),stop:()=>Uo(e),now:()=>Rn.isProcessing?Rn.timestamp:Es.now()}},DS=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let a=0;a<s;a++)n+=t(a/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Tp=2e4;function Fv(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Tp;)e+=r,n=t.next(e);return e>=Tp?1/0:e}function DM(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(Fv(n),Tp);return{type:"keyframes",ease:a=>n.next(s*a).value/e,duration:si(s)}}const OM=5;function OS(t,e,r){const n=Math.max(e-OM,0);return pS(r-t(n),e-n)}const Kr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lx=.001;function FM({duration:t=Kr.duration,bounce:e=Kr.bounce,velocity:r=Kr.velocity,mass:n=Kr.mass}){let s,a,o=1-e;o=zi(Kr.minDamping,Kr.maxDamping,o),t=zi(Kr.minDuration,Kr.maxDuration,si(t)),o<1?(s=h=>{const p=h*o,g=p*t,y=p-r,v=Ry(h,o),k=Math.exp(-g);return Lx-y/v*k},a=h=>{const g=h*o*t,y=g*r+r,v=Math.pow(o,2)*Math.pow(h,2)*t,k=Math.exp(-g),w=Ry(Math.pow(h,2),o);return(-s(h)+Lx>0?-1:1)*((y-v)*k)/w}):(s=h=>{const p=Math.exp(-h*t),g=(h-r)*t+1;return-Lx+p*g},a=h=>{const p=Math.exp(-h*t),g=(r-h)*(t*t);return p*g});const u=5/t,d=MM(s,a,u);if(t=ni(t),isNaN(d))return{stiffness:Kr.stiffness,damping:Kr.damping,duration:t};{const h=Math.pow(d,2)*n;return{stiffness:h,damping:o*2*Math.sqrt(n*h),duration:t}}}const LM=12;function MM(t,e,r){let n=r;for(let s=1;s<LM;s++)n=n-t(n)/e(n);return n}function Ry(t,e){return t*Math.sqrt(1-e*e)}const $M=["duration","bounce"],VM=["stiffness","damping","mass"];function q4(t,e){return e.some(r=>t[r]!==void 0)}function BM(t){let e={velocity:Kr.velocity,stiffness:Kr.stiffness,damping:Kr.damping,mass:Kr.mass,isResolvedFromDuration:!1,...t};if(!q4(t,VM)&&q4(t,$M))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*zi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Kr.mass,stiffness:s,damping:a}}else{const r=FM(t);e={...e,...r,mass:Kr.mass},e.isResolvedFromDuration=!0}return e}function kp(t=Kr.visualDuration,e=Kr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],u={done:!1,value:a},{stiffness:d,damping:h,mass:p,duration:g,velocity:y,isResolvedFromDuration:v}=BM({...r,velocity:-si(r.velocity||0)}),k=y||0,w=h/(2*Math.sqrt(d*p)),T=o-a,D=si(Math.sqrt(d/p)),I=Math.abs(T)<5;n||(n=I?Kr.restSpeed.granular:Kr.restSpeed.default),s||(s=I?Kr.restDelta.granular:Kr.restDelta.default);let U;if(w<1){const X=Ry(D,w);U=B=>{const A=Math.exp(-w*D*B);return o-A*((k+w*D*T)/X*Math.sin(X*B)+T*Math.cos(X*B))}}else if(w===1)U=X=>o-Math.exp(-D*X)*(T+(k+D*T)*X);else{const X=D*Math.sqrt(w*w-1);U=B=>{const A=Math.exp(-w*D*B),S=Math.min(X*B,300);return o-A*((k+w*D*T)*Math.sinh(S)+X*T*Math.cosh(S))/X}}const O={calculatedDuration:v&&g||null,next:X=>{const B=U(X);if(v)u.done=X>=g;else{let A=X===0?k:0;w<1&&(A=X===0?ni(k):OS(U,X,B));const S=Math.abs(A)<=n,C=Math.abs(o-B)<=s;u.done=S&&C}return u.value=u.done?o:B,u},toString:()=>{const X=Math.min(Fv(O),Tp),B=DS(A=>O.next(X*A).value,X,30);return X+"ms "+B},toTransition:()=>{}};return O}kp.applyToOptions=t=>{const e=DM(t,100,kp);return t.ease=e.ease,t.duration=ni(e.duration),t.type="keyframes",t};function Dy({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:u,max:d,restDelta:h=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},v=S=>u!==void 0&&S<u||d!==void 0&&S>d,k=S=>u===void 0?d:d===void 0||Math.abs(u-S)<Math.abs(d-S)?u:d;let w=r*e;const T=g+w,D=o===void 0?T:o(T);D!==T&&(w=D-g);const I=S=>-w*Math.exp(-S/n),U=S=>D+I(S),O=S=>{const C=I(S),R=U(S);y.done=Math.abs(C)<=h,y.value=y.done?D:R};let X,B;const A=S=>{v(y.value)&&(X=S,B=kp({keyframes:[y.value,k(y.value)],velocity:OS(U,S,y.value),damping:s,stiffness:a,restDelta:h,restSpeed:p}))};return A(0),{calculatedDuration:null,next:S=>{let C=!1;return!B&&X===void 0&&(C=!0,O(S),A(S)),X!==void 0&&S>=X?B.next(S-X):(!C&&O(S),y)}}}function UM(t,e,r){const n=[],s=r||Hi.mix||RS,a=t.length-1;for(let o=0;o<a;o++){let u=s(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||oa:e;u=q0(d,u)}n.push(u)}return n}function zM(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const a=t.length;if(Nv(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=UM(e,n,s),d=u.length,h=p=>{if(o&&p<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=u0(t[g],t[g+1],p);return u[g](y)};return r?p=>h(zi(t[0],t[a-1],p)):h}function HM(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=u0(0,e,n);t.push(Hr(r,1,s))}}function WM(t){const e=[0];return HM(e,t.length-1),e}function qM(t,e){return t.map(r=>r*e)}function GM(t,e){return t.map(()=>e||ES).splice(0,t.length-1)}function Ud({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=sM(n)?n.map(V4):V4(n),a={done:!1,value:e[0]},o=qM(r&&r.length===e.length?r:WM(e),t),u=zM(o,e,{ease:Array.isArray(s)?s:GM(e,s)});return{calculatedDuration:t,next:d=>(a.value=u(d),a.done=d>=t,a)}}const KM=t=>t!==null;function Lv(t,{repeat:e,repeatType:r="loop"},n,s=1){const a=t.filter(KM),u=s<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!u||n===void 0?a[u]:n}const XM={decay:Dy,inertia:Dy,tween:Ud,keyframes:Ud,spring:kp};function FS(t){typeof t.type=="string"&&(t.type=XM[t.type])}class Mv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const YM=t=>t/100;class $v extends Mv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{if(r){const{motionValue:n}=this.options;n&&n.updatedAt!==Es.now()&&this.tick(Es.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;FS(e);const{type:r=Ud,repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=e;let{keyframes:u}=e;const d=r||Ud;d!==Ud&&typeof u[0]!="number"&&(this.mixKeyframes=q0(YM,RS(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Fv(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=h}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:v,type:k,onUpdate:w,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const D=this.currentTime-h*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let U=this.currentTime,O=n;if(g){const S=Math.min(this.currentTime,s)/u;let C=Math.floor(S),R=S%1;!R&&S>=1&&(R=1),R===1&&C--,C=Math.min(C,g+1),!!(C%2)&&(y==="reverse"?(R=1-R,v&&(R-=v/u)):y==="mirror"&&(O=o)),U=zi(0,1,R)*u}const X=I?{done:!1,value:p[0]}:O.next(U);a&&(X.value=a(X.value));let{done:B}=X;!I&&d!==null&&(B=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return A&&k!==Dy&&(X.value=Lv(p,this.options,T,this.speed)),w&&w(X.value),A&&this.finish(),X}then(e,r){return this.finished.then(e,r)}get duration(){return si(this.calculatedDuration)}get time(){return si(this.currentTime)}set time(e){e=ni(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Es.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=si(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=RM,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Es.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function QM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Nl=t=>t*180/Math.PI,Oy=t=>{const e=Nl(Math.atan2(t[1],t[0]));return Fy(e)},JM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Oy,rotateZ:Oy,skewX:t=>Nl(Math.atan(t[1])),skewY:t=>Nl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Fy=t=>(t=t%360,t<0&&(t+=360),t),G4=Oy,K4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),X4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ZM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:K4,scaleY:X4,scale:t=>(K4(t)+X4(t))/2,rotateX:t=>Fy(Nl(Math.atan2(t[6],t[5]))),rotateY:t=>Fy(Nl(Math.atan2(-t[2],t[0]))),rotateZ:G4,rotate:G4,skewX:t=>Nl(Math.atan(t[4])),skewY:t=>Nl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ly(t){return t.includes("scale")?1:0}function My(t,e){if(!t||t==="none")return Ly(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=ZM,s=r;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=JM,s=u}if(!s)return Ly(e);const a=n[e],o=s[1].split(",").map(t$);return typeof a=="function"?a(o):o[a]}const e$=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return My(r,e)};function t$(t){return parseFloat(t.trim())}const Lu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mu=new Set(Lu),Y4=t=>t===Fu||t===Ot,r$=new Set(["x","y","z"]),n$=Lu.filter(t=>!r$.has(t));function s$(t){const e=[];return n$.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Sl={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>My(e,"x"),y:(t,{transform:e})=>My(e,"y")};Sl.translateX=Sl.x;Sl.translateY=Sl.y;const Al=new Set;let $y=!1,Vy=!1,By=!1;function LS(){if(Vy){const t=Array.from(Al).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=s$(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,o])=>{n.getValue(a)?.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Vy=!1,$y=!1,Al.forEach(t=>t.complete(By)),Al.clear()}function MS(){Al.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Vy=!0)})}function a$(){By=!0,MS(),LS(),By=!1}class Vv{constructor(e,r,n,s,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Al.add(this),$y||($y=!0,Wr.read(MS),Wr.resolveKeyframes(LS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const a=s?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const u=n.readValue(r,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}QM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Al.delete(this)}cancel(){this.state==="scheduled"&&(Al.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const i$=t=>t.startsWith("--");function o$(t,e,r){i$(e)?t.style.setProperty(e,r):t.style[e]=r}const l$=Sv(()=>window.ScrollTimeline!==void 0),c$={};function u$(t,e){const r=Sv(t);return()=>c$[e]??r()}const $S=u$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Id=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,Q4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Id([0,.65,.55,1]),circOut:Id([.55,0,1,.45]),backIn:Id([.31,.01,.66,-.59]),backOut:Id([.33,1.53,.69,.99])};function VS(t,e){if(t)return typeof t=="function"?$S()?DS(t,e):"ease-out":TS(t)?Id(t):Array.isArray(t)?t.map(r=>VS(r,e)||Q4.easeOut):Q4[t]}function d$(t,e,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:u="easeOut",times:d}={},h=void 0){const p={[e]:r};d&&(p.offset=d);const g=VS(u,s);Array.isArray(g)&&(p.easing=g);const y={delay:n,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(p,y)}function BS(t){return typeof t=="function"&&"applyToOptions"in t}function h$({type:t,...e}){return BS(t)&&$S()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class f$ extends Mv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,Nv(typeof e.type!="string");const h=h$(e);this.animation=d$(r,n,s,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=Lv(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):o$(r,n,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return si(Number(e))}get time(){return si(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ni(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&l$()?(this.animation.timeline=e,oa):r(this)}}const US={anticipate:bS,backInOut:vS,circInOut:_S};function p$(t){return t in US}function m$(t){typeof t.ease=="string"&&p$(t.ease)&&(t.ease=US[t.ease])}const J4=10;class g$ extends f${constructor(e){m$(e),FS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:a,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const u=new $v({...o,autoplay:!1}),d=ni(this.finishedTime??this.time);r.setWithVelocity(u.sample(d-J4).value,u.sample(d).value,J4),u.stop()}}const Z4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zo.test(t)||t==="0")&&!t.startsWith("url("));function x$(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function y$(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=Z4(s,e),u=Z4(a,e);return!o||!u?!1:x$(t)||(r==="spring"||BS(r))&&n}function Bv(t){return hS(t)&&"offsetHeight"in t}const v$=new Set(["opacity","clipPath","filter","transform"]),b$=Sv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function w$(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:a,type:o}=t;if(!Bv(e?.owner?.current))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return b$()&&r&&v$.has(r)&&(r!=="transform"||!d)&&!u&&!n&&s!=="mirror"&&a!==0&&o!=="inertia"}const _$=40;class E$ extends Mv{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",keyframes:u,name:d,motionValue:h,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Es.now();const y={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:o,name:d,motionValue:h,element:p,...g},v=p?.KeyframeResolver||Vv;this.keyframeResolver=new v(u,(k,w,T)=>this.onKeyframesResolved(k,w,y,!T),d,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:a,type:o,velocity:u,delay:d,isHandoff:h,onUpdate:p}=n;this.resolvedAt=Es.now(),y$(e,a,o,u)||((Hi.instantAnimations||!d)&&p?.(Lv(e,n,r)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>_$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!h&&w$(y)?new g$({...y,element:y.motionValue.owner.current}):new $v(y);v.finished.then(()=>this.notifyFinished()).catch(oa),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),a$()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const T$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function k$(t){const e=T$.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function zS(t,e,r=1){const[n,s]=k$(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return dS(o)?parseFloat(o):o}return Pv(s)?zS(s,e,r+1):s}function Uv(t,e){return t?.[e]??t?.default??t}const HS=new Set(["width","height","top","left","right","bottom",...Lu]),N$={test:t=>t==="auto",parse:t=>t},WS=t=>e=>e.test(t),qS=[Fu,Ot,ai,_o,xM,gM,N$],eE=t=>qS.find(WS(t));function S$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fS(t):!0}const A$=new Set(["brightness","contrast","saturate","opacity"]);function C$(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Rv)||[];if(!n)return t;const s=r.replace(n,"");let a=A$.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+s+")"}const j$=/\b([a-z-]*)\(.*?\)/gu,Uy={...zo,getAnimatableNone:t=>{const e=t.match(j$);return e?e.map(C$).join(" "):t}},tE={...Fu,transform:Math.round},I$={rotate:_o,rotateX:_o,rotateY:_o,rotateZ:_o,scale:Ef,scaleX:Ef,scaleY:Ef,scaleZ:Ef,skew:_o,skewX:_o,skewY:_o,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:d0,originX:U4,originY:U4,originZ:Ot},zv={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...I$,zIndex:tE,fillOpacity:d0,strokeOpacity:d0,numOctaves:tE},P$={...zv,color:Qn,backgroundColor:Qn,outlineColor:Qn,fill:Qn,stroke:Qn,borderColor:Qn,borderTopColor:Qn,borderRightColor:Qn,borderBottomColor:Qn,borderLeftColor:Qn,filter:Uy,WebkitFilter:Uy},GS=t=>P$[t];function KS(t,e){let r=GS(t);return r!==Uy&&(r=zo),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const R$=new Set(["auto","none","0"]);function D$(t,e,r){let n=0,s;for(;n<t.length&&!s;){const a=t[n];typeof a=="string"&&!R$.has(a)&&h0(a).values.length&&(s=t[n]),n++}if(s&&r)for(const a of e)t[a]=KS(r,s)}class O$ extends Vv{constructor(e,r,n,s,a){super(e,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Pv(h))){const p=zS(h,r.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!HS.has(n)||e.length!==2)return;const[s,a]=e,o=eE(s),u=eE(a);if(o!==u)if(Y4(o)&&Y4(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Sl[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||S$(e[s]))&&n.push(s);n.length&&D$(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=Sl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function F$(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=r?.[t]??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const rE=30,L$=t=>!isNaN(parseFloat(t));class M${constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const a=Es.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Es.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=L$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Av);const n=this.events[e].add(r);return e==="change"?()=>{n(),Wr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Es.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rE)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,rE);return pS(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gu(t,e){return new M$(t,e)}const XS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:Hv}=kS(queueMicrotask,!1),Na={x:!1,y:!1};function YS(){return Na.x||Na.y}function $$(t){return t==="x"||t==="y"?Na[t]?null:(Na[t]=!0,()=>{Na[t]=!1}):Na.x||Na.y?null:(Na.x=Na.y=!0,()=>{Na.x=Na.y=!1})}function QS(t,e){const r=F$(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function nE(t){return!(t.pointerType==="touch"||YS())}function V$(t,e,r={}){const[n,s,a]=QS(t,r),o=u=>{if(!nE(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const p=g=>{nE(g)&&(h(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return n.forEach(u=>{u.addEventListener("pointerenter",o,s)}),a}const JS=(t,e)=>e?t===e?!0:JS(t,e.parentElement):!1,Wv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,B$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function U$(t){return B$.has(t.tagName)||t.tabIndex!==-1}const Gf=new WeakSet;function sE(t){return e=>{e.key==="Enter"&&t(e)}}function Mx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const z$=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=sE(()=>{if(Gf.has(r))return;Mx(r,"down");const s=sE(()=>{Mx(r,"up")}),a=()=>Mx(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function aE(t){return Wv(t)&&!YS()}function H$(t,e,r={}){const[n,s,a]=QS(t,r),o=u=>{const d=u.currentTarget;if(!aE(u))return;Gf.add(d);const h=e(d,u),p=(v,k)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),Gf.has(d)&&Gf.delete(d),aE(v)&&typeof h=="function"&&h(v,{success:k})},g=v=>{p(v,d===window||d===document||r.useGlobalTarget||JS(d,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),Bv(u)&&(u.addEventListener("focus",h=>z$(h,s)),!U$(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function ZS(t){return hS(t)&&"ownerSVGElement"in t}function W$(t){return ZS(t)&&t.tagName==="svg"}const Zn=t=>!!(t&&t.getVelocity),q$=[...qS,Qn,zo],G$=t=>q$.find(WS(t)),qv=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class K$ extends _.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=Bv(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function X$({children:t,isPresent:e,anchorX:r}){const n=_.useId(),s=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=_.useContext(qv);return _.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:p,right:g}=a.current;if(e||!s.current||!u||!d)return;const y=r==="left"?`left: ${p}`:`right: ${g}`;s.current.dataset.motionPopId=n;const v=document.createElement("style");return o&&(v.nonce=o),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(v)&&document.head.removeChild(v)}},[e]),i.jsx(K$,{isPresent:e,childRef:s,sizeRef:a,children:_.cloneElement(t,{ref:s})})}const Y$=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:o,anchorX:u})=>{const d=_v(Q$),h=_.useId();let p=!0,g=_.useMemo(()=>(p=!1,{id:h,initial:e,isPresent:r,custom:s,onExitComplete:y=>{d.set(y,!0);for(const v of d.values())if(!v)return;n&&n()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[r,d,n]);return a&&p&&(g={...g}),_.useMemo(()=>{d.forEach((y,v)=>d.set(v,!1))},[r]),_.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=i.jsx(X$,{isPresent:r,anchorX:u,children:t})),i.jsx(Tm.Provider,{value:g,children:t})};function Q$(){return new Map}function e5(t=!0){const e=_.useContext(Tm);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,a=_.useId();_.useEffect(()=>{if(t)return s(a)},[t]);const o=_.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,o]:[!0]}const Tf=t=>t.key||"";function iE(t){const e=[];return _.Children.forEach(t,r=>{_.isValidElement(r)&&e.push(r)}),e}const Vt=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1,anchorX:u="left"})=>{const[d,h]=e5(o),p=_.useMemo(()=>iE(t),[t]),g=o&&!d?[]:p.map(Tf),y=_.useRef(!0),v=_.useRef(p),k=_v(()=>new Map),[w,T]=_.useState(p),[D,I]=_.useState(p);uS(()=>{y.current=!1,v.current=p;for(let X=0;X<D.length;X++){const B=Tf(D[X]);g.includes(B)?k.delete(B):k.get(B)!==!0&&k.set(B,!1)}},[D,g.length,g.join("-")]);const U=[];if(p!==w){let X=[...p];for(let B=0;B<D.length;B++){const A=D[B],S=Tf(A);g.includes(S)||(X.splice(B,0,A),U.push(A))}return a==="wait"&&U.length&&(X=U),I(iE(X)),T(p),null}const{forceRender:O}=_.useContext(wv);return i.jsx(i.Fragment,{children:D.map(X=>{const B=Tf(X),A=o&&!d?!1:p===D||g.includes(B),S=()=>{if(k.has(B))k.set(B,!0);else return;let C=!0;k.forEach(R=>{R||(C=!1)}),C&&(O?.(),I(v.current),o&&h?.(),n&&n())};return i.jsx(Y$,{isPresent:A,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,onExitComplete:A?void 0:S,anchorX:u,children:X},B)})})},t5=_.createContext({strict:!1}),oE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xu={};for(const t in oE)xu[t]={isEnabled:e=>oE[t].some(r=>!!e[r])};function J$(t){for(const e in t)xu[e]={...xu[e],...t[e]}}const Z$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Np(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Z$.has(t)}let r5=t=>!Np(t);function eV(t){t&&(r5=e=>e.startsWith("on")?!Np(e):t(e))}try{eV(require("@emotion/is-prop-valid").default)}catch{}function tV(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(r5(s)||r===!0&&Np(s)||!e&&!Np(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function rV(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const km=_.createContext({});function Nm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function f0(t){return typeof t=="string"||Array.isArray(t)}const Gv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Kv=["initial",...Gv];function Sm(t){return Nm(t.animate)||Kv.some(e=>f0(t[e]))}function n5(t){return!!(Sm(t)||t.variants)}function nV(t,e){if(Sm(t)){const{initial:r,animate:n}=t;return{initial:r===!1||f0(r)?r:void 0,animate:f0(n)?n:void 0}}return t.inherit!==!1?e:{}}function sV(t){const{initial:e,animate:r}=nV(t,_.useContext(km));return _.useMemo(()=>({initial:e,animate:r}),[lE(e),lE(r)])}function lE(t){return Array.isArray(t)?t.join(" "):t}const aV=Symbol.for("motionComponentSymbol");function Qc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function iV(t,e,r){return _.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Qc(r)&&(r.current=n))},[e])}const Xv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oV="framerAppearId",s5="data-"+Xv(oV),a5=_.createContext({});function lV(t,e,r,n,s){const{visualElement:a}=_.useContext(km),o=_.useContext(t5),u=_.useContext(Tm),d=_.useContext(qv).reducedMotion,h=_.useRef(null);n=n||o.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:a,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,g=_.useContext(a5);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&cV(h.current,r,s,g);const y=_.useRef(!1);_.useInsertionEffect(()=>{p&&y.current&&p.update(r,u)});const v=r[s5],k=_.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return uS(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Hv.render(p.render),k.current&&p.animationState&&p.animationState.animateChanges())}),_.useEffect(()=>{p&&(!k.current&&p.animationState&&p.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),k.current=!1))}),p}function cV(t,e,r,n){const{layoutId:s,layout:a,drag:o,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:i5(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||u&&Qc(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:d,layoutRoot:h})}function i5(t){if(t)return t.options.allowProjection!==!1?t.projection:i5(t.parent)}function uV({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&J$(t);function a(u,d){let h;const p={..._.useContext(qv),...u,layoutId:dV(u)},{isStatic:g}=p,y=sV(u),v=n(u,g);if(!g&&Ev){hV();const k=fV(p);h=k.MeasureLayout,y.visualElement=lV(s,v,p,e,k.ProjectionNode)}return i.jsxs(km.Provider,{value:y,children:[h&&y.visualElement?i.jsx(h,{visualElement:y.visualElement,...p}):null,r(s,u,iV(v,y.visualElement,d),v,g,y.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=_.forwardRef(a);return o[aV]=s,o}function dV({layoutId:t}){const e=_.useContext(wv).id;return e&&t!==void 0?e+"-"+t:t}function hV(t,e){_.useContext(t5).strict}function fV(t){const{drag:e,layout:r}=xu;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const p0={};function pV(t){for(const e in t)p0[e]=t[e],Iv(e)&&(p0[e].isCSSVariable=!0)}function o5(t,{layout:e,layoutId:r}){return Mu.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!p0[t]||t==="opacity")}const mV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gV=Lu.length;function xV(t,e,r){let n="",s=!0;for(let a=0;a<gV;a++){const o=Lu[a],u=t[o];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(o.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||r){const h=XS(u,zv[o]);if(!d){s=!1;const p=mV[o]||o;n+=`${p}(${h}) `}r&&(e[o]=h)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function Yv(t,e,r){const{style:n,vars:s,transformOrigin:a}=t;let o=!1,u=!1;for(const d in e){const h=e[d];if(Mu.has(d)){o=!0;continue}else if(Iv(d)){s[d]=h;continue}else{const p=XS(h,zv[d]);d.startsWith("origin")?(u=!0,a[d]=p):n[d]=p}}if(e.transform||(o||r?n.transform=xV(e,t.transform,r):n.transform&&(n.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=a;n.transformOrigin=`${d} ${h} ${p}`}}const Qv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function l5(t,e,r){for(const n in e)!Zn(e[n])&&!o5(n,r)&&(t[n]=e[n])}function yV({transformTemplate:t},e){return _.useMemo(()=>{const r=Qv();return Yv(r,e,t),Object.assign({},r.vars,r.style)},[e])}function vV(t,e){const r=t.style||{},n={};return l5(n,r,t),Object.assign(n,yV(t,e)),n}function bV(t,e){const r={},n=vV(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const wV={offset:"stroke-dashoffset",array:"stroke-dasharray"},_V={offset:"strokeDashoffset",array:"strokeDasharray"};function EV(t,e,r=1,n=0,s=!0){t.pathLength=1;const a=s?wV:_V;t[a.offset]=Ot.transform(-n);const o=Ot.transform(e),u=Ot.transform(r);t[a.array]=`${o} ${u}`}function c5(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:a=1,pathOffset:o=0,...u},d,h,p){if(Yv(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),s!==void 0&&EV(g,s,a,o,!1)}const u5=()=>({...Qv(),attrs:{}}),d5=t=>typeof t=="string"&&t.toLowerCase()==="svg";function TV(t,e,r,n){const s=_.useMemo(()=>{const a=u5();return c5(a,e,d5(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};l5(a,t.style,t),s.style={...a,...s.style}}return s}const kV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jv(t){return typeof t!="string"||t.includes("-")?!1:!!(kV.indexOf(t)>-1||/[A-Z]/u.test(t))}function NV(t=!1){return(r,n,s,{latestValues:a},o)=>{const d=(Jv(r)?TV:bV)(n,a,o,r),h=tV(n,typeof r=="string",t),p=r!==_.Fragment?{...h,...d,ref:s}:{},{children:g}=n,y=_.useMemo(()=>Zn(g)?g.get():g,[g]);return _.createElement(r,{...p,children:y})}}function cE(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Zv(t,e,r,n){if(typeof e=="function"){const[s,a]=cE(n);e=e(r!==void 0?r:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=cE(n);e=e(r!==void 0?r:t.custom,s,a)}return e}function Kf(t){return Zn(t)?t.get():t}function SV({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:AV(r,n,s,t),renderState:e()}}const h5=t=>(e,r)=>{const n=_.useContext(km),s=_.useContext(Tm),a=()=>SV(t,e,n,s);return r?a():_v(a)};function AV(t,e,r,n){const s={},a=n(t,{});for(const y in a)s[y]=Kf(a[y]);let{initial:o,animate:u}=t;const d=Sm(t),h=n5(t);e&&h&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let p=r?r.initial===!1:!1;p=p||o===!1;const g=p?u:o;if(g&&typeof g!="boolean"&&!Nm(g)){const y=Array.isArray(g)?g:[g];for(let v=0;v<y.length;v++){const k=Zv(t,y[v]);if(k){const{transitionEnd:w,transition:T,...D}=k;for(const I in D){let U=D[I];if(Array.isArray(U)){const O=p?U.length-1:0;U=U[O]}U!==null&&(s[I]=U)}for(const I in w)s[I]=w[I]}}}return s}function eb(t,e,r){const{style:n}=t,s={};for(const a in n)(Zn(n[a])||e.style&&Zn(e.style[a])||o5(a,t)||r?.getValue(a)?.liveStyle!==void 0)&&(s[a]=n[a]);return s}const CV={useVisualState:h5({scrapeMotionValuesFromProps:eb,createRenderState:Qv})};function f5(t,e,r){const n=eb(t,e,r);for(const s in t)if(Zn(t[s])||Zn(e[s])){const a=Lu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=t[s]}return n}const jV={useVisualState:h5({scrapeMotionValuesFromProps:f5,createRenderState:u5})};function IV(t,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Jv(n)?jV:CV,preloadedFeatures:t,useRender:NV(s),createVisualElement:e,Component:n};return uV(o)}}function m0(t,e,r){const n=t.getProps();return Zv(n,e,r!==void 0?r:n.custom,t)}const zy=t=>Array.isArray(t);function PV(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,gu(r))}function RV(t){return zy(t)?t[t.length-1]||0:t}function DV(t,e){const r=m0(t,e);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const o in a){const u=RV(a[o]);PV(t,o,u)}}function OV(t){return!!(Zn(t)&&t.add)}function Hy(t,e){const r=t.getValue("willChange");if(OV(r))return r.add(e);if(!r&&Hi.WillChange){const n=new Hi.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function p5(t){return t.props[s5]}const FV=t=>t!==null;function LV(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(FV),a=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[a]}const MV={type:"spring",stiffness:500,damping:25,restSpeed:10},$V=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),VV={type:"keyframes",duration:.8},BV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UV=(t,{keyframes:e})=>e.length>2?VV:Mu.has(t)?t.startsWith("scale")?$V(e[1]):MV:BV;function zV({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const tb=(t,e,r,n={},s,a)=>o=>{const u=Uv(n,t)||{},d=u.delay||n.delay||0;let{elapsed:h=0}=n;h=h-ni(d);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};zV(u)||Object.assign(p,UV(t,p)),p.duration&&(p.duration=ni(p.duration)),p.repeatDelay&&(p.repeatDelay=ni(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),(Hi.instantAnimations||Hi.skipAnimations)&&(g=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!a&&e.get()!==void 0){const y=LV(p.keyframes,u);if(y!==void 0){Wr.update(()=>{p.onUpdate(y),p.onComplete()});return}}return u.isSync?new $v(p):new E$(p)};function HV({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function m5(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...u}=e;n&&(a=n);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),y=u[p];if(y===void 0||h&&HV(h,p))continue;const v={delay:r,...Uv(a||{},p)},k=g.get();if(k!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===k&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const D=p5(t);if(D){const I=window.MotionHandoffAnimation(D,p,Wr);I!==null&&(v.startTime=I,w=!0)}}Hy(t,p),g.start(tb(p,g,y,t.shouldReduceMotion&&HS.has(p)?{type:!1}:v,t,w));const T=g.animation;T&&d.push(T)}return o&&Promise.all(d).then(()=>{Wr.update(()=>{o&&DV(t,o)})}),d}function Wy(t,e,r={}){const n=m0(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(m5(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=s;return WV(t,e,h+d,p,g,r)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,h]=u==="beforeChildren"?[a,o]:[o,a];return d().then(()=>h())}else return Promise.all([a(),o(r.delay)])}function WV(t,e,r=0,n=0,s=1,a){const o=[],u=(t.variantChildren.size-1)*n,d=s===1?(h=0)=>h*n:(h=0)=>u-h*n;return Array.from(t.variantChildren).sort(qV).forEach((h,p)=>{h.notify("AnimationStart",e),o.push(Wy(h,e,{...a,delay:r+d(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function qV(t,e){return t.sortNodePosition(e)}function GV(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(a=>Wy(t,a,r));n=Promise.all(s)}else if(typeof e=="string")n=Wy(t,e,r);else{const s=typeof e=="function"?m0(t,e,r.custom):e;n=Promise.all(m5(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function g5(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const KV=Kv.length;function x5(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?x5(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<KV;r++){const n=Kv[r],s=t.props[n];(f0(s)||s===!1)&&(e[n]=s)}return e}const XV=[...Gv].reverse(),YV=Gv.length;function QV(t){return e=>Promise.all(e.map(({animation:r,options:n})=>GV(t,r,n)))}function JV(t){let e=QV(t),r=uE(),n=!0;const s=d=>(h,p)=>{const g=m0(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:v,...k}=g;h={...h,...k,...v}}return h};function a(d){e=d(t)}function o(d){const{props:h}=t,p=x5(t.parent)||{},g=[],y=new Set;let v={},k=1/0;for(let T=0;T<YV;T++){const D=XV[T],I=r[D],U=h[D]!==void 0?h[D]:p[D],O=f0(U),X=D===d?I.isActive:null;X===!1&&(k=T);let B=U===p[D]&&U!==h[D]&&O;if(B&&n&&t.manuallyAnimateOnMount&&(B=!1),I.protectedKeys={...v},!I.isActive&&X===null||!U&&!I.prevProp||Nm(U)||typeof U=="boolean")continue;const A=ZV(I.prevProp,U);let S=A||D===d&&I.isActive&&!B&&O||T>k&&O,C=!1;const R=Array.isArray(U)?U:[U];let F=R.reduce(s(D),{});X===!1&&(F={});const{prevResolvedValues:W={}}=I,M={...W,...F},Se=Le=>{S=!0,y.has(Le)&&(C=!0,y.delete(Le)),I.needsAnimating[Le]=!0;const _e=t.getValue(Le);_e&&(_e.liveStyle=!1)};for(const Le in M){const _e=F[Le],ie=W[Le];if(v.hasOwnProperty(Le))continue;let de=!1;zy(_e)&&zy(ie)?de=!g5(_e,ie):de=_e!==ie,de?_e!=null?Se(Le):y.add(Le):_e!==void 0&&y.has(Le)?Se(Le):I.protectedKeys[Le]=!0}I.prevProp=U,I.prevResolvedValues=F,I.isActive&&(v={...v,...F}),n&&t.blockInitialAnimation&&(S=!1),S&&(!(B&&A)||C)&&g.push(...R.map(Le=>({animation:Le,options:{type:D}})))}if(y.size){const T={};if(typeof h.initial!="boolean"){const D=m0(t,Array.isArray(h.initial)?h.initial[0]:h.initial);D&&D.transition&&(T.transition=D.transition)}y.forEach(D=>{const I=t.getBaseTarget(D),U=t.getValue(D);U&&(U.liveStyle=!0),T[D]=I??null}),g.push({animation:T})}let w=!!g.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(g):Promise.resolve()}function u(d,h){if(r[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,h)),r[d].isActive=h;const p=o(d);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:o,setActive:u,setAnimateFunction:a,getState:()=>r,reset:()=>{r=uE(),n=!0}}}function ZV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!g5(e,t):!1}function vl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uE(){return{animate:vl(!0),whileInView:vl(),whileHover:vl(),whileTap:vl(),whileDrag:vl(),whileFocus:vl(),exit:vl()}}class Zo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class eB extends Zo{constructor(e){super(e),e.animationState||(e.animationState=JV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let tB=0;class rB extends Zo{constructor(){super(...arguments),this.id=tB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nB={animation:{Feature:eB},exit:{Feature:rB}};function g0(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function X0(t){return{point:{x:t.pageX,y:t.pageY}}}const sB=t=>e=>Wv(e)&&t(e,X0(e));function zd(t,e,r,n){return g0(t,e,sB(r),n)}function y5({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function aB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function iB(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const v5=1e-4,oB=1-v5,lB=1+v5,b5=.01,cB=0-b5,uB=0+b5;function us(t){return t.max-t.min}function dB(t,e,r){return Math.abs(t-e)<=r}function dE(t,e,r,n=.5){t.origin=n,t.originPoint=Hr(e.min,e.max,t.origin),t.scale=us(r)/us(e),t.translate=Hr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=oB&&t.scale<=lB||isNaN(t.scale))&&(t.scale=1),(t.translate>=cB&&t.translate<=uB||isNaN(t.translate))&&(t.translate=0)}function Hd(t,e,r,n){dE(t.x,e.x,r.x,n?n.originX:void 0),dE(t.y,e.y,r.y,n?n.originY:void 0)}function hE(t,e,r){t.min=r.min+e.min,t.max=t.min+us(e)}function hB(t,e,r){hE(t.x,e.x,r.x),hE(t.y,e.y,r.y)}function fE(t,e,r){t.min=e.min-r.min,t.max=t.min+us(e)}function Wd(t,e,r){fE(t.x,e.x,r.x),fE(t.y,e.y,r.y)}const pE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jc=()=>({x:pE(),y:pE()}),mE=()=>({min:0,max:0}),Zr=()=>({x:mE(),y:mE()});function aa(t){return[t("x"),t("y")]}function $x(t){return t===void 0||t===1}function qy({scale:t,scaleX:e,scaleY:r}){return!$x(t)||!$x(e)||!$x(r)}function wl(t){return qy(t)||w5(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function w5(t){return gE(t.x)||gE(t.y)}function gE(t){return t&&t!=="0%"}function Sp(t,e,r){const n=t-r,s=e*n;return r+s}function xE(t,e,r,n,s){return s!==void 0&&(t=Sp(t,s,n)),Sp(t,r,n)+e}function Gy(t,e=0,r=1,n,s){t.min=xE(t.min,e,r,n,s),t.max=xE(t.max,e,r,n,s)}function _5(t,{x:e,y:r}){Gy(t.x,e.translate,e.scale,e.originPoint),Gy(t.y,r.translate,r.scale,r.originPoint)}const yE=.999999999999,vE=1.0000000000001;function fB(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let a,o;for(let u=0;u<s;u++){a=r[u],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&eu(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,_5(t,o)),n&&wl(a.latestValues)&&eu(t,a.latestValues))}e.x<vE&&e.x>yE&&(e.x=1),e.y<vE&&e.y>yE&&(e.y=1)}function Zc(t,e){t.min=t.min+e,t.max=t.max+e}function bE(t,e,r,n,s=.5){const a=Hr(t.min,t.max,s);Gy(t,e,r,a,n)}function eu(t,e){bE(t.x,e.x,e.scaleX,e.scale,e.originX),bE(t.y,e.y,e.scaleY,e.scale,e.originY)}function E5(t,e){return y5(iB(t.getBoundingClientRect(),e))}function pB(t,e,r){const n=E5(t,r),{scroll:s}=e;return s&&(Zc(n.x,s.offset.x),Zc(n.y,s.offset.y)),n}const T5=({current:t})=>t?t.ownerDocument.defaultView:null,wE=(t,e)=>Math.abs(t-e);function mB(t,e){const r=wE(t.x,e.x),n=wE(t.y,e.y);return Math.sqrt(r**2+n**2)}class k5{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Bx(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=mB(g.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:k}=g,{timestamp:w}=Rn;this.history.push({...k,timestamp:w});const{onStart:T,onMove:D}=this.handlers;y||(T&&T(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Vx(y,this.transformPagePoint),Wr.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:v,onSessionEnd:k,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Bx(g.type==="pointercancel"?this.lastMoveEventInfo:Vx(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,T),k&&k(g,T)},!Wv(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=X0(e),u=Vx(o,this.transformPagePoint),{point:d}=u,{timestamp:h}=Rn;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=r;p&&p(e,Bx(u,this.history)),this.removeListeners=q0(zd(this.contextWindow,"pointermove",this.handlePointerMove),zd(this.contextWindow,"pointerup",this.handlePointerUp),zd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Uo(this.updatePoint)}}function Vx(t,e){return e?{point:e(t.point)}:t}function _E(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bx({point:t},e){return{point:t,delta:_E(t,N5(e)),offset:_E(t,gB(e)),velocity:xB(e,.1)}}function gB(t){return t[0]}function N5(t){return t[t.length-1]}function xB(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=N5(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>ni(e)));)r--;if(!n)return{x:0,y:0};const a=si(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function yB(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Hr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Hr(r,t,n.max):Math.min(t,r)),t}function EE(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function vB(t,{top:e,left:r,bottom:n,right:s}){return{x:EE(t.x,r,s),y:EE(t.y,e,n)}}function TE(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function bB(t,e){return{x:TE(t.x,e.x),y:TE(t.y,e.y)}}function wB(t,e){let r=.5;const n=us(t),s=us(e);return s>n?r=u0(e.min,e.max-n,t.min):n>s&&(r=u0(t.min,t.max-s,e.min)),zi(0,1,r)}function _B(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Ky=.35;function EB(t=Ky){return t===!1?t=0:t===!0&&(t=Ky),{x:kE(t,"left","right"),y:kE(t,"top","bottom")}}function kE(t,e,r){return{min:NE(t,e),max:NE(t,r)}}function NE(t,e){return typeof t=="number"?t:t[e]||0}const TB=new WeakMap;class kB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(X0(p).point)},a=(p,g)=>{const{drag:y,dragPropagation:v,onDragStart:k}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$$(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),aa(T=>{let D=this.getAxisMotionValue(T).get()||0;if(ai.test(D)){const{projection:I}=this.visualElement;if(I&&I.layout){const U=I.layout.layoutBox[T];U&&(D=us(U)*(parseFloat(D)/100))}}this.originPoint[T]=D}),k&&Wr.postRender(()=>k(p,g)),Hy(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(p,g)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:k,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:T}=g;if(v&&this.currentDirection===null){this.currentDirection=NB(T),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",g.point,T),this.updateAxis("y",g.point,T),this.visualElement.render(),w&&w(p,g)},u=(p,g)=>this.stop(p,g),d=()=>aa(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new k5(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:T5(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Wr.postRender(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!kf(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=yB(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Qc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=vB(n.layoutBox,e):this.constraints=!1,this.elastic=EB(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&aa(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=_B(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Qc(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=pB(n,s.root,this.visualElement.getTransformPagePoint());let o=bB(s.layout.layoutBox,a);if(r){const u=r(aB(o));this.hasMutatedConstraints=!!u,u&&(o=y5(u))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=aa(p=>{if(!kf(p,r,this.currentDirection))return;let g=d&&d[p]||{};o&&(g={min:0,max:0});const y=s?200:1e6,v=s?40:1e7,k={type:"inertia",velocity:n?e[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,k)});return Promise.all(h).then(u)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Hy(this.visualElement,e),n.start(tb(e,n,0,r,this.visualElement,!1))}stopAnimation(){aa(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){aa(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){aa(r=>{const{drag:n}=this.getProps();if(!kf(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[r];a.set(e[r]-Hr(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Qc(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};aa(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const d=u.get();s[o]=wB({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),aa(o=>{if(!kf(o,e,null))return;const u=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];u.set(Hr(d,h,s[o]))})}addListeners(){if(!this.visualElement.current)return;TB.set(this.visualElement,this);const e=this.visualElement.current,r=zd(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Qc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Wr.read(n);const o=g0(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(aa(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())}));return()=>{o(),r(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=Ky,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:u}}}function kf(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function NB(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class SB extends Zo{constructor(e){super(e),this.removeGroupControls=oa,this.removeListeners=oa,this.controls=new kB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oa}unmount(){this.removeGroupControls(),this.removeListeners()}}const SE=t=>(e,r)=>{t&&Wr.postRender(()=>t(e,r))};class AB extends Zo{constructor(){super(...arguments),this.removePointerDownListener=oa}onPointerDown(e){this.session=new k5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:SE(e),onStart:SE(r),onMove:n,onEnd:(a,o)=>{delete this.session,s&&Wr.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=zd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _d={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ot.test(t))t=parseFloat(t);else return t;const r=AE(t,e.target.x),n=AE(t,e.target.y);return`${r}% ${n}%`}},CB={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=zo.parse(t);if(s.length>5)return n;const a=zo.createTransformer(t),o=typeof s[0]!="number"?1:0,u=r.x.scale*e.x,d=r.y.scale*e.y;s[0+o]/=u,s[1+o]/=d;const h=Hr(u,d,.5);return typeof s[2+o]=="number"&&(s[2+o]/=h),typeof s[3+o]=="number"&&(s[3+o]/=h),a(s)}};class jB extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=e;pV(IB),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Xf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,s||e.layoutDependency!==r||r===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||Wr.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function S5(t){const[e,r]=e5(),n=_.useContext(wv);return i.jsx(jB,{...t,layoutGroup:n,switchLayoutGroup:_.useContext(a5),isPresent:e,safeToRemove:r})}const IB={borderRadius:{..._d,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_d,borderTopRightRadius:_d,borderBottomLeftRadius:_d,borderBottomRightRadius:_d,boxShadow:CB};function PB(t,e,r){const n=Zn(t)?t:gu(t);return n.start(tb("",n,e,r)),n.animation}const RB=(t,e)=>t.depth-e.depth;class DB{constructor(){this.children=[],this.isDirty=!1}add(e){Tv(this.children,e),this.isDirty=!0}remove(e){kv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(RB),this.isDirty=!1,this.children.forEach(e)}}function OB(t,e){const r=Es.now(),n=({timestamp:s})=>{const a=s-r;a>=e&&(Uo(n),t(a-e))};return Wr.setup(n,!0),()=>Uo(n)}const A5=["TopLeft","TopRight","BottomLeft","BottomRight"],FB=A5.length,CE=t=>typeof t=="string"?parseFloat(t):t,jE=t=>typeof t=="number"||Ot.test(t);function LB(t,e,r,n,s,a){s?(t.opacity=Hr(0,r.opacity??1,MB(n)),t.opacityExit=Hr(e.opacity??1,0,$B(n))):a&&(t.opacity=Hr(e.opacity??1,r.opacity??1,n));for(let o=0;o<FB;o++){const u=`border${A5[o]}Radius`;let d=IE(e,u),h=IE(r,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||jE(d)===jE(h)?(t[u]=Math.max(Hr(CE(d),CE(h),n),0),(ai.test(h)||ai.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||r.rotate)&&(t.rotate=Hr(e.rotate||0,r.rotate||0,n))}function IE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const MB=C5(0,.5,wS),$B=C5(.5,.95,oa);function C5(t,e,r){return n=>n<t?0:n>e?1:r(u0(t,e,n))}function PE(t,e){t.min=e.min,t.max=e.max}function na(t,e){PE(t.x,e.x),PE(t.y,e.y)}function RE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function DE(t,e,r,n,s){return t-=e,t=Sp(t,1/r,n),s!==void 0&&(t=Sp(t,1/s,n)),t}function VB(t,e=0,r=1,n=.5,s,a=t,o=t){if(ai.test(e)&&(e=parseFloat(e),e=Hr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=Hr(a.min,a.max,n);t===a&&(u-=e),t.min=DE(t.min,e,r,u,s),t.max=DE(t.max,e,r,u,s)}function OE(t,e,[r,n,s],a,o){VB(t,e[r],e[n],e[s],e.scale,a,o)}const BB=["x","scaleX","originX"],UB=["y","scaleY","originY"];function FE(t,e,r,n){OE(t.x,e,BB,r?r.x:void 0,n?n.x:void 0),OE(t.y,e,UB,r?r.y:void 0,n?n.y:void 0)}function LE(t){return t.translate===0&&t.scale===1}function j5(t){return LE(t.x)&&LE(t.y)}function ME(t,e){return t.min===e.min&&t.max===e.max}function zB(t,e){return ME(t.x,e.x)&&ME(t.y,e.y)}function $E(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function I5(t,e){return $E(t.x,e.x)&&$E(t.y,e.y)}function VE(t){return us(t.x)/us(t.y)}function BE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class HB{constructor(){this.members=[]}add(e){Tv(this.members,e),e.scheduleRender()}remove(e){if(kv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WB(t,e,r){let n="";const s=t.x.translate/e.x,a=t.y.translate/e.y,o=r?.z||0;if((s||a||o)&&(n=`translate3d(${s}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:y,skewX:v,skewY:k}=r;h&&(n=`perspective(${h}px) ${n}`),p&&(n+=`rotate(${p}deg) `),g&&(n+=`rotateX(${g}deg) `),y&&(n+=`rotateY(${y}deg) `),v&&(n+=`skewX(${v}deg) `),k&&(n+=`skewY(${k}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(n+=`scale(${u}, ${d})`),n||"none"}const Ux=["","X","Y","Z"],qB={visibility:"hidden"},GB=1e3;let KB=0;function zx(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function P5(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=p5(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Wr,!(s||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&P5(n)}function R5({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},u=e?.()){this.id=KB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QB),this.nodes.forEach(rU),this.nodes.forEach(nU),this.nodes.forEach(JB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new DB)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Av),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const d=this.eventHandlers.get(o);d&&d.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=ZS(o)&&!W$(o),this.instance=o;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=OB(g,250),Xf.hasAnimatedSinceResize&&(Xf.hasAnimatedSinceResize=!1,this.nodes.forEach(zE))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||h.getDefaultTransition()||lU,{onLayoutAnimationStart:w,onLayoutAnimationComplete:T}=h.getProps(),D=!this.targetLayout||!I5(this.targetLayout,v),I=!g&&y;if(this.options.layoutRoot||this.resumeFrom||I||g&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,I);const U={...Uv(k,"layout"),onPlay:w,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U)}else g||zE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Uo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&P5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UE);return}this.isUpdating||this.nodes.forEach(eU),this.isUpdating=!1,this.nodes.forEach(tU),this.nodes.forEach(XB),this.nodes.forEach(YB),this.clearAllSnapshots();const u=Es.now();Rn.delta=zi(0,1e3/60,u-Rn.timestamp),Rn.timestamp=u,Rn.isProcessing=!0,Rx.update.process(Rn),Rx.preRender.process(Rn),Rx.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ZB),this.sharedNodes.forEach(aU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!us(this.snapshot.measuredBox.x)&&!us(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!j5(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;o&&this.instance&&(u||wl(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return o&&(d=this.removeTransform(d)),cU(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Zr();const u=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(uU))){const{scroll:h}=this.root;h&&(Zc(u.x,h.offset.x),Zc(u.y,h.offset.y))}return u}removeElementScroll(o){const u=Zr();if(na(u,o),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&na(u,o),Zc(u.x,p.offset.x),Zc(u.y,p.offset.y))}return u}applyTransform(o,u=!1){const d=Zr();na(d,o);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&eu(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),wl(p.latestValues)&&eu(d,p.latestValues)}return wl(this.latestValues)&&eu(d,this.latestValues),d}removeTransform(o){const u=Zr();na(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!wl(h.latestValues))continue;qy(h.latestValues)&&h.updateSnapshot();const p=Zr(),g=h.measurePageBox();na(p,g),FE(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return wl(this.latestValues)&&FE(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Rn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),Wd(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),na(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zr(),this.targetWithTransforms=Zr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):na(this.target,this.layout.layoutBox),_5(this.target,this.targetDelta)):na(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),Wd(this.relativeTargetOrigin,this.target,y.target),na(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qy(this.parent.latestValues)||w5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),u=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;na(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;fB(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Zr());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(RE(this.prevProjectionDelta.x,this.projectionDelta.x),RE(this.prevProjectionDelta.y,this.projectionDelta.y)),Hd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!BE(this.projectionDelta.x,this.prevProjectionDelta.x)||!BE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jc(),this.projectionDelta=Jc(),this.projectionDeltaWithTransform=Jc()}setAnimationOrigin(o,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},g=Jc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=Zr(),v=d?d.source:void 0,k=this.layout?this.layout.source:void 0,w=v!==k,T=this.getStack(),D=!T||T.members.length<=1,I=!!(w&&!D&&this.options.crossfade===!0&&!this.path.some(oU));this.animationProgress=0;let U;this.mixTargetDelta=O=>{const X=O/1e3;HE(g.x,o.x,X),HE(g.y,o.y,X),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),iU(this.relativeTarget,this.relativeTargetOrigin,y,X),U&&zB(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Zr()),na(U,this.relativeTarget)),w&&(this.animationValues=p,LB(p,h,this.latestValues,X,I,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(Uo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wr.update(()=>{Xf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gu(0)),this.currentAnimation=PB(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GB),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=o;if(!(!u||!d||!h)){if(this!==o&&this.layout&&h&&D5(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Zr();const g=us(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+g;const y=us(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+y}na(u,d),eu(u,p),Hd(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new HB),this.sharedNodes.get(o).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&zx("z",o,h,this.animationValues);for(let p=0;p<Ux.length;p++)zx(`rotate${Ux[p]}`,o,h,this.animationValues),zx(`skew${Ux[p]}`,o,h,this.animationValues);o.render();for(const p in h)o.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return qB;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Kf(o?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Kf(o?.pointerEvents)||""),this.hasProjected&&!wl(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=WB(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in p0){if(p[v]===void 0)continue;const{correct:k,applyTo:w,isCSSVariable:T}=p0[v],D=u.transform==="none"?p[v]:k(p[v],h);if(w){const I=w.length;for(let U=0;U<I;U++)u[w[U]]=D}else T?this.options.visualElement.renderState.vars[v]=D:u[v]=D}return this.options.layoutId&&(u.pointerEvents=h===this?Kf(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop(!1)),this.root.nodes.forEach(UE),this.root.sharedNodes.clear()}}}function XB(t){t.updateLayout()}function YB(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?aa(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=us(g);g.min=r[p].min,g.max=g.min+y}):D5(s,e.layoutBox,r)&&aa(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=us(r[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const o=Jc();Hd(o,r,e.layoutBox);const u=Jc();a?Hd(u,t.applyTransform(n,!0),e.measuredBox):Hd(u,r,e.layoutBox);const d=!j5(o);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const v=Zr();Wd(v,e.layoutBox,g.layoutBox);const k=Zr();Wd(k,r,y.layoutBox),I5(v,k)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function QB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function JB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ZB(t){t.clearSnapshot()}function UE(t){t.clearMeasurements()}function eU(t){t.isLayoutDirty=!1}function tU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rU(t){t.resolveTargetDelta()}function nU(t){t.calcProjection()}function sU(t){t.resetSkewAndRotation()}function aU(t){t.removeLeadSnapshot()}function HE(t,e,r){t.translate=Hr(e.translate,0,r),t.scale=Hr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function WE(t,e,r,n){t.min=Hr(e.min,r.min,n),t.max=Hr(e.max,r.max,n)}function iU(t,e,r,n){WE(t.x,e.x,r.x,n),WE(t.y,e.y,r.y,n)}function oU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lU={duration:.45,ease:[.4,0,.1,1]},qE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),GE=qE("applewebkit/")&&!qE("chrome/")?Math.round:oa;function KE(t){t.min=GE(t.min),t.max=GE(t.max)}function cU(t){KE(t.x),KE(t.y)}function D5(t,e,r){return t==="position"||t==="preserve-aspect"&&!dB(VE(e),VE(r),.2)}function uU(t){return t!==t.root&&t.scroll?.wasRoot}const dU=R5({attachResizeListener:(t,e)=>g0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hx={current:void 0},O5=R5({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hx.current){const t=new dU({});t.mount(window),t.setOptions({layoutScroll:!0}),Hx.current=t}return Hx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hU={pan:{Feature:AB},drag:{Feature:SB,ProjectionNode:O5,MeasureLayout:S5}};function XE(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&Wr.postRender(()=>a(e,X0(e)))}class fU extends Zo{mount(){const{current:e}=this.node;e&&(this.unmount=V$(e,(r,n)=>(XE(this.node,n,"Start"),s=>XE(this.node,s,"End"))))}unmount(){}}class pU extends Zo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=q0(g0(this.node.current,"focus",()=>this.onFocus()),g0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function YE(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&Wr.postRender(()=>a(e,X0(e)))}class mU extends Zo{mount(){const{current:e}=this.node;e&&(this.unmount=H$(e,(r,n)=>(YE(this.node,n,"Start"),(s,{success:a})=>YE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xy=new WeakMap,Wx=new WeakMap,gU=t=>{const e=Xy.get(t.target);e&&e(t)},xU=t=>{t.forEach(gU)};function yU({root:t,...e}){const r=t||document;Wx.has(r)||Wx.set(r,{});const n=Wx.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(xU,{root:t,...e})),n[s]}function vU(t,e,r){const n=yU(e);return Xy.set(t,r),n.observe(t),()=>{Xy.delete(t),n.unobserve(t)}}const bU={some:0,all:1};class wU extends Zo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:bU[s]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=h?p:g;y&&y(d)};return vU(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(_U(e,r))&&this.startObserver()}unmount(){}}function _U({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const EU={inView:{Feature:wU},tap:{Feature:mU},focus:{Feature:pU},hover:{Feature:fU}},TU={layout:{ProjectionNode:O5,MeasureLayout:S5}},Yy={current:null},F5={current:!1};function kU(){if(F5.current=!0,!!Ev)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yy.current=t.matches;t.addListener(e),e()}else Yy.current=!1}const NU=new WeakMap;function SU(t,e,r){for(const n in e){const s=e[n],a=r[n];if(Zn(s))t.addValue(n,s);else if(Zn(a))t.addValue(n,gu(s,{owner:t}));else if(a!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,gu(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const QE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AU{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Es.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Wr.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Sm(r),this.isVariantNode=n5(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in g){const v=g[y];d[y]!==void 0&&Zn(v)&&v.set(d[y],!1)}}mount(e){this.current=e,NU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),F5.current||kU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Uo(this.notifyUpdate),Uo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Mu.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Wr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xu){const r=xu[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<QE.length;n++){const s=QE[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=e[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=SU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=gu(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(dS(n)||fS(n))?n=parseFloat(n):!G$(n)&&zo.test(r)&&(n=KS(e,r)),this.setBaseTarget(e,Zn(n)?n.get():n)),Zn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=Zv(this.props,r,this.presenceContext?.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Zn(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Av),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class L5 extends AU{constructor(){super(...arguments),this.KeyframeResolver=O$}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function M5(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const a in r)t.style.setProperty(a,r[a])}function CU(t){return window.getComputedStyle(t)}class jU extends L5{constructor(){super(...arguments),this.type="html",this.renderInstance=M5}readValueFromInstance(e,r){if(Mu.has(r))return this.projection?.isProjecting?Ly(r):e$(e,r);{const n=CU(e),s=(Iv(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return E5(e,r)}build(e,r,n){Yv(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return eb(e,r,n)}}const $5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IU(t,e,r,n){M5(t,e,void 0,n);for(const s in e.attrs)t.setAttribute($5.has(s)?s:Xv(s),e.attrs[s])}class PU extends L5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Mu.has(r)){const n=GS(r);return n&&n.default||0}return r=$5.has(r)?r:Xv(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return f5(e,r,n)}build(e,r,n){c5(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){IU(e,r,n,s)}mount(e){this.isSVGTag=d5(e.tagName),super.mount(e)}}const RU=(t,e)=>Jv(t)?new PU(e):new jU(e,{allowProjection:t!==_.Fragment}),DU=IV({...nB,...EU,...hU,...TU},RU),Z=rV(DU),JE=(t,e,r,n)=>{t.style.transition=`${e} ${r}ms ${n}`},Ai=(t,e,r)=>Math.min(Math.max(t,e),r);class OU{constructor(e,r){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=o=>{const{width:u,height:d}=o,h=Math.sqrt(u**2+d**2);return{width:h,height:h}},this.setSize=o=>{const u=this.calculateGlareSize(o);this.glareEl.style.width=`${u.width}px`,this.glareEl.style.height=`${u.height}px`},this.update=(o,u,d,h)=>{this.updateAngle(o,u.glareReverse),this.updateOpacity(o,u,d,h)},this.updateAngle=(o,u)=>{const{xPercentage:d,yPercentage:h}=o,p=180/Math.PI,g=d?Math.atan2(h,-d)*p:0;this.glareAngle=g-(u?180:0)},this.updateOpacity=(o,u,d,h)=>{const{xPercentage:p,yPercentage:g}=o,{glarePosition:y,glareReverse:v,glareMaxOpacity:k}=u,w=d?-1:1,T=h?-1:1,D=v?-1:1;let I=0;switch(y){case"top":I=-p*w*D;break;case"right":I=g*T*D;break;case"bottom":case void 0:I=p*w*D;break;case"left":I=-g*T*D;break;case"all":I=Math.hypot(p,g)}const U=Ai(I,0,100);this.glareOpacity=U*k/100},this.render=o=>{const{glareColor:u}=o;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${u} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const n={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:r,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},s=this.calculateGlareSize(e),a={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${s.width}px`,height:`${s.height}px`};Object.assign(this.glareWrapperEl.style,n),Object.assign(this.glareEl.style,a)}}class FU{constructor(){this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,r)=>{this.updateTilt(e,r),this.updateTiltManualInput(e,r),this.updateTiltReverse(r),this.updateTiltLimits(r)},this.updateTilt=(e,r)=>{const{xPercentage:n,yPercentage:s}=e,{tiltMaxAngleX:a,tiltMaxAngleY:o}=r;this.tiltAngleX=n*a/100,this.tiltAngleY=s*o/100*-1},this.updateTiltManualInput=(e,r)=>{const{tiltAngleXManual:n,tiltAngleYManual:s,tiltMaxAngleX:a,tiltMaxAngleY:o}=r;(n!==null||s!==null)&&(this.tiltAngleX=n!==null?n:0,this.tiltAngleY=s!==null?s:0,e.xPercentage=100*this.tiltAngleX/a,e.yPercentage=100*this.tiltAngleY/o)},this.updateTiltReverse=e=>{const r=e.tiltReverse?-1:1;this.tiltAngleX=r*this.tiltAngleX,this.tiltAngleY=r*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:r}=e;this.tiltAngleX=Ai(this.tiltAngleX,-90,90),this.tiltAngleY=Ai(this.tiltAngleY,-90,90),r&&(this.tiltAngleX=r==="x"?this.tiltAngleX:0,this.tiltAngleY=r==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:r,tiltMaxAngleY:n}=e;this.tiltAngleXPercentage=this.tiltAngleX/r*100,this.tiltAngleYPercentage=this.tiltAngleY/n*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const LU={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class V5 extends _.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?await e()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:r}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),r&&r({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:r}=this.props;if(this.setTransitions(),r&&r({event:e}),this.props.reset){const n=new CustomEvent("autoreset");this.onMove(n)}},this.processInput=e=>{const{scale:r}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=r;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=r;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=r;break;case"autoreset":{const{tiltAngleXInitial:n,tiltAngleYInitial:s,tiltMaxAngleX:a,tiltMaxAngleY:o}=this.props,u=s/o*100;this.wrapperEl.clientPosition.xPercentage=Ai(n/a*100,-100,100),this.wrapperEl.clientPosition.yPercentage=Ai(u,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:r,tiltMaxAngleY:n}=this.props,s=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/r*100,this.wrapperEl.clientPosition.yPercentage=s/n*100,this.wrapperEl.clientPosition.xPercentage=Ai(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=Ai(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:r,flipVertically:n,flipHorizontally:s}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),r&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,n,s)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let r,n;if(e){const{x:s,y:a}=this.wrapperEl.clientPosition;r=a/window.innerHeight*200-100,n=s/window.innerWidth*200-100}else{const{size:{width:s,height:a,left:o,top:u},clientPosition:{x:d,y:h}}=this.wrapperEl;r=(h-u)/a*200-100,n=(d-o)/s*200-100}this.wrapperEl.clientPosition.xPercentage=Ai(r,-100,100),this.wrapperEl.clientPosition.yPercentage=Ai(n,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:r}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),r&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new FU,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const r=new CustomEvent("initial");this.emitOnMove(r)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),r&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),r&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:r}=this.props;e&&(this.glare=new OU(this.wrapperEl.size,r),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:r}=this.props;if(!r)return;let n=0,s=0;this.glare&&(n=this.glare.glareAngle,s=this.glare.glareOpacity),r({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:n,glareOpacity:s,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:r}=this.props;JE(this.wrapperEl.node,"all",e,r),this.glare&&JE(this.glare.glareEl,"opacity",e,r)}render(){const{children:e,className:r,style:n}=this.props;return i.jsx("div",{ref:s=>{this.wrapperEl.node=s},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:r,style:n,children:e})}}V5.defaultProps=LU;var qx={exports:{}},Gx,ZE;function MU(){if(ZE)return Gx;ZE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gx=t,Gx}var Kx,eT;function $U(){if(eT)return Kx;eT=1;var t=MU();function e(){}function r(){}return r.resetWarningCache=e,Kx=function(){function n(o,u,d,h,p,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function s(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},Kx}var tT;function VU(){return tT||(tT=1,qx.exports=$U()()),qx.exports}var BU=VU();const G=s1(BU);var B5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rT=Ia.createContext&&Ia.createContext(B5),UU=["attr","size","title"];function zU(t,e){if(t==null)return{};var r=HU(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ap.apply(this,arguments)}function nT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Cp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(r),!0).forEach(function(n){WU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WU(t,e,r){return e=qU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qU(t){var e=GU(t,"string");return typeof e=="symbol"?e:e+""}function GU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U5(t){return t&&t.map((e,r)=>Ia.createElement(e.tag,Cp({key:r},e.attr),U5(e.child)))}function Ge(t){return e=>Ia.createElement(KU,Ap({attr:Cp({},t.attr)},e),U5(t.child))}function KU(t){var e=r=>{var{attr:n,size:s,title:a}=t,o=zU(t,UU),u=s||r.size||"1em",d;return r.className&&(d=r.className),t.className&&(d=(d?d+" ":"")+t.className),Ia.createElement("svg",Ap({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:d,style:Cp(Cp({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&Ia.createElement("title",null,a),t.children)};return rT!==void 0?Ia.createElement(rT.Consumer,null,r=>e(r)):e(B5)}function Xl(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function Yl(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Ql(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Am(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function XU(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(t)}function Cm(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Ml(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function YU(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function QU(t){return Ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(t)}function Pd(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function JU(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function ZU(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function ez(t){return Ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function tz(t){return Ge({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function rz(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function ii(t){return Ge({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function sT(t){return Ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function yu(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function $l(t){return Ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function z5(t){return Ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function H5(t){return Ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function rb(t){return Ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function nb(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function Jl(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function nz(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function sz(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function az(t){return Ge({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(t)}function vu(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Qy(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(t)}function bu(t){return Ge({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function Jy(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function wu(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Zl(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function Bn(t){return Ge({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function sb(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function iz(t){return Ge({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function jp(t){return Ge({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function Zy(t){return Ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Vl(t){return Ge({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function _u(t){return Ge({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function oz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function la(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function x0(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function rZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function ab(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function lz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function Eu(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function cz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function jm(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Im(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function ec(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function W5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function aT(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function zs(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function Pm(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function q5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function uz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function dz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function ib(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function nZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(t)}function sZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function Di(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function hz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function G5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function fz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function pz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function K5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(t)}function mz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function Ip(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function Pp(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function ob(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function gz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function zr(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(t)}function aZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function iZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(t)}function xz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function oZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(t)}function y0(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function lZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(t)}function iT(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function X5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function Y5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 1 21 5 17 9"},child:[]},{tag:"path",attr:{d:"M3 11V9a4 4 0 0 1 4-4h14"},child:[]},{tag:"polyline",attr:{points:"7 23 3 19 7 15"},child:[]},{tag:"path",attr:{d:"M21 13v2a4 4 0 0 1-4 4H3"},child:[]}]})(t)}function oi(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function Q5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function Ho(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function Tu(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function J5(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function cZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function lb(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function oT(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function uZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(t)}function Rp(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function yz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function Ns(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function ku(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function dZ(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(t)}function vz(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function qs(t){return Ge({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const tc="/assets/logo-BQdnZbEi.png",bz="/assets/brooklyn99-Cbc4MIzs.png",wz="/assets/stranger-things-D_Jbxodv.png",_z="/assets/breaking-bad-CfDCaybq.png",Ez="/assets/naruto-39Z-HkPE.png",Tz="/assets/alice-Rrj5J7wq.png",kz="/assets/netflix-DaHLFMJQ.png",Nz="/assets/spotify-bWcpnvLH.png",Sz="/assets/disney-CWU7DV5v.png",Az="/assets/max-BIVycyRg.png",Cz="/assets/prime-video-DdoTjLXc.png",jz="/assets/vix-DijISFtY.png",Iz="/assets/Canva-BX7ku0VE.png",Pz="/assets/ChatGPT-B_s2moDj.png",Rz="/assets/crunchyroll-CCcWGZHz.png",Dz="/assets/redessociales-C9h9bjwL.png",Oz="/assets/dgo-BPXOpsxd.png",Fz="/assets/ligamax-DG6Hz7Oj.png",Lz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAB4CAYAAADblO/uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACnFJREFUeNrsnd912zYbh+Gc3FedoPQEVSYINUHUm+bS0gS2JlA8ga0JrF7qyvYElieIMkHYCapvAn+EQEb2sUgR1AsSIJ/nHKU9jkOKIH54/+AFcPby8qIAoNucIXQAhA4ACB0AEDoAIHQAQOgAgNABAKEDAEIHQOgAgNABAKEDAEIHAIQOAAgdABA6ACB0AIQOAAgdABA6AHRX6GdnZ7RiVVZJlP45Tj+D9PM5++k2/fxIPxv1NXqgkeA1UoYYoTcj8En652X6GR75TS36Rfq5TUW/peEAoYchcG29b9JPZPkvk/QzTcW+phEROkL3V+DaNb/L3PRT0GJf0qAIHaH7KfKnCm46YgeEjsjf8CkV+4YGRugIvbsiz2P2TyToEHpdPtCUYtw4ErkmSj9XNDGEadHNvLL+xK9+qq3WJqiMs8mu3zdwp/O0XRK6LRbdf6EbF1dbpwt1fNpJF5AsvBa9eZ6fyhTBuGaZtsWU7o/Q/Rb6KvmmTOGIrSi04KdexqjmmeYN3vF3YnWE7qfQZRJV2mX9y6vsc7PWPGeWtsEtEkDofgl9lQwzkUuIQVuykTdiXyU6BLlp+K5J+vznne7dxks6FLYkCN1HobuxeP6IfZX8VPblrRJ0e159lRzqlKM+lgRLCf2j4+/5pOTdWhMGrJJ2xW4WqkQt3V0nMjeOnitWb2dB6rDeDcgU+XjDR4dCcDmvrMV+n96jzSKSixbf23gXq7tBi/zU5OI86wPbTPSPlPG2ywdHItedxXWBR6SambsuyjvELb63KKtB8J1BNijdpd/3v8wLgs4IvbnpprggceOaSw/e3TiwvjbIBH+f5W4gaKHLxHh2g4qxsE1Z84EnIvscaJ9rqooQHMfo8xaeQ6/9/tTQvSaq2Xnzsli6Scqz3vty5igbhMYl7WQ8sa/RNyQYokVvL3YdZsm/vrjtxhX2KU7Xc9x6INBJN1Omq+f6b0vbERc+WNe9zUz0VRY2uHTbY9XelNrhAc5X9GzI10jPDExLYnZW5AUq9EnLz+Paql949v6G3vcwM61WtLvtFyQYmtCNtRu03vFdZeGNmznx7P2FkpC7LnlfuO+BWXRfRmdXWfiJh+8vDJGYCrkkWK+kA0hm3WOPnku78CPha156+P5CEokWetToYPU2ZzPI2stsbJJ/p54slPko1KADzzpdvKvCkiq79C8J9/q7RYF01ucCYzAsieFt39GX7HrDygNI3TLdw/UiSe0+V3Q9vWrPI4vuo2W5SRvvQagWXjoJpzvWIvtvXoAzr2ndohK3uE9okdTJ4uftP077i34Hs4pHY8Xqfc3I+gRhSl/PSYwee/ji80MUTreYsvG57kijXWcyU1BJtpHEuXK1Ig1sBs37lsqqnSIldF+zv2OBhRSSIp8W7g5jPI86K9LiQPpaUR/xcXCbZxt+EqMfGAl9Rbvwm1pro401nwuKvNwN05Vlq2QdkHhtPaxDSC4zXqv96bTbkkEkP812XNJ373bvoiP78/VB6KdsVCG1+GJpkaR57JzQy5O1Mhbdvm7+YedBFW8Hlsfuyy68gg8CLzGETpmLfVy5Y66SOyWTZEwsXfIuxulXhW3TtsU0oVTR++lM5V6fTmrJd6W5K63GMgPXk2Bsfm3ZmW07vt/VcaatL0usavsYsScH/qYzxTwSrntojTHZffTUm5nbzS1orPbzsHIxo+28qg4vVkmXXPayfQP/8ejbPhzwPCKE/tZShshYud9A4lr1kf3mHDcl/WPt2eaR/3b5lXxU4IpNx7YnvqiQj/kt84iO/Z4OT6bevS+EDjVYdOx5JoLXmnJYZH+Ens9z+lYnL/NsbG9cbMmrlZhKhxPHvIwhQpdHi2D2KxttXsJ9wPH+oeer2yG72uHevnO3otb5gc8VwwgsuiOSd0f/moowvaz0qSNiP8Vtt31+n2PLtTIFQA+NuOqm3FlXMkZIu32hHxaBmVbShQt3gbfppuH4838N3WdmMag0u87bZPlvlJ+bg/RW6MWdRce1q0TPZYe8oODUJJyvHo3Pswh3Fn1mXdLuQ4Qux7EYbZbFVaG68KcmmobC7dltjLs+LjEqi2yQ2hy5TpyFjghdKEYs75ja5VslC9XOQRCni7z52u2+r2GfFxqMoiXBPUSi1t22Y0dHf8OsREoCbM9HgWv8SbesbM2HBf1picjlhe5KkLMA21NiftguZOlW9Z0tRS77NdKWFrp9djWueF0tmnVQIpdx222EvqULi/RJKaLuCt1gI0gb1zQkq/4odB2bZBx7zPlF54WeOOnIJlO67JHb7kvYBPXzBlGXhf7DatSza4xZAC7qpqWdUn70XFbbArGNG3nnh5l0Wei2LmRc+TeNgHxfCdbWBgp9d92LQsY6U7ORUNtfWq9XMAPTF/+Fbp/5/WJ5/W+eu6ltuO3bnmfcy85004c33h/1HM3egHq3oe/KtvTaJPwOiT3fn/Bb4ZZl5r7jbFuzn8os6HJalSdZGbe2sNRxjevPlNyurNJueyIq4GqZ9wcFmusCkeanrzxkIc7m1yBgNsiIBcS1KLj3IPMq5rutxt+GGNWPi/LQdbd1IwfWu8f6O90m/Z0eKg4GzBWbfrE88g7y467us4/+/ysRC3r83rmw41efVkq7JYX+7NR931v1rsfni0rtwA4tr/lLIF+xqeklSdx7qxznW+SEbr9ryLjGPXybbkvENzg01yvbT23K7jXv2kznKz5lXs62hsCn2b9/rnVvc0T3bc3BRb9rfe7eo8smkl69ZhOnR7vspL1QZtkg4cPqtoWjjquX62qLfaH22WCzEsu9JS9yR5vM8I9q3V8nbVeJFtxEmR1mDrnKufV8VO93ol3Wes783DyzGOv1vd8bBnP953f3drzF99nLy8tpFzg7U6++bNHxNmUuqP1IaH8fF2x3I3FHzuaCljEnuL47Nvnl7z9GvsXoqkaMU+/ccTM4tD2HvEDkEAqyQi+eWyxiWHo8Ujlt7gu+rRmTARTxRzhCN9hmoeuVK5r4pq0pphnWHISJQhO6rfte/5BAUzHXdOHIkqw3NCT0xF+h27vv8Yl3nDYYr29UmBtigM+YUt1DQv/XX6EbbKadTnNZ9vOY6wZEPsJlBwdMCn4u1qdlp9f2I5ROsOli/aqJtpHIAo1Voqfcrhy8iNv0+2HJwYU11yWy3w/8jS4C+v1Ufbq16MbqNR/HGjGOBGObdTYIIXKQFvggmzt/EvCKW7Lo+7jje0Wrfi5e8WX2+76okQPQg5RO8P3T+2WgUNerzBfMHCqprXK09K9iLCmL7k7o5qGrVLDpevFzx4kO3ah/quIVS89Z467Fa9ehj0I/JXzcZl7krh+GIXTz4E9HRi822ocuCV2743MJkUsK/UMDj66X8RUJ+RaRQ8eoG4IuM3fdiUfp3qK/d6GjX3Ewa6qhexZd9+/LLEyMVPH08UbtV7IVngngjesOAP6D0AEQOgAgdABA6ACA0AEAoQMAQgcAhA4ACB0AoQMAQgcAhA4ACB0AEDoAIHQAQOgAgNABEDoAIHQAQOgAgNABAKEDAEIHAIQOAAgdAKEjdIDu838BBgAP9Pzi++BqOAAAAABJRU5ErkJggg==",Mz="/assets/youtube-CpBI5AmY.png",$z="/assets/deezer-Dzzytvkp.png",Vz="/assets/tidal-Dvc8GFJF.png",Bz="/assets/vpn-DwO8ctKm.png",Uz="/assets/wintv-DVRyyyXO.png",zz="/assets/applemusic-D9-mG0yd.png",Hz="/assets/appletv-CnHYjknK.png",Wz="/assets/iptv-DuZZIyup.png",qz="/assets/flujotv-BuBDxOy2.png",Gz="/assets/vikirakuten-N9-l2Szt.png",Kz="/assets/pornhub-CExwxEGA.png",Xz="/assets/paramount-BdllqDdm.png",Yz="/assets/licencias-BVJh6MhK.png",Qz="/assets/capcut-CQ2qY_pe.png",Jz="/assets/duolingo-5bYI8P47.png",Zz="/assets/buscapersonas-lxj-Iky8.png",Ed=[{src:bz,title:"Brooklyn Nine-Nine",description:"Comedia policial hilarante"},{src:wz,title:"Stranger Things",description:"Misterio y nostalgia ochentera"},{src:_z,title:"Breaking Bad",description:"Un descenso al mundo del crimen"},{src:Ez,title:"Naruto",description:"Aventuras ninja épicas"},{src:Tz,title:"Alice in Borderland",description:"Juego de supervivencia intenso"}],eH=[{name:"Netflix",logo:kz,route:"/netflix",color:"#E50914"},{name:"Spotify",logo:Nz,route:"/spotify",color:"#1DB954"},{name:"Disney+",logo:Sz,route:"/disney",color:"#113CCF"},{name:"Max",logo:Az,route:"/max",color:"#002BE7"},{name:"Prime Video",logo:Cz,route:"/primevideo",color:"#00A8E1"},{name:"Vix",logo:jz,route:"/vix",color:"#FF2E63"},{name:"Canva",logo:Iz,route:"/canva",color:"#00C4B4"},{name:"ChatGPT",logo:Pz,route:"/chatgpt",color:"#10A37F"},{name:"Crunchyroll",logo:Rz,route:"/crunchyroll",color:"#F47521"},{name:"Redes Sociales",logo:Dz,route:"/redessociales",color:"#3B5998"},{name:"Dgo",logo:Oz,route:"/dgo",color:"#00A1D6"},{name:"Liga Max",logo:Fz,route:"/ligamax",color:"#FFD700"},{name:"Movistar Play",logo:Lz,route:"/movistarplay",color:"#005566"},{name:"Youtube",logo:Mz,route:"/youtube",color:"#FF0000"},{name:"Deezer",logo:$z,route:"/deezer",color:"#FEAA2D"},{name:"Tidal",logo:Vz,route:"/tidal",color:"#000000"},{name:"Vpn",logo:Bz,route:"/vpn",color:"#4CAF50"},{name:"Win Tv",logo:Uz,route:"/wintv",color:"#9C27B0"},{name:"Cine Planet",logo:zz,route:"/applemusic",color:"#FA57C1"},{name:"Apple Tv",logo:Hz,route:"/appletv",color:"#000000"},{name:"Iptv",logo:Wz,route:"/iptv",color:"#607D8B"},{name:"Flujo Tv",logo:qz,route:"/flujotv",color:"#FF5722"},{name:"Viki Rakuten",logo:Gz,route:"/vikirakuten",color:"#D81B60"},{name:"Pornhub",logo:Kz,route:"/pornhub",color:"#FF9000"},{name:"Paramount",logo:Xz,route:"/paramount",color:"#0064D2"},{name:"Licencias",logo:Yz,route:"/licencias",color:"#795548"},{name:"Cap cut",logo:Qz,route:"/capcut",color:"#00C4B4"},{name:"Duolingo",logo:Jz,route:"/duolingo",color:"#58CC02"},{name:"Busca Personas",logo:Zz,route:"/buscapersonas",color:"#3F51B5"}],tH=(t,e=5e3)=>{const[r,n]=_.useState(0),[s,a]=_.useState(0),[o,u]=_.useState(!1);_.useEffect(()=>{if(o)return;const g=setInterval(()=>{a(v=>v>=100?0:v+100/(e/100))},100),y=setInterval(()=>{n(v=>(v+1)%t.length),a(0)},e);return()=>{clearInterval(g),clearInterval(y)}},[o,t.length,e]);const d=_.useCallback(g=>{n(g),a(0)},[]),h=_.useCallback(()=>{n(g=>(g-1+t.length)%t.length),a(0)},[t.length]),p=_.useCallback(()=>{n(g=>(g+1)%t.length),a(0)},[t.length]);return{currentIndex:r,progress:s,isPaused:o,setIsPaused:u,goToSlide:d,prevSlide:h,nextSlide:p}},Z5=_.memo(({platform:t,theme:e})=>i.jsx(V5,{tiltMaxAngleX:8,tiltMaxAngleY:8,scale:1.03,transitionSpeed:300,children:i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`${e==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-xl overflow-hidden shadow-md cursor-pointer hover:shadow-xl hover:border-blue-500/50 transition-all duration-300 relative`,children:i.jsxs(_s,{to:t.route,title:t.name,className:"block",children:[i.jsx("img",{src:t.logo,alt:t.name,className:`w-full h-24 sm:h-28 lg:h-32 object-contain p-4 ${e==="dark"?"bg-white/95":"bg-gray-50/95"} transition-transform duration-300 hover:scale-105`,loading:"lazy"}),i.jsx("div",{className:"p-3 text-center",style:{background:`linear-gradient(180deg, ${t.color}20, ${t.color}50)`},children:i.jsx("h3",{className:`font-semibold text-sm sm:text-base ${e==="dark"?"text-gray-100":"text-gray-900"} tracking-tight`,children:t.name})})]})})}));Z5.propTypes={platform:G.shape({name:G.string.isRequired,logo:G.string.isRequired,route:G.string.isRequired,color:G.string.isRequired}).isRequired,theme:G.string.isRequired};const e6=_.memo(({show:t,onClose:e,notifications:r,theme:n})=>{const s=n==="dark",a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},o=u=>u.toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return i.jsx(Vt,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(Z.div,{variants:a,initial:"hidden",animate:"visible",exit:"hidden",className:`w-full max-w-md mx-4 ${s?"bg-gray-900/95 border-gray-700/50":"bg-white/95 border-gray-200/50"} rounded-2xl shadow-2xl p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md`,onClick:u=>u.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar notificaciones",children:i.jsx(Bn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-2xl font-bold mb-6 ${s?"text-white":"text-gray-900"} bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Notificaciones"}),r.length>0?r.map(u=>i.jsxs(Z.div,{variants:a,initial:"hidden",animate:"visible",whileHover:"hover",className:`border-b py-3 last:border-0 rounded-xl px-2 transition-all duration-300 ${s?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,children:[i.jsx("p",{className:`${s?"text-gray-300":"text-gray-700"}`,children:u.message}),i.jsx("p",{className:`text-xs mt-1 ${s?"text-gray-400":"text-gray-500"}`,children:o(u.updatedAt?.toDate?.()||new Date)})]},u.id)):i.jsx("p",{className:`py-2 ${s?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})]})})})});e6.propTypes={show:G.bool.isRequired,onClose:G.func.isRequired,notifications:G.arrayOf(G.shape({id:G.string.isRequired,message:G.string.isRequired,updatedAt:G.object})).isRequired,theme:G.string.isRequired};const t6=_.memo(({isOpen:t,message:e,onClose:r,theme:n})=>i.jsx(Vt,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:r,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${n==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${n==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:s=>s.stopPropagation(),children:[i.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(Bn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${n==="dark"?"text-white":"text-gray-900"}`,children:"Notificación"}),i.jsx("p",{className:`text-sm ${n==="dark"?"text-gray-300":"text-gray-700"}`,children:e})]})})}));t6.propTypes={isOpen:G.bool.isRequired,message:G.string.isRequired,onClose:G.func.isRequired,theme:G.string.isRequired};const r6=()=>{const{currentIndex:t,progress:e,setIsPaused:r,goToSlide:n,prevSlide:s,nextSlide:a}=tH(Ed,5e3),[o,u]=_.useState(""),[d,h]=_.useState(null),[p,g]=_.useState(0),[y,v]=_.useState(null),[k,w]=_.useState(!1),[T,D]=_.useState(!1),[I,U]=_.useState("dark"),[O,X]=_.useState(!1),[B,A]=_.useState(!1),[S,C]=_.useState([]),[R,F]=_.useState([]),[W,M]=_.useState([]),[Se,Ie]=_.useState([]),[$e,Le]=_.useState(null),[_e,ie]=_.useState(!1),[de,se]=_.useState(null),[V,te]=_.useState(null),[re,ne]=_.useState(!1),[ee,Oe]=_.useState(null),[Be,Ae]=_.useState({}),Fe=Ma(),it=_.useRef(null);_.useEffect(()=>{const Q=Kl(tn,Te=>{h(Te),Te?(yt(Te.uid),Wt(Te.uid)):(g(0),v(null),C([]))});return()=>Q()},[]);const yt=async Q=>{try{const Te=await ei(ht(je,"users",Q));if(Te.exists()){g(Te.data().balance||0),v(Te.data().role);const ft=Te.data().username||"Usuario";h(be=>({...be,username:ft,id:Q,name:ft,phone:Te.data().phone||""}))}}catch(Te){console.error("Error fetching user data:",Te)}},Wt=async Q=>{try{const Te=tr(kt(je,"users",Q,"notifications"),iv("updatedAt","desc")),be=(await rn(Te)).docs.map(ke=>({id:ke.id,message:ke.data().message||"Sin mensaje",updatedAt:ke.data().updatedAt}));C(be)}catch(Te){console.error("Error fetching notifications:",Te)}};_.useEffect(()=>{(async()=>{try{const Te=tr(kt(je,"products")),be=(await rn(Te)).docs.map(ke=>{const Me=ke.data(),Ze=Me.accounts||[];return{id:ke.id,...Me,price:Number(Me.price)||0,stock:Ze.length,accountDetails:Me.email||Me.details||"Detalles no disponibles",terms:Me.terms||"Términos del proveedor",provider:Me.provider||"Anon",providerId:Me.providerId||"",providerPhone:Me.providerPhone||"",acceptsOrders:Me.status==="A pedido",duration:Me.duration||"1 mes",accountType:Me.accountType||"No especificado",status:Me.status||"En stock",image:Me.image||"https://via.placeholder.com/300",renewal:Me.renewal||!1,renewalPrice:Number(Me.renewalPrice)||Number(Me.price)*.9,accounts:Ze,category:Me.category||"General"}});M(be)}catch(Te){console.error("Error fetching all products:",Te)}})()},[]),_.useEffect(()=>{(async()=>{try{const Te=tr(kt(je,"sales"),_3(200)),ft=await rn(Te),be={};ft.docs.forEach(vt=>{const at=vt.data().productId;be[at]=(be[at]||0)+1});const Me=Object.keys(be).sort((vt,Nt)=>be[Nt]-be[vt]).slice(0,20).map(async vt=>{const Nt=await ei(ht(je,"products",vt));if(Nt.exists()){const at=Nt.data(),ot=at.accounts||[];let et={provider:at.provider||"Anon",providerPhone:at.providerPhone||""};if(at.providerId){const Tt=await ei(ht(je,"users",at.providerId));Tt.exists()&&(et.provider=Tt.data().username||Tt.data().email||at.provider,et.providerPhone=Tt.data().phoneNumber||at.providerPhone)}return{id:vt,...at,category:at.category,price:Number(at.price)||0,stock:ot.length,accountDetails:at.email||at.details||"Detalles no disponibles",terms:at.terms||"Términos del proveedor",...et,acceptsOrders:at.status==="A pedido",duration:at.duration||"1 mes",accountType:at.accountType||"No especificado",status:at.status||"En stock",image:at.image||"https://via.placeholder.com/300",renewal:at.renewal||!1,renewalPrice:Number(at.renewalPrice)||Number(at.price)*.9,accounts:ot}}return null}),Ze=await Promise.all(Me);F(Ze.filter(vt=>vt))}catch(Te){console.error("Error fetching top products:",Te)}})()},[]),_.useEffect(()=>{if(o.trim()){const Q=W.filter(Te=>Te.name.toLowerCase().includes(o.toLowerCase())||Te.provider.toLowerCase().includes(o.toLowerCase()));Ie(Q)}else Ie([])},[o,W]),_.useEffect(()=>{const Q=tr(kt(je,"ratings"));return hr(Q,ft=>{const be={};ft.docs.forEach(Me=>{const Ze=Me.data(),vt=Ze.providerId;be[vt]||(be[vt]=[]),be[vt].push(Number(Ze.rating)||0)});const ke={};Object.keys(be).forEach(Me=>{const Ze=be[Me];ke[Me]=Ze.length?Ze.reduce((vt,Nt)=>vt+Nt,0)/Ze.length:1,ke[Me]=Math.min(Math.max(ke[Me],1),5)}),Ae(ke)},ft=>{console.error("Error al cargar calificaciones:",ft)})},[]);const De=_.useCallback(Q=>{if(!Q)return 30;if(typeof Q=="number")return Q;if(typeof Q!="string")return 30;const Te=Q.match(/(\d+)\s*(mes|meses)/i);if(Te)return parseInt(Te[1],10)*30;const ft=Q.match(/(\d+)\s*(día|días|dia|dias)/i);if(ft)return parseInt(ft[1],10);const be=Q.match(/(\d+)/);return be?parseInt(be[1],10):30},[]),fr=_.useCallback(Q=>{const Te=Number(Q);return isNaN(Te)?"0.00":Te.toFixed(2)},[]),Mt=_.useCallback(Q=>{const Te=Math.floor(Q),ft=5-Te;return i.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(Te)].map((be,ke)=>i.jsx(Tu,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${ke}`)),[...Array(ft)].map((be,ke)=>i.jsx(Tu,{className:I==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${ke}`))]})},[I]),Pe=_.useCallback(Q=>Q.status==="A pedido"?i.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:i.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(Q.stock)>0?i.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:i.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",Q.stock]})}):i.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:i.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),[]),pr=_.useCallback(Q=>{if(se(null),!d){Oe({message:"Por favor, inicia sesión para realizar una compra en BlackStreaming.",onClose:()=>Fe("/login")});return}if(y==="provider"){Oe({message:"Los proveedores no pueden realizar compras en BlackStreaming."});return}if(p<Q.price){Oe({message:"Saldo insuficiente para realizar esta compra."});return}if(!Q.providerId||Q.providerId===""){Oe({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de BlackStreaming."});return}Le({product:Q,customerName:d.name,phoneNumber:""})},[d,p,y,Fe]),$t=_.useCallback(async()=>{if(!document.getElementById("termsCheck").checked){se("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test($e.phoneNumber)){se("El número de WhatsApp debe tener 9 dígitos");return}try{ie(!0),se(null);const Q=$e.product,Te=De(Q.duration),ft=Q.category||"general";if(!Q.providerId||Q.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let be=null;Q.status==="En stock"?be=await Sy(je,async ke=>{const Me=ht(je,"products",Q.id),Ze=await ke.get(Me);if(!Ze.exists())throw new Error("Producto no encontrado");const Nt=Ze.data().accounts||[];if(Nt.length===0)throw new Error("No hay cuentas disponibles para este producto");const at=Nt[0],ot=Nt.slice(1),et=ht(je,"users",d.id),Tt=await ke.get(et);if(!Tt.exists())throw new Error("Usuario no encontrado");const Bt=ht(je,"users",Q.providerId),Kt=await ke.get(Bt);if(!Kt.exists())throw new Error("Proveedor no encontrado");const Ir=ht(je,"providerBalances",Q.providerId),$r=await ke.get(Ir);let dn=0;$r.exists()?dn=parseFloat($r.data().balance)||0:ke.set(Ir,{balance:0,provider:Q.providerId,updatedAt:wr()});let cr=Q.providerPhone||"";cr||(cr=Kt.data().phoneNumber||"");const Wn={accounts:ot,stock:ot.length};ot.length===0&&(Wn.status="Agotado"),ke.update(Me,Wn);const hn=(Number(Tt.data().balance)||0)-Q.price;if(hn<0)throw new Error("Saldo insuficiente");const Tr=Tt.data().orderIds||[],yn={productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:cr,status:"active",customerName:$e.customerName,customerId:d.id,phoneNumber:$e.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,createdAt:new Date().toISOString(),accountDetails:{email:at.email||"No proporcionado",password:at.password||"No proporcionado",profile:at.profile||"No proporcionado",pin:at.pin||"No proporcionado"},terms:Q.terms,duration:Q.duration,durationDays:Te,type:ft},ve=kt(je,"users",d.id,"orders"),Ne=ht(ve);ke.set(Ne,{...yn,id:Ne.id}),ke.update(et,{balance:hn,orderIds:[...Tr,Ne.id]});const z=(Number(Kt.data().balance)||0)+Q.price,H=Kt.data().salesIds||[],K={saleId:ht(kt(je,"sales")).id,productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:cr,customerId:d.id,customerName:$e.customerName,customerPhone:$e.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,accountDetails:{email:at.email||"No proporcionado",password:at.password||"No proporcionado",profile:at.profile||"No proporcionado",pin:at.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:Q.terms,duration:Q.duration,durationDays:Te,generalDetails:Q.accountDetails,productUrl:Q.image},J=kt(je,"users",Q.providerId,"sales"),Y=ht(J);ke.set(Y,{...K,id:Y.id}),ke.update(Bt,{balance:z,salesIds:[...H,Y.id]});const ue=dn+Q.price;ke.set(Ir,{balance:ue,provider:Q.providerId,updatedAt:wr()},{merge:!0});const me=ht(kt(je,"sales"));return ke.set(me,{...yn,provider:Q.provider,providerId:Q.providerId,providerPhone:cr,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:at.email||"No proporcionado",password:at.password||"No proporcionado",profile:at.profile||"No proporcionado",pin:at.pin||"No proporcionado"},saleId:K.saleId,terms:Q.terms,duration:Q.duration,durationDays:Te,generalDetails:Q.accountDetails,productUrl:Q.image}),at}):await Sy(je,async ke=>{const Me=ht(je,"users",d.id),Ze=await ke.get(Me);if(!Ze.exists())throw new Error("Usuario no encontrado");const vt=ht(je,"users",Q.providerId),Nt=await ke.get(vt);if(!Nt.exists())throw new Error("Proveedor no encontrado");const at=ht(je,"providerBalances",Q.providerId),ot=await ke.get(at);let et=0;ot.exists()?et=parseFloat(ot.data().balance)||0:ke.set(at,{balance:0,provider:Q.providerId,updatedAt:wr()});let Tt=Q.providerPhone||"";Tt||(Tt=Nt.data().phoneNumber||"");const Kt=(Number(Ze.data().balance)||0)-Q.price;if(Kt<0)throw new Error("Saldo insuficiente");const Ir=Ze.data().orderIds||[],$r={productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:Tt,status:"pending",customerName:$e.customerName,customerId:d.id,phoneNumber:$e.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:Q.terms,duration:Q.duration,durationDays:Te,type:ft},dn=kt(je,"users",d.id,"orders"),cr=ht(dn);ke.set(cr,{...$r,id:cr.id}),ke.update(Me,{balance:Kt,orderIds:[...Ir,cr.id]});const ur=(Number(Nt.data().balance)||0)+Q.price,hn=Nt.data().salesIds||[],Tr={saleId:ht(kt(je,"sales")).id,productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:Tt,customerId:d.id,customerName:$e.customerName,customerPhone:$e.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,accountDetails:null,status:"pending",terms:Q.terms,duration:Q.duration,durationDays:Te,generalDetails:Q.accountDetails,productUrl:Q.image},yn=kt(je,"users",Q.providerId,"sales"),ve=ht(yn);ke.set(ve,{...Tr,id:ve.id}),ke.update(vt,{balance:ur,salesIds:[...hn,ve.id]});const Ne=et+Q.price;ke.set(at,{balance:Ne,provider:Q.providerId,updatedAt:wr()},{merge:!0});const P=ht(kt(je,"sales"));ke.set(P,{...$r,provider:Q.provider,providerId:Q.providerId,providerPhone:Tt,saleDate:new Date().toISOString(),status:"pending",saleId:Tr.saleId,terms:Q.terms,duration:Q.duration,durationDays:Te,generalDetails:Q.accountDetails,productUrl:Q.image})}),g(ke=>ke-Q.price),Le(null),Oe({message:Q.status==="En stock"?"¡Compra realizada con éxito! Revisa tu panel para mas información.":"¡Pedido realizado con éxito! Revisa tu panel para mas información."})}catch(Q){se(Q.message||"Error al procesar la compra"),console.error("Error en la compra:",Q)}finally{ie(!1)}},[$e,d,De]),Gt=_.useCallback(Q=>{te({name:Q.name,accountDetails:Q.accountDetails,provider:Q.provider,terms:Q.terms,accountType:Q.accountType})},[]),le=_.useCallback(Q=>{te({name:Q.name,terms:Q.terms,provider:Q.provider,accountType:Q.accountType}),ne(!0)},[]);_.useEffect(()=>{const Q=()=>{D(window.scrollY>300)};return window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)},[]),_.useEffect(()=>{const Q=it.current;let Te=0;const ft=ke=>{Te=ke.touches[0].clientX,r(!0)},be=ke=>{const Me=ke.changedTouches[0].clientX;Te-Me>50&&a(),Me-Te>50&&s(),setTimeout(()=>r(!1),500)};return Q?.addEventListener("touchstart",ft),Q?.addEventListener("touchend",be),()=>{Q?.removeEventListener("touchstart",ft),Q?.removeEventListener("touchend",be)}},[s,a,r]);const Ye=_.useCallback(Q=>{Q.preventDefault()},[]),ct=_.useCallback(async()=>{try{await z0(tn),Fe("/")}catch(Q){console.error("Error signing out:",Q)}},[Fe]),ut=_.useCallback(()=>{U(Q=>Q==="dark"?"light":"dark")},[]),At=_.useCallback(Q=>Q?Q.split(" ").map(ft=>ft[0]).join("").slice(0,2).toUpperCase():"U",[]),wt=_.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),st=_.useCallback(()=>{switch(y){case"admin":return"/dashboard/admin";case"provider":return"/dashboard/provider";default:return"/dashboard/user"}},[y]),gt=_.useCallback(Q=>{if(!y){Q.preventDefault();const Te={id:Date.now().toString(),message:"Usuario no activado",updatedAt:new Date};return C(ft=>[...ft,Te]),A(!0),!1}return!0},[y]),ir=o?Se:R;return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${I==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col font-inter relative overflow-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${I==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((Q,Te)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Te))})]}),i.jsxs("header",{className:`${I==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-4 px-4 sm:px-6 flex items-center justify-between shadow-lg fixed top-0 left-0 right-0 z-50 transition-all duration-300`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Z.img,{src:tc,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${I==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-md hidden lg:block",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar productos y proveedores...",value:o,onChange:Q=>u(Q.target.value),className:`w-full py-2.5 px-5 ${I==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${I==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar productos y proveedores",onKeyDown:Q=>Q.key==="Enter"&&Ye(Q)}),i.jsx("button",{onClick:Ye,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${I==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:i.jsx(vu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-3 relative",children:[i.jsx("button",{onClick:ut,className:`p-2 rounded-full ${I==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${I==="dark"?"claro":"oscuro"}`,children:I==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})}),d&&i.jsxs("button",{onClick:()=>A(!0),className:`p-2 rounded-full relative ${I==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Notificaciones (${S.length} nuevas)`,children:[i.jsx(Ml,{size:20}),S.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:S.length})]}),i.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition duration-300",onClick:()=>X(!O),"aria-label":"Abrir menú móvil","aria-expanded":O,children:i.jsx(Cm,{size:20,className:I==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:d?i.jsxs("div",{className:"relative flex items-center space-x-4",children:[i.jsx(Z.div,{className:`flex items-center space-x-2 ${I==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,whileHover:{scale:1.05},children:i.jsxs("span",{className:"text-sm font-semibold",children:["S/. ",p.toFixed(2)]})}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>w(!k),className:`flex items-center space-x-2 ${I==="dark"?"bg-gray-800/30 border-gray-600/30":"bg-gray-100/80 border-gray-200/30"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,"aria-label":"Menú de usuario","aria-haspopup":"true","aria-expanded":k,children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:d.photoURL?i.jsx("img",{src:d.photoURL,alt:"Avatar de usuario",className:"h-full w-full rounded-full",loading:"lazy"}):At(d.username||d.email)}),i.jsx("span",{className:`text-sm font-semibold ${I==="dark"?"text-gray-200":"text-gray-800"} truncate max-w-[120px]`,children:d.username||"Usuario"}),i.jsx(QU,{className:`ml-1 ${I==="dark"?"text-gray-400":"text-gray-600"}`,size:14})]}),i.jsx(Vt,{children:k&&i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`absolute right-0 mt-2 w-56 ${I==="dark"?"bg-gray-900/95 border-gray-600/30":"bg-white/95 border-gray-200/30"} backdrop-blur-xl rounded-lg shadow-xl py-3 z-50`,role:"menu",children:[i.jsxs(_s,{to:st(),className:`w-full text-left px-4 py-2 text-sm hover:${I==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,onClick:Q=>{gt(Q),w(!1)},role:"menuitem","aria-label":"Ir al dashboard",children:[i.jsx(jp,{className:"mr-2"})," Dashboard"]}),i.jsxs("button",{onClick:ct,className:`w-full text-left px-4 py-2 text-sm hover:${I==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[i.jsx(wu,{className:"mr-2"})," Cerrar Sesión"]})]})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(_s,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${I==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Iniciar sesión",children:[i.jsx(Jy,{className:"mr-2"})," Ingresar"]}),i.jsxs(_s,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${I==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Registrarse",children:[i.jsx(Zy,{className:"mr-2"})," Registrarse"]})]})})]}),i.jsx(Vt,{children:O&&i.jsx(Z.nav,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},className:`lg:hidden absolute top-full left-0 right-0 ${I==="dark"?"bg-gray-900/95":"bg-white/95"} backdrop-blur-xl shadow-lg z-40 p-6`,role:"menu","aria-label":"Menú móvil",children:i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar productos y proveedores...",value:o,onChange:Q=>u(Q.target.value),className:`w-full py-2.5 px-5 ${I==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${I==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar productos y proveedores",onKeyDown:Q=>Q.key==="Enter"&&Ye(Q)}),i.jsx("button",{onClick:Ye,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${I==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:i.jsx(vu,{size:18})})]}),d&&i.jsxs("button",{onClick:()=>{A(!0),X(!1)},className:`text-sm flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ver notificaciones",children:[i.jsx(Ml,{className:"mr-2"})," Notificaciones"]}),d?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} font-medium`,children:["Saldo: S/. ",p.toFixed(2)]}),i.jsxs(_s,{to:st(),className:`text-sm flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,onClick:Q=>{gt(Q)&&X(!1)},role:"menuitem","aria-label":"Ir al dashboard",children:[i.jsx(jp,{className:"mr-2"})," Dashboard"]}),i.jsxs("button",{onClick:()=>{ct(),X(!1)},className:`text-sm flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[i.jsx(wu,{className:"mr-2"})," Cerrar Sesión"]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(_s,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${I==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>X(!1),role:"menuitem","aria-label":"Iniciar sesión",children:[i.jsx(Jy,{className:"mr-2"})," Ingresar"]}),i.jsxs(_s,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${I==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>X(!1),role:"menuitem","aria-label":"Registrarse",children:[i.jsx(Zy,{className:"mr-2"})," Registrarse"]})]})]})})})]}),i.jsx(e6,{show:B&&!!d,onClose:()=>A(!1),notifications:S,theme:I}),i.jsx(t6,{isOpen:!!ee,message:ee?.message||"",onClose:()=>{ee?.onClose&&ee.onClose(),Oe(null)},theme:I}),i.jsx(Vt,{children:$e&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>Le(null),role:"dialog","aria-labelledby":"purchase-modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${I==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${I==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>Le(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar modal de compra",children:i.jsx(Bn,{size:20})}),i.jsx("h2",{id:"purchase-modal-title",className:`text-xl font-bold mb-4 ${I==="dark"?"text-white":"text-gray-900"}`,children:"Confirmar Compra"}),i.jsxs("p",{className:`mb-4 ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:["Estás a punto de comprar: ",i.jsx("strong",{children:$e.product.name})]}),i.jsxs("p",{className:`mb-4 ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:["Precio: S/. ",fr($e.product.price)]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"customerName",className:`block text-sm font-medium ${I==="dark"?"text-gray-300":"text-gray-700"} mb-1`,children:"Nombre"}),i.jsx("input",{id:"customerName",type:"text",value:$e.customerName,onChange:Q=>Le({...$e,customerName:Q.target.value}),className:`w-full py-2 px-3 rounded-lg ${I==="dark"?"bg-gray-800/50 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50`,"aria-required":"true"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"phoneNumber",className:`block text-sm font-medium ${I==="dark"?"text-gray-300":"text-gray-700"} mb-1`,children:"Número de WhatsApp"}),i.jsx("input",{id:"phoneNumber",type:"tel",value:$e.phoneNumber,onChange:Q=>Le({...$e,phoneNumber:Q.target.value}),className:`w-full py-2 px-3 rounded-lg ${I==="dark"?"bg-gray-800/50 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50`,placeholder:"9 dígitos",pattern:"\\d{9}","aria-required":"true"})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{id:"termsCheck",type:"checkbox",className:"h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-300 rounded","aria-required":"true"}),i.jsxs("span",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:["Acepto los"," ",i.jsx("button",{type:"button",onClick:()=>{le($e.product)},className:"underline text-blue-500 hover:text-blue-400",children:"términos y condiciones"})]})]})}),de&&i.jsx("p",{className:`text-red-400 text-sm mb-4 ${I==="dark"?"text-red-300":"text-red-500"}`,children:de}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Le(null),className:`flex-1 py-2 px-4 rounded-xl ${I==="dark"?"bg-gray-700/50 hover:bg-gray-600/50 text-gray-200 border-gray-600/30":"bg-gray-200 hover:bg-gray-300 text-gray-800 border-gray-300"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cancelar compra",children:"Cancelar"}),i.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:$t,disabled:_e,className:`flex-1 py-2 px-4 rounded-xl ${_e?"bg-gray-500/50 cursor-not-allowed text-gray-400":I==="dark"?"bg-green-600/90 hover:bg-green-700/95 text-white border-green-500/30":"bg-green-500/90 hover:bg-green-600/95 text-white border-green-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300 flex items-center justify-center gap-2`,"aria-label":"Confirmar compra",children:_e?i.jsxs(i.Fragment,{children:[i.jsx(mz,{className:"animate-spin",size:16}),"Procesando..."]}):"Confirmar"})]})]})})}),i.jsx(Vt,{children:V&&!re&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>te(null),role:"dialog","aria-labelledby":"detail-modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${I==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${I==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>te(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar detalles",children:i.jsx(Bn,{size:20})}),i.jsxs("h2",{id:"detail-modal-title",className:`text-xl font-bold mb-4 ${I==="dark"?"text-white":"text-gray-900"}`,children:["Detalles de ",V.name]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:[i.jsx("strong",{children:"Tipo de Cuenta:"})," ",V.accountType]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Proveedor:"})," ",V.provider]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Detalles:"})," ",V.accountDetails]}),i.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>te(null),className:`mt-6 w-full py-2 px-4 rounded-xl ${I==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar detalles",children:"Cerrar"})]})})}),i.jsx(Vt,{children:re&&V&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>{ne(!1),te(null)},role:"dialog","aria-labelledby":"terms-modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${I==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${I==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>{ne(!1),te(null)},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar términos",children:i.jsx(Bn,{size:20})}),i.jsx("h2",{id:"terms-modal-title",className:`text-xl font-bold mb-4 ${I==="dark"?"text-white":"text-gray-900"}`,children:"Términos y Condiciones"}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:[i.jsx("strong",{children:"Producto:"})," ",V.name]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Proveedor:"})," ",V.provider]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Términos:"})," ",V.terms]}),i.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne(!1),te(null)},className:`mt-6 w-full py-2 px-4 rounded-xl ${I==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar términos",children:"Cerrar"})]})})}),i.jsxs("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 py-10 pt-24 relative z-10",children:[!o&&i.jsxs("section",{ref:it,className:"relative h-64 sm:h-80 md:h-96 lg:h-[600px] mb-12 overflow-hidden rounded-2xl shadow-2xl",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),role:"region","aria-label":"Carrusel de contenido destacado",children:[i.jsx(Vt,{initial:!1,children:i.jsx(Z.div,{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${Ed[t].src})`},initial:{opacity:0,x:300,scale:1.1},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-300,scale:1.1},transition:{duration:.8,ease:"easeInOut"},children:i.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t ${I==="dark"?"from-black/90 via-black/60 to-transparent":"from-white/90 via-white/60 to-transparent"} flex flex-col justify-end p-6 sm:p-8 md:p-10 lg:p-12`,children:[i.jsx(Z.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:`text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-extrabold mb-2 bg-clip-text text-transparent bg-gradient-to-r ${I==="dark"?"from-white to-gray-200":"from-gray-900 to-gray-700"} tracking-tight drop-shadow-md`,children:Ed[t].title}),i.jsx(Z.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},className:`text-sm sm:text-base md:text-lg lg:text-xl max-w-md ${I==="dark"?"text-gray-300":"text-gray-700"} font-medium drop-shadow-sm`,children:Ed[t].description})]})},t)}),i.jsx("button",{onClick:s,className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${I==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva anterior",children:i.jsx(ez,{size:20})}),i.jsx("button",{onClick:a,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${I==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva siguiente",children:i.jsx(tz,{size:20})}),i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",role:"tablist",children:Ed.map((Q,Te)=>i.jsx("button",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-300 ${t===Te?"bg-blue-500 scale-125":I==="dark"?"bg-gray-500/50":"bg-gray-400/50"} focus:outline-none focus:ring-2 focus:ring-blue-500`,onClick:()=>n(Te),role:"tab","aria-selected":t===Te,"aria-label":`Ir a diapositiva ${Te+1}`},Te))}),i.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 ${I==="dark"?"bg-gray-800/50":"bg-gray-200/50"}`,children:i.jsx(Z.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600",style:{width:`${e}%`},initial:{width:0},animate:{width:`${e}%`},transition:{duration:.1}})})]}),!o&&i.jsxs("section",{className:"relative",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600 tracking-tight",children:"Categorías de Plataformas"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4 sm:gap-6 lg:gap-8",children:eH.map((Q,Te)=>i.jsx(Z5,{platform:Q,theme:I},Te))})]}),i.jsxs("section",{className:"mt-16 relative",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600 tracking-tight",children:o?"Resultados de Búsqueda":"Productos Más Vendidos"}),ir.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:ir.map(Q=>{const Te=/^\d+$/.test(Q.duration||"")?`${Q.duration} días`:Q.duration||"1 mes";return i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`relative group rounded-2xl overflow-hidden border-2 ${I==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-blue-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-purple-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[i.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[i.jsx(Z.img,{whileHover:{scale:1.1},src:Q.image,alt:Q.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"},loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Pe(Q)]}),i.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${I==="dark"?"text-blue-400 bg-blue-500/20":"text-purple-600 bg-purple-600/20"} px-2 py-0.5 rounded-md`,children:Q.accountType}),i.jsxs("span",{className:`text-xs flex items-center gap-1 ${I==="dark"?"text-gray-400":"text-gray-600"}`,children:[i.jsx(ec,{className:"text-blue-500",size:13}),Te]})]}),i.jsx("h3",{className:`font-extrabold text-lg ${I==="dark"?"text-white":"text-gray-900"} mb-2 truncate leading-tight drop-shadow`,children:Q.name}),i.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[Mt(Be[Q.providerId]||1),i.jsx("span",{className:`ml-1 text-xs ${I==="dark"?"text-gray-400":"text-gray-600"}`,children:(Be[Q.providerId]||1).toFixed(1)})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsxs("span",{className:`flex items-center text-xs ${I==="dark"?"text-gray-300":"text-gray-600"} gap-1`,children:[i.jsx(yz,{className:"text-blue-500",size:13}),Q.provider]}),i.jsxs("span",{className:`flex items-center text-xs ${I==="dark"?"text-gray-400":"text-gray-600"} gap-1`,children:[i.jsx(oz,{className:"text-blue-500",size:13}),Q.status]})]}),i.jsx("div",{className:"flex items-center mb-2",children:Q.renewal?i.jsxs("span",{className:"text-green-500 text-xs font-medium",children:["Renovación S/. ",fr(Q.renewalPrice)]}):i.jsx("span",{className:"text-yellow-500 text-xs font-medium",children:"Sin renovación"})}),i.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[i.jsx("div",{className:"flex items-end justify-between mb-2",children:i.jsxs("span",{className:`font-bold text-xl tracking-tight drop-shadow ${I==="dark"?"text-blue-400":"text-purple-600"}`,children:["S/. ",fr(Q.price)]})}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Gt(Q),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${I==="dark"?"bg-gray-800/60 hover:bg-blue-500/20":"bg-gray-200/60 hover:bg-purple-600/20"} text-gray-100 transition-all border border-blue-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[i.jsx(fz,{className:"text-blue-500",size:14}),i.jsx("span",{children:"Detalles"})]}),i.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>le(Q),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${I==="dark"?"bg-gray-800/60 hover:bg-blue-500/20":"bg-gray-200/60 hover:bg-purple-600/20"} text-gray-100 transition-all border border-blue-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[i.jsx(ib,{className:"text-blue-500",size:14}),i.jsx("span",{children:"Términos"})]})]}),i.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pr(Q),className:`w-full py-2 px-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 shadow-lg transition-all duration-200 ${Number(Q.stock)>0||Q.status==="A pedido"?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white":"bg-gray-800/60 text-gray-400 cursor-not-allowed"}`,disabled:Number(Q.stock)<=0&&Q.status!=="A pedido",children:[i.jsx(Ho,{size:16}),Q.status==="A pedido"?"Pedir Ahora":"Comprar"]})]})]})]},Q.id)})}):i.jsx("p",{className:`text-center text-lg ${I==="dark"?"text-gray-400":"text-gray-600"} font-medium`,children:o?"No se encontraron productos que coincidan con tu búsqueda.":"No hay productos disponibles."})]})]}),i.jsx("footer",{className:`${I==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10`,children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${I==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${I==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(Ql,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${I==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Yl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${I==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Xl,{size:24})})]})]})}),i.jsx(Vt,{children:T&&i.jsx(Z.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:wt,className:`fixed bottom-6 left-6 bg-blue-600/90 backdrop-blur-lg p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 ${I==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Volver al inicio de la página",children:i.jsx(Am,{size:20})})})]})};r6.propTypes={};const rH=()=>{const[t,e]=_.useState(""),[r,n]=_.useState(""),[s,a]=_.useState(!1),[o,u]=_.useState(""),[d,h]=_.useState(!1),[p,g]=_.useState(()=>localStorage.getItem("theme")||"dark"),y=Ma(),v=_.useRef(null);_.useEffect(()=>{localStorage.setItem("theme",p),document.documentElement.classList.toggle("dark",p==="dark")},[p]),_.useEffect(()=>{const U=tn.onAuthStateChanged(O=>{O&&y("/")});return()=>U()},[y]),_.useEffect(()=>{v.current?.focus()},[]);const k=_.useCallback(()=>t?r?r.length<6?"La contraseña debe tener al menos 6 caracteres":"":"Por favor, ingresa tu contraseña":"Por favor, ingresa tu nombre de usuario o correo electrónico",[t,r]),w=async U=>{try{const O=kt(je,"users"),X=tr(O,br("username","==",U)),B=await rn(X);if(!B.empty){const A=B.docs[0].data();return{email:A.email,status:A.status||"active"}}return null}catch(O){return console.error("Error fetching username:",O),null}},T=_.useCallback(async U=>{U.preventDefault();const O=k();if(O){u(O);return}u(""),h(!0);try{let X=t,B="active";if(t.includes("@")){const A=kt(je,"users"),S=tr(A,br("email","==",t)),C=await rn(S);C.empty||(B=C.docs[0].data().status||"active")}else{const A=await w(t);if(!A){u("Nombre de usuario no encontrado"),h(!1);return}X=A.email,B=A.status}if(B==="suspended"){u("Esta cuenta está suspendida y no se puede ingresar"),h(!1);return}await aF(tn,X,r),e(""),n(""),y("/")}catch(X){u(X.code==="auth/wrong-password"?"Contraseña incorrecta":X.code==="auth/user-not-found"?"Usuario o correo electrónico no encontrado":X.code==="auth/too-many-requests"?"Demasiados intentos fallidos. Intenta de nuevo más tarde.":"Error al iniciar sesión. Por favor, intenta de nuevo.")}finally{h(!1)}},[t,r,y,k]),D=_.useCallback(()=>{g(U=>U==="dark"?"light":"dark")},[]),I=_.useCallback(()=>{a(U=>!U)},[]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${p==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[i.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:i.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full backdrop-blur-sm ${p==="dark"?"bg-gray-800/50 text-gray-400 border border-gray-600/30":"bg-white/70 text-gray-600 border border-gray-300/30"}`,children:"V2.1.2"})}),i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${p==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((U,O)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},O))})]}),i.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${p==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"login-title",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Z.img,{src:tc,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${p==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:D,className:`p-2 rounded-full ${p==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${p==="dark"?"claro":"oscuro"}`,children:p==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})})]}),i.jsx("h2",{id:"login-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Iniciar Sesión"}),i.jsx(Vt,{children:o&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${p==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:o})}),i.jsxs("form",{onSubmit:T,className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Vl,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{ref:v,type:"text",placeholder:"Nombre de usuario o correo electrónico",value:t,onChange:U=>e(U.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario o correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs("div",{className:"relative",children:[i.jsx(nb,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{type:s?"text":"password",placeholder:"Contraseña",value:r,onChange:U=>n(U.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contraseña",required:!0,whileFocus:{scale:1.02}}),i.jsx("button",{type:"button",onClick:I,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":s?"Ocultar contraseña":"Mostrar contraseña",children:s?i.jsx(z5,{size:18}):i.jsx(H5,{size:18})})]}),i.jsxs(Z.button,{type:"submit",disabled:d,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${d?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${p==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Iniciar sesión",whileHover:{scale:d?1:1.05},whileTap:{scale:d?1:.95},children:[d?i.jsxs(Z.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):i.jsx(Jy,{className:"mr-2"}),d?"Cargando...":"Iniciar Sesión"]})]}),i.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[i.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿No tienes una cuenta?"," ",i.jsx(_s,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regístrate aquí"})]}),i.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Olvidaste tu contraseña?"," ",i.jsx(_s,{to:"/forgot-password",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Recuperar contraseña",children:"Recupérala aquí"})]})]})]})}),i.jsx("footer",{className:`${p==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(Ql,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${p==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Yl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Xl,{size:24})})]})]})})]})},nH=()=>{const t=[{name:"Perú",code:"+51",flag:"🇵🇪",pattern:/^\d{9}$/,length:9},{name:"Estados Unidos",code:"+1",flag:"🇺🇸",pattern:/^\d{10}$/,length:10},{name:"México",code:"+52",flag:"🇲🇽",pattern:/^\d{10}$/,length:10},{name:"Argentina",code:"+54",flag:"🇦🇷",pattern:/^\d{10}$/,length:10},{name:"Chile",code:"+56",flag:"🇨🇱",pattern:/^\d{9}$/,length:9},{name:"Colombia",code:"+57",flag:"🇨🇴",pattern:/^\d{10}$/,length:10}],[e,r]=_.useState(""),[n,s]=_.useState(""),[a,o]=_.useState(""),[u,d]=_.useState(""),[h,p]=_.useState(""),[g,y]=_.useState(t[0]),[v,k]=_.useState(!1),[w,T]=_.useState(""),[D,I]=_.useState(!1),[U,O]=_.useState(!1),[X,B]=_.useState(()=>localStorage.getItem("theme")||"dark"),A=Ma(),S=_.useRef(null);_.useEffect(()=>{localStorage.setItem("theme",X),document.documentElement.classList.toggle("dark",X==="dark")},[X]),_.useEffect(()=>{const Se=tn.onAuthStateChanged(Ie=>{Ie&&!U&&A("/")});return()=>Se()},[A,U]),_.useEffect(()=>{S.current?.focus()},[]);const C=_.useCallback(async()=>e?/^[a-zA-Z0-9_]{3,20}$/.test(e)?(await ei(ht(je,"usernames",e.toLowerCase()))).exists()?"El nombre de usuario ya está en uso":n?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?a?g.pattern.test(a)?u?u.length<6?"La contraseña debe tener al menos 6 caracteres":"":"Por favor, ingresa una contraseña":`El número de teléfono debe tener exactamente ${g.length} dígitos`:"Por favor, ingresa tu número de teléfono":"Correo electrónico inválido":"Por favor, ingresa tu correo electrónico":"El nombre de usuario debe tener entre 3 y 20 caracteres alfanuméricos":"Por favor, ingresa un nombre de usuario",[e,n,a,u,g]),R=_.useCallback(async Se=>{Se.preventDefault();const Ie=await C();if(Ie){T(Ie);return}T(""),I(!0),O(!0);try{const Le=(await sF(tn,n,u)).user;console.log("Usuario creado en Auth:",Le.uid),await oF(Le,{displayName:e}),console.log("Perfil actualizado con username:",e);const _e=Le.uid.slice(-6).toUpperCase();let ie=null;if(h){const de=tr(kt(je,"users"),br("referralCode","==",h)),se=await rn(de);if(!se.empty)ie=se.docs[0].id,console.log(`Referred by UID: ${ie}`);else{T("Código de referido inválido"),console.warn(`Invalid referral code: ${h}`),I(!1),O(!1);return}}await ui(ht(je,"users",Le.uid),{username:e.toLowerCase(),email:n.toLowerCase(),phone:`${g.code}${a}`,phoneCountryCode:g.code,phoneCountryName:g.name,phoneDigits:a,referralCode:_e,referredBy:ie,balance:0,createdAt:new Date}),console.log('Datos guardados en colección "users" con ID:',Le.uid),await ui(ht(je,"usernames",e.toLowerCase()),{email:n.toLowerCase(),uid:Le.uid}),console.log('Mapping guardado en colección "usernames" con ID:',e.toLowerCase()),r(""),s(""),o(""),d(""),p(""),A("/")}catch($e){console.error("Error en registro:",$e),T($e.code==="auth/email-already-in-use"?"El correo electrónico ya está registrado":$e.code==="auth/invalid-email"?"Correo electrónico inválido":$e.code==="auth/weak-password"?"La contraseña es demasiado débil":"Error al registrarse. Por favor, intenta de nuevo.")}finally{I(!1),O(!1)}},[e,n,a,u,h,g,A,C]),F=_.useCallback(()=>{B(Se=>Se==="dark"?"light":"dark")},[]),W=_.useCallback(()=>{k(Se=>!Se)},[]),M=_.useCallback(Se=>{const Ie=Se.target.value,$e=t.find(Le=>Le.code===Ie)||g;y($e),a.length>$e.length&&o(a.slice(0,$e.length))},[g,a]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${X==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[i.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:i.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full backdrop-blur-sm ${X==="dark"?"bg-gray-800/50 text-gray-400 border border-gray-600/30":"bg-white/70 text-gray-600 border border-gray-300/30"}`,children:"V2.1.2"})}),i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${X==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((Se,Ie)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ie))})]}),i.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${X==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"register-title",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Z.img,{src:tc,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${X==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:F,className:`p-2 rounded-full ${X==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${X==="dark"?"claro":"oscuro"}`,children:X==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})})]}),i.jsx(Vt,{children:i.jsx(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:`${X==="dark"?"bg-green-900/30 border-green-600/30 text-green-200":"bg-green-100/50 border-green-300/30 text-green-800"} rounded-lg p-3 mb-6 text-center text-sm border-l-4 font-semibold`,role:"banner",children:"¡Regístrate gratis ahora!"})}),i.jsx("h2",{id:"register-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Registrarse"}),i.jsx(Vt,{children:w&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${X==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:w})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Vl,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{ref:S,type:"text",placeholder:"Elige un nombre de usuario",value:e,onChange:Se=>r(Se.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs("div",{className:"relative",children:[i.jsx(yu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{type:"email",placeholder:"Tu correo electrónico",value:n,onChange:Se=>s(Se.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs("div",{className:"relative flex items-center",children:[i.jsx(nz,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsxs("div",{className:"flex w-full",children:[i.jsx("select",{value:g.code,onChange:M,className:`flex items-center pl-3 pr-3 py-3 rounded-l-full text-sm font-medium cursor-pointer appearance-none bg-transparent border border-r-0 focus:outline-none focus:ring-2 focus:ring-blue-500/50 backdrop-blur-xl transition-all duration-300 hover:shadow-lg ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"}`,children:t.map(Se=>i.jsxs("option",{value:Se.code,children:[Se.flag," ",Se.name," (",Se.code,")"]},Se.code))}),i.jsx(Z.input,{type:"tel",placeholder:`Número de teléfono (${g.name})`,value:a,onChange:Se=>o(Se.target.value.replace(/\D/g,"")),className:`flex-1 pl-4 pr-4 py-3 rounded-r-full border border-l-0 focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"}`,"aria-label":"Número de teléfono",required:!0,maxLength:g.length,whileFocus:{scale:1.02}})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(nb,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{type:v?"text":"password",placeholder:"Elige una contraseña",value:u,onChange:Se=>d(Se.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contraseña",required:!0,whileFocus:{scale:1.02}}),i.jsx("button",{onClick:W,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":v?"Ocultar contraseña":"Mostrar contraseña",children:v?i.jsx(z5,{size:18}):i.jsx(H5,{size:18})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Vl,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{type:"text",placeholder:"Código de referido (opcional)",value:h,onChange:Se=>p(Se.target.value.trim().toUpperCase()),className:`w-full pl-12 pr-4 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Código de referido",whileFocus:{scale:1.02}}),i.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-xs italic text-gray-500",children:"opcional"})]}),i.jsxs(Z.button,{onClick:R,disabled:D,className:`w-full bg-green-600/90 backdrop-blur-xl py-3 rounded-full ${D?"opacity-50 cursor-not-allowed":"hover:bg-green-700/95"} text-sm border ${X==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Registrarse",whileHover:{scale:D?1:1.05},whileTap:{scale:D?1:.95},children:[D?i.jsxs(Z.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V8h8a8 8 0 01-16 0z"})]}):i.jsx(Zy,{className:"mr-2"}),D?"Cargando...":"Registrarse"]})]}),i.jsxs("p",{className:`text-center text-sm mt-6 ${X==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Ya tienes una cuenta?"," ",i.jsx(_s,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesión",children:"Inicia sesión aquí"})]})]})}),i.jsx("footer",{className:`${X==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${X==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${X==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(Ql,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${X==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Yl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${X==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Xl,{size:24})})]})]})})]})},sH=()=>{const[t,e]=_.useState(""),[r,n]=_.useState(""),[s,a]=_.useState(""),[o,u]=_.useState(!1),[d,h]=_.useState(()=>localStorage.getItem("theme")||"dark"),p=Ma(),g=_.useRef(null);_.useEffect(()=>{localStorage.setItem("theme",d),document.documentElement.classList.toggle("dark",d==="dark")},[d]),_.useEffect(()=>{const w=tn.onAuthStateChanged(T=>{T&&p("/")});return()=>w()},[p]),_.useEffect(()=>{g.current?.focus()},[]);const y=_.useCallback(()=>t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"":"Correo electrónico inválido":"Por favor, ingresa tu correo electrónico",[t]),v=_.useCallback(async w=>{w.preventDefault();const T=y();if(T){n(T),a("");return}n(""),a(""),u(!0);try{await nF(tn,t),a("Se ha enviado un enlace de restablecimiento de contraseña a tu correo electrónico."),e("")}catch(D){n(D.code==="auth/user-not-found"?"No se encontró un usuario con este correo electrónico":D.code==="auth/invalid-email"?"Correo electrónico inválido":D.code==="auth/too-many-requests"?"Demasiados intentos. Intenta de nuevo más tarde.":"Error al enviar el enlace de restablecimiento. Por favor, intenta de nuevo.")}finally{u(!1)}},[t,y]),k=_.useCallback(()=>{h(w=>w==="dark"?"light":"dark")},[]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${d==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${d==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((w,T)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},T))})]}),i.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${d==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"forgot-password-title",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Z.img,{src:tc,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${d==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:k,className:`p-2 rounded-full ${d==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${d==="dark"?"claro":"oscuro"}`,children:d==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})})]}),i.jsx("h2",{id:"forgot-password-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Recuperar Contraseña"}),i.jsxs(Vt,{children:[r&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:r}),s&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:s})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(yu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${d==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{ref:g,type:"email",placeholder:"Tu correo electrónico",value:t,onChange:w=>e(w.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${d==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs(Z.button,{onClick:v,disabled:o,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${o?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${d==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Enviar enlace de restablecimiento",whileHover:{scale:o?1:1.05},whileTap:{scale:o?1:.95},children:[o?i.jsxs(Z.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):i.jsx(yu,{className:"mr-2"}),o?"Cargando...":"Enviar Enlace de Restablecimiento"]})]}),i.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[i.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Ya tienes una cuenta?"," ",i.jsx(_s,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesión",children:"Inicia sesión aquí"})]}),i.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿No tienes una cuenta?"," ",i.jsx(_s,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regístrate aquí"})]})]})]})}),i.jsx("footer",{className:`${d==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(Ql,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${d==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Yl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Xl,{size:24})})]})]})})]})},aH=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(qs,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,n6=({isOpen:t,user:e,onClose:r,onSave:n,theme:s="dark"})=>{const a=s==="dark",[o,u]=_.useState(e?.username||""),[d,h]=_.useState(""),p={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},g={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},y=v=>{if(v.preventDefault(),h(""),!o.trim()){h("El nombre de usuario no puede estar vacío.");return}n(e.id,o.trim())};return t?i.jsx(Z.div,{className:`fixed inset-0 ${a?"bg-black/70":"bg-black/50"} flex items-center justify-center z-50 p-4`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},role:"dialog","aria-modal":"true","aria-labelledby":"edit-profile-title",children:i.jsx(Z.div,{className:`rounded-2xl shadow-md w-full max-w-md border ${a?"bg-gray-900/90 border-gray-700/50":"bg-white border-gray-300"}`,variants:p,initial:"hidden",animate:"visible",exit:"exit",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{id:"edit-profile-title",className:"text-xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Editar Perfil"}),i.jsx(Z.button,{onClick:r,className:`${a?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:i.jsx(qs,{size:20})})]}),i.jsxs("form",{onSubmit:y,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block mb-2 font-semibold ${a?"text-gray-300":"text-gray-700"}`,children:"Nombre de usuario"}),i.jsx("input",{type:"text",value:o,onChange:v=>u(v.target.value),className:`w-full px-4 py-2 rounded-xl ${a?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,required:!0,"aria-label":"Nombre de usuario"}),d&&i.jsx("p",{className:`text-sm mt-2 ${a?"text-red-400":"text-red-600"}`,children:d})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx(Z.button,{type:"button",onClick:r,className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${a?"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-400":"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar edición",children:"Cancelar"}),i.jsx(Z.button,{type:"submit",className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${a?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Guardar perfil",children:"Guardar"})]})]})]})})}):null};n6.propTypes={isOpen:G.bool.isRequired,user:G.shape({id:G.string.isRequired,username:G.string.isRequired}).isRequired,onClose:G.func.isRequired,onSave:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const s6=({isOpen:t,provider:e,onClose:r,onRate:n,theme:s="dark"})=>{const a=s==="dark",[o,u]=_.useState(0),[d,h]=_.useState(""),p={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},g={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.2}}},y={hover:{scale:1.2,y:-5,transition:{duration:.2,type:"spring"}},tap:{scale:.95}},v={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},k=T=>{if(T.preventDefault(),h(""),o<1||o>5){h("Por favor, selecciona una calificación entre 1 y 5 estrellas.");return}n(e.id,o),u(0)},w=T=>{u(T),h("")};return t?i.jsx(Vt,{children:i.jsx(Z.div,{className:`fixed inset-0 ${a?"bg-black/70 backdrop-blur-sm":"bg-black/50 backdrop-blur-sm"} flex items-center justify-center z-50 p-4`,variants:p,initial:"hidden",animate:"visible",exit:"exit",onClick:r,role:"dialog","aria-modal":"true","aria-labelledby":"rate-provider-title",children:i.jsx(Z.div,{className:`rounded-3xl shadow-2xl w-full max-w-md border ${a?"bg-gradient-to-br from-gray-900/95 to-gray-800/95 border-gray-700/50":"bg-gradient-to-br from-white to-gray-50 border-gray-200/50"}`,variants:g,initial:"hidden",animate:"visible",exit:"exit",onClick:T=>T.stopPropagation(),children:i.jsxs("div",{className:"p-6 sm:p-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx(Z.h2,{id:"rate-provider-title",className:`text-xl sm:text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${a?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{x:-10},animate:{x:0},transition:{duration:.5},children:"Calificar Proveedor"}),i.jsx(Z.button,{onClick:r,className:`p-2 rounded-2xl ${a?"text-gray-400 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200 hover:text-gray-900"} transition-all duration-300`,variants:v,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:i.jsx(qs,{size:20})})]}),i.jsxs("form",{onSubmit:k,className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:`inline-flex items-center gap-2 p-3 rounded-2xl mb-4 ${a?"bg-gray-800/50":"bg-gray-100"}`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:i.jsx(Ns,{className:"text-white text-sm"})}),i.jsx("span",{className:`font-semibold ${a?"text-white":"text-gray-900"}`,children:e.name})]}),i.jsx("div",{className:"flex justify-center space-x-1 mb-4",children:[1,2,3,4,5].map(T=>i.jsx(Z.button,{type:"button",onClick:()=>w(T),className:`p-1 focus:outline-none focus:ring-2 focus:ring-yellow-500/50 rounded-full transition-all duration-200 ${T<=o?a?"text-yellow-400 hover:text-yellow-300":"text-yellow-600 hover:text-yellow-500":a?"text-gray-500 hover:text-gray-400":"text-gray-400 hover:text-gray-500"}`,variants:y,whileHover:"hover",whileTap:"tap","aria-label":`Seleccionar ${T} estrella${T>1?"s":""}`,children:i.jsx(Tu,{size:28})},T))}),i.jsx("p",{className:`text-sm font-medium ${a?"text-gray-300":"text-gray-700"}`,children:o>0?`Calificación seleccionada: ${o} estrella${o>1?"s":""}`:"Selecciona una calificación"})]}),d&&i.jsx(Z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-3 rounded-xl ${a?"bg-red-900/50 border border-red-500/30 text-red-300":"bg-red-50 border border-red-200 text-red-700"}`,children:d}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200/50 dark:border-gray-700/50",children:[i.jsx(Z.button,{type:"button",onClick:r,className:`px-6 py-3 rounded-2xl font-semibold transition-all duration-300 ${a?"bg-gray-600/70 hover:bg-gray-700/80 text-white focus:ring-gray-500/50":"bg-gray-400/70 hover:bg-gray-500/80 text-white focus:ring-gray-500/50"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:v,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar calificación",children:"Cancelar"}),i.jsxs(Z.button,{type:"submit",disabled:o===0,className:`px-6 py-3 rounded-2xl font-semibold flex items-center gap-2 transition-all duration-300 ${o>0?a?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-400":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-500":a?"bg-gray-600/70 text-gray-400 cursor-not-allowed":"bg-gray-400/70 text-gray-500 cursor-not-allowed"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:v,whileHover:o>0?"hover":{},whileTap:o>0?"tap":{},"aria-label":"Enviar calificación",children:[i.jsx(Tu,{size:18,className:"text-yellow-400"}),i.jsx("span",{children:"Enviar Calificación"})]})]})]})]})})})}):null};s6.propTypes={isOpen:G.bool.isRequired,provider:G.shape({id:G.string.isRequired,name:G.string.isRequired}).isRequired,onClose:G.func.isRequired,onRate:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const iH=({userName:t,email:e,balance:r,orders:n,notifications:s,setActivePage:a,formatDate:o,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${d?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Bienvenido, ",i.jsx("span",{className:"text-red-400",children:t.username})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-blue-400":"text-blue-600"}`,children:[i.jsx(Ns,{size:20}),"Información de cuenta"]}),i.jsxs("div",{className:`space-y-4 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(Ns,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsx("span",{className:"font-medium",children:t.username})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(zr,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsx("span",{className:"font-medium",children:e})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(y0,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsx("span",{className:"font-medium",children:t.phone||"No especificado"})]})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-green-400":"text-green-600"}`,children:[i.jsx(y0,{size:20}),"Saldo disponible"]}),i.jsxs("p",{className:`text-4xl font-bold ${d?"text-white":"text-gray-900"}`,children:["S/ ",r.toFixed(2)]}),i.jsx(Z.button,{onClick:()=>a("recargar"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${d?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Recargar Saldo"})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-purple-400":"text-purple-600"}`,children:[i.jsx(zr,{size:20}),"Pedidos activos"]}),i.jsx("p",{className:`text-4xl font-bold ${d?"text-white":"text-gray-900"}`,children:n.filter(g=>new Date(g.endDate)>new Date&&(g.status==="completed"||g.status==="active")).length}),i.jsx(Z.button,{onClick:()=>a("pedidos"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${d?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Pedidos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[i.jsx(zr,{size:20}),"Pedidos recientes"]}),i.jsx(Vt,{children:n.length>0?n.slice(0,3).map((g,y)=>{const v=new Date(g.endDate)>new Date&&(g.status==="completed"||g.status==="active"),k=g.status==="pending";return i.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:y*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"}`,children:g.productName||"Producto sin nombre"}),i.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${g.status==="pending"?d?"bg-yellow-900/80 text-yellow-300 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":v?d?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":d?"bg-red-900/80 text-red-300 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:k?"A pedido":v?"Activo":"Expirado"})]}),i.jsxs("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:["Vence: ",o(g.endDate)]})]},g.id)}):i.jsx(Z.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${d?"text-gray-400":"text-gray-500"}`,children:"No tienes pedidos recientes"})}),n.length>3&&i.jsx(Z.button,{onClick:()=>a("pedidos"),className:`w-full mt-4 px-6 py-3 text-center text-sm transition-all duration-300 rounded-xl border-2 font-medium ${d?"border-blue-500/50 text-blue-400 hover:bg-blue-500/10":"border-blue-500/50 text-blue-600 hover:bg-blue-500/10"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver todos los pedidos"})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[i.jsx(la,{size:20}),"Notificaciones"]}),i.jsx(Vt,{children:s.length>0?s.map((g,y)=>i.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,delay:y*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[i.jsx("p",{className:`font-medium ${d?"text-gray-300":"text-gray-700"}`,children:g.message}),i.jsx("p",{className:`text-xs mt-2 ${d?"text-gray-400":"text-gray-500"}`,children:o(g.updatedAt?.toDate?.()||new Date)})]},g.id)):i.jsx(Z.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${d?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})})]})]}),i.jsxs(Z.div,{className:`rounded-3xl p-6 shadow-2xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-xl font-bold mb-6 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[i.jsx(zr,{size:24}),"Únete a nuestros grupos"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{href:"https://chat.whatsapp.com/IG8v1E00lAD6RIOo7ZB5Kv",icon:zr,title:"Avisos",subtitle:"Grupo de WhatsApp",color:"from-green-500 to-emerald-600"},{href:"https://chat.whatsapp.com/Gs6kTW4DBTi7dEMhnZV1yb",icon:zr,title:"General",subtitle:"Grupo de WhatsApp",color:"from-blue-500 to-cyan-600"},{href:"https://chat.whatsapp.com/BqCOR6w8002695hbYXf5KA",icon:zr,title:"Publicidad",subtitle:"Grupo de WhatsApp",color:"from-purple-500 to-pink-600"}].map((g,y)=>i.jsxs(Z.a,{href:g.href,target:"_blank",rel:"noopener noreferrer",className:`flex items-center p-4 rounded-2xl transition-all duration-300 border group ${d?"bg-gray-700/50 hover:bg-gray-600/70 border-gray-600/50":"bg-gray-200/50 hover:bg-gray-300/70 border-gray-300/50"}`,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[i.jsx(Z.div,{className:`flex-shrink-0 p-3 rounded-xl mr-4 bg-gradient-to-br ${g.color} text-white shadow-lg`,whileHover:{scale:1.1},children:i.jsx(g.icon,{size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"} group-hover:text-blue-500 transition-colors`,children:g.title}),i.jsx("p",{className:`text-sm ${d?"text-gray-300":"text-gray-600"}`,children:g.subtitle})]})]},y))})]})]})},a6=({notifications:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:s,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"notifications-title",children:[i.jsxs(Z.h3,{id:"notifications-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Notificaciones",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${n?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:t.length})]}),i.jsx(Vt,{children:t.length>0?i.jsx(Z.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.map((o,u)=>i.jsx(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm transition-all duration-300 ${n?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:a,whileHover:"hover",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:u*.1},"aria-labelledby":`notification-${o.id}-title`,children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 pt-1",children:i.jsx(x0,{className:`text-xl ${n?"text-blue-400":"text-blue-600"}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{id:`notification-${o.id}-title`,className:`font-semibold text-base ${n?"text-white":"text-gray-900"} mb-2`,children:o.message}),i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:e(o.updatedAt?.toDate?.()||new Date)})]})]})},o.id))}):i.jsxs(Z.div,{className:"text-center py-16",variants:a,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${n?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(x0,{className:"text-white",size:32})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"No hay notificaciones"}),i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"No tienes mensajes nuevos. ¡Vuelve pronto para ver actualizaciones!"})]})})]})};a6.propTypes={notifications:G.arrayOf(G.shape({id:G.string.isRequired,message:G.string.isRequired,updatedAt:G.oneOfType([G.instanceOf(Date),G.shape({toDate:G.func})])})).isRequired,formatDate:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const oH="/assets/yape-sz-D-gX92Ca.png",lH="/assets/binance-sz-CGisVpHF.png",i6=({amount:t,setAmount:e,topUps:r,actionLoading:n,handleTopUpRequest:s,formatDate:a,theme:o="dark"})=>{const u=o==="dark",[d,h]=_.useState("PEN"),[p,g]=_.useState(3.75),[y,v]=_.useState(!1),[k,w]=_.useState(!1),[T,D]=_.useState(""),[I,U]=_.useState(5),O={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}};_.useEffect(()=>{(async()=>{v(!0),w(!1);try{const W=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!W.ok)throw new Error("API request failed");const Se=(await W.json()).rates.PEN||3.75;g(Se*1.1)}catch(W){console.error("Error fetching exchange rate:",W),w(!0)}finally{v(!1)}})()},[]),_.useEffect(()=>{const F=Math.ceil(I/(p/1.1));U(d==="PEN"?5:F)},[d,p]),_.useEffect(()=>{const F=parseFloat(T);if(isNaN(F))e("");else{const W=d==="USD"?F*p:F;e(W.toFixed(2))}},[T,d,p,e]);const X=F=>{const W=F.target.value;(/^\d*\.?\d{0,2}$/.test(W)||W==="")&&D(W)},B=parseFloat(T),A=d==="USD"?B*p:B,S=isNaN(A)?"0.00":A.toFixed(2),C=!isNaN(B)&&B>=I,R=`Hola 😊, he realizado una recarga a través de ${d==="PEN"?"Yape":"Binance"} por ${d==="PEN"?`S/ ${S}`:`$ ${B?.toFixed(2)||"0.00"} (equivalente a S/ ${S})`}. Por favor, confirma mi pago.`;return i.jsxs(Z.div,{className:"space-y-8 max-w-6xl mx-auto px-4 sm:px-0",variants:O,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"topup-title",children:[i.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[i.jsx("h3",{id:"topup-title",className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Recargar saldo"}),i.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Moneda"}),i.jsxs("select",{value:d,onChange:F=>{h(F.target.value),D(""),e("")},className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,"aria-label":"Seleccionar moneda",children:[i.jsx("option",{value:"PEN",children:"S/ (PEN)"}),i.jsx("option",{value:"USD",children:"$ (USD)"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:["Monto a recargar (",d==="PEN"?"S/":"$",")"]}),i.jsx("input",{type:"number",value:T,onChange:X,className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 ${!C&&T?"border-red-500 focus:ring-red-400":""}`,placeholder:`Mínimo ${d==="PEN"?"S/ 5.00":`$${I.toFixed(2)}`}`,min:I,step:"0.01","aria-label":`Monto a recargar en ${d}`,"aria-invalid":!C&&T}),d==="USD"&&!isNaN(B)&&i.jsxs("p",{className:`text-sm mt-2 ${k?"text-red-400":u?"text-gray-400":"text-gray-600"}`,children:[k?"Error al cargar tasa. Usando tasa por defecto.":`Equivalente: S/ ${S} (Tasa: 1 USD ≈ ${p.toFixed(2)} PEN)`,y&&" (Cargando tasa...)"]}),!C&&T&&i.jsxs("p",{className:"text-sm text-red-400 mt-1",children:["Monto mínimo: ",d==="PEN"?"S/ 5.00":`$${I.toFixed(2)}`]})]}),i.jsx(Z.button,{onClick:s,disabled:n.topUp||!C,className:`w-full py-3 px-4 rounded-xl font-medium text-lg transition-all duration-300 ${C&&!n.topUp?u?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500":"bg-gray-300 text-gray-500 cursor-not-allowed"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:C&&!n.topUp?1.05:1},whileTap:{scale:C&&!n.topUp?.95:1},"aria-label":"Solicitar recarga",children:n.topUp?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin h-6 w-6 border-3 border-white rounded-full border-t-transparent mr-2"}),"Procesando..."]}):"Solicitar recarga"})]}),i.jsx("div",{className:`mt-8 p-6 rounded-2xl border ${u?"bg-gray-800/50 border-gray-700/30":"bg-gray-100 border-gray-300"} max-w-lg mx-auto`,children:i.jsxs(Z.div,{className:"animate-fade-in",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[i.jsxs("h4",{className:`text-lg font-semibold ${u?"text-blue-400":"text-blue-600"} mb-4 flex items-center`,children:[i.jsx(zs,{className:"mr-2"})," Pago con ",d==="PEN"?"Yape":"Binance"]}),i.jsxs("p",{className:`mb-3 ${u?"text-gray-300":"text-gray-700"}`,children:["Escanea el código QR",d==="PEN"?" o usa Yape con el número:":"."]}),d==="PEN"&&i.jsx("p",{className:`text-xl font-bold ${u?"text-white":"text-gray-900"} mb-3 text-center`,children:"📱 940505969"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:`p-4 rounded-xl shadow-md ${u?"bg-white border-4 border-blue-600":"bg-white border border-gray-300"}`,children:i.jsx("img",{src:d==="PEN"?oH:lH,alt:`${d==="PEN"?"Yape":"Binance"} QR Code`,className:"w-48 h-48 object-contain",loading:"lazy"})})}),i.jsxs("p",{className:`mb-4 ${u?"text-gray-300":"text-gray-700"} text-center`,children:["Realiza el pago de ",d==="PEN"?`S/ ${S}`:`$ ${B?.toFixed(2)||"0.00"} (S/ ${S})`,". Confirma tu recarga vía WhatsApp."]}),i.jsxs(Z.a,{href:`https://wa.me/51940505969?text=${encodeURIComponent(R)}`,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center w-full px-6 py-3 rounded-xl font-medium transition-all duration-300 ${u?"bg-green-500 hover:bg-green-600 text-white focus:ring-green-400":"bg-green-500 hover:bg-green-600 text-white focus:ring-green-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Confirmar pago por WhatsApp con ${d==="PEN"?"Yape":"Binance"}`,children:[i.jsx(zr,{className:"mr-2"})," Confirmar por WhatsApp"]})]})})]}),i.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[i.jsx("h3",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Historial de recargas"}),r.length>0?i.jsx("div",{className:"overflow-x-auto rounded-xl border",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${u?"bg-gray-800/50":"bg-gray-100"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),i.jsx("tbody",{className:`${u?"bg-gray-800/50":"bg-white"} divide-y ${u?"divide-gray-600/50":"divide-gray-200"}`,children:r.map(F=>{const W=F.status==="aprobado"?"Aprobado":F.status==="pendiente"?"Pendiente":"Rechazado",M=F.status==="aprobado"?"green":F.status==="pendiente"?"yellow":"red";return i.jsxs("tr",{className:`${u?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,children:[i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap font-medium ${u?"text-white":"text-gray-900"}`,children:["S/ ",F.amount.toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full capitalize ${u?`bg-${M}-900/80 text-${M}-400`:`bg-${M}-500/20 text-${M}-600`}`,children:W})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${u?"text-gray-400":"text-gray-600"}`,children:a(F.date)})]},F.id)})})]})}):i.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-12",children:[i.jsx(zs,{className:`mx-auto text-4xl ${u?"text-gray-400":"text-gray-500"} mb-4`}),i.jsx("p",{className:`text-lg ${u?"text-gray-400":"text-gray-600"}`,children:"No hay recargas registradas"})]})]})]})};i6.propTypes={amount:G.oneOfType([G.string,G.number]).isRequired,setAmount:G.func.isRequired,topUps:G.arrayOf(G.shape({id:G.string.isRequired,amount:G.oneOfType([G.string,G.number]).isRequired,status:G.string.isRequired,date:G.oneOfType([G.instanceOf(Date),G.string]).isRequired})).isRequired,actionLoading:G.shape({topUp:G.bool}).isRequired,handleTopUpRequest:G.func.isRequired,formatDate:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const o6=({providers:t,openRateProviderModal:e,deleteRatingProvider:r,theme:n="dark"})=>{const s=n==="dark",a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},o={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${s?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:a,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"providers-title",children:[i.jsxs(Z.h3,{id:"providers-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Proveedores",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${s?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:t.length})]}),i.jsx(Vt,{children:t.length>0?i.jsx(Z.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.map((u,d)=>i.jsx(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm transition-all duration-300 ${s?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:o,whileHover:"hover","aria-labelledby":`provider-${u.id}-title`,children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:i.jsx(Ns,{className:"text-white",size:24})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{id:`provider-${u.id}-title`,className:`font-bold text-lg ${s?"text-white":"text-gray-900"}`,children:u.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(y0,{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`}),i.jsx("span",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:u.phone})]}),u.hasRated&&i.jsx("div",{className:"flex items-center gap-2 mt-2",children:i.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((h,p)=>i.jsx(Tu,{size:16,className:`${p<u.rating?"text-yellow-400 fill-current":s?"text-gray-600":"text-gray-400"}`},p))})})]})]}),u.hasRated?i.jsxs(Z.button,{onClick:()=>r(u),className:`px-4 py-2 rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${s?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-400":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-500"}`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Eliminar valoración del proveedor ${u.name}`,children:[i.jsx(lb,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:"Eliminar"})]}):i.jsxs(Z.button,{onClick:()=>e(u),className:`px-6 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${s?"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white focus:ring-purple-400":"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white focus:ring-purple-500"}`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Calificar al proveedor ${u.name}`,children:[i.jsx(Tu,{size:18}),i.jsx("span",{children:"Calificar"})]})]})},u.id))}):i.jsxs(Z.div,{className:"text-center py-16",variants:o,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${s?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:i.jsx(Ns,{className:"text-white",size:32})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"No hay proveedores"}),i.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"No has realizado compras con proveedores aún. ¡Tu primer pedido desbloqueará esta sección!"})]})})]})};o6.propTypes={providers:G.arrayOf(G.shape({id:G.string.isRequired,name:G.string.isRequired,phone:G.string.isRequired,hasRated:G.bool.isRequired,rating:G.number})).isRequired,openRateProviderModal:G.func.isRequired,deleteRatingProvider:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Dp={};Dp.version="0.18.5";var l6=1252,cH=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],c6=function(t){cH.indexOf(t)!=-1&&(l6=t)};function uH(){c6(1252)}var v0=function(t){c6(t)};function dH(){v0(1200),uH()}var Nf=function(e){return String.fromCharCode(e)},lT=function(e){return String.fromCharCode(e)},Op,Ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b0(t){for(var e="",r=0,n=0,s=0,a=0,o=0,u=0,d=0,h=0;h<t.length;)r=t.charCodeAt(h++),a=r>>2,n=t.charCodeAt(h++),o=(r&3)<<4|n>>4,s=t.charCodeAt(h++),u=(n&15)<<2|s>>6,d=s&63,isNaN(n)?u=d=64:isNaN(s)&&(d=64),e+=Ao.charAt(a)+Ao.charAt(o)+Ao.charAt(u)+Ao.charAt(d);return e}function Wi(t){var e="",r=0,n=0,s=0,a=0,o=0,u=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)a=Ao.indexOf(t.charAt(h++)),o=Ao.indexOf(t.charAt(h++)),r=a<<2|o>>4,e+=String.fromCharCode(r),u=Ao.indexOf(t.charAt(h++)),n=(o&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(n)),d=Ao.indexOf(t.charAt(h++)),s=(u&3)<<6|d,d!==64&&(e+=String.fromCharCode(s));return e}var dr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Xi=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Bl(t){return dr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function cT(t){return dr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Sa=function(e){return dr?Xi(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Rm(t){if(typeof ArrayBuffer>"u")return Sa(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Y0(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function hH(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Mn=dr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Xi(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function fH(t){for(var e=[],r=0,n=t.length+250,s=Bl(t.length+255),a=0;a<t.length;++a){var o=t.charCodeAt(a);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var u=t.charCodeAt(++a)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|u>>6&15|(o&3)<<4,s[r++]=128|u&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(e.push(s.slice(0,r)),r=0,s=Bl(65535),n=65530)}return e.push(s.slice(0,r)),Mn(e)}var qd=/\u0000/g,Sf=/[\u0001-\u0006]/g;function iu(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function ja(t,e){var r=""+t;return r.length>=e?r:Xr("0",e-r.length)+r}function cb(t,e){var r=""+t;return r.length>=e?r:Xr(" ",e-r.length)+r}function Fp(t,e){var r=""+t;return r.length>=e?r:r+Xr(" ",e-r.length)}function pH(t,e){var r=""+Math.round(t);return r.length>=e?r:Xr("0",e-r.length)+r}function mH(t,e){var r=""+t;return r.length>=e?r:Xr("0",e-r.length)+r}var uT=Math.pow(2,32);function Vc(t,e){if(t>uT||t<-uT)return pH(t,e);var r=Math.round(t);return mH(r,e)}function Lp(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var dT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Xx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function gH(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var Qr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},hT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},xH={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Mp(t,e,r){for(var n=t<0?-1:1,s=t*n,a=0,o=1,u=0,d=1,h=0,p=0,g=Math.floor(s);h<e&&(g=Math.floor(s),u=g*o+a,p=g*h+d,!(s-g<5e-8));)s=1/(s-g),a=o,o=u,d=h,h=p;if(p>e&&(h>e?(p=d,u=a):(p=h,u=o)),!r)return[0,n*u,p];var y=Math.floor(n*u/p);return[y,n*u-y*p,p]}function Af(t,e,r){if(t>2958465||t<0)return null;var n=t|0,s=Math.floor(86400*(t-n)),a=0,o=[],u={D:n,T:s,u:86400*(t-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++s==86400&&(u.T=s=0,++n,++u.D)),n===60)o=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],a=d.getDay(),n<60&&(a=(a+6)%7),r&&(a=TH(d,o))}return u.y=o[0],u.m=o[1],u.d=o[2],u.S=s%60,s=Math.floor(s/60),u.M=s%60,s=Math.floor(s/60),u.H=s,u.q=a,u}var u6=new Date(1899,11,31,0,0,0),yH=u6.getTime(),vH=new Date(1900,2,1,0,0,0);function d6(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=vH&&(r+=1440*60*1e3),(r-(yH+(t.getTimezoneOffset()-u6.getTimezoneOffset())*6e4))/(1440*60*1e3)}function ub(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function bH(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function wH(t){var e=t<0?12:11,r=ub(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function _H(t){var e=ub(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function EH(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=wH(t):e===10?r=t.toFixed(10).substr(0,12):r=_H(t),ub(bH(r.toUpperCase()))}function e1(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):EH(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Wo(14,d6(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function TH(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function kH(t,e,r,n){var s="",a=0,o=0,u=r.y,d,h=0;switch(t){case 98:u=r.y+543;case 121:switch(e.length){case 1:case 2:d=u%100,h=2;break;default:d=u%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:d=r.m,h=e.length;break;case 3:return Xx[r.m-1][1];case 5:return Xx[r.m-1][0];default:return Xx[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=r.d,h=e.length;break;case 3:return dT[r.q][0];default:return dT[r.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(r.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=r.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=r.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?ja(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,a=Math.round(o*(r.S+r.u)),a>=60*o&&(a=0),e==="s"?a===0?"0":""+a/o:(s=ja(a,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:d=u,h=1;break}var p=h>0?ja(d,h):"";return p}function Co(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var h6=/%/g;function NH(t,e,r){var n=e.replace(h6,""),s=e.length-n.length;return Oi(t,n,r*Math.pow(10,2*s))+Xr("%",s)}function SH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Oi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function f6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+f6(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(s+a)%s)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var p6=/# (\?+)( ?)\/( ?)(\d+)/;function AH(t,e,r){var n=parseInt(t[4],10),s=Math.round(e*n),a=Math.floor(s/n),o=s-a*n,u=n;return r+(a===0?"":""+a)+" "+(o===0?Xr(" ",t[1].length+1+t[4].length):cb(o,t[1].length)+t[2]+"/"+t[3]+ja(u,t[4].length))}function CH(t,e,r){return r+(e===0?"":""+e)+Xr(" ",t[1].length+2+t[4].length)}var m6=/^#*0*\.([0#]+)/,g6=/\).*[0#]/,x6=/\(###\) ###\\?-####/;function os(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function fT(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function pT(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function jH(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function IH(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function sa(t,e,r){if(t.charCodeAt(0)===40&&!e.match(g6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?sa("n",n,r):"("+sa("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return SH(t,e,r);if(e.indexOf("%")!==-1)return NH(t,e,r);if(e.indexOf("E")!==-1)return f6(e,r);if(e.charCodeAt(0)===36)return"$"+sa(t,e.substr(e.charAt(1)==" "?2:1),r);var s,a,o,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+Vc(d,e.length);if(e.match(/^[#?]+$/))return s=Vc(r,0),s==="0"&&(s=""),s.length>e.length?s:os(e.substr(0,e.length-s.length))+s;if(a=e.match(p6))return AH(a,d,h);if(e.match(/^#+0+$/))return h+Vc(d,e.length-e.indexOf("0"));if(a=e.match(m6))return s=fT(r,a[1].length).replace(/^([^\.]+)$/,"$1."+os(a[1])).replace(/\.$/,"."+os(a[1])).replace(/\.(\d*)$/,function(k,w){return"."+w+Xr("0",os(a[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return h+fT(d,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return h+Co(Vc(d,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+sa(t,e,-r):Co(""+(Math.floor(r)+jH(r,a[1].length)))+"."+ja(pT(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return sa(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=iu(sa(t,e.replace(/[\\-]/g,""),r)),o=0,iu(iu(e.replace(/\\/g,"")).replace(/[0#]/g,function(k){return o<s.length?s.charAt(o++):k==="0"?"0":""}));if(e.match(x6))return s=sa(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),u=Mp(d,Math.pow(10,o)-1,!1),s=""+h,p=Oi("n",a[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+a[2]+"/"+a[3],p=Fp(u[2],o),p.length<a[4].length&&(p=os(a[4].substr(a[4].length-p.length))+p),s+=p,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),u=Mp(d,Math.pow(10,o)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?cb(u[1],o)+a[2]+"/"+a[3]+Fp(u[2],o):Xr(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=Vc(r,0),e.length<=s.length?s:os(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=e.indexOf(".")-o,y=e.length-s.length-g;return os(e.substr(0,g)+s+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return o=pT(r,a[1].length),r<0?"-"+sa(t,e,-r):Co(IH(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(k){return"00,"+(k.length<3?ja(0,3-k.length):"")+k})+"."+ja(o,a[1].length);switch(e){case"###,##0.00":return sa(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=Co(Vc(d,0));return v!=="0"?h+v:"";case"###,###.00":return sa(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return sa(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function PH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Oi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function RH(t,e,r){var n=e.replace(h6,""),s=e.length-n.length;return Oi(t,n,r*Math.pow(10,2*s))+Xr("%",s)}function y6(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+y6(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(s+a)%s)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Xa(t,e,r){if(t.charCodeAt(0)===40&&!e.match(g6)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Xa("n",n,r):"("+Xa("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return PH(t,e,r);if(e.indexOf("%")!==-1)return RH(t,e,r);if(e.indexOf("E")!==-1)return y6(e,r);if(e.charCodeAt(0)===36)return"$"+Xa(t,e.substr(e.charAt(1)==" "?2:1),r);var s,a,o,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+ja(d,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:os(e.substr(0,e.length-s.length))+s;if(a=e.match(p6))return CH(a,d,h);if(e.match(/^#+0+$/))return h+ja(d,e.length-e.indexOf("0"));if(a=e.match(m6))return s=(""+r).replace(/^([^\.]+)$/,"$1."+os(a[1])).replace(/\.$/,"."+os(a[1])),s=s.replace(/\.(\d*)$/,function(k,w){return"."+w+Xr("0",os(a[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return h+Co(""+d);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Xa(t,e,-r):Co(""+r)+"."+Xr("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Xa(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=iu(Xa(t,e.replace(/[\\-]/g,""),r)),o=0,iu(iu(e.replace(/\\/g,"")).replace(/[0#]/g,function(k){return o<s.length?s.charAt(o++):k==="0"?"0":""}));if(e.match(x6))return s=Xa(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),u=Mp(d,Math.pow(10,o)-1,!1),s=""+h,p=Oi("n",a[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+a[2]+"/"+a[3],p=Fp(u[2],o),p.length<a[4].length&&(p=os(a[4].substr(a[4].length-p.length))+p),s+=p,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),u=Mp(d,Math.pow(10,o)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?cb(u[1],o)+a[2]+"/"+a[3]+Fp(u[2],o):Xr(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:os(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=e.indexOf(".")-o,y=e.length-s.length-g;return os(e.substr(0,g)+s+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Xa(t,e,-r):Co(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(k){return"00,"+(k.length<3?ja(0,3-k.length):"")+k})+"."+ja(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=Co(""+d);return v!=="0"?h+v:"";default:if(e.match(/\.[0#?]*$/))return Xa(t,e.slice(0,e.lastIndexOf(".")),r)+os(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Oi(t,e,r){return(r|0)===r?Xa(t,e,r):sa(t,e,r)}function DH(t){for(var e=[],r=!1,n=0,s=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(s,n-s),s=n+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var v6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function b6(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Lp(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(v6))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function OH(t,e,r,n){for(var s=[],a="",o=0,u="",d="t",h,p,g,y="H";o<t.length;)switch(u=t.charAt(o)){case"G":if(!Lp(t,o))throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(g=t.charCodeAt(++o))!==34&&o<t.length;)a+=String.fromCharCode(g);s[s.length]={t:"t",v:a},++o;break;case"\\":var v=t.charAt(++o),k=v==="("||v===")"?v:"t";s[s.length]={t:k,v},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(h==null&&(h=Af(e,r,t.charAt(o+1)==="2"),h==null))return"";s[s.length]={t:"X",v:t.substr(o,2)},d=u,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=Af(e,r),h==null))return"";for(a=u;++o<t.length&&t.charAt(o).toLowerCase()===u;)a+=u;u==="m"&&d.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=y),s[s.length]={t:u,v:a},d=u;break;case"A":case"a":case"上":var w={t:u,v:u};if(h==null&&(h=Af(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(h!=null&&(w.v=h.H>=12?"P":"A"),w.t="T",y="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(h!=null&&(w.v=h.H>=12?"PM":"AM"),w.t="T",o+=5,y="h"):t.substr(o,5).toUpperCase()==="上午/下午"?(h!=null&&(w.v=h.H>=12?"下午":"上午"),w.t="T",o+=5,y="h"):(w.t="t",++o),h==null&&w.t==="T")return"";s[s.length]=w,d=u;break;case"[":for(a=u;t.charAt(o++)!=="]"&&o<t.length;)a+=t.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(v6)){if(h==null&&(h=Af(e,r),h==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},d=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",b6(t)||(s[s.length]={t:"t",v:a}));break;case".":if(h!=null){for(a=u;++o<t.length&&(u=t.charAt(o))==="0";)a+=u;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=u;++o<t.length&&"0#?.,E+-%".indexOf(u=t.charAt(o))>-1;)a+=u;s[s.length]={t:"n",v:a};break;case"?":for(a=u;t.charAt(++o)===u;)a+=u;s[s.length]={t:u,v:a},d=u;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":u,v:u},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=u;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)a+=t.charAt(o);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:u,v:u},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"t",v:u},++o;break}var T=0,D=0,I;for(o=s.length-1,d="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=y,d="h",T<1&&(T=1);break;case"s":(I=s[o].v.match(/\.0+$/))&&(D=Math.max(D,I[0].length-1)),T<3&&(T=3);case"d":case"y":case"M":case"e":d=s[o].t;break;case"m":d==="s"&&(s[o].t="M",T<2&&(T=2));break;case"X":break;case"Z":T<1&&s[o].v.match(/[Hh]/)&&(T=1),T<2&&s[o].v.match(/[Mm]/)&&(T=2),T<3&&s[o].v.match(/[Ss]/)&&(T=3)}switch(T){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var U="",O;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=kH(s[o].t.charCodeAt(0),s[o].v,h,D),s[o].t="t";break;case"n":case"?":for(O=o+1;s[O]!=null&&((u=s[O].t)==="?"||u==="D"||(u===" "||u==="t")&&s[O+1]!=null&&(s[O+1].t==="?"||s[O+1].t==="t"&&s[O+1].v==="/")||s[o].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(s[O].v==="/"||s[O].v===" "&&s[O+1]!=null&&s[O+1].t=="?"));)s[o].v+=s[O].v,s[O]={v:"",t:";"},++O;U+=s[o].v,o=O-1;break;case"G":s[o].t="t",s[o].v=e1(e,r);break}var X="",B,A;if(U.length>0){U.charCodeAt(0)==40?(B=e<0&&U.charCodeAt(0)===45?-e:e,A=Oi("n",U,B)):(B=e<0&&n>1?-e:e,A=Oi("n",U,B),B<0&&s[0]&&s[0].t=="t"&&(A=A.substr(1),s[0].v="-"+s[0].v)),O=A.length-1;var S=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){S=o;break}var C=s.length;if(S===s.length&&A.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(O>=s[o].v.length-1?(O-=s[o].v.length,s[o].v=A.substr(O+1,s[o].v.length)):O<0?s[o].v="":(s[o].v=A.substr(0,O+1),O=-1),s[o].t="t",C=o);O>=0&&C<s.length&&(s[C].v=A.substr(0,O+1)+s[C].v)}else if(S!==s.length&&A.indexOf("E")===-1){for(O=A.indexOf(".")-1,o=S;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(p=s[o].v.indexOf(".")>-1&&o===S?s[o].v.indexOf(".")-1:s[o].v.length-1,X=s[o].v.substr(p+1);p>=0;--p)O>=0&&(s[o].v.charAt(p)==="0"||s[o].v.charAt(p)==="#")&&(X=A.charAt(O--)+X);s[o].v=X,s[o].t="t",C=o}for(O>=0&&C<s.length&&(s[C].v=A.substr(0,O+1)+s[C].v),O=A.indexOf(".")+1,o=S;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==S)){for(p=s[o].v.indexOf(".")>-1&&o===S?s[o].v.indexOf(".")+1:0,X=s[o].v.substr(0,p);p<s[o].v.length;++p)O<A.length&&(X+=A.charAt(O++));s[o].v=X,s[o].t="t",C=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(B=n>1&&e<0&&o>0&&s[o-1].v==="-"?-e:e,s[o].v=Oi(s[o].t,s[o].v,B),s[o].t="t");var R="";for(o=0;o!==s.length;++o)s[o]!=null&&(R+=s[o].v);return R}var mT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function gT(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function FH(t,e){var r=DH(t),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(mT),u=r[1].match(mT);return gT(e,o)?[n,r[0]]:gT(e,u)?[n,r[1]]:[n,r[o!=null&&u!=null?2:1]]}return[n,a]}function Wo(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Qr)[t],n==null&&(n=r.table&&r.table[hT[t]]||Qr[hT[t]]),n==null&&(n=xH[t]||"General");break}if(Lp(n,0))return e1(e,r);e instanceof Date&&(e=d6(e,r.date1904));var s=FH(n,e);if(Lp(s[1]))return e1(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return OH(s[1],e,r,s[0])}function w6(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Qr[r]==null){e<0&&(e=r);continue}if(Qr[r]==t){e=r;break}}e<0&&(e=391)}return Qr[e]=t,e}function Dm(t){for(var e=0;e!=392;++e)t[e]!==void 0&&w6(t[e],e)}function Om(){Qr=gH()}var _6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function LH(t){var e=typeof t=="number"?Qr[t]:t;return e=e.replace(_6,"(\\d+)"),new RegExp("^"+e+"$")}function MH(t,e,r){var n=-1,s=-1,a=-1,o=-1,u=-1,d=-1;(e.match(_6)||[]).forEach(function(g,y){var v=parseInt(r[y+1],10);switch(g.toLowerCase().charAt(0)){case"y":n=v;break;case"d":a=v;break;case"h":o=v;break;case"s":d=v;break;case"m":o>=0?u=v:s=v;break}}),d>=0&&u==-1&&s>=0&&(u=s,s=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var p=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&u==-1&&d==-1?h:n==-1&&s==-1&&a==-1?p:h+"T"+p}var $H=(function(){var t={};t.version="1.2.0";function e(){for(var A=0,S=new Array(256),C=0;C!=256;++C)A=C,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,S[C]=A;return typeof Int32Array<"u"?new Int32Array(S):S}var r=e();function n(A){var S=0,C=0,R=0,F=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)F[R]=A[R];for(R=0;R!=256;++R)for(C=A[R],S=256+R;S<4096;S+=256)C=F[S]=C>>>8^A[C&255];var W=[];for(R=1;R!=16;++R)W[R-1]=typeof Int32Array<"u"?F.subarray(R*256,R*256+256):F.slice(R*256,R*256+256);return W}var s=n(r),a=s[0],o=s[1],u=s[2],d=s[3],h=s[4],p=s[5],g=s[6],y=s[7],v=s[8],k=s[9],w=s[10],T=s[11],D=s[12],I=s[13],U=s[14];function O(A,S){for(var C=S^-1,R=0,F=A.length;R<F;)C=C>>>8^r[(C^A.charCodeAt(R++))&255];return~C}function X(A,S){for(var C=S^-1,R=A.length-15,F=0;F<R;)C=U[A[F++]^C&255]^I[A[F++]^C>>8&255]^D[A[F++]^C>>16&255]^T[A[F++]^C>>>24]^w[A[F++]]^k[A[F++]]^v[A[F++]]^y[A[F++]]^g[A[F++]]^p[A[F++]]^h[A[F++]]^d[A[F++]]^u[A[F++]]^o[A[F++]]^a[A[F++]]^r[A[F++]];for(R+=15;F<R;)C=C>>>8^r[(C^A[F++])&255];return~C}function B(A,S){for(var C=S^-1,R=0,F=A.length,W=0,M=0;R<F;)W=A.charCodeAt(R++),W<128?C=C>>>8^r[(C^W)&255]:W<2048?(C=C>>>8^r[(C^(192|W>>6&31))&255],C=C>>>8^r[(C^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,M=A.charCodeAt(R++)&1023,C=C>>>8^r[(C^(240|W>>8&7))&255],C=C>>>8^r[(C^(128|W>>2&63))&255],C=C>>>8^r[(C^(128|M>>6&15|(W&3)<<4))&255],C=C>>>8^r[(C^(128|M&63))&255]):(C=C>>>8^r[(C^(224|W>>12&15))&255],C=C>>>8^r[(C^(128|W>>6&63))&255],C=C>>>8^r[(C^(128|W&63))&255]);return~C}return t.table=r,t.bstr=O,t.buf=X,t.str=B,t})(),kr=(function(){var e={};e.version="1.2.1";function r(P,z){for(var H=P.split("/"),K=z.split("/"),J=0,Y=0,ue=Math.min(H.length,K.length);J<ue;++J){if(Y=H[J].length-K[J].length)return Y;if(H[J]!=K[J])return H[J]<K[J]?-1:1}return H.length-K.length}function n(P){if(P.charAt(P.length-1)=="/")return P.slice(0,-1).indexOf("/")===-1?P:n(P.slice(0,-1));var z=P.lastIndexOf("/");return z===-1?P:P.slice(0,z+1)}function s(P){if(P.charAt(P.length-1)=="/")return s(P.slice(0,-1));var z=P.lastIndexOf("/");return z===-1?P:P.slice(z+1)}function a(P,z){typeof z=="string"&&(z=new Date(z));var H=z.getHours();H=H<<6|z.getMinutes(),H=H<<5|z.getSeconds()>>>1,P.write_shift(2,H);var K=z.getFullYear()-1980;K=K<<4|z.getMonth()+1,K=K<<5|z.getDate(),P.write_shift(2,K)}function o(P){var z=P.read_shift(2)&65535,H=P.read_shift(2)&65535,K=new Date,J=H&31;H>>>=5;var Y=H&15;H>>>=4,K.setMilliseconds(0),K.setFullYear(H+1980),K.setMonth(Y-1),K.setDate(J);var ue=z&31;z>>>=5;var me=z&63;return z>>>=6,K.setHours(z),K.setMinutes(me),K.setSeconds(ue<<1),K}function u(P){Ms(P,0);for(var z={},H=0;P.l<=P.length-4;){var K=P.read_shift(2),J=P.read_shift(2),Y=P.l+J,ue={};switch(K){case 21589:H=P.read_shift(1),H&1&&(ue.mtime=P.read_shift(4)),J>5&&(H&2&&(ue.atime=P.read_shift(4)),H&4&&(ue.ctime=P.read_shift(4))),ue.mtime&&(ue.mt=new Date(ue.mtime*1e3));break}P.l=Y,z[K]=ue}return z}var d;function h(){return d||(d={})}function p(P,z){if(P[0]==80&&P[1]==75)return ot(P,z);if((P[0]|32)==109&&(P[1]|32)==105)return Wn(P,z);if(P.length<512)throw new Error("CFB file size "+P.length+" < 512");var H=3,K=512,J=0,Y=0,ue=0,me=0,he=0,ge=[],xe=P.slice(0,512);Ms(xe,0);var Ue=g(xe);switch(H=Ue[0],H){case 3:K=512;break;case 4:K=4096;break;case 0:if(Ue[1]==0)return ot(P,z);default:throw new Error("Major Version: Expected 3 or 4 saw "+H)}K!==512&&(xe=P.slice(0,K),Ms(xe,28));var Je=P.slice(0,K);y(xe,H);var lt=xe.read_shift(4,"i");if(H===3&&lt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+lt);xe.l+=4,ue=xe.read_shift(4,"i"),xe.l+=4,xe.chk("00100000","Mini Stream Cutoff Size: "),me=xe.read_shift(4,"i"),J=xe.read_shift(4,"i"),he=xe.read_shift(4,"i"),Y=xe.read_shift(4,"i");for(var Ke=-1,We=0;We<109&&(Ke=xe.read_shift(4,"i"),!(Ke<0));++We)ge[We]=Ke;var Pt=v(P,K);T(he,Y,Pt,K,ge);var nr=I(Pt,ue,ge,K);nr[ue].name="!Directory",J>0&&me!==M&&(nr[me].name="!MiniFAT"),nr[ge[0]].name="!FAT",nr.fat_addrs=ge,nr.ssz=K;var Jt={},sr=[],js=[],Ks=[];U(ue,nr,Pt,sr,J,Jt,js,me),k(js,Ks,sr),sr.shift();var ns={FileIndex:js,FullPaths:Ks};return z&&z.raw&&(ns.raw={header:Je,sectors:Pt}),ns}function g(P){if(P[P.l]==80&&P[P.l+1]==75)return[0,0];P.chk(Se,"Header Signature: "),P.l+=16;var z=P.read_shift(2,"u");return[P.read_shift(2,"u"),z]}function y(P,z){var H=9;switch(P.l+=2,H=P.read_shift(2)){case 9:if(z!=3)throw new Error("Sector Shift: Expected 9 saw "+H);break;case 12:if(z!=4)throw new Error("Sector Shift: Expected 12 saw "+H);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+H)}P.chk("0600","Mini Sector Shift: "),P.chk("000000000000","Reserved: ")}function v(P,z){for(var H=Math.ceil(P.length/z)-1,K=[],J=1;J<H;++J)K[J-1]=P.slice(J*z,(J+1)*z);return K[H-1]=P.slice(H*z),K}function k(P,z,H){for(var K=0,J=0,Y=0,ue=0,me=0,he=H.length,ge=[],xe=[];K<he;++K)ge[K]=xe[K]=K,z[K]=H[K];for(;me<xe.length;++me)K=xe[me],J=P[K].L,Y=P[K].R,ue=P[K].C,ge[K]===K&&(J!==-1&&ge[J]!==J&&(ge[K]=ge[J]),Y!==-1&&ge[Y]!==Y&&(ge[K]=ge[Y])),ue!==-1&&(ge[ue]=K),J!==-1&&K!=ge[K]&&(ge[J]=ge[K],xe.lastIndexOf(J)<me&&xe.push(J)),Y!==-1&&K!=ge[K]&&(ge[Y]=ge[K],xe.lastIndexOf(Y)<me&&xe.push(Y));for(K=1;K<he;++K)ge[K]===K&&(Y!==-1&&ge[Y]!==Y?ge[K]=ge[Y]:J!==-1&&ge[J]!==J&&(ge[K]=ge[J]));for(K=1;K<he;++K)if(P[K].type!==0){if(me=K,me!=ge[me])do me=ge[me],z[K]=z[me]+"/"+z[K];while(me!==0&&ge[me]!==-1&&me!=ge[me]);ge[K]=-1}for(z[0]+="/",K=1;K<he;++K)P[K].type!==2&&(z[K]+="/")}function w(P,z,H){for(var K=P.start,J=P.size,Y=[],ue=K;H&&J>0&&ue>=0;)Y.push(z.slice(ue*W,ue*W+W)),J-=W,ue=_l(H,ue*4);return Y.length===0?Ce(0):Mn(Y).slice(0,P.size)}function T(P,z,H,K,J){var Y=M;if(P===M){if(z!==0)throw new Error("DIFAT chain shorter than expected")}else if(P!==-1){var ue=H[P],me=(K>>>2)-1;if(!ue)return;for(var he=0;he<me&&(Y=_l(ue,he*4))!==M;++he)J.push(Y);T(_l(ue,K-4),z-1,H,K,J)}}function D(P,z,H,K,J){var Y=[],ue=[];J||(J=[]);var me=K-1,he=0,ge=0;for(he=z;he>=0;){J[he]=!0,Y[Y.length]=he,ue.push(P[he]);var xe=H[Math.floor(he*4/K)];if(ge=he*4&me,K<4+ge)throw new Error("FAT boundary crossed: "+he+" 4 "+K);if(!P[xe])break;he=_l(P[xe],ge)}return{nodes:Y,data:TT([ue])}}function I(P,z,H,K){var J=P.length,Y=[],ue=[],me=[],he=[],ge=K-1,xe=0,Ue=0,Je=0,lt=0;for(xe=0;xe<J;++xe)if(me=[],Je=xe+z,Je>=J&&(Je-=J),!ue[Je]){he=[];var Ke=[];for(Ue=Je;Ue>=0;){Ke[Ue]=!0,ue[Ue]=!0,me[me.length]=Ue,he.push(P[Ue]);var We=H[Math.floor(Ue*4/K)];if(lt=Ue*4&ge,K<4+lt)throw new Error("FAT boundary crossed: "+Ue+" 4 "+K);if(!P[We]||(Ue=_l(P[We],lt),Ke[Ue]))break}Y[Je]={nodes:me,data:TT([he])}}return Y}function U(P,z,H,K,J,Y,ue,me){for(var he=0,ge=K.length?2:0,xe=z[P].data,Ue=0,Je=0,lt;Ue<xe.length;Ue+=128){var Ke=xe.slice(Ue,Ue+128);Ms(Ke,64),Je=Ke.read_shift(2),lt=mb(Ke,0,Je-ge),K.push(lt);var We={name:lt,type:Ke.read_shift(1),color:Ke.read_shift(1),L:Ke.read_shift(4,"i"),R:Ke.read_shift(4,"i"),C:Ke.read_shift(4,"i"),clsid:Ke.read_shift(16),state:Ke.read_shift(4,"i"),start:0,size:0},Pt=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);Pt!==0&&(We.ct=O(Ke,Ke.l-8));var nr=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);nr!==0&&(We.mt=O(Ke,Ke.l-8)),We.start=Ke.read_shift(4,"i"),We.size=Ke.read_shift(4,"i"),We.size<0&&We.start<0&&(We.size=We.type=0,We.start=M,We.name=""),We.type===5?(he=We.start,J>0&&he!==M&&(z[he].name="!StreamData")):We.size>=4096?(We.storage="fat",z[We.start]===void 0&&(z[We.start]=D(H,We.start,z.fat_addrs,z.ssz)),z[We.start].name=We.name,We.content=z[We.start].data.slice(0,We.size)):(We.storage="minifat",We.size<0?We.size=0:he!==M&&We.start!==M&&z[he]&&(We.content=w(We,z[he].data,(z[me]||{}).data))),We.content&&Ms(We.content,0),Y[lt]=We,ue.push(We)}}function O(P,z){return new Date((Vs(P,z+4)/1e7*Math.pow(2,32)+Vs(P,z)/1e7-11644473600)*1e3)}function X(P,z){return h(),p(d.readFileSync(P),z)}function B(P,z){var H=z&&z.type;switch(H||dr&&Buffer.isBuffer(P)&&(H="buffer"),H||"base64"){case"file":return X(P,z);case"base64":return p(Sa(Wi(P)),z);case"binary":return p(Sa(P),z)}return p(P,z)}function A(P,z){var H=z||{},K=H.root||"Root Entry";if(P.FullPaths||(P.FullPaths=[]),P.FileIndex||(P.FileIndex=[]),P.FullPaths.length!==P.FileIndex.length)throw new Error("inconsistent CFB structure");P.FullPaths.length===0&&(P.FullPaths[0]=K+"/",P.FileIndex[0]={name:K,type:5}),H.CLSID&&(P.FileIndex[0].clsid=H.CLSID),S(P)}function S(P){var z="Sh33tJ5";if(!kr.find(P,"/"+z)){var H=Ce(4);H[0]=55,H[1]=H[3]=50,H[2]=54,P.FileIndex.push({name:z,type:2,content:H,size:4,L:69,R:69,C:69}),P.FullPaths.push(P.FullPaths[0]+z),C(P)}}function C(P,z){A(P);for(var H=!1,K=!1,J=P.FullPaths.length-1;J>=0;--J){var Y=P.FileIndex[J];switch(Y.type){case 0:K?H=!0:(P.FileIndex.pop(),P.FullPaths.pop());break;case 1:case 2:case 5:K=!0,isNaN(Y.R*Y.L*Y.C)&&(H=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(H=!0);break;default:H=!0;break}}if(!(!H&&!z)){var ue=new Date(1987,1,19),me=0,he=Object.create?Object.create(null):{},ge=[];for(J=0;J<P.FullPaths.length;++J)he[P.FullPaths[J]]=!0,P.FileIndex[J].type!==0&&ge.push([P.FullPaths[J],P.FileIndex[J]]);for(J=0;J<ge.length;++J){var xe=n(ge[J][0]);K=he[xe],K||(ge.push([xe,{name:s(xe).replace("/",""),type:1,clsid:$e,ct:ue,mt:ue,content:null}]),he[xe]=!0)}for(ge.sort(function(lt,Ke){return r(lt[0],Ke[0])}),P.FullPaths=[],P.FileIndex=[],J=0;J<ge.length;++J)P.FullPaths[J]=ge[J][0],P.FileIndex[J]=ge[J][1];for(J=0;J<ge.length;++J){var Ue=P.FileIndex[J],Je=P.FullPaths[J];if(Ue.name=s(Je).replace("/",""),Ue.L=Ue.R=Ue.C=-(Ue.color=1),Ue.size=Ue.content?Ue.content.length:0,Ue.start=0,Ue.clsid=Ue.clsid||$e,J===0)Ue.C=ge.length>1?1:-1,Ue.size=0,Ue.type=5;else if(Je.slice(-1)=="/"){for(me=J+1;me<ge.length&&n(P.FullPaths[me])!=Je;++me);for(Ue.C=me>=ge.length?-1:me,me=J+1;me<ge.length&&n(P.FullPaths[me])!=n(Je);++me);Ue.R=me>=ge.length?-1:me,Ue.type=1}else n(P.FullPaths[J+1]||"")==n(Je)&&(Ue.R=J+1),Ue.type=2}}}function R(P,z){var H=z||{};if(H.fileType=="mad")return ur(P,H);switch(C(P),H.fileType){case"zip":return Tt(P,H)}var K=(function(lt){for(var Ke=0,We=0,Pt=0;Pt<lt.FileIndex.length;++Pt){var nr=lt.FileIndex[Pt];if(nr.content){var Jt=nr.content.length;Jt>0&&(Jt<4096?Ke+=Jt+63>>6:We+=Jt+511>>9)}}for(var sr=lt.FullPaths.length+3>>2,js=Ke+7>>3,Ks=Ke+127>>7,ns=js+We+sr+Ks,Vr=ns+127>>7,Yi=Vr<=109?0:Math.ceil((Vr-109)/127);ns+Vr+Yi+127>>7>Vr;)Yi=++Vr<=109?0:Math.ceil((Vr-109)/127);var Pr=[1,Yi,Vr,Ks,sr,We,Ke,0];return lt.FileIndex[0].size=Ke<<6,Pr[7]=(lt.FileIndex[0].start=Pr[0]+Pr[1]+Pr[2]+Pr[3]+Pr[4]+Pr[5])+(Pr[6]+7>>3),Pr})(P),J=Ce(K[7]<<9),Y=0,ue=0;{for(Y=0;Y<8;++Y)J.write_shift(1,Ie[Y]);for(Y=0;Y<8;++Y)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),Y=0;Y<3;++Y)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,K[2]),J.write_shift(4,K[0]+K[1]+K[2]+K[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,K[3]?K[0]+K[1]+K[2]-1:M),J.write_shift(4,K[3]),J.write_shift(-4,K[1]?K[0]-1:M),J.write_shift(4,K[1]),Y=0;Y<109;++Y)J.write_shift(-4,Y<K[2]?K[1]+Y:-1)}if(K[1])for(ue=0;ue<K[1];++ue){for(;Y<236+ue*127;++Y)J.write_shift(-4,Y<K[2]?K[1]+Y:-1);J.write_shift(-4,ue===K[1]-1?M:ue+1)}var me=function(lt){for(ue+=lt;Y<ue-1;++Y)J.write_shift(-4,Y+1);lt&&(++Y,J.write_shift(-4,M))};for(ue=Y=0,ue+=K[1];Y<ue;++Y)J.write_shift(-4,Le.DIFSECT);for(ue+=K[2];Y<ue;++Y)J.write_shift(-4,Le.FATSECT);me(K[3]),me(K[4]);for(var he=0,ge=0,xe=P.FileIndex[0];he<P.FileIndex.length;++he)xe=P.FileIndex[he],xe.content&&(ge=xe.content.length,!(ge<4096)&&(xe.start=ue,me(ge+511>>9)));for(me(K[6]+7>>3);J.l&511;)J.write_shift(-4,Le.ENDOFCHAIN);for(ue=Y=0,he=0;he<P.FileIndex.length;++he)xe=P.FileIndex[he],xe.content&&(ge=xe.content.length,!(!ge||ge>=4096)&&(xe.start=ue,me(ge+63>>6)));for(;J.l&511;)J.write_shift(-4,Le.ENDOFCHAIN);for(Y=0;Y<K[4]<<2;++Y){var Ue=P.FullPaths[Y];if(!Ue||Ue.length===0){for(he=0;he<17;++he)J.write_shift(4,0);for(he=0;he<3;++he)J.write_shift(4,-1);for(he=0;he<12;++he)J.write_shift(4,0);continue}xe=P.FileIndex[Y],Y===0&&(xe.start=xe.size?xe.start-1:M);var Je=Y===0&&H.root||xe.name;if(ge=2*(Je.length+1),J.write_shift(64,Je,"utf16le"),J.write_shift(2,ge),J.write_shift(1,xe.type),J.write_shift(1,xe.color),J.write_shift(-4,xe.L),J.write_shift(-4,xe.R),J.write_shift(-4,xe.C),xe.clsid)J.write_shift(16,xe.clsid,"hex");else for(he=0;he<4;++he)J.write_shift(4,0);J.write_shift(4,xe.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,xe.start),J.write_shift(4,xe.size),J.write_shift(4,0)}for(Y=1;Y<P.FileIndex.length;++Y)if(xe=P.FileIndex[Y],xe.size>=4096)if(J.l=xe.start+1<<9,dr&&Buffer.isBuffer(xe.content))xe.content.copy(J,J.l,0,xe.size),J.l+=xe.size+511&-512;else{for(he=0;he<xe.size;++he)J.write_shift(1,xe.content[he]);for(;he&511;++he)J.write_shift(1,0)}for(Y=1;Y<P.FileIndex.length;++Y)if(xe=P.FileIndex[Y],xe.size>0&&xe.size<4096)if(dr&&Buffer.isBuffer(xe.content))xe.content.copy(J,J.l,0,xe.size),J.l+=xe.size+63&-64;else{for(he=0;he<xe.size;++he)J.write_shift(1,xe.content[he]);for(;he&63;++he)J.write_shift(1,0)}if(dr)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}function F(P,z){var H=P.FullPaths.map(function(he){return he.toUpperCase()}),K=H.map(function(he){var ge=he.split("/");return ge[ge.length-(he.slice(-1)=="/"?2:1)]}),J=!1;z.charCodeAt(0)===47?(J=!0,z=H[0].slice(0,-1)+z):J=z.indexOf("/")!==-1;var Y=z.toUpperCase(),ue=J===!0?H.indexOf(Y):K.indexOf(Y);if(ue!==-1)return P.FileIndex[ue];var me=!Y.match(Sf);for(Y=Y.replace(qd,""),me&&(Y=Y.replace(Sf,"!")),ue=0;ue<H.length;++ue)if((me?H[ue].replace(Sf,"!"):H[ue]).replace(qd,"")==Y||(me?K[ue].replace(Sf,"!"):K[ue]).replace(qd,"")==Y)return P.FileIndex[ue];return null}var W=64,M=-2,Se="d0cf11e0a1b11ae1",Ie=[208,207,17,224,161,177,26,225],$e="00000000000000000000000000000000",Le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:Se,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:$e,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function _e(P,z,H){h();var K=R(P,H);d.writeFileSync(z,K)}function ie(P){for(var z=new Array(P.length),H=0;H<P.length;++H)z[H]=String.fromCharCode(P[H]);return z.join("")}function de(P,z){var H=R(P,z);switch(z&&z.type||"buffer"){case"file":return h(),d.writeFileSync(z.filename,H),H;case"binary":return typeof H=="string"?H:ie(H);case"base64":return b0(typeof H=="string"?H:ie(H));case"buffer":if(dr)return Buffer.isBuffer(H)?H:Xi(H);case"array":return typeof H=="string"?Sa(H):H}return H}var se;function V(P){try{var z=P.InflateRaw,H=new z;if(H._processChunk(new Uint8Array([3,0]),H._finishFlushFlag),H.bytesRead)se=P;else throw new Error("zlib does not expose bytesRead")}catch(K){console.error("cannot use native zlib: "+(K.message||K))}}function te(P,z){if(!se)return Nt(P,z);var H=se.InflateRaw,K=new H,J=K._processChunk(P.slice(P.l),K._finishFlushFlag);return P.l+=K.bytesRead,J}function re(P){return se?se.deflateRawSync(P):Q(P)}var ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Be(P){var z=(P<<1|P<<11)&139536|(P<<5|P<<15)&558144;return(z>>16|z>>8|z)&255}for(var Ae=typeof Uint8Array<"u",Fe=Ae?new Uint8Array(256):[],it=0;it<256;++it)Fe[it]=Be(it);function yt(P,z){var H=Fe[P&255];return z<=8?H>>>8-z:(H=H<<8|Fe[P>>8&255],z<=16?H>>>16-z:(H=H<<8|Fe[P>>16&255],H>>>24-z))}function Wt(P,z){var H=z&7,K=z>>>3;return(P[K]|(H<=6?0:P[K+1]<<8))>>>H&3}function De(P,z){var H=z&7,K=z>>>3;return(P[K]|(H<=5?0:P[K+1]<<8))>>>H&7}function fr(P,z){var H=z&7,K=z>>>3;return(P[K]|(H<=4?0:P[K+1]<<8))>>>H&15}function Mt(P,z){var H=z&7,K=z>>>3;return(P[K]|(H<=3?0:P[K+1]<<8))>>>H&31}function Pe(P,z){var H=z&7,K=z>>>3;return(P[K]|(H<=1?0:P[K+1]<<8))>>>H&127}function pr(P,z,H){var K=z&7,J=z>>>3,Y=(1<<H)-1,ue=P[J]>>>K;return H<8-K||(ue|=P[J+1]<<8-K,H<16-K)||(ue|=P[J+2]<<16-K,H<24-K)||(ue|=P[J+3]<<24-K),ue&Y}function $t(P,z,H){var K=z&7,J=z>>>3;return K<=5?P[J]|=(H&7)<<K:(P[J]|=H<<K&255,P[J+1]=(H&7)>>8-K),z+3}function Gt(P,z,H){var K=z&7,J=z>>>3;return H=(H&1)<<K,P[J]|=H,z+1}function le(P,z,H){var K=z&7,J=z>>>3;return H<<=K,P[J]|=H&255,H>>>=8,P[J+1]=H,z+8}function Ye(P,z,H){var K=z&7,J=z>>>3;return H<<=K,P[J]|=H&255,H>>>=8,P[J+1]=H&255,P[J+2]=H>>>8,z+16}function ct(P,z){var H=P.length,K=2*H>z?2*H:z+5,J=0;if(H>=z)return P;if(dr){var Y=cT(K);if(P.copy)P.copy(Y);else for(;J<P.length;++J)Y[J]=P[J];return Y}else if(Ae){var ue=new Uint8Array(K);if(ue.set)ue.set(P);else for(;J<H;++J)ue[J]=P[J];return ue}return P.length=K,P}function ut(P){for(var z=new Array(P),H=0;H<P;++H)z[H]=0;return z}function At(P,z,H){var K=1,J=0,Y=0,ue=0,me=0,he=P.length,ge=Ae?new Uint16Array(32):ut(32);for(Y=0;Y<32;++Y)ge[Y]=0;for(Y=he;Y<H;++Y)P[Y]=0;he=P.length;var xe=Ae?new Uint16Array(he):ut(he);for(Y=0;Y<he;++Y)ge[J=P[Y]]++,K<J&&(K=J),xe[Y]=0;for(ge[0]=0,Y=1;Y<=K;++Y)ge[Y+16]=me=me+ge[Y-1]<<1;for(Y=0;Y<he;++Y)me=P[Y],me!=0&&(xe[Y]=ge[me+16]++);var Ue=0;for(Y=0;Y<he;++Y)if(Ue=P[Y],Ue!=0)for(me=yt(xe[Y],K)>>K-Ue,ue=(1<<K+4-Ue)-1;ue>=0;--ue)z[me|ue<<Ue]=Ue&15|Y<<4;return K}var wt=Ae?new Uint16Array(512):ut(512),st=Ae?new Uint16Array(32):ut(32);if(!Ae){for(var gt=0;gt<512;++gt)wt[gt]=0;for(gt=0;gt<32;++gt)st[gt]=0}(function(){for(var P=[],z=0;z<32;z++)P.push(5);At(P,st,32);var H=[];for(z=0;z<=143;z++)H.push(8);for(;z<=255;z++)H.push(9);for(;z<=279;z++)H.push(7);for(;z<=287;z++)H.push(8);At(H,wt,288)})();var ir=(function(){for(var z=Ae?new Uint8Array(32768):[],H=0,K=0;H<Oe.length-1;++H)for(;K<Oe[H+1];++K)z[K]=H;for(;K<32768;++K)z[K]=29;var J=Ae?new Uint8Array(259):[];for(H=0,K=0;H<ee.length-1;++H)for(;K<ee[H+1];++K)J[K]=H;function Y(me,he){for(var ge=0;ge<me.length;){var xe=Math.min(65535,me.length-ge),Ue=ge+xe==me.length;for(he.write_shift(1,+Ue),he.write_shift(2,xe),he.write_shift(2,~xe&65535);xe-- >0;)he[he.l++]=me[ge++]}return he.l}function ue(me,he){for(var ge=0,xe=0,Ue=Ae?new Uint16Array(32768):[];xe<me.length;){var Je=Math.min(65535,me.length-xe);if(Je<10){for(ge=$t(he,ge,+(xe+Je==me.length)),ge&7&&(ge+=8-(ge&7)),he.l=ge/8|0,he.write_shift(2,Je),he.write_shift(2,~Je&65535);Je-- >0;)he[he.l++]=me[xe++];ge=he.l*8;continue}ge=$t(he,ge,+(xe+Je==me.length)+2);for(var lt=0;Je-- >0;){var Ke=me[xe];lt=(lt<<5^Ke)&32767;var We=-1,Pt=0;if((We=Ue[lt])&&(We|=xe&-32768,We>xe&&(We-=32768),We<xe))for(;me[We+Pt]==me[xe+Pt]&&Pt<250;)++Pt;if(Pt>2){Ke=J[Pt],Ke<=22?ge=le(he,ge,Fe[Ke+1]>>1)-1:(le(he,ge,3),ge+=5,le(he,ge,Fe[Ke-23]>>5),ge+=3);var nr=Ke<8?0:Ke-4>>2;nr>0&&(Ye(he,ge,Pt-ee[Ke]),ge+=nr),Ke=z[xe-We],ge=le(he,ge,Fe[Ke]>>3),ge-=3;var Jt=Ke<4?0:Ke-2>>1;Jt>0&&(Ye(he,ge,xe-We-Oe[Ke]),ge+=Jt);for(var sr=0;sr<Pt;++sr)Ue[lt]=xe&32767,lt=(lt<<5^me[xe])&32767,++xe;Je-=Pt-1}else Ke<=143?Ke=Ke+48:ge=Gt(he,ge,1),ge=le(he,ge,Fe[Ke]),Ue[lt]=xe&32767,++xe}ge=le(he,ge,0)-1}return he.l=(ge+7)/8|0,he.l}return function(he,ge){return he.length<8?Y(he,ge):ue(he,ge)}})();function Q(P){var z=Ce(50+Math.floor(P.length*1.1)),H=ir(P,z);return z.slice(0,H)}var Te=Ae?new Uint16Array(32768):ut(32768),ft=Ae?new Uint16Array(32768):ut(32768),be=Ae?new Uint16Array(128):ut(128),ke=1,Me=1;function Ze(P,z){var H=Mt(P,z)+257;z+=5;var K=Mt(P,z)+1;z+=5;var J=fr(P,z)+4;z+=4;for(var Y=0,ue=Ae?new Uint8Array(19):ut(19),me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],he=1,ge=Ae?new Uint8Array(8):ut(8),xe=Ae?new Uint8Array(8):ut(8),Ue=ue.length,Je=0;Je<J;++Je)ue[ne[Je]]=Y=De(P,z),he<Y&&(he=Y),ge[Y]++,z+=3;var lt=0;for(ge[0]=0,Je=1;Je<=he;++Je)xe[Je]=lt=lt+ge[Je-1]<<1;for(Je=0;Je<Ue;++Je)(lt=ue[Je])!=0&&(me[Je]=xe[lt]++);var Ke=0;for(Je=0;Je<Ue;++Je)if(Ke=ue[Je],Ke!=0){lt=Fe[me[Je]]>>8-Ke;for(var We=(1<<7-Ke)-1;We>=0;--We)be[lt|We<<Ke]=Ke&7|Je<<3}var Pt=[];for(he=1;Pt.length<H+K;)switch(lt=be[Pe(P,z)],z+=lt&7,lt>>>=3){case 16:for(Y=3+Wt(P,z),z+=2,lt=Pt[Pt.length-1];Y-- >0;)Pt.push(lt);break;case 17:for(Y=3+De(P,z),z+=3;Y-- >0;)Pt.push(0);break;case 18:for(Y=11+Pe(P,z),z+=7;Y-- >0;)Pt.push(0);break;default:Pt.push(lt),he<lt&&(he=lt);break}var nr=Pt.slice(0,H),Jt=Pt.slice(H);for(Je=H;Je<286;++Je)nr[Je]=0;for(Je=K;Je<30;++Je)Jt[Je]=0;return ke=At(nr,Te,286),Me=At(Jt,ft,30),z}function vt(P,z){if(P[0]==3&&!(P[1]&3))return[Bl(z),2];for(var H=0,K=0,J=cT(z||1<<18),Y=0,ue=J.length>>>0,me=0,he=0;(K&1)==0;){if(K=De(P,H),H+=3,K>>>1)K>>1==1?(me=9,he=5):(H=Ze(P,H),me=ke,he=Me);else{H&7&&(H+=8-(H&7));var ge=P[H>>>3]|P[(H>>>3)+1]<<8;if(H+=32,ge>0)for(!z&&ue<Y+ge&&(J=ct(J,Y+ge),ue=J.length);ge-- >0;)J[Y++]=P[H>>>3],H+=8;continue}for(;;){!z&&ue<Y+32767&&(J=ct(J,Y+32767),ue=J.length);var xe=pr(P,H,me),Ue=K>>>1==1?wt[xe]:Te[xe];if(H+=Ue&15,Ue>>>=4,(Ue>>>8&255)===0)J[Y++]=Ue;else{if(Ue==256)break;Ue-=257;var Je=Ue<8?0:Ue-4>>2;Je>5&&(Je=0);var lt=Y+ee[Ue];Je>0&&(lt+=pr(P,H,Je),H+=Je),xe=pr(P,H,he),Ue=K>>>1==1?st[xe]:ft[xe],H+=Ue&15,Ue>>>=4;var Ke=Ue<4?0:Ue-2>>1,We=Oe[Ue];for(Ke>0&&(We+=pr(P,H,Ke),H+=Ke),!z&&ue<lt&&(J=ct(J,lt+100),ue=J.length);Y<lt;)J[Y]=J[Y-We],++Y}}}return z?[J,H+7>>>3]:[J.slice(0,Y),H+7>>>3]}function Nt(P,z){var H=P.slice(P.l||0),K=vt(H,z);return P.l+=K[1],K[0]}function at(P,z){if(P)typeof console<"u"&&console.error(z);else throw new Error(z)}function ot(P,z){var H=P;Ms(H,0);var K=[],J=[],Y={FileIndex:K,FullPaths:J};A(Y,{root:z.root});for(var ue=H.length-4;(H[ue]!=80||H[ue+1]!=75||H[ue+2]!=5||H[ue+3]!=6)&&ue>=0;)--ue;H.l=ue+4,H.l+=4;var me=H.read_shift(2);H.l+=6;var he=H.read_shift(4);for(H.l=he,ue=0;ue<me;++ue){H.l+=20;var ge=H.read_shift(4),xe=H.read_shift(4),Ue=H.read_shift(2),Je=H.read_shift(2),lt=H.read_shift(2);H.l+=8;var Ke=H.read_shift(4),We=u(H.slice(H.l+Ue,H.l+Ue+Je));H.l+=Ue+Je+lt;var Pt=H.l;H.l=Ke+4,et(H,ge,xe,Y,We),H.l=Pt}return Y}function et(P,z,H,K,J){P.l+=2;var Y=P.read_shift(2),ue=P.read_shift(2),me=o(P);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var he=P.read_shift(4),ge=P.read_shift(4),xe=P.read_shift(4),Ue=P.read_shift(2),Je=P.read_shift(2),lt="",Ke=0;Ke<Ue;++Ke)lt+=String.fromCharCode(P[P.l++]);if(Je){var We=u(P.slice(P.l,P.l+Je));(We[21589]||{}).mt&&(me=We[21589].mt),((J||{})[21589]||{}).mt&&(me=J[21589].mt)}P.l+=Je;var Pt=P.slice(P.l,P.l+ge);switch(ue){case 8:Pt=te(P,xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ue)}var nr=!1;Y&8&&(he=P.read_shift(4),he==134695760&&(he=P.read_shift(4),nr=!0),ge=P.read_shift(4),xe=P.read_shift(4)),ge!=z&&at(nr,"Bad compressed size: "+z+" != "+ge),xe!=H&&at(nr,"Bad uncompressed size: "+H+" != "+xe),Tr(K,lt,Pt,{unsafe:!0,mt:me})}function Tt(P,z){var H=z||{},K=[],J=[],Y=Ce(1),ue=H.compression?8:0,me=0,he=0,ge=0,xe=0,Ue=0,Je=P.FullPaths[0],lt=Je,Ke=P.FileIndex[0],We=[],Pt=0;for(he=1;he<P.FullPaths.length;++he)if(lt=P.FullPaths[he].slice(Je.length),Ke=P.FileIndex[he],!(!Ke.size||!Ke.content||lt=="Sh33tJ5")){var nr=xe,Jt=Ce(lt.length);for(ge=0;ge<lt.length;++ge)Jt.write_shift(1,lt.charCodeAt(ge)&127);Jt=Jt.slice(0,Jt.l),We[Ue]=$H.buf(Ke.content,0);var sr=Ke.content;ue==8&&(sr=re(sr)),Y=Ce(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,me),Y.write_shift(2,ue),Ke.mt?a(Y,Ke.mt):Y.write_shift(4,0),Y.write_shift(-4,We[Ue]),Y.write_shift(4,sr.length),Y.write_shift(4,Ke.content.length),Y.write_shift(2,Jt.length),Y.write_shift(2,0),xe+=Y.length,K.push(Y),xe+=Jt.length,K.push(Jt),xe+=sr.length,K.push(sr),Y=Ce(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,me),Y.write_shift(2,ue),Y.write_shift(4,0),Y.write_shift(-4,We[Ue]),Y.write_shift(4,sr.length),Y.write_shift(4,Ke.content.length),Y.write_shift(2,Jt.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,nr),Pt+=Y.l,J.push(Y),Pt+=Jt.length,J.push(Jt),++Ue}return Y=Ce(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Ue),Y.write_shift(2,Ue),Y.write_shift(4,Pt),Y.write_shift(4,xe),Y.write_shift(2,0),Mn([Mn(K),Mn(J),Y])}var Bt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Kt(P,z){if(P.ctype)return P.ctype;var H=P.name||"",K=H.match(/\.([^\.]+)$/);return K&&Bt[K[1]]||z&&(K=(H=z).match(/[\.\\]([^\.\\])+$/),K&&Bt[K[1]])?Bt[K[1]]:"application/octet-stream"}function Ir(P){for(var z=b0(P),H=[],K=0;K<z.length;K+=76)H.push(z.slice(K,K+76));return H.join(`\r
`)+`\r
`}function $r(P){var z=P.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var xe=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(xe.length==1?"0"+xe:xe)});z=z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),z.charAt(0)==`
`&&(z="=0D"+z.slice(1)),z=z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var H=[],K=z.split(`\r
`),J=0;J<K.length;++J){var Y=K[J];if(Y.length==0){H.push("");continue}for(var ue=0;ue<Y.length;){var me=76,he=Y.slice(ue,ue+me);he.charAt(me-1)=="="?me--:he.charAt(me-2)=="="?me-=2:he.charAt(me-3)=="="&&(me-=3),he=Y.slice(ue,ue+me),ue+=me,ue<Y.length&&(he+="="),H.push(he)}}return H.join(`\r
`)}function dn(P){for(var z=[],H=0;H<P.length;++H){for(var K=P[H];H<=P.length&&K.charAt(K.length-1)=="=";)K=K.slice(0,K.length-1)+P[++H];z.push(K)}for(var J=0;J<z.length;++J)z[J]=z[J].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return Sa(z.join(`\r
`))}function cr(P,z,H){for(var K="",J="",Y="",ue,me=0;me<10;++me){var he=z[me];if(!he||he.match(/^\s*$/))break;var ge=he.match(/^(.*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":K=ge[2].trim();break;case"content-type":Y=ge[2].trim();break;case"content-transfer-encoding":J=ge[2].trim();break}}switch(++me,J.toLowerCase()){case"base64":ue=Sa(Wi(z.slice(me).join("")));break;case"quoted-printable":ue=dn(z.slice(me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var xe=Tr(P,K.slice(H.length),ue,{unsafe:!0});Y&&(xe.ctype=Y)}function Wn(P,z){if(ie(P.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var H=z&&z.root||"",K=(dr&&Buffer.isBuffer(P)?P.toString("binary"):ie(P)).split(`\r
`),J=0,Y="";for(J=0;J<K.length;++J)if(Y=K[J],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),H||(H=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,H.length)!=H))for(;H.length>0&&(H=H.slice(0,H.length-1),H=H.slice(0,H.lastIndexOf("/")+1),Y.slice(0,H.length)!=H););var ue=(K[1]||"").match(/boundary="(.*?)"/);if(!ue)throw new Error("MAD cannot find boundary");var me="--"+(ue[1]||""),he=[],ge=[],xe={FileIndex:he,FullPaths:ge};A(xe);var Ue,Je=0;for(J=0;J<K.length;++J){var lt=K[J];lt!==me&&lt!==me+"--"||(Je++&&cr(xe,K.slice(Ue,J),H),Ue=J)}return xe}function ur(P,z){var H=z||{},K=H.boundary||"SheetJS";K="------="+K;for(var J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+K.slice(2)+'"',"","",""],Y=P.FullPaths[0],ue=Y,me=P.FileIndex[0],he=1;he<P.FullPaths.length;++he)if(ue=P.FullPaths[he].slice(Y.length),me=P.FileIndex[he],!(!me.size||!me.content||ue=="Sh33tJ5")){ue=ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Pt){return"_x"+Pt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Pt){return"_u"+Pt.charCodeAt(0).toString(16)+"_"});for(var ge=me.content,xe=dr&&Buffer.isBuffer(ge)?ge.toString("binary"):ie(ge),Ue=0,Je=Math.min(1024,xe.length),lt=0,Ke=0;Ke<=Je;++Ke)(lt=xe.charCodeAt(Ke))>=32&&lt<128&&++Ue;var We=Ue>=Je*4/5;J.push(K),J.push("Content-Location: "+(H.root||"file:///C:/SheetJS/")+ue),J.push("Content-Transfer-Encoding: "+(We?"quoted-printable":"base64")),J.push("Content-Type: "+Kt(me,ue)),J.push(""),J.push(We?$r(xe):Ir(xe))}return J.push(K+`--\r
`),J.join(`\r
`)}function hn(P){var z={};return A(z,P),z}function Tr(P,z,H,K){var J=K&&K.unsafe;J||A(P);var Y=!J&&kr.find(P,z);if(!Y){var ue=P.FullPaths[0];z.slice(0,ue.length)==ue?ue=z:(ue.slice(-1)!="/"&&(ue+="/"),ue=(ue+z).replace("//","/")),Y={name:s(z),type:2},P.FileIndex.push(Y),P.FullPaths.push(ue),J||kr.utils.cfb_gc(P)}return Y.content=H,Y.size=H?H.length:0,K&&(K.CLSID&&(Y.clsid=K.CLSID),K.mt&&(Y.mt=K.mt),K.ct&&(Y.ct=K.ct)),Y}function yn(P,z){A(P);var H=kr.find(P,z);if(H){for(var K=0;K<P.FileIndex.length;++K)if(P.FileIndex[K]==H)return P.FileIndex.splice(K,1),P.FullPaths.splice(K,1),!0}return!1}function ve(P,z,H){A(P);var K=kr.find(P,z);if(K){for(var J=0;J<P.FileIndex.length;++J)if(P.FileIndex[J]==K)return P.FileIndex[J].name=s(H),P.FullPaths[J]=H,!0}return!1}function Ne(P){C(P,!0)}return e.find=F,e.read=B,e.parse=p,e.write=de,e.writeFile=_e,e.utils={cfb_new:hn,cfb_add:Tr,cfb_del:yn,cfb_mov:ve,cfb_gc:Ne,ReadShift:Kd,CheckField:V6,prep_blob:Ms,bconcat:Mn,use_zlib:V,_deflateRaw:Q,_inflateRaw:Nt,consts:Le},e})();function VH(t){return typeof t=="string"?Rm(t):Array.isArray(t)?hH(t):t}function Q0(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Rm(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?_0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var s=new Blob([VH(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(t);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=Y0(e)),u.write(e),u.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function Hn(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function xT(t,e){for(var r=[],n=Hn(t),s=0;s!==n.length;++s)r[t[n[s]][e]]==null&&(r[t[n[s]][e]]=n[s]);return r}function db(t){for(var e=[],r=Hn(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Fm(t){for(var e=[],r=Hn(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function BH(t){for(var e=[],r=Hn(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var $p=new Date(1899,11,30,0,0,0);function As(t,e){var r=t.getTime(),n=$p.getTime()+(t.getTimezoneOffset()-$p.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var E6=new Date,UH=$p.getTime()+(E6.getTimezoneOffset()-$p.getTimezoneOffset())*6e4,yT=E6.getTimezoneOffset();function T6(t){var e=new Date;return e.setTime(t*24*60*60*1e3+UH),e.getTimezoneOffset()!==yT&&e.setTime(e.getTime()+(e.getTimezoneOffset()-yT)*6e4),e}var vT=new Date("2017-02-19T19:06:09.000Z"),k6=isNaN(vT.getFullYear())?new Date("2/19/17"):vT,zH=k6.getFullYear()==2017;function hs(t,e){var r=new Date(t);if(zH)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(k6.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Lm(t,e){if(dr&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return r[a]||a})}catch{}for(var n=[],s=0;s!=t.length;++s)n.push(String.fromCharCode(t[s]));return n.join("")}function Cs(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Cs(t[r]));return e}function Xr(t,e){for(var r="";r.length<e;)r+=t;return r}function Fi(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var HH=["january","february","march","april","may","june","july","august","september","october","november","december"];function w0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),s=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&HH.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Ut(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return dr?n=Xi(r):n=fH(r),kr.utils.cfb_add(t,e,n)}kr.utils.cfb_add(t,e,r)}else t.file(e,r)}function hb(){return kr.utils.cfb_new()}var un=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,WH={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},fb=db(WH),pb=/[&<>'"]/g,qH=/[\u0000-\u0008\u000b-\u001f]/g;function _r(t){var e=t+"";return e.replace(pb,function(r){return fb[r]}).replace(qH,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function bT(t){return _r(t).replace(/ /g,"_x0020_")}var N6=/[\u0000-\u001f]/g;function GH(t){var e=t+"";return e.replace(pb,function(r){return fb[r]}).replace(/\n/g,"<br/>").replace(N6,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function KH(t){var e=t+"";return e.replace(pb,function(r){return fb[r]}).replace(N6,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function XH(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function YH(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Yx(t){for(var e="",r=0,n=0,s=0,a=0,o=0,u=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(s=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,e+=String.fromCharCode(o);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63);continue}o=t.charCodeAt(r++),u=((n&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function wT(t){var e=Bl(2*t.length),r,n,s=1,a=0,o=0,u;for(n=0;n<t.length;n+=s)s=1,(u=t.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(t.charCodeAt(n+1)&63),s=2):u<240?(r=(u&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),s=3):(s=4,r=(u&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[a++]=o&255,e[a++]=o>>>8,o=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function _T(t){return Xi(t,"binary").toString("utf8")}var Cf="foo bar bazâð£",Gd=dr&&(_T(Cf)==Yx(Cf)&&_T||wT(Cf)==Yx(Cf)&&wT)||Yx,_0=dr?function(t){return Xi(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,s=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},QH=(function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)n=n.replace(t[s][0],t[s][1]);return n}})(),S6=/(^\s|\s$|\n)/;function $n(t,e){return"<"+t+(e.match(S6)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function E0(t){return Hn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function tt(t,e,r){return"<"+t+(r!=null?E0(r):"")+(e!=null?(e.match(S6)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function t1(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function JH(t,e){switch(typeof t){case"string":var r=tt("vt:lpwstr",_r(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return tt((t|0)==t?"vt:i4":"vt:r8",_r(String(t)));case"boolean":return tt("vt:bool",t?"true":"false")}if(t instanceof Date)return tt("vt:filetime",t1(t));throw new Error("Unable to serialize "+t)}var kn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},$u=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],$s={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function ZH(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,a=5;a>=0;--a)s=s*256+t[e+a];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function eW(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,a=0,o=n?-e:e;isFinite(o)?o==0?s=a=0:(s=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(e)?26985:0);for(var u=0;u<=5;++u,a/=256)t[r+u]=a&255;t[r+6]=(s&15)<<4|a&15,t[r+7]=s>>4|n}var ET=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var s=0,a=t[0][n].length;s<a;s+=r)e.push.apply(e,t[0][n].slice(s,s+r));return e},TT=dr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Xi(e)})):ET(t)}:ET,kT=function(t,e,r){for(var n=[],s=e;s<r;s+=2)n.push(String.fromCharCode(Rd(t,s)));return n.join("").replace(qd,"")},mb=dr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(qd,""):kT(t,e,r)}:kT,NT=function(t,e,r){for(var n=[],s=e;s<e+r;++s)n.push(("0"+t[s].toString(16)).slice(-2));return n.join("")},A6=dr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):NT(t,e,r)}:NT,ST=function(t,e,r){for(var n=[],s=e;s<r;s++)n.push(String.fromCharCode(Gc(t,s)));return n.join("")},J0=dr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):ST(e,r,n)}:ST,C6=function(t,e){var r=Vs(t,e);return r>0?J0(t,e+4,e+4+r-1):""},j6=C6,I6=function(t,e){var r=Vs(t,e);return r>0?J0(t,e+4,e+4+r-1):""},P6=I6,R6=function(t,e){var r=2*Vs(t,e);return r>0?J0(t,e+4,e+4+r-1):""},D6=R6,O6=function(e,r){var n=Vs(e,r);return n>0?mb(e,r+4,r+4+n):""},F6=O6,L6=function(t,e){var r=Vs(t,e);return r>0?J0(t,e+4,e+4+r):""},M6=L6,$6=function(t,e){return ZH(t,e)},Vp=$6,gb=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};dr&&(j6=function(e,r){if(!Buffer.isBuffer(e))return C6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},P6=function(e,r){if(!Buffer.isBuffer(e))return I6(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},D6=function(e,r){if(!Buffer.isBuffer(e))return R6(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},F6=function(e,r){if(!Buffer.isBuffer(e))return O6(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},M6=function(e,r){if(!Buffer.isBuffer(e))return L6(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Vp=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):$6(e,r)},gb=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Gc=function(t,e){return t[e]},Rd=function(t,e){return t[e+1]*256+t[e]},tW=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Vs=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},_l=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},rW=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Kd(t,e){var r="",n,s,a=[],o,u,d,h;switch(e){case"dbcs":if(h=this.l,dr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(Rd(this,h)),h+=2;t*=2;break;case"utf8":r=J0(this,this.l,this.l+t);break;case"utf16le":t*=2,r=mb(this,this.l,this.l+t);break;case"wstr":return Kd.call(this,t,"dbcs");case"lpstr-ansi":r=j6(this,this.l),t=4+Vs(this,this.l);break;case"lpstr-cp":r=P6(this,this.l),t=4+Vs(this,this.l);break;case"lpwstr":r=D6(this,this.l),t=4+2*Vs(this,this.l);break;case"lpp4":t=4+Vs(this,this.l),r=F6(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Vs(this,this.l),r=M6(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=Gc(this,this.l+t++))!==0;)a.push(Nf(o));r=a.join("");break;case"_wstr":for(t=0,r="";(o=Rd(this,this.l+t))!==0;)a.push(Nf(o)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",h=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return o=Gc(this,h),this.l=h+1,u=Kd.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Nf(Rd(this,h))),h+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return o=Gc(this,h),this.l=h+1,u=Kd.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Nf(Gc(this,h))),h+=1}r=a.join("");break;default:switch(t){case 1:return n=Gc(this,this.l),this.l++,n;case 2:return n=(e==="i"?tW:Rd)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?_l:rW)(this,this.l),this.l+=4,n):(s=Vs(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=Vp(this,this.l):s=Vp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=A6(this,this.l,t);break}}return this.l+=t,r}var nW=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},sW=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},aW=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function iW(t,e,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)aW(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var o=e.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,nW(this,e,this.l);break;case 8:if(n=8,r==="f"){eW(this,e,this.l);break}case 16:break;case-4:n=4,sW(this,e,this.l);break}return this.l+=n,this}function V6(t,e){var r=A6(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ms(t,e){t.l=e,t.read_shift=Kd,t.chk=V6,t.write_shift=iW}function hi(t,e){t.l+=e}function Ce(t){var e=Bl(t);return Ms(e,0),e}function Ss(){var t=[],e=dr?256:2048,r=function(h){var p=Ce(h);return Ms(p,0),p},n=r(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(h){return n&&h<n.length-n.l?n:(s(),n=r(Math.max(h+1,e)))},o=function(){return s(),Mn(t)},u=function(h){s(),n=h,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:u,end:o,_bufs:t}}function ze(t,e,r,n){var s=+e,a;if(!isNaN(s)){n||(n=ZY[s].p||(r||[]).length||0),a=1+(s>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var o=t.next(a);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var u=0;u!=4;++u)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&gb(r)&&t.push(r)}}function Xd(t,e,r){var n=Cs(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function AT(t,e,r){var n=Cs(t);return n.s=Xd(n.s,e.s,r),n.e=Xd(n.e,e.s,r),n}function Yd(t,e){if(t.cRel&&t.c<0)for(t=Cs(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Cs(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Er(t);return!t.cRel&&t.cRel!=null&&(r=cW(r)),!t.rRel&&t.rRel!=null&&(r=oW(r)),r}function Qx(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+es(t.s.c)+":"+(t.e.cRel?"":"$")+es(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Un(t.s.r)+":"+(t.e.rRel?"":"$")+Un(t.e.r):Yd(t.s,e.biff)+":"+Yd(t.e,e.biff)}function xb(t){return parseInt(lW(t),10)-1}function Un(t){return""+(t+1)}function oW(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function lW(t){return t.replace(/\$(\d+)$/,"$1")}function yb(t){for(var e=uW(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function es(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function cW(t){return t.replace(/^([A-Z])/,"$$$1")}function uW(t){return t.replace(/^\$([A-Z])/,"$1")}function dW(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Nn(t){for(var e=0,r=0,n=0;n<t.length;++n){var s=t.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function Er(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Gs(t){var e=t.indexOf(":");return e==-1?{s:Nn(t),e:Nn(t)}:{s:Nn(t.slice(0,e)),e:Nn(t.slice(e+1))}}function cn(t,e){return typeof e>"u"||typeof e=="number"?cn(t.s,t.e):(typeof t!="string"&&(t=Er(t)),typeof e!="string"&&(e=Er(e)),t==e?t:t+":"+e)}function Or(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,a=t.length;for(r=0;n<a&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.s.c=--r,r=0;n<a&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(e.s.r=--r,n===a||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.e.c=--r,r=0;n!=a&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return e.e.r=--r,e}function CT(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Wo(t.z,r?As(e):e)}catch{}try{return t.w=Wo((t.XF||{}).numFmtId||(r?14:0),r?As(e):e)}catch{return""+e}}function qi(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Z0[t.v]||t.v:e==null?CT(t,t.v):CT(t,e))}function rc(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function B6(t,e,r){var n=r||{},s=t?Array.isArray(t):n.dense,a=t||(s?[]:{}),o=0,u=0;if(a&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?Nn(n.origin):n.origin;o=d.r,u=d.c}a["!ref"]||(a["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var p=Or(a["!ref"]);h.s.c=p.s.c,h.s.r=p.s.r,h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),o==-1&&(h.e.r=o=p.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[g].length;++y)if(!(typeof e[g][y]>"u")){var v={v:e[g][y]},k=o+g,w=u+y;if(h.s.r>k&&(h.s.r=k),h.s.c>w&&(h.s.c=w),h.e.r<k&&(h.e.r=k),h.e.c<w&&(h.e.c=w),e[g][y]&&typeof e[g][y]=="object"&&!Array.isArray(e[g][y])&&!(e[g][y]instanceof Date))v=e[g][y];else if(Array.isArray(v.v)&&(v.f=e[g][y][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||Qr[14],n.cellDates?(v.t="d",v.w=Wo(v.z,As(v.v))):(v.t="n",v.v=As(v.v),v.w=Wo(v.z,v.v))):v.t="s";if(s)a[k]||(a[k]=[]),a[k][w]&&a[k][w].z&&(v.z=a[k][w].z),a[k][w]=v;else{var T=Er({c:w,r:k});a[T]&&a[T].z&&(v.z=a[T].z),a[T]=v}}}return h.s.c<1e7&&(a["!ref"]=cn(h)),a}function Vu(t,e){return B6(null,t,e)}function hW(t){return t.read_shift(4,"i")}function Pa(t,e){return e||(e=Ce(4)),e.write_shift(4,t),e}function ts(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Sn(t,e){var r=!1;return e==null&&(r=!0,e=Ce(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function fW(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function pW(t,e){return e||(e=Ce(4)),e.write_shift(2,0),e.write_shift(2,0),e}function vb(t,e){var r=t.l,n=t.read_shift(1),s=ts(t),a=[],o={t:s,h:s};if((n&1)!==0){for(var u=t.read_shift(4),d=0;d!=u;++d)a.push(fW(t));o.r=a}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}function mW(t,e){var r=!1;return e==null&&(r=!0,e=Ce(15+4*t.t.length)),e.write_shift(1,0),Sn(t.t,e),r?e.slice(0,e.l):e}var gW=vb;function xW(t,e){var r=!1;return e==null&&(r=!0,e=Ce(23+4*t.t.length)),e.write_shift(1,1),Sn(t.t,e),e.write_shift(4,1),pW({},e),r?e.slice(0,e.l):e}function ha(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function nc(t,e){return e==null&&(e=Ce(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function sc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function ac(t,e){return e==null&&(e=Ce(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var yW=ts,U6=Sn;function bb(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Bp(t,e){var r=!1;return e==null&&(r=!0,e=Ce(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var vW=ts,r1=bb,wb=Bp;function z6(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var s=n===0?Vp([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):_l(e,0)>>2;return r?s/100:s}function H6(t,e){e==null&&(e=Ce(4));var r=0,n=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?s:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function W6(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function bW(t,e){return e||(e=Ce(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var ic=W6,Bu=bW;function Uu(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Ul(t,e){return(e||Ce(8)).write_shift(8,t,"f")}function wW(t){var e={},r=t.read_shift(1),n=r>>>1,s=t.read_shift(1),a=t.read_shift(2,"i"),o=t.read_shift(1),u=t.read_shift(1),d=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var h=jW[s];h&&(e.rgb=VT(h));break;case 2:e.rgb=VT([o,u,d]);break;case 3:e.theme=s;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function Up(t,e){if(e||(e=Ce(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function _W(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function EW(t,e){e||(e=Ce(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var q6=2,Ls=3,jf=11,zp=19,If=64,TW=65,kW=71,NW=4108,SW=4126,Dn=80,jT={1:{n:"CodePage",t:q6},2:{n:"Category",t:Dn},3:{n:"PresentationFormat",t:Dn},4:{n:"ByteCount",t:Ls},5:{n:"LineCount",t:Ls},6:{n:"ParagraphCount",t:Ls},7:{n:"SlideCount",t:Ls},8:{n:"NoteCount",t:Ls},9:{n:"HiddenCount",t:Ls},10:{n:"MultimediaClipCount",t:Ls},11:{n:"ScaleCrop",t:jf},12:{n:"HeadingPairs",t:NW},13:{n:"TitlesOfParts",t:SW},14:{n:"Manager",t:Dn},15:{n:"Company",t:Dn},16:{n:"LinksUpToDate",t:jf},17:{n:"CharacterCount",t:Ls},19:{n:"SharedDoc",t:jf},22:{n:"HyperlinksChanged",t:jf},23:{n:"AppVersion",t:Ls,p:"version"},24:{n:"DigSig",t:TW},26:{n:"ContentType",t:Dn},27:{n:"ContentStatus",t:Dn},28:{n:"Language",t:Dn},29:{n:"Version",t:Dn},255:{},2147483648:{n:"Locale",t:zp},2147483651:{n:"Behavior",t:zp},1919054434:{}},IT={1:{n:"CodePage",t:q6},2:{n:"Title",t:Dn},3:{n:"Subject",t:Dn},4:{n:"Author",t:Dn},5:{n:"Keywords",t:Dn},6:{n:"Comments",t:Dn},7:{n:"Template",t:Dn},8:{n:"LastAuthor",t:Dn},9:{n:"RevNumber",t:Dn},10:{n:"EditTime",t:If},11:{n:"LastPrinted",t:If},12:{n:"CreatedDate",t:If},13:{n:"ModifiedDate",t:If},14:{n:"PageCount",t:Ls},15:{n:"WordCount",t:Ls},16:{n:"CharCount",t:Ls},17:{n:"Thumbnail",t:kW},18:{n:"Application",t:Dn},19:{n:"DocSecurity",t:Ls},255:{},2147483648:{n:"Locale",t:zp},2147483651:{n:"Behavior",t:zp},1919054434:{}};function AW(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var CW=AW([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),jW=Cs(CW),Z0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},IW={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Pf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function G6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function K6(t,e){var r=BH(IW),n=[],s;n[n.length]=un,n[n.length]=tt("Types",null,{xmlns:kn.CT,"xmlns:xsd":kn.xsd,"xmlns:xsi":kn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return tt("Default",null,{Extension:d[0],ContentType:d[1]})}));var a=function(d){t[d]&&t[d].length>0&&(s=t[d][0],n[n.length]=tt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Pf[d][e.bookType]||Pf[d].xlsx}))},o=function(d){(t[d]||[]).forEach(function(h){n[n.length]=tt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Pf[d][e.bookType]||Pf[d].xlsx})})},u=function(d){(t[d]||[]).forEach(function(h){n[n.length]=tt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:r[d][0]})})};return a("workbooks"),o("sheets"),o("charts"),u("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),o("metadata"),u("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var lr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function X6(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function ou(t){var e=[un,tt("Relationships",null,{xmlns:kn.RELS})];return Hn(t["!id"]).forEach(function(r){e[e.length]=tt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function vr(t,e,r,n,s,a){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=n,s.Target=r,[lr.HLINK,lr.XPATH,lr.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function PW(t){var e=[un];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function PT(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function RW(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function DW(t){var e=[un];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(PT(t[r][0],t[r][1])),e.push(RW("",t[r][0]));return e.push(PT("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function Y6(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Dp.version+"</meta:generator></office:meta></office:document-meta>"}var Cl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Jx(t,e,r,n,s){s[t]!=null||e==null||e===""||(s[t]=e,e=_r(e),n[n.length]=r?tt(t,e,r):$n(t,e))}function Q6(t,e){var r=e||{},n=[un,tt("cp:coreProperties",null,{"xmlns:cp":kn.CORE_PROPS,"xmlns:dc":kn.dc,"xmlns:dcterms":kn.dcterms,"xmlns:dcmitype":kn.dcmitype,"xmlns:xsi":kn.xsi})],s={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Jx("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:t1(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),t.ModifiedDate!=null&&Jx("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:t1(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var a=0;a!=Cl.length;++a){var o=Cl[a],u=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:t?t[o[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Jx(o[0],u,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var lu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],J6=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Z6(t){var e=[],r=tt;return t||(t={}),t.Application="SheetJS",e[e.length]=un,e[e.length]=tt("Properties",null,{xmlns:kn.EXT_PROPS,"xmlns:vt":kn.vt}),lu.forEach(function(n){if(t[n[1]]!==void 0){var s;switch(n[2]){case"string":s=_r(String(t[n[1]]));break;case"bool":s=t[n[1]]?"true":"false";break}s!==void 0&&(e[e.length]=r(n[0],s))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+_r(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function eA(t){var e=[un,tt("Properties",null,{xmlns:kn.CUST_PROPS,"xmlns:vt":kn.vt})];if(!t)return e.join("");var r=1;return Hn(t).forEach(function(s){++r,e[e.length]=tt("property",JH(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:_r(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var RT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function OW(t,e){var r=[];return Hn(RT).map(function(n){for(var s=0;s<Cl.length;++s)if(Cl[s][1]==n)return Cl[s];for(s=0;s<lu.length;++s)if(lu[s][1]==n)return lu[s];throw n}).forEach(function(n){if(t[n[1]]!=null){var s=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push($n(RT[n[1]]||n[1],s))}}),tt("DocumentProperties",r.join(""),{xmlns:$s.o})}function FW(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return t&&Hn(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var o=0;o<Cl.length;++o)if(a==Cl[o][1])return;for(o=0;o<lu.length;++o)if(a==lu[o][1])return;for(o=0;o<r.length;++o)if(a==r[o])return;var u=t[a],d="string";typeof u=="number"?(d="float",u=String(u)):u===!0||u===!1?(d="boolean",u=u?"1":"0"):u=String(u),s.push(tt(bT(a),u,{"dt:dt":d}))}}),e&&Hn(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var o=e[a],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o instanceof Date?(u="dateTime.tz",o=o.toISOString()):o=String(o),s.push(tt(bT(a),o,{"dt:dt":u}))}}),"<"+n+' xmlns="'+$s.o+'">'+s.join("")+"</"+n+">"}function LW(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),s+=a);var o=Ce(8);return o.write_shift(4,n),o.write_shift(4,s),o}function DT(t,e){var r=Ce(4),n=Ce(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Ce(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=LW(e);break;case 31:case 80:for(n=Ce(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Mn([r,n])}var tA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function MW(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function OT(t,e,r){var n=Ce(8),s=[],a=[],o=8,u=0,d=Ce(8),h=Ce(8);if(d.write_shift(4,2),d.write_shift(4,1200),h.write_shift(4,1),a.push(d),s.push(h),o+=8+d.length,!e){h=Ce(8),h.write_shift(4,0),s.unshift(h);var p=[Ce(4)];for(p[0].write_shift(4,t.length),u=0;u<t.length;++u){var g=t[u][0];for(d=Ce(8+2*(g.length+1)+(g.length%2?0:2)),d.write_shift(4,u+2),d.write_shift(4,g.length+1),d.write_shift(0,g,"dbcs");d.l!=d.length;)d.write_shift(1,0);p.push(d)}d=Mn(p),a.unshift(d),o+=8+d.length}for(u=0;u<t.length;++u)if(!(e&&!e[t[u][0]])&&!(tA.indexOf(t[u][0])>-1||J6.indexOf(t[u][0])>-1)&&t[u][1]!=null){var y=t[u][1],v=0;if(e){v=+e[t[u][0]];var k=r[v];if(k.p=="version"&&typeof y=="string"){var w=y.split(".");y=(+w[0]<<16)+(+w[1]||0)}d=DT(k.t,y)}else{var T=MW(y);T==-1&&(T=31,y=String(y)),d=DT(T,y)}a.push(d),h=Ce(8),h.write_shift(4,e?v:2+u),s.push(h),o+=8+d.length}var D=8*(a.length+1);for(u=0;u<a.length;++u)s[u].write_shift(4,D),D+=a[u].length;return n.write_shift(4,o),n.write_shift(4,a.length),Mn([n].concat(s).concat(a))}function FT(t,e,r,n,s,a){var o=Ce(s?68:48),u=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,kr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,s?68:48);var d=OT(t,r,n);if(u.push(d),s){var h=OT(s,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+d.length),u.push(h)}return Mn(u)}function $W(t,e){e||(e=Ce(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function VW(t,e){return t.read_shift(e)===1}function ls(t,e){return e||(e=Ce(2)),e.write_shift(2,+!!t),e}function rA(t){return t.read_shift(2,"u")}function ia(t,e){return e||(e=Ce(2)),e.write_shift(2,t),e}function nA(t,e,r){return r||(r=Ce(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function sA(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?t.read_shift(n,s):"";return o}function BW(t){var e=t.t||"",r=Ce(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Ce(2*e.length);n.write_shift(2*e.length,e,"utf16le");var s=[r,n];return Mn(s)}function UW(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function zW(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):UW(t,n,r)}function HW(t,e,r){if(r.biff>5)return zW(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function aA(t,e,r){return r||(r=Ce(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function LT(t,e){e||(e=Ce(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function WW(t){var e=Ce(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),a=s>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)e.write_shift(4,o[r]);if(a==28)n=n.slice(1),LT(n,e);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));var u=s>-1?n.slice(0,s):n;for(e.write_shift(4,2*(u.length+1)),r=0;r<u.length;++r)e.write_shift(2,u.charCodeAt(r));e.write_shift(2,0),a&8&&LT(s>-1?n.slice(s+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)e.write_shift(1,n.charCodeAt(r+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function zl(t,e,r,n){return n||(n=Ce(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function qW(t,e,r){var n=r.biff>8?4:2,s=t.read_shift(n),a=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[s,a,o]}function GW(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2);return{s:{c:n,r:e},e:{c:s,r}}}function iA(t,e){return e||(e=Ce(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function _b(t,e,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Ce(s);return a.write_shift(2,n),a.write_shift(2,e),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function KW(t,e){var r=!e||e.biff==8,n=Ce(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function XW(t,e){var r=!e||e.biff>=8?2:1,n=Ce(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function YW(t,e){var r=Ce(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],s=0;s<t.length;++s)n[s]=BW(t[s]);var a=Mn([r].concat(n));return a.parts=[r.length].concat(n.map(function(o){return o.length})),a}function QW(){var t=Ce(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function JW(t){var e=Ce(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function ZW(t,e){var r=t.name||"Arial",n=e&&e.biff==5,s=n?15+r.length:16+2*r.length,a=Ce(s);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function eq(t,e,r,n){var s=Ce(10);return zl(t,e,n,s),s.write_shift(4,r),s}function tq(t,e,r,n,s){var a=!s||s.biff==8,o=Ce(8+ +a+(1+a)*r.length);return zl(t,e,n,o),o.write_shift(2,r.length),a&&o.write_shift(1,1),o.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),o}function rq(t,e,r,n){var s=r&&r.biff==5;n||(n=Ce(s?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(s?1:2,e.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function nq(t,e){var r=e.biff==8||!e.biff?4:2,n=Ce(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function MT(t,e,r,n){var s=r&&r.biff==5;n||(n=Ce(s?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&s&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function sq(t){var e=Ce(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function aq(t,e,r,n,s,a){var o=Ce(8);return zl(t,e,n,o),nA(r,a,o),o}function iq(t,e,r,n){var s=Ce(14);return zl(t,e,n,s),Ul(r,s),s}function oq(t,e,r){if(r.biff<8)return lq(t,e,r);for(var n=[],s=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(qW(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return n}function lq(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=sA(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function cq(t){var e=Ce(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)iA(t[r],e);return e}function uq(t){var e=Ce(24),r=Nn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(n[s],16));return Mn([e,WW(t[1])])}function dq(t){var e=t[1].Tooltip,r=Ce(10+2*(e.length+1));r.write_shift(2,2048);var n=Nn(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function hq(t){return t||(t=Ce(4)),t.write_shift(2,1),t.write_shift(2,1),t}function fq(t,e,r){if(!r.cellStyles)return hi(t,e);var n=r&&r.biff>=12?4:2,s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),u=t.read_shift(n),d=t.read_shift(2);n==2&&(t.l+=2);var h={s,e:a,w:o,ixfe:u,flags:d};return(r.biff>=5||!r.biff)&&(h.level=d>>8&7),h}function pq(t,e){var r=Ce(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function mq(t){for(var e=Ce(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function gq(t,e,r){var n=Ce(15);return th(n,t,e),n.write_shift(8,r,"f"),n}function xq(t,e,r){var n=Ce(9);return th(n,t,e),n.write_shift(2,r),n}var yq=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=db({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,d){var h=[],p=Bl(1);switch(d.type){case"base64":p=Sa(Wi(u));break;case"binary":p=Sa(u);break;case"buffer":case"array":p=u;break}Ms(p,0);var g=p.read_shift(1),y=!!(g&136),v=!1,k=!1;switch(g){case 2:break;case 3:break;case 48:v=!0,y=!0;break;case 49:v=!0,y=!0;break;case 131:break;case 139:break;case 140:k=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var w=0,T=521;g==2&&(w=p.read_shift(2)),p.l+=3,g!=2&&(w=p.read_shift(4)),w>1048576&&(w=1e6),g!=2&&(T=p.read_shift(2));var D=p.read_shift(2),I=d.codepage||1252;g!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(I=t[p[p.l]]),p.l+=1,p.l+=2),k&&(p.l+=36);for(var U=[],O={},X=Math.min(p.length,g==2?521:T-10-(v?264:0)),B=k?32:11;p.l<X&&p[p.l]!=13;)switch(O={},O.name=Op.utils.decode(I,p.slice(p.l,p.l+B)).replace(/[\u0000\r\n].*$/g,""),p.l+=B,O.type=String.fromCharCode(p.read_shift(1)),g!=2&&!k&&(O.offset=p.read_shift(4)),O.len=p.read_shift(1),g==2&&(O.offset=p.read_shift(2)),O.dec=p.read_shift(1),O.name.length&&U.push(O),g!=2&&(p.l+=k?13:14),O.type){case"B":(!v||O.len!=8)&&d.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(p[p.l]!==13&&(p.l=T-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=T;var A=0,S=0;for(h[0]=[],S=0;S!=U.length;++S)h[0][S]=U[S].name;for(;w-- >0;){if(p[p.l]===42){p.l+=D;continue}for(++p.l,h[++A]=[],S=0,S=0;S!=U.length;++S){var C=p.slice(p.l,p.l+U[S].len);p.l+=U[S].len,Ms(C,0);var R=Op.utils.decode(I,C);switch(U[S].type){case"C":R.trim().length&&(h[A][S]=R.replace(/\s+$/,""));break;case"D":R.length===8?h[A][S]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):h[A][S]=R;break;case"F":h[A][S]=parseFloat(R.trim());break;case"+":case"I":h[A][S]=k?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":h[A][S]=!0;break;case"N":case"F":h[A][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));h[A][S]="##MEMO##"+(k?parseInt(R.trim(),10):C.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(h[A][S]=+R||0);break;case"@":h[A][S]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":h[A][S]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":h[A][S]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[A][S]=-C.read_shift(-8,"f");break;case"B":if(v&&U[S].len==8){h[A][S]=C.read_shift(8,"f");break}case"G":case"P":C.l+=U[S].len;break;case"0":if(U[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+U[S].type)}}}if(g!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=U,h}function n(u,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var p=Vu(r(u,h),h);return p["!cols"]=h.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete h.DBF,p}function s(u,d){try{return rc(n(u,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(u,d){var h=d||{};if(+h.codepage>=0&&v0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var p=Ss(),g=Kp(u,{header:1,raw:!0,cellDates:!0}),y=g[0],v=g.slice(1),k=u["!cols"]||[],w=0,T=0,D=0,I=1;for(w=0;w<y.length;++w){if(((k[w]||{}).DBF||{}).name){y[w]=k[w].DBF.name,++D;continue}if(y[w]!=null){if(++D,typeof y[w]=="number"&&(y[w]=y[w].toString(10)),typeof y[w]!="string")throw new Error("DBF Invalid column name "+y[w]+" |"+typeof y[w]+"|");if(y.indexOf(y[w])!==w){for(T=0;T<1024;++T)if(y.indexOf(y[w]+"_"+T)==-1){y[w]+="_"+T;break}}}}var U=Or(u["!ref"]),O=[],X=[],B=[];for(w=0;w<=U.e.c-U.s.c;++w){var A="",S="",C=0,R=[];for(T=0;T<v.length;++T)v[T][w]!=null&&R.push(v[T][w]);if(R.length==0||y[w]==null){O[w]="?";continue}for(T=0;T<R.length;++T){switch(typeof R[T]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=R[T]instanceof Date?"D":"C";break;default:S="C"}C=Math.max(C,String(R[T]).length),A=A&&A!=S?"C":S}C>250&&(C=250),S=((k[w]||{}).DBF||{}).type,S=="C"&&k[w].DBF.len>C&&(C=k[w].DBF.len),A=="B"&&S=="N"&&(A="N",B[w]=k[w].DBF.dec,C=k[w].DBF.len),X[w]=A=="C"||S=="N"?C:a[A]||0,I+=X[w],O[w]=A}var F=p.next(32);for(F.write_shift(4,318902576),F.write_shift(4,v.length),F.write_shift(2,296+32*D),F.write_shift(2,I),w=0;w<4;++w)F.write_shift(4,0);for(F.write_shift(4,0|(+e[l6]||3)<<8),w=0,T=0;w<y.length;++w)if(y[w]!=null){var W=p.next(32),M=(y[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,M,"sbcs"),W.write_shift(1,O[w]=="?"?"C":O[w],"sbcs"),W.write_shift(4,T),W.write_shift(1,X[w]||a[O[w]]||0),W.write_shift(1,B[w]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),T+=X[w]||a[O[w]]||0}var Se=p.next(264);for(Se.write_shift(4,13),w=0;w<65;++w)Se.write_shift(4,0);for(w=0;w<v.length;++w){var Ie=p.next(I);for(Ie.write_shift(1,0),T=0;T<y.length;++T)if(y[T]!=null)switch(O[T]){case"L":Ie.write_shift(1,v[w][T]==null?63:v[w][T]?84:70);break;case"B":Ie.write_shift(8,v[w][T]||0,"f");break;case"N":var $e="0";for(typeof v[w][T]=="number"&&($e=v[w][T].toFixed(B[T]||0)),D=0;D<X[T]-$e.length;++D)Ie.write_shift(1,32);Ie.write_shift(1,$e,"sbcs");break;case"D":v[w][T]?(Ie.write_shift(4,("0000"+v[w][T].getFullYear()).slice(-4),"sbcs"),Ie.write_shift(2,("00"+(v[w][T].getMonth()+1)).slice(-2),"sbcs"),Ie.write_shift(2,("00"+v[w][T].getDate()).slice(-2),"sbcs")):Ie.write_shift(8,"00000000","sbcs");break;case"C":var Le=String(v[w][T]!=null?v[w][T]:"").slice(0,X[T]);for(Ie.write_shift(1,Le,"sbcs"),D=0;D<X[T]-Le.length;++D)Ie.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}})(),vq=(function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Hn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,v){var k=t[v];return typeof k=="number"?lT(k):k},n=function(y,v,k){var w=v.charCodeAt(0)-32<<4|k.charCodeAt(0)-48;return w==59?y:lT(w)};t["|"]=254;function s(y,v){switch(v.type){case"base64":return a(Wi(y),v);case"binary":return a(y,v);case"buffer":return a(dr&&Buffer.isBuffer(y)?y.toString("binary"):Y0(y),v);case"array":return a(Lm(y),v)}throw new Error("Unrecognized type "+v.type)}function a(y,v){var k=y.split(/[\n\r]+/),w=-1,T=-1,D=0,I=0,U=[],O=[],X=null,B={},A=[],S=[],C=[],R=0,F;for(+v.codepage>=0&&v0(+v.codepage);D!==k.length;++D){R=0;var W=k[D].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),M=W.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")}),Se=M[0],Ie;if(W.length>0)switch(Se){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&O.push(W.slice(3).replace(/;;/g,";"));break;case"C":var $e=!1,Le=!1,_e=!1,ie=!1,de=-1,se=-1;for(I=1;I<M.length;++I)switch(M[I].charAt(0)){case"A":break;case"X":T=parseInt(M[I].slice(1))-1,Le=!0;break;case"Y":for(w=parseInt(M[I].slice(1))-1,Le||(T=0),F=U.length;F<=w;++F)U[F]=[];break;case"K":Ie=M[I].slice(1),Ie.charAt(0)==='"'?Ie=Ie.slice(1,Ie.length-1):Ie==="TRUE"?Ie=!0:Ie==="FALSE"?Ie=!1:isNaN(Fi(Ie))?isNaN(w0(Ie).getDate())||(Ie=hs(Ie)):(Ie=Fi(Ie),X!==null&&b6(X)&&(Ie=T6(Ie))),$e=!0;break;case"E":ie=!0;var V=xG(M[I].slice(1),{r:w,c:T});U[w][T]=[U[w][T],V];break;case"S":_e=!0,U[w][T]=[U[w][T],"S5S"];break;case"G":break;case"R":de=parseInt(M[I].slice(1))-1;break;case"C":se=parseInt(M[I].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+W)}if($e&&(U[w][T]&&U[w][T].length==2?U[w][T][0]=Ie:U[w][T]=Ie,X=null),_e){if(ie)throw new Error("SYLK shared formula cannot have own formula");var te=de>-1&&U[de][se];if(!te||!te[1])throw new Error("SYLK shared formula cannot find base");U[w][T][1]=yG(te[1],{r:w-de,c:T-se})}break;case"F":var re=0;for(I=1;I<M.length;++I)switch(M[I].charAt(0)){case"X":T=parseInt(M[I].slice(1))-1,++re;break;case"Y":for(w=parseInt(M[I].slice(1))-1,F=U.length;F<=w;++F)U[F]=[];break;case"M":R=parseInt(M[I].slice(1))/20;break;case"F":break;case"G":break;case"P":X=O[parseInt(M[I].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=M[I].slice(1).split(" "),F=parseInt(C[0],10);F<=parseInt(C[1],10);++F)R=parseInt(C[2],10),S[F-1]=R===0?{hidden:!0}:{wch:R},Eb(S[F-1]);break;case"C":T=parseInt(M[I].slice(1))-1,S[T]||(S[T]={});break;case"R":w=parseInt(M[I].slice(1))-1,A[w]||(A[w]={}),R>0?(A[w].hpt=R,A[w].hpx=dA(R)):R===0&&(A[w].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+W)}re<1&&(X=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+W)}}return A.length>0&&(B["!rows"]=A),S.length>0&&(B["!cols"]=S),v&&v.sheetRows&&(U=U.slice(0,v.sheetRows)),[U,B]}function o(y,v){var k=s(y,v),w=k[0],T=k[1],D=Vu(w,v);return Hn(T).forEach(function(I){D[I]=T[I]}),D}function u(y,v){return rc(o(y,v),v)}function d(y,v,k,w){var T="C;Y"+(k+1)+";X"+(w+1)+";K";switch(y.t){case"n":T+=y.v||0,y.f&&!y.F&&(T+=";E"+kb(y.f,{r:k,c:w}));break;case"b":T+=y.v?"TRUE":"FALSE";break;case"e":T+=y.w||y.v;break;case"d":T+='"'+(y.w||y.v)+'"';break;case"s":T+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return T}function h(y,v){v.forEach(function(k,w){var T="F;W"+(w+1)+" "+(w+1)+" ";k.hidden?T+="0":(typeof k.width=="number"&&!k.wpx&&(k.wpx=Hp(k.width)),typeof k.wpx=="number"&&!k.wch&&(k.wch=Wp(k.wpx)),typeof k.wch=="number"&&(T+=Math.round(k.wch))),T.charAt(T.length-1)!=" "&&y.push(T)})}function p(y,v){v.forEach(function(k,w){var T="F;";k.hidden?T+="M0;":k.hpt?T+="M"+20*k.hpt+";":k.hpx&&(T+="M"+20*qp(k.hpx)+";"),T.length>2&&y.push(T+"R"+(w+1))})}function g(y,v){var k=["ID;PWXL;N;E"],w=[],T=Or(y["!ref"]),D,I=Array.isArray(y),U=`\r
`;k.push("P;PGeneral"),k.push("F;P0;DG0G8;M255"),y["!cols"]&&h(k,y["!cols"]),y["!rows"]&&p(k,y["!rows"]),k.push("B;Y"+(T.e.r-T.s.r+1)+";X"+(T.e.c-T.s.c+1)+";D"+[T.s.c,T.s.r,T.e.c,T.e.r].join(" "));for(var O=T.s.r;O<=T.e.r;++O)for(var X=T.s.c;X<=T.e.c;++X){var B=Er({r:O,c:X});D=I?(y[O]||[])[X]:y[B],!(!D||D.v==null&&(!D.f||D.F))&&w.push(d(D,y,O,X))}return k.join(U)+U+w.join(U)+U+"E"+U}return{to_workbook:u,to_sheet:o,from_sheet:g}})(),bq=(function(){function t(a,o){switch(o.type){case"base64":return e(Wi(a),o);case"binary":return e(a,o);case"buffer":return e(dr&&Buffer.isBuffer(a)?a.toString("binary"):Y0(a),o);case"array":return e(Lm(a),o)}throw new Error("Unrecognized type "+o.type)}function e(a,o){for(var u=a.split(`
`),d=-1,h=-1,p=0,g=[];p!==u.length;++p){if(u[p].trim()==="BOT"){g[++d]=[],h=0;continue}if(!(d<0)){var y=u[p].trim().split(","),v=y[0],k=y[1];++p;for(var w=u[p]||"";(w.match(/["]/g)||[]).length&1&&p<u.length-1;)w+=`
`+u[++p];switch(w=w.trim(),+v){case-1:if(w==="BOT"){g[++d]=[],h=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?g[d][h]=!0:w==="FALSE"?g[d][h]=!1:isNaN(Fi(k))?isNaN(w0(k).getDate())?g[d][h]=k:g[d][h]=hs(k):g[d][h]=Fi(k),++h;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),g[d][h++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function r(a,o){return Vu(t(a,o),o)}function n(a,o){return rc(r(a,o),o)}var s=(function(){var a=function(d,h,p,g,y){d.push(h),d.push(p+","+g),d.push('"'+y.replace(/"/g,'""')+'"')},o=function(d,h,p,g){d.push(h+","+p),d.push(h==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(d){var h=[],p=Or(d["!ref"]),g,y=Array.isArray(d);a(h,"TABLE",0,1,"sheetjs"),a(h,"VECTORS",0,p.e.r-p.s.r+1,""),a(h,"TUPLES",0,p.e.c-p.s.c+1,""),a(h,"DATA",0,0,"");for(var v=p.s.r;v<=p.e.r;++v){o(h,-1,0,"BOT");for(var k=p.s.c;k<=p.e.c;++k){var w=Er({r:v,c:k});if(g=y?(d[v]||[])[k]:d[w],!g){o(h,1,0,"");continue}switch(g.t){case"n":var T=g.w;!T&&g.v!=null&&(T=g.v),T==null?g.f&&!g.F?o(h,1,0,"="+g.f):o(h,1,0,""):o(h,0,T,"V");break;case"b":o(h,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(h,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=Wo(g.z||Qr[14],As(hs(g.v)))),o(h,0,g.w,"V");break;default:o(h,1,0,"")}}}o(h,-1,0,"EOD");var D=`\r
`,I=h.join(D);return I}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),oA=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(g,y){for(var v=g.split(`
`),k=-1,w=-1,T=0,D=[];T!==v.length;++T){var I=v[T].trim().split(":");if(I[0]==="cell"){var U=Nn(I[1]);if(D.length<=U.r)for(k=D.length;k<=U.r;++k)D[k]||(D[k]=[]);switch(k=U.r,w=U.c,I[2]){case"t":D[k][w]=t(I[3]);break;case"v":D[k][w]=+I[3];break;case"vtf":var O=I[I.length-1];case"vtc":switch(I[3]){case"nl":D[k][w]=!!+I[4];break;default:D[k][w]=+I[4];break}I[2]=="vtf"&&(D[k][w]=[D[k][w],O])}}}return y&&y.sheetRows&&(D=D.slice(0,y.sheetRows)),D}function n(g,y){return Vu(r(g,y),y)}function s(g,y){return rc(n(g,y),y)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(g){if(!g||!g["!ref"])return"";for(var y=[],v=[],k,w="",T=Gs(g["!ref"]),D=Array.isArray(g),I=T.s.r;I<=T.e.r;++I)for(var U=T.s.c;U<=T.e.c;++U)if(w=Er({r:I,c:U}),k=D?(g[I]||[])[U]:g[w],!(!k||k.v==null||k.t==="z")){switch(v=["cell",w,"t"],k.t){case"s":case"str":v.push(e(k.v));break;case"n":k.f?(v[2]="vtf",v[3]="n",v[4]=k.v,v[5]=e(k.f)):(v[2]="v",v[3]=k.v);break;case"b":v[2]="vt"+(k.f?"f":"c"),v[3]="nl",v[4]=k.v?"1":"0",v[5]=e(k.f||(k.v?"TRUE":"FALSE"));break;case"d":var O=As(hs(k.v));v[2]="vtc",v[3]="nd",v[4]=""+O,v[5]=k.w||Wo(k.z||Qr[14],O);break;case"e":continue}y.push(v.join(":"))}return y.push("sheet:c:"+(T.e.c-T.s.c+1)+":r:"+(T.e.r-T.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(g){return[a,o,u,o,h(g),d].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:p}})(),wq=(function(){function t(p,g,y,v,k){k.raw?g[y][v]=p:p===""||(p==="TRUE"?g[y][v]=!0:p==="FALSE"?g[y][v]=!1:isNaN(Fi(p))?isNaN(w0(p).getDate())?g[y][v]=p:g[y][v]=hs(p):g[y][v]=Fi(p))}function e(p,g){var y=g||{},v=[];if(!p||p.length===0)return v;for(var k=p.split(/[\r\n]/),w=k.length-1;w>=0&&k[w].length===0;)--w;for(var T=10,D=0,I=0;I<=w;++I)D=k[I].indexOf(" "),D==-1?D=k[I].length:D++,T=Math.max(T,D);for(I=0;I<=w;++I){v[I]=[];var U=0;for(t(k[I].slice(0,T).trim(),v,I,U,y),U=1;U<=(k[I].length-T)/10+1;++U)t(k[I].slice(T+(U-1)*10,T+U*10).trim(),v,I,U,y)}return y.sheetRows&&(v=v.slice(0,y.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(p){for(var g={},y=!1,v=0,k=0;v<p.length;++v)(k=p.charCodeAt(v))==34?y=!y:!y&&k in r&&(g[k]=(g[k]||0)+1);k=[];for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&k.push([g[v],v]);if(!k.length){g=n;for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&k.push([g[v],v])}return k.sort(function(w,T){return w[0]-T[0]||n[w[1]]-n[T[1]]}),r[k.pop()[1]]||44}function a(p,g){var y=g||{},v="",k=y.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(v=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(v=p.charAt(4),p=p.slice(6)):v=s(p.slice(0,1024)):y&&y.FS?v=y.FS:v=s(p.slice(0,1024));var T=0,D=0,I=0,U=0,O=0,X=v.charCodeAt(0),B=!1,A=0,S=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var C=y.dateNF!=null?LH(y.dateNF):null;function R(){var F=p.slice(U,O),W={};if(F.charAt(0)=='"'&&F.charAt(F.length-1)=='"'&&(F=F.slice(1,-1).replace(/""/g,'"')),F.length===0)W.t="z";else if(y.raw)W.t="s",W.v=F;else if(F.trim().length===0)W.t="s",W.v=F;else if(F.charCodeAt(0)==61)F.charCodeAt(1)==34&&F.charCodeAt(F.length-1)==34?(W.t="s",W.v=F.slice(2,-1).replace(/""/g,'"')):vG(F)?(W.t="n",W.f=F.slice(1)):(W.t="s",W.v=F);else if(F=="TRUE")W.t="b",W.v=!0;else if(F=="FALSE")W.t="b",W.v=!1;else if(!isNaN(I=Fi(F)))W.t="n",y.cellText!==!1&&(W.w=F),W.v=I;else if(!isNaN(w0(F).getDate())||C&&F.match(C)){W.z=y.dateNF||Qr[14];var M=0;C&&F.match(C)&&(F=MH(F,y.dateNF,F.match(C)||[]),M=1),y.cellDates?(W.t="d",W.v=hs(F,M)):(W.t="n",W.v=As(hs(F,M))),y.cellText!==!1&&(W.w=Wo(W.z,W.v instanceof Date?As(W.v):W.v)),y.cellNF||delete W.z}else W.t="s",W.v=F;if(W.t=="z"||(y.dense?(k[T]||(k[T]=[]),k[T][D]=W):k[Er({c:D,r:T})]=W),U=O+1,S=p.charCodeAt(U),w.e.c<D&&(w.e.c=D),w.e.r<T&&(w.e.r=T),A==X)++D;else if(D=0,++T,y.sheetRows&&y.sheetRows<=T)return!0}e:for(;O<p.length;++O)switch(A=p.charCodeAt(O)){case 34:S===34&&(B=!B);break;case X:case 10:case 13:if(!B&&R())break e;break}return O-U>0&&R(),k["!ref"]=cn(w),k}function o(p,g){return!(g&&g.PRN)||g.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?a(p,g):Vu(e(p,g),g)}function u(p,g){var y="",v=g.type=="string"?[0,0,0,0]:RQ(p,g);switch(g.type){case"base64":y=Wi(p);break;case"binary":y=p;break;case"buffer":g.codepage==65001?y=p.toString("utf8"):g.codepage&&typeof Op<"u"||(y=dr&&Buffer.isBuffer(p)?p.toString("binary"):Y0(p));break;case"array":y=Lm(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+g.type)}return v[0]==239&&v[1]==187&&v[2]==191?y=Gd(y.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?y=Gd(y):g.type=="binary"&&typeof Op<"u",y.slice(0,19)=="socialcalc:version:"?oA.to_sheet(g.type=="string"?y:Gd(y),g):o(y,g)}function d(p,g){return rc(u(p,g),g)}function h(p){for(var g=[],y=Or(p["!ref"]),v,k=Array.isArray(p),w=y.s.r;w<=y.e.r;++w){for(var T=[],D=y.s.c;D<=y.e.c;++D){var I=Er({r:w,c:D});if(v=k?(p[w]||[])[D]:p[I],!v||v.v==null){T.push("          ");continue}for(var U=(v.w||(qi(v),v.w)||"").slice(0,10);U.length<10;)U+=" ";T.push(U+(D===0?" ":""))}g.push(T.join(""))}return g.join(`
`)}return{to_workbook:d,to_sheet:u,from_sheet:h}})(),$T=(function(){function t(V,te,re){if(V){Ms(V,V.l||0);for(var ne=re.Enum||de;V.l<V.length;){var ee=V.read_shift(2),Oe=ne[ee]||ne[65535],Be=V.read_shift(2),Ae=V.l+Be,Fe=Oe.f&&Oe.f(V,Be,re);if(V.l=Ae,te(Fe,Oe,ee))return}}}function e(V,te){switch(te.type){case"base64":return r(Sa(Wi(V)),te);case"binary":return r(Sa(V),te);case"buffer":case"array":return r(V,te)}throw"Unsupported type "+te.type}function r(V,te){if(!V)return V;var re=te||{},ne=re.dense?[]:{},ee="Sheet1",Oe="",Be=0,Ae={},Fe=[],it=[],yt={s:{r:0,c:0},e:{r:0,c:0}},Wt=re.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)re.Enum=de,t(V,function(Pe,pr,$t){switch($t){case 0:re.vers=Pe,Pe>=4096&&(re.qpro=!0);break;case 6:yt=Pe;break;case 204:Pe&&(Oe=Pe);break;case 222:Oe=Pe;break;case 15:case 51:re.qpro||(Pe[1].v=Pe[1].v.slice(1));case 13:case 14:case 16:$t==14&&(Pe[2]&112)==112&&(Pe[2]&15)>1&&(Pe[2]&15)<15&&(Pe[1].z=re.dateNF||Qr[14],re.cellDates&&(Pe[1].t="d",Pe[1].v=T6(Pe[1].v))),re.qpro&&Pe[3]>Be&&(ne["!ref"]=cn(yt),Ae[ee]=ne,Fe.push(ee),ne=re.dense?[]:{},yt={s:{r:0,c:0},e:{r:0,c:0}},Be=Pe[3],ee=Oe||"Sheet"+(Be+1),Oe="");var Gt=re.dense?(ne[Pe[0].r]||[])[Pe[0].c]:ne[Er(Pe[0])];if(Gt){Gt.t=Pe[1].t,Gt.v=Pe[1].v,Pe[1].z!=null&&(Gt.z=Pe[1].z),Pe[1].f!=null&&(Gt.f=Pe[1].f);break}re.dense?(ne[Pe[0].r]||(ne[Pe[0].r]=[]),ne[Pe[0].r][Pe[0].c]=Pe[1]):ne[Er(Pe[0])]=Pe[1];break}},re);else if(V[2]==26||V[2]==14)re.Enum=se,V[2]==14&&(re.qpro=!0,V.l=0),t(V,function(Pe,pr,$t){switch($t){case 204:ee=Pe;break;case 22:Pe[1].v=Pe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Pe[3]>Be&&(ne["!ref"]=cn(yt),Ae[ee]=ne,Fe.push(ee),ne=re.dense?[]:{},yt={s:{r:0,c:0},e:{r:0,c:0}},Be=Pe[3],ee="Sheet"+(Be+1)),Wt>0&&Pe[0].r>=Wt)break;re.dense?(ne[Pe[0].r]||(ne[Pe[0].r]=[]),ne[Pe[0].r][Pe[0].c]=Pe[1]):ne[Er(Pe[0])]=Pe[1],yt.e.c<Pe[0].c&&(yt.e.c=Pe[0].c),yt.e.r<Pe[0].r&&(yt.e.r=Pe[0].r);break;case 27:Pe[14e3]&&(it[Pe[14e3][0]]=Pe[14e3][1]);break;case 1537:it[Pe[0]]=Pe[1],Pe[0]==Be&&(ee=Pe[1]);break}},re);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(ne["!ref"]=cn(yt),Ae[Oe||ee]=ne,Fe.push(Oe||ee),!it.length)return{SheetNames:Fe,Sheets:Ae};for(var De={},fr=[],Mt=0;Mt<it.length;++Mt)Ae[Fe[Mt]]?(fr.push(it[Mt]||Fe[Mt]),De[it[Mt]]=Ae[it[Mt]]||Ae[Fe[Mt]]):(fr.push(it[Mt]),De[it[Mt]]={"!ref":"A1"});return{SheetNames:fr,Sheets:De}}function n(V,te){var re=te||{};if(+re.codepage>=0&&v0(+re.codepage),re.type=="string")throw new Error("Cannot write WK1 to JS string");var ne=Ss(),ee=Or(V["!ref"]),Oe=Array.isArray(V),Be=[];rt(ne,0,a(1030)),rt(ne,6,d(ee));for(var Ae=Math.min(ee.e.r,8191),Fe=ee.s.r;Fe<=Ae;++Fe)for(var it=Un(Fe),yt=ee.s.c;yt<=ee.e.c;++yt){Fe===ee.s.r&&(Be[yt]=es(yt));var Wt=Be[yt]+it,De=Oe?(V[Fe]||[])[yt]:V[Wt];if(!(!De||De.t=="z"))if(De.t=="n")(De.v|0)==De.v&&De.v>=-32768&&De.v<=32767?rt(ne,13,v(Fe,yt,De.v)):rt(ne,14,w(Fe,yt,De.v));else{var fr=qi(De);rt(ne,15,g(Fe,yt,fr.slice(0,239)))}}return rt(ne,1),ne.end()}function s(V,te){var re=te||{};if(+re.codepage>=0&&v0(+re.codepage),re.type=="string")throw new Error("Cannot write WK3 to JS string");var ne=Ss();rt(ne,0,o(V));for(var ee=0,Oe=0;ee<V.SheetNames.length;++ee)(V.Sheets[V.SheetNames[ee]]||{})["!ref"]&&rt(ne,27,ie(V.SheetNames[ee],Oe++));var Be=0;for(ee=0;ee<V.SheetNames.length;++ee){var Ae=V.Sheets[V.SheetNames[ee]];if(!(!Ae||!Ae["!ref"])){for(var Fe=Or(Ae["!ref"]),it=Array.isArray(Ae),yt=[],Wt=Math.min(Fe.e.r,8191),De=Fe.s.r;De<=Wt;++De)for(var fr=Un(De),Mt=Fe.s.c;Mt<=Fe.e.c;++Mt){De===Fe.s.r&&(yt[Mt]=es(Mt));var Pe=yt[Mt]+fr,pr=it?(Ae[De]||[])[Mt]:Ae[Pe];if(!(!pr||pr.t=="z"))if(pr.t=="n")rt(ne,23,R(De,Mt,Be,pr.v));else{var $t=qi(pr);rt(ne,22,A(De,Mt,Be,$t.slice(0,239)))}}++Be}}return rt(ne,1),ne.end()}function a(V){var te=Ce(2);return te.write_shift(2,V),te}function o(V){var te=Ce(26);te.write_shift(2,4096),te.write_shift(2,4),te.write_shift(4,0);for(var re=0,ne=0,ee=0,Oe=0;Oe<V.SheetNames.length;++Oe){var Be=V.SheetNames[Oe],Ae=V.Sheets[Be];if(!(!Ae||!Ae["!ref"])){++ee;var Fe=Gs(Ae["!ref"]);re<Fe.e.r&&(re=Fe.e.r),ne<Fe.e.c&&(ne=Fe.e.c)}}return re>8191&&(re=8191),te.write_shift(2,re),te.write_shift(1,ee),te.write_shift(1,ne),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(1,1),te.write_shift(1,2),te.write_shift(4,0),te.write_shift(4,0),te}function u(V,te,re){var ne={s:{c:0,r:0},e:{c:0,r:0}};return te==8&&re.qpro?(ne.s.c=V.read_shift(1),V.l++,ne.s.r=V.read_shift(2),ne.e.c=V.read_shift(1),V.l++,ne.e.r=V.read_shift(2),ne):(ne.s.c=V.read_shift(2),ne.s.r=V.read_shift(2),te==12&&re.qpro&&(V.l+=2),ne.e.c=V.read_shift(2),ne.e.r=V.read_shift(2),te==12&&re.qpro&&(V.l+=2),ne.s.c==65535&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}function d(V){var te=Ce(8);return te.write_shift(2,V.s.c),te.write_shift(2,V.s.r),te.write_shift(2,V.e.c),te.write_shift(2,V.e.r),te}function h(V,te,re){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return re.qpro&&re.vers!=20768?(ne[0].c=V.read_shift(1),ne[3]=V.read_shift(1),ne[0].r=V.read_shift(2),V.l+=2):(ne[2]=V.read_shift(1),ne[0].c=V.read_shift(2),ne[0].r=V.read_shift(2)),ne}function p(V,te,re){var ne=V.l+te,ee=h(V,te,re);if(ee[1].t="s",re.vers==20768){V.l++;var Oe=V.read_shift(1);return ee[1].v=V.read_shift(Oe,"utf8"),ee}return re.qpro&&V.l++,ee[1].v=V.read_shift(ne-V.l,"cstr"),ee}function g(V,te,re){var ne=Ce(7+re.length);ne.write_shift(1,255),ne.write_shift(2,te),ne.write_shift(2,V),ne.write_shift(1,39);for(var ee=0;ee<ne.length;++ee){var Oe=re.charCodeAt(ee);ne.write_shift(1,Oe>=128?95:Oe)}return ne.write_shift(1,0),ne}function y(V,te,re){var ne=h(V,te,re);return ne[1].v=V.read_shift(2,"i"),ne}function v(V,te,re){var ne=Ce(7);return ne.write_shift(1,255),ne.write_shift(2,te),ne.write_shift(2,V),ne.write_shift(2,re,"i"),ne}function k(V,te,re){var ne=h(V,te,re);return ne[1].v=V.read_shift(8,"f"),ne}function w(V,te,re){var ne=Ce(13);return ne.write_shift(1,255),ne.write_shift(2,te),ne.write_shift(2,V),ne.write_shift(8,re,"f"),ne}function T(V,te,re){var ne=V.l+te,ee=h(V,te,re);if(ee[1].v=V.read_shift(8,"f"),re.qpro)V.l=ne;else{var Oe=V.read_shift(2);O(V.slice(V.l,V.l+Oe),ee),V.l+=Oe}return ee}function D(V,te,re){var ne=te&32768;return te&=-32769,te=(ne?V:0)+(te>=8192?te-16384:te),(ne?"":"$")+(re?es(te):Un(te))}var I={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},U=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(V,te){Ms(V,0);for(var re=[],ne=0,ee="",Oe="",Be="",Ae="";V.l<V.length;){var Fe=V[V.l++];switch(Fe){case 0:re.push(V.read_shift(8,"f"));break;case 1:Oe=D(te[0].c,V.read_shift(2),!0),ee=D(te[0].r,V.read_shift(2),!1),re.push(Oe+ee);break;case 2:{var it=D(te[0].c,V.read_shift(2),!0),yt=D(te[0].r,V.read_shift(2),!1);Oe=D(te[0].c,V.read_shift(2),!0),ee=D(te[0].r,V.read_shift(2),!1),re.push(it+yt+":"+Oe+ee)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:re.push("("+re.pop()+")");break;case 5:re.push(V.read_shift(2));break;case 6:{for(var Wt="";Fe=V[V.l++];)Wt+=String.fromCharCode(Fe);re.push('"'+Wt.replace(/"/g,'""')+'"')}break;case 8:re.push("-"+re.pop());break;case 23:re.push("+"+re.pop());break;case 22:re.push("NOT("+re.pop()+")");break;case 20:case 21:Ae=re.pop(),Be=re.pop(),re.push(["AND","OR"][Fe-20]+"("+Be+","+Ae+")");break;default:if(Fe<32&&U[Fe])Ae=re.pop(),Be=re.pop(),re.push(Be+U[Fe]+Ae);else if(I[Fe]){if(ne=I[Fe][1],ne==69&&(ne=V[V.l++]),ne>re.length){console.error("WK1 bad formula parse 0x"+Fe.toString(16)+":|"+re.join("|")+"|");return}var De=re.slice(-ne);re.length-=ne,re.push(I[Fe][0]+"("+De.join(",")+")")}else return Fe<=7?console.error("WK1 invalid opcode "+Fe.toString(16)):Fe<=24?console.error("WK1 unsupported op "+Fe.toString(16)):Fe<=30?console.error("WK1 invalid opcode "+Fe.toString(16)):Fe<=115?console.error("WK1 unsupported function opcode "+Fe.toString(16)):console.error("WK1 unrecognized opcode "+Fe.toString(16))}}re.length==1?te[1].f=""+re[0]:console.error("WK1 bad formula parse |"+re.join("|")+"|")}function X(V){var te=[{c:0,r:0},{t:"n",v:0},0];return te[0].r=V.read_shift(2),te[3]=V[V.l++],te[0].c=V[V.l++],te}function B(V,te){var re=X(V);return re[1].t="s",re[1].v=V.read_shift(te-4,"cstr"),re}function A(V,te,re,ne){var ee=Ce(6+ne.length);ee.write_shift(2,V),ee.write_shift(1,re),ee.write_shift(1,te),ee.write_shift(1,39);for(var Oe=0;Oe<ne.length;++Oe){var Be=ne.charCodeAt(Oe);ee.write_shift(1,Be>=128?95:Be)}return ee.write_shift(1,0),ee}function S(V,te){var re=X(V);re[1].v=V.read_shift(2);var ne=re[1].v>>1;if(re[1].v&1)switch(ne&7){case 0:ne=(ne>>3)*5e3;break;case 1:ne=(ne>>3)*500;break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64;break}return re[1].v=ne,re}function C(V,te){var re=X(V),ne=V.read_shift(4),ee=V.read_shift(4),Oe=V.read_shift(2);if(Oe==65535)return ne===0&&ee===3221225472?(re[1].t="e",re[1].v=15):ne===0&&ee===3489660928?(re[1].t="e",re[1].v=42):re[1].v=0,re;var Be=Oe&32768;return Oe=(Oe&32767)-16446,re[1].v=(1-Be*2)*(ee*Math.pow(2,Oe+32)+ne*Math.pow(2,Oe)),re}function R(V,te,re,ne){var ee=Ce(14);if(ee.write_shift(2,V),ee.write_shift(1,re),ee.write_shift(1,te),ne==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var Oe=0,Be=0,Ae=0,Fe=0;return ne<0&&(Oe=1,ne=-ne),Be=Math.log2(ne)|0,ne/=Math.pow(2,Be-31),Fe=ne>>>0,(Fe&2147483648)==0&&(ne/=2,++Be,Fe=ne>>>0),ne-=Fe,Fe|=2147483648,Fe>>>=0,ne*=Math.pow(2,32),Ae=ne>>>0,ee.write_shift(4,Ae),ee.write_shift(4,Fe),Be+=16383+(Oe?32768:0),ee.write_shift(2,Be),ee}function F(V,te){var re=C(V);return V.l+=te-14,re}function W(V,te){var re=X(V),ne=V.read_shift(4);return re[1].v=ne>>6,re}function M(V,te){var re=X(V),ne=V.read_shift(8,"f");return re[1].v=ne,re}function Se(V,te){var re=M(V);return V.l+=te-10,re}function Ie(V,te){return V[V.l+te-1]==0?V.read_shift(te,"cstr"):""}function $e(V,te){var re=V[V.l++];re>te-1&&(re=te-1);for(var ne="";ne.length<re;)ne+=String.fromCharCode(V[V.l++]);return ne}function Le(V,te,re){if(!(!re.qpro||te<21)){var ne=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var ee=V.read_shift(te-21,"cstr");return[ne,ee]}}function _e(V,te){for(var re={},ne=V.l+te;V.l<ne;){var ee=V.read_shift(2);if(ee==14e3){for(re[ee]=[0,""],re[ee][0]=V.read_shift(2);V[V.l];)re[ee][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return re}function ie(V,te){var re=Ce(5+V.length);re.write_shift(2,14e3),re.write_shift(2,te);for(var ne=0;ne<V.length;++ne){var ee=V.charCodeAt(ne);re[re.l++]=ee>127?95:ee}return re[re.l++]=0,re}var de={0:{n:"BOF",f:rA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:k},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:T},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ie},222:{n:"SHEETNAMELP",f:$e},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:B},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:F},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:_e},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:Se},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}})(),_q=/^\s|\s$|[\t\n\r]/;function lA(t,e){if(!e.bookSST)return"";var r=[un];r[r.length]=tt("sst",null,{xmlns:$u[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var s=t[n],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(_q)&&(a+=' xml:space="preserve"'),a+=">"+_r(s.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Eq(t){return[t.read_shift(4),t.read_shift(4)]}function Tq(t,e){return e||(e=Ce(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var kq=mW;function Nq(t){var e=Ss();ze(e,159,Tq(t));for(var r=0;r<t.length;++r)ze(e,19,kq(t[r]));return ze(e,160),e.end()}function Sq(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function cA(t){var e=0,r,n=Sq(t),s=n.length+1,a,o,u,d,h;for(r=Bl(s),r[0]=n.length,a=1;a!=s;++a)r[a]=n[a-1];for(a=s-1;a>=0;--a)o=r[a],u=(e&16384)===0?0:1,d=e<<1&32767,h=u|d,e=h^o;return e^52811}var Aq=(function(){function t(s,a){switch(a.type){case"base64":return e(Wi(s),a);case"binary":return e(s,a);case"buffer":return e(dr&&Buffer.isBuffer(s)?s.toString("binary"):Y0(s),a);case"array":return e(Lm(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){var o=a||{},u=o.dense?[]:{},d=s.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,g){Array.isArray(u)&&(u[g]=[]);for(var y=/\\\w+\b/g,v=0,k,w=-1;k=y.exec(p);){switch(k[0]){case"\\cell":var T=p.slice(v,y.lastIndex-k[0].length);if(T[0]==" "&&(T=T.slice(1)),++w,T.length){var D={v:T,t:"s"};Array.isArray(u)?u[g][w]=D:u[Er({r:g,c:w})]=D}break}v=y.lastIndex}w>h.e.c&&(h.e.c=w)}),u["!ref"]=cn(h),u}function r(s,a){return rc(t(s,a),a)}function n(s){for(var a=["{\\rtf1\\ansi"],o=Or(s["!ref"]),u,d=Array.isArray(s),h=o.s.r;h<=o.e.r;++h){a.push("\\trowd\\trautofit1");for(var p=o.s.c;p<=o.e.c;++p)a.push("\\cellx"+(p+1));for(a.push("\\pard\\intbl"),p=o.s.c;p<=o.e.c;++p){var g=Er({r:h,c:p});u=d?(s[h]||[])[p]:s[g],!(!u||u.v==null&&(!u.f||u.F))&&(a.push(" "+(u.w||(qi(u),u.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function VT(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var Cq=6,Li=Cq;function Hp(t){return Math.floor((t+Math.round(128/Li)/256)*Li)}function Wp(t){return Math.floor((t-5)/Li*100+.5)/100}function n1(t){return Math.round((t*Li+5)/Li*256)/256}function Eb(t){t.width?(t.wpx=Hp(t.width),t.wch=Wp(t.wpx),t.MDW=Li):t.wpx?(t.wch=Wp(t.wpx),t.width=n1(t.wch),t.MDW=Li):typeof t.wch=="number"&&(t.width=n1(t.wch),t.wpx=Hp(t.width),t.MDW=Li),t.customWidth&&delete t.customWidth}var jq=96,uA=jq;function qp(t){return t*96/uA}function dA(t){return t*uA/96}function Iq(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=tt("numFmt",null,{numFmtId:n,formatCode:_r(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=tt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Pq(t){var e=[];return e[e.length]=tt("cellXfs",null),t.forEach(function(r){e[e.length]=tt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=tt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function hA(t,e){var r=[un,tt("styleSheet",null,{xmlns:$u[0],"xmlns:vt":kn.vt})],n;return t.SSF&&(n=Iq(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Pq(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Rq(t,e){var r=t.read_shift(2),n=ts(t);return[r,n]}function Dq(t,e,r){r||(r=Ce(6+4*e.length)),r.write_shift(2,t),Sn(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Oq(t,e,r){var n={};n.sz=t.read_shift(2)/20;var s=_W(t);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var u=t.read_shift(1);u>0&&(n.family=u);var d=t.read_shift(1);switch(d>0&&(n.charset=d),t.l++,n.color=wW(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ts(t),n}function Fq(t,e){e||(e=Ce(153)),e.write_shift(2,t.sz*20),EW(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Up(t.color,e);var n=0;return n=2,e.write_shift(1,n),Sn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Lq=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Zx,Mq=hi;function BT(t,e){e||(e=Ce(84)),Zx||(Zx=db(Lq));var r=Zx[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Up({auto:1},e),Up({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function $q(t,e){var r=t.l+e,n=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:s}}function fA(t,e,r){r||(r=Ce(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Td(t,e){return e||(e=Ce(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Vq=hi;function Bq(t,e){return e||(e=Ce(51)),e.write_shift(1,0),Td(null,e),Td(null,e),Td(null,e),Td(null,e),Td(null,e),e.length>e.l?e.slice(0,e.l):e}function Uq(t,e){return e||(e=Ce(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Bp(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function zq(t,e,r){var n=Ce(2052);return n.write_shift(4,t),Bp(e,n),Bp(r,n),n.length>n.l?n.slice(0,n.l):n}function Hq(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&++r}),r!=0&&(ze(t,615,Pa(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&ze(t,44,Dq(s,e[s]))}),ze(t,616))}}function Wq(t){var e=1;ze(t,611,Pa(e)),ze(t,43,Fq({sz:12,color:{theme:1},name:"Calibri",family:2})),ze(t,612)}function qq(t){var e=2;ze(t,603,Pa(e)),ze(t,45,BT({patternType:"none"})),ze(t,45,BT({patternType:"gray125"})),ze(t,604)}function Gq(t){var e=1;ze(t,613,Pa(e)),ze(t,46,Bq()),ze(t,614)}function Kq(t){var e=1;ze(t,626,Pa(e)),ze(t,47,fA({numFmtId:0},65535)),ze(t,627)}function Xq(t,e){ze(t,617,Pa(e.length)),e.forEach(function(r){ze(t,47,fA(r,0))}),ze(t,618)}function Yq(t){var e=1;ze(t,619,Pa(e)),ze(t,48,Uq({xfId:0,name:"Normal"})),ze(t,620)}function Qq(t){var e=0;ze(t,505,Pa(e)),ze(t,506)}function Jq(t){var e=0;ze(t,508,zq(e,"TableStyleMedium9","PivotStyleMedium4")),ze(t,509)}function Zq(t,e){var r=Ss();return ze(r,278),Hq(r,t.SSF),Wq(r),qq(r),Gq(r),Kq(r),Xq(r,e.cellXfs),Yq(r),Qq(r),Jq(r),ze(r,279),r.end()}function pA(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[un];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function eG(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ts(t)}}function tG(t){var e=Ce(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Sn(t.name,e),e.slice(0,e.l)}function rG(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function nG(t){var e=Ce(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function sG(t,e){var r=Ce(8+2*e.length);return r.write_shift(4,t),Sn(e,r),r.slice(0,r.l)}function aG(t){return t.l+=4,t.read_shift(4)!=0}function iG(t,e){var r=Ce(8);return r.write_shift(4,t),r.write_shift(4,1),r}function oG(){var t=Ss();return ze(t,332),ze(t,334,Pa(1)),ze(t,335,tG({name:"XLDAPR",version:12e4,flags:3496657072})),ze(t,336),ze(t,339,sG(1,"XLDAPR")),ze(t,52),ze(t,35,Pa(514)),ze(t,4096,Pa(0)),ze(t,4097,ia(1)),ze(t,36),ze(t,53),ze(t,340),ze(t,337,iG(1)),ze(t,51,nG([[1,0]])),ze(t,338),ze(t,333),t.end()}function mA(){var t=[un];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function lG(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Er(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var tu=1024;function gA(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[tt("xml",null,{"xmlns:v":$s.v,"xmlns:o":$s.o,"xmlns:x":$s.x,"xmlns:mv":$s.mv}).replace(/\/>/,">"),tt("o:shapelayout",tt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),tt("v:shapetype",[tt("v:stroke",null,{joinstyle:"miter"}),tt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];tu<t*1e3;)tu+=1e3;return e.forEach(function(a){var o=Nn(a[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var d=u.type=="gradient"?tt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=tt("v:fill",d,u),p={on:"t",obscured:"t"};++tu,s=s.concat(["<v:shape"+E0({id:"_x0000_s"+tu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,tt("v:shadow",null,p),tt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",$n("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),$n("x:AutoFill","False"),$n("x:Row",String(o.r)),$n("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function xA(t){var e=[un,tt("comments",null,{xmlns:$u[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(s){var a=_r(s.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var s=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(s=r.indexOf(_r(d.a))),a.push(d.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),a.length<=1)e.push($n("t",_r(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,u=1;u<a.length;++u)o+=`Reply:
    `+a[u]+`
`;e.push($n("t",_r(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function cG(t,e,r){var n=[un,tt("ThreadedComments",null,{xmlns:kn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var a="";(s[1]||[]).forEach(function(o,u){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var d={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};u==0?a=d.id:d.parentId=a,o.ID=d.id,o.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),n.push(tt("threadedComment",$n("text",o.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function uG(t){var e=[un,tt("personList",null,{xmlns:kn.TCMNT,"xmlns:x":$u[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(tt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function dG(t){var e={};e.iauthor=t.read_shift(4);var r=ic(t);return e.rfx=r.s,e.ref=Er(r.s),t.l+=16,e}function hG(t,e){return e==null&&(e=Ce(36)),e.write_shift(4,t[1].iauthor),Bu(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var fG=ts;function pG(t){return Sn(t.slice(0,54))}function mG(t){var e=Ss(),r=[];return ze(e,628),ze(e,630),t.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),ze(e,632,pG(s.a)))})}),ze(e,631),ze(e,633),t.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var a={s:Nn(n[0]),e:Nn(n[0])};ze(e,635,hG([a,s])),s.t&&s.t.length>0&&ze(e,637,xW(s)),ze(e,636),delete s.iauthor})}),ze(e,634),ze(e,629),e.end()}function gG(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&kr.utils.cfb_add(t,s,e.FileIndex[n].content)}})}var yA=["xlsb","xlsm","xlam","biff8","xla"],xG=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,s,a,o){var u=!1,d=!1;a.length==0?d=!0:a.charAt(0)=="["&&(d=!0,a=a.slice(1,-1)),o.length==0?u=!0:o.charAt(0)=="["&&(u=!0,o=o.slice(1,-1));var h=a.length>0?parseInt(a,10)|0:0,p=o.length>0?parseInt(o,10)|0:0;return u?p+=e.c:--p,d?h+=e.r:--h,s+(u?"":"$")+es(p)+(d?"":"$")+Un(h)}return function(s,a){return e=a,s.replace(t,r)}})(),Tb=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,kb=(function(){return function(e,r){return e.replace(Tb,function(n,s,a,o,u,d){var h=yb(o)-(a?0:r.c),p=xb(d)-(u?0:r.r),g=p==0?"":u?p+1:"["+p+"]",y=h==0?"":a?h+1:"["+h+"]";return s+"R"+g+"C"+y})}})();function yG(t,e){return t.replace(Tb,function(r,n,s,a,o,u){return n+(s=="$"?s+a:es(yb(a)+e.c))+(o=="$"?o+u:Un(xb(u)+e.r))})}function vG(t){return t.length!=1}function an(t){t.l+=1}function qo(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function vA(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return bA(t);r.biff==12&&(n=4)}var s=t.read_shift(n),a=t.read_shift(n),o=qo(t),u=qo(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:u[0],cRel:u[1],rRel:u[2]}}}function bA(t){var e=qo(t),r=qo(t),n=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function bG(t,e,r){if(r.biff<8)return bA(t);var n=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),a=qo(t),o=qo(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function wA(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return wG(t);var n=t.read_shift(r&&r.biff==12?4:2),s=qo(t);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function wG(t){var e=qo(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function _G(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function EG(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return TG(t);var s=t.read_shift(n>=12?4:2),a=t.read_shift(2),o=(a&16384)>>14,u=(a&32768)>>15;if(a&=16383,u==1)for(;s>524287;)s-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:o,rRel:u}}function TG(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:n}}function kG(t,e,r){var n=(t[t.l++]&96)>>5,s=vA(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function NG(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var o=vA(t,a,r);return[n,s,o]}function SG(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function AG(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,s]}function CG(t,e,r){var n=(t[t.l++]&96)>>5,s=bG(t,e-1,r);return[n,s]}function jG(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function UT(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function IG(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),s=[],a=0;a<=n;++a)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function PG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function RG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function DG(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function OG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function _A(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function FG(t){return t.read_shift(2),_A(t)}function LG(t){return t.read_shift(2),_A(t)}function MG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=wA(t,0,r);return[n,s]}function $G(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=EG(t,0,r);return[n,s]}function VG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=wA(t,0,r);return[n,s,a]}function BG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[BK[s],kA[s],n]}function UG(t,e,r){var n=t[t.l++],s=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:zG(t);return[s,(a[0]===0?kA:VK)[a[1]]]}function zG(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function HG(t,e,r){t.l+=r&&r.biff==2?3:4}function WG(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function qG(t){return t.l++,Z0[t.read_shift(1)]}function GG(t){return t.l++,t.read_shift(2)}function KG(t){return t.l++,t.read_shift(1)!==0}function XG(t){return t.l++,Uu(t)}function YG(t,e,r){return t.l++,sA(t,e-1,r)}function QG(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=VW(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Z0[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Uu(t);break;case 2:r[1]=HW(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function JG(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),s=[],a=0;a!=n;++a)s.push((r.biff==12?ic:GW)(t));return s}function ZG(t,e,r){var n=0,s=0;r.biff==12?(n=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var a=0,o=[];a!=n&&(o[a]=[]);++a)for(var u=0;u!=s;++u)o[a][u]=QG(t,r.biff);return o}function eK(t,e,r){var n=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,a=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function tK(t,e,r){if(r.biff==5)return rK(t);var n=t.read_shift(1)>>>5&3,s=t.read_shift(2),a=t.read_shift(4);return[n,s,a]}function rK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function nK(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function sK(t,e,r){var n=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function aK(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function iK(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,s]}var oK=hi,lK=hi,cK=hi;function eh(t,e,r){return t.l+=2,[_G(t)]}function Nb(t){return t.l+=6,[]}var uK=eh,dK=Nb,hK=Nb,fK=eh;function EA(t){return t.l+=2,[rA(t),t.read_shift(2)&1]}var pK=eh,mK=EA,gK=Nb,xK=eh,yK=eh,vK=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function bK(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s=t.read_shift(2),a=t.read_shift(2),o=vK[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:s,C:a}}function wK(t){return t.l+=2,[t.read_shift(4)]}function _K(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function EK(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function TK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function kK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function NK(t){return t.l+=4,[0,0]}var zT={1:{n:"PtgExp",f:WG},2:{n:"PtgTbl",f:cK},3:{n:"PtgAdd",f:an},4:{n:"PtgSub",f:an},5:{n:"PtgMul",f:an},6:{n:"PtgDiv",f:an},7:{n:"PtgPower",f:an},8:{n:"PtgConcat",f:an},9:{n:"PtgLt",f:an},10:{n:"PtgLe",f:an},11:{n:"PtgEq",f:an},12:{n:"PtgGe",f:an},13:{n:"PtgGt",f:an},14:{n:"PtgNe",f:an},15:{n:"PtgIsect",f:an},16:{n:"PtgUnion",f:an},17:{n:"PtgRange",f:an},18:{n:"PtgUplus",f:an},19:{n:"PtgUminus",f:an},20:{n:"PtgPercent",f:an},21:{n:"PtgParen",f:an},22:{n:"PtgMissArg",f:an},23:{n:"PtgStr",f:YG},26:{n:"PtgSheet",f:_K},27:{n:"PtgEndSheet",f:EK},28:{n:"PtgErr",f:qG},29:{n:"PtgBool",f:KG},30:{n:"PtgInt",f:GG},31:{n:"PtgNum",f:XG},32:{n:"PtgArray",f:jG},33:{n:"PtgFunc",f:BG},34:{n:"PtgFuncVar",f:UG},35:{n:"PtgName",f:eK},36:{n:"PtgRef",f:MG},37:{n:"PtgArea",f:kG},38:{n:"PtgMemArea",f:nK},39:{n:"PtgMemErr",f:oK},40:{n:"PtgMemNoMem",f:lK},41:{n:"PtgMemFunc",f:sK},42:{n:"PtgRefErr",f:aK},43:{n:"PtgAreaErr",f:SG},44:{n:"PtgRefN",f:$G},45:{n:"PtgAreaN",f:CG},46:{n:"PtgMemAreaN",f:TK},47:{n:"PtgMemNoMemN",f:kK},57:{n:"PtgNameX",f:tK},58:{n:"PtgRef3d",f:VG},59:{n:"PtgArea3d",f:NG},60:{n:"PtgRefErr3d",f:iK},61:{n:"PtgAreaErr3d",f:AG},255:{}},SK={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},AK={1:{n:"PtgElfLel",f:EA},2:{n:"PtgElfRw",f:xK},3:{n:"PtgElfCol",f:uK},6:{n:"PtgElfRwV",f:yK},7:{n:"PtgElfColV",f:fK},10:{n:"PtgElfRadical",f:pK},11:{n:"PtgElfRadicalS",f:gK},13:{n:"PtgElfColS",f:dK},15:{n:"PtgElfColSV",f:hK},16:{n:"PtgElfRadicalLel",f:mK},25:{n:"PtgList",f:bK},29:{n:"PtgSxName",f:wK},255:{}},CK={0:{n:"PtgAttrNoop",f:NK},1:{n:"PtgAttrSemi",f:OG},2:{n:"PtgAttrIf",f:RG},4:{n:"PtgAttrChoose",f:IG},8:{n:"PtgAttrGoto",f:PG},16:{n:"PtgAttrSum",f:HG},32:{n:"PtgAttrBaxcel",f:UT},33:{n:"PtgAttrBaxcel",f:UT},64:{n:"PtgAttrSpace",f:FG},65:{n:"PtgAttrSpaceSemi",f:LG},128:{n:"PtgAttrIfError",f:DG},255:{}};function jK(t,e,r,n){if(n.biff<8)return hi(t,e);for(var s=t.l+e,a=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=ZG(t,0,n),a.push(r[o][1]);break;case"PtgMemArea":r[o][2]=JG(t,r[o][1],n),a.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),a.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=s-t.l,e!==0&&a.push(hi(t,e)),a}function IK(t,e,r){for(var n=t.l+e,s,a,o=[];n!=t.l;)e=n-t.l,a=t[t.l],s=zT[a]||zT[SK[a]],(a===24||a===25)&&(s=(a===24?AK:CK)[t[t.l+1]]),!s||!s.f?hi(t,e):o.push([s.n,s.f(t,e,r)]);return o}function PK(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],s=[],a=0;a<n.length;++a){var o=n[a];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var RK={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function DK(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function TA(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[n[0]][0]){case 357:return s=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(s=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function HT(t,e,r){var n=TA(t,e,r);return n=="#REF"?n:DK(n,r)}function Nu(t,e,r,n,s){var a=s&&s.biff||8,o={s:{c:0,r:0}},u=[],d,h,p,g=0,y=0,v,k="";if(!t[0]||!t[0][0])return"";for(var w=-1,T="",D=0,I=t[0].length;D<I;++D){var U=t[0][D];switch(U[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=u.pop(),h=u.pop(),w>=0){switch(t[0][w][1][0]){case 0:T=Xr(" ",t[0][w][1][1]);break;case 1:T=Xr("\r",t[0][w][1][1]);break;default:if(T="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}h=h+T,w=-1}u.push(h+RK[U[0]]+d);break;case"PtgIsect":d=u.pop(),h=u.pop(),u.push(h+" "+d);break;case"PtgUnion":d=u.pop(),h=u.pop(),u.push(h+","+d);break;case"PtgRange":d=u.pop(),h=u.pop(),u.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Xd(U[1][1],o,s),u.push(Yd(p,a));break;case"PtgRefN":p=r?Xd(U[1][1],r,s):U[1][1],u.push(Yd(p,a));break;case"PtgRef3d":g=U[1][1],p=Xd(U[1][2],o,s),k=HT(n,g,s),u.push(k+"!"+Yd(p,a));break;case"PtgFunc":case"PtgFuncVar":var O=U[1][0],X=U[1][1];O||(O=0),O&=127;var B=O==0?[]:u.slice(-O);u.length-=O,X==="User"&&(X=B.shift()),u.push(X+"("+B.join(",")+")");break;case"PtgBool":u.push(U[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(U[1]);break;case"PtgNum":u.push(String(U[1]));break;case"PtgStr":u.push('"'+U[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(U[1]);break;case"PtgAreaN":v=AT(U[1][1],r?{s:r}:o,s),u.push(Qx(v,s));break;case"PtgArea":v=AT(U[1][1],o,s),u.push(Qx(v,s));break;case"PtgArea3d":g=U[1][1],v=U[1][2],k=HT(n,g,s),u.push(k+"!"+Qx(v,s));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=U[1][2];var A=(n.names||[])[y-1]||(n[0]||[])[y],S=A?A.Name:"SH33TJSNAME"+String(y);S&&S.slice(0,6)=="_xlfn."&&!s.xlfn&&(S=S.slice(6)),u.push(S);break;case"PtgNameX":var C=U[1][1];y=U[1][2];var R;if(s.biff<=5)C<0&&(C=-C),n[C]&&(R=n[C][y]);else{var F="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][y]&&n[C][y].itab>0&&(F=n.SheetNames[n[C][y].itab-1]+"!"):F=n.SheetNames[y-1]+"!"),n[C]&&n[C][y])F+=n[C][y].Name;else if(n[0]&&n[0][y])F+=n[0][y].Name;else{var W=(TA(n,C,s)||"").split(";;");W[y-1]?F=W[y-1]:F+="SH33TJSERRX"}u.push(F);break}R||(R={Name:"SH33TJSERRY"}),u.push(R.Name);break;case"PtgParen":var M="(",Se=")";if(w>=0){switch(T="",t[0][w][1][0]){case 2:M=Xr(" ",t[0][w][1][1])+M;break;case 3:M=Xr("\r",t[0][w][1][1])+M;break;case 4:Se=Xr(" ",t[0][w][1][1])+Se;break;case 5:Se=Xr("\r",t[0][w][1][1])+Se;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}u.push(M+u.pop()+Se);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":p={c:U[1][1],r:U[1][0]};var Ie={c:r.c,r:r.r};if(n.sharedf[Er(p)]){var $e=n.sharedf[Er(p)];u.push(Nu($e,o,Ie,n,s))}else{var Le=!1;for(d=0;d!=n.arrayf.length;++d)if(h=n.arrayf[d],!(p.c<h[0].s.c||p.c>h[0].e.c)&&!(p.r<h[0].s.r||p.r>h[0].e.r)){u.push(Nu(h[1],o,Ie,n,s)),Le=!0;break}Le||u.push(U[1])}break;case"PtgArray":u.push("{"+PK(U[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=D;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+U[1].idx+"[#"+U[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(U));default:throw new Error("Unrecognized Formula Token: "+String(U))}var _e=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&w>=0&&_e.indexOf(t[0][D][0])==-1){U=t[0][w];var ie=!0;switch(U[1][0]){case 4:ie=!1;case 0:T=Xr(" ",U[1][1]);break;case 5:ie=!1;case 1:T=Xr("\r",U[1][1]);break;default:if(T="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+U[1][0])}u.push((ie?T:"")+u.pop()+(ie?"":T)),w=-1}}if(u.length>1&&s.WTF)throw new Error("bad formula stack");return u[0]}function OK(t){if(t==null){var e=Ce(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Ul(t);return Ul(0)}function FK(t,e,r,n,s){var a=zl(e,r,s),o=OK(t.v),u=Ce(6),d=33;u.write_shift(2,d),u.write_shift(4,0);for(var h=Ce(t.bf.length),p=0;p<t.bf.length;++p)h[p]=t.bf[p];var g=Mn([a,o,u,h]);return g}function Mm(t,e,r){var n=t.read_shift(4),s=IK(t,n,r),a=t.read_shift(4),o=a>0?jK(t,a,s,r):null;return[s,o]}var LK=Mm,$m=Mm,MK=Mm,$K=Mm,VK={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},kA={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},BK={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function UK(t){var e="of:="+t.replace(Tb,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function zK(t){return t.replace(/\./,"!")}var Qd=typeof Map<"u";function Sb(t,e,r){var n=0,s=t.length;if(r){if(Qd?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=Qd?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<s;++n)if(t[n].t===e)return t.Count++,n;return t[s]={t:e},t.Count++,t.Unique++,r&&(Qd?(r.has(e)||r.set(e,[]),r.get(e).push(s)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(s))),s}function Vm(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Li=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Wp(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=n1(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function NA(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function el(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],s=60,a=t.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){w6(e.z,s),r.ssf[s]=e.z,r.revssf[e.z]=n=s;break}}for(s=0;s!=a;++s)if(t[s].numFmtId===n)return s;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function HK(t,e,r){if(t&&t["!ref"]){var n=Or(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function WK(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+cn(t[r])+'"/>';return e+"</mergeCells>"}function qK(t,e,r,n,s){var a=!1,o={},u=null;if(n.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[r];try{e.Workbook&&(d=e.Workbook.Sheets[r].CodeName||d)}catch{}a=!0,o.codeName=_0(_r(d))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),u=(u||"")+tt("outlinePr",null,h)}!a&&!u||(s[s.length]=tt("sheetPr",u,o))}var GK=["objects","scenarios","selectLockedCells","selectUnlockedCells"],KK=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function XK(t){var e={sheet:1};return GK.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),KK.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=cA(t.password).toString(16).toUpperCase()),tt("sheetProtection",null,e)}function YK(t){return NA(t),tt("pageMargins",null,t)}function QK(t,e){for(var r=["<cols>"],n,s=0;s!=e.length;++s)(n=e[s])&&(r[r.length]=tt("col",null,Vm(s,n)));return r[r.length]="</cols>",r.join("")}function JK(t,e,r,n){var s=typeof t.ref=="string"?t.ref:cn(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=Gs(s);o.s.r==o.e.r&&(o.e.r=Gs(e["!ref"]).e.r,s=cn(o));for(var u=0;u<a.length;++u){var d=a[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return u==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),tt("autoFilter",null,{ref:s})}function ZK(t,e,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),tt("sheetViews",tt("sheetView",null,s),{})}function eX(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",a=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=Z0[t.v];break;case"d":n&&n.cellDates?s=hs(t.v,-1).toISOString():(t=Cs(t),t.t="n",s=""+(t.v=As(hs(t.v)))),typeof t.z>"u"&&(t.z=Qr[14]);break;default:s=t.v;break}var u=$n("v",_r(s)),d={r:e},h=el(n.cellXfs,t,n);switch(h!==0&&(d.s=h),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){u=$n("v",""+Sb(n.Strings,t.v,n.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=a&&(t.t=a,t.v=o),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;u=tt("f",_r(t.f),p)+(t.v!=null?u:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(d.cm=1),tt("c",u,d)}function tX(t,e,r,n){var s=[],a=[],o=Or(t["!ref"]),u="",d,h="",p=[],g=0,y=0,v=t["!rows"],k=Array.isArray(t),w={r:h},T,D=-1;for(y=o.s.c;y<=o.e.c;++y)p[y]=es(y);for(g=o.s.r;g<=o.e.r;++g){for(a=[],h=Un(g),y=o.s.c;y<=o.e.c;++y){d=p[y]+h;var I=k?(t[g]||[])[y]:t[d];I!==void 0&&(u=eX(I,d,t,e))!=null&&a.push(u)}(a.length>0||v&&v[g])&&(w={r:h},v&&v[g]&&(T=v[g],T.hidden&&(w.hidden=1),D=-1,T.hpx?D=qp(T.hpx):T.hpt&&(D=T.hpt),D>-1&&(w.ht=D,w.customHeight=1),T.level&&(w.outlineLevel=T.level)),s[s.length]=tt("row",a.join(""),w))}if(v)for(;g<v.length;++g)v&&v[g]&&(w={r:g+1},T=v[g],T.hidden&&(w.hidden=1),D=-1,T.hpx?D=qp(T.hpx):T.hpt&&(D=T.hpt),D>-1&&(w.ht=D,w.customHeight=1),T.level&&(w.outlineLevel=T.level),s[s.length]=tt("row","",w));return s.join("")}function SA(t,e,r,n){var s=[un,tt("worksheet",null,{xmlns:$u[0],"xmlns:r":kn.r})],a=r.SheetNames[t],o=0,u="",d=r.Sheets[a];d==null&&(d={});var h=d["!ref"]||"A1",p=Or(h);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),h=cn(p)}n||(n={}),d["!comments"]=[];var g=[];qK(d,r,t,e,s),s[s.length]=tt("dimension",null,{ref:h}),s[s.length]=ZK(d,e,t,r),e.sheetFormat&&(s[s.length]=tt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(s[s.length]=QK(d,d["!cols"])),s[o=s.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(u=tX(d,e),u.length>0&&(s[s.length]=u)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),d["!protect"]&&(s[s.length]=XK(d["!protect"])),d["!autofilter"]!=null&&(s[s.length]=JK(d["!autofilter"],d,r,t)),d["!merges"]!=null&&d["!merges"].length>0&&(s[s.length]=WK(d["!merges"]));var y=-1,v,k=-1;return d["!links"].length>0&&(s[s.length]="<hyperlinks>",d["!links"].forEach(function(w){w[1].Target&&(v={ref:w[0]},w[1].Target.charAt(0)!="#"&&(k=vr(n,-1,_r(w[1].Target).replace(/#.*$/,""),lr.HLINK),v["r:id"]="rId"+k),(y=w[1].Target.indexOf("#"))>-1&&(v.location=_r(w[1].Target.slice(y+1))),w[1].Tooltip&&(v.tooltip=_r(w[1].Tooltip)),s[s.length]=tt("hyperlink",null,v))}),s[s.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(s[s.length]=YK(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=$n("ignoredErrors",tt("ignoredError",null,{numberStoredAsText:1,sqref:h}))),g.length>0&&(k=vr(n,-1,"../drawings/drawing"+(t+1)+".xml",lr.DRAW),s[s.length]=tt("drawing",null,{"r:id":"rId"+k}),d["!drawing"]=g),d["!comments"].length>0&&(k=vr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",lr.VML),s[s.length]=tt("legacyDrawing",null,{"r:id":"rId"+k}),d["!legacy"]=k),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function rX(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=s/20),r}function nX(t,e,r){var n=Ce(145),s=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;s.hpx?a=qp(s.hpx)*20:s.hpt&&(a=s.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var u=0,d=n.l;n.l+=4;for(var h={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var g=-1,y=-1,v=p<<10;v<p+1<<10;++v){h.c=v;var k=Array.isArray(r)?(r[h.r]||[])[h.c]:r[Er(h)];k&&(g<0&&(g=v),y=v)}g<0||(++u,n.write_shift(4,g),n.write_shift(4,y))}var w=n.l;return n.l=d,n.write_shift(4,u),n.l=w,n.length>n.l?n.slice(0,n.l):n}function sX(t,e,r,n){var s=nX(n,r,e);(s.length>17||(e["!rows"]||[])[n])&&ze(t,0,s)}var aX=ic,iX=Bu;function oX(){}function lX(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=yW(t),r}function cX(t,e,r){r==null&&(r=Ce(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return Up({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),U6(t,r),r.slice(0,r.l)}function uX(t){var e=ha(t);return[e]}function dX(t,e,r){return r==null&&(r=Ce(8)),nc(e,r)}function hX(t){var e=sc(t);return[e]}function fX(t,e,r){return r==null&&(r=Ce(4)),ac(e,r)}function pX(t){var e=ha(t),r=t.read_shift(1);return[e,r,"b"]}function mX(t,e,r){return r==null&&(r=Ce(9)),nc(e,r),r.write_shift(1,t.v?1:0),r}function gX(t){var e=sc(t),r=t.read_shift(1);return[e,r,"b"]}function xX(t,e,r){return r==null&&(r=Ce(5)),ac(e,r),r.write_shift(1,t.v?1:0),r}function yX(t){var e=ha(t),r=t.read_shift(1);return[e,r,"e"]}function vX(t,e,r){return r==null&&(r=Ce(9)),nc(e,r),r.write_shift(1,t.v),r}function bX(t){var e=sc(t),r=t.read_shift(1);return[e,r,"e"]}function wX(t,e,r){return r==null&&(r=Ce(8)),ac(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function _X(t){var e=ha(t),r=t.read_shift(4);return[e,r,"s"]}function EX(t,e,r){return r==null&&(r=Ce(12)),nc(e,r),r.write_shift(4,e.v),r}function TX(t){var e=sc(t),r=t.read_shift(4);return[e,r,"s"]}function kX(t,e,r){return r==null&&(r=Ce(8)),ac(e,r),r.write_shift(4,e.v),r}function NX(t){var e=ha(t),r=Uu(t);return[e,r,"n"]}function SX(t,e,r){return r==null&&(r=Ce(16)),nc(e,r),Ul(t.v,r),r}function AX(t){var e=sc(t),r=Uu(t);return[e,r,"n"]}function CX(t,e,r){return r==null&&(r=Ce(12)),ac(e,r),Ul(t.v,r),r}function jX(t){var e=ha(t),r=z6(t);return[e,r,"n"]}function IX(t,e,r){return r==null&&(r=Ce(12)),nc(e,r),H6(t.v,r),r}function PX(t){var e=sc(t),r=z6(t);return[e,r,"n"]}function RX(t,e,r){return r==null&&(r=Ce(8)),ac(e,r),H6(t.v,r),r}function DX(t){var e=ha(t),r=vb(t);return[e,r,"is"]}function OX(t){var e=ha(t),r=ts(t);return[e,r,"str"]}function FX(t,e,r){return r==null&&(r=Ce(12+4*t.v.length)),nc(e,r),Sn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function LX(t){var e=sc(t),r=ts(t);return[e,r,"str"]}function MX(t,e,r){return r==null&&(r=Ce(8+4*t.v.length)),ac(e,r),Sn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function $X(t,e,r){var n=t.l+e,s=ha(t);s.r=r["!row"];var a=t.read_shift(1),o=[s,a,"b"];if(r.cellFormula){t.l+=2;var u=$m(t,n-t.l,r);o[3]=Nu(u,null,s,r.supbooks,r)}else t.l=n;return o}function VX(t,e,r){var n=t.l+e,s=ha(t);s.r=r["!row"];var a=t.read_shift(1),o=[s,a,"e"];if(r.cellFormula){t.l+=2;var u=$m(t,n-t.l,r);o[3]=Nu(u,null,s,r.supbooks,r)}else t.l=n;return o}function BX(t,e,r){var n=t.l+e,s=ha(t);s.r=r["!row"];var a=Uu(t),o=[s,a,"n"];if(r.cellFormula){t.l+=2;var u=$m(t,n-t.l,r);o[3]=Nu(u,null,s,r.supbooks,r)}else t.l=n;return o}function UX(t,e,r){var n=t.l+e,s=ha(t);s.r=r["!row"];var a=ts(t),o=[s,a,"str"];if(r.cellFormula){t.l+=2;var u=$m(t,n-t.l,r);o[3]=Nu(u,null,s,r.supbooks,r)}else t.l=n;return o}var zX=ic,HX=Bu;function WX(t,e){return e==null&&(e=Ce(4)),e.write_shift(4,t),e}function qX(t,e){var r=t.l+e,n=ic(t),s=bb(t),a=ts(t),o=ts(t),u=ts(t);t.l=r;var d={rfx:n,relId:s,loc:a,display:u};return o&&(d.Tooltip=o),d}function GX(t,e){var r=Ce(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Bu({s:Nn(t[0]),e:Nn(t[0])},r),wb("rId"+e,r);var n=t[1].Target.indexOf("#"),s=n==-1?"":t[1].Target.slice(n+1);return Sn(s||"",r),Sn(t[1].Tooltip||"",r),Sn("",r),r.slice(0,r.l)}function KX(){}function XX(t,e,r){var n=t.l+e,s=W6(t),a=t.read_shift(1),o=[s];if(o[2]=a,r.cellFormula){var u=LK(t,n-t.l,r);o[1]=u}else t.l=n;return o}function YX(t,e,r){var n=t.l+e,s=ic(t),a=[s];if(r.cellFormula){var o=$K(t,n-t.l,r);a[1]=o,t.l=n}else t.l=n;return a}function QX(t,e,r){r==null&&(r=Ce(18));var n=Vm(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),r.write_shift(2,s),r}var AA=["left","right","top","bottom","header","footer"];function JX(t){var e={};return AA.forEach(function(r){e[r]=Uu(t)}),e}function ZX(t,e){return e==null&&(e=Ce(48)),NA(t),AA.forEach(function(r){Ul(t[r],e)}),e}function eY(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function tY(t,e,r){r==null&&(r=Ce(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function rY(t){var e=Ce(24);return e.write_shift(4,4),e.write_shift(4,1),Bu(t,e),e}function nY(t,e){return e==null&&(e=Ce(66)),e.write_shift(2,t.password?cA(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function sY(){}function aY(){}function iY(t,e,r,n,s,a,o){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=Cs(e),e.z=e.z||Qr[14],e.v=As(hs(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var d={r,c:n};switch(d.s=el(s.cellXfs,e,s),e.l&&a["!links"].push([Er(d),e.l]),e.c&&a["!comments"].push([Er(d),e.c]),e.t){case"s":case"str":return s.bookSST?(u=Sb(s.Strings,e.v,s.revStrings),d.t="s",d.v=u,o?ze(t,18,kX(e,d)):ze(t,7,EX(e,d))):(d.t="str",o?ze(t,17,MX(e,d)):ze(t,6,FX(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?ze(t,13,RX(e,d)):ze(t,2,IX(e,d)):o?ze(t,16,CX(e,d)):ze(t,5,SX(e,d)),!0;case"b":return d.t="b",o?ze(t,15,xX(e,d)):ze(t,4,mX(e,d)),!0;case"e":return d.t="e",o?ze(t,14,wX(e,d)):ze(t,3,vX(e,d)),!0}return o?ze(t,12,fX(e,d)):ze(t,1,dX(e,d)),!0}function oY(t,e,r,n){var s=Or(e["!ref"]||"A1"),a,o="",u=[];ze(t,145);var d=Array.isArray(e),h=s.e.r;e["!rows"]&&(h=Math.max(s.e.r,e["!rows"].length-1));for(var p=s.s.r;p<=h;++p){o=Un(p),sX(t,e,s,p);var g=!1;if(p<=s.e.r)for(var y=s.s.c;y<=s.e.c;++y){p===s.s.r&&(u[y]=es(y)),a=u[y]+o;var v=d?(e[p]||[])[y]:e[a];if(!v){g=!1;continue}g=iY(t,v,p,y,n,e,g)}}ze(t,146)}function lY(t,e){!e||!e["!merges"]||(ze(t,177,WX(e["!merges"].length)),e["!merges"].forEach(function(r){ze(t,176,HX(r))}),ze(t,178))}function cY(t,e){!e||!e["!cols"]||(ze(t,390),e["!cols"].forEach(function(r,n){r&&ze(t,60,QX(n,r))}),ze(t,391))}function uY(t,e){!e||!e["!ref"]||(ze(t,648),ze(t,649,rY(Or(e["!ref"]))),ze(t,650))}function dY(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var s=vr(r,-1,n[1].Target.replace(/#.*$/,""),lr.HLINK);ze(t,494,GX(n,s))}}),delete e["!links"]}function hY(t,e,r,n){if(e["!comments"].length>0){var s=vr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",lr.VML);ze(t,551,wb("rId"+s)),e["!legacy"]=s}}function fY(t,e,r,n){if(e["!autofilter"]){var s=e["!autofilter"],a=typeof s.ref=="string"?s.ref:cn(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,u=Gs(a);u.s.r==u.e.r&&(u.e.r=Gs(e["!ref"]).e.r,a=cn(u));for(var d=0;d<o.length;++d){var h=o[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+r.SheetNames[n]+"'!"+a;break}}d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ze(t,161,Bu(Or(a))),ze(t,162)}}function pY(t,e,r){ze(t,133),ze(t,137,tY(e,r)),ze(t,138),ze(t,134)}function mY(t,e){e["!protect"]&&ze(t,535,nY(e["!protect"]))}function gY(t,e,r,n){var s=Ss(),a=r.SheetNames[t],o=r.Sheets[a]||{},u=a;try{r&&r.Workbook&&(u=r.Workbook.Sheets[t].CodeName||u)}catch{}var d=Or(o["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ze(s,129),(r.vbaraw||o["!outline"])&&ze(s,147,cX(u,o["!outline"])),ze(s,148,iX(d)),pY(s,o,r.Workbook),cY(s,o),oY(s,o,t,e),mY(s,o),fY(s,o,r,t),lY(s,o),dY(s,o,n),o["!margins"]&&ze(s,476,ZX(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&uY(s,o),hY(s,o,t,n),ze(s,130),s.end()}function xY(t,e){t.l+=10;var r=ts(t);return{name:r}}var yY=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function vY(t){return!t.Workbook||!t.Workbook.WBProps?"false":YH(t.Workbook.WBProps.date1904)?"true":"false"}var bY="][*?/\\".split("");function CA(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return bY.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function wY(t,e,r){t.forEach(function(n,s){CA(n);for(var a=0;a<s;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=e&&e[s]&&e[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function _Y(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];wY(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)HK(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function jA(t){var e=[un];e[e.length]=tt("workbook",null,{xmlns:$u[0],"xmlns:r":kn.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(yY.forEach(function(u){t.Workbook.WBProps[u[0]]!=null&&t.Workbook.WBProps[u[0]]!=u[1]&&(n[u[0]]=t.Workbook.WBProps[u[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=tt("workbookPr",null,n);var s=t.Workbook&&t.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!s[a]||!s[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var o={name:_r(t.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=tt("sheet",null,o)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(u){var d={name:u.Name};u.Comment&&(d.comment=u.Comment),u.Sheet!=null&&(d.localSheetId=""+u.Sheet),u.Hidden&&(d.hidden="1"),u.Ref&&(e[e.length]=tt("definedName",_r(u.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function EY(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=r1(t),r.name=ts(t),r}function TY(t,e){return e||(e=Ce(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),wb(t.strRelID,e),Sn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function kY(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?ts(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function NY(t,e){e||(e=Ce(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),U6(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function SY(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),a=vW(t),o=MK(t,0,r),u=bb(t);t.l=n;var d={Name:a,Ptg:o};return s<268435455&&(d.Sheet=s),u&&(d.Comment=u),d}function AY(t,e){ze(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ze(t,156,TY(s))}ze(t,144)}function CY(t,e){e||(e=Ce(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Sn("SheetJS",e),Sn(Dp.version,e),Sn(Dp.version,e),Sn("7262",e),e.length>e.l?e.slice(0,e.l):e}function jY(t,e){e||(e=Ce(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function IY(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,s=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&a==-1&&(a=n);a>s||(ze(t,135),ze(t,158,jY(s)),ze(t,136))}}function PY(t,e){var r=Ss();return ze(r,131),ze(r,128,CY()),ze(r,153,NY(t.Workbook&&t.Workbook.WBProps||null)),IY(r,t),AY(r,t),ze(r,132),r.end()}function RY(t,e,r){return(e.slice(-4)===".bin"?PY:jA)(t)}function DY(t,e,r,n,s){return(e.slice(-4)===".bin"?gY:SA)(t,r,n,s)}function OY(t,e,r){return(e.slice(-4)===".bin"?Zq:hA)(t,r)}function FY(t,e,r){return(e.slice(-4)===".bin"?Nq:lA)(t,r)}function LY(t,e,r){return(e.slice(-4)===".bin"?mG:xA)(t)}function MY(t){return(t.slice(-4)===".bin"?oG:mA)()}function $Y(t,e){var r=[];return t.Props&&r.push(OW(t.Props,e)),t.Custprops&&r.push(FW(t.Props,t.Custprops)),r.join("")}function VY(){return""}function BY(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,s){var a=[];a.push(tt("NumberFormat",null,{"ss:Format":_r(Qr[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(tt("Style",a.join(""),o))}),tt("Styles",r.join(""))}function IA(t){return tt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+kb(t.Ref,{r:0,c:0})})}function UY(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var s=e[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(IA(s)))}return tt("Names",r.join(""))}function zY(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,a=[],o=0;o<s.length;++o){var u=s[o];u.Sheet==r&&(u.Name.match(/^_xlfn\./)||a.push(IA(u)))}return a.join("")}function HY(t,e,r,n){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(tt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(tt("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(tt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(tt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push($n("ProtectContents","True")),t["!protect"].objects&&s.push($n("ProtectObjects","True")),t["!protect"].scenarios&&s.push($n("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push($n("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push($n("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":tt("WorksheetOptions",s.join(""),{xmlns:$s.x})}function WY(t){return t.map(function(e){var r=XH(e.t||""),n=tt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return tt("Comment",n,{"ss:Author":e.a})}).join("")}function qY(t,e,r,n,s,a,o){if(!t||t.v==null&&t.f==null)return"";var u={};if(t.f&&(u["ss:Formula"]="="+_r(kb(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var d=Nn(t.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(d.r==o.r?"":"["+(d.r-o.r)+"]")+"C"+(d.c==o.c?"":"["+(d.c-o.c)+"]")}if(t.l&&t.l.Target&&(u["ss:HRef"]=_r(t.l.Target),t.l.Tooltip&&(u["x:HRefScreenTip"]=_r(t.l.Tooltip))),r["!merges"])for(var h=r["!merges"],p=0;p!=h.length;++p)h[p].s.c!=o.c||h[p].s.r!=o.r||(h[p].e.c>h[p].s.c&&(u["ss:MergeAcross"]=h[p].e.c-h[p].s.c),h[p].e.r>h[p].s.r&&(u["ss:MergeDown"]=h[p].e.r-h[p].s.r));var g="",y="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":g="Number",y=String(t.v);break;case"b":g="Boolean",y=t.v?"1":"0";break;case"e":g="Error",y=Z0[t.v];break;case"d":g="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Qr[14]);break;case"s":g="String",y=KH(t.v||"");break}var v=el(n.cellXfs,t,n);u["ss:StyleID"]="s"+(21+v),u["ss:Index"]=o.c+1;var k=t.v!=null?y:"",w=t.t=="z"?"":'<Data ss:Type="'+g+'">'+k+"</Data>";return(t.c||[]).length>0&&(w+=WY(t.c)),tt("Cell",w,u)}function GY(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=dA(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function KY(t,e,r,n){if(!t["!ref"])return"";var s=Or(t["!ref"]),a=t["!merges"]||[],o=0,u=[];t["!cols"]&&t["!cols"].forEach(function(T,D){Eb(T);var I=!!T.width,U=Vm(D,T),O={"ss:Index":D+1};I&&(O["ss:Width"]=Hp(U.width)),T.hidden&&(O["ss:Hidden"]="1"),u.push(tt("Column",null,O))});for(var d=Array.isArray(t),h=s.s.r;h<=s.e.r;++h){for(var p=[GY(h,(t["!rows"]||[])[h])],g=s.s.c;g<=s.e.c;++g){var y=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>g)&&!(a[o].s.r>h)&&!(a[o].e.c<g)&&!(a[o].e.r<h)){(a[o].s.c!=g||a[o].s.r!=h)&&(y=!0);break}if(!y){var v={r:h,c:g},k=Er(v),w=d?(t[h]||[])[g]:t[k];p.push(qY(w,k,t,e,r,n,v))}}p.push("</Row>"),p.length>2&&u.push(p.join(""))}return u.join("")}function XY(t,e,r){var n=[],s=r.SheetNames[t],a=r.Sheets[s],o=a?zY(a,e,t,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=a?KY(a,e,t,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(HY(a,e,t,r)),n.join("")}function YY(t,e){e||(e={}),t.SSF||(t.SSF=Cs(Qr)),t.SSF&&(Om(),Dm(t.SSF),e.revssf=Fm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],el(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push($Y(t,e)),r.push(VY()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(tt("Worksheet",XY(n,e,t),{"ss:Name":_r(t.SheetNames[n])}));return r[2]=BY(t,e),r[3]=UY(t),un+tt("Workbook",r.join(""),{xmlns:$s.ss,"xmlns:o":$s.o,"xmlns:x":$s.x,"xmlns:ss":$s.ss,"xmlns:dt":$s.dt,"xmlns:html":$s.html})}var ey={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function QY(t,e){var r=[],n=[],s=[],a=0,o,u=xT(jT,"n"),d=xT(IT,"n");if(t.Props)for(o=Hn(t.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(u,o[a])?r:Object.prototype.hasOwnProperty.call(d,o[a])?n:s).push([o[a],t.Props[o[a]]]);if(t.Custprops)for(o=Hn(t.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(u,o[a])?r:Object.prototype.hasOwnProperty.call(d,o[a])?n:s).push([o[a],t.Custprops[o[a]]]);var h=[];for(a=0;a<s.length;++a)tA.indexOf(s[a][0])>-1||J6.indexOf(s[a][0])>-1||s[a][1]!=null&&h.push(s[a]);n.length&&kr.utils.cfb_add(e,"/SummaryInformation",FT(n,ey.SI,d,IT)),(r.length||h.length)&&kr.utils.cfb_add(e,"/DocumentSummaryInformation",FT(r,ey.DSI,u,jT,h.length?h:null,ey.UDI))}function JY(t,e){var r=e||{},n=kr.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return kr.utils.cfb_add(n,s,PA(t,r)),r.biff==8&&(t.Props||t.Custprops)&&QY(t,n),r.biff==8&&t.vbaraw&&gG(n,kr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var ZY={0:{f:rX},1:{f:uX},2:{f:jX},3:{f:yX},4:{f:pX},5:{f:NX},6:{f:OX},7:{f:_X},8:{f:UX},9:{f:BX},10:{f:$X},11:{f:VX},12:{f:hX},13:{f:PX},14:{f:bX},15:{f:gX},16:{f:AX},17:{f:LX},18:{f:TX},19:{f:vb},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:SY},40:{},42:{},43:{f:Oq},44:{f:Rq},45:{f:Mq},46:{f:Vq},47:{f:$q},48:{},49:{f:hW},50:{},51:{f:rG},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:fq},62:{f:DX},63:{f:lG},64:{f:sY},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:hi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:eY},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:lX},148:{f:aX,p:16},151:{f:KX},152:{},153:{f:kY},154:{},155:{},156:{f:EY},157:{},158:{},159:{T:1,f:Eq},160:{T:-1},161:{T:1,f:ic},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:zX},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:eG},336:{T:-1},337:{f:aG,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:r1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:oq},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:XX},427:{f:YX},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:JX},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:oX},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:qX},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:r1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:fG},633:{T:1},634:{T:-1},635:{T:1,f:dG},636:{T:-1},637:{f:gW},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:xY},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:aY},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function rt(t,e,r,n){var s=e;if(!isNaN(s)){var a=n||(r||[]).length||0,o=t.next(4);o.write_shift(2,s),o.write_shift(2,a),a>0&&gb(r)&&t.push(r)}}function eQ(t,e,r,n){var s=(r||[]).length||0;if(s<=8224)return rt(t,e,r,s);var a=e;if(!isNaN(a)){for(var o=r.parts||[],u=0,d=0,h=0;h+(o[u]||8224)<=8224;)h+=o[u]||8224,u++;var p=t.next(4);for(p.write_shift(2,a),p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h;d<s;){for(p=t.next(4),p.write_shift(2,60),h=0;h+(o[u]||8224)<=8224;)h+=o[u]||8224,u++;p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h}}}function th(t,e,r){return t||(t=Ce(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function tQ(t,e,r,n){var s=Ce(9);return th(s,t,e),nA(r,n||"b",s),s}function rQ(t,e,r){var n=Ce(8+2*r.length);return th(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function nQ(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?As(hs(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?rt(t,2,xq(r,n,s)):rt(t,3,gq(r,n,s));return;case"b":case"e":rt(t,5,tQ(r,n,e.v,e.t));return;case"s":case"str":rt(t,4,rQ(r,n,(e.v||"").slice(0,255)));return}rt(t,1,th(null,r,n))}function sQ(t,e,r,n){var s=Array.isArray(e),a=Or(e["!ref"]||"A1"),o,u="",d=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=cn(a)}for(var h=a.s.r;h<=a.e.r;++h){u=Un(h);for(var p=a.s.c;p<=a.e.c;++p){h===a.s.r&&(d[p]=es(p)),o=d[p]+u;var g=s?(e[h]||[])[p]:e[o];g&&nQ(t,g,h,p)}}}function aQ(t,e){for(var r=e||{},n=Ss(),s=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(s=a);if(s==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return rt(n,r.biff==4?1033:r.biff==3?521:9,_b(t,16,r)),sQ(n,t.Sheets[t.SheetNames[s]],s,r),rt(n,10),n.end()}function iQ(t,e,r){rt(t,49,ZW({sz:12,name:"Arial"},r))}function oQ(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&rt(t,1054,rq(s,e[s],r))})}function lQ(t,e){var r=Ce(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),rt(t,2151,r),r=Ce(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),iA(Or(e["!ref"]||"A1"),r),r.write_shift(4,4),rt(t,2152,r)}function cQ(t,e){for(var r=0;r<16;++r)rt(t,224,MT({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){rt(t,224,MT(n,0,e))})}function uQ(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];rt(t,440,uq(n)),n[1].Tooltip&&rt(t,2048,dq(n))}delete e["!links"]}function dQ(t,e){if(e){var r=0;e.forEach(function(n,s){++r<=256&&n&&rt(t,125,pq(Vm(s,n),s))})}}function hQ(t,e,r,n,s){var a=16+el(s.cellXfs,e,s);if(e.v==null&&!e.bf){rt(t,513,zl(r,n,a));return}if(e.bf)rt(t,6,FK(e,r,n,s,a));else switch(e.t){case"d":case"n":var o=e.t=="d"?As(hs(e.v)):e.v;rt(t,515,iq(r,n,o,a));break;case"b":case"e":rt(t,517,aq(r,n,e.v,a,s,e.t));break;case"s":case"str":if(s.bookSST){var u=Sb(s.Strings,e.v,s.revStrings);rt(t,253,eq(r,n,u,a))}else rt(t,516,tq(r,n,(e.v||"").slice(0,255),a,s));break;default:rt(t,513,zl(r,n,a))}}function fQ(t,e,r){var n=Ss(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=(r||{}).Workbook||{},u=(o.Sheets||[])[t]||{},d=Array.isArray(a),h=e.biff==8,p,g="",y=[],v=Or(a["!ref"]||"A1"),k=h?65536:16384;if(v.e.c>255||v.e.r>=k){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,k-1)}rt(n,2057,_b(r,16,e)),rt(n,13,ia(1)),rt(n,12,ia(100)),rt(n,15,ls(!0)),rt(n,17,ls(!1)),rt(n,16,Ul(.001)),rt(n,95,ls(!0)),rt(n,42,ls(!1)),rt(n,43,ls(!1)),rt(n,130,ia(1)),rt(n,128,sq()),rt(n,131,ls(!1)),rt(n,132,ls(!1)),h&&dQ(n,a["!cols"]),rt(n,512,nq(v,e)),h&&(a["!links"]=[]);for(var w=v.s.r;w<=v.e.r;++w){g=Un(w);for(var T=v.s.c;T<=v.e.c;++T){w===v.s.r&&(y[T]=es(T)),p=y[T]+g;var D=d?(a[w]||[])[T]:a[p];D&&(hQ(n,D,w,T,e),h&&D.l&&a["!links"].push([p,D.l]))}}var I=u.CodeName||u.name||s;return h&&rt(n,574,JW((o.Views||[])[0])),h&&(a["!merges"]||[]).length&&rt(n,229,cq(a["!merges"])),h&&uQ(n,a),rt(n,442,aA(I)),h&&lQ(n,a),rt(n,10),n.end()}function pQ(t,e,r){var n=Ss(),s=(t||{}).Workbook||{},a=s.Sheets||[],o=s.WBProps||{},u=r.biff==8,d=r.biff==5;if(rt(n,2057,_b(t,5,r)),r.bookType=="xla"&&rt(n,135),rt(n,225,u?ia(1200):null),rt(n,193,$W(2)),d&&rt(n,191),d&&rt(n,192),rt(n,226),rt(n,92,KW("SheetJS",r)),rt(n,66,ia(u?1200:1252)),u&&rt(n,353,ia(0)),u&&rt(n,448),rt(n,317,mq(t.SheetNames.length)),u&&t.vbaraw&&rt(n,211),u&&t.vbaraw){var h=o.CodeName||"ThisWorkbook";rt(n,442,aA(h))}rt(n,156,ia(17)),rt(n,25,ls(!1)),rt(n,18,ls(!1)),rt(n,19,ia(0)),u&&rt(n,431,ls(!1)),u&&rt(n,444,ia(0)),rt(n,61,QW()),rt(n,64,ls(!1)),rt(n,141,ia(0)),rt(n,34,ls(vY(t)=="true")),rt(n,14,ls(!0)),u&&rt(n,439,ls(!1)),rt(n,218,ia(0)),iQ(n,t,r),oQ(n,t.SSF,r),cQ(n,r),u&&rt(n,352,ls(!1));var p=n.end(),g=Ss();u&&rt(g,140,hq()),u&&r.Strings&&eQ(g,252,YW(r.Strings)),rt(g,10);var y=g.end(),v=Ss(),k=0,w=0;for(w=0;w<t.SheetNames.length;++w)k+=(u?12:11)+(u?2:1)*t.SheetNames[w].length;var T=p.length+k+y.length;for(w=0;w<t.SheetNames.length;++w){var D=a[w]||{};rt(v,133,XW({pos:T,hs:D.Hidden||0,dt:0,name:t.SheetNames[w]},r)),T+=e[w].length}var I=v.end();if(k!=I.length)throw new Error("BS8 "+k+" != "+I.length);var U=[];return p.length&&U.push(p),I.length&&U.push(I),y.length&&U.push(y),Mn(U)}function mQ(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Cs(Qr)),t&&t.SSF&&(Om(),Dm(t.SSF),r.revssf=Fm(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Ab(r),r.cellXfs=[],el(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)n[n.length]=fQ(s,r,t);return n.unshift(pQ(t,n,r)),Mn(n)}function PA(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var s=Gs(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return mQ(t,e);case 4:case 3:case 2:return aQ(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function gQ(t,e,r,n){for(var s=t["!merges"]||[],a=[],o=e.s.c;o<=e.e.c;++o){for(var u=0,d=0,h=0;h<s.length;++h)if(!(s[h].s.r>r||s[h].s.c>o)&&!(s[h].e.r<r||s[h].e.c<o)){if(s[h].s.r<r||s[h].s.c<o){u=-1;break}u=s[h].e.r-s[h].s.r+1,d=s[h].e.c-s[h].s.c+1;break}if(!(u<0)){var p=Er({r,c:o}),g=n.dense?(t[r]||[])[o]:t[p],y=g&&g.v!=null&&(g.h||GH(g.w||(qi(g),g.w)||""))||"",v={};u>1&&(v.rowspan=u),d>1&&(v.colspan=d),n.editable?y='<span contenteditable="true">'+y+"</span>":g&&(v["data-t"]=g&&g.t||"z",g.v!=null&&(v["data-v"]=g.v),g.z!=null&&(v["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+g.l.Target+'">'+y+"</a>")),v.id=(n.id||"sjs")+"-"+p,a.push(tt("td",y,v))}}var k="<tr>";return k+a.join("")+"</tr>"}var xQ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',yQ="</body></html>";function vQ(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function RA(t,e){var r=e||{},n=r.header!=null?r.header:xQ,s=r.footer!=null?r.footer:yQ,a=[n],o=Gs(t["!ref"]);r.dense=Array.isArray(t),a.push(vQ(t,o,r));for(var u=o.s.r;u<=o.e.r;++u)a.push(gQ(t,o,u,r));return a.push("</table>"+s),a.join("")}function DA(t,e,r){var n=r||{},s=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?Nn(n.origin):n.origin;s=o.r,a=o.c}var u=e.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,u.length),h={s:{r:0,c:0},e:{r:s,c:a}};if(t["!ref"]){var p=Gs(t["!ref"]);h.s.r=Math.min(h.s.r,p.s.r),h.s.c=Math.min(h.s.c,p.s.c),h.e.r=Math.max(h.e.r,p.e.r),h.e.c=Math.max(h.e.c,p.e.c),s==-1&&(h.e.r=s=p.e.r+1)}var g=[],y=0,v=t["!rows"]||(t["!rows"]=[]),k=0,w=0,T=0,D=0,I=0,U=0;for(t["!cols"]||(t["!cols"]=[]);k<u.length&&w<d;++k){var O=u[k];if(WT(O)){if(n.display)continue;v[w]={hidden:!0}}var X=O.children;for(T=D=0;T<X.length;++T){var B=X[T];if(!(n.display&&WT(B))){var A=B.hasAttribute("data-v")?B.getAttribute("data-v"):B.hasAttribute("v")?B.getAttribute("v"):QH(B.innerHTML),S=B.getAttribute("data-z")||B.getAttribute("z");for(y=0;y<g.length;++y){var C=g[y];C.s.c==D+a&&C.s.r<w+s&&w+s<=C.e.r&&(D=C.e.c+1-a,y=-1)}U=+B.getAttribute("colspan")||1,((I=+B.getAttribute("rowspan")||1)>1||U>1)&&g.push({s:{r:w+s,c:D+a},e:{r:w+s+(I||1)-1,c:D+a+(U||1)-1}});var R={t:"s",v:A},F=B.getAttribute("data-t")||B.getAttribute("t")||"";A!=null&&(A.length==0?R.t=F||"z":n.raw||A.trim().length==0||F=="s"||(A==="TRUE"?R={t:"b",v:!0}:A==="FALSE"?R={t:"b",v:!1}:isNaN(Fi(A))?isNaN(w0(A).getDate())||(R={t:"d",v:hs(A)},n.cellDates||(R={t:"n",v:As(R.v)}),R.z=n.dateNF||Qr[14]):R={t:"n",v:Fi(A)})),R.z===void 0&&S!=null&&(R.z=S);var W="",M=B.getElementsByTagName("A");if(M&&M.length)for(var Se=0;Se<M.length&&!(M[Se].hasAttribute("href")&&(W=M[Se].getAttribute("href"),W.charAt(0)!="#"));++Se);W&&W.charAt(0)!="#"&&(R.l={Target:W}),n.dense?(t[w+s]||(t[w+s]=[]),t[w+s][D+a]=R):t[Er({c:D+a,r:w+s})]=R,h.e.c<D+a&&(h.e.c=D+a),D+=U}}++w}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),h.e.r=Math.max(h.e.r,w-1+s),t["!ref"]=cn(h),w>=d&&(t["!fullref"]=cn((h.e.r=u.length-k+w-1+s,h))),t}function OA(t,e){var r=e||{},n=r.dense?[]:{};return DA(n,t,e)}function bQ(t,e){return rc(OA(t,e),e)}function WT(t){var e="",r=wQ(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function wQ(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var _Q=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+E0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return un+e}})(),qT=(function(){var t=function(a){return _r(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,o,u){var d=[];d.push('      <table:table table:name="'+_r(o.SheetNames[u])+`" table:style-name="ta1">
`);var h=0,p=0,g=Gs(a["!ref"]||"A1"),y=a["!merges"]||[],v=0,k=Array.isArray(a);if(a["!cols"])for(p=0;p<=g.e.c;++p)d.push("        <table:table-column"+(a["!cols"][p]?' table:style-name="co'+a["!cols"][p].ods+'"':"")+`></table:table-column>
`);var w="",T=a["!rows"]||[];for(h=0;h<g.s.r;++h)w=T[h]?' table:style-name="ro'+T[h].ods+'"':"",d.push("        <table:table-row"+w+`></table:table-row>
`);for(;h<=g.e.r;++h){for(w=T[h]?' table:style-name="ro'+T[h].ods+'"':"",d.push("        <table:table-row"+w+`>
`),p=0;p<g.s.c;++p)d.push(e);for(;p<=g.e.c;++p){var D=!1,I={},U="";for(v=0;v!=y.length;++v)if(!(y[v].s.c>p)&&!(y[v].s.r>h)&&!(y[v].e.c<p)&&!(y[v].e.r<h)){(y[v].s.c!=p||y[v].s.r!=h)&&(D=!0),I["table:number-columns-spanned"]=y[v].e.c-y[v].s.c+1,I["table:number-rows-spanned"]=y[v].e.r-y[v].s.r+1;break}if(D){d.push(r);continue}var O=Er({r:h,c:p}),X=k?(a[h]||[])[p]:a[O];if(X&&X.f&&(I["table:formula"]=_r(UK(X.f)),X.F&&X.F.slice(0,O.length)==O)){var B=Gs(X.F);I["table:number-matrix-columns-spanned"]=B.e.c-B.s.c+1,I["table:number-matrix-rows-spanned"]=B.e.r-B.s.r+1}if(!X){d.push(e);continue}switch(X.t){case"b":U=X.v?"TRUE":"FALSE",I["office:value-type"]="boolean",I["office:boolean-value"]=X.v?"true":"false";break;case"n":U=X.w||String(X.v||0),I["office:value-type"]="float",I["office:value"]=X.v||0;break;case"s":case"str":U=X.v==null?"":X.v,I["office:value-type"]="string";break;case"d":U=X.w||hs(X.v).toISOString(),I["office:value-type"]="date",I["office:date-value"]=hs(X.v).toISOString(),I["table:style-name"]="ce1";break;default:d.push(e);continue}var A=t(U);if(X.l&&X.l.Target){var S=X.l.Target;S=S.charAt(0)=="#"?"#"+zK(S.slice(1)):S,S.charAt(0)!="#"&&!S.match(/^\w+:/)&&(S="../"+S),A=tt("text:a",A,{"xlink:href":S.replace(/&/g,"&amp;")})}d.push("          "+tt("table:table-cell",tt("text:p",A,{}),I)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},s=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var u=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var p=0;p<h["!cols"].length;++p)if(h["!cols"][p]){var g=h["!cols"][p];if(g.width==null&&g.wpx==null&&g.wch==null)continue;Eb(g),g.ods=u;var y=h["!cols"][p].wpx+"px";a.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),a.push(`  </style:style>
`),++u}}});var d=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var p=0;p<h["!rows"].length;++p)if(h["!rows"][p]){h["!rows"][p].ods=d;var g=h["!rows"][p].hpx+"px";a.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),a.push(`  </style:style>
`),++d}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,u){var d=[un],h=E0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=E0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(d.push("<office:document"+h+p+`>
`),d.push(Y6().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+h+`>
`),s(d,o),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var g=0;g!=o.SheetNames.length;++g)d.push(n(o.Sheets[o.SheetNames[g]],o,g));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),u.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function FA(t,e){if(e.bookType=="fods")return qT(t,e);var r=hb(),n="",s=[],a=[];return n="mimetype",Ut(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ut(r,n,qT(t,e)),s.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Ut(r,n,_Q(t,e)),s.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Ut(r,n,un+Y6()),s.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Ut(r,n,DW(a)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ut(r,n,PW(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Gp(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function EQ(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Sa(_0(t))}function TQ(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Go(t){var e=t.reduce(function(s,a){return s+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(s){r.set(s,n),n+=s.length}),r}function kQ(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;s>=1;++a,s/=256)t[e+a]=s&255;t[e+15]|=r>=0?0:128}function T0(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function yr(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function cu(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function gn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],s=T0(t,r),a=s&7;s=Math.floor(s/8);var o=0,u;if(s==0)break;switch(a){case 0:{for(var d=r[0];t[r[0]++]>=128;);u=t.slice(d,r[0])}break;case 5:o=4,u=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,u=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=T0(t,r),u=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(n))}var h={data:u,type:a};e[s]==null?e[s]=[h]:e[s].push(h)}return e}function Pn(t){var e=[];return t.forEach(function(r,n){r.forEach(function(s){s.data&&(e.push(yr(n*8+s.type)),s.type==2&&e.push(yr(s.data.length)),e.push(s.data))})}),Go(e)}function Ta(t){for(var e,r=[],n=[0];n[0]<t.length;){var s=T0(t,n),a=gn(t.slice(n[0],n[0]+s));n[0]+=s;var o={id:cu(a[1][0].data),messages:[]};a[2].forEach(function(u){var d=gn(u.data),h=cu(d[3][0].data);o.messages.push({meta:d,data:t.slice(n[0],n[0]+h)}),n[0]+=h}),(e=a[3])!=null&&e[0]&&(o.merge=cu(a[3][0].data)>>>0>0),r.push(o)}return r}function Bc(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:yr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:yr(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:yr(o.data.length)}],n[2].push({data:Pn(o.meta),type:2})});var a=Pn(n);e.push(yr(a.length)),e.push(a),s.forEach(function(o){return e.push(o)})}),Go(e)}function NQ(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=T0(e,r),s=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var u=o-59;o=e[r[0]],u>1&&(o|=e[r[0]+1]<<8),u>2&&(o|=e[r[0]+2]<<16),u>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=u}s.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var d=0,h=0;if(a==1?(h=(e[r[0]]>>2&7)+4,d=(e[r[0]++]&224)<<3,d|=e[r[0]++]):(h=(e[r[0]++]>>2)+1,a==2?(d=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(d=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Go(s)],d==0)throw new Error("Invalid offset 0");if(d>s[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(s.push(s[0].slice(-d)),h-=d;h>=s[s.length-1].length;)s.push(s[s.length-1]),h-=s[s.length-1].length;s.push(s[0].slice(-d,-d+h))}}var p=Go(s);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function ka(t){for(var e=[],r=0;r<t.length;){var n=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(NQ(n,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Go(e)}function Uc(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),s=new Uint8Array(4);e.push(s);var a=yr(n),o=a.length;e.push(a),n<=60?(o++,e.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return Go(e)}function ty(t,e){var r=new Uint8Array(32),n=Gp(r),s=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,kQ(r,s,t.v),a|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,t.v?1:0,!0),a|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(s,e.indexOf(t.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,s)}function ry(t,e){var r=new Uint8Array(32),n=Gp(r),s=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(s,t.v,!0),a|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,t.v?1:0,!0),a|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(s,e.indexOf(t.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,s)}function wo(t){var e=gn(t);return T0(e[1][0].data)}function SQ(t,e,r){var n,s,a,o;if(!((n=t[6])!=null&&n[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var u=((o=(a=t[8])==null?void 0:a[0])==null?void 0:o.data)&&cu(t[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var d=0,h=Gp(t[7][0].data),p=0,g=[],y=Gp(t[4][0].data),v=0,k=[],w=0;w<e.length;++w){if(e[w]==null){h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535);continue}h.setUint16(w*2,p,!0),y.setUint16(w*2,v,!0);var T,D;switch(typeof e[w]){case"string":T=ty({t:"s",v:e[w]},r),D=ry({t:"s",v:e[w]},r);break;case"number":T=ty({t:"n",v:e[w]},r),D=ry({t:"n",v:e[w]},r);break;case"boolean":T=ty({t:"b",v:e[w]},r),D=ry({t:"b",v:e[w]},r);break;default:throw new Error("Unsupported value "+e[w])}g.push(T),p+=T.length,k.push(D),v+=D.length,++d}for(t[2][0].data=yr(d);w<t[7][0].data.length/2;++w)h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535,!0);return t[6][0].data=Go(g),t[3][0].data=Go(k),d}function AQ(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Gs(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(cn(n)));var a=Kp(r,{range:n,header:1}),o=["~Sh33tJ5~"];a.forEach(function(te){return te.forEach(function(re){typeof re=="string"&&o.push(re)})});var u={},d=[],h=kr.read(e.numbers,{type:"base64"});h.FileIndex.map(function(te,re){return[te,h.FullPaths[re]]}).forEach(function(te){var re=te[0],ne=te[1];if(re.type==2&&re.name.match(/\.iwa/)){var ee=re.content,Oe=ka(ee),Be=Ta(Oe);Be.forEach(function(Ae){d.push(Ae.id),u[Ae.id]={deps:[],location:ne,type:cu(Ae.messages[0].meta[1][0].data)}})}}),d.sort(function(te,re){return te-re});var p=d.filter(function(te){return te>1}).map(function(te){return[te,yr(te)]});h.FileIndex.map(function(te,re){return[te,h.FullPaths[re]]}).forEach(function(te){var re=te[0];if(te[1],!!re.name.match(/\.iwa/)){var ne=Ta(ka(re.content));ne.forEach(function(ee){ee.messages.forEach(function(Oe){p.forEach(function(Be){ee.messages.some(function(Ae){return cu(Ae.meta[1][0].data)!=11006&&TQ(Ae.data,Be[1])})&&u[Be[0]].deps.push(ee.id)})})})}});for(var g=kr.find(h,u[1].location),y=Ta(ka(g.content)),v,k=0;k<y.length;++k){var w=y[k];w.id==1&&(v=w)}var T=wo(gn(v.messages[0].data)[1][0].data);for(g=kr.find(h,u[T].location),y=Ta(ka(g.content)),k=0;k<y.length;++k)w=y[k],w.id==T&&(v=w);for(T=wo(gn(v.messages[0].data)[2][0].data),g=kr.find(h,u[T].location),y=Ta(ka(g.content)),k=0;k<y.length;++k)w=y[k],w.id==T&&(v=w);for(T=wo(gn(v.messages[0].data)[2][0].data),g=kr.find(h,u[T].location),y=Ta(ka(g.content)),k=0;k<y.length;++k)w=y[k],w.id==T&&(v=w);var D=gn(v.messages[0].data);{D[6][0].data=yr(n.e.r+1),D[7][0].data=yr(n.e.c+1);var I=wo(D[46][0].data),U=kr.find(h,u[I].location),O=Ta(ka(U.content));{for(var X=0;X<O.length&&O[X].id!=I;++X);if(O[X].id!=I)throw"Bad ColumnRowUIDMapArchive";var B=gn(O[X].messages[0].data);B[1]=[],B[2]=[],B[3]=[];for(var A=0;A<=n.e.c;++A){var S=[];S[1]=S[2]=[{type:0,data:yr(A+420690)}],B[1].push({type:2,data:Pn(S)}),B[2].push({type:0,data:yr(A)}),B[3].push({type:0,data:yr(A)})}B[4]=[],B[5]=[],B[6]=[];for(var C=0;C<=n.e.r;++C)S=[],S[1]=S[2]=[{type:0,data:yr(C+726270)}],B[4].push({type:2,data:Pn(S)}),B[5].push({type:0,data:yr(C)}),B[6].push({type:0,data:yr(C)});O[X].messages[0].data=Pn(B)}U.content=Uc(Bc(O)),U.size=U.content.length,delete D[46];var R=gn(D[4][0].data);{R[7][0].data=yr(n.e.r+1);var F=gn(R[1][0].data),W=wo(F[2][0].data);U=kr.find(h,u[W].location),O=Ta(ka(U.content));{if(O[0].id!=W)throw"Bad HeaderStorageBucket";var M=gn(O[0].messages[0].data);for(C=0;C<a.length;++C){var Se=gn(M[2][0].data);Se[1][0].data=yr(C),Se[4][0].data=yr(a[C].length),M[2][C]={type:M[2][0].type,data:Pn(Se)}}O[0].messages[0].data=Pn(M)}U.content=Uc(Bc(O)),U.size=U.content.length;var Ie=wo(R[2][0].data);U=kr.find(h,u[Ie].location),O=Ta(ka(U.content));{if(O[0].id!=Ie)throw"Bad HeaderStorageBucket";for(M=gn(O[0].messages[0].data),A=0;A<=n.e.c;++A)Se=gn(M[2][0].data),Se[1][0].data=yr(A),Se[4][0].data=yr(n.e.r+1),M[2][A]={type:M[2][0].type,data:Pn(Se)};O[0].messages[0].data=Pn(M)}U.content=Uc(Bc(O)),U.size=U.content.length;var $e=wo(R[4][0].data);(function(){for(var te=kr.find(h,u[$e].location),re=Ta(ka(te.content)),ne,ee=0;ee<re.length;++ee){var Oe=re[ee];Oe.id==$e&&(ne=Oe)}var Be=gn(ne.messages[0].data);{Be[3]=[];var Ae=[];o.forEach(function(yt,Wt){Ae[1]=[{type:0,data:yr(Wt)}],Ae[2]=[{type:0,data:yr(1)}],Ae[3]=[{type:2,data:EQ(yt)}],Be[3].push({type:2,data:Pn(Ae)})})}ne.messages[0].data=Pn(Be);var Fe=Bc(re),it=Uc(Fe);te.content=it,te.size=te.content.length})();var Le=gn(R[3][0].data);{var _e=Le[1][0];delete Le[2];var ie=gn(_e.data);{var de=wo(ie[2][0].data);(function(){for(var te=kr.find(h,u[de].location),re=Ta(ka(te.content)),ne,ee=0;ee<re.length;++ee){var Oe=re[ee];Oe.id==de&&(ne=Oe)}var Be=gn(ne.messages[0].data);{delete Be[6],delete Le[7];var Ae=new Uint8Array(Be[5][0].data);Be[5]=[];for(var Fe=0,it=0;it<=n.e.r;++it){var yt=gn(Ae);Fe+=SQ(yt,a[it],o),yt[1][0].data=yr(it),Be[5].push({data:Pn(yt),type:2})}Be[1]=[{type:0,data:yr(n.e.c+1)}],Be[2]=[{type:0,data:yr(n.e.r+1)}],Be[3]=[{type:0,data:yr(Fe)}],Be[4]=[{type:0,data:yr(n.e.r+1)}]}ne.messages[0].data=Pn(Be);var Wt=Bc(re),De=Uc(Wt);te.content=De,te.size=te.content.length})()}_e.data=Pn(ie)}R[3][0].data=Pn(Le)}D[4][0].data=Pn(R)}v.messages[0].data=Pn(D);var se=Bc(y),V=Uc(se);return g.content=V,g.size=g.content.length,h}function CQ(t){return function(r){for(var n=0;n!=t.length;++n){var s=t[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Ab(t){CQ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function jQ(t,e){return e.bookType=="ods"?FA(t,e):e.bookType=="numbers"?AQ(t,e):e.bookType=="xlsb"?IQ(t,e):PQ(t,e)}function IQ(t,e){tu=1024,t&&!t.SSF&&(t.SSF=Cs(Qr)),t&&t.SSF&&(Om(),Dm(t.SSF),e.revssf=Fm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Qd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=yA.indexOf(e.bookType)>-1,s=G6();Ab(e=e||{});var a=hb(),o="",u=0;if(e.cellXfs=[],el(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Ut(a,o,Q6(t.Props,e)),s.coreprops.push(o),vr(e.rels,2,o,lr.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,Ut(a,o,Z6(t.Props)),s.extprops.push(o),vr(e.rels,3,o,lr.EXT_PROPS),t.Custprops!==t.Props&&Hn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Ut(a,o,eA(t.Custprops)),s.custprops.push(o),vr(e.rels,4,o,lr.CUST_PROPS)),u=1;u<=t.SheetNames.length;++u){var p={"!id":{}},g=t.Sheets[t.SheetNames[u-1]],y=(g||{})["!type"]||"sheet";switch(y){case"chart":default:o="xl/worksheets/sheet"+u+"."+r,Ut(a,o,DY(u-1,o,e,t,p)),s.sheets.push(o),vr(e.wbrels,-1,"worksheets/sheet"+u+"."+r,lr.WS[0])}if(g){var v=g["!comments"],k=!1,w="";v&&v.length>0&&(w="xl/comments"+u+"."+r,Ut(a,w,LY(v,w)),s.comments.push(w),vr(p,-1,"../comments"+u+"."+r,lr.CMNT),k=!0),g["!legacy"]&&k&&Ut(a,"xl/drawings/vmlDrawing"+u+".vml",gA(u,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&Ut(a,X6(o),ou(p))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Ut(a,o,FY(e.Strings,o,e)),s.strs.push(o),vr(e.wbrels,-1,"sharedStrings."+r,lr.SST)),o="xl/workbook."+r,Ut(a,o,RY(t,o)),s.workbooks.push(o),vr(e.rels,1,o,lr.WB),o="xl/theme/theme1.xml",Ut(a,o,pA(t.Themes,e)),s.themes.push(o),vr(e.wbrels,-1,"theme/theme1.xml",lr.THEME),o="xl/styles."+r,Ut(a,o,OY(t,o,e)),s.styles.push(o),vr(e.wbrels,-1,"styles."+r,lr.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Ut(a,o,t.vbaraw),s.vba.push(o),vr(e.wbrels,-1,"vbaProject.bin",lr.VBA)),o="xl/metadata."+r,Ut(a,o,MY(o)),s.metadata.push(o),vr(e.wbrels,-1,"metadata."+r,lr.XLMETA),Ut(a,"[Content_Types].xml",K6(s,e)),Ut(a,"_rels/.rels",ou(e.rels)),Ut(a,"xl/_rels/workbook."+r+".rels",ou(e.wbrels)),delete e.revssf,delete e.ssf,a}function PQ(t,e){tu=1024,t&&!t.SSF&&(t.SSF=Cs(Qr)),t&&t.SSF&&(Om(),Dm(t.SSF),e.revssf=Fm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Qd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=yA.indexOf(e.bookType)>-1,s=G6();Ab(e=e||{});var a=hb(),o="",u=0;if(e.cellXfs=[],el(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Ut(a,o,Q6(t.Props,e)),s.coreprops.push(o),vr(e.rels,2,o,lr.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,Ut(a,o,Z6(t.Props)),s.extprops.push(o),vr(e.rels,3,o,lr.EXT_PROPS),t.Custprops!==t.Props&&Hn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Ut(a,o,eA(t.Custprops)),s.custprops.push(o),vr(e.rels,4,o,lr.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,u=1;u<=t.SheetNames.length;++u){var g={"!id":{}},y=t.Sheets[t.SheetNames[u-1]],v=(y||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+u+"."+r,Ut(a,o,SA(u-1,e,t,g)),s.sheets.push(o),vr(e.wbrels,-1,"worksheets/sheet"+u+"."+r,lr.WS[0])}if(y){var k=y["!comments"],w=!1,T="";if(k&&k.length>0){var D=!1;k.forEach(function(I){I[1].forEach(function(U){U.T==!0&&(D=!0)})}),D&&(T="xl/threadedComments/threadedComment"+u+"."+r,Ut(a,T,cG(k,p,e)),s.threadedcomments.push(T),vr(g,-1,"../threadedComments/threadedComment"+u+"."+r,lr.TCMNT)),T="xl/comments"+u+"."+r,Ut(a,T,xA(k)),s.comments.push(T),vr(g,-1,"../comments"+u+"."+r,lr.CMNT),w=!0}y["!legacy"]&&w&&Ut(a,"xl/drawings/vmlDrawing"+u+".vml",gA(u,y["!comments"])),delete y["!comments"],delete y["!legacy"]}g["!id"].rId1&&Ut(a,X6(o),ou(g))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Ut(a,o,lA(e.Strings,e)),s.strs.push(o),vr(e.wbrels,-1,"sharedStrings."+r,lr.SST)),o="xl/workbook."+r,Ut(a,o,jA(t)),s.workbooks.push(o),vr(e.rels,1,o,lr.WB),o="xl/theme/theme1.xml",Ut(a,o,pA(t.Themes,e)),s.themes.push(o),vr(e.wbrels,-1,"theme/theme1.xml",lr.THEME),o="xl/styles."+r,Ut(a,o,hA(t,e)),s.styles.push(o),vr(e.wbrels,-1,"styles."+r,lr.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Ut(a,o,t.vbaraw),s.vba.push(o),vr(e.wbrels,-1,"vbaProject.bin",lr.VBA)),o="xl/metadata."+r,Ut(a,o,mA()),s.metadata.push(o),vr(e.wbrels,-1,"metadata."+r,lr.XLMETA),p.length>1&&(o="xl/persons/person.xml",Ut(a,o,uG(p)),s.people.push(o),vr(e.wbrels,-1,"persons/person.xml",lr.PEOPLE)),Ut(a,"[Content_Types].xml",K6(s,e)),Ut(a,"_rels/.rels",ou(e.rels)),Ut(a,"xl/_rels/workbook."+r+".rels",ou(e.wbrels)),delete e.revssf,delete e.ssf,a}function RQ(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Wi(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function LA(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Q0(e.file,kr.write(t,{type:dr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return kr.write(t,e)}function DQ(t,e){var r=Cs(e||{}),n=jQ(t,r);return OQ(n,r)}function OQ(t,e){var r={},n=dr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?kr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(Rm(s))}return e.password&&typeof encrypt_agile<"u"?LA(encrypt_agile(s,e.password),e):e.type==="file"?Q0(e.file,s):e.type=="string"?Gd(s):s}function FQ(t,e){var r=e||{},n=JY(t,r);return LA(n,r)}function Ya(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return b0(_0(n));case"binary":return _0(n);case"string":return t;case"file":return Q0(e.file,n,"utf8");case"buffer":return dr?Xi(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ya(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function LQ(t,e){switch(e.type){case"base64":return b0(t);case"binary":return t;case"string":return t;case"file":return Q0(e.file,t,"binary");case"buffer":return dr?Xi(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Rf(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?b0(r):e.type=="string"?Gd(r):r;case"file":return Q0(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function MA(t,e){dH(),_Y(t);var r=Cs(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=MA(t,r);return r.type="array",Rm(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=t.SheetNames.indexOf(r.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ya(YY(t,r),r);case"slk":case"sylk":return Ya(vq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"htm":case"html":return Ya(RA(t.Sheets[t.SheetNames[s]],r),r);case"txt":return LQ($A(t.Sheets[t.SheetNames[s]],r),r);case"csv":return Ya(Cb(t.Sheets[t.SheetNames[s]],r),r,"\uFEFF");case"dif":return Ya(bq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"dbf":return Rf(yq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"prn":return Ya(wq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"rtf":return Ya(Aq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"eth":return Ya(oA.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"fods":return Ya(FA(t,r),r);case"wk1":return Rf($T.sheet_to_wk1(t.Sheets[t.SheetNames[s]],r),r);case"wk3":return Rf($T.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Rf(PA(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),FQ(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return DQ(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function MQ(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Bm(t,e,r){var n={};return n.type="file",n.file=e,MQ(n),MA(t,n)}function $Q(t,e,r,n,s,a,o,u){var d=Un(r),h=u.defval,p=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),g=!0,y=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!o||t[r])for(var v=e.s.c;v<=e.e.c;++v){var k=o?t[r][v]:t[n[v]+d];if(k===void 0||k.t===void 0){if(h===void 0)continue;a[v]!=null&&(y[a[v]]=h);continue}var w=k.v;switch(k.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+k.t)}if(a[v]!=null){if(w==null)if(k.t=="e"&&w===null)y[a[v]]=null;else if(h!==void 0)y[a[v]]=h;else if(p&&w===null)y[a[v]]=null;else continue;else y[a[v]]=p&&(k.t!=="n"||k.t==="n"&&u.rawNumbers!==!1)?w:qi(k,w,u);w!=null&&(g=!1)}}return{row:y,isempty:g}}function Kp(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,a=[],o=0,u="",d={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},p=h.range!=null?h.range:t["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof p){case"string":d=Or(p);break;case"number":d=Or(t["!ref"]),d.s.r=p;break;default:d=p}n>0&&(s=0);var g=Un(d.s.r),y=[],v=[],k=0,w=0,T=Array.isArray(t),D=d.s.r,I=0,U={};T&&!t[D]&&(t[D]=[]);var O=h.skipHidden&&t["!cols"]||[],X=h.skipHidden&&t["!rows"]||[];for(I=d.s.c;I<=d.e.c;++I)if(!(O[I]||{}).hidden)switch(y[I]=es(I),r=T?t[D][I]:t[y[I]+g],n){case 1:a[I]=I-d.s.c;break;case 2:a[I]=y[I];break;case 3:a[I]=h.header[I-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=o=qi(r,null,h),w=U[o]||0,!w)U[o]=1;else{do u=o+"_"+w++;while(U[u]);U[o]=w,U[u]=1}a[I]=u}for(D=d.s.r+s;D<=d.e.r;++D)if(!(X[D]||{}).hidden){var B=$Q(t,d,D,y,n,a,T,h);(B.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(v[k++]=B.row)}return v.length=k,v}var GT=/"/g;function VQ(t,e,r,n,s,a,o,u){for(var d=!0,h=[],p="",g=Un(r),y=e.s.c;y<=e.e.c;++y)if(n[y]){var v=u.dense?(t[r]||[])[y]:t[n[y]+g];if(v==null)p="";else if(v.v!=null){d=!1,p=""+(u.rawNumbers&&v.t=="n"?v.v:qi(v,null,u));for(var k=0,w=0;k!==p.length;++k)if((w=p.charCodeAt(k))===s||w===a||w===34||u.forceQuotes){p='"'+p.replace(GT,'""')+'"';break}p=="ID"&&(p='"ID"')}else v.f!=null&&!v.F?(d=!1,p="="+v.f,p.indexOf(",")>=0&&(p='"'+p.replace(GT,'""')+'"')):p="";h.push(p)}return u.blankrows===!1&&d?null:h.join(o)}function Cb(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var s=Or(t["!ref"]),a=n.FS!==void 0?n.FS:",",o=a.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,d=u.charCodeAt(0),h=new RegExp((a=="|"?"\\|":a)+"+$"),p="",g=[];n.dense=Array.isArray(t);for(var y=n.skipHidden&&t["!cols"]||[],v=n.skipHidden&&t["!rows"]||[],k=s.s.c;k<=s.e.c;++k)(y[k]||{}).hidden||(g[k]=es(k));for(var w=0,T=s.s.r;T<=s.e.r;++T)(v[T]||{}).hidden||(p=VQ(t,s,T,g,o,d,a,n),p!=null&&(n.strip&&(p=p.replace(h,"")),(p||n.blankrows!==!1)&&r.push((w++?u:"")+p)));return delete n.dense,r.join("")}function $A(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Cb(t,e);return r}function BQ(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var s=Or(t["!ref"]),a="",o=[],u,d=[],h=Array.isArray(t);for(u=s.s.c;u<=s.e.c;++u)o[u]=es(u);for(var p=s.s.r;p<=s.e.r;++p)for(a=Un(p),u=s.s.c;u<=s.e.c;++u)if(e=o[u]+a,r=h?(t[p]||[])[u]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=e+"="+n}return d}function VA(t,e,r){var n=r||{},s=+!n.skipHeader,a=t||{},o=0,u=0;if(a&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?Nn(n.origin):n.origin;o=d.r,u=d.c}var h,p={s:{c:0,r:0},e:{c:u,r:o+e.length-1+s}};if(a["!ref"]){var g=Or(a["!ref"]);p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),o==-1&&(o=g.e.r+1,p.e.r=o+e.length-1+s)}else o==-1&&(o=0,p.e.r=e.length-1+s);var y=n.header||[],v=0;e.forEach(function(w,T){Hn(w).forEach(function(D){(v=y.indexOf(D))==-1&&(y[v=y.length]=D);var I=w[D],U="z",O="",X=Er({c:u+v,r:o+T+s});h=k0(a,X),I&&typeof I=="object"&&!(I instanceof Date)?a[X]=I:(typeof I=="number"?U="n":typeof I=="boolean"?U="b":typeof I=="string"?U="s":I instanceof Date?(U="d",n.cellDates||(U="n",I=As(I)),O=n.dateNF||Qr[14]):I===null&&n.nullError&&(U="e",I=0),h?(h.t=U,h.v=I,delete h.w,delete h.R,O&&(h.z=O)):a[X]=h={t:U,v:I},O&&(h.z=O))})}),p.e.c=Math.max(p.e.c,u+y.length-1);var k=Un(o);if(s)for(v=0;v<y.length;++v)a[es(v+u)+k]={t:"s",v:y[v]};return a["!ref"]=cn(p),a}function UQ(t,e){return VA(null,t,e)}function k0(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Nn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?k0(t,Er(e)):k0(t,Er({r:e,c:r||0}))}function zQ(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function HQ(){return{SheetNames:[],Sheets:{}}}function WQ(t,e,r,n){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var o=a&&a[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=o+s)!=-1;++s);}if(CA(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function qQ(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=zQ(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function GQ(t,e){return t.z=e,t}function BA(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function KQ(t,e,r){return BA(t,"#"+e,r)}function XQ(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function YQ(t,e,r,n){for(var s=typeof e!="string"?e:Or(e),a=typeof e=="string"?e:cn(e),o=s.s.r;o<=s.e.r;++o)for(var u=s.s.c;u<=s.e.c;++u){var d=k0(t,o,u);d.t="n",d.F=a,delete d.v,o==s.s.r&&u==s.s.c&&(d.f=r,n&&(d.D=!0))}return t}var ca={encode_col:es,encode_row:Un,encode_cell:Er,encode_range:cn,decode_col:yb,decode_row:xb,split_cell:dW,decode_cell:Nn,decode_range:Gs,format_cell:qi,sheet_add_aoa:B6,sheet_add_json:VA,sheet_add_dom:DA,aoa_to_sheet:Vu,json_to_sheet:UQ,table_to_sheet:OA,table_to_book:bQ,sheet_to_csv:Cb,sheet_to_txt:$A,sheet_to_json:Kp,sheet_to_html:RA,sheet_to_formulae:BQ,sheet_to_row_object_array:Kp,sheet_get_cell:k0,book_new:HQ,book_append_sheet:WQ,book_set_sheet_visibility:qQ,cell_set_number_format:GQ,cell_set_hyperlink:BA,cell_set_internal_link:KQ,cell_add_comment:XQ,sheet_set_array_formula:YQ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const UA=({orders:t,setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:s,formatDate:a,handleRenewal:o,actionLoading:u,balance:d,theme:h="dark"})=>{const[p,g]=_.useState(!1),[y,v]=_.useState(null),[k,w]=_.useState(""),[T,D]=_.useState(!1),[I,U]=_.useState({key:null,direction:"asc"}),O=h==="dark",X={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},B={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:O?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},A={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.25,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.15}}},S={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},C=_.useMemo(()=>{let ie=[...t].filter(de=>(de.productName||"").toLowerCase().includes(n.toLowerCase())||(de.orderId||"").toLowerCase().includes(n.toLowerCase()));return I.key&&ie.sort((de,se)=>{let V=de[I.key]||"",te=se[I.key]||"";return typeof V=="string"&&(V=V.toLowerCase()),typeof te=="string"&&(te=te.toLowerCase()),V<te?I.direction==="asc"?-1:1:V>te?I.direction==="asc"?1:-1:0}),ie},[t,n,I]),R=ie=>{const de={netflix:{bg:O?"bg-red-900/30":"bg-red-100",text:O?"text-red-300":"text-red-800"},disney:{bg:O?"bg-blue-900/30":"bg-blue-100",text:O?"text-blue-300":"text-blue-800"},max:{bg:O?"bg-yellow-900/30":"bg-yellow-100",text:O?"text-yellow-300":"text-yellow-800"},spotify:{bg:O?"bg-green-900/30":"bg-green-100",text:O?"text-green-300":"text-green-800"},default:{bg:O?"bg-gray-900/30":"bg-gray-100",text:O?"text-gray-300":"text-gray-700"}};return de[ie?.toLowerCase()]||de.default},F=ie=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[ie?.toLowerCase()]||ie||"N/A",W=(ie,de)=>{const se=ie.status||"pending",V=new Date(ie.endDate)>new Date;let te,re,ne;return se==="soporte"?(te="En soporte",re=de?"text-blue-400":"text-blue-600",ne=i.jsx(Di,{className:re,title:"En Soporte"})):se==="rechazado"?(te="No aplica soporte",re=de?"text-amber-700":"text-amber-900",ne=i.jsx(la,{className:re,title:"No aplica soporte"})):se==="pending"?(te="Pendiente a activacion",re=de?"text-yellow-400":"text-yellow-600",ne=i.jsx(ec,{className:re,title:"Pendiente a activacion"})):V?(te="Activo",re=de?"text-green-400":"text-green-600",ne=i.jsx(Eu,{className:re,title:"Activo"})):(te="Expirado",re=de?"text-red-400":"text-red-600",ne=i.jsx(la,{className:re,title:"Expirado"})),{text:te,color:re,icon:ne}},M=ie=>{U(de=>({key:ie,direction:de.key===ie&&de.direction==="asc"?"desc":"asc"}))},Se=ie=>I.key!==ie?null:I.direction==="asc"?i.jsx(Im,{className:"ml-1"}):i.jsx(jm,{className:"ml-1"}),Ie=()=>{const ie=C.map(te=>{const re=parseFloat(te.price)||0,ne=parseFloat(te.renewalPrice)||re,ee=te.status||"pending",Oe=ee==="pending",Be=ee==="soporte",Ae=ee==="rechazado",Fe=new Date(te.endDate)>new Date,it=Math.max(0,te.daysRemaining||0);let yt;Be?yt="En soporte":Ae?yt="No aplica soporte":Oe?yt="Pendiente a activacion":Fe?yt="Activo":yt="Expirado";const Wt=Be||Ae||Oe;let De;return Wt?De=yt:De=`${it} día${it===1?"":"s"}`,{Estado:yt,Producto:te.productName||"Sin nombre",Categoría:F(te.category),"N° Pedido":te.orderId||"N/A",Precio:`S/ ${re.toFixed(2)}`,"Precio Renovación":ne!==re?`S/ ${ne.toFixed(2)}`:"N/A","Tiempo Restante":De,"Fecha de Inicio":a(te.startDate),"Fecha de Vencimiento":a(te.endDate),Email:te.account?.email||"N/A",Contraseña:te.account?.password||"N/A",Perfil:te.account?.profile||"N/A",PIN:te.account?.pin||"N/A",Proveedor:te.provider||"N/A",Nombre:te.client?.customerName||"N/A","Teléfono Cliente":te.client?.phone||"N/A"}}),de=ca.json_to_sheet(ie),se=ca.book_new();ca.book_append_sheet(se,de,"Pedidos");const V=new Date().toISOString().slice(0,10).replace(/-/g,"");Bm(se,`mis_pedidos_export_${V}.xlsx`)},$e=ie=>{v(ie),w(""),g(!0)},Le=()=>{g(!1),v(null),w(""),D(!1)},_e=async()=>{if(!k.trim()){alert("El mensaje es obligatorio.");return}if(!y||!y.id){alert("Error: No se encontró el ID del pedido.");return}D(!0);try{await ui(ht(je,"sales",y.id),{status:"soporte",soporteMessage:k,soporteCreatedAt:new Date},{merge:!0}),console.log(`Documento actualizado exitosamente para order ID: ${y.id}`),typeof e=="function"&&e(ie=>{const de=ie.map(V=>String(V.id)===String(y.id)?{...V,status:"soporte",soporteMessage:k,soporteCreatedAt:new Date}:V);console.log("Orders actualizados localmente:",de);const se=de.find(V=>String(V.id)===String(y.id));return console.log(`Mensaje agregado localmente para ${y.id}:`,se?.soporteMessage),de}),typeof r=="function"&&setTimeout(async()=>{await r()},500),alert(`Soporte enviado para "${y.productName}". El pedido ahora está en estado "En soporte".`)}catch(ie){console.error("Error detallado en sendSupport:",ie),alert("Hubo un error al enviar a soporte. Verifica la consola del navegador para más detalles. Asegúrate de que el ID del pedido sea correcto y que tengas permisos en Firebase.")}finally{D(!1)}Le()};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${O?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:X,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"orders-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"orders-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${O?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(oi,{className:"mr-2"})," Mis Pedidos",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${O?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:C.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos por nombre o ID...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${O?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:ie=>s(ie.target.value),"aria-label":"Buscar pedidos por nombre o ID"}),i.jsx(oi,{className:`absolute left-3 top-3.5 ${O?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(Z.button,{onClick:Ie,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${O?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos como Excel","aria-label":"Exportar pedidos a Excel",children:[i.jsx(Pm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx(Vt,{children:C.length>0?i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${O?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${O?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:"status",label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"orderId",label:"N° Pedido"},{key:"price",label:"Precio"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{key:"provider",label:"Proveedor"},{key:"customerName",label:"Nombre Cliente"},{key:"phone",label:"Teléfono Cliente"},{label:"Acciones"}].map(({key:ie,label:de})=>i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${O?"text-gray-300":"text-gray-700"} cursor-pointer hover:text-blue-400 transition-colors`,onClick:()=>ie&&M(ie),children:i.jsxs("div",{className:"flex items-center justify-between",children:[de,ie&&Se(ie)]})},ie||de))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:C.map(ie=>{const de=parseFloat(ie.price)||0,se=parseFloat(ie.renewalPrice)||de,V=ie.status||"pending",te=V==="pending",re=V==="soporte",ne=V==="rechazado",ee=new Date(ie.endDate)>new Date,Oe=Math.max(0,ie.daysRemaining||0),Be=Math.min(ie.timeElapsedPercentage||0,100),Ae=W(ie,O),Fe=R(ie.category);let it;Be<70?it=O?"bg-green-500":"bg-green-600":Be<90?it=O?"bg-orange-500":"bg-orange-600":it=O?"bg-red-500":"bg-red-600";const yt=!["En soporte","No aplica soporte","Pendiente a activacion"].includes(Ae.text),De=re||ne||te?Ae.text:`${Oe} día${Oe===1?"":"s"}`,fr=yt?it.replace("bg-","text-"):Ae.color,Mt=Ae.text,Pe=encodeURIComponent(`*Consulta sobre Pedido - ${ie.productName||"Sin nombre"}*

*N° Pedido:* ${ie.orderId||"No especificado"}
*Producto:* ${ie.productName||"Sin nombre"}
*Precio:* S/ ${de.toFixed(2)}
`+(se?`*Precio de Renovación:* S/ ${se.toFixed(2)}
`:"")+`*Estado:* ${Mt}
*Fecha de Inicio:* ${a(ie.startDate)}
*Fecha de Vencimiento:* ${a(ie.endDate)}
`+(te?`Hola 😊, he comprado un producto a pedido (${ie.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),pr=!(te||re||ne),$t=te?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:re?`*Nota:* Este pedido está "En Soporte". El proveedor lo está revisando.

`:ne?`*Nota:* Este pedido ha sido rechazado. No aplica soporte.

`:"",Gt=encodeURIComponent(`😊 Estimado/a ${ie.client?.customerName||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${ie.productName||"Sin nombre"}.
🔢 Código: ${ie.orderId||"No especificado"}
`+(pr?`📧 Correo: ${ie.account?.email||"No especificado"}
🔐 Contraseña: ${ie.account?.password||"No especificado"}
👤 Perfil: ${ie.account?.profile||"No especificado"}
📌 PIN: ${ie.account?.pin||"No especificado"}
`:"")+`🌐 URL: Sin URL
📅 Fecha de creación: ${a(ie.startDate)}
📅 Fecha de vencimiento: ${a(ie.endDate)}
🏁 Días contratados: ${ie.durationDays||30} días.

`+$t+`*Términos y Condiciones:*
${ie.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),le=ie.providerPhone?ie.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999",Ye=ie.client?.phone?ie.client.phone.replace(/^\+/,"").replace(/\D/g,""):"51999999999";return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${O?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:B,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${ie.id}-title`,children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-full ${Ae.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:Ae.icon}),i.jsx("span",{className:`${Ae.color} font-medium`,children:Ae.text})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsx("h4",{id:`order-${ie.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:ie.productName||"Sin nombre"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Fe.bg} ${Fe.text}`,children:F(ie.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:ie.orderId||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"font-bold text-lg",children:["S/ ",de.toFixed(2)]}),se!==de&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-gray-100/50 dark:bg-gray-800/50 px-2 py-1 rounded-full",children:[i.jsx(Y5,{size:12,className:"text-gray-400"}),i.jsxs("span",{children:["S/ ",se.toFixed(2)]})]})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[yt&&i.jsx("div",{className:"relative",children:i.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${O?"bg-gray-600/40":"bg-gray-300/40"}`,children:i.jsx(Z.div,{className:`h-2 rounded-full ${it}`,initial:{width:0},animate:{width:`${Be}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),i.jsx("span",{className:`text-sm font-medium ${fr}`,children:De})]})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(ie.startDate)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(ie.endDate)}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:ie.account?.email||"N/A",children:ie.account?.email||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:ie.account?.password||"N/A",children:ie.account?.password||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:ie.account?.profile||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono",children:ie.account?.pin||"N/A"}),i.jsx("td",{className:"px-4 py-4 text-sm font-medium text-teal-600",children:ie.provider||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:ie.client?.customerName||"N/A",children:ie.client?.customerName||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.client?.phone||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:["soporte","rechazado"].includes(V)?i.jsx("div",{className:"flex gap-2",children:i.jsx("span",{className:"text-gray-400 text-xs",children:"Sin acciones"})}):i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z.a,{href:`https://wa.me/51${le}?text=${Pe}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor","aria-label":`Contactar proveedor para el pedido ${ie.orderId||ie.productName}`,children:i.jsx(zr,{size:16})}),ee&&ie.renewable&&i.jsx(Z.button,{onClick:()=>o(ie),disabled:u[`renew_${ie.id}`]||d<se,className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${u[`renew_${ie.id}`]||d<se?"bg-gray-300/50 text-gray-500 cursor-not-allowed":"bg-blue-500/80 hover:bg-blue-600/90 text-white"} transition-all duration-200`,whileHover:{scale:u[`renew_${ie.id}`]||d<se?1:1.1},whileTap:{scale:u[`renew_${ie.id}`]||d<se?1:.9},title:"Renovar pedido","aria-label":`Renovar pedido ${ie.orderId||ie.productName} por S/ ${se.toFixed(2)}`,children:u[`renew_${ie.id}`]?i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):i.jsx(X5,{size:16})}),i.jsx(Z.a,{href:`https://wa.me/51${Ye}?text=${Gt}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-amber-500/80 hover:bg-amber-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente","aria-label":`Contactar cliente para el pedido ${ie.orderId||ie.productName}`,children:i.jsx(zr,{size:16})}),i.jsx(Z.button,{onClick:()=>$e(ie),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-purple-500/80 hover:bg-purple-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Soporte","aria-label":`Abrir soporte para el pedido ${ie.orderId||ie.productName}`,children:i.jsx(Di,{size:16})})]})})]},ie.id)})})]})})}):i.jsxs(Z.div,{className:"text-center py-16",variants:X,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(oi,{className:`mx-auto text-6xl ${O?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${O?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos encontrados"}),i.jsx("p",{className:`text-sm ${O?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o realiza tu primer pedido."})]})}),i.jsx(Vt,{children:p&&y&&i.jsxs(i.Fragment,{children:[i.jsx(Z.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",variants:S,initial:"hidden",animate:"visible",exit:"exit",onClick:Le}),i.jsxs(Z.div,{className:`relative w-full max-w-md p-6 rounded-3xl shadow-2xl border z-[10000] ${O?"bg-gray-800/95 border-gray-700/50 text-white":"bg-white/95 border-gray-200/50 text-gray-900"}`,variants:A,initial:"hidden",animate:"visible",exit:"exit",onClick:ie=>ie.stopPropagation(),children:[i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx(Z.button,{onClick:Le,className:`p-2 rounded-full ${O?"bg-gray-700/50 hover:bg-gray-600/50":"bg-gray-200/50 hover:bg-gray-300/50"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(la,{size:18,className:O?"text-gray-300":"text-gray-600"})})}),i.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[i.jsx(Di,{className:"text-purple-500"}),"Soporte para: ",y.productName||"Sin nombre"]}),i.jsx("textarea",{value:k,onChange:ie=>w(ie.target.value),placeholder:"Escribe tu mensaje de soporte detallado (obligatorio)...",className:`w-full p-4 rounded-2xl resize-none transition-all duration-200 ${O?"bg-gray-700/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-purple-500/50":"bg-gray-100/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-purple-500/50"} focus:ring-2 focus:ring-purple-500/30 focus:outline-none`,rows:5,required:!0,disabled:T}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx(Z.button,{onClick:Le,className:`px-6 py-2.5 rounded-xl font-medium transition-all duration-200 ${O?"bg-gray-600/70 hover:bg-gray-700/80 text-white":"bg-gray-300/70 hover:bg-gray-400/80 text-gray-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},disabled:T,children:"Cancelar"}),i.jsx(Z.button,{onClick:_e,className:`px-6 py-2.5 rounded-xl font-medium flex items-center gap-2 transition-all duration-200 ${!k.trim()||T?"bg-gray-400/70 cursor-not-allowed text-gray-500":"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white"}`,whileHover:!k.trim()||T?{}:{scale:1.05},whileTap:!k.trim()||T?{}:{scale:.95},disabled:!k.trim()||T,children:T?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}),"Enviando..."]}):"Enviar Soporte"})]})]})]})})]})};UA.propTypes={orders:G.arrayOf(G.shape({id:G.string.isRequired,productName:G.string,category:G.string,orderId:G.string,price:G.oneOfType([G.string,G.number]),renewalPrice:G.oneOfType([G.string,G.number]),status:G.string,startDate:G.oneOfType([G.string,G.instanceOf(Date)]),endDate:G.oneOfType([G.string,G.instanceOf(Date)]),daysRemaining:G.number,timeElapsedPercentage:G.number,account:G.shape({email:G.string,password:G.string,profile:G.string,pin:G.string}),client:G.shape({customerName:G.string,phone:G.string}),provider:G.string,providerPhone:G.string,renewable:G.bool,termsAndConditions:G.string,durationDays:G.number,soporteMessage:G.string,soporteCreatedAt:G.oneOfType([G.string,G.instanceOf(Date)])})).isRequired,setOrders:G.func.isRequired,fetchOrders:G.func,searchQuery:G.string.isRequired,setSearchQuery:G.func.isRequired,formatDate:G.func.isRequired,handleRenewal:G.func.isRequired,actionLoading:G.object.isRequired,balance:G.number.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const zA=({userName:t,email:e,actionLoading:r,handleUpdatePassword:n,openEditProfileModal:s,handleLogout:a,theme:o="dark"})=>{const u=o==="dark",d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},p={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}};return i.jsxs(Z.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"settings-title",children:[i.jsx(Z.h3,{id:"settings-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Configuración"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[i.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-blue-400":"text-blue-600"}`,children:[i.jsx(Ns,{size:20}),"Perfil"]}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[i.jsx(Ns,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Nombre:"}),i.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:t.username})]})]}),i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[i.jsx(ob,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Correo:"}),i.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:e})]})]}),i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[i.jsx(y0,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Teléfono:"}),i.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:t.phone||"No especificado"})]})]})]}),i.jsxs(Z.button,{onClick:()=>s({id:t.id,username:t.username,phone:t.phone}),className:`w-full px-6 py-3 rounded-xl font-semibold transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white focus:ring-blue-400":"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white focus:ring-blue-500"}`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Editar perfil",children:[i.jsx(uz,{size:18,className:"inline mr-2"}),"Editar Perfil"]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[i.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-green-400":"text-green-600"}`,children:[i.jsx(Ip,{size:20}),"Seguridad"]}),i.jsxs("form",{onSubmit:n,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nueva Contraseña"}),i.jsx("input",{type:"password",name:"password",className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-300`,placeholder:"Ingrese nueva contraseña (mínimo 6 caracteres)","aria-label":"Nueva contraseña"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nuevo Teléfono"}),i.jsx("input",{type:"tel",name:"phone",className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-300`,placeholder:"Ingrese nuevo teléfono (ej: +51 940 505 969)",defaultValue:t.phone||"","aria-label":"Nuevo teléfono"})]}),i.jsx(Z.button,{type:"submit",disabled:r.password,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${r.password?"bg-gray-300 text-gray-500 cursor-not-allowed":u?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-400":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-500"}`,variants:p,whileHover:r.password?{}:"hover",whileTap:r.password?{}:"tap","aria-label":"Guardar cambios de seguridad",children:r.password?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}),i.jsx("span",{children:"Guardando..."})]}):"Guardar Cambios"})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[i.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-red-400":"text-red-600"}`,children:[i.jsx(Pp,{size:20}),"Sesión"]}),i.jsxs(Z.button,{onClick:a,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${u?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-400":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-500"}`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar sesión",children:[i.jsx(Pp,{size:18}),"Cerrar Sesión"]})]})]})]})};zA.propTypes={userName:G.shape({id:G.string.isRequired,username:G.string.isRequired,phone:G.string}).isRequired,email:G.string.isRequired,actionLoading:G.shape({password:G.bool}).isRequired,handleUpdatePassword:G.func.isRequired,openEditProfileModal:G.func.isRequired,handleLogout:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const HA=({orders:t=[],setOrders:e=()=>{},fetchOrders:r,searchQuery:n="",setSearchQuery:s=()=>{},formatDate:a=p=>p?new Date(p).toLocaleDateString("es-PE"):"",handleRenewal:o=()=>{},actionLoading:u={},balance:d=0,theme:h="dark"})=>{const[p,g]=_.useState({key:null,direction:"asc"}),y=h==="dark",v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},k={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:y?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},w=_.useMemo(()=>{let A=[...t.filter(S=>S.status==="soporte")].filter(S=>(S.productName||"").toLowerCase().includes(n.toLowerCase())||(S.orderId||"").toLowerCase().includes(n.toLowerCase()));return p.key&&A.sort((S,C)=>{let R=S[p.key]||"",F=C[p.key]||"";return p.key==="soporteMessage"?(R=S.soporteMessage||"",F=C.soporteMessage||""):p.key==="category"&&(R=D(S.category),F=D(C.category)),typeof R=="string"&&(R=R.toLowerCase()),typeof F=="string"&&(F=F.toLowerCase()),R<F?p.direction==="asc"?-1:1:R>F?p.direction==="asc"?1:-1:0}),A},[t,n,p]),T=B=>{const A={netflix:{bg:y?"bg-red-900/30":"bg-red-100",text:y?"text-red-300":"text-red-800"},disney:{bg:y?"bg-blue-900/30":"bg-blue-100",text:y?"text-blue-300":"text-blue-800"},max:{bg:y?"bg-yellow-900/30":"bg-yellow-100",text:y?"text-yellow-300":"text-yellow-800"},spotify:{bg:y?"bg-green-900/30":"bg-green-100",text:y?"text-green-300":"text-green-800"},default:{bg:y?"bg-gray-900/30":"bg-gray-100",text:y?"text-gray-300":"text-gray-700"}};return A[B?.toLowerCase()]||A.default},D=B=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[B?.toLowerCase()]||B||"N/A",I=(B,A)=>{const S=B.status||"pending",C=new Date(B.endDate)>new Date;let R,F,W;return S==="soporte"?(R="En soporte",F=A?"text-blue-400":"text-blue-600",W=i.jsx(Di,{className:F,title:"En Soporte"})):S==="rechazado"?(R="No aplica soporte",F=A?"text-amber-700":"text-amber-900",W=i.jsx(la,{className:F,title:"No aplica soporte"})):C?(R="Activo",F=A?"text-green-400":"text-green-600",W=i.jsx(Eu,{className:F,title:"Activo"})):S==="pending"?(R="Pendiente a activacion",F=A?"text-yellow-400":"text-yellow-600",W=i.jsx(ec,{className:F,title:"Pendiente a activacion"})):(R="Expirado",F=A?"text-red-400":"text-red-600",W=i.jsx(la,{className:F,title:"Expirado"})),{text:R,color:F,icon:W}},U=B=>{g(A=>({key:B,direction:A.key===B&&A.direction==="asc"?"desc":"asc"}))},O=B=>p.key!==B?null:p.direction==="asc"?i.jsx(Im,{className:"ml-1"}):i.jsx(jm,{className:"ml-1"}),X=()=>{const B=w.map(R=>{const F=parseFloat(R.price)||0,W=parseFloat(R.renewalPrice)||F,M=R.status||"pending",Se=M==="pending",Ie=M==="soporte",$e=M==="rechazado",Le=new Date(R.endDate)>new Date,_e=Math.max(0,R.daysRemaining||0);let ie;Ie?ie="En Soporte":$e?ie="No aplica soporte":Le?ie="Activo":Se?ie="Pendiente a activacion":ie="Expirado";const de=Ie||$e||Se&&!Le;let se;return de?se=ie:se=`${_e} día${_e===1?"":"s"}`,{Estado:ie,Producto:R.productName||"Sin nombre",Categoría:D(R.category),"N° Pedido":R.orderId||"N/A",Precio:`S/ ${F.toFixed(2)}`,"Precio Renovación":W!==F?`S/ ${W.toFixed(2)}`:"N/A","Tiempo Restante":se,"Fecha de Inicio":a(R.startDate),"Fecha de Vencimiento":a(R.endDate),Email:R.account?.email||"N/A",Contraseña:R.account?.password||"N/A",Perfil:R.account?.profile||"N/A",PIN:R.account?.pin||"N/A",Proveedor:R.provider||"N/A","Mensaje de Soporte":R.soporteMessage||"Sin mensaje"}}),A=ca.json_to_sheet(B),S=ca.book_new();ca.book_append_sheet(S,A,"Pedidos");const C=new Date().toISOString().slice(0,10).replace(/-/g,"");Bm(S,`mis_pedidos_soporte_export_${C}.xlsx`)};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${y?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"support-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"support-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${y?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(Di,{className:"mr-2"})," Pedidos en Soporte",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${y?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:w.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos en soporte por nombre o ID...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${y?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:B=>s(B.target.value),"aria-label":"Buscar pedidos en soporte por nombre o ID"}),i.jsx(oi,{className:`absolute left-3 top-3.5 ${y?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(Z.button,{onClick:X,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${y?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos en soporte como Excel","aria-label":"Exportar pedidos en soporte a Excel",children:[i.jsx(Pm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx(Vt,{children:w.length>0?i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${y?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${y?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:null,label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"orderId",label:"N° Pedido"},{key:"price",label:"Precio"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{key:"provider",label:"Proveedor"},{key:"soporteMessage",label:"Mensaje de Soporte"},{label:"Acciones"}].map(({key:B,label:A})=>i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${y?"text-gray-300":"text-gray-700"} ${B?"cursor-pointer hover:text-blue-400 transition-colors":""}`,onClick:()=>B&&U(B),children:i.jsxs("div",{className:"flex items-center justify-between",children:[A,B&&O(B)]})},B||A))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:w.map(B=>{const A=parseFloat(B.price)||0,S=parseFloat(B.renewalPrice)||A,C=B.status||"pending",R=C==="pending",F=C==="soporte",W=C==="rechazado",M=new Date(B.endDate)>new Date,Se=Math.max(0,B.daysRemaining||0),Ie=Math.min(B.timeElapsedPercentage||0,100),$e=I(B,y),Le=T(B.category);let _e;Ie<70?_e=y?"bg-green-500":"bg-green-600":Ie<90?_e=y?"bg-orange-500":"bg-orange-600":_e=y?"bg-red-500":"bg-red-600";const ie=!["En soporte","No aplica soporte","Pendiente a activacion"].includes($e.text),se=F||W||R&&!M?$e.text:`${Se} día${Se===1?"":"s"}`,V=ie?_e.replace("bg-","text-"):$e.color,te=encodeURIComponent(`*Consulta de Soporte - Pedido ${B.orderId||"N/A"}*

*Producto:* ${B.productName||"Sin nombre"}
*Cliente:* ${B.client?.customerName||"N/A"}
*Mensaje del Cliente:* ${B.soporteMessage||"Sin mensaje"}

Por favor, proporciona una solución o actualización para este soporte. ¡Gracias!`),re=B.providerPhone?B.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${y?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:k,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${B.id}-title`,children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-full ${$e.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:$e.icon}),i.jsx("span",{className:`${$e.color} font-medium`,children:$e.text})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsx("h4",{id:`order-${B.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:B.productName||"Sin nombre"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Le.bg} ${Le.text}`,children:D(B.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:B.orderId||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"font-bold text-lg",children:["S/ ",A.toFixed(2)]}),S!==A&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-gray-100/50 dark:bg-gray-800/50 px-2 py-1 rounded-full",children:[i.jsx(Y5,{size:12,className:"text-gray-400"}),i.jsxs("span",{children:["S/ ",S.toFixed(2)]})]})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[ie&&i.jsx("div",{className:"relative",children:i.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${y?"bg-gray-600/40":"bg-gray-300/40"}`,children:i.jsx(Z.div,{className:`h-2 rounded-full ${_e}`,initial:{width:0},animate:{width:`${Ie}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),i.jsx("span",{className:`text-sm font-medium ${V}`,children:se})]})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(B.startDate)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(B.endDate)}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:B.account?.email||"N/A",children:B.account?.email||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:B.account?.password||"N/A",children:B.account?.password||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:B.account?.profile||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono",children:B.account?.pin||"N/A"}),i.jsx("td",{className:"px-4 py-4 text-sm font-medium text-teal-600",children:B.provider||"N/A"}),i.jsxs("td",{className:"px-4 py-4 max-w-xs",children:[i.jsx("p",{className:"text-sm break-words line-clamp-3 bg-gray-100/30 dark:bg-gray-800/30 p-2 rounded",title:B.soporteMessage||"Sin mensaje",children:B.soporteMessage||"Sin mensaje"}),B.soporteCreatedAt&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a(B.soporteCreatedAt)})]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("div",{className:"flex gap-2",children:i.jsx(Z.a,{href:`https://wa.me/51${re}?text=${te}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor por WhatsApp","aria-label":`Contactar proveedor para el pedido ${B.orderId||B.productName}`,children:i.jsx(zr,{size:16})})})})]},B.id)})})]})})}):i.jsxs(Z.div,{className:"text-center py-16",variants:v,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(Di,{className:`mx-auto text-6xl ${y?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${y?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos en soporte encontrados"}),i.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o verifica si hay pedidos en estado de soporte."})]})})]})};HA.propTypes={orders:G.arrayOf(G.shape({id:G.string.isRequired,productName:G.string,category:G.string,orderId:G.string,price:G.oneOfType([G.string,G.number]),renewalPrice:G.oneOfType([G.string,G.number]),status:G.string,startDate:G.oneOfType([G.string,G.instanceOf(Date)]),endDate:G.oneOfType([G.string,G.instanceOf(Date)]),daysRemaining:G.number,timeElapsedPercentage:G.number,account:G.shape({email:G.string,password:G.string,profile:G.string,pin:G.string}),client:G.shape({customerName:G.string}),provider:G.string,providerPhone:G.string,renewable:G.bool,termsAndConditions:G.string,durationDays:G.number,soporteMessage:G.string,soporteCreatedAt:G.oneOfType([G.string,G.instanceOf(Date)])})),setOrders:G.func,fetchOrders:G.func,searchQuery:G.string,setSearchQuery:G.func,formatDate:G.func,handleRenewal:G.func,actionLoading:G.object,balance:G.number,theme:G.oneOf(["light","dark"])};const QQ=({referralCode:t,affiliates:e,formatDate:r,theme:n="dark"})=>{const[s,a]=_.useState(!1),o=n==="dark",u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h=async()=>{try{await navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)}catch(p){console.error("Failed to copy code:",p)}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${o?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[i.jsx(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${o?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Afiliados"}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm mb-8 ${o?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${o?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ku,{size:20}),"Tu Código de Referido"]}),i.jsxs("div",{className:"relative",children:[i.jsx("p",{className:`text-3xl font-bold text-center mb-4 px-4 py-3 rounded-xl bg-gradient-to-r ${o?"from-blue-500/20 to-purple-500/20 text-blue-300 border-blue-500/30":"from-blue-100/50 to-purple-100/50 text-blue-700 border-blue-300/50"} border`,children:t||"Cargando..."}),i.jsx(Z.button,{onClick:h,className:`absolute -top-2 -right-2 p-2 rounded-full bg-blue-500 text-white shadow-lg hover:bg-blue-600 transition-all duration-300 ${o?"hover:shadow-blue-500/25":"hover:shadow-blue-500/50"}`,whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"Copiar código",disabled:!t,children:i.jsx(W5,{size:16})}),i.jsx(Vt,{children:s&&i.jsx(Z.p,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs ${o?"text-green-400":"text-green-600"}`,children:"¡Código copiado!"})})]}),i.jsx("p",{className:`text-sm text-center mt-4 ${o?"text-gray-400":"text-gray-600"}`,children:"Comparte este código con tus amigos para que se unan a través de ti."})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${o?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${o?"text-white":"text-gray-900"}`,children:[i.jsx(ku,{size:20}),"Usuarios Afiliados"]}),i.jsx(Vt,{children:e.length>0?e.map((p,g)=>i.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:g*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${o?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[i.jsx("div",{className:"flex items-start justify-between mb-2",children:i.jsx("p",{className:`font-semibold flex-1 ${o?"text-white":"text-gray-900"}`,children:p.username})}),i.jsxs("div",{className:`space-y-2 ${o?"text-gray-300":"text-gray-700"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(zr,{className:"text-blue-400 flex-shrink-0",size:16}),i.jsx("span",{className:"text-sm",children:p.email})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(y0,{className:"text-blue-400 flex-shrink-0",size:16}),i.jsx("span",{className:"text-sm",children:p.phone||"No especificado"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lz,{className:"text-blue-400 flex-shrink-0",size:16}),i.jsx("span",{className:"text-sm",children:r(p.createdAt)})]})]})]},p.id)):i.jsx(Z.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${o?"text-gray-400":"text-gray-500"}`,children:"SERVICIO QUE VA A LLEGAR MUY PRONTO"})})]})]})},JQ=Ia.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>i.jsx(Vt,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(Bn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));JQ.propTypes={show:G.bool.isRequired,onClose:G.func.isRequired,title:G.string.isRequired,message:G.string.isRequired,theme:G.string.isRequired};const WA=()=>{const[t,e]=_.useState(!1),[r,n]=_.useState(""),[s,a]=_.useState([]),[o,u]=_.useState({username:"",phone:""}),[d,h]=_.useState(""),[p,g]=_.useState(0),[y,v]=_.useState(null),[k,w]=_.useState("inicio"),[T,D]=_.useState([]),[I,U]=_.useState({}),[O,X]=_.useState([]),[B,A]=_.useState([]),[S,C]=_.useState(""),[R,F]=_.useState(!0),[W,M]=_.useState({}),[Se,Ie]=_.useState(null),[$e,Le]=_.useState({isOpen:!1,message:"",title:""}),[_e,ie]=_.useState({isOpen:!1,user:null}),[de,se]=_.useState({isOpen:!1,provider:null}),[V,te]=_.useState(""),[re,ne]=_.useState([]),[ee,Oe]=_.useState("dark"),[Be,Ae]=_.useState(!1),[Fe,it]=_.useState(!1),[yt,Wt]=_.useState(!1),De=Ma();_.useEffect(()=>{const be=()=>Wt(window.innerWidth<1024);return be(),window.addEventListener("resize",be),()=>window.removeEventListener("resize",be)},[]);const fr=_.useCallback(()=>{Oe(be=>be==="dark"?"light":"dark")},[]),Mt=_.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),Pe=_.useCallback((be,ke)=>{Le({isOpen:!0,title:be,message:ke})},[]),pr=_.useCallback(()=>{Le({isOpen:!1,message:"",title:""})},[]),$t=_.useCallback(be=>{ie({isOpen:!0,user:be})},[]),Gt=_.useCallback(()=>{ie({isOpen:!1,user:null})},[]),le=_.useCallback(be=>{se({isOpen:!0,provider:be})},[]),Ye=_.useCallback(()=>{se({isOpen:!1,provider:null})},[]),ct=_.useCallback(be=>{if(!be)return"No especificada";try{const ke=be instanceof Date?be:new Date(be);return isNaN(ke.getTime())?"Fecha inválida":ke.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},[]),ut=_.useCallback(async()=>{if(y)try{const be=tr(kt(je,"sales"),br("customerId","==",y)),ke=await rn(be),Me=new Set,Ze=[];ke.forEach(ot=>{const et=ot.data();et.providerId&&!Me.has(et.providerId)&&(Me.add(et.providerId),Ze.push({id:et.providerId,name:et.provider||"Proveedor desconocido",phone:et.providerPhone||"No especificado"}))});const vt=tr(kt(je,"ratings"),br("userId","==",y)),at=(await rn(vt)).docs.map(ot=>ot.data().providerId);Ze.forEach(ot=>{ot.hasRated=at.includes(ot.id)}),ne(Ze)}catch(be){console.error("Error fetching providers:",be),Ie("Error al cargar proveedores: "+be.message)}},[y]),At=_.useCallback(async(be,ke)=>{try{M(Ze=>({...Ze,profile:!0}));const Me=ht(je,"users",be);await Yr(Me,{username:ke,updatedAt:wr()}),u(Ze=>({...Ze,username:ke})),Pe("Éxito","Perfil actualizado exitosamente"),Gt()}catch(Me){console.error("Error al actualizar perfil:",Me),Pe("Error",Me.message||"Error al actualizar el perfil")}finally{M(Me=>({...Me,profile:!1}))}},[Pe,Gt]),wt=_.useCallback(async(be,ke)=>{try{M(Me=>({...Me,[`rate_${be}`]:!0})),await Do(kt(je,"ratings"),{userId:y,providerId:be,rating:ke,ratedAt:wr()}),ne(Me=>Me.map(Ze=>Ze.id===be?{...Ze,hasRated:!0}:Ze)),Pe("Éxito","Calificación enviada exitosamente"),Ye()}catch(Me){console.error("Error al calificar proveedor:",Me),Pe("Error",Me.message||"Error al enviar la calificación")}finally{M(Me=>({...Me,[`rate_${be}`]:!1}))}},[y,Pe,Ye]),st=_.useCallback(async be=>{try{M(Ze=>({...Ze,[`delete_${be.id}`]:!0}));const ke=tr(kt(je,"ratings"),br("userId","==",y),br("providerId","==",be.id)),Me=await rn(ke);if(Me.empty){Pe("Error","No se encontró la calificación para eliminar");return}await Ci(Me.docs[0].ref),ne(Ze=>Ze.map(vt=>vt.id===be.id?{...vt,hasRated:!1}:vt)),le(be),Pe("Éxito","Calificación anterior eliminada. Ahora puedes volver a calificar.")}catch(ke){console.error("Error al eliminar calificación:",ke),Pe("Error",ke.message||"Error al eliminar la calificación")}finally{M(ke=>({...ke,[`delete_${be.id}`]:!1}))}},[y,Pe,le]),gt=_.useCallback(async be=>{try{M(Bt=>({...Bt,[`renew_${be.id}`]:!0}));const ke=parseFloat(be.renewalPrice)||parseFloat(be.price)||0;if(p<ke){Pe("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const Me=parseInt(be.durationDays)||30,Ze=Nr.now(),vt=Ze.toDate(),Nt=vt,at=new Date(Nt.getTime()+Me*24*60*60*1e3),ot=Nr.fromDate(at),et=ht(je,"sales",be.id);await Yr(et,{startDate:Ze,endDate:ot,renewedAt:Ze,status:"completed",updatedAt:wr()});const Tt=ht(je,"users",y);await Yr(Tt,{balance:p-ke}),g(Bt=>Bt-ke),D(Bt=>Bt.map(Kt=>Kt.id===be.id?{...Kt,startDate:Nt,endDate:at,renewedAt:vt,status:"completed",daysRemaining:Me,totalDays:Me,timeElapsedPercentage:0}:Kt)),Pe("Éxito",`¡Pedido renovado exitosamente! Nueva fecha de vencimiento: ${ct(at)}`)}catch(ke){console.error("Error al renovar el pedido:",ke),Pe("Error","Error al renovar el pedido: "+ke.message)}finally{M(ke=>({...ke,[`renew_${be.id}`]:!1}))}},[p,y,Pe,ct]);_.useEffect(()=>{(async()=>{try{const ke=tr(kt(je,"products")),Me=await rn(ke),Ze={};Me.forEach(vt=>{Ze[vt.id]=vt.data()}),U(Ze)}catch(ke){console.error("Error fetching products:",ke),Ie("Error al cargar productos: "+ke.message)}})()},[]),_.useEffect(()=>{const be=hr(ht(je,"notifications","adminMessage"),ke=>{if(ke.exists()){const Me=ke.data();Me.roles&&Me.roles.includes("user")?X([{id:ke.id,...Me,timestamp:Me.updatedAt?.toDate()}]):X([])}else X([])},ke=>{console.error("Error in notifications listener:",ke),Ie("Error al cargar notificaciones: "+ke.message)});return()=>be()},[]),_.useEffect(()=>{if(!y){console.log("No userId disponible para fetch affiliates");return}console.log("Iniciando fetch de affiliates para userId:",y);const be=tr(kt(je,"users"),br("referredBy","==",y)),ke=hr(be,Me=>{console.log(`Affiliates snapshot recibido. Docs length: ${Me.docs.length}`);const Ze=Me.docs.map(vt=>{const Nt=vt.data();return console.log(`Affiliate doc: ID=${vt.id}, referredBy=${Nt.referredBy}, username=${Nt.username}`),{id:vt.id,username:Nt.username||"Desconocido",email:Nt.email||"No especificado",phone:Nt.phone||"No especificado",createdAt:Nt.createdAt?.toDate?.()||new Date}});console.log("Affiliates procesados:",Ze),A(Ze)},Me=>{console.error("Error fetching affiliates:",Me),Ie("Error al cargar afiliados: "+Me.message)});return()=>{console.log("Desuscribiendo affiliates listener"),ke()}},[y]),_.useEffect(()=>{ut()},[ut]);const ir=_.useCallback(async()=>{try{await z0(tn),De("/")}catch(be){console.error("Error al cerrar sesión:",be),Pe("Error",be.message||"Error al cerrar sesión")}},[De,Pe]);_.useEffect(()=>{const be=Kl(tn,ke=>{ke?(console.log("Auth user loaded:",ke.uid),v(ke.uid),h(ke.email||"No especificado"),C(""),F(!1)):De("/login")});return()=>be()},[De]),_.useEffect(()=>{if(!y)return;console.log("Iniciando fetch de user data para:",y);const be=ht(je,"users",y),ke=hr(be,Me=>{if(Me.exists()){const Ze=Me.data();console.log("User data loaded:",{username:Ze.username,referralCode:Ze.referralCode}),u({username:Ze.username||"Usuario",phone:Ze.phone||""}),h(Ze.email||"No especificado"),g(Number(Ze.balance)||0),C(Ze.referralCode||y.slice(-6).toUpperCase())}else console.error("User doc no existe para:",y),Ie("Usuario no encontrado")},Me=>{console.error("Error in user data listener:",Me),Ie("Error al cargar datos del usuario: "+Me.message)});return()=>ke()},[y]),_.useEffect(()=>{if(!y)return;const be=tr(kt(je,"sales"),br("customerId","==",y)),ke=hr(be,async Ze=>{if(Ze.empty){D([]),F(!1);return}const vt=new Date,Nt=7200*60*1e3;for(const ot of Ze.docs){const Tt=ot.data().endDate?.toDate?.()||new Date;if(Tt<vt&&vt.getTime()-Tt.getTime()>Nt)try{await Ci(ht(je,"sales",ot.id)),console.log(`Deleted expired order: ${ot.id}`)}catch(Bt){console.error(`Error deleting order ${ot.id}:`,Bt)}}const at=Ze.docs.map(ot=>{const et=ot.data(),Bt=et.saleDate?.toDate?.()||et.createdAt?.toDate?.()||new Date;let Kt=et.startDate?.toDate?.(),Ir=Kt||Bt,$r=!1;Kt||($r=!0);const dn=et.durationDays||30;let cr;et.endDate?cr=et.endDate.toDate?et.endDate.toDate():new Date(et.endDate):(cr=new Date(Ir.getTime()+dn*24*60*60*1e3),$r=!0),$r&&Yr(ht(je,"sales",ot.id),{startDate:Kt||Nr.fromDate(Bt),endDate:Nr.fromDate(cr),durationDays:dn}).catch(z=>{console.error("Error al actualizar startDate/endDate en Firestore:",z)});const Wn=cr.getTime()-Ir.getTime(),ur=vt.getTime()-Ir.getTime(),hn=cr.getTime()-vt.getTime(),Tr=Math.ceil(Wn/(1e3*60*60*24)),yn=Math.max(0,Math.ceil(hn/(1e3*60*60*24))),ve=Math.ceil(ur/(1e3*60*60*24)),Ne=Tr>0?ve/Tr*100:100,P=I[et.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:ot.id,productName:et.productName||"Producto sin nombre",category:et.type||"netflix",price:parseFloat(et.price)||0,renewalPrice:parseFloat(et.renewalPrice)||0,provider:et.provider||"No especificado",providerId:et.providerId||"",providerPhone:et.providerPhone||et.providerWhatsapp||"51999999999",status:et.status||"completed",saleDate:Bt,startDate:Ir,endDate:cr,durationDays:dn,daysRemaining:yn,totalDays:Tr,timeElapsedPercentage:Ne,account:{email:et.accountDetails?.email||"No especificado",password:et.accountDetails?.password||"No especificado",profile:et.accountDetails?.profile||"No especificado",pin:et.accountDetails?.pin||"No especificado"},client:{customerName:et.customerName||"Cliente desconocido",email:et.customerEmail||"No especificado",phone:et.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BLK-${ot.id.slice(0,8).toUpperCase()}`,termsAndConditions:P,renewable:et.renewable!==void 0?et.renewable:!0}}).filter(ot=>{const et=new Date(ot.endDate);return!(et<vt&&vt.getTime()-et.getTime()>Nt)});D(at),F(!1)},Ze=>{console.error("Error al obtener pedidos:",Ze),Ie("Error al cargar pedidos: "+Ze.message),F(!1)}),Me=setInterval(()=>{const Ze=new Date,vt=7200*60*1e3;D(Nt=>Nt.map(at=>{const ot=new Date(at.endDate).getTime()-new Date(at.startDate).getTime(),et=Ze.getTime()-new Date(at.startDate).getTime(),Tt=new Date(at.endDate).getTime()-Ze.getTime(),Bt=Math.ceil(ot/(1e3*60*60*24)),Kt=Math.max(0,Math.ceil(Tt/(1e3*60*60*24))),Ir=Math.ceil(et/(1e3*60*60*24)),$r=Bt>0?Ir/Bt*100:100;return{...at,daysRemaining:Kt,totalDays:Bt,timeElapsedPercentage:$r}}).filter(at=>{const ot=new Date(at.endDate);return!(ot<Ze&&Ze.getTime()-ot.getTime()>vt)}))},6e4);return()=>{ke(),clearInterval(Me)}},[y,I]),_.useEffect(()=>{if(!y)return;const be=tr(kt(je,"pendingTopUps"),br("userId","==",y)),ke=hr(be,Me=>{const Ze=Me.docs.map(vt=>({id:vt.id,...vt.data(),date:vt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(vt.data().amount)||0}));a(Ze)},Me=>{console.error("Error al obtener recargas:",Me),Ie("Error al cargar recargas: "+Me.message)});return()=>ke()},[y]);const Q=_.useCallback(async()=>{try{if(M(ke=>({...ke,topUp:!0})),!r||isNaN(r)){Pe("Error","Ingrese un monto válido");return}const be=parseFloat(r);if(be<5){Pe("Error","El monto mínimo de recarga es S/ 5.00");return}await Do(kt(je,"pendingTopUps"),{userId:y,username:o.username,amount:be,status:"pendiente",requestedAt:wr()}),n(""),Pe("Éxito","Solicitud de recarga enviada correctamente")}catch(be){console.error("Error al solicitar recarga:",be),Pe("Error",be.message||"Error al enviar solicitud de recarga")}finally{M(be=>({...be,topUp:!1}))}},[r,y,o.username,Pe]),Te=_.useCallback(async be=>{be.preventDefault();try{M(at=>({...at,password:!0}));const ke=be.target.password.value,Me=be.target.phone.value,Ze=tn.currentUser,vt=ht(je,"users",y),Nt={};if(ke){if(ke.length<6){Pe("Error","La contraseña debe tener al menos 6 caracteres");return}await xv(Ze,ke),Nt.updatedAt=wr()}Me&&(Nt.phone=Me,Nt.updatedAt=wr()),Object.keys(Nt).length>0&&await Yr(vt,Nt),u(at=>({...at,phone:Me||at.phone})),Pe("Éxito","Cambios guardados correctamente"),be.target.reset()}catch(ke){console.error("Error al actualizar los datos:",ke),Pe("Error",ke.message||"Error al guardar los cambios")}finally{M(ke=>({...ke,password:!1}))}},[y,Pe]);_.useEffect(()=>{const be=()=>{Ae(window.scrollY>300)};return window.addEventListener("scroll",be),()=>window.removeEventListener("scroll",be)},[]);const ft=()=>R?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):Se?i.jsxs("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx($l,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${ee==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:Se}),i.jsx("button",{onClick:()=>Ie(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):i.jsx("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(k){case"inicio":return i.jsx(iH,{userName:o,email:d,balance:p,orders:T,notifications:O,setActivePage:w,formatDate:ct});case"notificaciones":return i.jsx(a6,{notifications:O,formatDate:ct});case"recargar":return i.jsx(i6,{amount:r,setAmount:n,topUps:s,actionLoading:W,handleTopUpRequest:Q,formatDate:ct,showModal:Pe});case"proveedores":return i.jsx(o6,{providers:re,openRateProviderModal:le,deleteRatingProvider:st,theme:ee});case"afiliados":return console.log("Rendering AffiliatesSection with:",{referralCode:S,affiliatesLength:B.length}),i.jsx(QQ,{referralCode:S,affiliates:B,formatDate:ct,theme:ee});case"pedidos":return i.jsx(UA,{orders:T,setOrders:D,balance:p,searchQuery:V,setSearchQuery:te,formatDate:ct,handleRenewal:gt,actionLoading:W,theme:ee});case"configuracion":return i.jsx(zA,{userName:o,email:d,actionLoading:W,handleUpdatePassword:Te,openEditProfileModal:$t,handleLogout:ir});case"soporte":return i.jsx(HA,{orders:T,setOrders:D,searchQuery:V,setSearchQuery:te,formatDate:ct,handleRenewal:gt,actionLoading:W,balance:p,theme:ee});default:return i.jsxs("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx($l,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${ee==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),i.jsx("p",{className:`text-base ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>w("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()});return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${ee==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${ee==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(15)].map((be,ke)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},ke))})]}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${ee==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>{De("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:i.jsx(Bn,{className:"text-lg"})})]}),i.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${ee==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:o.username.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${ee==="dark"?"text-white":"text-gray-900"}`,children:o.username}),i.jsx("p",{className:`text-xs ${ee==="dark"?"text-gray-400":"text-gray-600"}`,children:"Usuario"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:rb},{id:"notificaciones",label:"Notificaciones",icon:Ml},{id:"recargar",label:"Recargar saldo",icon:ii},{id:"pedidos",label:"Mis pedidos",icon:bu},{id:"proveedores",label:"Proveedores",icon:Vl},{id:"afiliados",label:"Afiliados",icon:_u},{id:"soporte",label:"Soporte",icon:az},{id:"configuracion",label:"Configuración",icon:jp}].map(be=>i.jsxs("button",{onClick:()=>{w(be.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${k===be.id?"bg-blue-100 text-blue-600 border border-blue-300":ee==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":k===be.id?"page":void 0,children:[i.jsx(be.icon,{className:"text-lg"}),i.jsx("span",{children:be.label})]},be.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:()=>{ir(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${ee==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[i.jsx(wu,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsxs("header",{className:`${ee==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Z.img,{src:tc,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border cursor-pointer ${ee==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy",onClick:()=>De("/")}),i.jsx("button",{onClick:()=>{yt?De("/"):w("inicio")},className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300 cursor-pointer","aria-label":yt?"Go to BlackStreaming homepage":"Ir al inicio del dashboard",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:V,onChange:be=>te(be.target.value),className:`w-full py-2.5 px-5 ${ee==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:be=>be.key==="Enter"&&w("pedidos")}),i.jsx("button",{onClick:()=>w("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${ee==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:i.jsx(vu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[i.jsx("button",{onClick:fr,className:`p-2 rounded-full ${ee==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${ee==="dark"?"light":"dark"} theme`,children:ee==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})}),i.jsxs("button",{onClick:()=>it(!0),className:`p-2 rounded-full relative ${ee==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${O.length} new)`,children:[i.jsx(Ml,{size:20}),O.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:O.length})]}),i.jsx("button",{className:`lg:hidden p-2 rounded-full ${ee==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:i.jsx(Cm,{size:20,className:ee==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:i.jsx("div",{className:"relative",children:i.jsxs("button",{className:`flex items-center space-x-2 ${ee==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:o.username.charAt(0).toUpperCase()}),i.jsx("span",{className:`text-sm font-semibold ${ee==="dark"?"text-gray-200":"text-gray-800"}`,children:o.username})]})})})]})]}),i.jsx(Vt,{children:Fe&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>it(!1),role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${ee==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:be=>be.stopPropagation(),children:[i.jsx("button",{onClick:()=>it(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:i.jsx(Bn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${ee==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),O.length>0?O.map(be=>i.jsxs("div",{className:`p-4 mb-2 rounded-md ${ee==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${ee==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[i.jsx("h3",{className:`font-semibold ${ee==="dark"?"text-gray-200":"text-gray-800"}`,children:be.title||"Nueva Notificación"}),i.jsx("p",{className:`text-sm ${ee==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:be.message}),be.roles&&be.roles.length>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",be.roles.join(", ")]}),be.timestamp&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ct(be.timestamp)})]},be.id)):i.jsx("p",{className:`text-center ${ee==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),i.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:ft()}),i.jsxs("footer",{className:`${ee==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),i.jsxs("p",{className:`text-base sm:text-lg ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[i.jsx("a",{href:"https://twitter.com",className:`${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:i.jsx(Ql,{size:28})}),i.jsx("a",{href:"https://instagram.com",className:`${ee==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:i.jsx(Yl,{size:28})}),i.jsx("a",{href:"https://facebook.com",className:`${ee==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:i.jsx(Xl,{size:28})})]}),i.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),i.jsxs("p",{className:`text-sm ${ee==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),i.jsx(Vt,{children:Be&&i.jsx(Z.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:Mt,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:i.jsx(Am,{size:20})})}),i.jsx(aH,{isOpen:$e.isOpen,title:$e.title,message:$e.message,onClose:pr,theme:ee}),_e.isOpen&&i.jsx(n6,{isOpen:_e.isOpen,user:_e.user,onClose:Gt,onSave:At,theme:ee}),de.isOpen&&i.jsx(s6,{isOpen:de.isOpen,provider:de.provider,onClose:Ye,onRate:wt,theme:ee}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};WA.propTypes={};const ZQ=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(qs,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,eJ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[s,a]=_.useState(e?.username||""),[o,u]=_.useState(""),d=h=>{if(h.preventDefault(),u(""),!s.trim()){u("El nombre de usuario no puede estar vacío.");return}n(e.id,s.trim())};return t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Perfil"}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(qs,{size:20})})]}),i.jsxs("form",{onSubmit:d,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),i.jsx("input",{type:"text",value:s,onChange:h=>a(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0}),o&&i.jsx("p",{className:"text-red-400 text-sm mt-2",children:o})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},tJ=()=>{const[t,e]=_.useState(!1),[r,n]=_.useState("inicio"),[s,a]=_.useState(""),[o,u]=_.useState(""),[d,h]=_.useState(""),[p,g]=_.useState([]),[y,v]=_.useState(0),[k,w]=_.useState(0),[T,D]=_.useState(null),[I,U]=_.useState(!0),[O,X]=_.useState({}),[B,A]=_.useState(null),[S,C]=_.useState([]),[R,F]=_.useState(!1),[W,M]=_.useState(""),[Se,Ie]=_.useState(""),[$e,Le]=_.useState([]),[_e,ie]=_.useState([]),[de,se]=_.useState({}),[V,te]=_.useState([]),[re,ne]=_.useState({isOpen:!1,message:"",title:""}),[ee,Oe]=_.useState({isOpen:!1,user:null}),Be=Ma(),Ae=(le,Ye)=>{ne({isOpen:!0,title:le,message:Ye})},Fe=()=>{ne({isOpen:!1,message:"",title:""})},it=le=>{Oe({isOpen:!0,user:le})},yt=()=>{Oe({isOpen:!1,user:null})},Wt=async(le,Ye)=>{try{X(At=>({...At,profile:!0}));const ct=ht(je,"users",le),ut=ht(je,"affiliates",le);await Yr(ct,{username:Ye,updatedAt:wr()}),await Yr(ut,{username:Ye,updatedAt:wr()}),a(Ye),Ae("Éxito","Perfil actualizado exitosamente"),yt()}catch(ct){console.error("Error al actualizar perfil:",ct),Ae("Error",ct.message||"Error al actualizar el perfil")}finally{X(ct=>({...ct,profile:!1}))}};_.useEffect(()=>{const le=Kl(tn,Ye=>{Ye?(D(Ye.uid),u(Ye.email||"No especificado"),U(!1)):Be("/login")});return()=>le()},[Be]),_.useEffect(()=>{(async()=>{try{const Ye=tr(kt(je,"products")),ct=await rn(Ye),ut={};ct.forEach(At=>{ut[At.id]=At.data()}),se(ut)}catch(Ye){console.error("Error fetching products:",Ye),A("Error al cargar productos")}})()},[]),_.useEffect(()=>{hr(ht(je,"notifications","adminMessage"),ct=>{if(ct.exists()){const ut=ct.data();ut.roles&&ut.roles.includes("affiliate")?te([{id:ct.id,...ut}]):te([])}else te([])})},[]),_.useEffect(()=>{(async()=>{if(T)try{const Ye=ht(je,"users",T),ct=await ei(Ye);if(ct.exists()){const wt=ct.data();a(wt.username||"Usuario"),w(Number(wt.balance)||0)}const ut=ht(je,"affiliates",T),At=await ei(ut);if(At.exists()){const wt=At.data();h(wt.affiliateCode||""),v(Number(wt.earnings)||0)}else{const wt=`AFF-${Math.random().toString(36).substring(2,8).toUpperCase()}`;await ui(ut,{username:s||"Nuevo Afiliado",email:o,affiliateCode:wt,earnings:0,createdAt:wr(),updatedAt:wr()}),h(wt)}}catch(Ye){console.error("Error al manejar datos:",Ye),A("Error al cargar datos")}finally{U(!1)}})()},[T,o,s]),_.useEffect(()=>{if(!T)return;(()=>{const Ye=tr(kt(je,"pendingTopUps"),br("userId","==",T));return hr(Ye,ut=>{const At=ut.docs.map(wt=>({id:wt.id,...wt.data(),date:wt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(wt.data().amount)||0}));Le(At)},ut=>{console.error("Error al obtener recargas:",ut),A("Error al cargar recargas")})})()},[T]),_.useEffect(()=>{if(!d)return;const le=tr(kt(je,"users"),br("referrerCode","==",d),iv("createdAt","desc"),_3(5)),Ye=hr(le,ct=>{const ut=ct.docs.map(At=>({id:At.id,...At.data(),joinDate:At.data().createdAt?.toDate()||new Date}));C(ut)});return()=>Ye()},[d]),_.useEffect(()=>{if(!d)return;const le=tr(kt(je,"users"),br("referrerCode","==",d)),Ye=hr(le,ct=>{const ut=ct.docs.map(At=>({id:At.id,...At.data(),joinDate:At.data().createdAt?.toDate()||new Date}));g(ut)});return()=>Ye()},[d]),_.useEffect(()=>{if(!T)return;(()=>{const Ye=tr(kt(je,"sales"),br("customerId","==",T)),ct=hr(Ye,At=>{if(At.empty){ie([]),U(!1);return}const wt=At.docs.map(st=>{const gt=st.data(),Q=gt.saleDate?.toDate?.()||gt.createdAt?.toDate?.()||new Date;let Te=gt.startDate?.toDate?.(),ft=Te||Q,be=!1;Te||(be=!0);const ke=gt.durationDays||30;let Me;gt.endDate?Me=new Date(gt.endDate):(Me=new Date(ft.getTime()+ke*24*60*60*1e3),be=!0),be&&Yr(ht(je,"sales",st.id),{startDate:Te||Nr.fromDate(Q),endDate:Me.toISOString(),durationDays:ke}).catch(Ir=>{console.error("Error al actualizar startDate/endDate en Firestore:",Ir)});const Ze=new Date,vt=Me.getTime()-ft.getTime(),Nt=Ze.getTime()-ft.getTime(),at=Me.getTime()-Ze.getTime(),ot=Math.ceil(vt/(1e3*60*60*24)),et=Math.max(0,Math.ceil(at/(1e3*60*60*24))),Tt=Math.ceil(Nt/(1e3*60*60*24)),Bt=ot>0?Tt/ot*100:100,Kt=de[gt.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:st.id,productName:gt.productName||"Producto sin nombre",category:gt.type||"netflix",price:parseFloat(gt.price)||0,provider:gt.provider||"No especificado",providerId:gt.providerId||"",providerPhone:gt.providerPhone||gt.providerWhatsapp||"51999999999",status:gt.status||"completed",saleDate:Q,startDate:ft,endDate:Me,durationDays:ke,daysRemaining:et,totalDays:ot,timeElapsedPercentage:Bt,account:{email:gt.accountDetails?.email||"No especificado",password:gt.accountDetails?.password||"No especificado",profile:gt.accountDetails?.profile||"No especificado",pin:gt.accountDetails?.pin||"No especificado"},client:{name:gt.customerName||"Cliente desconocido",email:gt.customerEmail||"No especificado",phone:gt.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${st.id.slice(0,8).toUpperCase()}`,termsAndConditions:Kt,renewable:gt.renewable!==void 0?gt.renewable:!0}});ie(wt),U(!1)},At=>{console.error("Error al obtener pedidos:",At),A("Error al cargar pedidos: "+At.message),U(!1)}),ut=setInterval(()=>{ie(At=>At.map(wt=>{const st=new Date,gt=new Date(wt.endDate).getTime()-new Date(wt.startDate).getTime(),ir=st.getTime()-new Date(wt.startDate).getTime(),Q=new Date(wt.endDate).getTime()-st.getTime(),Te=Math.ceil(gt/(1e3*60*60*24)),ft=Math.max(0,Math.ceil(Q/(1e3*60*60*24))),be=Math.ceil(ir/(1e3*60*60*24)),ke=Te>0?be/Te*100:100;return{...wt,daysRemaining:ft,totalDays:Te,timeElapsedPercentage:ke}}))},6e4);return()=>{ct(),clearInterval(ut)}})()},[T,de]);const De=async()=>{try{if(X(Ye=>({...Ye,topUp:!0})),!Se||isNaN(Se)){Ae("Error","Ingrese un monto válido");return}const le=parseFloat(Se);if(le<10){Ae("Error","El monto mínimo de recarga es S/ 10.00");return}await Do(kt(je,"pendingTopUps"),{userId:T,username:s,amount:le,status:"pendiente",requestedAt:wr(),processed:!1}),Ie(""),Ae("Éxito","Solicitud de recarga enviada correctamente")}catch(le){console.error("Error al solicitar recarga:",le),Ae("Error",le.message||"Error al enviar solicitud de recarga")}finally{X(le=>({...le,topUp:!1}))}},fr=async le=>{try{X(Te=>({...Te,[`renew_${le.id}`]:!0}));const Ye=parseFloat(le.price)||0;if(k<Ye){Ae("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const ct=parseInt(le.durationDays)||30,ut=Nr.now(),At=ut.toDate(),wt=new Date(At.getTime()+ct*24*60*60*1e3),st=wt.toISOString(),gt={customerId:T,customerName:le.client?.name||"Cliente desconocido",customerEmail:le.client?.email||o,phoneNumber:le.client?.phone||"No especificado",productName:le.productName||"Producto sin nombre",type:le.category||"netflix",price:Ye,accountDetails:{email:le.account?.email||"No especificado",password:le.account?.password||"No especificado",profile:le.account?.profile||"No especificado",pin:le.account?.pin||"No especificado"},provider:le.provider||"Proveedor desconocido",providerId:le.providerId||"",providerPhone:le.providerPhone||le.providerWhatsapp||"51999999999",status:"completed",createdAt:ut,saleDate:ut,startDate:ut,endDate:st,durationDays:ct,renewedAt:ut,renewable:le.renewable!==void 0?le.renewable:!0},ir=await Do(kt(je,"sales"),gt),Q=ht(je,"users",T);await Yr(Q,{balance:k-Ye}),w(Te=>Te-Ye),ie(Te=>[...Te,{...gt,id:ir.id,saleDate:At,startDate:At,endDate:wt,account:gt.accountDetails,client:{name:gt.customerName,email:gt.customerEmail,phone:gt.phoneNumber},orderId:`BS-${ir.id.slice(0,8).toUpperCase()}`,renewable:gt.renewable,daysRemaining:ct,totalDays:ct,timeElapsedPercentage:0,termsAndConditions:de[gt.providerId]?.terms||"No se especificaron términos y condiciones."}]),Ae("Éxito","¡Pedido renovado exitosamente!")}catch(Ye){console.error("Error al renovar el pedido:",Ye),Ae("Error","Error al renovar el pedido: "+Ye.message)}finally{X(Ye=>({...Ye,[`renew_${le.id}`]:!1}))}},Mt=()=>{d&&(navigator.clipboard.writeText(d),F(!0),setTimeout(()=>F(!1),2e3))},Pe=le=>{if(!le)return"No especificada";try{const Ye=le instanceof Date?le:new Date(le);return isNaN(Ye.getTime())?"Fecha inválida":Ye.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},pr=async()=>{try{await z0(tn),Be("/")}catch(le){console.error("Error al cerrar sesión:",le),Ae("Error",le.message||"Error al cerrar sesión")}},$t=async le=>{le.preventDefault();try{X(ut=>({...ut,password:!0}));const Ye=le.target.password.value;if(!Ye){Ae("Error","Por favor, ingrese una nueva contraseña");return}if(Ye.length<6){Ae("Error","La contraseña debe tener al menos 6 caracteres");return}const ct=tn.currentUser;ct&&(await xv(ct,Ye),Ae("Éxito","Contraseña actualizada correctamente"),le.target.reset())}catch(Ye){console.error("Error al actualizar la contraseña:",Ye),Ae("Error",Ye.message||"Error al actualizar la contraseña")}finally{X(Ye=>({...Ye,password:!1}))}},Gt=()=>{if(I)return i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(B)return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[i.jsx(la,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),i.jsx("p",{className:"text-gray-300 mb-4",children:B}),i.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",i.jsx("span",{className:"text-cyan-400",children:s})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),i.jsxs("div",{className:"space-y-2 text-gray-300",children:[i.jsxs("p",{className:"flex items-center",children:[i.jsx(Ns,{className:"mr-2 text-cyan-400"}),i.jsx("span",{children:s})]}),i.jsxs("p",{className:"flex items-center",children:[i.jsx(zr,{className:"mr-2 text-cyan-400"}),i.jsx("span",{children:o})]})]})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),i.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",k.toFixed(2)]}),i.jsx("button",{onClick:()=>n("recargas"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Recargar"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias totales"}),i.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),i.jsx("button",{onClick:()=>n("ganancias"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Ver ganancias"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu código de afiliado"}),i.jsxs("button",{onClick:Mt,disabled:!d,className:`flex items-center gap-2 px-3 py-1 rounded-xl transition-all duration-300 ${d?"bg-cyan-900/80 text-cyan-400 hover:bg-cyan-800/80":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[i.jsx(W5,{size:16}),R?"¡Copiado!":"Copiar"]})]}),i.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 border border-gray-600/50",children:i.jsx("p",{className:"text-2xl font-bold text-center tracking-wider text-white",children:d||"Generando código..."})}),i.jsx("p",{className:"text-gray-300 mb-4",children:"Comparte este código con tus amigos para que se registren y ganes comisiones por sus compras."}),i.jsxs("div",{className:"bg-cyan-900/30 p-4 rounded-xl border border-cyan-800/50",children:[i.jsx("h4",{className:"font-medium text-cyan-400 mb-2",children:"Enlace de afiliado:"}),i.jsx("p",{className:"text-sm bg-gray-800/50 p-2 rounded-xl border border-gray-600/50 overflow-x-auto text-gray-300",children:d?`https://blackkstreaming.com/register?ref=${d}`:"Generando enlace..."})]})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Referidos recientes"}),S.length>0?S.map(le=>i.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"font-medium text-white",children:le.username||"Sin nombre"}),i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-900/80 text-green-400",children:"Activo"})]}),i.jsxs("p",{className:"text-sm text-gray-400",children:["Unido: ",Pe(le.joinDate)]})]},le.id)):i.jsx("p",{className:"text-gray-400 py-2",children:"No tienes referidos recientes"}),S.length>0&&i.jsx("button",{onClick:()=>n("referidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los referidos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),_e.length>0?_e.slice(0,3).map(le=>{const Ye=new Date(le.endDate)>new Date&&le.status==="completed",ct=le.status==="pending";return i.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"font-medium text-white",children:le.productName}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ct?"bg-yellow-900/80 text-yellow-400":Ye?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ct?"A pedido":Ye?"Activo":"Expirado"})]}),i.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",Pe(le.endDate)]})]},le.id)}):i.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),_e.length>3&&i.jsx("button",{onClick:()=>n("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Notificaciones"}),V.length>0?V.map(le=>i.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[i.jsx("p",{className:"text-gray-300",children:le.message}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Pe(le.updatedAt)})]},le.id)):i.jsx("p",{className:"text-gray-400 py-2",children:"No hay notificaciones"})]})]})]});case"notificaciones":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Notificaciones"}),V.length>0?i.jsx("div",{className:"space-y-4",children:V.map(le=>i.jsxs("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:[i.jsx("p",{className:"text-gray-300",children:le.message}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Pe(le.updatedAt)})]},le.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(x0,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),i.jsx("p",{className:"text-gray-400",children:"No tienes mensajes nuevos"})]})]});case"recargas":return i.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargar saldo"}),i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),i.jsx("input",{type:"number",value:Se,onChange:le=>Ie(le.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),i.jsx("button",{onClick:De,disabled:O.topUp||!Se||parseFloat(Se)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${Se&&parseFloat(Se)>=10&&!O.topUp?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:O.topUp?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"}),i.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[i.jsx(zs,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),i.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",i.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),i.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 931757531"}),i.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),i.jsxs("a",{href:`https://wa.me/51931757531?text=${encodeURIComponent("Hola 😊, he realizado una recarga a través de Yape. Por favor, confirma mi pago.")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[i.jsx(zr,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),$e.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acción"})]})}),i.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:$e.map(le=>{const Ye=encodeURIComponent(`Hola, he pedido una recarga de S/ ${le.amount?.toFixed(2)||"0.00"} con el nombre ${s}. Adjunto la captura de mi pago, por favor.`);return i.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",le.amount?.toFixed(2)||"0.00"]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${le.status==="aprobado"?"bg-green-900/80 text-green-400":le.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:le.status})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:Pe(le.date)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:le.status==="pendiente"?i.jsxs("a",{href:`https://wa.me/51940505969?text=${Ye}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 text-sm",children:[i.jsx(zr,{className:"mr-2"})," Enviar captura"]}):i.jsx("span",{className:"text-gray-400 text-sm",children:"—"})})]},le.id)})})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(zs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Mis pedidos"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:W,onChange:le=>M(le.target.value)}),i.jsx(oi,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),_e.length>0?i.jsx("div",{className:"space-y-6",children:_e.filter(le=>(le.productName||"").toLowerCase().includes(W.toLowerCase())||(le.orderId||"").toLowerCase().includes(W.toLowerCase())).map(le=>{const Ye=parseFloat(le.price)||0,ct=new Date(le.endDate)>new Date&&le.status==="completed",ut=le.status==="pending",At=le.daysRemaining||0,wt=le.timeElapsedPercentage||0;let st="bg-green-400";wt>70&&wt<=90?st="bg-yellow-400":wt>90&&(st="bg-red-400");const gt=ut?i.jsx(ec,{className:"text-yellow-400"}):ct?i.jsx(Eu,{className:"text-green-400"}):i.jsx(la,{className:"text-red-400"}),ir=encodeURIComponent(`*Consulta sobre Pedido - ${le.productName||"Sin nombre"}*

*N° Pedido:* ${le.orderId||"No especificado"}
*Producto:* ${le.productName||"No especificado"}
*Precio:* S/ ${Ye.toFixed(2)}
*Estado:* ${ut?"A pedido":ct?"Activo":"Expirado"}
*Fecha de Inicio:* ${Pe(le.startDate)}
*Fecha de Vencimiento:* ${Pe(le.endDate)}

`+(ut?`Hola 😊, he comprado un producto a pedido (${le.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),Q=encodeURIComponent(`😊 Estimado/a ${le.client?.name||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${le.productName||"Sin nombre"}.
🔢 Código: ${le.orderId||"No especificado"}
`+(ut?"":`📧 Correo: ${le.account?.email||"No especificado"}
🔐 Contraseña: ${le.account?.password||"No especificado"}
👤 Perfil: ${le.account?.profile||"No especificado"}
📌 PIN: ${le.account?.pin||"No especificado"}
`)+`🌐 URL: Sin URL
📅 Fecha de creación: ${Pe(le.startDate)}
📅 Fecha de vencimiento: ${Pe(le.endDate)}
🏁 Días contratados: ${le.durationDays||30} días.

`+(ut?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${le.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),Te=le.providerPhone?le.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return i.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[gt,i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white",children:le.productName||"Producto sin nombre"}),le.orderId&&i.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",le.orderId]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",Ye.toFixed(2)]}),i.jsx("p",{className:`text-xs font-medium ${ut?"text-yellow-400":st.replace("bg-","text-")}`,children:ut?"Pendiente de activación":`${At} día${At===1?"":"s"} restante${At===1?"":"s"}`})]})]}),i.jsxs("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"w-full bg-gray-600/50 rounded-full h-2.5",children:i.jsx("div",{className:`h-2.5 rounded-full ${st}`,style:{width:`${Math.min(wt,100)}%`}})}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[wt.toFixed(0),"% completado"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[i.jsx(Ns,{className:"mr-2"})," Detalles de la Cuenta"]}),i.jsx("div",{className:"space-y-2 text-gray-300",children:ut?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),i.jsx("span",{className:"block text-white break-all",children:le.account?.email||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),i.jsx("span",{className:"block text-white break-all",children:le.account?.password||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),i.jsx("span",{className:"block text-white",children:le.account?.profile||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),i.jsx("span",{className:"block text-white",children:le.account?.pin||"No especificado"})]})]})})]}),i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[i.jsx(ib,{className:"mr-2"})," Información del Pedido"]}),i.jsxs("div",{className:"space-y-2 text-gray-300",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),i.jsx("span",{className:"block text-white",children:le.provider||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),i.jsx("span",{className:"block text-white",children:le.providerPhone||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),i.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${ut?"bg-yellow-900/80 text-yellow-400":ct?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ut?"A pedido":ct?"Activo":"Expirado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),i.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),i.jsx("span",{className:"block text-white",children:Pe(le.startDate)})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),i.jsx("span",{className:"block text-white",children:Pe(le.endDate)})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Días restantes:"}),i.jsx("span",{className:`block ${st.replace("bg-","text-")}`,children:At})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[i.jsx(Ns,{className:"mr-2"})," Información del Cliente"]}),i.jsxs("div",{className:"space-y-2 text-gray-300",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),i.jsx("span",{className:"block text-white",children:le.client?.name||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),i.jsx("span",{className:"block text-white",children:le.client?.phone||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),i.jsx("span",{className:"block text-white",children:le.client?.email||"No especificado"})]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("a",{href:`https://wa.me/51${Te}?text=${ir}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[i.jsx(zr,{size:18})," Contactar Proveedor"]}),le.renewable&&i.jsx("button",{onClick:()=>fr(le),disabled:O[`renew_${le.id}`],className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${O[`renew_${le.id}`]?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:O[`renew_${le.id}`]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(X5,{size:18})," Renovar Pedido"]})}),le.client?.phone&&i.jsxs("a",{href:`https://wa.me/${le.client.phone.replace(/^\+/,"")}?text=${Q}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[i.jsx(zr,{size:18})," Contactar Cliente"]})]})]})]},le.id)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ho,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),i.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"referidos":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos tus referidos (",p.length,")"]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Buscar referidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:W,onChange:le=>M(le.target.value)}),i.jsx(oi,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),p.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de registro"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),i.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:p.filter(le=>{const Ye=le.username||"",ct=le.email||"";return Ye.toLowerCase().includes(W.toLowerCase())||ct.toLowerCase().includes(W.toLowerCase())}).map(le=>i.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:le.username||"Sin nombre"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.email||"Sin email"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.joinDate?Pe(le.joinDate):"No especificada"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:le.status||"Activo"})})]},le.id))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ku,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes referidos aún"}),i.jsx("p",{className:"text-gray-400",children:"Comparte tu código de afiliado para empezar a ganar comisiones"})]})]});case"ganancias":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),i.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde ayer"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),i.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde la semana pasada"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias totales"}),i.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),i.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[p.length," referidos"]})]})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[i.jsx(oT,{className:"mr-2 text-cyan-400"})," Historial de comisiones"]}),p.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:"bg-gray-800/50 backdrop-blur-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Referido"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Origen"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),i.jsx("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:p.map(le=>i.jsxs("tr",{className:"hover:bg-gray-600/50 transition-all duration-300",children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:le.username||"Usuario sin nombre"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.joinDate?Pe(le.joinDate):"No especificada"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:"S/ 0.00"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:"Registro"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900/80 text-yellow-400",children:"Pendiente"})})]},le.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(zs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("p",{className:"text-gray-400",children:"No hay comisiones registradas"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gana comisiones cuando tus referidos realicen compras"})]})]})]});case"configuracion":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),i.jsxs("form",{onSubmit:$t,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("input",{type:"text",value:s,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"}),i.jsx("button",{type:"button",onClick:()=>it({id:T,username:s}),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-300",title:"Editar Nombre",children:i.jsx(dz,{size:16})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),i.jsx("input",{type:"email",value:o,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña (opcional)"}),i.jsx("input",{type:"password",name:"password",placeholder:"Nueva contraseña",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),i.jsx("button",{type:"submit",disabled:O.password,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 disabled:bg-cyan-800",children:O.password?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]}),i.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:i.jsxs("button",{onClick:pr,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[i.jsx(Pp,{})," Cerrar sesión"]})})]});default:return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[i.jsx(la,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),i.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[i.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:i.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:i.jsx(gz,{className:"text-xl"})})}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:i.jsx(qs,{className:"text-lg"})})]}),i.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-white",children:s}),i.jsx("p",{className:"text-xs text-gray-400",children:"Afiliador"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:hz},{id:"notificaciones",label:"Notificaciones",icon:x0},{id:"recargas",label:"Recargas",icon:zs},{id:"pedidos",label:"Pedidos",icon:Ho},{id:"referidos",label:"Referidos",icon:ku},{id:"ganancias",label:"Ganancias",icon:oT},{id:"configuracion",label:"Configuración",icon:Q5}].map(le=>i.jsxs("button",{onClick:()=>{n(le.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===le.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-cyan-400"}`,children:[i.jsx(le.icon,{className:"text-lg"}),i.jsx("span",{children:le.label})]},le.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:pr,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[i.jsx(Pp,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:Gt()}),i.jsx(ZQ,{isOpen:re.isOpen,title:re.title,message:re.message,onClose:Fe}),i.jsx(eJ,{isOpen:ee.isOpen,user:ee.user,onClose:yt,onSave:Wt}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>e(!1)})]})},rJ=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(qs,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,qA=({username:t="Usuario",products:e=[],orders:r=[],providerBalance:n=0,balanceLoading:s=!1,totalStock:a=0,totalEarnings:o=0,isAdmin:u=!1,email:d="",notifications:h=[],setActiveSection:p=()=>{},formatDate:g=v=>new Date(v).toLocaleDateString(),theme:y="dark"})=>{const v=y==="dark",k={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${v?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:k,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${v?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Bienvenido, ",i.jsx("span",{className:"text-red-400",children:t})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ab,{size:20}),"Inventario"]}),i.jsx("p",{className:`text-4xl font-bold ${v?"text-white":"text-gray-900"} mb-2`,children:e.length}),i.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"} mb-1`,children:"Productos registrados"}),i.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Stock total: ",a]}),i.jsx(Z.button,{onClick:()=>p("inventario"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${v?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Inventario"})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-green-400":"text-green-600"}`,children:[i.jsx(zs,{size:20}),"Ganancias"]}),s?i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"}),i.jsx("span",{className:`ml-2 ${v?"text-gray-400":"text-gray-600"}`,children:"Cargando..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:`text-4xl font-bold ${v?"text-white":"text-gray-900"} mb-2`,children:["S/ ",o.toFixed(2)]}),i.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"} mb-1`,children:[r.length," ventas realizadas"]}),i.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",n.toFixed(2)]}),i.jsx(Z.button,{onClick:()=>p("ganancias"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${v?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Ganancias"})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-purple-400":"text-purple-600"}`,children:[i.jsx(Ns,{size:20}),"Mi Cuenta"]}),i.jsxs("div",{className:`space-y-3 ${v?"text-gray-300":"text-gray-700"} mb-6`,children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(Ns,{className:"text-purple-400 flex-shrink-0",size:18}),i.jsx("span",{className:"font-medium",children:t})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(zr,{className:"text-purple-400 flex-shrink-0",size:18}),i.jsx("span",{className:"font-medium",children:d})]}),i.jsx("div",{className:`px-3 py-2 rounded-full text-sm font-medium ${u?v?"bg-purple-900/50 text-purple-300 border border-purple-500/30":"bg-purple-100 text-purple-800 border border-purple-300":v?"bg-gray-700/50 text-gray-300 border border-gray-500/30":"bg-gray-200 text-gray-700 border border-gray-300"}`,children:u?"Administrador":"Proveedor"})]}),i.jsx(Z.button,{onClick:()=>p("configuracion"),className:`w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${v?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Editar Perfil"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(Ho,{size:20}),"Pedidos recientes"]}),i.jsx(Vt,{children:r.length===0?i.jsxs(Z.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(Z.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(Ho,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"No hay pedidos recientes"}),i.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus pedidos aparecerán aquí"})]}):i.jsxs("div",{className:"overflow-x-auto rounded-xl border",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`${v?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Comprador"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"})]})}),i.jsx("tbody",{className:`${v?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:r.slice(0,3).map((T,D)=>{const I=new Date(T.endDate)>new Date&&T.status==="completed",U=T.status==="pending";return i.jsxs(Z.tr,{className:"transition-all duration-300 hover:bg-indigo-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:D*.1},children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${v?"text-white":"text-gray-900"} truncate max-w-xs`,children:T.productName}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${v?"text-gray-300":"text-gray-700"}`,children:T.buyer}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-semibold ${v?"text-indigo-400":"text-indigo-600"}`,children:["S/ ",(T.amount||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U?v?"bg-yellow-900/80 text-yellow-300 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":I?v?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":v?"bg-red-900/80 text-red-300 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:U?"A pedido":I?"Activo":"Expirado"})})]},T.id||D)})})]}),r.length>3&&i.jsx(Z.button,{onClick:()=>p("pedidos"),className:`w-full mt-4 px-6 py-3 text-center text-sm transition-all duration-300 rounded-xl border-2 font-medium ${v?"border-indigo-500/50 text-indigo-400 hover:bg-indigo-500/10":"border-indigo-500/50 text-indigo-600 hover:bg-indigo-500/10"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver todos los pedidos"})]})})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-pink-400":"text-pink-600"}`,children:[i.jsx(zr,{size:20}),"Notificaciones"]}),i.jsx(Vt,{children:h.length>0?h.map((T,D)=>i.jsx(Z.div,{className:`border-b py-4 last:border-0 hover:rounded-xl hover:px-2 transition-all duration-300 ${v?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,delay:D*.1},whileHover:{backgroundColor:v?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)"},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 pt-1",children:i.jsx(zr,{className:"text-pink-400",size:18})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`font-medium ${v?"text-gray-300":"text-gray-700"} mb-1`,children:T.message}),i.jsx("p",{className:`text-xs ${v?"text-gray-400":"text-gray-500"}`,children:g(T.updatedAt?.toDate?.()||new Date)})]})]})},T.id)):i.jsxs(Z.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(Z.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(zr,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"No hay notificaciones"}),i.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus notificaciones aparecerán aquí"})]})})]})]})]})};qA.propTypes={username:G.string.isRequired,products:G.arrayOf(G.object).isRequired,orders:G.arrayOf(G.object).isRequired,providerBalance:G.number.isRequired,balanceLoading:G.bool.isRequired,totalStock:G.number.isRequired,totalEarnings:G.number.isRequired,isAdmin:G.bool.isRequired,email:G.string.isRequired,notifications:G.arrayOf(G.object).isRequired,setActiveSection:G.func.isRequired,formatDate:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const GA=({products:t,setActiveSection:e,handleEdit:r,handleDelete:n,getCategoryDisplayName:s,totalStock:a,theme:o="dark"})=>{const u=o==="dark",d=y=>{const v={netflix:{bg:u?"bg-red-900/30":"bg-red-100",text:u?"text-red-300":"text-red-800"},disney:{bg:u?"bg-blue-900/30":"bg-blue-100",text:u?"text-blue-300":"text-blue-800"},max:{bg:u?"bg-yellow-900/30":"bg-yellow-100",text:u?"text-yellow-300":"text-yellow-800"},spotify:{bg:u?"bg-green-900/30":"bg-green-100",text:u?"text-green-300":"text-green-800"},default:{bg:u?"bg-gray-900/30":"bg-gray-100",text:u?"text-gray-300":"text-gray-700"}};return v[y?.toLowerCase()]||v.default},h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},g={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:u?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)",transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-4",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Inventario",i.jsxs("span",{className:`ml-2 bg-gradient-to-r ${u?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:[t.length," productos"]})]}),i.jsxs(Z.button,{onClick:()=>e("subirProducto"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx(iT,{className:"mr-2",size:18}),"Nuevo Producto"]})]}),t.length>0?i.jsx("div",{className:"overflow-x-auto rounded-2xl border shadow-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200/30",children:[i.jsx("thead",{className:`${u?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Producto"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Precio"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Stock"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Categoría"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Estado"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:i.jsx(Vt,{children:t.map((y,v)=>{const k=d(y.category);return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${u?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:g,initial:"hidden",animate:"visible",whileHover:"hover",exit:{opacity:0,x:-20},transition:{duration:.3,delay:v*.05},children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-3",children:[y.image?i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{className:"w-10 h-10 rounded-full object-cover shadow-md",src:y.image,alt:y.name,loading:"lazy"})}):i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-md",children:i.jsx(xz,{className:"text-white",size:16})}),i.jsx("div",{className:"min-w-0 flex-1",children:i.jsx("div",{className:`text-sm font-semibold ${u?"text-white":"text-gray-900"} truncate`,children:y.name})})]})}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"text-sm font-semibold text-green-500",children:["S/ ",(parseFloat(y.price)||0).toFixed(2)]}),y.renewalPrice&&parseFloat(y.renewalPrice)!==parseFloat(y.price)&&i.jsxs("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:["Ren: S/ ",parseFloat(y.renewalPrice).toFixed(2)]})]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(y.stock||0)>0?u?"bg-green-900/50 text-green-400":"bg-green-100 text-green-800":u?"bg-red-900/50 text-red-400":"bg-red-100 text-red-800"}`,children:y.stock||0})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bg} ${k.text}`,children:s(y.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${y.status==="En stock"?u?"bg-green-900/80 text-green-400 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":y.status==="A pedido"?u?"bg-yellow-900/80 text-yellow-400 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":u?"bg-red-900/80 text-red-400 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:y.status||"En stock"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z.button,{onClick:()=>r(y),className:"p-2 rounded-xl bg-blue-500/80 hover:bg-blue-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Editar","aria-label":"Editar producto",children:i.jsx(q5,{size:16})}),i.jsx(Z.button,{onClick:()=>n(y.id),className:"p-2 rounded-xl bg-red-500/80 hover:bg-red-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Eliminar","aria-label":"Eliminar producto",children:i.jsx(lb,{size:16})})]})})]},y.id||v)})})})]})}):i.jsxs(Z.div,{className:`text-center py-16 rounded-2xl border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",whileHover:"hover",children:[i.jsx(Z.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${u?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(ab,{className:"text-white",size:32})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${u?"text-gray-300":"text-gray-700"}`,children:"No tienes productos registrados"}),i.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mb-6`,children:"Agrega tu primer producto para comenzar a vender"}),i.jsxs(Z.button,{onClick:()=>e("subirProducto"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx(iT,{className:"mr-2",size:18}),"Agregar Producto"]})]})]})};GA.propTypes={products:G.arrayOf(G.shape({id:G.string.isRequired,name:G.string.isRequired,price:G.oneOfType([G.string,G.number]).isRequired,stock:G.oneOfType([G.string,G.number]),status:G.string,category:G.string,image:G.string})).isRequired,setActiveSection:G.func.isRequired,handleEdit:G.func.isRequired,handleDelete:G.func.isRequired,getCategoryDisplayName:G.func.isRequired,totalStock:G.number.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const nJ=({soldAccounts:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:s,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(aT,{className:"inline mr-2",size:32}),"Cuentas Vendidas"]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${n?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:a,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${n?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ab,{size:20}),"Registro de Ventas"]}),i.jsx(Vt,{children:t.length===0?i.jsxs(Z.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(Z.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(aT,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"No hay cuentas vendidas"}),i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Las cuentas vendidas aparecerán aquí"})]}):i.jsx("div",{className:"overflow-x-auto rounded-xl border",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`${n?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Email"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Perfil"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Fecha de Venta"})]})}),i.jsx("tbody",{className:`${n?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:t.map((o,u)=>i.jsxs(Z.tr,{className:"transition-all duration-300 hover:bg-blue-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:u*.1},children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${n?"text-white":"text-gray-900"} truncate max-w-xs`,children:o.productName}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:o.email}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:o.profile||"N/A"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:e(o.saleDate)})]},o.id||u))})]})})})]})]})},sJ=({product:t,setProduct:e,handleChange:r,handleFileChange:n,handleStockChange:s,handleAccountFieldChange:a,handleSubmit:o,setActiveSection:u,theme:d="dark"})=>{const h=d==="dark",p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${h?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${h?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Rp,{className:"inline mr-2",size:32}),"Subir Nuevo Producto"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-blue-400":"text-blue-600"}`,children:[i.jsx(G5,{size:20}),"Imagen del producto"]}),i.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${h?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:t.image?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:t.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),i.jsx(Z.button,{type:"button",onClick:()=>e({...t,image:""}),className:`absolute top-0 right-0 ${h?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(qs,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Rp,{className:`mx-auto h-12 w-12 ${h?"text-gray-400":"text-gray-500"}`}),i.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:i.jsxs("label",{htmlFor:"file-upload",className:`relative cursor-pointer rounded-xl font-medium ${h?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[i.jsx("span",{children:"Subir una imagen"}),i.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:y=>n(y),accept:"image/*"})]})}),i.jsx("p",{className:`text-xs ${h?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-purple-400":"text-purple-600"}`,children:[i.jsx(J5,{size:20}),"Información Básica"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Nombre del producto*"}),i.jsx("input",{type:"text",name:"name",value:t.name,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Categoría*"}),i.jsxs("select",{name:"category",value:t.category,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Netflix",children:"Netflix"}),i.jsx("option",{value:"Spotify",children:"Spotify"}),i.jsx("option",{value:"Disney",children:"Disney+"}),i.jsx("option",{value:"Max",children:"Max"}),i.jsx("option",{value:"Prime Video",children:"Prime Video"}),i.jsx("option",{value:"Vix",children:"Vix"}),i.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),i.jsx("option",{value:"Canva",children:"Canva"}),i.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),i.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),i.jsx("option",{value:"Dgo",children:"DGO"}),i.jsx("option",{value:"Liga Max",children:"Liga Max"}),i.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),i.jsx("option",{value:"Youtube",children:"YouTube"}),i.jsx("option",{value:"Deezer",children:"Deezer"}),i.jsx("option",{value:"Tidal",children:"Tidal"}),i.jsx("option",{value:"Vpn",children:"VPN"}),i.jsx("option",{value:"WinTv",children:"WinTV"}),i.jsx("option",{value:"Apple Music",children:"CinePlanet "}),i.jsx("option",{value:"Apple Tv",children:"Apple TV"}),i.jsx("option",{value:"Iptv",children:"IPTV"}),i.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),i.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),i.jsx("option",{value:"Pornhub",children:"Pornhub"}),i.jsx("option",{value:"Paramount",children:"Paramount"}),i.jsx("option",{value:"Licencias",children:"Licencias"}),i.jsx("option",{value:"Capcut",children:"Capcut"}),i.jsx("option",{value:"Duolingo",children:"Duolingo"}),i.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Tipo de cuenta*"}),i.jsxs("select",{name:"accountType",value:t.accountType,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Premium",children:"Premium"}),i.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Estado*"}),i.jsxs("select",{name:"status",value:t.status,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"En stock",children:"En stock"}),i.jsx("option",{value:"A pedido",children:"A pedido"}),i.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Stock*"}),i.jsx("input",{type:"number",name:"stock",value:t.status==="Agotado"?0:t.stock,onChange:s,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all ${t.status==="Agotado"?"opacity-50 cursor-not-allowed":""} placeholder-gray-500`,min:"0",required:!0,disabled:t.status==="Agotado"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio (S/)*"}),i.jsx("input",{type:"number",name:"price",value:t.price,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"renewal",checked:t.renewal,onChange:r,className:`h-4 w-4 rounded ${h?"text-purple-400 focus:ring-purple-400 border-gray-600/50":"text-purple-600 focus:ring-purple-600 border-gray-300/50"}`}),i.jsx("label",{className:`ml-2 text-sm ${h?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),t.renewal&&i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio de renovación (S/)*"}),i.jsx("input",{type:"number",name:"renewalPrice",value:t.renewalPrice,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-green-400":"text-green-600"}`,children:[i.jsx(ec,{size:20}),"Duración y Contacto"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Duración (días)"}),i.jsx("input",{type:"number",name:"duration",value:t.duration,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:["Teléfono de contacto ",t.status==="A pedido"?"*":""]}),i.jsx("input",{type:"text",name:"providerPhone",value:t.providerPhone,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:t.status==="A pedido"})]})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(K5,{size:20}),"Enlaces y Descripciones"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"URL del producto (opcional)"}),i.jsx("input",{type:"url",name:"productUrl",value:t.productUrl||"",onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Detalles del producto"}),i.jsx("textarea",{name:"details",value:t.details,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Términos y condiciones"}),i.jsx("textarea",{name:"terms",value:t.terms,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]})]})]}),t.status==="En stock"&&i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-pink-400":"text-pink-600"}`,children:[i.jsx(ku,{size:20}),"Cuentas Asociadas"]}),i.jsx("p",{className:`text-sm mb-4 ${h?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),i.jsx(Vt,{children:i.jsx("div",{className:"space-y-4",children:t.accounts.map((y,v)=>i.jsxs(Z.div,{className:`border rounded-xl p-4 ${h?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:v*.1},children:[i.jsxs("h4",{className:`text-sm font-medium ${h?"text-white":"text-gray-900"} mb-3 flex items-center gap-2`,children:["Cuenta ",v+1]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),i.jsx("input",{type:"email",value:y.email,onChange:k=>a(v,"email",k.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),i.jsx("input",{type:"text",value:y.password,onChange:k=>a(v,"password",k.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),i.jsx("input",{type:"text",value:y.profile,onChange:k=>a(v,"profile",k.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),i.jsx("input",{type:"text",value:y.pin,onChange:k=>a(v,"pin",k.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},v))})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[i.jsx(Z.button,{onClick:()=>u("inventario"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${h?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),i.jsx(Z.button,{onClick:o,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-pink-500/50 ${h?"from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700":"from-pink-600 to-purple-800 hover:from-pink-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Subir Producto"})]})]})},aJ=({orders:t,totalEarnings:e,providerBalance:r,balanceLoading:n,getCategoryDisplayName:s,formatDate:a,theme:o="dark"})=>{const u=o==="dark",d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(zs,{className:"inline mr-2",size:32}),"Ganancias"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-green-400":"text-green-600"}`,children:[i.jsx(zs,{size:20}),"Resumen Financiero"]}),i.jsxs("p",{className:`text-4xl font-bold ${u?"text-white":"text-gray-900"} mb-2`,children:["S/ ",e.toFixed(2)]}),i.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mb-1`,children:[t.length," ventas realizadas"]}),n?i.jsxs("div",{className:"flex items-center justify-center py-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-500 mr-2"}),i.jsx("span",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Cargando saldo..."})]}):i.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",r.toFixed(2)]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(Ho,{size:20}),"Historial de Ventas"]}),i.jsx(Vt,{children:t.length===0?i.jsxs(Z.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(Z.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(Ho,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${u?"text-gray-300":"text-gray-700"}`,children:"No hay ventas registradas"}),i.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Tus ventas aparecerán aquí"})]}):i.jsxs("div",{className:"overflow-x-auto rounded-xl border",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`${u?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Categoría"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Comprador"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Contacto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Fecha"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"})]})}),i.jsx("tbody",{className:`${u?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:t.slice(0,10).map((p,g)=>i.jsxs(Z.tr,{className:"transition-all duration-300 hover:bg-indigo-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:g*.1},children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-gray-900"} truncate max-w-xs`,children:p.productName}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:s(p.category)}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[i.jsx("div",{className:`text-sm font-medium ${u?"text-white":"text-gray-900"}`,children:p.buyer}),i.jsx("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:p.buyerEmail})]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:p.buyerPhone}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:a(p.saleDate)}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-semibold ${u?"text-indigo-400":"text-indigo-600"}`,children:["S/ ",(p.amount||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${u?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300"}`,children:"Completado"})})]},p.id||g))})]}),t.length>10&&i.jsxs("p",{className:`text-center mt-4 text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Mostrando las primeras 10 ventas. Hay ",t.length," en total."]})]})})]})]})]})},KA=({orders:t,searchQuery:e,setSearchQuery:r,getCategoryDisplayName:n,formatDate:s,handleEditOrder:a,handleActivateOrder:o,handleDeleteOrder:u,theme:d="dark"})=>{const[h,p]=_.useState({key:null,direction:"asc"}),g=d==="dark",y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},v={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:g?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},k=_.useMemo(()=>{let O=[...t].filter(X=>(X.productName||"").toLowerCase().includes(e.toLowerCase())||(X.category||"").toLowerCase().includes(e.toLowerCase())||(X.provider||"").toLowerCase().includes(e.toLowerCase())||(X.buyer||"").toLowerCase().includes(e.toLowerCase())||(X.accountDetails?.email||"").toLowerCase().includes(e.toLowerCase()));return h.key&&O.sort((X,B)=>{let A=X[h.key]||"",S=B[h.key]||"";return typeof A=="string"&&(A=A.toLowerCase()),typeof S=="string"&&(S=S.toLowerCase()),A<S?h.direction==="asc"?-1:1:A>S?h.direction==="asc"?1:-1:0}),O},[t,e,h]),w=O=>{const X={netflix:{bg:g?"bg-red-900/30":"bg-red-100",text:g?"text-red-300":"text-red-800"},disney:{bg:g?"bg-blue-900/30":"bg-blue-100",text:g?"text-blue-300":"text-blue-800"},max:{bg:g?"bg-yellow-900/30":"bg-yellow-100",text:g?"text-yellow-300":"text-yellow-800"},spotify:{bg:g?"bg-green-900/30":"bg-green-100",text:g?"text-green-300":"text-green-800"},default:{bg:g?"bg-gray-900/30":"bg-gray-100",text:g?"text-gray-300":"text-gray-700"}};return X[O?.toLowerCase()]||X.default},T=(O,X)=>{const B=O.status||"pending",S=(O.daysRemaining||0)>0;let C,R,F;return B==="soporte"?(C="En soporte",R=X?"text-blue-400":"text-blue-600",F=i.jsx(Di,{className:R,title:"En Soporte"})):B==="rechazado"?(C="No aplica soporte",R=X?"text-amber-700":"text-amber-900",F=i.jsx(la,{className:R,title:"No aplica soporte"})):B==="refunded"?(C="Reembolsado",R=X?"text-gray-400":"text-gray-600",F=i.jsx(la,{className:R,title:"Reembolsado"})):B==="pending"?(C="Pendiente",R=X?"text-yellow-400":"text-yellow-600",F=i.jsx(ec,{className:R,title:"Pendiente"})):S?(C="Activo",R=X?"text-green-400":"text-green-600",F=i.jsx(Eu,{className:R,title:"Activo"})):(C="Expirado",R=X?"text-red-400":"text-red-600",F=i.jsx(la,{className:R,title:"Expirado"})),{text:C,color:R,icon:F}},D=O=>{p(X=>({key:O,direction:X.key===O&&X.direction==="asc"?"desc":"asc"}))},I=O=>h.key!==O?null:h.direction==="asc"?i.jsx(Im,{className:"ml-1"}):i.jsx(jm,{className:"ml-1"}),U=()=>{const O=k.map(S=>{const C=S.status||"pending",R=C==="pending",F=C==="soporte",W=C==="rechazado",M=C==="refunded",Se=S.daysRemaining||0,Ie=Se>0;let $e;F?$e="En Soporte":W?$e="No aplica soporte":M?$e="Reembolsado":Ie?$e="Activo":R?$e="Pendiente":$e="Expirado";const Le=F||W||M||R&&!Ie;let _e;return Le?_e=$e:_e=`${Se} día${Se===1?"":"s"}`,{Estado:$e,Producto:S.productName||"Sin nombre",Categoría:n(S.category),Proveedor:S.provider||"N/A",Monto:`S/ ${(S.amount||0).toFixed(2)}`,"Tiempo Restante":_e,"Fecha de Inicio":S.startDate?s(S.startDate):"N/A","Fecha de Vencimiento":S.endDate?s(S.endDate):"N/A",Comprador:S.buyer||"N/A",Teléfono:S.buyerPhone||"N/A",Email:S.accountDetails?.email||"N/A",Contraseña:S.accountDetails?.password||"N/A",Perfil:S.accountDetails?.profile||"N/A",PIN:S.accountDetails?.pin||"N/A"}}),X=ca.json_to_sheet(O),B=ca.book_new();ca.book_append_sheet(B,X,"Pedidos");const A=new Date().toISOString().slice(0,10).replace(/-/g,"");Bm(B,`orders_export_${A}.xlsx`)};return i.jsxs(Z.div,{className:`backdrop-blur-md p-2 sm:p-4 md:p-6 lg:p-8 rounded-3xl shadow-2xl w-full border ${g?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"orders-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"orders-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${g?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(Ho,{className:"mr-2"})," Mis Pedidos",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${g?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:k.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 md:w-64 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos por nombre, categoría, proveedor, cliente o email...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${g?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:e,onChange:O=>r(O.target.value),"aria-label":"Buscar pedidos por nombre, categoría, proveedor, cliente o email"}),i.jsx(oi,{className:`absolute left-3 top-3.5 ${g?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(Z.button,{onClick:U,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${g?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos como Excel","aria-label":"Exportar pedidos a Excel",children:[i.jsx(Pm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx(Vt,{children:k.length>0?i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${g?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${g?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:"status",label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"provider",label:"Proveedor"},{key:"amount",label:"Monto"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"buyer",label:"Comprador"},{key:"buyerPhone",label:"Teléfono"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{label:"Acciones"}].map(({key:O,label:X})=>i.jsx("th",{className:`px-2 sm:px-3 md:px-4 py-3 sm:py-4 text-left text-xs font-semibold uppercase tracking-wider ${g?"text-gray-300":"text-gray-700"} cursor-pointer hover:text-blue-400 transition-colors`,onClick:()=>O&&D(O),children:i.jsxs("div",{className:"flex items-center justify-between",children:[X,O&&I(O)]})},O||X))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:k.map(O=>{const X=parseFloat(O.amount)||0,B=O.status||"pending",A=B==="pending",S=B==="soporte",C=B==="rechazado",R=B==="refunded",F=O.daysRemaining||0,W=Math.min(O.timeElapsedPercentage||0,100),M=T(O,g),Se=w(O.category);let Ie;W<70?Ie=g?"bg-green-500":"bg-green-600":W<90?Ie=g?"bg-orange-500":"bg-orange-600":Ie=g?"bg-red-500":"bg-red-600";const $e=!["En soporte","No aplica soporte","Reembolsado","Pendiente"].includes(M.text),Le=S||C||R||A,_e=Le?M.text:`${F} día${F===1?"":"s"}`,ie=$e?Ie.replace("bg-","text-"):M.color,de=O.provider||"BlackStreaming",se=O.buyerPhone?O.buyerPhone.replace(/[^0-9]/g,""):null,V=O.soporteMessage?`

📝 *Nota de Soporte*: ${O.soporteMessage}`:"",te=encodeURIComponent(`¡Hola! 👋 Soy ${de} de BlackStreaming.

🔧 *Necesito contactarte* sobre tu pedido de *${O.productName||"Sin nombre"}*.
🆔 *Pedido*: ${O.id||"N/A"}
📞 ¿Podrías confirmarme algunos detalles o resolver una duda rápida?

¡Gracias por tu paciencia! 🙏`),re=encodeURIComponent(`¡Hola! 👋 *${de}* de BlackStreaming aquí.

🎉 *¡Tu cuenta está lista!* Has adquirido:
📺 *${O.productName||"Sin nombre"}*
💰 *Precio*: S/ ${X.toFixed(2)}
⏰ *Duración*: ${O.durationDays||30} días

🍿 Tu suscripción a *${O.productName||"Sin nombre"}* (${de}) sigue activa! 🎬
⏳ *Te quedan*: ${Le?S?"En Soporte":C?"No aplica soporte":R?"Reembolsado":"Pendiente de activación":`${F} día${F===1?"":"s"}`} para disfrutar! 🕒
📋 *Detalles*:
✉️ *Usuario*: ${O.accountDetails?.email||"N/A"}
🔐 *Contraseña*: ${O.accountDetails?.password||"N/A"}
👥 *Perfil*: ${O.accountDetails?.profile||"N/A"}
🔢 *PIN*: ${O.accountDetails?.pin||"N/A"}
🗓 *Compra*: ${O.startDate?s(O.startDate):"N/A"}
🗓 *Vencimiento*: ${O.endDate?s(O.endDate):"N/A"}
📞 *Teléfono*: ${O.buyerPhone||"N/A"}

`+V+`👤 *${de}* te recomienda renovar a tiempo para no perderte nada! 😊
🚀 ¡Sigue disfrutando y contáctanos si necesitas ayuda! 🎉`);return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${g?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:v,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${O.id}-title`,children:[i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-full ${M.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:M.icon}),i.jsx("span",{className:`${M.color} font-medium`,children:M.text})]})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4",children:i.jsx("h4",{id:`order-${O.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:O.productName||"Sin nombre"})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Se.bg} ${Se.text}`,children:n(O.category)})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap font-mono text-sm",children:O.provider||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsx("div",{className:"space-y-1",children:i.jsxs("p",{className:"font-bold text-lg",children:["S/ ",X.toFixed(2)]})})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[$e&&i.jsx("div",{className:"relative",children:i.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${g?"bg-gray-600/40":"bg-gray-300/40"}`,children:i.jsx(Z.div,{className:`h-2 rounded-full ${Ie}`,initial:{width:0},animate:{width:`${W}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),i.jsx("span",{className:`text-sm font-medium ${ie}`,children:_e})]})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:O.startDate?s(O.startDate):"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:O.endDate?s(O.endDate):"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:O.buyer||"N/A",children:O.buyer||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:O.buyerPhone||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:O.accountDetails?.email||"N/A",children:O.accountDetails?.email||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:O.accountDetails?.password||"N/A",children:O.accountDetails?.password||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm",children:O.accountDetails?.profile||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm font-mono",children:O.accountDetails?.pin||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z.button,{onClick:()=>a(O),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-blue-500/80 hover:bg-blue-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Editar cuenta","aria-label":`Editar cuenta para el pedido ${O.id}`,children:i.jsx(q5,{size:16})}),A&&i.jsx(Z.button,{onClick:()=>o(O.id),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-green-500/80 hover:bg-green-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Activar pedido","aria-label":`Activar pedido ${O.id}`,children:i.jsx(Eu,{size:16})}),se&&i.jsxs(i.Fragment,{children:[i.jsx(Z.a,{href:`https://wa.me/${se}?text=${te}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente","aria-label":`Contactar cliente para el pedido ${O.id}`,children:i.jsx(zr,{size:16})}),!R&&!S&&!C&&i.jsx(Z.a,{href:`https://wa.me/${se}?text=${re}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-amber-500/80 hover:bg-amber-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Notificar cliente sobre estado o vencimiento","aria-label":`Notificar cliente para el pedido ${O.id}`,children:i.jsx(x0,{size:16})})]}),i.jsx(Z.button,{onClick:()=>u(O.id),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-red-500/80 hover:bg-red-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Eliminar pedido","aria-label":`Eliminar pedido ${O.id}`,children:i.jsx(lb,{size:16})})]})})]},O.id)})})]})})}):i.jsxs(Z.div,{className:"text-center py-16",variants:y,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(oi,{className:`mx-auto text-6xl ${g?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos encontrados"}),i.jsx("p",{className:`text-sm ${g?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o realiza tu primer pedido."})]})})]})};KA.propTypes={orders:G.arrayOf(G.shape({id:G.string.isRequired,productName:G.string,category:G.string,provider:G.string,amount:G.oneOfType([G.string,G.number]),status:G.string,startDate:G.oneOfType([G.string,G.instanceOf(Date)]),endDate:G.oneOfType([G.string,G.instanceOf(Date)]),daysRemaining:G.number,timeElapsedPercentage:G.number,accountDetails:G.shape({email:G.string,password:G.string,profile:G.string,pin:G.string}),buyer:G.string,buyerPhone:G.string,durationDays:G.number,soporteMessage:G.string})).isRequired,searchQuery:G.string.isRequired,setSearchQuery:G.func.isRequired,getCategoryDisplayName:G.func.isRequired,formatDate:G.func.isRequired,handleEditOrder:G.func.isRequired,handleActivateOrder:G.func.isRequired,handleDeleteOrder:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const iJ=({accountDetails:t,handleAccountChange:e,handleUpdateAccount:r,theme:n="dark"})=>{const s=n==="dark",a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},o={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${s?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:a,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Q5,{className:"inline mr-2",size:32}),"Configuración"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${s?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:o,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${s?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ob,{size:20}),"Información de Cuenta"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"} mb-2`,children:"Correo electrónico"}),i.jsx("input",{type:"email",value:t.email,disabled:!0,className:`w-full px-4 py-2 rounded-xl border ${s?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-200/50 text-gray-600 border-gray-300/50"} cursor-not-allowed focus:ring-0`})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"} mb-2 flex items-center gap-2`,children:[i.jsx(Ip,{size:16}),"Nueva contraseña (opcional)"]}),i.jsx("input",{type:"password",name:"password",value:t.password,onChange:e,className:`w-full px-4 py-2 rounded-xl border ${s?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Dejar en blanco para no cambiar"})]})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${s?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:o,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${s?"text-purple-400":"text-purple-600"}`,children:[i.jsx(ib,{size:20}),"Preferencias"]}),i.jsx("textarea",{name:"preferences",value:t.preferences,onChange:e,rows:"6",className:`w-full px-4 py-2 rounded-xl border resize-none ${s?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Especifica tus preferencias o notas"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(Z.button,{onClick:r,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-pink-500/50 ${s?"from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700":"from-pink-600 to-purple-800 hover:from-pink-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Guardar Cambios"})})]})},XA=({orders:t=[],setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:s,getCategoryDisplayName:a,formatDate:o,theme:u="dark"})=>{const[d,h]=_.useState({}),[p,g]=_.useState({key:null,direction:"asc"}),y=u==="dark",v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},k={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:y?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},w=B=>{const A={netflix:{bg:y?"bg-red-900/30":"bg-red-100",text:y?"text-red-300":"text-red-800"},disney:{bg:y?"bg-blue-900/30":"bg-blue-100",text:y?"text-blue-300":"text-blue-800"},max:{bg:y?"bg-yellow-900/30":"bg-yellow-100",text:y?"text-yellow-300":"text-yellow-800"},spotify:{bg:y?"bg-green-900/30":"bg-green-100",text:y?"text-green-300":"text-green-800"},default:{bg:y?"bg-gray-900/30":"bg-gray-100",text:y?"text-gray-300":"text-gray-700"}};return A[B?.toLowerCase()]||A.default},T=_.useMemo(()=>{let A=[...t.filter(S=>S.status==="soporte")].filter(S=>(S.productName||"").toLowerCase().includes(n.toLowerCase())||(S.customerName||S.buyerName||"").toLowerCase().includes(n.toLowerCase()));return p.key&&A.sort((S,C)=>{let R=S[p.key]||"",F=C[p.key]||"";return p.key==="soporteMessage"?(R=S.soporteMessage||"",F=C.soporteMessage||""):p.key==="category"&&(R=a(S.category),F=a(C.category)),typeof R=="string"&&(R=R.toLowerCase()),typeof F=="string"&&(F=F.toLowerCase()),R<F?p.direction==="asc"?-1:1:R>F?p.direction==="asc"?1:-1:0}),A},[t,n,p,a]),D=B=>{g(A=>({key:B,direction:A.key===B&&A.direction==="asc"?"desc":"asc"}))},I=B=>p.key!==B?null:p.direction==="asc"?i.jsx(Im,{className:"ml-1"}):i.jsx(jm,{className:"ml-1"}),U=()=>{const B=T.map(R=>{const F=R.customerName||R.buyerName||"N/A";return{Producto:R.productName||"Sin nombre",Categoría:a(R.category),Comprador:F,Teléfono:R.buyerPhone||"N/A",Email:R.accountDetails?.email||"N/A","Mensaje de Soporte":R.soporteMessage||"Sin mensaje","Fecha de Inicio":R.startDate?o(R.startDate):"N/A","Fecha de Vencimiento":R.endDate?o(R.endDate):"N/A"}}),A=ca.json_to_sheet(B),S=ca.book_new();ca.book_append_sheet(S,A,"Pedidos en Soporte");const C=new Date().toISOString().slice(0,10).replace(/-/g,"");Bm(S,`pedidos_soporte_export_${C}.xlsx`)},O=async B=>{h(A=>({...A,[`reject_${B}`]:!0}));try{await ui(ht(je,"sales",B),{status:"rechazado"},{merge:!0}),e(A=>A.map(S=>S.id===B?{...S,status:"rechazado"}:S)),r&&await r(),alert("Pedido rechazado exitosamente.")}catch(A){console.error("Error rejecting support:",A),alert("Error al rechazar el soporte.")}finally{h(A=>({...A,[`reject_${B}`]:!1}))}},X=async B=>{h(A=>({...A,[`solve_${B}`]:!0}));try{await ui(ht(je,"sales",B),{status:"active"},{merge:!0}),e(A=>A.map(S=>S.id===B?{...S,status:"active"}:S)),r&&await r(),alert("Soporte solucionado y pedido activado exitosamente.")}catch(A){console.error("Error solving support:",A),alert("Error al solucionar el soporte.")}finally{h(A=>({...A,[`solve_${B}`]:!1}))}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${y?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"support-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"support-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${y?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(Di,{className:"mr-2"})," Pedidos en Soporte",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${y?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:T.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar en soporte...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${y?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:B=>s(B.target.value),"aria-label":"Buscar en soporte"}),i.jsx(oi,{className:`absolute left-3 top-3.5 ${y?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(Z.button,{onClick:U,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${y?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos en soporte como Excel","aria-label":"Exportar pedidos en soporte a Excel",children:[i.jsx(Pm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx(Vt,{children:T.length>0?i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${y?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${y?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:null,label:"Comprador"},{key:null,label:"Teléfono"},{key:null,label:"Email"},{key:"soporteMessage",label:"Mensaje de Soporte"},{key:"startDate",label:"Fecha de Inicio"},{key:"endDate",label:"Fecha de Vencimiento"},{label:"Acciones"}].map(({key:B,label:A})=>i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${y?"text-gray-300":"text-gray-700"} ${B?"cursor-pointer hover:text-blue-400 transition-colors":""}`,onClick:()=>B&&D(B),children:i.jsxs("div",{className:"flex items-center justify-between",children:[A,B&&I(B)]})},B||A))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:T.map(B=>{const A=B.buyerPhone?B.buyerPhone.replace(/^\+/,"").replace(/\D/g,""):null,S=B.customerName||B.buyerName||"N/A",C=encodeURIComponent(`Hola ${S}! 👋

📋 *Soporte para tu pedido de ${B.productName||"Sin nombre"}*:

Estamos revisando tu consulta. Por favor, describe el problema o pregunta para ayudarte mejor.

Detalles del pedido:
✉️ *Usuario*: ${B.accountDetails?.email||"N/A"}
🗓 *Inicio*: ${B.startDate?o(B.startDate):"N/A"}
🗓 *Vencimiento*: ${B.endDate?o(B.endDate):"N/A"}

¡Gracias por tu paciencia! 😊`),R=w(B.category);return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${y?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:k,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${B.id}-title`,children:[i.jsx("td",{className:"px-4 py-4",children:i.jsx("h4",{id:`order-${B.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:B.productName||"Sin nombre"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.bg} ${R.text}`,children:a(B.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:S}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:B.buyerPhone||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:B.accountDetails?.email||"N/A",children:B.accountDetails?.email||"N/A"}),i.jsxs("td",{className:"px-4 py-4 max-w-xs",children:[i.jsx("p",{className:"text-sm break-words line-clamp-3 bg-gray-100/30 dark:bg-gray-800/30 p-2 rounded",title:B.soporteMessage||"Sin mensaje",children:B.soporteMessage||"Sin mensaje"}),B.soporteCreatedAt&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o(B.soporteCreatedAt)})]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:B.startDate?o(B.startDate):"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:B.endDate?o(B.endDate):"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex gap-2",children:[A&&i.jsx(Z.a,{href:`https://wa.me/${A}?text=${C}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Comunicarse con el usuario","aria-label":`Comunicarse con el usuario para el pedido ${B.productName}`,children:i.jsx(zr,{size:16})}),i.jsx(Z.button,{onClick:()=>O(B.id),disabled:d[`reject_${B.id}`],className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${d[`reject_${B.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":"bg-red-500/80 hover:bg-red-600/90 text-white"} transition-all duration-200`,whileHover:d[`reject_${B.id}`]?{}:{scale:1.1},whileTap:d[`reject_${B.id}`]?{}:{scale:.9},title:"Rechazar soporte","aria-label":"Rechazar soporte",children:d[`reject_${B.id}`]?i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):i.jsx(vz,{size:16})}),i.jsx(Z.button,{onClick:()=>X(B.id),disabled:d[`solve_${B.id}`],className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${d[`solve_${B.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-200`,whileHover:d[`solve_${B.id}`]?{}:{scale:1.1},whileTap:d[`solve_${B.id}`]?{}:{scale:.9},title:"Solucionar soporte","aria-label":"Solucionar soporte",children:d[`solve_${B.id}`]?i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):i.jsx(Eu,{size:16})})]})})]},B.id)})})]})})}):i.jsxs(Z.div,{className:"text-center py-16",variants:v,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(Di,{className:`mx-auto text-6xl ${y?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${y?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos en soporte"}),i.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"}`,children:"Los pedidos en soporte aparecerán aquí"})]})})]})};XA.propTypes={orders:G.array.isRequired,setOrders:G.func,fetchOrders:G.func,searchQuery:G.string,setSearchQuery:G.func,getCategoryDisplayName:G.func.isRequired,formatDate:G.func.isRequired,theme:G.oneOf(["light","dark"])};const oJ=({editModalOpen:t,setEditModalOpen:e,selectedProduct:r,setSelectedProduct:n,editError:s,setEditError:a,handleFileChange:o,handleEditStockChange:u,handleEditAccountFieldChange:d,handleUpdateProduct:h,theme:p="dark"})=>{const g=p==="dark",y={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},v={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},k={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},w=T=>{const{name:D,value:I,type:U,checked:O}=T.target;n(X=>({...X,[D]:U==="checkbox"?O:I,...D==="status"&&{stock:I==="Agotado"?0:X.stock||1,accounts:I==="En stock"?X.accounts.length?X.accounts:Array(X.stock||1).fill({email:"",password:"",profile:"",pin:""}):[]}}))};return t?i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl w-full max-w-6xl border max-h-[90vh] overflow-y-auto ${g?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${g?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Rp,{className:"inline mr-2",size:32}),"Editar Producto"]}),i.jsx(Z.button,{onClick:()=>e(!1),className:`${g?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(qs,{size:20})})]}),i.jsx(Vt,{children:s&&i.jsx(Z.div,{className:`mb-8 p-4 border rounded-2xl ${g?"bg-red-900/30 border-red-700/50 text-red-300":"bg-red-100/30 border-red-300/50 text-red-700"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:s})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",variants:v,initial:"hidden",animate:"visible",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-blue-400":"text-blue-600"}`,children:[i.jsx(G5,{size:20}),"Imagen del producto"]}),i.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${g?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:r.image?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:r.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),i.jsx(Z.button,{type:"button",onClick:()=>n({...r,image:""}),className:`absolute top-0 right-0 ${g?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(qs,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Rp,{className:`mx-auto h-12 w-12 ${g?"text-gray-400":"text-gray-500"}`}),i.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:i.jsxs("label",{htmlFor:"edit-file-upload",className:`relative cursor-pointer rounded-xl font-medium ${g?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[i.jsx("span",{children:"Subir una imagen"}),i.jsx("input",{id:"edit-file-upload",name:"edit-file-upload",type:"file",className:"sr-only",onChange:T=>o(T,!0),accept:"image/*"})]})}),i.jsx("p",{className:`text-xs ${g?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-purple-400":"text-purple-600"}`,children:[i.jsx(J5,{size:20}),"Información Básica"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Nombre del producto*"}),i.jsx("input",{type:"text",name:"name",value:r.name,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Categoría*"}),i.jsxs("select",{name:"category",value:r.category,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Netflix",children:"Netflix"}),i.jsx("option",{value:"Spotify",children:"Spotify"}),i.jsx("option",{value:"Disney",children:"Disney+"}),i.jsx("option",{value:"Max",children:"Max"}),i.jsx("option",{value:"Prime Video",children:"Prime Video"}),i.jsx("option",{value:"Vix",children:"Vix"}),i.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),i.jsx("option",{value:"Canva",children:"Canva"}),i.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),i.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),i.jsx("option",{value:"Dgo",children:"DGO"}),i.jsx("option",{value:"Liga Max",children:"Liga Max"}),i.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),i.jsx("option",{value:"Youtube",children:"YouTube"}),i.jsx("option",{value:"Deezer",children:"Deezer"}),i.jsx("option",{value:"Tidal",children:"Tidal"}),i.jsx("option",{value:"Vpn",children:"VPN"}),i.jsx("option",{value:"WinTv",children:"WinTV"}),i.jsx("option",{value:"Apple Music",children:"CinePlanet"}),i.jsx("option",{value:"Apple Tv",children:"Apple TV"}),i.jsx("option",{value:"Iptv",children:"IPTV"}),i.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),i.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),i.jsx("option",{value:"Pornhub",children:"Pornhub"}),i.jsx("option",{value:"Paramount",children:"Paramount"}),i.jsx("option",{value:"Licencias",children:"Licencias"}),i.jsx("option",{value:"Capcut",children:"Capcut"}),i.jsx("option",{value:"Duolingo",children:"Duolingo"}),i.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Tipo de cuenta*"}),i.jsxs("select",{name:"accountType",value:r.accountType,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Premium",children:"Premium"}),i.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Estado*"}),i.jsxs("select",{name:"status",value:r.status,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"En stock",children:"En stock"}),i.jsx("option",{value:"A pedido",children:"A pedido"}),i.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Stock*"}),i.jsx("input",{type:"number",name:"stock",value:r.status==="Agotado"?0:r.stock,onChange:u,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all ${r.status==="Agotado"?"opacity-50 cursor-not-allowed":""} placeholder-gray-500`,min:"0",required:!0,disabled:r.status==="Agotado"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio (S/)*"}),i.jsx("input",{type:"number",name:"price",value:r.price,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"renewal",checked:r.renewal,onChange:w,className:`h-4 w-4 rounded ${g?"text-purple-400 focus:ring-purple-400 border-gray-600/50":"text-purple-600 focus:ring-purple-600 border-gray-300/50"}`}),i.jsx("label",{className:`ml-2 text-sm ${g?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),r.renewal&&i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio de renovación (S/)*"}),i.jsx("input",{type:"number",name:"renewalPrice",value:r.renewalPrice,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8",variants:v,initial:"hidden",animate:"visible",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-green-400":"text-green-600"}`,children:[i.jsx(ec,{size:20}),"Duración y Contacto"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Duración (días)"}),i.jsx("input",{type:"number",name:"duration",value:r.duration,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:["Teléfono de contacto ",r.status==="A pedido"?"*":""]}),i.jsx("input",{type:"text",name:"providerPhone",value:r.providerPhone,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:r.status==="A pedido"})]})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(K5,{size:20}),"Enlaces y Descripciones"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"URL del producto (opcional)"}),i.jsx("input",{type:"url",name:"productUrl",value:r.productUrl||"",onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Detalles del producto"}),i.jsx("textarea",{name:"details",value:r.details,onChange:w,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Términos y condiciones"}),i.jsx("textarea",{name:"terms",value:r.terms,onChange:w,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]})]})]}),r.status==="En stock"&&i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-pink-400":"text-pink-600"}`,children:[i.jsx(ku,{size:20}),"Cuentas Asociadas"]}),i.jsx("p",{className:`text-sm mb-4 ${g?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),i.jsx(Vt,{children:i.jsx("div",{className:"space-y-4",children:r.accounts.map((T,D)=>i.jsxs(Z.div,{className:`border rounded-xl p-4 ${g?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:D*.1},children:[i.jsxs("h4",{className:`text-sm font-medium ${g?"text-white":"text-gray-900"} mb-3 flex items-center gap-2`,children:["Cuenta ",D+1]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),i.jsx("input",{type:"email",value:T.email,onChange:I=>d(D,"email",I.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),i.jsx("input",{type:"text",value:T.password,onChange:I=>d(D,"password",I.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),i.jsx("input",{type:"text",value:T.profile,onChange:I=>d(D,"profile",I.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),i.jsx("input",{type:"text",value:T.pin,onChange:I=>d(D,"pin",I.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},D))})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[i.jsx(Z.button,{onClick:()=>e(!1),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${g?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),i.jsx(Z.button,{onClick:h,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${g?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Actualizar Producto"})]})]})}):null},lJ=({editOrderModalOpen:t,setEditOrderModalOpen:e,selectedOrder:r,handleOrderAccountChange:n,editOrderError:s,setEditOrderError:a,handleUpdateOrder:o,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return t?i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl w-full max-w-md border max-h-[90vh] overflow-y-auto ${d?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Ip,{className:"inline mr-2",size:32}),"Editar Detalles de Cuenta"]}),i.jsx(Z.button,{onClick:()=>e(!1),className:`${d?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(qs,{size:20})})]}),i.jsx(Vt,{children:s&&i.jsx(Z.div,{className:`mb-8 p-4 border rounded-2xl ${d?"bg-red-900/30 border-red-700/50 text-red-300":"bg-red-100/30 border-red-300/50 text-red-700"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:s})}),i.jsx(Z.div,{className:`border rounded-2xl p-6 shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"} space-y-4`,variants:p,initial:"hidden",animate:"visible",children:i.jsxs(Z.div,{className:"space-y-4",variants:g,whileHover:"hover",children:[i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(ob,{size:16}),"Correo electrónico*"]}),i.jsx("input",{type:"email",name:"email",value:r.accountDetails.email,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: usuario@ejemplo.com",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(Ip,{size:16}),"Contraseña*"]}),i.jsx("input",{type:"text",name:"password",value:r.accountDetails.password,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: contraseña123",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(Ns,{size:16}),"Perfil (opcional)"]}),i.jsx("input",{type:"text",name:"profile",value:r.accountDetails.profile,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: Perfil 1"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(pz,{size:16}),"PIN (opcional)"]}),i.jsx("input",{type:"text",name:"pin",value:r.accountDetails.pin,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: 1234"})]})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[i.jsx(Z.button,{onClick:()=>e(!1),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${d?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),i.jsx(Z.button,{onClick:o,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${d?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Guardar Cambios"})]})]})}):null},cJ=({users:t,providerBalance:e,handleRecharge:r,theme:n,userSearch:s,setUserSearch:a})=>{const o=n==="dark",u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},[h,p]=_.useState({}),g=(v,k)=>{p(w=>({...w,[v]:k}))},y=v=>{const k=parseFloat(h[v]);k&&k>0&&k<=e&&(r(v,k),p(w=>({...w,[v]:""})))};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${o?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[i.jsx(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${o?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Gestión de Recargas"}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative group",children:[i.jsx(oi,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${o?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,size:18}),i.jsx("input",{type:"text",placeholder:"Buscar usuarios por nombre o email...",value:s,onChange:v=>a(v.target.value),className:`w-full pl-10 pr-4 py-2.5 ${o?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${o?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${o?"text-green-400":"text-green-600"}`,children:[i.jsx(zs,{size:20}),"Tu Saldo Disponible"]}),i.jsxs("p",{className:`text-4xl font-bold ${o?"text-white":"text-gray-900"}`,children:["S/ ",e.toFixed(2)]}),i.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"} mt-2`,children:"Usa para recargar saldos de usuarios"})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${o?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${o?"text-blue-400":"text-blue-600"}`,children:[i.jsx(Ns,{size:20}),"Total Usuarios"]}),i.jsx("p",{className:`text-4xl font-bold ${o?"text-white":"text-gray-900"}`,children:t.length}),i.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"} mt-2`,children:'Usuarios con rol "Usuario"'})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${o?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${o?"text-purple-400":"text-purple-600"}`,children:[i.jsx(zs,{size:20}),"Saldo Total Distribuido"]}),i.jsxs("p",{className:`text-4xl font-bold ${o?"text-white":"text-gray-900"}`,children:["S/ ",t.reduce((v,k)=>v+(k.balance||0),0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"} mt-2`,children:"Suma de saldos de usuarios"})]})]}),i.jsxs(Z.div,{className:`bg-${o?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${o?"border-gray-700/50":"border-gray-300"}`,variants:u,whileHover:"hover",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${o?"text-white":"text-gray-900"}`,children:["Lista de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Usuarios"})," ","(",t.length,")"]})}),t.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${o?"bg-gray-800/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${o?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Vl,{})," Usuario"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${o?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(yu,{})," Email"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${o?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(zs,{})," Saldo"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${o?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),i.jsx("tbody",{className:`${o?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:t.map(v=>i.jsxs("tr",{className:`hover:bg-${o?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${o?"text-white":"text-gray-900"}`,children:v.username||"Sin nombre"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${o?"text-gray-300":"text-gray-600"}`,children:v.email}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${o?"text-white":"text-gray-900"}`,children:["S/ ",(v.balance||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap flex space-x-2",children:i.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[i.jsx("input",{type:"number",placeholder:"Monto",value:h[v.id]||"",onChange:k=>g(v.id,k.target.value),className:`w-20 px-2 py-1 rounded ${o?"bg-gray-700/50 border-gray-500/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} text-sm focus:outline-none focus:ring-2 focus:ring-blue-400`,min:"0",step:"0.01",max:e}),i.jsx(Z.button,{onClick:()=>y(v.id),className:`px-3 py-1 text-white rounded text-xs transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${o?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!h[v.id]||parseFloat(h[v.id])<=0||parseFloat(h[v.id])>e,children:"Recargar"})]})})]},v.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(_u,{className:`mx-auto text-4xl ${o?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${o?"text-gray-300":"text-gray-600"}`,children:"No hay usuarios disponibles"})]})]})]})},uJ=Ia.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>i.jsx(Vt,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(Bn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));uJ.propTypes={show:G.bool.isRequired,onClose:G.func.isRequired,title:G.string.isRequired,message:G.string.isRequired,theme:G.string.isRequired};const YA=()=>{const[t,e]=_.useState(!1),[r,n]=_.useState("inicio"),[s,a]=_.useState("Usuario"),[o,u]=_.useState(""),[d,h]=_.useState(""),[p,g]=_.useState([]),[y,v]=_.useState([]),[k,w]=_.useState([]),[T,D]=_.useState([]),[I,U]=_.useState(!0),[O,X]=_.useState(""),[B,A]=_.useState({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:Array(1).fill({email:"",password:"",profile:"",pin:""})}),[S,C]=_.useState(null),[R,F]=_.useState(!1),[W,M]=_.useState(""),[Se,Ie]=_.useState(""),[$e,Le]=_.useState(""),[_e,ie]=_.useState({isOpen:!1,message:"",title:""}),[de,se]=_.useState({email:"",password:"",preferences:"",balance:0}),[V,te]=_.useState(!1),[re,ne]=_.useState(!0),[ee,Oe]=_.useState(0),[Be,Ae]=_.useState(!1),[Fe,it]=_.useState(null),[yt,Wt]=_.useState(""),[De,fr]=_.useState("dark"),[Mt,Pe]=_.useState(!1),[pr,$t]=_.useState(!1),[Gt,le]=_.useState([]),Ye=Ma(),ct=bv(),ut=_.useCallback(ve=>{const Ne=new Date(ve);return Ne.setUTCHours(23,59,59,999),Ne},[]),At=_.useCallback(()=>{fr(ve=>ve==="dark"?"light":"dark")},[]),wt=_.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),st=_.useCallback((ve,Ne)=>{ie({isOpen:!0,title:ve,message:Ne})},[]),gt=_.useCallback(()=>{ie({isOpen:!1,message:"",title:""})},[]),ir=_.useCallback(ve=>{if(!ve)return"No especificada";try{const Ne=ve instanceof Date?ve:ve?.toDate?.()||new Date(ve);return isNaN(Ne.getTime())?"Fecha inválida":Ne.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Ne){return console.error("Error formatting date:",Ne),"Fecha inválida"}},[]),Q=_.useCallback(ve=>({netflix:"Netflix",spotify:"Spotify",disney:"Disney",max:"Max",primevideo:"Prime Video",vix:"Vix",crunchyroll:"Crunchyroll",canva:"Canva",chatgpt:"ChatGPT",redessociales:"Redes Sociales",dgo:"Dgo",ligamax:"Liga Max",movistarplay:"Movistar Play",youtube:"Youtube",deezer:"Deezer",tidal:"Tidal",vpn:"Vpn",wintv:"WinTv",applemusic:"Apple Music",appletv:"Apple TV",iptv:"Iptv",flujotv:"Flujo Tv",vikirakuten:"Viki Rakuten",pornhub:"Pornhub",paramount:"Paramount",licencias:"Licencias",capcut:"Capcut",duolingo:"Duolingo",buscapersonas:"BuscaPersonas"})[ve?.toLowerCase()]||"Otro",[]);_.useEffect(()=>{const ve=Kl(ct,Ne=>{Ne?(u(Ne.email||""),h(Ne.uid),Te(Ne.uid)):Ye("/login")});return()=>ve()},[ct,Ye]);const Te=async ve=>{try{const Ne=ht(je,"users",ve),P=await ei(Ne);if(P.exists()){const z=P.data();a(z.username||"Usuario"),se({email:z.email||"",password:"",preferences:z.preferences||"",balance:z.balance||0})}U(!1)}catch(Ne){X("Error al cargar datos del usuario"),console.error("Error fetching user data:",Ne),U(!1)}};_.useEffect(()=>{if(!d)return;const ve=ht(je,"users",d);return hr(ve,P=>{if(P.exists()){const z=P.data();se(H=>({...H,email:z.email||H.email,preferences:z.preferences||H.preferences,balance:z.balance||0})),a(z.username||prev.username)}},P=>{console.error("Error listening to user data:",P)})},[d]),_.useEffect(()=>{o&&(async Ne=>{try{const P=await ei(ht(je,"admins",Ne));te(P.exists())}catch(P){console.error("Error checking admin status:",P)}})(o)},[o]),_.useEffect(()=>{const ve=hr(ht(je,"notifications","adminMessage"),Ne=>{if(Ne.exists()){const P=Ne.data(),z=V?"admin":"provider";P.roles&&P.roles.includes(z)?le([{id:Ne.id,...P,timestamp:P.updatedAt?.toDate()}]):le([])}else le([])},Ne=>{console.error("Error in notifications listener:",Ne),X("Error al cargar notificaciones: "+Ne.message)});return()=>ve()},[V]),_.useEffect(()=>{const ve=tr(kt(je,"users"),br("role","==","user")),Ne=hr(ve,P=>{const z=P.docs.map(H=>({id:H.id,...H.data()}));D(z)},P=>{console.error("Error fetching users:",P),X("Error al cargar usuarios")});return()=>Ne()},[]),_.useEffect(()=>{if(!s)return;const ve=tr(kt(je,"products"),br("provider","==",s)),Ne=hr(ve,P=>{const z=P.docs.map(H=>({id:H.id,...H.data()}));v(z)},P=>{console.error("Error fetching products:",P),X("Error al cargar productos")});return()=>Ne()},[s]),_.useEffect(()=>{if(!d)return;const ve=tr(kt(je,"sales"),br("providerId","==",d)),Ne=hr(ve,async z=>{if(z.empty){g([]),ne(!1);return}const H=new Date,K=7200*60*1e3;for(const ue of z.docs){let he=ue.data().endDate,ge=he instanceof Nr?he.toDate():typeof he=="string"?new Date(he):new Date(he);const xe=ut(ge);if(xe<H&&H.getTime()-xe.getTime()>K)try{await Ci(ht(je,"sales",ue.id)),console.log(`Deleted expired order: ${ue.id}`)}catch(Ue){console.error(`Error deleting order ${ue.id}:`,Ue)}}const J=z.docs.map(ue=>{const me=ue.data(),ge=me.saleDate?.toDate?.()||me.createdAt?.toDate?.()||new Date;let xe=me.startDate?.toDate?.(),Ue=xe||ge,Je=!xe;const lt=Number(me.durationDays)||30;let Ke;me.endDate?Ke=typeof me.endDate=="string"?new Date(me.endDate):me.endDate.toDate?.()||new Date(me.endDate):(Ke=new Date(Ue.getTime()+lt*24*60*60*1e3),Je=!0),Je&&Yr(ht(je,"sales",ue.id),{startDate:xe||Nr.fromDate(ge),endDate:Nr.fromDate(ut(Ke)),durationDays:lt}).catch(Vr=>{console.error("Error al actualizar startDate/endDate en Firestore:",Vr)});const We=ut(Ke),Pt=We.getTime()-Ue.getTime(),nr=H.getTime()-Ue.getTime(),Jt=We.getTime()-H.getTime(),sr=Math.max(1,Math.ceil(Pt/(1e3*60*60*24))),js=Math.max(0,Math.ceil(Jt/(1e3*60*60*24))),Ks=Math.ceil(nr/(1e3*60*60*24)),ns=sr>0?Math.min(100,Ks/sr*100):100;return{id:ue.id,...me,productName:me.productName||"Producto sin nombre",category:me.type||"netflix",amount:parseFloat(me.price)||0,buyer:me.buyerName||me.customerName||"Comprador desconocido",buyerPhone:me.buyerPhone||"No especificado",buyerEmail:me.customerEmail||"No especificado",status:me.status||"completed",saleDate:ge,startDate:Ue,endDate:Ke,durationDays:lt,daysRemaining:js,totalDays:sr,timeElapsedPercentage:ns,accountDetails:me.accountDetails||{email:"No disponible",password:"No disponible",profile:"N/A",pin:""},balance:parseFloat(me.price)||0}}).filter(ue=>{const me=ut(ue.endDate);return!(me<H&&H.getTime()-me.getTime()>K)});g(J);const Y=J.filter(ue=>ue.status==="completed"&&ue.accountDetails).map(ue=>({...ue.accountDetails,productName:ue.productName,saleDate:ue.saleDate,orderId:ue.id}));w(Y),ne(!1)},z=>{console.error("Error fetching sales:",z),X("Error al cargar ventas"),ne(!1)}),P=setInterval(()=>{g(z=>z.map(H=>{const K=new Date,J=ut(H.endDate),Y=J.getTime()-new Date(H.startDate).getTime(),ue=K.getTime()-new Date(H.startDate).getTime(),me=J.getTime()-K.getTime(),he=Math.max(1,Math.ceil(Y/(1e3*60*60*24))),ge=Math.max(0,Math.ceil(me/(1e3*60*60*24))),xe=Math.ceil(ue/(1e3*60*60*24)),Ue=he>0?Math.min(100,xe/he*100):100;return{...H,daysRemaining:ge,totalDays:he,timeElapsedPercentage:Ue}}).filter(H=>{const K=ut(H.endDate),J=new Date,Y=7200*60*1e3;return!(K<J&&J.getTime()-K.getTime()>Y)}))},6e4);return()=>{Ne(),clearInterval(P)}},[d,ut]),_.useEffect(()=>{if(!s)return;const ve=ht(je,"providerBalances",s),Ne=hr(ve,P=>{P.exists()?Oe(P.data().balance||0):(ui(ve,{balance:0,provider:s,updatedAt:wr()}),Oe(0)),ne(!1)},P=>{console.error("Error fetching provider balance:",P),X("Error al cargar el saldo del proveedor"),ne(!1)});return()=>Ne()},[s]);const ft=_.useCallback(async(ve,Ne)=>{if(!Ne||Ne<=0){st("Error","El monto debe ser mayor a 0");return}if(Ne>de.balance){st("Error","Saldo insuficiente en tu cuenta");return}try{await Sy(je,async P=>{const z=ht(je,"users",d),H=ht(je,"users",ve),K=await P.get(z),J=await P.get(H);if(!K.exists())throw new Error("Cuenta no encontrada");if(!J.exists())throw new Error("Usuario destino no encontrado");const Y=(K.data().balance||0)-Ne,ue=(J.data().balance||0)+Ne;if(Y<0)throw new Error("Saldo insuficiente");P.update(z,{balance:Y,updatedAt:wr()}),P.update(H,{balance:ue,updatedAt:wr()})}),se(P=>({...P,balance:P.balance-Ne})),D(P=>P.map(z=>z.id===ve?{...z,balance:(z.balance||0)+Ne}:z)),st("Éxito",`Transferencia de S/ ${Ne.toFixed(2)} exitosa`)}catch(P){console.error("Error en recarga:",P),st("Error",P.message||"Error al procesar la recarga")}},[de.balance,d,st]),be=_.useCallback(async()=>{try{await z0(ct),Ye("/login")}catch(ve){console.error("Error al cerrar sesión:",ve),st("Error",ve.message||"Error al cerrar sesión")}},[Ye,st]),ke=_.useCallback(ve=>{const{name:Ne,value:P,type:z,checked:H}=ve.target;A(K=>({...K,[Ne]:z==="checkbox"?H:P}))},[]),Me=_.useCallback(ve=>{const{name:Ne,value:P}=ve.target;se(z=>({...z,[Ne]:P}))},[]),Ze=_.useCallback((ve,Ne=!1)=>{const P=ve.target.files[0];if(P){if(P.size>10485760){Ne?M("La imagen no debe exceder los 10MB"):X("La imagen no debe exceder los 10MB");return}const H=new FileReader;H.onloadend=()=>{Ne?C(K=>({...K,image:H.result})):A(K=>({...K,image:H.result}))},H.readAsDataURL(P)}},[]),vt=_.useCallback(ve=>{const Ne=parseInt(ve.target.value)||1,P=B.accounts||[];if(Ne>P.length){const z=[...P];for(;z.length<Ne;)z.push({email:"",password:"",profile:"",pin:""});A({...B,stock:Ne,accounts:z})}else if(Ne<P.length){const z=P.slice(0,Math.max(Ne,1));A({...B,stock:Ne,accounts:z})}else A({...B,stock:Ne})},[B]),Nt=_.useCallback(ve=>{const Ne=parseInt(ve.target.value)||1;let z=[...S.accounts||[]];if(Ne>z.length)for(;z.length<Ne;)z.push({email:"",password:"",profile:"",pin:""});else Ne<z.length&&(z=z.slice(0,Math.max(Ne,1)));C({...S,stock:Ne,accounts:z})},[S]),at=_.useCallback((ve,Ne,P)=>{const z=[...B.accounts];z[ve]={...z[ve],[Ne]:P},A({...B,accounts:z})},[B]),ot=_.useCallback((ve,Ne,P)=>{C(z=>({...z,accounts:z.accounts.map((H,K)=>K===ve?{...H,[Ne]:P}:H)}))},[]),et=_.useCallback(ve=>{const{name:Ne,value:P}=ve.target;it(z=>({...z,accountDetails:{...z.accountDetails,[Ne]:P}}))},[]),Tt=_.useCallback(async()=>{if(X(""),!B.name||!B.price){st("Error","Por favor complete todos los campos obligatorios");return}if(B.renewal&&!B.renewalPrice){st("Error","Por favor ingrese el precio de renovación");return}if(B.status==="En stock"&&B.accounts.some(Ne=>!Ne.email||!Ne.password)){st("Error","Por favor complete todos los campos de las cuentas");return}try{const ve={...B,provider:s,providerId:d,providerPhone:B.status==="En stock"?B.providerPhone||"":B.providerPhone||"No especificado",createdAt:wr(),availableAccounts:B.status==="En stock"?B.accounts.length:0},Ne=await Do(kt(je,"products"),ve);if(B.status==="En stock"){const P=kt(je,`products/${Ne.id}/accounts`);for(const z of B.accounts)await Do(P,{email:z.email,password:z.password,profile:z.profile||"",pin:z.pin||"",status:"available"})}A({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:[{email:"",password:"",profile:"",pin:""}]}),n("inventario"),st("Éxito","Producto subido exitosamente!")}catch(ve){console.error("Error al subir el producto:",ve),st("Error",`Error al subir el producto: ${ve.message}`)}},[B,s,d,st]),Bt=_.useCallback(async ve=>{M("");try{const Ne=tr(kt(je,"sales"),br("providerId","==",d),br("productName","==",ve.name)),z=(await rn(Ne)).docs.filter(Y=>Y.data().status==="completed"&&Y.data().accountDetails?.email).map(Y=>Y.data().accountDetails.email),H=kt(je,`products/${ve.id}/accounts`),J=(await rn(H)).docs.filter(Y=>Y.data().status==="available").map(Y=>({email:Y.data().email||"",password:Y.data().password||"",profile:Y.data().profile||"",pin:Y.data().pin||""}));C({id:ve.id,name:ve.name||"",image:ve.image||"",category:ve.category||"Netflix",accountType:ve.accountType||"Premium",status:ve.status||"En stock",stock:J.length||ve.stock||1,price:ve.price||"",renewal:ve.renewal||!1,renewalPrice:ve.renewalPrice||"",duration:ve.duration||"",providerPhone:ve.providerPhone||"",details:ve.details||"",terms:ve.terms||"",providerId:ve.providerId||d,accounts:ve.status==="En stock"?J.length>0?J:Array(Math.max(ve.stock||1,1)).fill({email:"",password:"",profile:"",pin:""}):[]}),F(!0)}catch(Ne){console.error("Error al preparar edición del producto:",Ne),M("Error al preparar edición del producto")}},[d]),Kt=_.useCallback(async()=>{if(M(""),!S.name||!S.price){M("Por favor complete todos los campos obligatorios");return}if(S.renewal&&!S.renewalPrice){M("Por favor ingrese el precio de renovación");return}if(S.status==="En stock"&&S.accounts.some(Ne=>!Ne.email||!Ne.password)){M("Por favor complete todos los campos de las cuentas");return}try{const ve=ht(je,"products",S.id);if(await ui(ve,{...S,providerId:S.providerId||d,availableAccounts:S.status==="En stock"&&S.accounts?.length||0},{merge:!0}),S.status==="En stock"){const Ne=kt(je,`products/${S.id}/accounts`),P=await rn(Ne);for(const z of P.docs)await Ci(z.ref);for(const z of S.accounts)await Do(Ne,{email:z.email,password:z.password,profile:z.profile||"",pin:z.pin||"",status:"available"})}F(!1),st("Éxito","Producto actualizado exitosamente!")}catch(ve){console.error("Error al actualizar el producto:",ve),M(`Error al actualizar el producto: ${ve.message}`)}},[S,d,st]),Ir=_.useCallback(ve=>{it(ve),Ae(!0)},[]),$r=_.useCallback(async()=>{if(Fe)try{const ve=ht(je,"sales",Fe.id);await Yr(ve,{...Fe,updatedAt:wr()}),Ae(!1),st("Éxito","Pedido actualizado exitosamente!")}catch(ve){console.error("Error al actualizar el pedido:",ve),Wt(`Error al actualizar el pedido: ${ve.message}`)}},[Fe,st]),dn=_.useCallback(async ve=>{try{const Ne=ht(je,"sales",ve);await Yr(Ne,{status:"completed"}),st("Éxito","Pedido activado exitosamente!")}catch(Ne){console.error("Error al activar el pedido:",Ne),st("Error",`Error al activar el pedido: ${Ne.message}`)}},[st]),cr=_.useCallback(async ve=>{try{await Ci(ht(je,"sales",ve)),st("Éxito","Pedido eliminado exitosamente!")}catch(Ne){console.error("Error al eliminar el pedido:",Ne),st("Error",`Error al eliminar el pedido: ${Ne.message}`)}},[st]),Wn=_.useCallback(async ve=>{ve.preventDefault();try{const Ne={updatedAt:wr()};de.email&&(Ne.email=de.email),de.preferences&&(Ne.preferences=de.preferences),await Yr(ht(je,"users",d),Ne),st("Éxito","Cuenta actualizada exitosamente!")}catch(Ne){console.error("Error al actualizar la cuenta:",Ne),st("Error",`Error al actualizar la cuenta: ${Ne.message}`)}},[de,d,st]),ur=_.useCallback(async ve=>{try{await Ci(ht(je,"products",ve)),st("Éxito","Producto eliminado exitosamente!")}catch(Ne){console.error("Error al eliminar el producto:",Ne),st("Error",`Error al eliminar el producto: ${Ne.message}`)}},[st]),hn=_.useMemo(()=>y.reduce((ve,Ne)=>ve+(Ne.availableAccounts||0),0),[y]),Tr=_.useMemo(()=>p.reduce((ve,Ne)=>ve+(Ne.balance||0),0),[p]),yn=_.useCallback(()=>{if(I)return i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(O)return i.jsxs("div",{className:`bg-${De==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${De==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx($l,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${De==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${De==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:O}),i.jsx("button",{onClick:()=>X(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]});const ve=T.filter(Ne=>Ne.username?.toLowerCase().includes($e.toLowerCase())||Ne.email?.toLowerCase().includes($e.toLowerCase()));return i.jsx("div",{className:`bg-${De==="dark"?"black/50":"white"}
    backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md 
    w-full xl:max-w-full border ${De==="dark"?"border-gray-700/50":"border-gray-300"} overflow-x-auto`,children:(()=>{switch(r){case"inicio":return i.jsx(qA,{username:s,products:y,orders:p,providerBalance:ee,balanceLoading:re,totalStock:hn,totalEarnings:Tr,isAdmin:V,email:o,setActiveSection:n,formatDate:ir,notifications:Gt,theme:De});case"inventario":return i.jsx(GA,{products:y,setActiveSection:n,handleEdit:Bt,handleDelete:ur,getCategoryDisplayName:Q,totalStock:hn,theme:De});case"cuentas":return i.jsx(nJ,{soldAccounts:k,formatDate:ir});case"subirProducto":return i.jsx(sJ,{product:B,setProduct:A,handleChange:ke,handleFileChange:Ze,handleStockChange:vt,handleAccountFieldChange:at,handleSubmit:Tt,setActiveSection:n});case"ganancias":return i.jsx(aJ,{orders:p,totalEarnings:Tr,providerBalance:ee,balanceLoading:re,getCategoryDisplayName:Q,formatDate:ir});case"pedidos":return i.jsx(KA,{orders:p,searchQuery:Se,setSearchQuery:Ie,getCategoryDisplayName:Q,formatDate:ir,handleEditOrder:Ir,handleActivateOrder:dn,handleDeleteOrder:cr,theme:De});case"recargas":return i.jsx(cJ,{users:ve,providerBalance:de.balance||0,handleRecharge:ft,formatDate:ir,theme:De,userSearch:$e,setUserSearch:Le});case"configuracion":return i.jsx(iJ,{accountDetails:de,handleAccountChange:Me,handleUpdateAccount:Wn});case"soporte":return i.jsx(XA,{orders:p,setOrders:g,searchQuery:Se,setSearchQuery:Ie,getCategoryDisplayName:Q,formatDate:ir,theme:De,username:s,email:o,showModal:st});default:return i.jsxs("div",{className:`bg-${De==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${De==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx($l,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${De==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),i.jsx("p",{className:`text-base ${De==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()})},[I,O,De,r,s,y,p,ee,re,hn,Tr,V,o,n,ir,Bt,ur,Q,k,B,A,ke,Ze,vt,at,Tt,Se,Ie,Ir,dn,cr,de,Me,Wn,st,Gt,T,$e,ft]);return _.useEffect(()=>{const ve=()=>{Pe(window.scrollY>300)};return window.addEventListener("scroll",ve),()=>window.removeEventListener("scroll",ve)},[]),i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${De==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${De==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(15)].map((ve,Ne)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ne))})]}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${De==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>{Ye("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:i.jsx(Bn,{className:"text-lg"})})]}),i.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${De==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${De==="dark"?"text-white":"text-gray-900"}`,children:s}),i.jsx("p",{className:`text-xs ${De==="dark"?"text-gray-400":"text-gray-600"}`,children:V?"Admin":"Proveedor"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:rb},{id:"inventario",label:"Inventario",icon:YU},{id:"cuentas",label:"Cuentas Vendidas",icon:bu},{id:"pedidos",label:"Pedidos",icon:bu},{id:"recargas",label:"Recargas",icon:ii},{id:"ganancias",label:"Ganancias",icon:ii},{id:"subirProducto",label:"Subir Producto",icon:iz},{id:"soporte",label:"Soporte",icon:sz},{id:"configuracion",label:"Configuración",icon:jp}].map(ve=>i.jsxs("button",{onClick:()=>{n(ve.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===ve.id?"bg-blue-100 text-blue-600 border border-blue-300":De==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===ve.id?"page":void 0,children:[i.jsx(ve.icon,{className:"text-lg"}),i.jsx("span",{children:ve.label})]},ve.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:()=>{be(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${De==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[i.jsx(wu,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsxs("header",{className:`${De==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Z.img,{src:tc,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${De==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:Se,onChange:ve=>Ie(ve.target.value),className:`w-full py-2.5 px-5 ${De==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:ve=>ve.key==="Enter"&&n("pedidos")}),i.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${De==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:i.jsx(vu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[i.jsx("button",{onClick:At,className:`p-2 rounded-full ${De==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${De==="dark"?"light":"dark"} theme`,children:De==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})}),i.jsxs("button",{onClick:()=>$t(!0),className:`p-2 rounded-full relative ${De==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${Gt.length} new)`,children:[i.jsx(Ml,{size:20}),Gt.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:Gt.length})]}),i.jsx("button",{className:`lg:hidden p-2 rounded-full ${De==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:i.jsx(Cm,{size:20,className:De==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:i.jsx("div",{className:"relative",children:i.jsxs("button",{className:`flex items-center space-x-2 ${De==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:s.charAt(0).toUpperCase()}),i.jsx("span",{className:`text-sm font-semibold ${De==="dark"?"text-gray-200":"text-gray-800"}`,children:s})]})})})]})]}),i.jsx(Vt,{children:pr&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>$t(!1),role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${De==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${De==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:ve=>ve.stopPropagation(),children:[i.jsx("button",{onClick:()=>$t(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:i.jsx(Bn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${De==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),Gt.length>0?Gt.map(ve=>i.jsxs("div",{className:`p-4 mb-2 rounded-md ${De==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${De==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[i.jsx("h3",{className:`font-semibold ${De==="dark"?"text-gray-200":"text-gray-800"}`,children:ve.title||"Nueva Notificación"}),i.jsx("p",{className:`text-sm ${De==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:ve.message}),ve.roles&&ve.roles.length>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",ve.roles.join(", ")]}),ve.timestamp&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ir(ve.timestamp)})]},ve.id)):i.jsx("p",{className:`text-center ${De==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),i.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:yn()}),i.jsxs("footer",{className:`${De==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${De==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),i.jsxs("p",{className:`text-base sm:text-lg ${De==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[i.jsx("a",{href:"https://twitter.com",className:`${De==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:i.jsx(Ql,{size:28})}),i.jsx("a",{href:"https://instagram.com",className:`${De==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:i.jsx(Yl,{size:28})}),i.jsx("a",{href:"https://facebook.com",className:`${De==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:i.jsx(Xl,{size:28})})]}),i.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[i.jsx("a",{href:"#",className:`text-sm ${De==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),i.jsx("a",{href:"#",className:`text-sm ${De==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),i.jsx("a",{href:"#",className:`text-sm ${De==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),i.jsxs("p",{className:`text-sm ${De==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),i.jsx(Vt,{children:Mt&&i.jsx(Z.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:wt,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:i.jsx(Am,{size:20})})}),i.jsx(rJ,{isOpen:_e.isOpen,title:_e.title,message:_e.message,onClose:gt}),i.jsx(oJ,{editModalOpen:R,setEditModalOpen:F,selectedProduct:S,setSelectedProduct:C,editError:W,setEditError:M,handleFileChange:Ze,handleEditStockChange:Nt,handleEditAccountFieldChange:ot,handleUpdateProduct:Kt}),i.jsx(lJ,{editOrderModalOpen:Be,setEditOrderModalOpen:Ae,selectedOrder:Fe,handleOrderAccountChange:et,editOrderError:yt,setEditOrderError:Wt,handleUpdateOrder:$r}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};YA.propTypes={};const dJ=()=>{const[t,e]=_.useState(""),[r,n]=_.useState(""),[s,a]=_.useState(0),[o,u]=_.useState([]),[d,h]=_.useState([]),[p,g]=_.useState([]),[y,v]=_.useState([]),[k,w]=_.useState([]),[T,D]=_.useState(0),[I,U]=_.useState({day:0,week:0,month:0,total:0}),[O,X]=_.useState(!0),[B,A]=_.useState(null),[S,C]=_.useState("dark"),R=Ma();_.useEffect(()=>{const M=Kl(tn,Se=>{Se?(n(Se.email||"No especificado"),F(Se.uid),X(!1)):R("/login")});return()=>M()},[R]);const F=async M=>{try{const Se=ht(je,"users",M),Ie=await ei(Se);if(Ie.exists()){const $e=Ie.data();e($e.username||$e.email.split("@")[0])}else A("Usuario no encontrado en la base de datos")}catch(Se){console.error("Error al obtener el nombre de usuario:",Se),A("Error al cargar datos del usuario")}},W=M=>{const Ie=M*5,$e=Ie*.25,Le=Ie*.05;U({day:Le,week:$e,month:Ie,total:Ie})};return _.useEffect(()=>{(async()=>{try{const ie=await rn(kt(je,"users")),de=ie.size,se=ie.docs.map(it=>({id:it.id,...it.data()}));a(de),u(se.slice(-5)),W(de);const V=tr(kt(je,"pendingRegistrations"),br("status","==","pending")),te=await rn(V);h(te.docs.map(it=>({id:it.id,...it.data()})));const re=tr(kt(je,"pendingTopUps"),br("status","==","pendiente")),ne=await rn(re);g(ne.docs.map(it=>({id:it.id,...it.data()})));const ee=tr(kt(je,"withdrawals"),br("status","==","pending")),Oe=await rn(ee);v(Oe.docs.map(it=>({id:it.id,...it.data()})));const Ae=(await rn(kt(je,"sales"))).docs.map(it=>({id:it.id,...it.data()}));w(Ae);const Fe=Ae.reduce((it,yt)=>it+(parseFloat(yt.price)||0),0);D(Fe)}catch(ie){console.error("Error al obtener datos:",ie),A("Error al cargar datos")}})();const Se=hr(kt(je,"users"),ie=>{const de=ie.size,se=ie.docs.map(V=>({id:V.id,...V.data()}));a(de),u(se.slice(-5)),W(de)}),Ie=hr(tr(kt(je,"pendingRegistrations"),br("status","==","pending")),ie=>{h(ie.docs.map(de=>({id:de.id,...de.data()})))}),$e=hr(tr(kt(je,"pendingTopUps"),br("status","==","pendiente")),ie=>{g(ie.docs.map(de=>({id:de.id,...de.data()})))}),Le=hr(tr(kt(je,"withdrawals"),br("status","==","pending")),ie=>{v(ie.docs.map(de=>({id:de.id,...de.data()})))}),_e=hr(kt(je,"sales"),ie=>{const de=ie.docs.map(V=>({id:V.id,...V.data()}));w(de);const se=de.reduce((V,te)=>V+(parseFloat(te.price)||0),0);D(se)});return()=>{Se(),Ie(),$e(),Le(),_e()}},[]),O?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):B?i.jsxs("div",{className:`bg-${S==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${S==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx($l,{className:"mx-auto text-4xl text-blue-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${S==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${S==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:B}),i.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):i.jsxs("div",{className:`bg-${S==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${S==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h2",{className:`text-2xl sm:text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Bienvenido a BlackStreaming,"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:t})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[i.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[i.jsx(_u,{className:"mr-2"})," Total Usuarios"]}),i.jsx("p",{className:`text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"}`,children:s}),i.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>R("/usuarios"),children:"Ver usuarios"})]}),i.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[i.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[i.jsx(bu,{className:"mr-2"})," Total Ventas"]}),i.jsxs("p",{className:`text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",T.toFixed(2)]}),i.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>R("/pedidos"),children:"Ver ventas"})]}),i.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[i.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[i.jsx(ii,{className:"mr-2"})," Ganancias del Mes"]}),i.jsxs("p",{className:`text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",I.month.toFixed(2)]}),i.jsx("p",{className:`text-sm ${S==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:"(5 soles por usuario)"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[i.jsx("h3",{className:`text-lg font-semibold ${S==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Últimos Usuarios"}),o.length>0?o.map(M=>i.jsxs("div",{className:`border-b ${S==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${S==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:`font-medium ${S==="dark"?"text-white":"text-gray-900"}`,children:M.username||"Sin nombre"}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${S==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:M.role||"usuario"})]}),i.jsx("p",{className:`text-sm ${S==="dark"?"text-gray-400":"text-gray-600"}`,children:M.email})]},M.id)):i.jsx("p",{className:`text-${S==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay usuarios registrados"})]}),i.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[i.jsx("h3",{className:`text-lg font-semibold ${S==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Solicitudes Pendientes"}),d.length>0?d.slice(0,3).map(M=>i.jsxs("div",{className:`border-b ${S==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${S==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:`font-medium ${S==="dark"?"text-white":"text-gray-900"}`,children:M.username||"Sin nombre"}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${S==="dark"?"bg-purple-900/80 text-purple-400":"bg-purple-100/80 text-purple-600"}`,children:M.role||"usuario"})]}),i.jsx("p",{className:`text-sm ${S==="dark"?"text-gray-400":"text-gray-600"}`,children:M.email})]},M.id)):i.jsx("p",{className:`text-${S==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay solicitudes pendientes"})]}),i.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[i.jsx("h3",{className:`text-lg font-semibold ${S==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Retiros Pendientes"}),y.length>0?y.slice(0,3).map(M=>i.jsxs("div",{className:`border-b ${S==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${S==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:`font-medium ${S==="dark"?"text-white":"text-gray-900"}`,children:M.provider||"Sin proveedor"}),i.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${S==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600"}`,children:["S/ ",(M.amount||0).toFixed(2)]})]}),i.jsxs("p",{className:`text-sm ${S==="dark"?"text-gray-400":"text-gray-600"}`,children:["Método: ",M.method||"No especificado"]})]},M.id)):i.jsx("p",{className:`text-${S==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay retiros pendientes"})]})]})]})},hJ=({notificationForm:t={message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}},setNotificationForm:e=()=>{},theme:r="dark"})=>{const[n,s]=_.useState(""),[a,o]=_.useState(""),[u,d]=_.useState(!1),h=t.roles||{user:!1,affiliate:!1,provider:!1,admin:!1},p=Object.values(h).some(y=>y),g=_.useCallback(async y=>{if(y.preventDefault(),!p){s("Selecciona al menos un rol para enviar la notificación");return}if(!t.message.trim()){s("El mensaje de la notificación no puede estar vacío");return}s(""),o(""),d(!0);try{await Do(kt(je,"notifications"),{message:t.message.trim(),roles:{user:h.user,affiliate:h.affiliate,provider:h.provider,admin:h.admin},createdAt:wr()}),e({message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}}),o("Notificación enviada exitosamente")}catch(v){s("Error al enviar la notificación. Por favor, intenta de nuevo."),console.error("Error sending notification:",v)}finally{d(!1)}},[t,h,e]);return i.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Enviar Notificación -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsxs(Vt,{children:[n&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:n}),a&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:a})]}),i.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Mensaje de la Notificación"}),i.jsx("textarea",{value:t.message||"",onChange:y=>e({...t,message:y.target.value}),className:`w-full px-4 py-2 rounded-xl ${r==="dark"?"bg-gray-800/50 text-gray-200 border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-800 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all resize-y`,rows:"5",placeholder:"Escribe el mensaje para los usuarios...",required:!0,"aria-label":"Mensaje de la notificación"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Enviar a los siguientes roles"}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:["user","affiliate","provider","admin"].map(y=>i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:h[y]||!1,onChange:v=>e({...t,roles:{...h,[y]:v.target.checked}}),className:`h-4 w-4 ${r==="dark"?"text-blue-400 focus:ring-blue-400 border-gray-600":"text-blue-600 focus:ring-blue-600 border-gray-300"} rounded`,"aria-label":`Enviar a rol ${y}`}),i.jsx("span",{className:`text-sm capitalize ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:y})]},y))})]}),i.jsx(Z.button,{type:"submit",disabled:u||!p,className:`w-full py-3 px-4 ${u||!p?r==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Enviar notificación",whileHover:{scale:u||!p?1:1.05},whileTap:{scale:u||!p?1:.95},children:u?i.jsx(Z.div,{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}):"Enviar Notificación"}),!p&&i.jsx("p",{className:`text-sm text-center ${r==="dark"?"text-blue-400":"text-blue-600"}`,children:"Selecciona al menos un rol para enviar la notificación"})]})]})},QA=[{value:"user",label:"Usuario"},{value:"affiliate",label:"Afiliador"},{value:"provider",label:"Proveedor"},{value:"admin",label:"Administrador"}],fJ=t=>{const e=QA.find(r=>r.value===t);return e?e.label:t},JA=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:a})=>{const[o,u]=_.useState(e?.balance||0),[d,h]=_.useState("");_.useEffect(()=>{u(e?.balance||0),h("")},[e]);const p=g=>{if(g.preventDefault(),h(""),isNaN(o)||o<0){h("Por favor, ingrese un saldo válido (número no negativo).");return}n(e.id,parseFloat(o))};return!t||!e?null:i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${a==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${a==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${a==="dark"?"text-white":"text-gray-900"}`,children:["Editar Saldo de ",e.username]}),i.jsx("button",{onClick:r,className:`${a==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),i.jsxs("form",{onSubmit:p,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block text-sm font-medium ${a==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Saldo (S/)"}),i.jsx("input",{type:"number",value:o,onChange:g=>u(g.target.value),className:`w-full px-4 py-2 rounded-xl ${a==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,min:"0",step:"0.01",required:!0,"aria-label":"Nuevo saldo"}),d&&i.jsx("p",{className:`text-sm mt-2 ${a==="dark"?"text-blue-400":"text-blue-600"}`,children:d})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${a==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?a==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar saldo",children:s?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};JA.propTypes={isOpen:G.bool.isRequired,user:G.object,onClose:G.func.isRequired,onSave:G.func.isRequired,loading:G.bool,theme:G.oneOf(["dark","light"])};const ZA=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:a})=>{const[o,u]=_.useState(e?.role||"user");return _.useEffect(()=>{u(e?.role||"user")},[e]),!t||!e?null:i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${a==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${a==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${a==="dark"?"text-white":"text-gray-900"}`,children:["Cambiar Rol de ",e.username]}),i.jsx("button",{onClick:r,className:`${a==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),i.jsxs("form",{onSubmit:d=>{d.preventDefault(),n(e.id,o)},children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block text-sm font-medium ${a==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Rol"}),i.jsx("select",{value:o,onChange:d=>u(d.target.value),className:`w-full px-4 py-2 rounded-xl ${a==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,"aria-label":"Seleccionar nuevo rol",children:QA.map(d=>i.jsx("option",{value:d.value,children:d.label},d.value))})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${a==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?a==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar rol",children:s?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};ZA.propTypes={isOpen:G.bool.isRequired,user:G.object,onClose:G.func.isRequired,onSave:G.func.isRequired,loading:G.bool,theme:G.oneOf(["dark","light"])};const eC=({theme:t="dark"})=>{const[e,r]=_.useState([]),[n,s]=_.useState(""),[a,o]=_.useState({isOpen:!1,user:null}),[u,d]=_.useState({isOpen:!1,user:null}),[h,p]=_.useState(!0),[g,y]=_.useState({}),[v,k]=_.useState(null);_.useEffect(()=>{(async()=>{p(!0);try{const S=await rn(kt(je,"users")),C=await Promise.all(S.docs.map(async R=>{const F={id:R.id,...R.data()},W=tr(kt(je,"sales"),br("userId","==",R.id)),M=await rn(W);return{...F,orderCount:M.size}}));r(C)}catch(S){k("No se pudieron obtener los usuarios: "+S.message)}p(!1)})()},[]);const w=A=>o({isOpen:!0,user:A}),T=()=>o({isOpen:!1,user:null}),D=A=>d({isOpen:!0,user:A}),I=()=>d({isOpen:!1,user:null}),U=async(A,S)=>{y(C=>({...C,[`balance_${A}`]:!0}));try{const C=ht(je,"users",A);await Yr(C,{balance:S}),r(R=>R.map(F=>F.id===A?{...F,balance:S}:F)),T()}catch(C){k("Error al actualizar saldo: "+C.message)}y(C=>({...C,[`balance_${A}`]:!1}))},O=async(A,S)=>{y(C=>({...C,[`role_${A}`]:!0}));try{const C=ht(je,"users",A);await Yr(C,{role:S}),r(R=>R.map(F=>F.id===A?{...F,role:S}:F)),I()}catch(C){k("Error al actualizar rol: "+C.message)}y(C=>({...C,[`role_${A}`]:!1}))},X=async(A,S)=>{y(C=>({...C,[`status_${A}`]:!0}));try{const C=ht(je,"users",A),R=S==="suspended"?"active":"suspended";await Yr(C,{status:R}),r(F=>F.map(W=>W.id===A?{...W,status:R}:W))}catch(C){k("Error al cambiar estado: "+C.message)}y(C=>({...C,[`status_${A}`]:!1}))},B=async A=>{y(S=>({...S,[`delete_${A}`]:!0}));try{const S=ht(je,"users",A);await Ci(S),r(C=>C.filter(R=>R.id!==A))}catch(S){k("Error al eliminar usuario: "+S.message)}y(S=>({...S,[`delete_${A}`]:!1}))};return i.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:`bg-${t==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${t==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${t==="dark"?"text-white":"text-gray-900"}`,children:["Lista de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Usuarios"})," ","(",e.length,")"]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:`px-4 py-2 rounded-xl ${t==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400 placeholder-gray-500":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600 placeholder-gray-400"} focus:ring-2 transition-all text-sm`,value:n,onChange:A=>s(A.target.value),"aria-label":"Buscar usuarios"}),i.jsx(vu,{className:`absolute right-3 top-2.5 ${t==="dark"?"text-blue-400":"text-blue-600"}`})]})]}),h?i.jsx("div",{className:"flex justify-center items-center h-40",children:i.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 ${t==="dark"?"border-blue-500":"border-blue-600"}`})}):v?i.jsx("div",{className:`text-center py-4 ${t==="dark"?"text-blue-400":"text-blue-600"}`,children:v}):e.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${t==="dark"?"bg-gray-800/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Vl,{})," Usuario"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(yu,{})," Email"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(_u,{})," Rol"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(ii,{})," Saldo"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Órdenes"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),i.jsx("tbody",{className:`${t==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:e.filter(A=>(A.username||"").toLowerCase().includes(n.toLowerCase())||(A.email||"").toLowerCase().includes(n.toLowerCase())).map(A=>i.jsxs("tr",{className:`${A.status==="suspended"?t==="dark"?"bg-red-900/20":"bg-red-100/50":""} hover:bg-${t==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:A.username||"Sin nombre"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:A.email}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:fJ(A.role)}),i.jsx("button",{onClick:()=>D(A),disabled:g[`role_${A.id}`],className:`ml-2 p-1 ${t==="dark"?"bg-blue-700 hover:bg-blue-800 text-blue-200 disabled:bg-blue-900":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Rol","aria-label":`Editar rol de ${A.username}`,children:i.jsx(sT,{size:14})})]}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(A.balance||0).toFixed(2)]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:A.orderCount||0}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap flex space-x-2",children:[i.jsx("button",{onClick:()=>w(A),disabled:g[`balance_${A.id}`],className:`p-2 ${t==="dark"?"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-800":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Saldo","aria-label":`Editar saldo de ${A.username}`,children:i.jsx(sT,{size:16})}),i.jsx("button",{onClick:()=>X(A.id,A.status),disabled:g[`status_${A.id}`],className:`p-2 ${A.status==="suspended"?t==="dark"?"bg-green-600 hover:bg-green-700 text-white disabled:bg-green-800":"bg-green-500 hover:bg-green-600 text-white disabled:bg-green-300":t==="dark"?"bg-yellow-600 hover:bg-yellow-700 text-white disabled:bg-yellow-800":"bg-yellow-500 hover:bg-yellow-600 text-white disabled:bg-yellow-300"} rounded-xl transition-all duration-300`,title:A.status==="suspended"?"Activar Cuenta":"Suspender Cuenta","aria-label":A.status==="suspended"?`Activar cuenta de ${A.username}`:`Suspender cuenta de ${A.username}`,children:A.status==="suspended"?i.jsx(JU,{size:16}):i.jsx(XU,{size:16})}),i.jsx("button",{onClick:()=>B(A.id),disabled:g[`delete_${A.id}`],className:`p-2 ${t==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Cuenta","aria-label":`Eliminar cuenta de ${A.username}`,children:i.jsx(sb,{size:16})})]})]},A.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(_u,{className:`mx-auto text-4xl ${t==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${t==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay usuarios registrados"})]})]}),i.jsx(JA,{isOpen:a.isOpen,user:a.user,onClose:T,onSave:U,loading:g[`balance_${a.user?.id}`],theme:t}),i.jsx(ZA,{isOpen:u.isOpen,user:u.user,onClose:I,onSave:O,loading:g[`role_${u.user?.id}`],theme:t})]})};eC.propTypes={theme:G.oneOf(["dark","light"])};const tC=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Bn,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null;tC.propTypes={isOpen:G.bool.isRequired,message:G.string.isRequired,title:G.string.isRequired,onClose:G.func.isRequired};const rC=({formatDate:t=r=>{if(!r)return"No especificada";try{const n=r.toDate?r.toDate():new Date(r);return isNaN(n.getTime())?"Fecha inválida":n.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},theme:e="dark"})=>{const[r,n]=_.useState([]),[s,a]=_.useState([]),[o,u]=_.useState({}),[d,h]=_.useState({isOpen:!1,message:"",title:""}),p=(k,w)=>{h({isOpen:!0,title:k,message:w})},g=()=>{h({isOpen:!1,message:"",title:""})};_.useEffect(()=>{const k=hr(tr(kt(je,"pendingTopUps"),br("status","==","pendiente")),T=>{n(T.docs.map(D=>({id:D.id,...D.data()})))}),w=hr(kt(je,"topUpsHistory"),T=>{a(T.docs.map(D=>({id:D.id,...D.data()})))});return()=>{k(),w()}},[]);const y=async k=>{try{u(I=>({...I,[k]:!0}));const w=ht(je,"pendingTopUps",k),T=r.find(I=>I.id===k);if(!T?.userId)throw new Error("Usuario no encontrado para la recarga");await Yr(w,{status:"aprobado",updatedAt:wr()});const D=ht(je,"users",T.userId);await Yr(D,{balance:rO(T.amount||0)}),await ui(ht(je,"topUpsHistory",k),{...T,status:"aprobado",updatedAt:wr()}),p("Éxito","Recarga aprobada exitosamente")}catch(w){console.error("Error al aprobar recarga:",w),p("Error",w.message||"Error al aprobar la recarga")}finally{u(w=>({...w,[k]:!1}))}},v=async k=>{try{u(D=>({...D,[k]:!0}));const w=ht(je,"pendingTopUps",k);await Yr(w,{status:"rechazado",updatedAt:wr()});const T=r.find(D=>D.id===k);await ui(ht(je,"topUpsHistory",k),{...T,status:"rechazado",updatedAt:wr()}),p("Éxito","Recarga rechazada exitosamente")}catch(w){console.error("Error al rechazar recarga:",w),p("Error",w.message||"Error al rechazar la recarga")}finally{u(w=>({...w,[k]:!1}))}};return i.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Recargas"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pendientes - BlackStreaming"})]}),Array.isArray(r)&&r.length>0?i.jsx("div",{className:"space-y-4",children:r.map(k=>i.jsxs("div",{className:`border ${e==="dark"?"border-gray-600/50":"border-gray-300"} rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300`,children:[i.jsxs("div",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm px-4 py-3 border-b ${e==="dark"?"border-gray-600/50":"border-gray-300"} flex justify-between items-center`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-10 h-10 ${e==="dark"?"bg-blue-900/80":"bg-blue-100/80"} rounded-full flex items-center justify-center ${e==="dark"?"text-blue-400":"text-blue-600"}`,children:i.jsx(ii,{size:18})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${e==="dark"?"text-white":"text-gray-900"}`,children:k.username||"Sin nombre"}),i.jsxs("p",{className:`text-xs ${e==="dark"?"text-gray-400":"text-gray-600"}`,children:["Solicitado: ",t(k.requestedAt)]})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:`text-lg font-medium ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(k.amount||0).toFixed(2)]})})]}),i.jsx("div",{className:`p-4 ${e==="dark"?"bg-gray-700/50":"bg-gray-50"} backdrop-blur-sm`,children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("button",{onClick:()=>y(k.id),disabled:o[k.id],className:`flex-1 ${e==="dark"?"bg-green-600 hover:bg-green-700 disabled:bg-green-800":"bg-green-500 hover:bg-green-600 disabled:bg-green-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Aprobar recarga de ${k.username}`,children:o[k.id]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(ZU,{size:18})," Aprobar Recarga"]})}),i.jsx("button",{onClick:()=>v(k.id),disabled:o[k.id],className:`flex-1 ${e==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Rechazar recarga de ${k.username}`,children:o[k.id]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(Bn,{size:18})," Rechazar Recarga"]})})]})})]},k.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ii,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("h4",{className:`text-lg font-medium ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay recargas pendientes"}),i.jsx("p",{className:`${e==="dark"?"text-gray-400":"text-gray-500"}`,children:"Todas las solicitudes han sido procesadas"})]})]}),i.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Recargas - BlackStreaming"})]}),Array.isArray(s)&&s.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),i.jsx("tbody",{className:`${e==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:s.map(k=>i.jsxs("tr",{className:`hover:bg-${e==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:k.username||"Sin nombre"}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(k.amount||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k.status==="aprobado"?e==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":e==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:k.status||"Desconocido"})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:t(k.updatedAt)})]},k.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ii,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay historial de recargas"})]})]}),i.jsx(tC,{isOpen:d.isOpen,title:d.title,message:d.message,onClose:g})]})};rC.propTypes={formatDate:G.func,theme:G.oneOf(["dark","light"])};const pJ=({withdrawals:t,formatDate:e,actionLoading:r,setActionLoading:n,showNotificationModal:s})=>{const a=async(o,u)=>{try{n(h=>({...h,[o]:!0}));const d=ht(je,"withdrawals",o);await Yr(d,{status:u==="approve"?"completed":"rejected",updatedAt:wr()}),s("Éxito",`Retiro ${u==="approve"?"aprobado":"rechazado"} exitosamente`)}catch(d){s("Error",d.message||`Error al ${u==="approve"?"aprobar":"rechazar"} el retiro`)}finally{n(d=>({...d,[o]:!1}))}};return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Retiros ",i.jsx("span",{className:"text-red-400",children:"Pendientes"})]}),t.length===0?i.jsxs("div",{className:"text-center text-gray-300 py-8",children:[i.jsx(zs,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("p",{children:"No hay retiros pendientes"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-gray-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-600/50",children:[i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Usuario"}),i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Monto"}),i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Fecha"}),i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Acciones"})]})}),i.jsx("tbody",{children:t.map(o=>i.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-all duration-300",children:[i.jsx("td",{className:"py-3 px-4",children:o.userEmail||"No especificado"}),i.jsxs("td",{className:"py-3 px-4",children:["S/ ",o.amount?.toFixed(2)||"0.00"]}),i.jsx("td",{className:"py-3 px-4",children:e(o.createdAt)}),i.jsxs("td",{className:"py-3 px-4 flex space-x-2",children:[i.jsxs("button",{onClick:()=>a(o.id,"approve"),disabled:r[o.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[o.id]?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-600"}`,children:[i.jsx(cz,{}),i.jsx("span",{children:"Aprobar"})]}),i.jsxs("button",{onClick:()=>a(o.id,"reject"),disabled:r[o.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[o.id]?"bg-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,children:[i.jsx(qs,{}),i.jsx("span",{children:"Rechazar"})]})]})]},o.id))})]})})]})},nC=({sales:t=[],totalSales:e=0,formatDate:r=a=>"No especificada",getOrderStatus:n=()=>"Desconocido",theme:s="dark"})=>{const[a,o]=_.useState({}),[u,d]=_.useState(null),h=async p=>{o(g=>({...g,[`delete_${p}`]:!0}));try{const g=ht(je,"sales",p);await Ci(g),window.dispatchEvent(new CustomEvent("saleDeleted",{detail:{saleId:p}}))}catch(g){d("Error al eliminar pedido: "+g.message)}o(g=>({...g,[`delete_${p}`]:!1}))};return i.jsxs("div",{className:`bg-${s==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${s==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Ventas"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"General - BlackStreaming"})]}),i.jsxs("div",{className:`${s==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-6 text-center mb-6 border ${s==="dark"?"border-gray-600/50":"border-gray-300"}`,children:[i.jsx("h4",{className:`text-lg font-semibold ${s==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Total Ventas"}),i.jsxs("p",{className:`text-3xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",e.toFixed(2)]}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-600"} mt-2`,children:"Suma de todos los pedidos realizados"})]}),i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${s==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pedidos - BlackStreaming"})]}),u&&i.jsx("div",{className:`text-center py-4 ${s==="dark"?"text-blue-400":"text-blue-600"}`,children:u}),t.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${s==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Nombre del Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Precio"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Proveedor"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario Comprador"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),i.jsx("tbody",{className:`${s==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:t.map(p=>i.jsxs("tr",{className:`hover:bg-${s==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-white":"text-gray-900"}`,children:p.productName||"Sin nombre"}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(p.price||0).toFixed(2)]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:p.provider||"Sin proveedor"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:p.buyerName||"Sin comprador"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:r(p.createdAt)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n(p)==="Pendiente"?s==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600":n(p)==="Activo"?s==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":s==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:n(p)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("button",{onClick:()=>h(p.id),disabled:a[`delete_${p.id}`],className:`p-2 ${s==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Pedido","aria-label":`Eliminar pedido ${p.productName||"sin nombre"}`,children:a[`delete_${p.id}`]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsx(sb,{size:16})})})]},p.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(bu,{className:`mx-auto text-4xl ${s==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${s==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay pedidos registrados"})]})]})};nC.propTypes={sales:G.array,totalSales:G.number,formatDate:G.func,getOrderStatus:G.func,theme:G.oneOf(["dark","light"])};const sC=({earnings:t={day:0,week:0,month:0,total:0},totalUsers:e=0,theme:r="dark"})=>i.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Ganancias -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Pd,{className:"mr-2","aria-hidden":"true"})," Ganancias Diarias"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias diarias",children:["S/ ",(t.day||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por día"})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Pd,{className:"mr-2","aria-hidden":"true"})," Ganancias Semanales"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias semanales",children:["S/ ",(t.week||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por semana"})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Pd,{className:"mr-2","aria-hidden":"true"})," Ganancias Mensuales"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias mensuales",children:["S/ ",(t.month||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por mes"})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Pd,{className:"mr-2","aria-hidden":"true"})," Ganancias Totales"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias totales",children:["S/ ",(t.total||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Total acumulado"})]})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsx("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Resumen"}),i.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"}`,children:["Total de usuarios registrados:"," ",i.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Total de usuarios registrados",children:e})]}),i.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:["Ganancia por usuario:"," ",i.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancia por usuario",children:"S/ 5.00"})]}),i.jsx("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Las ganancias se calculan asumiendo S/ 5.00 por cada usuario registrado. Las estimaciones diarias y semanales son proporciones del total (5% y 25%, respectivamente)."})]})]});sC.propTypes={earnings:G.shape({day:G.number,week:G.number,month:G.number,total:G.number}),totalUsers:G.number,theme:G.oneOf(["dark","light"])};const aC=({userName:t="",setUserName:e=()=>{},email:r="",handleSaveChanges:n=()=>{},handleLogout:s=()=>{},actionLoading:a={},theme:o="dark"})=>i.jsxs("div",{className:`bg-${o==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${o==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${o==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Configuración -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsxs("form",{onSubmit:n,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${o==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[i.jsx(Vl,{className:`mr-2 ${o==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nombre de usuario"]}),i.jsx("input",{type:"text",value:t,onChange:u=>e(u.target.value),className:`w-full px-4 py-2 rounded-xl ${o==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa tu nombre de usuario",required:!0,"aria-label":"Nombre de usuario"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${o==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[i.jsx(yu,{className:`mr-2 ${o==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Correo electrónico"]}),i.jsx("input",{type:"email",value:r,disabled:!0,className:`w-full px-4 py-2 rounded-xl ${o==="dark"?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-100 text-gray-500 border-gray-300"} cursor-not-allowed`,"aria-label":"Correo electrónico (solo lectura)"}),i.jsx("p",{className:`text-sm ${o==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"El correo no puede ser modificado."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${o==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[i.jsx(nb,{className:`mr-2 ${o==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nueva contraseña (opcional)"]}),i.jsx("input",{type:"password",name:"password",className:`w-full px-4 py-2 rounded-xl ${o==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa una nueva contraseña","aria-label":"Nueva contraseña"}),i.jsx("p",{className:`text-sm ${o==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"Mínimo 6 caracteres. Déjalo en blanco para no cambiarla."})]}),i.jsx("button",{type:"submit",disabled:a.config,className:`w-full py-3 px-4 ${o==="dark"?"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-800":"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Guardar cambios",children:a.config?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar Cambios"})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("button",{onClick:s,className:`w-full py-3 px-4 ${o==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white rounded-xl font-medium transition-all duration-300 flex items-center justify-center gap-2`,"aria-label":"Cerrar sesión",children:[i.jsx(wu,{size:18})," Cerrar Sesión"]})})]});aC.propTypes={userName:G.string,setUserName:G.func,email:G.string,handleSaveChanges:G.func,handleLogout:G.func,actionLoading:G.object,theme:G.oneOf(["dark","light"])};const iC=({isOpen:t,message:e,title:r,onClose:n,theme:s="dark"})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${s==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${s==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:[r||"Notificación"," -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:n,className:`${s==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar notificación",children:i.jsx(Bn,{size:20})})]}),i.jsx("p",{className:`mb-6 ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:e||"No se proporcionó ningún mensaje."}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:`px-4 py-2 ${s==="dark"?"bg-blue-500 hover:bg-blue-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Aceptar notificación",children:"Aceptar"})})]})})}):null;iC.propTypes={isOpen:G.bool.isRequired,message:G.string,title:G.string,onClose:G.func.isRequired,theme:G.oneOf(["dark","light"])};const mJ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[s,a]=_.useState(e?.balance||0),[o,u]=_.useState(""),d=h=>{if(h.preventDefault(),u(""),isNaN(s)||s<0){u("Por favor, ingrese un saldo válido (número no negativo).");return}n(e.id,parseFloat(s))};return t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold text-white",children:["Editar Saldo de ",e.username]}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(qs,{size:20})})]}),i.jsxs("form",{onSubmit:d,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Saldo (S/)"}),i.jsx("input",{type:"number",value:s,onChange:h=>a(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"0",step:"0.01",required:!0}),o&&i.jsx("p",{className:"text-red-400 text-sm mt-2",children:o})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},oC=({theme:t,products:e,loadingProducts:r,searchQuery:n,setSearchQuery:s,handleDeleteProduct:a})=>{const o=t==="dark",u=e.filter(d=>d.name?.toLowerCase().includes(n.toLowerCase())||d.category?.toLowerCase().includes(n.toLowerCase()));return r?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-6xl mx-auto border ${o?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[i.jsx("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${o?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Gestión de Productos"}),i.jsx("div",{className:"relative w-full sm:w-64 mt-4 sm:mt-0",children:i.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:d=>s(d.target.value),className:`w-full px-3 py-2 rounded-xl ${o?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 text-sm placeholder-gray-500`,"aria-label":"Search products"})})]}),u.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`backdrop-blur-sm ${o?"bg-gray-900/80":"bg-gray-200/80"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Imagen"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Nombre"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Categoría"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Tipo"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Proveedor"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Stock"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Precio"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),i.jsx("tbody",{className:`divide-y divide-gray-700/50 ${o?"bg-gray-800/70":"bg-gray-100/70"}`,children:u.map((d,h)=>i.jsxs("tr",{className:"hover:bg-blue-500/10 transition-all duration-300",children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:d.image?i.jsx("img",{src:d.image,alt:d.name,className:"h-12 w-12 rounded-lg object-cover",loading:"lazy"}):i.jsx("div",{className:"h-12 w-12 bg-gray-300 rounded-lg flex items-center justify-center",children:i.jsx(Qy,{className:"text-gray-500",size:20})})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${o?"text-white":"text-gray-900"}`,children:d.name||"Sin nombre"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.category||"Sin categoría"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.accountType||"N/A"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.provider||"Sin proveedor"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${d.status==="En stock"?"bg-green-500/20 text-green-400 border-green-500/50":d.status==="A pedido"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"bg-red-500/20 text-red-400 border-red-500/50"} border`,children:d.status||"Desconocido"})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.stock!=null?d.stock:"0"}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-white":"text-gray-900"}`,children:["S/ ",parseFloat(d.price||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.jsx("button",{onClick:()=>a(d.id),className:`p-2 rounded-full ${o?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-red-100 text-red-600 hover:bg-red-200"} transition-all duration-300`,title:"Eliminar producto","aria-label":`Eliminar producto ${d.name}`,children:i.jsx(sb,{size:14})})})]},d.id||h))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Qy,{className:`mx-auto text-4xl ${o?"text-gray-400":"text-gray-500"} mb-3`}),i.jsx("h4",{className:`text-lg font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"No hay productos registrados"}),i.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:"Los productos aparecerán aquí cuando los agregues."})]})]})};oC.propTypes={theme:G.string.isRequired,products:G.array.isRequired,loadingProducts:G.bool.isRequired,searchQuery:G.string.isRequired,setSearchQuery:G.func.isRequired,handleDeleteProduct:G.func.isRequired};const gJ=Ia.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>i.jsx(Vt,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(Bn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));gJ.propTypes={show:G.bool.isRequired,onClose:G.func.isRequired,title:G.string.isRequired,message:G.string.isRequired,theme:G.string.isRequired};const lC=()=>{const[t,e]=_.useState(!1),[r,n]=_.useState("inicio"),[s,a]=_.useState(""),[o,u]=_.useState(""),[d,h]=_.useState([]),[p,g]=_.useState([]),[y,v]=_.useState([]),[k,w]=_.useState([]),[T,D]=_.useState([]),[I,U]=_.useState([]),[O,X]=_.useState(0),[B,A]=_.useState(0),[S,C]=_.useState(0),[R,F]=_.useState(0),[W,M]=_.useState({day:0,week:0,month:0,total:0}),[Se,Ie]=_.useState(!0),[$e,Le]=_.useState(!0),[_e,ie]=_.useState(null),[de,se]=_.useState({}),[V,te]=_.useState({isOpen:!1,message:"",title:""}),[re,ne]=_.useState({isOpen:!1,user:null}),[ee,Oe]=_.useState("dark"),[Be,Ae]=_.useState(!1),[Fe,it]=_.useState(!1),[yt,Wt]=_.useState(""),[De,fr]=_.useState(""),Mt=Ma(),Pe=_.useCallback(()=>{Oe(Q=>Q==="dark"?"light":"dark")},[]),pr=_.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),$t=_.useCallback((Q,Te)=>{te({isOpen:!0,title:Q,message:Te})},[]),Gt=_.useCallback(()=>{te({isOpen:!1,message:"",title:""})},[]),le=_.useCallback(Q=>{ne({isOpen:!0,user:Q})},[]),Ye=_.useCallback(()=>{ne({isOpen:!1,user:null})},[]),ct=_.useCallback(Q=>{if(!Q)return"No especificada";try{const Te=Q instanceof Date?Q:new Date(Q);return isNaN(Te.getTime())?"Fecha inválida":Te.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},[]),ut=_.useCallback(async Q=>{if(window.confirm("¿Estás seguro de que quieres eliminar este producto?"))try{se(Te=>({...Te,deleteProduct:!0})),await Ci(ht(je,"products",Q)),$t("Éxito","Producto eliminado correctamente")}catch(Te){console.error("Error al eliminar producto:",Te),$t("Error",Te.message||"Error al eliminar el producto")}finally{se(Te=>({...Te,deleteProduct:!1}))}},[$t]),At=_.useCallback(async(Q,Te)=>{try{se(be=>({...be,balance:!0}));const ft=ht(je,"users",Q);await Yr(ft,{balance:Te,updatedAt:wr()}),$t("Éxito","Saldo actualizado exitosamente"),Ye()}catch(ft){console.error("Error al actualizar saldo:",ft),$t("Error",ft.message||"Error al actualizar el saldo")}finally{se(ft=>({...ft,balance:!1}))}},[$t,Ye]),wt=_.useCallback(async Q=>{Q.preventDefault();try{se(ke=>({...ke,config:!0}));const Te=Q.target.password.value,ft=ht(je,"users",tn.currentUser.uid),be={username:s,updatedAt:wr()};if(Te){if(Te.length<6){$t("Error","La contraseña debe tener al menos 6 caracteres");return}await xv(tn.currentUser,Te)}await Yr(ft,be),$t("Éxito","Cambios guardados correctamente"),Q.target.reset()}catch(Te){console.error("Error al guardar cambios:",Te),$t("Error",Te.message||"Error al guardar los cambios")}finally{se(Te=>({...Te,config:!1}))}},[s,$t]),st=_.useCallback(async()=>{try{await z0(tn),Mt("/")}catch(Q){console.error("Error al cerrar sesión:",Q),$t("Error",Q.message||"Error al cerrar sesión")}},[Mt,$t]);_.useEffect(()=>{const Q=Kl(tn,Te=>{Te?(u(Te.email||"No especificado"),Ie(!1)):Mt("/login")});return()=>Q()},[Mt]),_.useEffect(()=>{if(!tn.currentUser)return;const Q=ht(je,"users",tn.currentUser.uid),Te=hr(Q,ft=>{if(ft.exists()){const be=ft.data();a(be.username||"Admin")}else ie("Usuario no encontrado")},ft=>{console.error("Error al cargar datos del usuario:",ft),ie("Error al cargar datos del usuario: "+ft.message)});return()=>Te()},[]),_.useEffect(()=>{const Q=kt(je,"users"),Te=kt(je,"sales"),ft=tr(kt(je,"pendingTopUps"),br("status","==","pendiente")),be=tr(kt(je,"withdrawals"),br("status","==","pendiente")),ke=tr(kt(je,"products"),iv("createdAt","desc")),Me=hr(Q,ot=>{const et=ot.docs.map(Tt=>({id:Tt.id,...Tt.data()}));h(et),X(et.length)},ot=>{console.error("Error al cargar usuarios:",ot),ie("Error al cargar usuarios: "+ot.message)}),Ze=hr(Te,ot=>{const et=ot.docs.map(Bt=>({id:Bt.id,...Bt.data()}));g(et);const Tt=et.reduce((Bt,Kt)=>Bt+(parseFloat(Kt.price)||0),0);A(Tt)},ot=>{console.error("Error al cargar ventas:",ot),ie("Error al cargar ventas: "+ot.message)}),vt=hr(ft,ot=>{const et=ot.docs.map(Tt=>({id:Tt.id,...Tt.data(),date:Tt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Tt.data().amount)||0}));v(et),C(et.length)},ot=>{console.error("Error al cargar recargas:",ot),ie("Error al cargar recargas: "+ot.message)}),Nt=hr(be,ot=>{const et=ot.docs.map(Tt=>({id:Tt.id,...Tt.data(),date:Tt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Tt.data().amount)||0}));w(et),F(et.length)},ot=>{console.error("Error al cargar retiros:",ot),ie("Error al cargar retiros: "+ot.message)}),at=hr(ke,ot=>{const et=ot.docs.map(Tt=>({id:Tt.id,...Tt.data(),createdAt:Tt.data().createdAt?.toDate?.()||new Date}));D(et),Le(!1)},ot=>{console.error("Error al cargar productos:",ot),ie("Error al cargar productos: "+ot.message),Le(!1)});return()=>{Me(),Ze(),vt(),Nt(),at()}},[]),_.useEffect(()=>{const Q=hr(ht(je,"notifications","adminMessage"),Te=>{if(Te.exists()){const ft=Te.data();U([{id:Te.id,...ft,timestamp:ft.updatedAt?.toDate()}])}else U([])},Te=>{console.error("Error al cargar notificaciones:",Te),ie("Error al cargar notificaciones: "+Te.message)});return()=>Q()},[]),_.useEffect(()=>{const Q=O*5;M({day:Q*.05,week:Q*.25,month:Q,total:Q})},[O]),_.useEffect(()=>{const Q=()=>{Ae(window.scrollY>300)};return window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)},[]);const gt=_.useCallback(Q=>{const Te=Q.endDate?.toDate?.()||new Date,ft=new Date;return Q.status==="pending"?"Pendiente":Te>ft&&Q.status==="completed"?"Activo":"Expirado"},[]),ir=_.useCallback(()=>Se?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):_e?i.jsxs("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx($l,{className:"mx-auto text-4xl text-blue-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${ee==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:_e}),i.jsx("button",{onClick:()=>ie(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):i.jsx("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(r){case"inicio":return i.jsx(dJ,{totalUsers:O,totalSales:B,pendingTopUps:S,pendingWithdrawals:R});case"notificaciones":return i.jsx(hJ,{notifications:I,formatDate:ct});case"usuarios":return i.jsx(eC,{users:d,openEditBalanceModal:le});case"recargas":return i.jsx(rC,{topUps:y,formatDate:ct,actionLoading:de,setActionLoading:se,showNotificationModal:$t});case"retiros":return i.jsx(pJ,{withdrawals:k,formatDate:ct,actionLoading:de,setActionLoading:se,showNotificationModal:$t});case"pedidos":return i.jsx(nC,{sales:p,totalSales:B,formatDate:ct,getOrderStatus:gt});case"productos":return i.jsx(oC,{theme:ee,products:T,loadingProducts:$e,searchQuery:De,setSearchQuery:fr,handleDeleteProduct:ut});case"ganancias":return i.jsx(sC,{earnings:W,totalUsers:O});case"configuracion":return i.jsx(aC,{userName:s,setUserName:a,email:o,handleSaveChanges:wt,handleLogout:st,actionLoading:de});default:return i.jsxs("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx($l,{className:"mx-auto text-4xl text-blue-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${ee==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),i.jsx("p",{className:`text-base ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()}),[Se,_e,ee,r,O,B,S,R,I,ct,d,le,y,de,$t,k,p,gt,W,s,a,o,wt,st,T,$e,De,ut]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${ee==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${ee==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(15)].map((Q,Te)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Te))})]}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${ee==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>{Mt("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:i.jsx(Bn,{className:"text-lg"})})]}),i.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${ee==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${ee==="dark"?"text-white":"text-gray-900"}`,children:s}),i.jsx("p",{className:`text-xs ${ee==="dark"?"text-gray-400":"text-gray-600"}`,children:"Administrador"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:rb},{id:"notificaciones",label:"Notificaciones",icon:Ml},{id:"usuarios",label:"Usuarios",icon:_u},{id:"recargas",label:"Recargas",icon:ii},{id:"retiros",label:"Retiros",icon:ii},{id:"pedidos",label:"Pedidos",icon:bu},{id:"productos",label:"Productos",icon:Qy},{id:"ganancias",label:"Ganancias",icon:Pd},{id:"configuracion",label:"Configuración",icon:rz}].map(Q=>i.jsxs("button",{onClick:()=>{n(Q.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===Q.id?"bg-blue-100 text-blue-600 border border-blue-300":ee==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===Q.id?"page":void 0,children:[i.jsx(Q.icon,{className:"text-lg"}),i.jsx("span",{children:Q.label})]},Q.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:()=>{st(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${ee==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[i.jsx(wu,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsxs("header",{className:`${ee==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Z.img,{src:tc,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:yt,onChange:Q=>Wt(Q.target.value),className:`w-full py-2.5 px-5 ${ee==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:Q=>Q.key==="Enter"&&n("pedidos")}),i.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${ee==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:i.jsx(vu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[i.jsx("button",{onClick:Pe,className:`p-2 rounded-full ${ee==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${ee==="dark"?"light":"dark"} theme`,children:ee==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})}),i.jsxs("button",{onClick:()=>it(!0),className:`p-2 rounded-full relative ${ee==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${I.length} new)`,children:[i.jsx(Ml,{size:20}),I.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:I.length})]}),i.jsx("button",{className:`lg:hidden p-2 rounded-full ${ee==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:i.jsx(Cm,{size:20,className:ee==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:i.jsx("div",{className:"relative",children:i.jsxs("button",{className:`flex items-center space-x-2 ${ee==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:s.charAt(0).toUpperCase()}),i.jsx("span",{className:`text-sm font-semibold ${ee==="dark"?"text-gray-200":"text-gray-800"}`,children:s})]})})})]})]}),i.jsx(Vt,{children:Fe&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>it(!1),role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${ee==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>it(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:i.jsx(Bn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${ee==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),I.length>0?I.map(Q=>i.jsxs("div",{className:`p-4 mb-2 rounded-md ${ee==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${ee==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[i.jsx("h3",{className:`font-semibold ${ee==="dark"?"text-gray-200":"text-gray-800"}`,children:Q.title||"Nueva Notificación"}),i.jsx("p",{className:`text-sm ${ee==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:Q.message}),Q.roles&&Q.roles.length>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",Q.roles.join(", ")]}),Q.timestamp&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ct(Q.timestamp)})]},Q.id)):i.jsx("p",{className:`text-center ${ee==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),i.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:ir()}),i.jsxs("footer",{className:`${ee==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),i.jsxs("p",{className:`text-base sm:text-lg ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[i.jsx("a",{href:"https://twitter.com",className:`${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:i.jsx(Ql,{size:28})}),i.jsx("a",{href:"https://instagram.com",className:`${ee==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:i.jsx(Yl,{size:28})}),i.jsx("a",{href:"https://facebook.com",className:`${ee==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:i.jsx(Xl,{size:28})})]}),i.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),i.jsxs("p",{className:`text-sm ${ee==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),i.jsx(Vt,{children:Be&&i.jsx(Z.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:pr,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:i.jsx(Am,{size:20})})}),i.jsx(iC,{isOpen:V.isOpen,title:V.title,message:V.message,onClose:Gt}),i.jsx(mJ,{isOpen:re.isOpen,user:re.user,onClose:Ye,onSave:At}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};lC.propTypes={};const cC=_.createContext(),xJ=({children:t})=>{const e=bv(W0),[r,n]=_.useState(null),[s,a]=_.useState(null),[o,u]=_.useState(!0);return _.useEffect(()=>{const d=Kl(e,async h=>{if(h){n(h);try{const p=await ei(ht(je,"users",h.uid));p.exists()?a(p.data().role):a("user")}catch(p){console.error("Error fetching role:",p),a("user")}}else n(null),a(null);u(!1)});return()=>d()},[]),i.jsx(cC.Provider,{value:{user:r,role:s,loading:o},children:!o&&t})},rh=()=>{const t=_.useContext(cC);if(t===void 0)throw new Error("useAuth debe usarse dentro de un AuthProvider");return t},yJ=_.lazy(()=>mr(()=>import("./Netflix-D9Y2c5Ye.js"),[])),vJ=_.lazy(()=>mr(()=>import("./Disney-Dd7pM5xE.js"),[])),bJ=_.lazy(()=>mr(()=>import("./Max-UR0TpHix.js"),[])),wJ=_.lazy(()=>mr(()=>import("./Spotify-CPyG-msG.js"),[])),_J=_.lazy(()=>mr(()=>import("./PrimeVideo-ZNujGS8O.js"),[])),EJ=_.lazy(()=>mr(()=>import("./Vix-Bf2ill1h.js"),[])),TJ=_.lazy(()=>mr(()=>import("./canva-B0IziZ3d.js"),[])),kJ=_.lazy(()=>mr(()=>import("./ChatGPT-JTFSYIWw.js"),[])),NJ=_.lazy(()=>mr(()=>import("./Crunchyroll-j8ycKH2l.js"),[])),SJ=_.lazy(()=>mr(()=>import("./RedesSociales-DkSydVtI.js"),[])),AJ=_.lazy(()=>mr(()=>import("./AppleMusic-duu8zbWC.js"),[])),CJ=_.lazy(()=>mr(()=>import("./AppleTv-BRyUxCb_.js"),[])),jJ=_.lazy(()=>mr(()=>import("./IPTV-Bjtjot8T.js"),[])),IJ=_.lazy(()=>mr(()=>import("./FlujoTv-B4DtX690.js"),[])),PJ=_.lazy(()=>mr(()=>import("./VikiRakuten-C7Kgq_N_.js"),[])),RJ=_.lazy(()=>mr(()=>import("./Pornhub-CdvGPHz6.js"),[])),DJ=_.lazy(()=>mr(()=>import("./Paramount-fc9CmUai.js"),[])),OJ=_.lazy(()=>mr(()=>import("./Licencias-D1NuOhqO.js"),[])),FJ=_.lazy(()=>mr(()=>import("./Capcut-BKO87OXc.js"),[])),LJ=_.lazy(()=>mr(()=>import("./Duolingo-D2JbDI34.js"),[])),MJ=_.lazy(()=>mr(()=>import("./Dgo-CzUU4_YB.js"),[])),$J=_.lazy(()=>mr(()=>import("./LigaMax-Cn5kPzXb.js"),[])),VJ=_.lazy(()=>mr(()=>import("./MovistarPlay-XKdip4_l.js"),[])),BJ=_.lazy(()=>mr(()=>import("./Youtube-DH9f5UuM.js"),[])),UJ=_.lazy(()=>mr(()=>import("./Deezer-B3CK1yG7.js"),[])),zJ=_.lazy(()=>mr(()=>import("./Tidal-B4Ivf-e9.js"),[])),HJ=_.lazy(()=>mr(()=>import("./Vpn-hxr2zZJJ.js"),[])),WJ=_.lazy(()=>mr(()=>import("./WinTv-DKIopMy-.js"),[])),qJ=_.lazy(()=>mr(()=>import("./Buscapersonas-qbswzZW2.js"),[]));_.lazy(()=>mr(()=>import("./Maintenance-Dm_QOs5C.js"),[]));const GJ=_.memo(()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Página no encontrada"}),i.jsx("a",{href:"/",className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600",children:"Volver al inicio"})]})})),nh=_.memo(()=>i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:i.jsx("div",{className:"text-xl",children:"Cargando..."})})),xr=_.memo(()=>i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg",children:"Cargando categoría..."})}));_.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,loading:n}=rh();return n?i.jsx(nh,{}):r?t:i.jsx(A0,{to:e,replace:!0})});const KJ=_.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,role:n,loading:s}=rh();return s?i.jsx(nh,{}):r&&n==="user"?t:i.jsx(A0,{to:e,replace:!0})}),XJ=_.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,role:n,loading:s}=rh();return s?i.jsx(nh,{}):r&&n==="admin"?t:i.jsx(A0,{to:e,replace:!0})}),YJ=_.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,role:n,loading:s}=rh();return s?i.jsx(nh,{}):r&&n==="affiliate"?t:i.jsx(A0,{to:e,replace:!0})}),QJ=_.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,role:n,loading:s}=rh();return s?i.jsx(nh,{}):r&&n==="provider"?t:i.jsx(A0,{to:e,replace:!0})}),JJ=_.memo(()=>i.jsx(pI,{children:i.jsxs(i.Fragment,{children:[i.jsx(zt,{path:"/",element:i.jsx(r6,{})}),i.jsx(zt,{path:"/login",element:i.jsx(rH,{})}),i.jsx(zt,{path:"/register",element:i.jsx(nH,{})}),i.jsx(zt,{path:"/forgot-password",element:i.jsx(sH,{})}),i.jsx(zt,{path:"/dashboard/user",element:i.jsx(KJ,{children:i.jsx(WA,{})})}),i.jsx(zt,{path:"/dashboard/affiliate",element:i.jsx(YJ,{children:i.jsx(tJ,{})})}),i.jsx(zt,{path:"/dashboard/provider",element:i.jsx(QJ,{children:i.jsx(YA,{})})}),i.jsx(zt,{path:"/dashboard/admin",element:i.jsx(XJ,{children:i.jsx(lC,{})})}),i.jsx(zt,{path:"/netflix",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(yJ,{})})}),i.jsx(zt,{path:"/disney",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(vJ,{})})}),i.jsx(zt,{path:"/max",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(bJ,{})})}),i.jsx(zt,{path:"/spotify",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(wJ,{})})}),i.jsx(zt,{path:"/primevideo",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(_J,{})})}),i.jsx(zt,{path:"/vix",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(EJ,{})})}),i.jsx(zt,{path:"/canva",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(TJ,{})})}),i.jsx(zt,{path:"/chatgpt",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(kJ,{})})}),i.jsx(zt,{path:"/crunchyroll",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(NJ,{})})}),i.jsx(zt,{path:"/redessociales",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(SJ,{})})}),i.jsx(zt,{path:"/applemusic",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(AJ,{})})}),i.jsx(zt,{path:"/appletv",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(CJ,{})})}),i.jsx(zt,{path:"/iptv",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(jJ,{})})}),i.jsx(zt,{path:"/flujotv",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(IJ,{})})}),i.jsx(zt,{path:"/vikirakuten",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(PJ,{})})}),i.jsx(zt,{path:"/pornhub",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(RJ,{})})}),i.jsx(zt,{path:"/paramount",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(DJ,{})})}),i.jsx(zt,{path:"/licencias",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(OJ,{})})}),i.jsx(zt,{path:"/capcut",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(FJ,{})})}),i.jsx(zt,{path:"/duolingo",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(LJ,{})})}),i.jsx(zt,{path:"/dgo",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(MJ,{})})}),i.jsx(zt,{path:"/ligamax",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx($J,{})})}),i.jsx(zt,{path:"/movistarplay",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(VJ,{})})}),i.jsx(zt,{path:"/youtube",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(BJ,{})})}),i.jsx(zt,{path:"/deezer",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(UJ,{})})}),i.jsx(zt,{path:"/tidal",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(zJ,{})})}),i.jsx(zt,{path:"/vpn",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(HJ,{})})}),i.jsx(zt,{path:"/wintv",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(WJ,{})})}),i.jsx(zt,{path:"/buscapersonas",element:i.jsx(_.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(qJ,{})})}),i.jsx(zt,{path:"*",element:i.jsx(GJ,{})})]})})),ZJ=Tj.createRoot(document.getElementById("root"));ZJ.render(i.jsx(Ia.StrictMode,{children:i.jsx(LI,{children:i.jsx(xJ,{children:i.jsx(_.Suspense,{fallback:i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:i.jsx("div",{className:"text-xl",children:"Inicializando aplicación..."})}),children:i.jsx(JJ,{})})})})}));export{iv as $,la as A,Z as B,tc as C,vu as D,Zl as E,Tu as F,Jl as G,Ml as H,gz as I,QU as J,Vt as K,jp as L,wu as M,_s as N,Jy as O,Zy as P,Bn as Q,ec as R,yz as S,oz as T,fz as U,Ho as V,Am as W,Ql as X,Yl as Y,Xl as Z,ei as _,hr as a,rn as a0,G as a1,cZ as a2,Ns as a3,Pp as a4,Sy as b,kt as c,je as d,ht as e,z0 as f,tn as g,nZ as h,iZ as i,i as j,uZ as k,dZ as l,lZ as m,rZ as n,Kl as o,oZ as p,tr as q,_ as r,wr as s,aZ as t,Ma as u,sZ as v,br as w,ib as x,oi as y,mz as z};
